    TEST(gbcemu, opcode_cb_b5) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB B5 0000
        gbc.setState(0xc40, 0xb6c5, 0xa200, 0xa461, 0xbfc1, 0xbfbf, 0x1, 0x1);
        gbc.writeMem(0xc40, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb6c5);
        EXPECT(gbc.pc(), 0xc42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0001
        gbc.setState(0x76ac, 0x76f9, 0xdbb0, 0x62f8, 0xa70d, 0x8b74, 0x1, 0x1);
        gbc.writeMem(0x76ac, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x76f9);
        EXPECT(gbc.pc(), 0x76ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0002
        gbc.setState(0xab15, 0x5049, 0x3630, 0x4033, 0x1f18, 0xefa6, 0x1, 0x1);
        gbc.writeMem(0xab15, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5049);
        EXPECT(gbc.pc(), 0xab17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab15), 0xcb);
        EXPECT(gbc.readMem(0xab16), 0xb5);
        // CB B5 0003
        gbc.setState(0xbb7c, 0xb512, 0xece0, 0xf601, 0x11fe, 0x281, 0x1, 0x0);
        gbc.writeMem(0xbb7c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb512);
        EXPECT(gbc.pc(), 0xbb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb7c), 0xcb);
        EXPECT(gbc.readMem(0xbb7d), 0xb5);
        // CB B5 0004
        gbc.setState(0x3dd3, 0xc341, 0x1070, 0xc165, 0x8da6, 0x7a97, 0x1, 0x0);
        gbc.writeMem(0x3dd3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc341);
        EXPECT(gbc.pc(), 0x3dd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0005
        gbc.setState(0x65e5, 0x1ef2, 0x77f0, 0x685, 0xff79, 0x7253, 0x0, 0x0);
        gbc.writeMem(0x65e5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1ef2);
        EXPECT(gbc.pc(), 0x65e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0006
        gbc.setState(0x8327, 0xe509, 0x7480, 0xaaea, 0xc929, 0x50e2, 0x1, 0x0);
        gbc.writeMem(0x8327, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe509);
        EXPECT(gbc.pc(), 0x8329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8327), 0xcb);
        EXPECT(gbc.readMem(0x8328), 0xb5);
        // CB B5 0007
        gbc.setState(0x9352, 0xa2d8, 0xea50, 0xd2ae, 0x4eb8, 0xa35c, 0x0, 0x1);
        gbc.writeMem(0x9352, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa2d8);
        EXPECT(gbc.pc(), 0x9354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9352), 0xcb);
        EXPECT(gbc.readMem(0x9353), 0xb5);
        // CB B5 0008
        gbc.setState(0xafd8, 0xf3c2, 0xc0, 0xe33f, 0x77d9, 0x18eb, 0x0, 0x1);
        gbc.writeMem(0xafd8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf3c2);
        EXPECT(gbc.pc(), 0xafda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd8), 0xcb);
        EXPECT(gbc.readMem(0xafd9), 0xb5);
        // CB B5 0009
        gbc.setState(0x1171, 0xc857, 0xcac0, 0xe721, 0xdcaa, 0x1323, 0x1, 0x1);
        gbc.writeMem(0x1171, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc857);
        EXPECT(gbc.pc(), 0x1173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 000A
        gbc.setState(0x811a, 0xa2dc, 0x84a0, 0x7da, 0xc306, 0x20a1, 0x0, 0x0);
        gbc.writeMem(0x811a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa2dc);
        EXPECT(gbc.pc(), 0x811c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x811a), 0xcb);
        EXPECT(gbc.readMem(0x811b), 0xb5);
        // CB B5 000C
        gbc.setState(0x6508, 0x5714, 0xb260, 0xbd8b, 0x2bc4, 0xcf70, 0x1, 0x1);
        gbc.writeMem(0x6508, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5714);
        EXPECT(gbc.pc(), 0x650a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 000D
        gbc.setState(0x5feb, 0x25ac, 0x1ad0, 0xa946, 0x7d10, 0x230a, 0x0, 0x0);
        gbc.writeMem(0x5feb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x25ac);
        EXPECT(gbc.pc(), 0x5fed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 000E
        gbc.setState(0x3f13, 0xd53f, 0xa60, 0xc44b, 0x831c, 0xd2ac, 0x0, 0x0);
        gbc.writeMem(0x3f13, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd53f);
        EXPECT(gbc.pc(), 0x3f15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 000F
        gbc.setState(0x348a, 0xa07b, 0x52c0, 0x50a0, 0x2384, 0x4266, 0x1, 0x0);
        gbc.writeMem(0x348a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa07b);
        EXPECT(gbc.pc(), 0x348c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0010
        gbc.setState(0x2a7c, 0x58a6, 0xc6f0, 0x9824, 0x1828, 0x30b1, 0x1, 0x1);
        gbc.writeMem(0x2a7c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x58a6);
        EXPECT(gbc.pc(), 0x2a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0011
        gbc.setState(0x4270, 0x818a, 0x7b20, 0x1b78, 0x3039, 0x10b3, 0x1, 0x0);
        gbc.writeMem(0x4270, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x818a);
        EXPECT(gbc.pc(), 0x4272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0012
        gbc.setState(0x89d, 0xe52f, 0x7e70, 0x33fe, 0xa2f, 0x8522, 0x0, 0x0);
        gbc.writeMem(0x89d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe52f);
        EXPECT(gbc.pc(), 0x89f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0013
        gbc.setState(0xdae7, 0x9164, 0xe480, 0x83c0, 0x54e2, 0xde98, 0x0, 0x0);
        gbc.writeMem(0xdae7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9164);
        EXPECT(gbc.pc(), 0xdae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae7), 0xcb);
        EXPECT(gbc.readMem(0xdae8), 0xb5);
        // CB B5 0014
        gbc.setState(0x959e, 0x2621, 0xee0, 0x9e73, 0xc9f1, 0x9f8, 0x0, 0x0);
        gbc.writeMem(0x959e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2621);
        EXPECT(gbc.pc(), 0x95a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x959e), 0xcb);
        EXPECT(gbc.readMem(0x959f), 0xb5);
        // CB B5 0015
        gbc.setState(0xe648, 0x6eea, 0xd220, 0x7100, 0x6f02, 0x471c, 0x1, 0x1);
        gbc.writeMem(0xe648, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6eea);
        EXPECT(gbc.pc(), 0xe64a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe648), 0xcb);
        EXPECT(gbc.readMem(0xe649), 0xb5);
        // CB B5 0016
        gbc.setState(0x9aff, 0x5b0, 0xf3d0, 0x7c6d, 0x5fa9, 0xf761, 0x1, 0x0);
        gbc.writeMem(0x9aff, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5b0);
        EXPECT(gbc.pc(), 0x9b01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aff), 0xcb);
        EXPECT(gbc.readMem(0x9b00), 0xb5);
        // CB B5 0017
        gbc.setState(0x439c, 0x72cf, 0x2f60, 0xa222, 0x4a49, 0x36a7, 0x1, 0x0);
        gbc.writeMem(0x439c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x72cf);
        EXPECT(gbc.pc(), 0x439e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0018
        gbc.setState(0xee4d, 0x538d, 0x9120, 0x36d3, 0x4f60, 0xb3bd, 0x0, 0x1);
        gbc.writeMem(0xee4d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x538d);
        EXPECT(gbc.pc(), 0xee4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee4d), 0xcb);
        EXPECT(gbc.readMem(0xee4e), 0xb5);
        // CB B5 0019
        gbc.setState(0x2d55, 0x7cb1, 0x4d50, 0xda5, 0x82cb, 0x812a, 0x0, 0x0);
        gbc.writeMem(0x2d55, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7cb1);
        EXPECT(gbc.pc(), 0x2d57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 001A
        gbc.setState(0x4b06, 0xf7c, 0xe4d0, 0xecc8, 0xf08d, 0x971a, 0x0, 0x0);
        gbc.writeMem(0x4b06, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf7c);
        EXPECT(gbc.pc(), 0x4b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 001B
        gbc.setState(0x2034, 0xd1be, 0x87a0, 0xf64a, 0x247c, 0xa336, 0x1, 0x0);
        gbc.writeMem(0x2034, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd1be);
        EXPECT(gbc.pc(), 0x2036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 001C
        gbc.setState(0xa900, 0x344b, 0x2dd0, 0x3395, 0x9ace, 0xab57, 0x1, 0x0);
        gbc.writeMem(0xa900, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x344b);
        EXPECT(gbc.pc(), 0xa902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa900), 0xcb);
        EXPECT(gbc.readMem(0xa901), 0xb5);
        // CB B5 001D
        gbc.setState(0x53ed, 0x61f0, 0xda90, 0x410f, 0x5097, 0x9fc8, 0x0, 0x1);
        gbc.writeMem(0x53ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x61f0);
        EXPECT(gbc.pc(), 0x53ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 001E
        gbc.setState(0x6eb0, 0x1f40, 0xc960, 0x4aa9, 0x80c2, 0xad8, 0x0, 0x1);
        gbc.writeMem(0x6eb0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1f40);
        EXPECT(gbc.pc(), 0x6eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 001F
        gbc.setState(0x9527, 0xb792, 0x29c0, 0xc6d6, 0xa779, 0x5ef0, 0x0, 0x1);
        gbc.writeMem(0x9527, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb792);
        EXPECT(gbc.pc(), 0x9529);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9527), 0xcb);
        EXPECT(gbc.readMem(0x9528), 0xb5);
        // CB B5 0020
        gbc.setState(0xe260, 0xc1de, 0x2490, 0xb3ef, 0x5524, 0x80c5, 0x1, 0x0);
        gbc.writeMem(0xe260, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc1de);
        EXPECT(gbc.pc(), 0xe262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe260), 0xcb);
        EXPECT(gbc.readMem(0xe261), 0xb5);
        // CB B5 0022
        gbc.setState(0x34b6, 0x50fb, 0x5ff0, 0xbd55, 0xa285, 0xf23, 0x1, 0x0);
        gbc.writeMem(0x34b6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x50fb);
        EXPECT(gbc.pc(), 0x34b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0023
        gbc.setState(0x897b, 0xeb95, 0x4bd0, 0x14bd, 0x2945, 0xb6f9, 0x0, 0x0);
        gbc.writeMem(0x897b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xeb95);
        EXPECT(gbc.pc(), 0x897d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x897b), 0xcb);
        EXPECT(gbc.readMem(0x897c), 0xb5);
        // CB B5 0024
        gbc.setState(0xa78a, 0x55c8, 0x79a0, 0x60db, 0xd805, 0xe301, 0x1, 0x1);
        gbc.writeMem(0xa78a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x55c8);
        EXPECT(gbc.pc(), 0xa78c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa78a), 0xcb);
        EXPECT(gbc.readMem(0xa78b), 0xb5);
        // CB B5 0025
        gbc.setState(0x21a9, 0xf213, 0x5cd0, 0xaa8d, 0xa84, 0x87f9, 0x1, 0x0);
        gbc.writeMem(0x21a9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf213);
        EXPECT(gbc.pc(), 0x21ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0026
        gbc.setState(0x5728, 0xfcd5, 0x9f0, 0x53be, 0xf435, 0xadb9, 0x0, 0x0);
        gbc.writeMem(0x5728, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xfcd5);
        EXPECT(gbc.pc(), 0x572a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0027
        gbc.setState(0xb7bf, 0xb243, 0x24f0, 0x7ca, 0x870e, 0x47b5, 0x0, 0x1);
        gbc.writeMem(0xb7bf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb243);
        EXPECT(gbc.pc(), 0xb7c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7bf), 0xcb);
        EXPECT(gbc.readMem(0xb7c0), 0xb5);
        // CB B5 0028
        gbc.setState(0x45bd, 0xcafb, 0x9340, 0xe2e0, 0xbf9a, 0xc937, 0x1, 0x1);
        gbc.writeMem(0x45bd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xcafb);
        EXPECT(gbc.pc(), 0x45bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0029
        gbc.setState(0x3a51, 0xe00, 0x7a60, 0x24d1, 0x8e6a, 0x8155, 0x1, 0x1);
        gbc.writeMem(0x3a51, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe00);
        EXPECT(gbc.pc(), 0x3a53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 002A
        gbc.setState(0xcc59, 0x1432, 0x9d0, 0x3cfa, 0x6c78, 0xd8c1, 0x1, 0x0);
        gbc.writeMem(0xcc59, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1432);
        EXPECT(gbc.pc(), 0xcc5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc59), 0xcb);
        EXPECT(gbc.readMem(0xcc5a), 0xb5);
        // CB B5 002B
        gbc.setState(0x125e, 0xff5f, 0x1190, 0x8d5b, 0x7a90, 0x263b, 0x0, 0x1);
        gbc.writeMem(0x125e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xff5f);
        EXPECT(gbc.pc(), 0x1260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 002C
        gbc.setState(0xefc4, 0x5da4, 0x8bd0, 0x8d19, 0x271e, 0x45f, 0x0, 0x1);
        gbc.writeMem(0xefc4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5da4);
        EXPECT(gbc.pc(), 0xefc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefc4), 0xcb);
        EXPECT(gbc.readMem(0xefc5), 0xb5);
        // CB B5 002E
        gbc.setState(0xe73f, 0x6048, 0x9380, 0x6f5a, 0xf8e9, 0x8c32, 0x0, 0x0);
        gbc.writeMem(0xe73f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6048);
        EXPECT(gbc.pc(), 0xe741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe73f), 0xcb);
        EXPECT(gbc.readMem(0xe740), 0xb5);
        // CB B5 002F
        gbc.setState(0x38a8, 0x4797, 0xafc0, 0x99f4, 0x2304, 0x4cd2, 0x1, 0x0);
        gbc.writeMem(0x38a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4797);
        EXPECT(gbc.pc(), 0x38aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0030
        gbc.setState(0x7fc, 0x4076, 0x610, 0x68b9, 0x5ee1, 0x9eae, 0x1, 0x0);
        gbc.writeMem(0x7fc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x4076);
        EXPECT(gbc.pc(), 0x7fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0032
        gbc.setState(0xa10c, 0xa3ca, 0x310, 0xb0e9, 0xa56c, 0x1e1e, 0x1, 0x1);
        gbc.writeMem(0xa10c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa3ca);
        EXPECT(gbc.pc(), 0xa10e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa10c), 0xcb);
        EXPECT(gbc.readMem(0xa10d), 0xb5);
        // CB B5 0034
        gbc.setState(0xc231, 0x6cdf, 0x90f0, 0xd1ec, 0x65b5, 0xb5c, 0x0, 0x1);
        gbc.writeMem(0xc231, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6cdf);
        EXPECT(gbc.pc(), 0xc233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc231), 0xcb);
        EXPECT(gbc.readMem(0xc232), 0xb5);
        // CB B5 0035
        gbc.setState(0x8f37, 0x2347, 0xd8a0, 0xcf42, 0x2418, 0x7b4, 0x1, 0x1);
        gbc.writeMem(0x8f37, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2347);
        EXPECT(gbc.pc(), 0x8f39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f37), 0xcb);
        EXPECT(gbc.readMem(0x8f38), 0xb5);
        // CB B5 0036
        gbc.setState(0xae82, 0x59a, 0xe840, 0xf5bf, 0x9f59, 0xd97, 0x1, 0x1);
        gbc.writeMem(0xae82, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x59a);
        EXPECT(gbc.pc(), 0xae84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae82), 0xcb);
        EXPECT(gbc.readMem(0xae83), 0xb5);
        // CB B5 0037
        gbc.setState(0xcbb6, 0xed37, 0xffa0, 0xb45d, 0x5938, 0x6444, 0x1, 0x1);
        gbc.writeMem(0xcbb6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xed37);
        EXPECT(gbc.pc(), 0xcbb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbb6), 0xcb);
        EXPECT(gbc.readMem(0xcbb7), 0xb5);
        // CB B5 0038
        gbc.setState(0x3ec6, 0xc8f7, 0x7220, 0x549e, 0xef6b, 0xa53a, 0x0, 0x1);
        gbc.writeMem(0x3ec6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc8f7);
        EXPECT(gbc.pc(), 0x3ec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0039
        gbc.setState(0x3b0d, 0xb65d, 0xe400, 0x372f, 0x1888, 0x234e, 0x1, 0x0);
        gbc.writeMem(0x3b0d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb65d);
        EXPECT(gbc.pc(), 0x3b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 003A
        gbc.setState(0x6cc7, 0x424, 0xa510, 0xef42, 0x3d5, 0xea6b, 0x0, 0x1);
        gbc.writeMem(0x6cc7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x424);
        EXPECT(gbc.pc(), 0x6cc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 003C
        gbc.setState(0xdba6, 0xba1f, 0xa9a0, 0xed7b, 0xf919, 0xd9e8, 0x1, 0x1);
        gbc.writeMem(0xdba6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xba1f);
        EXPECT(gbc.pc(), 0xdba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdba6), 0xcb);
        EXPECT(gbc.readMem(0xdba7), 0xb5);
        // CB B5 003D
        gbc.setState(0xddd9, 0xf21e, 0x46a0, 0x7b9, 0x71f7, 0x9ac5, 0x1, 0x1);
        gbc.writeMem(0xddd9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf21e);
        EXPECT(gbc.pc(), 0xdddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd9), 0xcb);
        EXPECT(gbc.readMem(0xddda), 0xb5);
        // CB B5 003E
        gbc.setState(0x23cb, 0xe398, 0x5e90, 0x237d, 0xa386, 0x679d, 0x1, 0x1);
        gbc.writeMem(0x23cb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xe398);
        EXPECT(gbc.pc(), 0x23cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 003F
        gbc.setState(0x336f, 0xed73, 0xfa20, 0x5b07, 0x13d0, 0x7b86, 0x1, 0x1);
        gbc.writeMem(0x336f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xed73);
        EXPECT(gbc.pc(), 0x3371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0040
        gbc.setState(0x6006, 0x8a30, 0x6980, 0x6e65, 0xf172, 0x6136, 0x1, 0x0);
        gbc.writeMem(0x6006, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8a30);
        EXPECT(gbc.pc(), 0x6008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0041
        gbc.setState(0x98c2, 0x1b05, 0x9d50, 0x757f, 0x7cd4, 0xbb7d, 0x0, 0x1);
        gbc.writeMem(0x98c2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1b05);
        EXPECT(gbc.pc(), 0x98c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98c2), 0xcb);
        EXPECT(gbc.readMem(0x98c3), 0xb5);
        // CB B5 0042
        gbc.setState(0x4270, 0xab17, 0x2b60, 0x5401, 0x32b7, 0xde7, 0x1, 0x1);
        gbc.writeMem(0x4270, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xab17);
        EXPECT(gbc.pc(), 0x4272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0043
        gbc.setState(0x40a8, 0x931e, 0x92d0, 0xff7e, 0x7481, 0xf3d1, 0x1, 0x0);
        gbc.writeMem(0x40a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x931e);
        EXPECT(gbc.pc(), 0x40aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0044
        gbc.setState(0xb115, 0x65b1, 0xb900, 0x4786, 0x4746, 0x5221, 0x0, 0x0);
        gbc.writeMem(0xb115, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x65b1);
        EXPECT(gbc.pc(), 0xb117);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb115), 0xcb);
        EXPECT(gbc.readMem(0xb116), 0xb5);
        // CB B5 0045
        gbc.setState(0x832d, 0x825f, 0x3f40, 0xa2fa, 0x58f8, 0xaf0f, 0x1, 0x1);
        gbc.writeMem(0x832d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x825f);
        EXPECT(gbc.pc(), 0x832f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x832d), 0xcb);
        EXPECT(gbc.readMem(0x832e), 0xb5);
        // CB B5 0046
        gbc.setState(0xe815, 0x7c1e, 0xfc00, 0xe61c, 0x820d, 0xfa56, 0x1, 0x0);
        gbc.writeMem(0xe815, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7c1e);
        EXPECT(gbc.pc(), 0xe817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe815), 0xcb);
        EXPECT(gbc.readMem(0xe816), 0xb5);
        // CB B5 0047
        gbc.setState(0x379f, 0x48d6, 0x9870, 0xafaa, 0x3149, 0xe027, 0x1, 0x0);
        gbc.writeMem(0x379f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x48d6);
        EXPECT(gbc.pc(), 0x37a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0048
        gbc.setState(0x2415, 0xbd93, 0x5220, 0x4684, 0x4061, 0x768f, 0x0, 0x0);
        gbc.writeMem(0x2415, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xbd93);
        EXPECT(gbc.pc(), 0x2417);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0049
        gbc.setState(0xd935, 0xc2fa, 0x1110, 0x53b6, 0xdb4c, 0xa202, 0x0, 0x0);
        gbc.writeMem(0xd935, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc2fa);
        EXPECT(gbc.pc(), 0xd937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd935), 0xcb);
        EXPECT(gbc.readMem(0xd936), 0xb5);
        // CB B5 004A
        gbc.setState(0x9ffb, 0x96e8, 0xf5c0, 0xbfa3, 0xd392, 0xac76, 0x0, 0x1);
        gbc.writeMem(0x9ffb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x96e8);
        EXPECT(gbc.pc(), 0x9ffd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ffb), 0xcb);
        EXPECT(gbc.readMem(0x9ffc), 0xb5);
        // CB B5 004B
        gbc.setState(0xa694, 0xccc7, 0xf010, 0xdbae, 0x70f2, 0x31bc, 0x1, 0x1);
        gbc.writeMem(0xa694, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xccc7);
        EXPECT(gbc.pc(), 0xa696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa694), 0xcb);
        EXPECT(gbc.readMem(0xa695), 0xb5);
        // CB B5 004C
        gbc.setState(0xd726, 0x5aff, 0x55b0, 0xf689, 0xcf68, 0x3ff3, 0x0, 0x1);
        gbc.writeMem(0xd726, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5aff);
        EXPECT(gbc.pc(), 0xd728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd726), 0xcb);
        EXPECT(gbc.readMem(0xd727), 0xb5);
        // CB B5 004D
        gbc.setState(0x1362, 0x427, 0xb7d0, 0x4be, 0x5e20, 0x5619, 0x0, 0x1);
        gbc.writeMem(0x1362, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x427);
        EXPECT(gbc.pc(), 0x1364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 004E
        gbc.setState(0xf22, 0x2709, 0xbdf0, 0x1eca, 0x3c6e, 0xa1b1, 0x0, 0x1);
        gbc.writeMem(0xf22, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2709);
        EXPECT(gbc.pc(), 0xf24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 004F
        gbc.setState(0x6e28, 0x24f2, 0xabc0, 0xbc57, 0xd2fc, 0xee14, 0x1, 0x0);
        gbc.writeMem(0x6e28, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x24f2);
        EXPECT(gbc.pc(), 0x6e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0050
        gbc.setState(0xda9c, 0x499a, 0x2760, 0x662e, 0x42a2, 0x97d0, 0x0, 0x1);
        gbc.writeMem(0xda9c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x499a);
        EXPECT(gbc.pc(), 0xda9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda9c), 0xcb);
        EXPECT(gbc.readMem(0xda9d), 0xb5);
        // CB B5 0051
        gbc.setState(0xda16, 0xfaec, 0x1bc0, 0xf379, 0xdfe8, 0xcdcc, 0x1, 0x1);
        gbc.writeMem(0xda16, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfaec);
        EXPECT(gbc.pc(), 0xda18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda16), 0xcb);
        EXPECT(gbc.readMem(0xda17), 0xb5);
        // CB B5 0053
        gbc.setState(0x2b64, 0xde43, 0x3710, 0x334c, 0x1256, 0x7050, 0x0, 0x0);
        gbc.writeMem(0x2b64, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xde43);
        EXPECT(gbc.pc(), 0x2b66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0054
        gbc.setState(0x840d, 0x4827, 0xc580, 0xda96, 0x68d9, 0x3895, 0x0, 0x1);
        gbc.writeMem(0x840d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4827);
        EXPECT(gbc.pc(), 0x840f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840d), 0xcb);
        EXPECT(gbc.readMem(0x840e), 0xb5);
        // CB B5 0055
        gbc.setState(0xecbd, 0xb0ed, 0xa720, 0x51ad, 0x9d1e, 0x69ad, 0x1, 0x0);
        gbc.writeMem(0xecbd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb0ed);
        EXPECT(gbc.pc(), 0xecbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecbd), 0xcb);
        EXPECT(gbc.readMem(0xecbe), 0xb5);
        // CB B5 0056
        gbc.setState(0x6451, 0x4686, 0xb270, 0x7a6e, 0x8f53, 0x861a, 0x0, 0x0);
        gbc.writeMem(0x6451, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4686);
        EXPECT(gbc.pc(), 0x6453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0057
        gbc.setState(0x454c, 0x8915, 0x4460, 0x3dd8, 0x53a8, 0xa29f, 0x1, 0x1);
        gbc.writeMem(0x454c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8915);
        EXPECT(gbc.pc(), 0x454e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0058
        gbc.setState(0x6a13, 0xb002, 0x5d10, 0x6e18, 0xac90, 0x7487, 0x1, 0x1);
        gbc.writeMem(0x6a13, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb002);
        EXPECT(gbc.pc(), 0x6a15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0059
        gbc.setState(0x479c, 0x34fd, 0x55c0, 0x5a77, 0xb3ee, 0xb16d, 0x1, 0x0);
        gbc.writeMem(0x479c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x34fd);
        EXPECT(gbc.pc(), 0x479e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 005A
        gbc.setState(0x7915, 0xacc6, 0x2d40, 0x76db, 0x150d, 0x73af, 0x0, 0x0);
        gbc.writeMem(0x7915, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xacc6);
        EXPECT(gbc.pc(), 0x7917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 005B
        gbc.setState(0x46ea, 0xabc2, 0x53d0, 0x6f47, 0xef28, 0x6ecd, 0x0, 0x1);
        gbc.writeMem(0x46ea, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xabc2);
        EXPECT(gbc.pc(), 0x46ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 005C
        gbc.setState(0x571e, 0xb5b4, 0xf70, 0xc6bf, 0xfe39, 0x4a5b, 0x1, 0x0);
        gbc.writeMem(0x571e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb5b4);
        EXPECT(gbc.pc(), 0x5720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 005D
        gbc.setState(0xf84, 0x4532, 0x6320, 0xcb8a, 0x9b3e, 0xdaa0, 0x1, 0x1);
        gbc.writeMem(0xf84, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4532);
        EXPECT(gbc.pc(), 0xf86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 005E
        gbc.setState(0x3824, 0x7f91, 0x44a0, 0x2bd6, 0x197c, 0x35ac, 0x0, 0x1);
        gbc.writeMem(0x3824, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x7f91);
        EXPECT(gbc.pc(), 0x3826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 005F
        gbc.setState(0x640b, 0x12c1, 0xbbb0, 0xa32c, 0xdc2e, 0xc421, 0x1, 0x1);
        gbc.writeMem(0x640b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x12c1);
        EXPECT(gbc.pc(), 0x640d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0060
        gbc.setState(0x5cc5, 0xcd9c, 0x1bb0, 0xaad0, 0x36ad, 0x4ac4, 0x1, 0x0);
        gbc.writeMem(0x5cc5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xcd9c);
        EXPECT(gbc.pc(), 0x5cc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0061
        gbc.setState(0x36e2, 0x7a73, 0x16c0, 0x3682, 0x5bb8, 0x6ea2, 0x1, 0x0);
        gbc.writeMem(0x36e2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7a73);
        EXPECT(gbc.pc(), 0x36e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0063
        gbc.setState(0x46b9, 0x36, 0x5290, 0xa3f8, 0x6af0, 0x6e86, 0x1, 0x0);
        gbc.writeMem(0x46b9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x36);
        EXPECT(gbc.pc(), 0x46bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0064
        gbc.setState(0x88f2, 0x3e97, 0xc970, 0x287c, 0x3f0d, 0x463d, 0x0, 0x0);
        gbc.writeMem(0x88f2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3e97);
        EXPECT(gbc.pc(), 0x88f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f2), 0xcb);
        EXPECT(gbc.readMem(0x88f3), 0xb5);
        // CB B5 0065
        gbc.setState(0x8862, 0xa556, 0xbac0, 0x2310, 0x3500, 0xaa03, 0x0, 0x1);
        gbc.writeMem(0x8862, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa556);
        EXPECT(gbc.pc(), 0x8864);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8862), 0xcb);
        EXPECT(gbc.readMem(0x8863), 0xb5);
        // CB B5 0066
        gbc.setState(0x1b4b, 0x2b5d, 0xeda0, 0x5870, 0x2f28, 0x24ef, 0x0, 0x1);
        gbc.writeMem(0x1b4b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2b5d);
        EXPECT(gbc.pc(), 0x1b4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0067
        gbc.setState(0xd898, 0x5117, 0x61e0, 0x5178, 0xe4d7, 0x4917, 0x0, 0x1);
        gbc.writeMem(0xd898, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5117);
        EXPECT(gbc.pc(), 0xd89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd898), 0xcb);
        EXPECT(gbc.readMem(0xd899), 0xb5);
        // CB B5 0068
        gbc.setState(0xe012, 0x13d, 0xa3e0, 0xb7e1, 0xa84a, 0x4577, 0x1, 0x0);
        gbc.writeMem(0xe012, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x13d);
        EXPECT(gbc.pc(), 0xe014);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe012), 0xcb);
        EXPECT(gbc.readMem(0xe013), 0xb5);
        // CB B5 0069
        gbc.setState(0x9a68, 0xb601, 0x3e10, 0x227e, 0xb10, 0xf4dc, 0x1, 0x1);
        gbc.writeMem(0x9a68, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb601);
        EXPECT(gbc.pc(), 0x9a6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a68), 0xcb);
        EXPECT(gbc.readMem(0x9a69), 0xb5);
        // CB B5 006A
        gbc.setState(0xcebb, 0x8bc6, 0x23a0, 0x82ef, 0x94e1, 0x50ec, 0x0, 0x0);
        gbc.writeMem(0xcebb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8bc6);
        EXPECT(gbc.pc(), 0xcebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcebb), 0xcb);
        EXPECT(gbc.readMem(0xcebc), 0xb5);
        // CB B5 006B
        gbc.setState(0x2a97, 0xdc28, 0xcef0, 0xccdd, 0x57cf, 0xa300, 0x1, 0x1);
        gbc.writeMem(0x2a97, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdc28);
        EXPECT(gbc.pc(), 0x2a99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 006C
        gbc.setState(0xc85e, 0xcdbd, 0xf440, 0x90aa, 0x7206, 0x357a, 0x0, 0x1);
        gbc.writeMem(0xc85e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcdbd);
        EXPECT(gbc.pc(), 0xc860);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc85e), 0xcb);
        EXPECT(gbc.readMem(0xc85f), 0xb5);
        // CB B5 006D
        gbc.setState(0x750e, 0xd125, 0x320, 0x66e0, 0xae44, 0x4fbd, 0x0, 0x1);
        gbc.writeMem(0x750e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd125);
        EXPECT(gbc.pc(), 0x7510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 006E
        gbc.setState(0xa344, 0xe964, 0xba50, 0xf081, 0x2807, 0xb32b, 0x0, 0x1);
        gbc.writeMem(0xa344, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xe964);
        EXPECT(gbc.pc(), 0xa346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa344), 0xcb);
        EXPECT(gbc.readMem(0xa345), 0xb5);
        // CB B5 006F
        gbc.setState(0x9f13, 0xfe18, 0xc180, 0x8bae, 0xd3a2, 0xccdf, 0x1, 0x0);
        gbc.writeMem(0x9f13, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xfe18);
        EXPECT(gbc.pc(), 0x9f15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f13), 0xcb);
        EXPECT(gbc.readMem(0x9f14), 0xb5);
        // CB B5 0070
        gbc.setState(0x5b55, 0x53dd, 0x58a0, 0x1001, 0x26c0, 0x8623, 0x0, 0x1);
        gbc.writeMem(0x5b55, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x53dd);
        EXPECT(gbc.pc(), 0x5b57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0071
        gbc.setState(0x16ea, 0x31c2, 0x2000, 0x5112, 0xbab5, 0xa2ab, 0x1, 0x0);
        gbc.writeMem(0x16ea, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x31c2);
        EXPECT(gbc.pc(), 0x16ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0072
        gbc.setState(0x2d5e, 0xb971, 0x14d0, 0x3044, 0x5c66, 0x1713, 0x0, 0x0);
        gbc.writeMem(0x2d5e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb971);
        EXPECT(gbc.pc(), 0x2d60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0073
        gbc.setState(0xbd1f, 0xe670, 0x6ef0, 0x5b4d, 0x9e5c, 0x6365, 0x0, 0x1);
        gbc.writeMem(0xbd1f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe670);
        EXPECT(gbc.pc(), 0xbd21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd1f), 0xcb);
        EXPECT(gbc.readMem(0xbd20), 0xb5);
        // CB B5 0074
        gbc.setState(0x5d96, 0x52fb, 0xa4f0, 0xbc97, 0xf737, 0x9d71, 0x1, 0x0);
        gbc.writeMem(0x5d96, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x52fb);
        EXPECT(gbc.pc(), 0x5d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0075
        gbc.setState(0x6b86, 0x5ddd, 0xbce0, 0x949, 0xa04f, 0x81a8, 0x0, 0x0);
        gbc.writeMem(0x6b86, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5ddd);
        EXPECT(gbc.pc(), 0x6b88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0076
        gbc.setState(0x450c, 0xeab1, 0x2210, 0x78c2, 0x7b0d, 0xa591, 0x1, 0x0);
        gbc.writeMem(0x450c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xeab1);
        EXPECT(gbc.pc(), 0x450e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0077
        gbc.setState(0x22d3, 0x997b, 0x41e0, 0xf299, 0x1bd, 0xe94f, 0x1, 0x0);
        gbc.writeMem(0x22d3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x997b);
        EXPECT(gbc.pc(), 0x22d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0078
        gbc.setState(0x8aee, 0xe67a, 0xd3f0, 0x38d2, 0x1dfb, 0xa680, 0x1, 0x0);
        gbc.writeMem(0x8aee, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xe67a);
        EXPECT(gbc.pc(), 0x8af0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aee), 0xcb);
        EXPECT(gbc.readMem(0x8aef), 0xb5);
        // CB B5 0079
        gbc.setState(0x26ad, 0x6175, 0x2ea0, 0xa9ff, 0x5d90, 0x36b2, 0x1, 0x0);
        gbc.writeMem(0x26ad, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6175);
        EXPECT(gbc.pc(), 0x26af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 007A
        gbc.setState(0xdda6, 0xdd64, 0xf50, 0xe2d7, 0x3138, 0x9aa7, 0x0, 0x0);
        gbc.writeMem(0xdda6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xdd64);
        EXPECT(gbc.pc(), 0xdda8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdda6), 0xcb);
        EXPECT(gbc.readMem(0xdda7), 0xb5);
        // CB B5 007B
        gbc.setState(0x3dd7, 0xdde0, 0xfa90, 0xb8cc, 0xf619, 0x6390, 0x0, 0x1);
        gbc.writeMem(0x3dd7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xdde0);
        EXPECT(gbc.pc(), 0x3dd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 007C
        gbc.setState(0xed2f, 0xbf71, 0x130, 0xee62, 0x6b3e, 0xb57e, 0x1, 0x1);
        gbc.writeMem(0xed2f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbf71);
        EXPECT(gbc.pc(), 0xed31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed2f), 0xcb);
        EXPECT(gbc.readMem(0xed30), 0xb5);
        // CB B5 007D
        gbc.setState(0xa7ed, 0xb22e, 0x5cf0, 0xb30d, 0x2142, 0xc8b4, 0x0, 0x0);
        gbc.writeMem(0xa7ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb22e);
        EXPECT(gbc.pc(), 0xa7ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ed), 0xcb);
        EXPECT(gbc.readMem(0xa7ee), 0xb5);
        // CB B5 007E
        gbc.setState(0x8ffd, 0x1329, 0x62d0, 0xe12c, 0x74c, 0xb0a8, 0x0, 0x1);
        gbc.writeMem(0x8ffd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1329);
        EXPECT(gbc.pc(), 0x8fff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ffd), 0xcb);
        EXPECT(gbc.readMem(0x8ffe), 0xb5);
        // CB B5 007F
        gbc.setState(0x80f7, 0x6cb4, 0x9550, 0x7126, 0x62ab, 0x3c6f, 0x0, 0x0);
        gbc.writeMem(0x80f7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6cb4);
        EXPECT(gbc.pc(), 0x80f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80f7), 0xcb);
        EXPECT(gbc.readMem(0x80f8), 0xb5);
        // CB B5 0080
        gbc.setState(0x5ce1, 0x4634, 0x82e0, 0xa73, 0xaa20, 0xd91, 0x1, 0x0);
        gbc.writeMem(0x5ce1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4634);
        EXPECT(gbc.pc(), 0x5ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0081
        gbc.setState(0x79e6, 0x11ac, 0xcc20, 0xd76c, 0xaa49, 0xcad9, 0x1, 0x1);
        gbc.writeMem(0x79e6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x11ac);
        EXPECT(gbc.pc(), 0x79e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0082
        gbc.setState(0x65d5, 0x54c9, 0x83f0, 0x88ca, 0xc3c2, 0x55dc, 0x0, 0x1);
        gbc.writeMem(0x65d5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x54c9);
        EXPECT(gbc.pc(), 0x65d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0083
        gbc.setState(0x5e44, 0xc883, 0xbd0, 0x34c6, 0x8257, 0x975, 0x1, 0x0);
        gbc.writeMem(0x5e44, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc883);
        EXPECT(gbc.pc(), 0x5e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0084
        gbc.setState(0xae4f, 0xc2a6, 0x7760, 0x432d, 0x670e, 0x8681, 0x0, 0x1);
        gbc.writeMem(0xae4f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc2a6);
        EXPECT(gbc.pc(), 0xae51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae4f), 0xcb);
        EXPECT(gbc.readMem(0xae50), 0xb5);
        // CB B5 0085
        gbc.setState(0xa2f5, 0x8387, 0x1720, 0x23a2, 0x7a33, 0x6672, 0x1, 0x0);
        gbc.writeMem(0xa2f5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8387);
        EXPECT(gbc.pc(), 0xa2f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f5), 0xcb);
        EXPECT(gbc.readMem(0xa2f6), 0xb5);
        // CB B5 0086
        gbc.setState(0x953b, 0x5cf1, 0x45e0, 0x5123, 0xf718, 0x2543, 0x1, 0x0);
        gbc.writeMem(0x953b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5cf1);
        EXPECT(gbc.pc(), 0x953d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x953b), 0xcb);
        EXPECT(gbc.readMem(0x953c), 0xb5);
        // CB B5 0087
        gbc.setState(0x8be4, 0x6252, 0x9ac0, 0xfa29, 0xf0fe, 0x1cc4, 0x1, 0x0);
        gbc.writeMem(0x8be4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6252);
        EXPECT(gbc.pc(), 0x8be6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be4), 0xcb);
        EXPECT(gbc.readMem(0x8be5), 0xb5);
        // CB B5 0088
        gbc.setState(0x6ebb, 0x4233, 0x82f0, 0xac5e, 0x4413, 0x40eb, 0x0, 0x1);
        gbc.writeMem(0x6ebb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4233);
        EXPECT(gbc.pc(), 0x6ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0089
        gbc.setState(0xe54f, 0xfea8, 0x58d0, 0xcfdf, 0x95a0, 0x2261, 0x0, 0x1);
        gbc.writeMem(0xe54f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xfea8);
        EXPECT(gbc.pc(), 0xe551);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe54f), 0xcb);
        EXPECT(gbc.readMem(0xe550), 0xb5);
        // CB B5 008A
        gbc.setState(0x81b6, 0x5f0e, 0x75e0, 0x16c1, 0x946b, 0x9c12, 0x0, 0x1);
        gbc.writeMem(0x81b6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5f0e);
        EXPECT(gbc.pc(), 0x81b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b6), 0xcb);
        EXPECT(gbc.readMem(0x81b7), 0xb5);
        // CB B5 008B
        gbc.setState(0xcb88, 0x6229, 0x8590, 0x574f, 0x784c, 0x3154, 0x0, 0x0);
        gbc.writeMem(0xcb88, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6229);
        EXPECT(gbc.pc(), 0xcb8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb88), 0xcb);
        EXPECT(gbc.readMem(0xcb89), 0xb5);
        // CB B5 008C
        gbc.setState(0x87e5, 0x9522, 0x72d0, 0x24fc, 0x1738, 0xfc63, 0x0, 0x0);
        gbc.writeMem(0x87e5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9522);
        EXPECT(gbc.pc(), 0x87e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e5), 0xcb);
        EXPECT(gbc.readMem(0x87e6), 0xb5);
        // CB B5 008D
        gbc.setState(0x81ac, 0xe7bf, 0x86e0, 0xcaf7, 0xdf31, 0x36ae, 0x0, 0x0);
        gbc.writeMem(0x81ac, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe7bf);
        EXPECT(gbc.pc(), 0x81ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ac), 0xcb);
        EXPECT(gbc.readMem(0x81ad), 0xb5);
        // CB B5 008E
        gbc.setState(0xb380, 0xc541, 0x6870, 0x4599, 0x19e8, 0x359f, 0x1, 0x1);
        gbc.writeMem(0xb380, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc541);
        EXPECT(gbc.pc(), 0xb382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb380), 0xcb);
        EXPECT(gbc.readMem(0xb381), 0xb5);
        // CB B5 008F
        gbc.setState(0xebf, 0x906f, 0x470, 0x5c23, 0xaf64, 0xb7a2, 0x0, 0x0);
        gbc.writeMem(0xebf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x906f);
        EXPECT(gbc.pc(), 0xec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0090
        gbc.setState(0x6f27, 0xda9e, 0xcab0, 0x673c, 0xd77b, 0xa02c, 0x1, 0x1);
        gbc.writeMem(0x6f27, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xda9e);
        EXPECT(gbc.pc(), 0x6f29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0091
        gbc.setState(0xa964, 0x6ea5, 0x55c0, 0xa899, 0xc791, 0xd24d, 0x0, 0x1);
        gbc.writeMem(0xa964, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6ea5);
        EXPECT(gbc.pc(), 0xa966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa964), 0xcb);
        EXPECT(gbc.readMem(0xa965), 0xb5);
        // CB B5 0092
        gbc.setState(0x77c2, 0x4e81, 0x8780, 0xa311, 0x4b39, 0x2507, 0x0, 0x1);
        gbc.writeMem(0x77c2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4e81);
        EXPECT(gbc.pc(), 0x77c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0093
        gbc.setState(0xde0, 0xf588, 0x3460, 0x83fe, 0x706, 0x6b66, 0x1, 0x1);
        gbc.writeMem(0xde0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf588);
        EXPECT(gbc.pc(), 0xde2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0094
        gbc.setState(0xa5d6, 0xaebf, 0x8120, 0x2334, 0xed83, 0xa6b9, 0x1, 0x0);
        gbc.writeMem(0xa5d6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xaebf);
        EXPECT(gbc.pc(), 0xa5d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5d6), 0xcb);
        EXPECT(gbc.readMem(0xa5d7), 0xb5);
        // CB B5 0095
        gbc.setState(0x9490, 0x1276, 0xb6e0, 0x3844, 0x1abd, 0xe12a, 0x0, 0x1);
        gbc.writeMem(0x9490, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1276);
        EXPECT(gbc.pc(), 0x9492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9490), 0xcb);
        EXPECT(gbc.readMem(0x9491), 0xb5);
        // CB B5 0096
        gbc.setState(0x817, 0x9c9f, 0x46e0, 0x13cb, 0x2bb8, 0xca44, 0x0, 0x1);
        gbc.writeMem(0x817, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9c9f);
        EXPECT(gbc.pc(), 0x819);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0097
        gbc.setState(0xc686, 0xc292, 0xdb00, 0xdbf8, 0xcc82, 0xf793, 0x1, 0x0);
        gbc.writeMem(0xc686, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc292);
        EXPECT(gbc.pc(), 0xc688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc686), 0xcb);
        EXPECT(gbc.readMem(0xc687), 0xb5);
        // CB B5 0098
        gbc.setState(0xa3c3, 0x3f98, 0x3940, 0x3c6f, 0xbe6a, 0x513f, 0x0, 0x0);
        gbc.writeMem(0xa3c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3f98);
        EXPECT(gbc.pc(), 0xa3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3c3), 0xcb);
        EXPECT(gbc.readMem(0xa3c4), 0xb5);
        // CB B5 0099
        gbc.setState(0xb9e9, 0x5a06, 0x570, 0xd57d, 0x571f, 0x6f0, 0x1, 0x1);
        gbc.writeMem(0xb9e9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5a06);
        EXPECT(gbc.pc(), 0xb9eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9e9), 0xcb);
        EXPECT(gbc.readMem(0xb9ea), 0xb5);
        // CB B5 009A
        gbc.setState(0x66bd, 0x618b, 0xb50, 0xa517, 0xd80a, 0xa29f, 0x0, 0x1);
        gbc.writeMem(0x66bd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x618b);
        EXPECT(gbc.pc(), 0x66bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 009B
        gbc.setState(0x973f, 0xb131, 0x4990, 0xb9cf, 0x777d, 0xb372, 0x0, 0x1);
        gbc.writeMem(0x973f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb131);
        EXPECT(gbc.pc(), 0x9741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x973f), 0xcb);
        EXPECT(gbc.readMem(0x9740), 0xb5);
        // CB B5 009C
        gbc.setState(0x732c, 0x11c6, 0x5af0, 0xb191, 0x3fa4, 0x4b9a, 0x0, 0x1);
        gbc.writeMem(0x732c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x11c6);
        EXPECT(gbc.pc(), 0x732e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 009D
        gbc.setState(0x3de7, 0x2aec, 0xf470, 0x45bb, 0xd5f4, 0x16d2, 0x0, 0x1);
        gbc.writeMem(0x3de7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2aec);
        EXPECT(gbc.pc(), 0x3de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 009E
        gbc.setState(0xeab9, 0x55a7, 0x84e0, 0xceab, 0xf1ea, 0xe788, 0x1, 0x1);
        gbc.writeMem(0xeab9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x55a7);
        EXPECT(gbc.pc(), 0xeabb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeab9), 0xcb);
        EXPECT(gbc.readMem(0xeaba), 0xb5);
        // CB B5 009F
        gbc.setState(0xb3e9, 0x1ed4, 0xcd60, 0x9445, 0xe7ff, 0x36a3, 0x0, 0x0);
        gbc.writeMem(0xb3e9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1ed4);
        EXPECT(gbc.pc(), 0xb3eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e9), 0xcb);
        EXPECT(gbc.readMem(0xb3ea), 0xb5);
        // CB B5 00A0
        gbc.setState(0x4450, 0x104f, 0x33a0, 0x5f8e, 0xbb72, 0xd71f, 0x1, 0x0);
        gbc.writeMem(0x4450, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x104f);
        EXPECT(gbc.pc(), 0x4452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00A1
        gbc.setState(0x12c2, 0xa509, 0xa010, 0x1130, 0x1878, 0x154, 0x0, 0x1);
        gbc.writeMem(0x12c2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa509);
        EXPECT(gbc.pc(), 0x12c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00A2
        gbc.setState(0xde21, 0xc72f, 0x3c0, 0x3221, 0x21e3, 0x353b, 0x0, 0x0);
        gbc.writeMem(0xde21, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc72f);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde21), 0xcb);
        EXPECT(gbc.readMem(0xde22), 0xb5);
        // CB B5 00A3
        gbc.setState(0x4e4c, 0x9fd7, 0x17b0, 0x1883, 0x263c, 0x3616, 0x0, 0x1);
        gbc.writeMem(0x4e4c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9fd7);
        EXPECT(gbc.pc(), 0x4e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00A4
        gbc.setState(0xadf, 0x41b5, 0xe260, 0xcacb, 0x244c, 0x20d0, 0x0, 0x0);
        gbc.writeMem(0xadf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x41b5);
        EXPECT(gbc.pc(), 0xae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00A5
        gbc.setState(0x91c4, 0x9df5, 0x9970, 0x59ef, 0x8973, 0x244a, 0x1, 0x0);
        gbc.writeMem(0x91c4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9df5);
        EXPECT(gbc.pc(), 0x91c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91c4), 0xcb);
        EXPECT(gbc.readMem(0x91c5), 0xb5);
        // CB B5 00A6
        gbc.setState(0x504f, 0x80b7, 0x1670, 0xe2a, 0x1acf, 0x357b, 0x1, 0x1);
        gbc.writeMem(0x504f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x80b7);
        EXPECT(gbc.pc(), 0x5051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00A7
        gbc.setState(0xba94, 0x16b1, 0x2500, 0x9ff, 0x3cc2, 0x4d4f, 0x1, 0x0);
        gbc.writeMem(0xba94, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x16b1);
        EXPECT(gbc.pc(), 0xba96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba94), 0xcb);
        EXPECT(gbc.readMem(0xba95), 0xb5);
        // CB B5 00A8
        gbc.setState(0x7b3c, 0x6d30, 0x7f10, 0xa2d1, 0x4fae, 0xf0ff, 0x1, 0x0);
        gbc.writeMem(0x7b3c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6d30);
        EXPECT(gbc.pc(), 0x7b3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00A9
        gbc.setState(0x8a59, 0xca2e, 0xfe10, 0x5da6, 0x4efb, 0x3441, 0x0, 0x0);
        gbc.writeMem(0x8a59, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xca2e);
        EXPECT(gbc.pc(), 0x8a5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a59), 0xcb);
        EXPECT(gbc.readMem(0x8a5a), 0xb5);
        // CB B5 00AA
        gbc.setState(0x954b, 0x300f, 0xd900, 0xbe6, 0x3dc, 0x4780, 0x1, 0x0);
        gbc.writeMem(0x954b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x300f);
        EXPECT(gbc.pc(), 0x954d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x954b), 0xcb);
        EXPECT(gbc.readMem(0x954c), 0xb5);
        // CB B5 00AB
        gbc.setState(0x3740, 0xfdec, 0xdf0, 0x4343, 0xde6, 0x6185, 0x1, 0x1);
        gbc.writeMem(0x3740, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xfdec);
        EXPECT(gbc.pc(), 0x3742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00AC
        gbc.setState(0xb4e6, 0x2dab, 0xa70, 0x1a83, 0x7253, 0x5285, 0x1, 0x0);
        gbc.writeMem(0xb4e6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x2dab);
        EXPECT(gbc.pc(), 0xb4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e6), 0xcb);
        EXPECT(gbc.readMem(0xb4e7), 0xb5);
        // CB B5 00AD
        gbc.setState(0x9339, 0xd715, 0x1e60, 0x9c71, 0x2a66, 0x1c65, 0x0, 0x1);
        gbc.writeMem(0x9339, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd715);
        EXPECT(gbc.pc(), 0x933b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9339), 0xcb);
        EXPECT(gbc.readMem(0x933a), 0xb5);
        // CB B5 00AE
        gbc.setState(0x8d37, 0x48b3, 0xa650, 0x9369, 0xce53, 0xe115, 0x0, 0x0);
        gbc.writeMem(0x8d37, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x48b3);
        EXPECT(gbc.pc(), 0x8d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d37), 0xcb);
        EXPECT(gbc.readMem(0x8d38), 0xb5);
        // CB B5 00AF
        gbc.setState(0xcbed, 0x2c26, 0xc790, 0xf582, 0xf6, 0x3b18, 0x1, 0x0);
        gbc.writeMem(0xcbed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2c26);
        EXPECT(gbc.pc(), 0xcbef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbed), 0xcb);
        EXPECT(gbc.readMem(0xcbee), 0xb5);
        // CB B5 00B0
        gbc.setState(0x55fd, 0xef8f, 0xd600, 0x3d7f, 0x598f, 0xeeb5, 0x0, 0x1);
        gbc.writeMem(0x55fd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xef8f);
        EXPECT(gbc.pc(), 0x55ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00B1
        gbc.setState(0xc9d2, 0xf284, 0x4d90, 0xe416, 0x6f99, 0x3e98, 0x1, 0x0);
        gbc.writeMem(0xc9d2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf284);
        EXPECT(gbc.pc(), 0xc9d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9d2), 0xcb);
        EXPECT(gbc.readMem(0xc9d3), 0xb5);
        // CB B5 00B2
        gbc.setState(0xdf2d, 0x2bc3, 0xe10, 0x9d67, 0xc283, 0xfa2e, 0x0, 0x0);
        gbc.writeMem(0xdf2d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2bc3);
        EXPECT(gbc.pc(), 0xdf2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf2d), 0xcb);
        EXPECT(gbc.readMem(0xdf2e), 0xb5);
        // CB B5 00B4
        gbc.setState(0x7fe1, 0xc956, 0xfeb0, 0x912e, 0x4efe, 0x331c, 0x0, 0x1);
        gbc.writeMem(0x7fe1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc956);
        EXPECT(gbc.pc(), 0x7fe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00B5
        gbc.setState(0x9ad3, 0x3d5f, 0x9770, 0xe6f5, 0x6a07, 0x231, 0x1, 0x0);
        gbc.writeMem(0x9ad3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3d5f);
        EXPECT(gbc.pc(), 0x9ad5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad3), 0xcb);
        EXPECT(gbc.readMem(0x9ad4), 0xb5);
        // CB B5 00B6
        gbc.setState(0xcee3, 0xff7f, 0x1b0, 0x3754, 0xc576, 0xa66b, 0x0, 0x1);
        gbc.writeMem(0xcee3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xff7f);
        EXPECT(gbc.pc(), 0xcee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcee3), 0xcb);
        EXPECT(gbc.readMem(0xcee4), 0xb5);
        // CB B5 00B7
        gbc.setState(0xd58a, 0xbab7, 0xa560, 0xc3db, 0x4b98, 0x6c1c, 0x0, 0x0);
        gbc.writeMem(0xd58a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xbab7);
        EXPECT(gbc.pc(), 0xd58c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd58a), 0xcb);
        EXPECT(gbc.readMem(0xd58b), 0xb5);
        // CB B5 00B8
        gbc.setState(0x9bf0, 0x43e8, 0x3da0, 0x35e1, 0x513b, 0x1889, 0x0, 0x1);
        gbc.writeMem(0x9bf0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x43e8);
        EXPECT(gbc.pc(), 0x9bf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bf0), 0xcb);
        EXPECT(gbc.readMem(0x9bf1), 0xb5);
        // CB B5 00B9
        gbc.setState(0x74a3, 0x5869, 0x5c90, 0xb4bd, 0x1c7c, 0xa58b, 0x1, 0x0);
        gbc.writeMem(0x74a3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x5869);
        EXPECT(gbc.pc(), 0x74a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00BA
        gbc.setState(0x3a02, 0x629d, 0x8100, 0x5beb, 0x6ce, 0x952, 0x0, 0x1);
        gbc.writeMem(0x3a02, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x629d);
        EXPECT(gbc.pc(), 0x3a04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00BB
        gbc.setState(0xa762, 0x9578, 0xcb60, 0x45ef, 0xc9b5, 0x6df3, 0x1, 0x1);
        gbc.writeMem(0xa762, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9578);
        EXPECT(gbc.pc(), 0xa764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa762), 0xcb);
        EXPECT(gbc.readMem(0xa763), 0xb5);
        // CB B5 00BC
        gbc.setState(0x2f2c, 0x1e92, 0x7850, 0x783a, 0x5114, 0x2648, 0x0, 0x1);
        gbc.writeMem(0x2f2c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1e92);
        EXPECT(gbc.pc(), 0x2f2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00BD
        gbc.setState(0x725e, 0xf78e, 0xc960, 0xb9cf, 0xae92, 0x4453, 0x1, 0x0);
        gbc.writeMem(0x725e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xf78e);
        EXPECT(gbc.pc(), 0x7260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00BE
        gbc.setState(0xc2e7, 0xa21b, 0x9ae0, 0xe610, 0xf846, 0x7b7c, 0x1, 0x1);
        gbc.writeMem(0xc2e7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa21b);
        EXPECT(gbc.pc(), 0xc2e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2e7), 0xcb);
        EXPECT(gbc.readMem(0xc2e8), 0xb5);
        // CB B5 00BF
        gbc.setState(0x6357, 0x814e, 0xccd0, 0x6468, 0x5da0, 0x1f06, 0x1, 0x1);
        gbc.writeMem(0x6357, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x814e);
        EXPECT(gbc.pc(), 0x6359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00C0
        gbc.setState(0xd4d7, 0xc1a8, 0x1840, 0x5a52, 0x4994, 0xb706, 0x1, 0x0);
        gbc.writeMem(0xd4d7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xc1a8);
        EXPECT(gbc.pc(), 0xd4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d7), 0xcb);
        EXPECT(gbc.readMem(0xd4d8), 0xb5);
        // CB B5 00C1
        gbc.setState(0x297c, 0xae0d, 0x2800, 0x7e37, 0x4572, 0x1bd6, 0x0, 0x1);
        gbc.writeMem(0x297c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xae0d);
        EXPECT(gbc.pc(), 0x297e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00C2
        gbc.setState(0x7db6, 0x163a, 0x65c0, 0xd1a2, 0xa530, 0x52cb, 0x1, 0x0);
        gbc.writeMem(0x7db6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x163a);
        EXPECT(gbc.pc(), 0x7db8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00C3
        gbc.setState(0x2d7e, 0xe7a0, 0x9190, 0x9891, 0x9eb9, 0xaa5c, 0x1, 0x0);
        gbc.writeMem(0x2d7e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe7a0);
        EXPECT(gbc.pc(), 0x2d80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00C4
        gbc.setState(0x3ea8, 0x9183, 0x5900, 0x5d01, 0xa412, 0x3601, 0x0, 0x1);
        gbc.writeMem(0x3ea8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9183);
        EXPECT(gbc.pc(), 0x3eaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00C5
        gbc.setState(0xe10, 0xa5d2, 0xf210, 0xf416, 0xcf75, 0xc46e, 0x0, 0x0);
        gbc.writeMem(0xe10, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa5d2);
        EXPECT(gbc.pc(), 0xe12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00C6
        gbc.setState(0xba73, 0x3ac8, 0xaf20, 0xd6d9, 0xc703, 0xe831, 0x1, 0x1);
        gbc.writeMem(0xba73, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3ac8);
        EXPECT(gbc.pc(), 0xba75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba73), 0xcb);
        EXPECT(gbc.readMem(0xba74), 0xb5);
        // CB B5 00C7
        gbc.setState(0x7df7, 0x8473, 0x8ef0, 0x244e, 0xd257, 0x28f, 0x0, 0x0);
        gbc.writeMem(0x7df7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8473);
        EXPECT(gbc.pc(), 0x7df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00C8
        gbc.setState(0x8220, 0xb41f, 0x91b0, 0x951e, 0xf96a, 0x6f2e, 0x1, 0x1);
        gbc.writeMem(0x8220, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb41f);
        EXPECT(gbc.pc(), 0x8222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8220), 0xcb);
        EXPECT(gbc.readMem(0x8221), 0xb5);
        // CB B5 00C9
        gbc.setState(0x90d9, 0xc1b7, 0xade0, 0x39dd, 0xf3ab, 0x78ab, 0x0, 0x1);
        gbc.writeMem(0x90d9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc1b7);
        EXPECT(gbc.pc(), 0x90db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d9), 0xcb);
        EXPECT(gbc.readMem(0x90da), 0xb5);
        // CB B5 00CA
        gbc.setState(0xc721, 0x8ed8, 0x86f0, 0x5770, 0x610e, 0x7ed0, 0x0, 0x0);
        gbc.writeMem(0xc721, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x8ed8);
        EXPECT(gbc.pc(), 0xc723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc721), 0xcb);
        EXPECT(gbc.readMem(0xc722), 0xb5);
        // CB B5 00CB
        gbc.setState(0xc98b, 0x3798, 0xef0, 0xe979, 0x3262, 0x2496, 0x0, 0x0);
        gbc.writeMem(0xc98b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3798);
        EXPECT(gbc.pc(), 0xc98d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc98b), 0xcb);
        EXPECT(gbc.readMem(0xc98c), 0xb5);
        // CB B5 00CC
        gbc.setState(0x8a4c, 0xc0f4, 0xd6b0, 0x849, 0x6132, 0x8b35, 0x0, 0x0);
        gbc.writeMem(0x8a4c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc0f4);
        EXPECT(gbc.pc(), 0x8a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a4c), 0xcb);
        EXPECT(gbc.readMem(0x8a4d), 0xb5);
        // CB B5 00CD
        gbc.setState(0xda23, 0x1a79, 0xf140, 0xd2be, 0xe820, 0xa236, 0x0, 0x1);
        gbc.writeMem(0xda23, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1a79);
        EXPECT(gbc.pc(), 0xda25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda23), 0xcb);
        EXPECT(gbc.readMem(0xda24), 0xb5);
        // CB B5 00CE
        gbc.setState(0x7623, 0x729, 0x72c0, 0x63be, 0x1ce8, 0x195a, 0x0, 0x1);
        gbc.writeMem(0x7623, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x729);
        EXPECT(gbc.pc(), 0x7625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00CF
        gbc.setState(0x7424, 0x7e94, 0x5630, 0x8353, 0x9091, 0x6b3d, 0x0, 0x0);
        gbc.writeMem(0x7424, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7e94);
        EXPECT(gbc.pc(), 0x7426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00D1
        gbc.setState(0xf87, 0xcbec, 0x6c80, 0x62a4, 0x5249, 0x882b, 0x0, 0x1);
        gbc.writeMem(0xf87, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xcbec);
        EXPECT(gbc.pc(), 0xf89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00D2
        gbc.setState(0xdbc3, 0x9333, 0xa480, 0xcdeb, 0x63e8, 0x72ba, 0x1, 0x1);
        gbc.writeMem(0xdbc3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9333);
        EXPECT(gbc.pc(), 0xdbc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc3), 0xcb);
        EXPECT(gbc.readMem(0xdbc4), 0xb5);
        // CB B5 00D3
        gbc.setState(0x9d6e, 0x7113, 0x26a0, 0x2d78, 0x7200, 0x932e, 0x0, 0x1);
        gbc.writeMem(0x9d6e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7113);
        EXPECT(gbc.pc(), 0x9d70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d6e), 0xcb);
        EXPECT(gbc.readMem(0x9d6f), 0xb5);
        // CB B5 00D4
        gbc.setState(0x1436, 0x55fd, 0x6660, 0x8042, 0x3826, 0xda19, 0x0, 0x1);
        gbc.writeMem(0x1436, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x55fd);
        EXPECT(gbc.pc(), 0x1438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00D5
        gbc.setState(0x7c74, 0x1401, 0xb8a0, 0x272c, 0x546b, 0xce0c, 0x0, 0x0);
        gbc.writeMem(0x7c74, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1401);
        EXPECT(gbc.pc(), 0x7c76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00D6
        gbc.setState(0xa6aa, 0xa8e2, 0xcc60, 0x10be, 0x8f, 0x52fa, 0x0, 0x1);
        gbc.writeMem(0xa6aa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa8e2);
        EXPECT(gbc.pc(), 0xa6ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6aa), 0xcb);
        EXPECT(gbc.readMem(0xa6ab), 0xb5);
        // CB B5 00D7
        gbc.setState(0x7e14, 0xd26f, 0x7210, 0xa10f, 0xd315, 0x3391, 0x1, 0x1);
        gbc.writeMem(0x7e14, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd26f);
        EXPECT(gbc.pc(), 0x7e16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00D8
        gbc.setState(0x2899, 0x615a, 0xb010, 0x1356, 0xafd7, 0xe0b2, 0x0, 0x0);
        gbc.writeMem(0x2899, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x615a);
        EXPECT(gbc.pc(), 0x289b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00D9
        gbc.setState(0x1f56, 0x4c90, 0x6d30, 0x5697, 0xec07, 0x846f, 0x1, 0x1);
        gbc.writeMem(0x1f56, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x4c90);
        EXPECT(gbc.pc(), 0x1f58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00DA
        gbc.setState(0xd7d1, 0x416d, 0xca20, 0xb1e2, 0x9801, 0xeb01, 0x1, 0x1);
        gbc.writeMem(0xd7d1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x416d);
        EXPECT(gbc.pc(), 0xd7d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7d1), 0xcb);
        EXPECT(gbc.readMem(0xd7d2), 0xb5);
        // CB B5 00DB
        gbc.setState(0x84bf, 0xb1e6, 0xc320, 0xd551, 0x1a45, 0x92c4, 0x0, 0x0);
        gbc.writeMem(0x84bf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb1e6);
        EXPECT(gbc.pc(), 0x84c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84bf), 0xcb);
        EXPECT(gbc.readMem(0x84c0), 0xb5);
        // CB B5 00DC
        gbc.setState(0x1ebd, 0x1d8f, 0xc960, 0xdab7, 0xf19c, 0x56a4, 0x0, 0x0);
        gbc.writeMem(0x1ebd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1d8f);
        EXPECT(gbc.pc(), 0x1ebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00DD
        gbc.setState(0xa2bf, 0xf68c, 0xa280, 0x56d7, 0xa826, 0xafcd, 0x1, 0x1);
        gbc.writeMem(0xa2bf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf68c);
        EXPECT(gbc.pc(), 0xa2c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2bf), 0xcb);
        EXPECT(gbc.readMem(0xa2c0), 0xb5);
        // CB B5 00DE
        gbc.setState(0xc6ef, 0x7263, 0xe700, 0x5022, 0x6f92, 0xbcf7, 0x1, 0x0);
        gbc.writeMem(0xc6ef, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7263);
        EXPECT(gbc.pc(), 0xc6f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ef), 0xcb);
        EXPECT(gbc.readMem(0xc6f0), 0xb5);
        // CB B5 00DF
        gbc.setState(0xd429, 0x32f5, 0x4a90, 0x2589, 0xea35, 0x34e7, 0x0, 0x1);
        gbc.writeMem(0xd429, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x32f5);
        EXPECT(gbc.pc(), 0xd42b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd429), 0xcb);
        EXPECT(gbc.readMem(0xd42a), 0xb5);
        // CB B5 00E0
        gbc.setState(0xa46f, 0x6afd, 0x2860, 0x9d0d, 0x4eaf, 0x543e, 0x1, 0x0);
        gbc.writeMem(0xa46f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6afd);
        EXPECT(gbc.pc(), 0xa471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa46f), 0xcb);
        EXPECT(gbc.readMem(0xa470), 0xb5);
        // CB B5 00E1
        gbc.setState(0x35bc, 0xa61d, 0xaa30, 0xa38e, 0x7417, 0xc83f, 0x0, 0x1);
        gbc.writeMem(0x35bc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa61d);
        EXPECT(gbc.pc(), 0x35be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00E2
        gbc.setState(0x8064, 0x8411, 0x1410, 0x74dc, 0x1d17, 0x5604, 0x0, 0x1);
        gbc.writeMem(0x8064, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8411);
        EXPECT(gbc.pc(), 0x8066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8064), 0xcb);
        EXPECT(gbc.readMem(0x8065), 0xb5);
        // CB B5 00E3
        gbc.setState(0x9b9a, 0xe8fe, 0x6e60, 0x6ffa, 0x1cf4, 0x822a, 0x1, 0x0);
        gbc.writeMem(0x9b9a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe8fe);
        EXPECT(gbc.pc(), 0x9b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b9a), 0xcb);
        EXPECT(gbc.readMem(0x9b9b), 0xb5);
        // CB B5 00E4
        gbc.setState(0x7e16, 0x8d5a, 0x4800, 0x8f89, 0x1c77, 0xf46f, 0x1, 0x1);
        gbc.writeMem(0x7e16, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8d5a);
        EXPECT(gbc.pc(), 0x7e18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00E5
        gbc.setState(0x9ee7, 0xb0b5, 0xa670, 0x894d, 0x6895, 0x97c5, 0x1, 0x0);
        gbc.writeMem(0x9ee7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb0b5);
        EXPECT(gbc.pc(), 0x9ee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee7), 0xcb);
        EXPECT(gbc.readMem(0x9ee8), 0xb5);
        // CB B5 00E6
        gbc.setState(0x2915, 0x5d06, 0xe800, 0xceec, 0xa515, 0x3b75, 0x0, 0x0);
        gbc.writeMem(0x2915, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5d06);
        EXPECT(gbc.pc(), 0x2917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00E7
        gbc.setState(0xd4e4, 0xc6f0, 0x3d40, 0xa382, 0x46d0, 0xcfc6, 0x1, 0x1);
        gbc.writeMem(0xd4e4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc6f0);
        EXPECT(gbc.pc(), 0xd4e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e4), 0xcb);
        EXPECT(gbc.readMem(0xd4e5), 0xb5);
        // CB B5 00E8
        gbc.setState(0x215c, 0xb68d, 0x9db0, 0x62fe, 0x4add, 0x30bf, 0x0, 0x1);
        gbc.writeMem(0x215c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb68d);
        EXPECT(gbc.pc(), 0x215e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00E9
        gbc.setState(0x34b, 0x47b2, 0xc640, 0xcf2c, 0xc221, 0xaca1, 0x1, 0x0);
        gbc.writeMem(0x34b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x47b2);
        EXPECT(gbc.pc(), 0x34d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00EA
        gbc.setState(0x48ca, 0x8b82, 0xf850, 0x3255, 0xaf82, 0x8a01, 0x1, 0x1);
        gbc.writeMem(0x48ca, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x8b82);
        EXPECT(gbc.pc(), 0x48cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00EB
        gbc.setState(0x42d4, 0x76fd, 0x3760, 0x7e2f, 0xeadd, 0x7d1b, 0x1, 0x0);
        gbc.writeMem(0x42d4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x76fd);
        EXPECT(gbc.pc(), 0x42d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00EC
        gbc.setState(0xa8a9, 0x1eca, 0x70e0, 0x4094, 0xabae, 0xde94, 0x1, 0x0);
        gbc.writeMem(0xa8a9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1eca);
        EXPECT(gbc.pc(), 0xa8ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8a9), 0xcb);
        EXPECT(gbc.readMem(0xa8aa), 0xb5);
        // CB B5 00ED
        gbc.setState(0xa6a, 0x3d79, 0x2f00, 0x431c, 0x4241, 0x5da0, 0x0, 0x1);
        gbc.writeMem(0xa6a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3d79);
        EXPECT(gbc.pc(), 0xa6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00EE
        gbc.setState(0x644e, 0x308b, 0xfa40, 0xa10c, 0x8997, 0xab55, 0x1, 0x1);
        gbc.writeMem(0x644e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x308b);
        EXPECT(gbc.pc(), 0x6450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00EF
        gbc.setState(0x3f25, 0x8155, 0x1af0, 0x5645, 0xc203, 0x9bc6, 0x1, 0x0);
        gbc.writeMem(0x3f25, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x8155);
        EXPECT(gbc.pc(), 0x3f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00F0
        gbc.setState(0x668f, 0xea0c, 0x98d0, 0xa3ff, 0xd7be, 0x811a, 0x1, 0x0);
        gbc.writeMem(0x668f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xea0c);
        EXPECT(gbc.pc(), 0x6691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00F1
        gbc.setState(0x8b71, 0xb888, 0x5cf0, 0x4fab, 0x76a3, 0x4783, 0x0, 0x0);
        gbc.writeMem(0x8b71, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb888);
        EXPECT(gbc.pc(), 0x8b73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b71), 0xcb);
        EXPECT(gbc.readMem(0x8b72), 0xb5);
        // CB B5 00F2
        gbc.setState(0xa755, 0x1af2, 0xf880, 0xa84c, 0x4a18, 0xec4b, 0x1, 0x1);
        gbc.writeMem(0xa755, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1af2);
        EXPECT(gbc.pc(), 0xa757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa755), 0xcb);
        EXPECT(gbc.readMem(0xa756), 0xb5);
        // CB B5 00F3
        gbc.setState(0x8ef9, 0x862, 0x9180, 0xf1ec, 0x37d8, 0x91db, 0x0, 0x1);
        gbc.writeMem(0x8ef9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x862);
        EXPECT(gbc.pc(), 0x8efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ef9), 0xcb);
        EXPECT(gbc.readMem(0x8efa), 0xb5);
        // CB B5 00F4
        gbc.setState(0x2b86, 0x48f7, 0x2460, 0x58ae, 0xeaa, 0x4126, 0x1, 0x1);
        gbc.writeMem(0x2b86, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x48f7);
        EXPECT(gbc.pc(), 0x2b88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00F5
        gbc.setState(0xc80a, 0x2aca, 0xcb80, 0x4fe2, 0x4ccf, 0x3e90, 0x1, 0x1);
        gbc.writeMem(0xc80a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2aca);
        EXPECT(gbc.pc(), 0xc80c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc80a), 0xcb);
        EXPECT(gbc.readMem(0xc80b), 0xb5);
        // CB B5 00F6
        gbc.setState(0xa16a, 0xfa3d, 0x5910, 0x1dba, 0x267, 0x2a6c, 0x1, 0x0);
        gbc.writeMem(0xa16a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfa3d);
        EXPECT(gbc.pc(), 0xa16c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa16a), 0xcb);
        EXPECT(gbc.readMem(0xa16b), 0xb5);
        // CB B5 00F7
        gbc.setState(0xbd18, 0x3c44, 0x7510, 0x4605, 0xad95, 0x7dbe, 0x1, 0x0);
        gbc.writeMem(0xbd18, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3c44);
        EXPECT(gbc.pc(), 0xbd1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd18), 0xcb);
        EXPECT(gbc.readMem(0xbd19), 0xb5);
        // CB B5 00F8
        gbc.setState(0x3cdb, 0xf71e, 0x5670, 0x4078, 0x5cb7, 0x5678, 0x1, 0x1);
        gbc.writeMem(0x3cdb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf71e);
        EXPECT(gbc.pc(), 0x3cdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00F9
        gbc.setState(0xbd63, 0x1018, 0x9580, 0x566, 0xfd4c, 0x6757, 0x0, 0x0);
        gbc.writeMem(0xbd63, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x1018);
        EXPECT(gbc.pc(), 0xbd65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd63), 0xcb);
        EXPECT(gbc.readMem(0xbd64), 0xb5);
        // CB B5 00FA
        gbc.setState(0x4a27, 0xa3e, 0x1650, 0x799c, 0x358b, 0xc047, 0x0, 0x1);
        gbc.writeMem(0x4a27, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa3e);
        EXPECT(gbc.pc(), 0x4a29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00FB
        gbc.setState(0x6eb7, 0xa9ec, 0xd470, 0x74fc, 0x50f5, 0x724, 0x0, 0x0);
        gbc.writeMem(0x6eb7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa9ec);
        EXPECT(gbc.pc(), 0x6eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00FC
        gbc.setState(0x48f6, 0x2a5b, 0xdbb0, 0xec25, 0x503c, 0x9b7e, 0x1, 0x0);
        gbc.writeMem(0x48f6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2a5b);
        EXPECT(gbc.pc(), 0x48f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 00FD
        gbc.setState(0x5863, 0x2589, 0x2560, 0x5c89, 0x252f, 0x46ed, 0x1, 0x1);
        gbc.writeMem(0x5863, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2589);
        EXPECT(gbc.pc(), 0x5865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 00FE
        gbc.setState(0xee85, 0x76f7, 0xc0e0, 0xec15, 0xf79f, 0xe4c5, 0x1, 0x1);
        gbc.writeMem(0xee85, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x76f7);
        EXPECT(gbc.pc(), 0xee87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee85), 0xcb);
        EXPECT(gbc.readMem(0xee86), 0xb5);
        // CB B5 00FF
        gbc.setState(0x69d1, 0x5922, 0x7e0, 0x4ba4, 0x1c20, 0xd7e7, 0x0, 0x1);
        gbc.writeMem(0x69d1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5922);
        EXPECT(gbc.pc(), 0x69d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0100
        gbc.setState(0xe9ed, 0xc4f0, 0xc4c0, 0x7283, 0x1be0, 0x6f30, 0x1, 0x0);
        gbc.writeMem(0xe9ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc4f0);
        EXPECT(gbc.pc(), 0xe9ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ed), 0xcb);
        EXPECT(gbc.readMem(0xe9ee), 0xb5);
        // CB B5 0101
        gbc.setState(0xc5b7, 0x4adc, 0x4410, 0x54c2, 0x2487, 0x68c8, 0x0, 0x0);
        gbc.writeMem(0xc5b7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4adc);
        EXPECT(gbc.pc(), 0xc5b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5b7), 0xcb);
        EXPECT(gbc.readMem(0xc5b8), 0xb5);
        // CB B5 0102
        gbc.setState(0xd94d, 0xcaee, 0x8380, 0xacb4, 0xb98f, 0x7cba, 0x1, 0x0);
        gbc.writeMem(0xd94d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0xd94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd94d), 0xcb);
        EXPECT(gbc.readMem(0xd94e), 0xb5);
        // CB B5 0103
        gbc.setState(0xbbce, 0xe80f, 0xb60, 0xb53c, 0x4176, 0xbd2e, 0x1, 0x1);
        gbc.writeMem(0xbbce, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe80f);
        EXPECT(gbc.pc(), 0xbbd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbce), 0xcb);
        EXPECT(gbc.readMem(0xbbcf), 0xb5);
        // CB B5 0104
        gbc.setState(0x2566, 0xae91, 0xa290, 0x2486, 0xd6b2, 0x6160, 0x0, 0x1);
        gbc.writeMem(0x2566, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xae91);
        EXPECT(gbc.pc(), 0x2568);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0105
        gbc.setState(0xbd8b, 0x3f62, 0x12c0, 0xd945, 0xe5db, 0x2305, 0x0, 0x1);
        gbc.writeMem(0xbd8b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3f62);
        EXPECT(gbc.pc(), 0xbd8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd8b), 0xcb);
        EXPECT(gbc.readMem(0xbd8c), 0xb5);
        // CB B5 0106
        gbc.setState(0x7417, 0x253c, 0xb500, 0x47fe, 0xccc9, 0x277d, 0x1, 0x0);
        gbc.writeMem(0x7417, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x253c);
        EXPECT(gbc.pc(), 0x7419);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0107
        gbc.setState(0x4c87, 0x92d1, 0x2a20, 0xafac, 0xacd9, 0x84e0, 0x1, 0x1);
        gbc.writeMem(0x4c87, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x92d1);
        EXPECT(gbc.pc(), 0x4c89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0108
        gbc.setState(0x24f0, 0xa45d, 0xc200, 0x241e, 0xdaca, 0xca42, 0x0, 0x1);
        gbc.writeMem(0x24f0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa45d);
        EXPECT(gbc.pc(), 0x24f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0109
        gbc.setState(0xbf21, 0xe064, 0xa100, 0xa819, 0x394c, 0x90c5, 0x0, 0x0);
        gbc.writeMem(0xbf21, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xe064);
        EXPECT(gbc.pc(), 0xbf23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf21), 0xcb);
        EXPECT(gbc.readMem(0xbf22), 0xb5);
        // CB B5 010B
        gbc.setState(0x85ec, 0x2c0d, 0x1240, 0x95e4, 0xc72f, 0xd51b, 0x0, 0x1);
        gbc.writeMem(0x85ec, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2c0d);
        EXPECT(gbc.pc(), 0x85ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ec), 0xcb);
        EXPECT(gbc.readMem(0x85ed), 0xb5);
        // CB B5 010C
        gbc.setState(0xe866, 0xeaca, 0xbdb0, 0x6213, 0xd010, 0x2d07, 0x1, 0x0);
        gbc.writeMem(0xe866, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xeaca);
        EXPECT(gbc.pc(), 0xe868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe866), 0xcb);
        EXPECT(gbc.readMem(0xe867), 0xb5);
        // CB B5 010D
        gbc.setState(0xad92, 0x1e8b, 0xfbc0, 0xa3ae, 0xe7df, 0x7db0, 0x0, 0x0);
        gbc.writeMem(0xad92, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x1e8b);
        EXPECT(gbc.pc(), 0xad94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad92), 0xcb);
        EXPECT(gbc.readMem(0xad93), 0xb5);
        // CB B5 010E
        gbc.setState(0xd7d7, 0x41ee, 0xa2b0, 0x2354, 0x15f1, 0x7021, 0x0, 0x0);
        gbc.writeMem(0xd7d7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x41ee);
        EXPECT(gbc.pc(), 0xd7d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7d7), 0xcb);
        EXPECT(gbc.readMem(0xd7d8), 0xb5);
        // CB B5 010F
        gbc.setState(0x443a, 0x5457, 0xbee0, 0xcddf, 0xcead, 0x67e3, 0x1, 0x1);
        gbc.writeMem(0x443a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x5457);
        EXPECT(gbc.pc(), 0x443c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0110
        gbc.setState(0x2561, 0xda2b, 0x8b70, 0xc50a, 0x30f5, 0x6788, 0x1, 0x1);
        gbc.writeMem(0x2561, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xda2b);
        EXPECT(gbc.pc(), 0x2563);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0111
        gbc.setState(0x46f0, 0x178d, 0x9e00, 0xe446, 0x8586, 0xe21c, 0x1, 0x1);
        gbc.writeMem(0x46f0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x178d);
        EXPECT(gbc.pc(), 0x46f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0112
        gbc.setState(0xa985, 0xe7be, 0xe770, 0xfbe7, 0x98da, 0xd992, 0x1, 0x1);
        gbc.writeMem(0xa985, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe7be);
        EXPECT(gbc.pc(), 0xa987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa985), 0xcb);
        EXPECT(gbc.readMem(0xa986), 0xb5);
        // CB B5 0114
        gbc.setState(0x345b, 0x12db, 0x72f0, 0xf1dd, 0x3d14, 0xcb94, 0x0, 0x1);
        gbc.writeMem(0x345b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x12db);
        EXPECT(gbc.pc(), 0x345d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0115
        gbc.setState(0x5e5, 0xf576, 0x7e10, 0xad68, 0x4034, 0x9918, 0x0, 0x1);
        gbc.writeMem(0x5e5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf576);
        EXPECT(gbc.pc(), 0x5e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0116
        gbc.setState(0xd577, 0xa488, 0x5150, 0x936e, 0xc767, 0x44b5, 0x0, 0x0);
        gbc.writeMem(0xd577, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa488);
        EXPECT(gbc.pc(), 0xd579);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd577), 0xcb);
        EXPECT(gbc.readMem(0xd578), 0xb5);
        // CB B5 0117
        gbc.setState(0xd9a8, 0x156c, 0x54b0, 0x9bff, 0xd110, 0x80e, 0x1, 0x1);
        gbc.writeMem(0xd9a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x156c);
        EXPECT(gbc.pc(), 0xd9aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a8), 0xcb);
        EXPECT(gbc.readMem(0xd9a9), 0xb5);
        // CB B5 0118
        gbc.setState(0x15a, 0x715a, 0xa0d0, 0xde23, 0xbc7, 0x4601, 0x0, 0x0);
        gbc.writeMem(0x15a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x715a);
        EXPECT(gbc.pc(), 0x15c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0119
        gbc.setState(0x235f, 0xb16, 0x4150, 0x1e79, 0xd2bb, 0x2f95, 0x0, 0x0);
        gbc.writeMem(0x235f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb16);
        EXPECT(gbc.pc(), 0x2361);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 011A
        gbc.setState(0x1253, 0x21f9, 0xbce0, 0xee3e, 0xa966, 0x4943, 0x1, 0x0);
        gbc.writeMem(0x1253, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x21f9);
        EXPECT(gbc.pc(), 0x1255);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 011B
        gbc.setState(0x8169, 0x556c, 0xe950, 0x4241, 0x60e8, 0xd7f9, 0x0, 0x1);
        gbc.writeMem(0x8169, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x556c);
        EXPECT(gbc.pc(), 0x816b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8169), 0xcb);
        EXPECT(gbc.readMem(0x816a), 0xb5);
        // CB B5 011C
        gbc.setState(0xb285, 0x1594, 0xaae0, 0xc2a7, 0xbf6a, 0xebc2, 0x1, 0x0);
        gbc.writeMem(0xb285, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1594);
        EXPECT(gbc.pc(), 0xb287);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb285), 0xcb);
        EXPECT(gbc.readMem(0xb286), 0xb5);
        // CB B5 011D
        gbc.setState(0x9dae, 0x8fa6, 0xa5e0, 0xa982, 0xad3a, 0x13fd, 0x0, 0x1);
        gbc.writeMem(0x9dae, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x8fa6);
        EXPECT(gbc.pc(), 0x9db0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dae), 0xcb);
        EXPECT(gbc.readMem(0x9daf), 0xb5);
        // CB B5 011E
        gbc.setState(0xe1c7, 0x27c1, 0x4c50, 0x723e, 0xba78, 0x9c3e, 0x0, 0x0);
        gbc.writeMem(0xe1c7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x27c1);
        EXPECT(gbc.pc(), 0xe1c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c7), 0xcb);
        EXPECT(gbc.readMem(0xe1c8), 0xb5);
        // CB B5 011F
        gbc.setState(0xc3e5, 0xefa1, 0xbb20, 0xcf1e, 0x61d8, 0x13fe, 0x0, 0x1);
        gbc.writeMem(0xc3e5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xefa1);
        EXPECT(gbc.pc(), 0xc3e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3e5), 0xcb);
        EXPECT(gbc.readMem(0xc3e6), 0xb5);
        // CB B5 0120
        gbc.setState(0x5f3f, 0xf84, 0x78a0, 0x96f6, 0x3b66, 0x2190, 0x1, 0x0);
        gbc.writeMem(0x5f3f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xf84);
        EXPECT(gbc.pc(), 0x5f41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0121
        gbc.setState(0x5ed9, 0x80ec, 0x1fe0, 0xd407, 0xe7bf, 0x93fe, 0x0, 0x0);
        gbc.writeMem(0x5ed9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x80ec);
        EXPECT(gbc.pc(), 0x5edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0122
        gbc.setState(0x3d5f, 0x9c8e, 0xfac0, 0x65df, 0xb0ef, 0x940f, 0x0, 0x1);
        gbc.writeMem(0x3d5f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9c8e);
        EXPECT(gbc.pc(), 0x3d61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0123
        gbc.setState(0x33fd, 0x233, 0xcec0, 0x8f34, 0xa969, 0x8904, 0x0, 0x0);
        gbc.writeMem(0x33fd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x233);
        EXPECT(gbc.pc(), 0x33ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0124
        gbc.setState(0xe051, 0xc9f, 0x9a70, 0xe2f4, 0xdd29, 0xd1af, 0x1, 0x1);
        gbc.writeMem(0xe051, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc9f);
        EXPECT(gbc.pc(), 0xe053);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe051), 0xcb);
        EXPECT(gbc.readMem(0xe052), 0xb5);
        // CB B5 0125
        gbc.setState(0x9e97, 0x24e3, 0x2970, 0x8af4, 0x249, 0x60bd, 0x1, 0x0);
        gbc.writeMem(0x9e97, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x24e3);
        EXPECT(gbc.pc(), 0x9e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e97), 0xcb);
        EXPECT(gbc.readMem(0x9e98), 0xb5);
        // CB B5 0126
        gbc.setState(0xa6eb, 0xb593, 0x3df0, 0x9dd6, 0x7577, 0xaef7, 0x1, 0x1);
        gbc.writeMem(0xa6eb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xb593);
        EXPECT(gbc.pc(), 0xa6ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6eb), 0xcb);
        EXPECT(gbc.readMem(0xa6ec), 0xb5);
        // CB B5 0127
        gbc.setState(0x3513, 0x9939, 0xa370, 0x269a, 0xf5fd, 0x26f6, 0x1, 0x1);
        gbc.writeMem(0x3513, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9939);
        EXPECT(gbc.pc(), 0x3515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0128
        gbc.setState(0xd10d, 0x9eeb, 0xac0, 0xdb9, 0xe2f9, 0x5701, 0x0, 0x0);
        gbc.writeMem(0xd10d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9eeb);
        EXPECT(gbc.pc(), 0xd10f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd10d), 0xcb);
        EXPECT(gbc.readMem(0xd10e), 0xb5);
        // CB B5 0129
        gbc.setState(0x4e57, 0xaf0c, 0x6980, 0xcdd5, 0x494b, 0x8c1a, 0x1, 0x0);
        gbc.writeMem(0x4e57, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xaf0c);
        EXPECT(gbc.pc(), 0x4e59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 012A
        gbc.setState(0x2256, 0x227c, 0xd400, 0xcdcb, 0x65c3, 0x72a1, 0x1, 0x1);
        gbc.writeMem(0x2256, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x227c);
        EXPECT(gbc.pc(), 0x2258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 012B
        gbc.setState(0xdca2, 0xd7ee, 0xbb20, 0x34f3, 0x6809, 0x4f76, 0x0, 0x1);
        gbc.writeMem(0xdca2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd7ee);
        EXPECT(gbc.pc(), 0xdca4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdca2), 0xcb);
        EXPECT(gbc.readMem(0xdca3), 0xb5);
        // CB B5 012C
        gbc.setState(0xb4ab, 0xb17e, 0xd600, 0x8f8b, 0x3121, 0xf64c, 0x0, 0x1);
        gbc.writeMem(0xb4ab, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb17e);
        EXPECT(gbc.pc(), 0xb4ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ab), 0xcb);
        EXPECT(gbc.readMem(0xb4ac), 0xb5);
        // CB B5 012D
        gbc.setState(0x6e76, 0x3658, 0xeff0, 0xb2e2, 0xbe1, 0x622a, 0x1, 0x0);
        gbc.writeMem(0x6e76, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x3658);
        EXPECT(gbc.pc(), 0x6e78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 012E
        gbc.setState(0xdc7e, 0x2464, 0x85a0, 0x4557, 0x18b6, 0xf6e1, 0x0, 0x0);
        gbc.writeMem(0xdc7e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2464);
        EXPECT(gbc.pc(), 0xdc80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc7e), 0xcb);
        EXPECT(gbc.readMem(0xdc7f), 0xb5);
        // CB B5 012F
        gbc.setState(0x9b7d, 0xc0f9, 0xb130, 0x6ed7, 0x7d6c, 0x67f7, 0x0, 0x1);
        gbc.writeMem(0x9b7d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc0f9);
        EXPECT(gbc.pc(), 0x9b7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7d), 0xcb);
        EXPECT(gbc.readMem(0x9b7e), 0xb5);
        // CB B5 0130
        gbc.setState(0x681f, 0xbc88, 0x4d0, 0x8d81, 0x1eaf, 0xe310, 0x0, 0x0);
        gbc.writeMem(0x681f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xbc88);
        EXPECT(gbc.pc(), 0x6821);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0131
        gbc.setState(0x6c86, 0x845d, 0xb140, 0xa2b1, 0xe5ff, 0x272d, 0x0, 0x0);
        gbc.writeMem(0x6c86, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x845d);
        EXPECT(gbc.pc(), 0x6c88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0132
        gbc.setState(0xcdb6, 0x3410, 0x1b20, 0x37aa, 0x6094, 0x1c1, 0x1, 0x0);
        gbc.writeMem(0xcdb6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3410);
        EXPECT(gbc.pc(), 0xcdb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdb6), 0xcb);
        EXPECT(gbc.readMem(0xcdb7), 0xb5);
        // CB B5 0134
        gbc.setState(0x8dc0, 0xba1e, 0x1660, 0x7dba, 0xaed5, 0xb846, 0x1, 0x1);
        gbc.writeMem(0x8dc0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xba1e);
        EXPECT(gbc.pc(), 0x8dc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dc0), 0xcb);
        EXPECT(gbc.readMem(0x8dc1), 0xb5);
        // CB B5 0135
        gbc.setState(0xa594, 0xbdbd, 0x6f90, 0x2cef, 0x46cc, 0x7a4, 0x1, 0x1);
        gbc.writeMem(0xa594, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbdbd);
        EXPECT(gbc.pc(), 0xa596);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa594), 0xcb);
        EXPECT(gbc.readMem(0xa595), 0xb5);
        // CB B5 0136
        gbc.setState(0x3089, 0xcf40, 0x3130, 0x8355, 0xeb64, 0x7dfd, 0x0, 0x1);
        gbc.writeMem(0x3089, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcf40);
        EXPECT(gbc.pc(), 0x308b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0138
        gbc.setState(0x6a85, 0xe233, 0x6120, 0x4d83, 0x91da, 0xeeb4, 0x0, 0x0);
        gbc.writeMem(0x6a85, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xe233);
        EXPECT(gbc.pc(), 0x6a87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0139
        gbc.setState(0x7fa2, 0x8192, 0xf380, 0x2c04, 0xe5c5, 0x9fc3, 0x1, 0x0);
        gbc.writeMem(0x7fa2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8192);
        EXPECT(gbc.pc(), 0x7fa4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 013A
        gbc.setState(0xbd2f, 0xe54, 0xadb0, 0x6f94, 0x2974, 0x222c, 0x1, 0x0);
        gbc.writeMem(0xbd2f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe54);
        EXPECT(gbc.pc(), 0xbd31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd2f), 0xcb);
        EXPECT(gbc.readMem(0xbd30), 0xb5);
        // CB B5 013B
        gbc.setState(0xaa8b, 0x48f1, 0x2760, 0xaa84, 0x6686, 0x41b8, 0x1, 0x1);
        gbc.writeMem(0xaa8b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x48f1);
        EXPECT(gbc.pc(), 0xaa8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa8b), 0xcb);
        EXPECT(gbc.readMem(0xaa8c), 0xb5);
        // CB B5 013C
        gbc.setState(0x61cd, 0xa66b, 0x790, 0xe133, 0xf576, 0xaef7, 0x1, 0x0);
        gbc.writeMem(0x61cd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa66b);
        EXPECT(gbc.pc(), 0x61cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 013D
        gbc.setState(0xb2d8, 0x9a2, 0x9f50, 0x6d8a, 0x9abc, 0x5b62, 0x1, 0x1);
        gbc.writeMem(0xb2d8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9a2);
        EXPECT(gbc.pc(), 0xb2da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d8), 0xcb);
        EXPECT(gbc.readMem(0xb2d9), 0xb5);
        // CB B5 013E
        gbc.setState(0xb4e2, 0x85a8, 0x46c0, 0x6ef4, 0x9a6d, 0x23bd, 0x1, 0x0);
        gbc.writeMem(0xb4e2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x85a8);
        EXPECT(gbc.pc(), 0xb4e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e2), 0xcb);
        EXPECT(gbc.readMem(0xb4e3), 0xb5);
        // CB B5 0141
        gbc.setState(0x4227, 0x5809, 0x12b0, 0x7b0d, 0x7769, 0xe461, 0x1, 0x0);
        gbc.writeMem(0x4227, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5809);
        EXPECT(gbc.pc(), 0x4229);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0142
        gbc.setState(0x276f, 0xa990, 0x2d70, 0xd305, 0xb980, 0x7009, 0x1, 0x0);
        gbc.writeMem(0x276f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa990);
        EXPECT(gbc.pc(), 0x2771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0143
        gbc.setState(0xa6c6, 0xdfb0, 0xc540, 0x4026, 0x4e2d, 0xfcbf, 0x1, 0x1);
        gbc.writeMem(0xa6c6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdfb0);
        EXPECT(gbc.pc(), 0xa6c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c6), 0xcb);
        EXPECT(gbc.readMem(0xa6c7), 0xb5);
        // CB B5 0144
        gbc.setState(0x96cb, 0x8ddc, 0x45b0, 0x1be4, 0x310e, 0x5975, 0x1, 0x1);
        gbc.writeMem(0x96cb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8ddc);
        EXPECT(gbc.pc(), 0x96cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96cb), 0xcb);
        EXPECT(gbc.readMem(0x96cc), 0xb5);
        // CB B5 0145
        gbc.setState(0xdae2, 0xdc66, 0x8be0, 0xdf61, 0x536b, 0xa64, 0x0, 0x0);
        gbc.writeMem(0xdae2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xdc66);
        EXPECT(gbc.pc(), 0xdae4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae2), 0xcb);
        EXPECT(gbc.readMem(0xdae3), 0xb5);
        // CB B5 0146
        gbc.setState(0xdfa3, 0x1383, 0xeeb0, 0xa7f4, 0xd07a, 0x5525, 0x1, 0x0);
        gbc.writeMem(0xdfa3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1383);
        EXPECT(gbc.pc(), 0xdfa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfa3), 0xcb);
        EXPECT(gbc.readMem(0xdfa4), 0xb5);
        // CB B5 0147
        gbc.setState(0xb8e8, 0x57f5, 0x6e00, 0x9f66, 0x4a98, 0x52cf, 0x1, 0x0);
        gbc.writeMem(0xb8e8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x57f5);
        EXPECT(gbc.pc(), 0xb8ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e8), 0xcb);
        EXPECT(gbc.readMem(0xb8e9), 0xb5);
        // CB B5 0148
        gbc.setState(0xa8a5, 0xf101, 0x1ed0, 0xe481, 0x2b1f, 0x4d23, 0x0, 0x1);
        gbc.writeMem(0xa8a5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf101);
        EXPECT(gbc.pc(), 0xa8a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8a5), 0xcb);
        EXPECT(gbc.readMem(0xa8a6), 0xb5);
        // CB B5 0149
        gbc.setState(0xe319, 0xe0de, 0x1610, 0x56c1, 0xacf8, 0xb662, 0x0, 0x0);
        gbc.writeMem(0xe319, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe0de);
        EXPECT(gbc.pc(), 0xe31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe319), 0xcb);
        EXPECT(gbc.readMem(0xe31a), 0xb5);
        // CB B5 014B
        gbc.setState(0x64c4, 0x972b, 0x8400, 0x6818, 0x586c, 0xec31, 0x1, 0x1);
        gbc.writeMem(0x64c4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x972b);
        EXPECT(gbc.pc(), 0x64c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 014C
        gbc.setState(0xbb99, 0xee9e, 0x4d60, 0x79f8, 0x1410, 0x6fc8, 0x0, 0x0);
        gbc.writeMem(0xbb99, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xee9e);
        EXPECT(gbc.pc(), 0xbb9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb99), 0xcb);
        EXPECT(gbc.readMem(0xbb9a), 0xb5);
        // CB B5 014D
        gbc.setState(0x3b52, 0xa39b, 0xdea0, 0xe7af, 0xadb4, 0x76d9, 0x1, 0x0);
        gbc.writeMem(0x3b52, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xa39b);
        EXPECT(gbc.pc(), 0x3b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 014E
        gbc.setState(0xd3bf, 0x148e, 0x28a0, 0xbb13, 0xd39b, 0x72cf, 0x0, 0x1);
        gbc.writeMem(0xd3bf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x148e);
        EXPECT(gbc.pc(), 0xd3c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3bf), 0xcb);
        EXPECT(gbc.readMem(0xd3c0), 0xb5);
        // CB B5 014F
        gbc.setState(0xac4d, 0x1dcd, 0x9b80, 0x61ae, 0x9d83, 0x3686, 0x1, 0x0);
        gbc.writeMem(0xac4d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1dcd);
        EXPECT(gbc.pc(), 0xac4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac4d), 0xcb);
        EXPECT(gbc.readMem(0xac4e), 0xb5);
        // CB B5 0150
        gbc.setState(0x5ab7, 0x73a1, 0xf330, 0x5579, 0xb0ec, 0x76b3, 0x0, 0x1);
        gbc.writeMem(0x5ab7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x73a1);
        EXPECT(gbc.pc(), 0x5ab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0151
        gbc.setState(0xdb53, 0x56fb, 0x2d30, 0x3ff8, 0xc9c8, 0x3ccb, 0x0, 0x1);
        gbc.writeMem(0xdb53, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x56fb);
        EXPECT(gbc.pc(), 0xdb55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb53), 0xcb);
        EXPECT(gbc.readMem(0xdb54), 0xb5);
        // CB B5 0152
        gbc.setState(0x6f1c, 0xe787, 0xd630, 0x6c30, 0x78d8, 0x2f4b, 0x1, 0x0);
        gbc.writeMem(0x6f1c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xe787);
        EXPECT(gbc.pc(), 0x6f1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0153
        gbc.setState(0xc36d, 0xc981, 0x1910, 0x935b, 0xd8fc, 0x9775, 0x0, 0x0);
        gbc.writeMem(0xc36d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc981);
        EXPECT(gbc.pc(), 0xc36f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc36d), 0xcb);
        EXPECT(gbc.readMem(0xc36e), 0xb5);
        // CB B5 0154
        gbc.setState(0xc61a, 0x2609, 0xa710, 0xad43, 0x184a, 0xd7ac, 0x1, 0x1);
        gbc.writeMem(0xc61a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2609);
        EXPECT(gbc.pc(), 0xc61c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc61a), 0xcb);
        EXPECT(gbc.readMem(0xc61b), 0xb5);
        // CB B5 0155
        gbc.setState(0x6e31, 0x83f6, 0x4160, 0x7107, 0x4c4b, 0x44aa, 0x0, 0x0);
        gbc.writeMem(0x6e31, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x83f6);
        EXPECT(gbc.pc(), 0x6e33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0156
        gbc.setState(0x7c24, 0x4cf3, 0x18f0, 0x6640, 0xaa1d, 0x86bc, 0x0, 0x0);
        gbc.writeMem(0x7c24, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4cf3);
        EXPECT(gbc.pc(), 0x7c26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0157
        gbc.setState(0x45a8, 0x13d7, 0xa750, 0x288a, 0x422f, 0x1d47, 0x1, 0x1);
        gbc.writeMem(0x45a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x13d7);
        EXPECT(gbc.pc(), 0x45aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0158
        gbc.setState(0xa430, 0x95e1, 0x7e0, 0x5fb, 0x520a, 0x854d, 0x1, 0x0);
        gbc.writeMem(0xa430, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x95e1);
        EXPECT(gbc.pc(), 0xa432);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa430), 0xcb);
        EXPECT(gbc.readMem(0xa431), 0xb5);
        // CB B5 0159
        gbc.setState(0xceee, 0xedab, 0xf4f0, 0x6528, 0xd034, 0x78c3, 0x1, 0x1);
        gbc.writeMem(0xceee, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xedab);
        EXPECT(gbc.pc(), 0xcef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceee), 0xcb);
        EXPECT(gbc.readMem(0xceef), 0xb5);
        // CB B5 015A
        gbc.setState(0x1a6, 0x5235, 0x1690, 0xa3e1, 0x1b0c, 0x7509, 0x1, 0x0);
        gbc.writeMem(0x1a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5235);
        EXPECT(gbc.pc(), 0x1a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 015B
        gbc.setState(0xca48, 0xd2a1, 0xaff0, 0x6f7f, 0xd6eb, 0xd928, 0x0, 0x0);
        gbc.writeMem(0xca48, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd2a1);
        EXPECT(gbc.pc(), 0xca4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca48), 0xcb);
        EXPECT(gbc.readMem(0xca49), 0xb5);
        // CB B5 015C
        gbc.setState(0x5e56, 0xdd79, 0x9970, 0xbee5, 0x26bf, 0xb1d7, 0x1, 0x1);
        gbc.writeMem(0x5e56, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xdd79);
        EXPECT(gbc.pc(), 0x5e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 015D
        gbc.setState(0x53a4, 0xd8e7, 0x3950, 0xcf7b, 0x4cc, 0xd15, 0x0, 0x1);
        gbc.writeMem(0x53a4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd8e7);
        EXPECT(gbc.pc(), 0x53a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 015E
        gbc.setState(0x1982, 0xcce0, 0x2ec0, 0x73da, 0x559c, 0xf672, 0x1, 0x1);
        gbc.writeMem(0x1982, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xcce0);
        EXPECT(gbc.pc(), 0x1984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 015F
        gbc.setState(0xc362, 0x8683, 0xacc0, 0x39a6, 0xa125, 0xe478, 0x0, 0x1);
        gbc.writeMem(0xc362, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8683);
        EXPECT(gbc.pc(), 0xc364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc362), 0xcb);
        EXPECT(gbc.readMem(0xc363), 0xb5);
        // CB B5 0160
        gbc.setState(0x8f06, 0x20db, 0xbd80, 0x74c7, 0xda5e, 0xba6d, 0x0, 0x1);
        gbc.writeMem(0x8f06, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x20db);
        EXPECT(gbc.pc(), 0x8f08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f06), 0xcb);
        EXPECT(gbc.readMem(0x8f07), 0xb5);
        // CB B5 0161
        gbc.setState(0xcbe9, 0x7ccf, 0x8020, 0x8131, 0xb1ed, 0xc280, 0x0, 0x1);
        gbc.writeMem(0xcbe9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7ccf);
        EXPECT(gbc.pc(), 0xcbeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe9), 0xcb);
        EXPECT(gbc.readMem(0xcbea), 0xb5);
        // CB B5 0162
        gbc.setState(0x2ff9, 0xa712, 0xb8d0, 0x9975, 0x1d4e, 0x377a, 0x1, 0x1);
        gbc.writeMem(0x2ff9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xa712);
        EXPECT(gbc.pc(), 0x2ffb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0164
        gbc.setState(0xaa83, 0x9430, 0xfcb0, 0x5ac3, 0xa614, 0x3570, 0x1, 0x1);
        gbc.writeMem(0xaa83, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x9430);
        EXPECT(gbc.pc(), 0xaa85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa83), 0xcb);
        EXPECT(gbc.readMem(0xaa84), 0xb5);
        // CB B5 0165
        gbc.setState(0xe973, 0x5472, 0x6c60, 0x8d7, 0x8490, 0x62a2, 0x1, 0x1);
        gbc.writeMem(0xe973, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5472);
        EXPECT(gbc.pc(), 0xe975);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe973), 0xcb);
        EXPECT(gbc.readMem(0xe974), 0xb5);
        // CB B5 0166
        gbc.setState(0x1301, 0x9899, 0x60a0, 0x1928, 0xbb87, 0xa455, 0x0, 0x0);
        gbc.writeMem(0x1301, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x9899);
        EXPECT(gbc.pc(), 0x1303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0167
        gbc.setState(0x99f0, 0xa1ca, 0x3390, 0x39fc, 0x64a6, 0xc0d9, 0x1, 0x0);
        gbc.writeMem(0x99f0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xa1ca);
        EXPECT(gbc.pc(), 0x99f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99f0), 0xcb);
        EXPECT(gbc.readMem(0x99f1), 0xb5);
        // CB B5 0168
        gbc.setState(0x47a9, 0xa514, 0x8680, 0xec58, 0x7cab, 0x715d, 0x1, 0x1);
        gbc.writeMem(0x47a9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa514);
        EXPECT(gbc.pc(), 0x47ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0169
        gbc.setState(0x3b6c, 0xd50a, 0x7600, 0xfd9c, 0x1e56, 0x765e, 0x0, 0x1);
        gbc.writeMem(0x3b6c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd50a);
        EXPECT(gbc.pc(), 0x3b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 016A
        gbc.setState(0x6800, 0x9f48, 0x2850, 0x44fc, 0xb6af, 0xaeaf, 0x0, 0x0);
        gbc.writeMem(0x6800, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9f48);
        EXPECT(gbc.pc(), 0x6802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 016B
        gbc.setState(0xb95d, 0x46d, 0x1c10, 0x828a, 0xeee9, 0xb1ff, 0x1, 0x1);
        gbc.writeMem(0xb95d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x46d);
        EXPECT(gbc.pc(), 0xb95f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb95d), 0xcb);
        EXPECT(gbc.readMem(0xb95e), 0xb5);
        // CB B5 016C
        gbc.setState(0x390e, 0x8cc9, 0xb4e0, 0xd31c, 0xdac0, 0xb1bb, 0x0, 0x0);
        gbc.writeMem(0x390e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8cc9);
        EXPECT(gbc.pc(), 0x3910);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 016D
        gbc.setState(0x25c1, 0x24a, 0xd850, 0x3afa, 0xd58c, 0xe2d7, 0x1, 0x0);
        gbc.writeMem(0x25c1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x24a);
        EXPECT(gbc.pc(), 0x25c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 016E
        gbc.setState(0x6664, 0x22c1, 0x9740, 0x395d, 0x5a10, 0xb259, 0x1, 0x0);
        gbc.writeMem(0x6664, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x22c1);
        EXPECT(gbc.pc(), 0x6666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 016F
        gbc.setState(0x1452, 0x1ae5, 0x5eb0, 0x8442, 0xe568, 0xd25e, 0x0, 0x0);
        gbc.writeMem(0x1452, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1ae5);
        EXPECT(gbc.pc(), 0x1454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0170
        gbc.setState(0xc587, 0xf84a, 0x1f0, 0x70aa, 0x474b, 0x14f, 0x1, 0x0);
        gbc.writeMem(0xc587, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf84a);
        EXPECT(gbc.pc(), 0xc589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc587), 0xcb);
        EXPECT(gbc.readMem(0xc588), 0xb5);
        // CB B5 0171
        gbc.setState(0x2af, 0xd7d5, 0x71b0, 0x570, 0xed63, 0xc575, 0x0, 0x1);
        gbc.writeMem(0x2af, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xd7d5);
        EXPECT(gbc.pc(), 0x2b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0172
        gbc.setState(0xdc28, 0xa4, 0x5fd0, 0xe072, 0x1f17, 0xf677, 0x1, 0x1);
        gbc.writeMem(0xdc28, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa4);
        EXPECT(gbc.pc(), 0xdc2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc28), 0xcb);
        EXPECT(gbc.readMem(0xdc29), 0xb5);
        // CB B5 0174
        gbc.setState(0x47a6, 0x6316, 0xc1a0, 0x97ed, 0x7506, 0xfaa2, 0x1, 0x1);
        gbc.writeMem(0x47a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6316);
        EXPECT(gbc.pc(), 0x47a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0175
        gbc.setState(0x9e8, 0x8c27, 0x75a0, 0x7ab4, 0xdab4, 0x9a81, 0x1, 0x1);
        gbc.writeMem(0x9e8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8c27);
        EXPECT(gbc.pc(), 0x9ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0176
        gbc.setState(0xe945, 0x2c99, 0xa050, 0x495b, 0xcd4d, 0x2646, 0x1, 0x1);
        gbc.writeMem(0xe945, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2c99);
        EXPECT(gbc.pc(), 0xe947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe945), 0xcb);
        EXPECT(gbc.readMem(0xe946), 0xb5);
        // CB B5 0177
        gbc.setState(0xc622, 0x36b8, 0xc70, 0xffd9, 0x21b7, 0x323e, 0x0, 0x1);
        gbc.writeMem(0xc622, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x36b8);
        EXPECT(gbc.pc(), 0xc624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc622), 0xcb);
        EXPECT(gbc.readMem(0xc623), 0xb5);
        // CB B5 0178
        gbc.setState(0x56dd, 0x4e70, 0xec70, 0xfc3c, 0xc60e, 0x26cd, 0x1, 0x1);
        gbc.writeMem(0x56dd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4e70);
        EXPECT(gbc.pc(), 0x56df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0179
        gbc.setState(0x408d, 0xb802, 0x6410, 0x1bea, 0x74aa, 0x46b3, 0x1, 0x1);
        gbc.writeMem(0x408d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb802);
        EXPECT(gbc.pc(), 0x408f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 017A
        gbc.setState(0x4665, 0x5754, 0xd7e0, 0x7c0e, 0x29f4, 0xdbe8, 0x1, 0x1);
        gbc.writeMem(0x4665, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5754);
        EXPECT(gbc.pc(), 0x4667);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 017B
        gbc.setState(0x7154, 0xc04d, 0xc470, 0x2706, 0xeff1, 0xcd9d, 0x0, 0x1);
        gbc.writeMem(0x7154, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xc04d);
        EXPECT(gbc.pc(), 0x7156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 017C
        gbc.setState(0xc2b1, 0x32ff, 0x5b70, 0xe1, 0x5bc9, 0xbc4b, 0x0, 0x0);
        gbc.writeMem(0xc2b1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x32ff);
        EXPECT(gbc.pc(), 0xc2b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2b1), 0xcb);
        EXPECT(gbc.readMem(0xc2b2), 0xb5);
        // CB B5 017D
        gbc.setState(0x52fe, 0x58fb, 0xff40, 0x955, 0x47d9, 0xf0c0, 0x0, 0x1);
        gbc.writeMem(0x52fe, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x58fb);
        EXPECT(gbc.pc(), 0x5300);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 017E
        gbc.setState(0x5656, 0xf9fd, 0x19b0, 0xe5cf, 0x851f, 0x644c, 0x1, 0x0);
        gbc.writeMem(0x5656, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf9fd);
        EXPECT(gbc.pc(), 0x5658);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 017F
        gbc.setState(0x8208, 0x2eac, 0x9140, 0xb8bd, 0x2397, 0x8f9e, 0x1, 0x0);
        gbc.writeMem(0x8208, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x2eac);
        EXPECT(gbc.pc(), 0x820a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8208), 0xcb);
        EXPECT(gbc.readMem(0x8209), 0xb5);
        // CB B5 0180
        gbc.setState(0xb36b, 0x46a4, 0xa110, 0x355f, 0xe991, 0x9c58, 0x1, 0x1);
        gbc.writeMem(0xb36b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x46a4);
        EXPECT(gbc.pc(), 0xb36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb36b), 0xcb);
        EXPECT(gbc.readMem(0xb36c), 0xb5);
        // CB B5 0181
        gbc.setState(0x2485, 0x78a8, 0xd10, 0x23e6, 0x19d9, 0xf307, 0x1, 0x0);
        gbc.writeMem(0x2485, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x78a8);
        EXPECT(gbc.pc(), 0x2487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0182
        gbc.setState(0x46ff, 0x52c5, 0x2f10, 0x6b76, 0xca36, 0xa29d, 0x1, 0x0);
        gbc.writeMem(0x46ff, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x52c5);
        EXPECT(gbc.pc(), 0x4701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0183
        gbc.setState(0x241, 0xa62a, 0xf710, 0x19df, 0xb9ac, 0xf10, 0x1, 0x1);
        gbc.writeMem(0x241, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa62a);
        EXPECT(gbc.pc(), 0x243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0184
        gbc.setState(0x1e5, 0x5521, 0xb040, 0x2ff7, 0xd6e0, 0xf3ef, 0x1, 0x1);
        gbc.writeMem(0x1e5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5521);
        EXPECT(gbc.pc(), 0x1e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0186
        gbc.setState(0x4e99, 0xf1bb, 0x2700, 0x2db1, 0x4609, 0xbbf1, 0x0, 0x1);
        gbc.writeMem(0x4e99, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf1bb);
        EXPECT(gbc.pc(), 0x4e9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0187
        gbc.setState(0xafd8, 0x8eea, 0x1d10, 0xc02f, 0xd96f, 0x14cb, 0x1, 0x0);
        gbc.writeMem(0xafd8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8eea);
        EXPECT(gbc.pc(), 0xafda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafd8), 0xcb);
        EXPECT(gbc.readMem(0xafd9), 0xb5);
        // CB B5 0188
        gbc.setState(0x96ea, 0xa4f5, 0x3ce0, 0x77a9, 0xf320, 0xd0, 0x1, 0x0);
        gbc.writeMem(0x96ea, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa4f5);
        EXPECT(gbc.pc(), 0x96ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ea), 0xcb);
        EXPECT(gbc.readMem(0x96eb), 0xb5);
        // CB B5 0189
        gbc.setState(0x1e42, 0xbd30, 0xfc30, 0x318d, 0xcd35, 0x862f, 0x0, 0x1);
        gbc.writeMem(0x1e42, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xbd30);
        EXPECT(gbc.pc(), 0x1e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 018A
        gbc.setState(0xe2d7, 0xfc80, 0x4c90, 0x3aaa, 0xc24b, 0x9e7f, 0x0, 0x0);
        gbc.writeMem(0xe2d7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xfc80);
        EXPECT(gbc.pc(), 0xe2d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2d7), 0xcb);
        EXPECT(gbc.readMem(0xe2d8), 0xb5);
        // CB B5 018B
        gbc.setState(0xa1f5, 0xf400, 0x8d0, 0xe322, 0xf259, 0xf896, 0x1, 0x0);
        gbc.writeMem(0xa1f5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf400);
        EXPECT(gbc.pc(), 0xa1f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1f5), 0xcb);
        EXPECT(gbc.readMem(0xa1f6), 0xb5);
        // CB B5 018C
        gbc.setState(0x3da9, 0xd5a, 0x5d20, 0x433e, 0x5100, 0x2ed9, 0x1, 0x1);
        gbc.writeMem(0x3da9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd5a);
        EXPECT(gbc.pc(), 0x3dab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 018D
        gbc.setState(0x3d66, 0x632a, 0x70d0, 0xbffc, 0xd15f, 0xde7c, 0x0, 0x0);
        gbc.writeMem(0x3d66, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x632a);
        EXPECT(gbc.pc(), 0x3d68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 018E
        gbc.setState(0xab2d, 0x2ac1, 0xb480, 0x11e0, 0x8122, 0x86ad, 0x1, 0x0);
        gbc.writeMem(0xab2d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2ac1);
        EXPECT(gbc.pc(), 0xab2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab2d), 0xcb);
        EXPECT(gbc.readMem(0xab2e), 0xb5);
        // CB B5 018F
        gbc.setState(0xdf90, 0x26d3, 0x79d0, 0xdc56, 0x38, 0x3b0a, 0x0, 0x0);
        gbc.writeMem(0xdf90, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x26d3);
        EXPECT(gbc.pc(), 0xdf92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf90), 0xcb);
        EXPECT(gbc.readMem(0xdf91), 0xb5);
        // CB B5 0190
        gbc.setState(0xe4e7, 0xf14, 0xf40, 0x5ffd, 0x5e15, 0xdf1, 0x1, 0x0);
        gbc.writeMem(0xe4e7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf14);
        EXPECT(gbc.pc(), 0xe4e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4e7), 0xcb);
        EXPECT(gbc.readMem(0xe4e8), 0xb5);
        // CB B5 0192
        gbc.setState(0xe1b1, 0x3c26, 0x15c0, 0x38fc, 0xe141, 0xcff8, 0x0, 0x1);
        gbc.writeMem(0xe1b1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3c26);
        EXPECT(gbc.pc(), 0xe1b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1b1), 0xcb);
        EXPECT(gbc.readMem(0xe1b2), 0xb5);
        // CB B5 0193
        gbc.setState(0x62df, 0xdaf0, 0x6650, 0x2385, 0xc7dd, 0x43d8, 0x0, 0x0);
        gbc.writeMem(0x62df, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xdaf0);
        EXPECT(gbc.pc(), 0x62e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0194
        gbc.setState(0x92d1, 0x6d9a, 0xd040, 0x50b9, 0x8149, 0x5a1c, 0x0, 0x0);
        gbc.writeMem(0x92d1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6d9a);
        EXPECT(gbc.pc(), 0x92d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92d1), 0xcb);
        EXPECT(gbc.readMem(0x92d2), 0xb5);
        // CB B5 0195
        gbc.setState(0xad59, 0x8775, 0xc810, 0x73ec, 0x6067, 0xb71b, 0x0, 0x0);
        gbc.writeMem(0xad59, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8775);
        EXPECT(gbc.pc(), 0xad5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad59), 0xcb);
        EXPECT(gbc.readMem(0xad5a), 0xb5);
        // CB B5 0196
        gbc.setState(0x5b5, 0x7e24, 0x43a0, 0xaf6d, 0x464a, 0xed55, 0x1, 0x1);
        gbc.writeMem(0x5b5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7e24);
        EXPECT(gbc.pc(), 0x5b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0197
        gbc.setState(0xed05, 0x184d, 0x1d00, 0xeba4, 0x38bb, 0xf925, 0x0, 0x0);
        gbc.writeMem(0xed05, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x184d);
        EXPECT(gbc.pc(), 0xed07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed05), 0xcb);
        EXPECT(gbc.readMem(0xed06), 0xb5);
        // CB B5 0198
        gbc.setState(0x260, 0xa771, 0xe120, 0x698f, 0xb8a, 0x98e5, 0x1, 0x0);
        gbc.writeMem(0x260, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa771);
        EXPECT(gbc.pc(), 0x262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0199
        gbc.setState(0x4c07, 0x2288, 0x1150, 0x7d31, 0x7dfb, 0x684f, 0x0, 0x0);
        gbc.writeMem(0x4c07, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2288);
        EXPECT(gbc.pc(), 0x4c09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 019A
        gbc.setState(0x5a43, 0x7dd7, 0xbfc0, 0x88e5, 0xe57f, 0xdbc4, 0x1, 0x1);
        gbc.writeMem(0x5a43, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7dd7);
        EXPECT(gbc.pc(), 0x5a45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 019B
        gbc.setState(0x5ced, 0x3f84, 0x1860, 0x4e72, 0x9776, 0x388a, 0x1, 0x0);
        gbc.writeMem(0x5ced, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3f84);
        EXPECT(gbc.pc(), 0x5cef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 019C
        gbc.setState(0xbdbf, 0xe449, 0xa2a0, 0x7455, 0x376f, 0x45d1, 0x0, 0x1);
        gbc.writeMem(0xbdbf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe449);
        EXPECT(gbc.pc(), 0xbdc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdbf), 0xcb);
        EXPECT(gbc.readMem(0xbdc0), 0xb5);
        // CB B5 019D
        gbc.setState(0x91a, 0xa754, 0x3ba0, 0xbf09, 0x7a26, 0x1f3d, 0x1, 0x0);
        gbc.writeMem(0x91a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa754);
        EXPECT(gbc.pc(), 0x91c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 019E
        gbc.setState(0x2e74, 0x8fae, 0x75e0, 0x8a6, 0x3ca6, 0x3327, 0x1, 0x0);
        gbc.writeMem(0x2e74, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8fae);
        EXPECT(gbc.pc(), 0x2e76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 019F
        gbc.setState(0xef8e, 0xdf99, 0xa700, 0x9365, 0x652e, 0x1cb5, 0x1, 0x1);
        gbc.writeMem(0xef8e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xdf99);
        EXPECT(gbc.pc(), 0xef90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef8e), 0xcb);
        EXPECT(gbc.readMem(0xef8f), 0xb5);
        // CB B5 01A0
        gbc.setState(0x7bcf, 0xc694, 0x67d0, 0x831d, 0x2745, 0x3c9, 0x0, 0x1);
        gbc.writeMem(0x7bcf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc694);
        EXPECT(gbc.pc(), 0x7bd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01A1
        gbc.setState(0xd110, 0xadbf, 0x8e30, 0xd2b0, 0x454a, 0x8369, 0x1, 0x1);
        gbc.writeMem(0xd110, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xadbf);
        EXPECT(gbc.pc(), 0xd112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd110), 0xcb);
        EXPECT(gbc.readMem(0xd111), 0xb5);
        // CB B5 01A2
        gbc.setState(0x7f78, 0x2615, 0x9050, 0xc166, 0xe702, 0x1e6d, 0x1, 0x0);
        gbc.writeMem(0x7f78, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2615);
        EXPECT(gbc.pc(), 0x7f7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01A3
        gbc.setState(0xd913, 0xc58f, 0x3f40, 0x9e69, 0x6959, 0xac54, 0x1, 0x0);
        gbc.writeMem(0xd913, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc58f);
        EXPECT(gbc.pc(), 0xd915);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd913), 0xcb);
        EXPECT(gbc.readMem(0xd914), 0xb5);
        // CB B5 01A4
        gbc.setState(0x7a73, 0xe3da, 0xbca0, 0x7c68, 0x8cb0, 0xc692, 0x1, 0x0);
        gbc.writeMem(0x7a73, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe3da);
        EXPECT(gbc.pc(), 0x7a75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01A5
        gbc.setState(0xd3d5, 0x3b75, 0xebc0, 0x3fe9, 0xdeee, 0xc76, 0x1, 0x0);
        gbc.writeMem(0xd3d5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3b75);
        EXPECT(gbc.pc(), 0xd3d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d5), 0xcb);
        EXPECT(gbc.readMem(0xd3d6), 0xb5);
        // CB B5 01A6
        gbc.setState(0x93ef, 0x7b29, 0x7440, 0xa347, 0xad5a, 0x9c5c, 0x0, 0x1);
        gbc.writeMem(0x93ef, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7b29);
        EXPECT(gbc.pc(), 0x93f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ef), 0xcb);
        EXPECT(gbc.readMem(0x93f0), 0xb5);
        // CB B5 01A7
        gbc.setState(0xe07c, 0xf588, 0x4120, 0x98e4, 0x78e9, 0x292a, 0x0, 0x1);
        gbc.writeMem(0xe07c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf588);
        EXPECT(gbc.pc(), 0xe07e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe07c), 0xcb);
        EXPECT(gbc.readMem(0xe07d), 0xb5);
        // CB B5 01A8
        gbc.setState(0xe2b, 0x4f07, 0x9910, 0x502a, 0xce36, 0x3448, 0x0, 0x1);
        gbc.writeMem(0xe2b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4f07);
        EXPECT(gbc.pc(), 0xe2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01A9
        gbc.setState(0x479a, 0x602a, 0xff60, 0xdfc0, 0x133f, 0xbf72, 0x1, 0x1);
        gbc.writeMem(0x479a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x602a);
        EXPECT(gbc.pc(), 0x479c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01AA
        gbc.setState(0x4a88, 0xe2a3, 0x3c00, 0xcd86, 0x9542, 0x634a, 0x0, 0x0);
        gbc.writeMem(0x4a88, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe2a3);
        EXPECT(gbc.pc(), 0x4a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01AB
        gbc.setState(0x40ae, 0xdd6e, 0x2ba0, 0x384e, 0xa0f4, 0xbb39, 0x1, 0x0);
        gbc.writeMem(0x40ae, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xdd6e);
        EXPECT(gbc.pc(), 0x40b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01AC
        gbc.setState(0xda7, 0x8b01, 0x4840, 0x5d85, 0x53c4, 0x6083, 0x0, 0x1);
        gbc.writeMem(0xda7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8b01);
        EXPECT(gbc.pc(), 0xda9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01AD
        gbc.setState(0x911c, 0x4ce1, 0x2720, 0xdb4a, 0x1a04, 0x8b60, 0x1, 0x0);
        gbc.writeMem(0x911c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4ce1);
        EXPECT(gbc.pc(), 0x911e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x911c), 0xcb);
        EXPECT(gbc.readMem(0x911d), 0xb5);
        // CB B5 01AE
        gbc.setState(0x3dbc, 0x10b, 0x8ed0, 0xdaea, 0x84ca, 0x311, 0x0, 0x1);
        gbc.writeMem(0x3dbc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x10b);
        EXPECT(gbc.pc(), 0x3dbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01AF
        gbc.setState(0x4398, 0xafba, 0xb320, 0x4c0, 0xf4fd, 0xed20, 0x0, 0x0);
        gbc.writeMem(0x4398, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xafba);
        EXPECT(gbc.pc(), 0x439a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01B1
        gbc.setState(0xaafa, 0xa26e, 0xddd0, 0xb713, 0x2ca1, 0xc3ee, 0x1, 0x1);
        gbc.writeMem(0xaafa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa26e);
        EXPECT(gbc.pc(), 0xaafc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaafa), 0xcb);
        EXPECT(gbc.readMem(0xaafb), 0xb5);
        // CB B5 01B2
        gbc.setState(0x7058, 0x3786, 0x5000, 0x5d3, 0x1d94, 0xf503, 0x0, 0x0);
        gbc.writeMem(0x7058, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3786);
        EXPECT(gbc.pc(), 0x705a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01B3
        gbc.setState(0x593d, 0xebd5, 0x7100, 0x9fe5, 0xcf78, 0xd05b, 0x1, 0x0);
        gbc.writeMem(0x593d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xebd5);
        EXPECT(gbc.pc(), 0x593f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01B4
        gbc.setState(0xda9e, 0x3c20, 0x82f0, 0xc282, 0xa4d9, 0x9522, 0x1, 0x0);
        gbc.writeMem(0xda9e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3c20);
        EXPECT(gbc.pc(), 0xdaa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda9e), 0xcb);
        EXPECT(gbc.readMem(0xda9f), 0xb5);
        // CB B5 01B5
        gbc.setState(0x243, 0xb86, 0x7580, 0x8fbe, 0xfc56, 0x8a6b, 0x0, 0x1);
        gbc.writeMem(0x243, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb86);
        EXPECT(gbc.pc(), 0x245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01B6
        gbc.setState(0xb1d3, 0x3f06, 0x1b20, 0x3708, 0xf703, 0xcd1d, 0x0, 0x0);
        gbc.writeMem(0xb1d3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3f06);
        EXPECT(gbc.pc(), 0xb1d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1d3), 0xcb);
        EXPECT(gbc.readMem(0xb1d4), 0xb5);
        // CB B5 01B7
        gbc.setState(0x65e1, 0xbd2, 0x3f90, 0x5cab, 0xc252, 0x468f, 0x1, 0x1);
        gbc.writeMem(0x65e1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xbd2);
        EXPECT(gbc.pc(), 0x65e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01B8
        gbc.setState(0x13aa, 0x4451, 0x4780, 0xc0dc, 0xd92d, 0xcd56, 0x1, 0x1);
        gbc.writeMem(0x13aa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x4451);
        EXPECT(gbc.pc(), 0x13ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01B9
        gbc.setState(0x2b7f, 0x6884, 0xdee0, 0xc675, 0xb187, 0xb252, 0x0, 0x1);
        gbc.writeMem(0x2b7f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6884);
        EXPECT(gbc.pc(), 0x2b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01BA
        gbc.setState(0x31fc, 0xb655, 0xfa70, 0x1ac9, 0xa84, 0xe091, 0x0, 0x1);
        gbc.writeMem(0x31fc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb655);
        EXPECT(gbc.pc(), 0x31fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01BB
        gbc.setState(0x614f, 0xe26b, 0xe890, 0xcc7b, 0xe0c2, 0x86f, 0x1, 0x1);
        gbc.writeMem(0x614f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe26b);
        EXPECT(gbc.pc(), 0x6151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01BC
        gbc.setState(0x2033, 0x80d6, 0xb090, 0xe817, 0x2506, 0x28ab, 0x0, 0x1);
        gbc.writeMem(0x2033, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x80d6);
        EXPECT(gbc.pc(), 0x2035);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01BD
        gbc.setState(0x4bcc, 0x326f, 0x2290, 0xc2ea, 0xfb05, 0x857d, 0x1, 0x0);
        gbc.writeMem(0x4bcc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x326f);
        EXPECT(gbc.pc(), 0x4bce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01BE
        gbc.setState(0x19ec, 0xb079, 0x2bb0, 0x4191, 0x9484, 0x19a3, 0x0, 0x0);
        gbc.writeMem(0x19ec, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb079);
        EXPECT(gbc.pc(), 0x19ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01BF
        gbc.setState(0x2eb1, 0xe95f, 0xd400, 0x87bd, 0xafba, 0x30cf, 0x0, 0x0);
        gbc.writeMem(0x2eb1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe95f);
        EXPECT(gbc.pc(), 0x2eb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01C0
        gbc.setState(0xaa49, 0xc0de, 0x2320, 0x817a, 0x2db8, 0xbef2, 0x0, 0x0);
        gbc.writeMem(0xaa49, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc0de);
        EXPECT(gbc.pc(), 0xaa4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa49), 0xcb);
        EXPECT(gbc.readMem(0xaa4a), 0xb5);
        // CB B5 01C1
        gbc.setState(0x808d, 0x4e38, 0x52a0, 0x47df, 0x14e4, 0x268a, 0x1, 0x1);
        gbc.writeMem(0x808d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x4e38);
        EXPECT(gbc.pc(), 0x808f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x808d), 0xcb);
        EXPECT(gbc.readMem(0x808e), 0xb5);
        // CB B5 01C3
        gbc.setState(0x7028, 0xf729, 0x20, 0xc0a3, 0x1c99, 0x4d75, 0x1, 0x1);
        gbc.writeMem(0x7028, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xf729);
        EXPECT(gbc.pc(), 0x702a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01C4
        gbc.setState(0xe0b6, 0x3021, 0x2900, 0x89be, 0xf0d6, 0xc8f8, 0x0, 0x0);
        gbc.writeMem(0xe0b6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3021);
        EXPECT(gbc.pc(), 0xe0b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0b6), 0xcb);
        EXPECT(gbc.readMem(0xe0b7), 0xb5);
        // CB B5 01C5
        gbc.setState(0x852f, 0xf2b, 0x2450, 0xd526, 0x469c, 0x5389, 0x1, 0x1);
        gbc.writeMem(0x852f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xf2b);
        EXPECT(gbc.pc(), 0x8531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x852f), 0xcb);
        EXPECT(gbc.readMem(0x8530), 0xb5);
        // CB B5 01C6
        gbc.setState(0xcc9b, 0x1e2f, 0xc170, 0xa693, 0x30d7, 0x4c6b, 0x1, 0x0);
        gbc.writeMem(0xcc9b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1e2f);
        EXPECT(gbc.pc(), 0xcc9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc9b), 0xcb);
        EXPECT(gbc.readMem(0xcc9c), 0xb5);
        // CB B5 01C7
        gbc.setState(0x5369, 0x2ec, 0xad40, 0x327e, 0x632c, 0x5ef1, 0x1, 0x1);
        gbc.writeMem(0x5369, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2ec);
        EXPECT(gbc.pc(), 0x536b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01C8
        gbc.setState(0xe6a6, 0x44d3, 0xb740, 0x32be, 0xc162, 0x7777, 0x1, 0x0);
        gbc.writeMem(0xe6a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x44d3);
        EXPECT(gbc.pc(), 0xe6a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a6), 0xcb);
        EXPECT(gbc.readMem(0xe6a7), 0xb5);
        // CB B5 01C9
        gbc.setState(0x4f30, 0x85f8, 0x8ea0, 0xc768, 0x6f31, 0x6919, 0x1, 0x0);
        gbc.writeMem(0x4f30, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x85f8);
        EXPECT(gbc.pc(), 0x4f32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01CA
        gbc.setState(0x7098, 0x951d, 0xaee0, 0xc69c, 0x2138, 0x6140, 0x0, 0x1);
        gbc.writeMem(0x7098, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x951d);
        EXPECT(gbc.pc(), 0x709a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01CB
        gbc.setState(0xe784, 0x8d1, 0xf0e0, 0xad60, 0x1aa3, 0xcf3b, 0x1, 0x0);
        gbc.writeMem(0xe784, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8d1);
        EXPECT(gbc.pc(), 0xe786);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe784), 0xcb);
        EXPECT(gbc.readMem(0xe785), 0xb5);
        // CB B5 01CC
        gbc.setState(0x6a7b, 0x8e30, 0x5080, 0xbe0d, 0xce6b, 0x74ef, 0x0, 0x1);
        gbc.writeMem(0x6a7b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8e30);
        EXPECT(gbc.pc(), 0x6a7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01CD
        gbc.setState(0x7ebe, 0xcb86, 0x74a0, 0xeba6, 0x1266, 0x951d, 0x0, 0x0);
        gbc.writeMem(0x7ebe, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcb86);
        EXPECT(gbc.pc(), 0x7ec0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01CE
        gbc.setState(0xb50, 0x5691, 0x9150, 0x8dc, 0x8416, 0x4aa6, 0x1, 0x0);
        gbc.writeMem(0xb50, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5691);
        EXPECT(gbc.pc(), 0xb52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01CF
        gbc.setState(0x2e5a, 0xa926, 0x3430, 0x90db, 0x282c, 0x92c3, 0x1, 0x0);
        gbc.writeMem(0x2e5a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa926);
        EXPECT(gbc.pc(), 0x2e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01D0
        gbc.setState(0xa10c, 0x58cb, 0x37a0, 0x790a, 0x15a3, 0xbcab, 0x0, 0x1);
        gbc.writeMem(0xa10c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x58cb);
        EXPECT(gbc.pc(), 0xa10e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa10c), 0xcb);
        EXPECT(gbc.readMem(0xa10d), 0xb5);
        // CB B5 01D1
        gbc.setState(0x2, 0x4110, 0xb5d0, 0x5146, 0xa1, 0x1888, 0x0, 0x0);
        gbc.writeMem(0x2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4110);
        EXPECT(gbc.pc(), 0x4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01D2
        gbc.setState(0xb4c3, 0xe77b, 0x2f0, 0x8dd2, 0xea85, 0xbee1, 0x0, 0x0);
        gbc.writeMem(0xb4c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe77b);
        EXPECT(gbc.pc(), 0xb4c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4c3), 0xcb);
        EXPECT(gbc.readMem(0xb4c4), 0xb5);
        // CB B5 01D3
        gbc.setState(0x29af, 0x8dbc, 0x6bf0, 0xefc9, 0x3ea9, 0x1d45, 0x0, 0x1);
        gbc.writeMem(0x29af, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8dbc);
        EXPECT(gbc.pc(), 0x29b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01D4
        gbc.setState(0x6642, 0x8c6, 0x7260, 0x8506, 0x660c, 0xaf6f, 0x0, 0x0);
        gbc.writeMem(0x6642, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8c6);
        EXPECT(gbc.pc(), 0x6644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01D5
        gbc.setState(0x355b, 0x546b, 0x31b0, 0x94e2, 0x7573, 0xf9c9, 0x0, 0x1);
        gbc.writeMem(0x355b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x546b);
        EXPECT(gbc.pc(), 0x355d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01D6
        gbc.setState(0x4230, 0x6720, 0x9ec0, 0x847f, 0xf9e6, 0xd39b, 0x1, 0x1);
        gbc.writeMem(0x4230, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6720);
        EXPECT(gbc.pc(), 0x4232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01D7
        gbc.setState(0x6d22, 0xac82, 0xb930, 0xe09e, 0x5ab1, 0x3552, 0x0, 0x1);
        gbc.writeMem(0x6d22, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xac82);
        EXPECT(gbc.pc(), 0x6d24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01D8
        gbc.setState(0x7b7b, 0xb77d, 0xcec0, 0x83bb, 0xd7a3, 0xbb70, 0x1, 0x0);
        gbc.writeMem(0x7b7b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb77d);
        EXPECT(gbc.pc(), 0x7b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01D9
        gbc.setState(0x6d94, 0x2a1b, 0x5540, 0x7eb0, 0x5965, 0x7cc6, 0x1, 0x1);
        gbc.writeMem(0x6d94, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2a1b);
        EXPECT(gbc.pc(), 0x6d96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01DB
        gbc.setState(0xa46c, 0xd948, 0xc250, 0x42f, 0x251, 0xa289, 0x1, 0x0);
        gbc.writeMem(0xa46c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xd948);
        EXPECT(gbc.pc(), 0xa46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa46c), 0xcb);
        EXPECT(gbc.readMem(0xa46d), 0xb5);
        // CB B5 01DC
        gbc.setState(0x837e, 0xa40a, 0x3940, 0xa552, 0x8739, 0xc1fe, 0x1, 0x1);
        gbc.writeMem(0x837e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa40a);
        EXPECT(gbc.pc(), 0x8380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x837e), 0xcb);
        EXPECT(gbc.readMem(0x837f), 0xb5);
        // CB B5 01DD
        gbc.setState(0xaf79, 0x94d1, 0x1260, 0x3dcb, 0xbb38, 0x9961, 0x1, 0x1);
        gbc.writeMem(0xaf79, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x94d1);
        EXPECT(gbc.pc(), 0xaf7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf79), 0xcb);
        EXPECT(gbc.readMem(0xaf7a), 0xb5);
        // CB B5 01DF
        gbc.setState(0xb664, 0xdfe7, 0x9d0, 0x4424, 0x3366, 0xd554, 0x1, 0x0);
        gbc.writeMem(0xb664, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdfe7);
        EXPECT(gbc.pc(), 0xb666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb664), 0xcb);
        EXPECT(gbc.readMem(0xb665), 0xb5);
        // CB B5 01E0
        gbc.setState(0xc18c, 0xe378, 0xadf0, 0xa9a8, 0xa933, 0xaebe, 0x1, 0x0);
        gbc.writeMem(0xc18c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe378);
        EXPECT(gbc.pc(), 0xc18e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc18c), 0xcb);
        EXPECT(gbc.readMem(0xc18d), 0xb5);
        // CB B5 01E1
        gbc.setState(0xe35c, 0x77a1, 0x34c0, 0x8d32, 0xa5bc, 0x6389, 0x1, 0x0);
        gbc.writeMem(0xe35c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x77a1);
        EXPECT(gbc.pc(), 0xe35e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe35c), 0xcb);
        EXPECT(gbc.readMem(0xe35d), 0xb5);
        // CB B5 01E2
        gbc.setState(0x60c3, 0x42f3, 0xda30, 0x171, 0xe269, 0xd129, 0x0, 0x1);
        gbc.writeMem(0x60c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x42f3);
        EXPECT(gbc.pc(), 0x60c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01E3
        gbc.setState(0xab89, 0xa1d0, 0xcec0, 0x4a31, 0xd59a, 0x9d0e, 0x1, 0x1);
        gbc.writeMem(0xab89, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa1d0);
        EXPECT(gbc.pc(), 0xab8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab89), 0xcb);
        EXPECT(gbc.readMem(0xab8a), 0xb5);
        // CB B5 01E4
        gbc.setState(0xc32b, 0x23c4, 0x5e40, 0xf82, 0xb59a, 0xf3ee, 0x0, 0x0);
        gbc.writeMem(0xc32b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x23c4);
        EXPECT(gbc.pc(), 0xc32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc32b), 0xcb);
        EXPECT(gbc.readMem(0xc32c), 0xb5);
        // CB B5 01E5
        gbc.setState(0x132c, 0x3c33, 0x350, 0x42a0, 0x33fd, 0xc903, 0x0, 0x0);
        gbc.writeMem(0x132c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3c33);
        EXPECT(gbc.pc(), 0x132e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01E7
        gbc.setState(0xc9a, 0xbe8b, 0x3900, 0x5cab, 0x9bcb, 0x698e, 0x1, 0x1);
        gbc.writeMem(0xc9a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbe8b);
        EXPECT(gbc.pc(), 0xc9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01E8
        gbc.setState(0x772c, 0x9bfa, 0x3f60, 0xb431, 0x8e47, 0xf592, 0x0, 0x1);
        gbc.writeMem(0x772c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9bfa);
        EXPECT(gbc.pc(), 0x772e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01E9
        gbc.setState(0xc343, 0x8260, 0xa890, 0x86b6, 0xefa8, 0x1e25, 0x0, 0x0);
        gbc.writeMem(0xc343, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x8260);
        EXPECT(gbc.pc(), 0xc345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc343), 0xcb);
        EXPECT(gbc.readMem(0xc344), 0xb5);
        // CB B5 01EA
        gbc.setState(0xb7e6, 0x8db4, 0x95f0, 0x1c1b, 0x6142, 0xe857, 0x1, 0x1);
        gbc.writeMem(0xb7e6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8db4);
        EXPECT(gbc.pc(), 0xb7e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7e6), 0xcb);
        EXPECT(gbc.readMem(0xb7e7), 0xb5);
        // CB B5 01EB
        gbc.setState(0x70a6, 0x80fe, 0x60f0, 0xd1b9, 0x2132, 0x7edb, 0x0, 0x1);
        gbc.writeMem(0x70a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x80fe);
        EXPECT(gbc.pc(), 0x70a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01ED
        gbc.setState(0x2b69, 0x6b84, 0xff70, 0x1093, 0xc0cb, 0x1b6d, 0x0, 0x0);
        gbc.writeMem(0x2b69, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6b84);
        EXPECT(gbc.pc(), 0x2b6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01EE
        gbc.setState(0x62d5, 0xa9c7, 0x9f80, 0x55dc, 0x90f, 0x34d4, 0x1, 0x0);
        gbc.writeMem(0x62d5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa9c7);
        EXPECT(gbc.pc(), 0x62d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01F0
        gbc.setState(0xd33, 0x1daf, 0xad0, 0x97a7, 0xe68d, 0x5f67, 0x1, 0x0);
        gbc.writeMem(0xd33, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x1daf);
        EXPECT(gbc.pc(), 0xd35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01F1
        gbc.setState(0x3a0f, 0xd57a, 0x10c0, 0xbb84, 0x6500, 0x5fdb, 0x1, 0x1);
        gbc.writeMem(0x3a0f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xd57a);
        EXPECT(gbc.pc(), 0x3a11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01F2
        gbc.setState(0x95db, 0x1ca9, 0xa510, 0x2c99, 0x3e96, 0x71e7, 0x0, 0x1);
        gbc.writeMem(0x95db, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1ca9);
        EXPECT(gbc.pc(), 0x95dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95db), 0xcb);
        EXPECT(gbc.readMem(0x95dc), 0xb5);
        // CB B5 01F3
        gbc.setState(0xe439, 0x4ffa, 0x880, 0x206f, 0x5c32, 0xbb37, 0x0, 0x1);
        gbc.writeMem(0xe439, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4ffa);
        EXPECT(gbc.pc(), 0xe43b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe439), 0xcb);
        EXPECT(gbc.readMem(0xe43a), 0xb5);
        // CB B5 01F5
        gbc.setState(0x602d, 0xc8a, 0xd740, 0x67bf, 0x9afa, 0xeba9, 0x1, 0x1);
        gbc.writeMem(0x602d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xc8a);
        EXPECT(gbc.pc(), 0x602f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01F6
        gbc.setState(0x6bfd, 0x9563, 0x4f50, 0x238d, 0xdaa7, 0x1b74, 0x1, 0x1);
        gbc.writeMem(0x6bfd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9563);
        EXPECT(gbc.pc(), 0x6bff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01F7
        gbc.setState(0x58ac, 0x8cf8, 0x7f40, 0xd8e1, 0xf4d5, 0x36ba, 0x0, 0x0);
        gbc.writeMem(0x58ac, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x8cf8);
        EXPECT(gbc.pc(), 0x58ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01F8
        gbc.setState(0x114c, 0x31d8, 0xb3a0, 0x34bd, 0xa0bb, 0x5dbb, 0x0, 0x0);
        gbc.writeMem(0x114c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x31d8);
        EXPECT(gbc.pc(), 0x114e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01F9
        gbc.setState(0xbc89, 0x891b, 0x8fc0, 0xbe2, 0x8681, 0xdcc2, 0x0, 0x1);
        gbc.writeMem(0xbc89, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x891b);
        EXPECT(gbc.pc(), 0xbc8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc89), 0xcb);
        EXPECT(gbc.readMem(0xbc8a), 0xb5);
        // CB B5 01FA
        gbc.setState(0xab9c, 0x41d9, 0x17f0, 0xdec5, 0xc22, 0xbf0c, 0x0, 0x1);
        gbc.writeMem(0xab9c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x41d9);
        EXPECT(gbc.pc(), 0xab9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab9c), 0xcb);
        EXPECT(gbc.readMem(0xab9d), 0xb5);
        // CB B5 01FB
        gbc.setState(0x6789, 0x83b1, 0x3a40, 0xb249, 0x1d7e, 0xdb9b, 0x1, 0x1);
        gbc.writeMem(0x6789, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x83b1);
        EXPECT(gbc.pc(), 0x678b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01FC
        gbc.setState(0x4fd1, 0xf7bc, 0x2e90, 0x4651, 0xd274, 0xf27a, 0x0, 0x1);
        gbc.writeMem(0x4fd1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf7bc);
        EXPECT(gbc.pc(), 0x4fd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 01FD
        gbc.setState(0x858a, 0xd55a, 0x4760, 0x27ef, 0x3064, 0x2125, 0x1, 0x1);
        gbc.writeMem(0x858a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd55a);
        EXPECT(gbc.pc(), 0x858c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x858a), 0xcb);
        EXPECT(gbc.readMem(0x858b), 0xb5);
        // CB B5 01FE
        gbc.setState(0x2e0c, 0xf190, 0xede0, 0x4e24, 0x7cf9, 0x9aaa, 0x0, 0x1);
        gbc.writeMem(0x2e0c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf190);
        EXPECT(gbc.pc(), 0x2e0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 01FF
        gbc.setState(0x273, 0xdb1c, 0x2390, 0x88b7, 0xc393, 0x9eac, 0x1, 0x0);
        gbc.writeMem(0x273, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xdb1c);
        EXPECT(gbc.pc(), 0x275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0200
        gbc.setState(0x3bb4, 0xa642, 0x24e0, 0x4e33, 0x41b7, 0xd2bc, 0x1, 0x1);
        gbc.writeMem(0x3bb4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa642);
        EXPECT(gbc.pc(), 0x3bb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0202
        gbc.setState(0x2c43, 0xb5e1, 0x8b30, 0x9a2b, 0xbc6a, 0xdb47, 0x0, 0x1);
        gbc.writeMem(0x2c43, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb5e1);
        EXPECT(gbc.pc(), 0x2c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0203
        gbc.setState(0x4e7a, 0xd914, 0x7b30, 0x7808, 0x79f5, 0x307f, 0x1, 0x0);
        gbc.writeMem(0x4e7a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd914);
        EXPECT(gbc.pc(), 0x4e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0207
        gbc.setState(0x4c8c, 0xc48a, 0x5ed0, 0xf410, 0xd30e, 0x5204, 0x1, 0x1);
        gbc.writeMem(0x4c8c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc48a);
        EXPECT(gbc.pc(), 0x4c8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0208
        gbc.setState(0x9db, 0x4f16, 0x3700, 0x100f, 0x5e2a, 0x7fcf, 0x1, 0x1);
        gbc.writeMem(0x9db, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4f16);
        EXPECT(gbc.pc(), 0x9dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0209
        gbc.setState(0x52b4, 0xe203, 0x1190, 0x8c51, 0x3e9b, 0x71ac, 0x1, 0x0);
        gbc.writeMem(0x52b4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe203);
        EXPECT(gbc.pc(), 0x52b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 020A
        gbc.setState(0x673, 0x1b9e, 0xfef0, 0x8cee, 0x2ac5, 0x838e, 0x0, 0x0);
        gbc.writeMem(0x673, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1b9e);
        EXPECT(gbc.pc(), 0x675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 020B
        gbc.setState(0x291f, 0xa6b3, 0xb970, 0xba5d, 0x660a, 0xd18a, 0x1, 0x1);
        gbc.writeMem(0x291f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa6b3);
        EXPECT(gbc.pc(), 0x2921);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 020C
        gbc.setState(0x7748, 0x6c78, 0xa080, 0x602a, 0x3240, 0x28d0, 0x1, 0x0);
        gbc.writeMem(0x7748, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6c78);
        EXPECT(gbc.pc(), 0x774a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 020D
        gbc.setState(0x6e1c, 0x70b9, 0x9b00, 0xc63d, 0x799f, 0x158c, 0x1, 0x1);
        gbc.writeMem(0x6e1c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x70b9);
        EXPECT(gbc.pc(), 0x6e1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 020E
        gbc.setState(0x7db2, 0x3a45, 0x4340, 0x3c9c, 0xd5e1, 0xfe26, 0x0, 0x0);
        gbc.writeMem(0x7db2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x3a45);
        EXPECT(gbc.pc(), 0x7db4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 020F
        gbc.setState(0xaccf, 0x29db, 0xacb0, 0x2330, 0xa39e, 0xc13e, 0x0, 0x1);
        gbc.writeMem(0xaccf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x29db);
        EXPECT(gbc.pc(), 0xacd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaccf), 0xcb);
        EXPECT(gbc.readMem(0xacd0), 0xb5);
        // CB B5 0210
        gbc.setState(0xe16a, 0x8b97, 0x1d00, 0xbeab, 0xf9b7, 0xe48d, 0x0, 0x0);
        gbc.writeMem(0xe16a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8b97);
        EXPECT(gbc.pc(), 0xe16c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16a), 0xcb);
        EXPECT(gbc.readMem(0xe16b), 0xb5);
        // CB B5 0211
        gbc.setState(0x3f0f, 0xdb03, 0xe1f0, 0xd814, 0xab90, 0x89aa, 0x1, 0x0);
        gbc.writeMem(0x3f0f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdb03);
        EXPECT(gbc.pc(), 0x3f11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0212
        gbc.setState(0xa917, 0xf103, 0x1d10, 0x955, 0x7088, 0x9969, 0x1, 0x0);
        gbc.writeMem(0xa917, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xf103);
        EXPECT(gbc.pc(), 0xa919);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa917), 0xcb);
        EXPECT(gbc.readMem(0xa918), 0xb5);
        // CB B5 0213
        gbc.setState(0x9616, 0xfbca, 0x2460, 0x4fb, 0x251a, 0x19b2, 0x0, 0x0);
        gbc.writeMem(0x9616, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xfbca);
        EXPECT(gbc.pc(), 0x9618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9616), 0xcb);
        EXPECT(gbc.readMem(0x9617), 0xb5);
        // CB B5 0214
        gbc.setState(0xb06f, 0x9bdb, 0x9e70, 0x5e03, 0xff69, 0x3002, 0x1, 0x1);
        gbc.writeMem(0xb06f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9bdb);
        EXPECT(gbc.pc(), 0xb071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06f), 0xcb);
        EXPECT(gbc.readMem(0xb070), 0xb5);
        // CB B5 0215
        gbc.setState(0x1e75, 0x7d0c, 0xd660, 0xcbde, 0x6f2c, 0xe100, 0x1, 0x1);
        gbc.writeMem(0x1e75, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7d0c);
        EXPECT(gbc.pc(), 0x1e77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0216
        gbc.setState(0xde40, 0x8aa2, 0x5960, 0xb65c, 0x20c8, 0x1b45, 0x0, 0x0);
        gbc.writeMem(0xde40, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8aa2);
        EXPECT(gbc.pc(), 0xde42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde40), 0xcb);
        EXPECT(gbc.readMem(0xde41), 0xb5);
        // CB B5 0217
        gbc.setState(0xbfc3, 0x9db8, 0xf1e0, 0xf5de, 0x62d, 0xef10, 0x0, 0x1);
        gbc.writeMem(0xbfc3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9db8);
        EXPECT(gbc.pc(), 0xbfc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfc3), 0xcb);
        EXPECT(gbc.readMem(0xbfc4), 0xb5);
        // CB B5 0218
        gbc.setState(0x50ed, 0x6d0d, 0x66a0, 0x485e, 0xaeb3, 0xe65a, 0x1, 0x1);
        gbc.writeMem(0x50ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6d0d);
        EXPECT(gbc.pc(), 0x50ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0219
        gbc.setState(0x7997, 0x2841, 0x4630, 0x45fe, 0x7b59, 0x917a, 0x1, 0x0);
        gbc.writeMem(0x7997, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2841);
        EXPECT(gbc.pc(), 0x7999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 021A
        gbc.setState(0x46c6, 0x2aba, 0x9f30, 0xcb1c, 0x1ffd, 0x704c, 0x1, 0x1);
        gbc.writeMem(0x46c6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2aba);
        EXPECT(gbc.pc(), 0x46c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 021B
        gbc.setState(0x49ae, 0xa8d3, 0x9040, 0x9f95, 0x4e58, 0x769d, 0x0, 0x0);
        gbc.writeMem(0x49ae, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa8d3);
        EXPECT(gbc.pc(), 0x49b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 021C
        gbc.setState(0xaee8, 0x8865, 0xe90, 0xe8d0, 0x7aa6, 0x9d1b, 0x0, 0x0);
        gbc.writeMem(0xaee8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x8865);
        EXPECT(gbc.pc(), 0xaeea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaee8), 0xcb);
        EXPECT(gbc.readMem(0xaee9), 0xb5);
        // CB B5 021D
        gbc.setState(0x1e2, 0x6e58, 0xe430, 0x853d, 0xb430, 0x5afa, 0x1, 0x0);
        gbc.writeMem(0x1e2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6e58);
        EXPECT(gbc.pc(), 0x1e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 021E
        gbc.setState(0xbe26, 0xfeba, 0xbbb0, 0xf8c0, 0x6e9a, 0x54ec, 0x1, 0x0);
        gbc.writeMem(0xbe26, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfeba);
        EXPECT(gbc.pc(), 0xbe28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe26), 0xcb);
        EXPECT(gbc.readMem(0xbe27), 0xb5);
        // CB B5 021F
        gbc.setState(0xa1ee, 0xc595, 0x7ac0, 0x94bf, 0x37f4, 0x5055, 0x0, 0x1);
        gbc.writeMem(0xa1ee, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc595);
        EXPECT(gbc.pc(), 0xa1f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1ee), 0xcb);
        EXPECT(gbc.readMem(0xa1ef), 0xb5);
        // CB B5 0221
        gbc.setState(0x9d11, 0x7b17, 0x2970, 0x3d35, 0xe8c2, 0x5b07, 0x1, 0x0);
        gbc.writeMem(0x9d11, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7b17);
        EXPECT(gbc.pc(), 0x9d13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d11), 0xcb);
        EXPECT(gbc.readMem(0x9d12), 0xb5);
        // CB B5 0222
        gbc.setState(0xcf74, 0xb68c, 0x97b0, 0xb3ff, 0x99f5, 0xde16, 0x0, 0x0);
        gbc.writeMem(0xcf74, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb68c);
        EXPECT(gbc.pc(), 0xcf76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf74), 0xcb);
        EXPECT(gbc.readMem(0xcf75), 0xb5);
        // CB B5 0223
        gbc.setState(0x2bc2, 0xb2d8, 0x4e20, 0xe714, 0xaa88, 0xe5ef, 0x0, 0x1);
        gbc.writeMem(0x2bc2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb2d8);
        EXPECT(gbc.pc(), 0x2bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0224
        gbc.setState(0x184c, 0x2e31, 0xb480, 0xf10, 0xc1d9, 0x323c, 0x0, 0x1);
        gbc.writeMem(0x184c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2e31);
        EXPECT(gbc.pc(), 0x184e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0225
        gbc.setState(0xaea7, 0xcbd2, 0xff0, 0xe358, 0x43c9, 0x6d0e, 0x0, 0x0);
        gbc.writeMem(0xaea7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xcbd2);
        EXPECT(gbc.pc(), 0xaea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaea7), 0xcb);
        EXPECT(gbc.readMem(0xaea8), 0xb5);
        // CB B5 0226
        gbc.setState(0xdb5f, 0xb8af, 0xf5d0, 0xec1d, 0x6ce5, 0x58cb, 0x1, 0x0);
        gbc.writeMem(0xdb5f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb8af);
        EXPECT(gbc.pc(), 0xdb61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb5f), 0xcb);
        EXPECT(gbc.readMem(0xdb60), 0xb5);
        // CB B5 0227
        gbc.setState(0x6d65, 0x3edc, 0x4d60, 0xabba, 0x2c, 0xc7c0, 0x1, 0x1);
        gbc.writeMem(0x6d65, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3edc);
        EXPECT(gbc.pc(), 0x6d67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0228
        gbc.setState(0x60a4, 0xdef7, 0x67b0, 0x27de, 0xcaef, 0x6c40, 0x0, 0x0);
        gbc.writeMem(0x60a4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdef7);
        EXPECT(gbc.pc(), 0x60a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0229
        gbc.setState(0x25d2, 0xe627, 0x3280, 0xc636, 0xa2bc, 0x80a7, 0x0, 0x0);
        gbc.writeMem(0x25d2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe627);
        EXPECT(gbc.pc(), 0x25d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 022A
        gbc.setState(0x9fda, 0xfcad, 0xfa10, 0x9fd7, 0x2716, 0x7fb7, 0x0, 0x1);
        gbc.writeMem(0x9fda, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xfcad);
        EXPECT(gbc.pc(), 0x9fdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fda), 0xcb);
        EXPECT(gbc.readMem(0x9fdb), 0xb5);
        // CB B5 022B
        gbc.setState(0x747d, 0x25d8, 0x5660, 0xa62, 0xdea0, 0x78e0, 0x0, 0x0);
        gbc.writeMem(0x747d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x25d8);
        EXPECT(gbc.pc(), 0x747f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 022C
        gbc.setState(0xe586, 0xcb1a, 0xab0, 0x12de, 0x8197, 0xa763, 0x1, 0x0);
        gbc.writeMem(0xe586, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xcb1a);
        EXPECT(gbc.pc(), 0xe588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe586), 0xcb);
        EXPECT(gbc.readMem(0xe587), 0xb5);
        // CB B5 022D
        gbc.setState(0xda7e, 0x9e93, 0x21a0, 0x3f5d, 0x7794, 0x1ae9, 0x1, 0x1);
        gbc.writeMem(0xda7e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9e93);
        EXPECT(gbc.pc(), 0xda80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda7e), 0xcb);
        EXPECT(gbc.readMem(0xda7f), 0xb5);
        // CB B5 022E
        gbc.setState(0xa02a, 0x7a57, 0x9210, 0xc9e3, 0x4eb4, 0x22ba, 0x1, 0x1);
        gbc.writeMem(0xa02a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7a57);
        EXPECT(gbc.pc(), 0xa02c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa02a), 0xcb);
        EXPECT(gbc.readMem(0xa02b), 0xb5);
        // CB B5 022F
        gbc.setState(0x63a4, 0xf709, 0x5af0, 0x65ca, 0x4a4d, 0x590c, 0x1, 0x1);
        gbc.writeMem(0x63a4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf709);
        EXPECT(gbc.pc(), 0x63a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0230
        gbc.setState(0x35fe, 0x28a6, 0x1990, 0x4a17, 0x348c, 0xa2d4, 0x1, 0x1);
        gbc.writeMem(0x35fe, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x28a6);
        EXPECT(gbc.pc(), 0x3600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0231
        gbc.setState(0x691c, 0x3c9c, 0xd520, 0x22aa, 0xde7d, 0x4ee8, 0x0, 0x1);
        gbc.writeMem(0x691c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3c9c);
        EXPECT(gbc.pc(), 0x691e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0232
        gbc.setState(0xac53, 0x6488, 0x3be0, 0x1561, 0x9903, 0xc300, 0x1, 0x0);
        gbc.writeMem(0xac53, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6488);
        EXPECT(gbc.pc(), 0xac55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac53), 0xcb);
        EXPECT(gbc.readMem(0xac54), 0xb5);
        // CB B5 0233
        gbc.setState(0x2e33, 0xc12c, 0xf6f0, 0xf6ef, 0xe11, 0x6fd3, 0x0, 0x0);
        gbc.writeMem(0x2e33, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc12c);
        EXPECT(gbc.pc(), 0x2e35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0234
        gbc.setState(0xe265, 0x7692, 0x97a0, 0xf7e9, 0xd03, 0x90ab, 0x0, 0x1);
        gbc.writeMem(0xe265, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7692);
        EXPECT(gbc.pc(), 0xe267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe265), 0xcb);
        EXPECT(gbc.readMem(0xe266), 0xb5);
        // CB B5 0235
        gbc.setState(0xa2eb, 0xb70c, 0x80d0, 0xec3a, 0x361f, 0xcc40, 0x1, 0x0);
        gbc.writeMem(0xa2eb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb70c);
        EXPECT(gbc.pc(), 0xa2ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2eb), 0xcb);
        EXPECT(gbc.readMem(0xa2ec), 0xb5);
        // CB B5 0237
        gbc.setState(0x5d1f, 0x99f9, 0xebb0, 0x4de7, 0x4cdf, 0x9397, 0x0, 0x1);
        gbc.writeMem(0x5d1f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x99f9);
        EXPECT(gbc.pc(), 0x5d21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0239
        gbc.setState(0xdc19, 0x3da6, 0x6470, 0x2075, 0xb624, 0x22d3, 0x1, 0x1);
        gbc.writeMem(0xdc19, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3da6);
        EXPECT(gbc.pc(), 0xdc1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc19), 0xcb);
        EXPECT(gbc.readMem(0xdc1a), 0xb5);
        // CB B5 023A
        gbc.setState(0xef59, 0x4477, 0x3980, 0xf84a, 0x3dd2, 0x281b, 0x1, 0x0);
        gbc.writeMem(0xef59, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4477);
        EXPECT(gbc.pc(), 0xef5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef59), 0xcb);
        EXPECT(gbc.readMem(0xef5a), 0xb5);
        // CB B5 023B
        gbc.setState(0x9b94, 0x4901, 0xec00, 0x6af, 0x508f, 0x600c, 0x0, 0x0);
        gbc.writeMem(0x9b94, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4901);
        EXPECT(gbc.pc(), 0x9b96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b94), 0xcb);
        EXPECT(gbc.readMem(0x9b95), 0xb5);
        // CB B5 023C
        gbc.setState(0xa844, 0x9eae, 0x1d00, 0xa94d, 0x9d2, 0x9063, 0x0, 0x0);
        gbc.writeMem(0xa844, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9eae);
        EXPECT(gbc.pc(), 0xa846);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa844), 0xcb);
        EXPECT(gbc.readMem(0xa845), 0xb5);
        // CB B5 023D
        gbc.setState(0xa763, 0xaddf, 0xc990, 0x1480, 0x4c64, 0x80a3, 0x1, 0x0);
        gbc.writeMem(0xa763, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xaddf);
        EXPECT(gbc.pc(), 0xa765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa763), 0xcb);
        EXPECT(gbc.readMem(0xa764), 0xb5);
        // CB B5 023E
        gbc.setState(0x3bb6, 0x642, 0xd8a0, 0xa2fc, 0x48f, 0x551f, 0x0, 0x0);
        gbc.writeMem(0x3bb6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x642);
        EXPECT(gbc.pc(), 0x3bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 023F
        gbc.setState(0x6f67, 0x9f7a, 0x8ba0, 0x3d66, 0x769f, 0x77e7, 0x0, 0x0);
        gbc.writeMem(0x6f67, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9f7a);
        EXPECT(gbc.pc(), 0x6f69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0240
        gbc.setState(0x423a, 0xe18, 0x4e10, 0x2265, 0xfe76, 0x9e2, 0x1, 0x0);
        gbc.writeMem(0x423a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe18);
        EXPECT(gbc.pc(), 0x423c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0242
        gbc.setState(0x1825, 0xab8a, 0xbeb0, 0x8c71, 0xf3f1, 0x1a49, 0x1, 0x0);
        gbc.writeMem(0x1825, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xab8a);
        EXPECT(gbc.pc(), 0x1827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0243
        gbc.setState(0x324c, 0xb114, 0xc8c0, 0xf471, 0xbbff, 0xe1fd, 0x0, 0x1);
        gbc.writeMem(0x324c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb114);
        EXPECT(gbc.pc(), 0x324e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0244
        gbc.setState(0x84cb, 0x81c2, 0x2d0, 0x8d41, 0x50e9, 0xe899, 0x0, 0x0);
        gbc.writeMem(0x84cb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x81c2);
        EXPECT(gbc.pc(), 0x84cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84cb), 0xcb);
        EXPECT(gbc.readMem(0x84cc), 0xb5);
        // CB B5 0245
        gbc.setState(0xc65f, 0x9889, 0x3bb0, 0x21ab, 0x78ab, 0xaf6, 0x1, 0x1);
        gbc.writeMem(0xc65f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9889);
        EXPECT(gbc.pc(), 0xc661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc65f), 0xcb);
        EXPECT(gbc.readMem(0xc660), 0xb5);
        // CB B5 0246
        gbc.setState(0x68ab, 0x33ce, 0x41a0, 0x2077, 0xabae, 0xae72, 0x0, 0x1);
        gbc.writeMem(0x68ab, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x33ce);
        EXPECT(gbc.pc(), 0x68ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0247
        gbc.setState(0xc33, 0xbc8d, 0xee40, 0x396e, 0xd8be, 0x2b4a, 0x1, 0x0);
        gbc.writeMem(0xc33, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xbc8d);
        EXPECT(gbc.pc(), 0xc35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0248
        gbc.setState(0x554c, 0xcbe3, 0x8570, 0x4ed4, 0x2419, 0x27dd, 0x0, 0x0);
        gbc.writeMem(0x554c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xcbe3);
        EXPECT(gbc.pc(), 0x554e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0249
        gbc.setState(0xc0eb, 0xffef, 0x7ac0, 0x9443, 0x52b9, 0xce6c, 0x0, 0x0);
        gbc.writeMem(0xc0eb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xffef);
        EXPECT(gbc.pc(), 0xc0ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0eb), 0xcb);
        EXPECT(gbc.readMem(0xc0ec), 0xb5);
        // CB B5 024A
        gbc.setState(0x281c, 0xb061, 0xeaf0, 0x431e, 0x9dc5, 0xcf64, 0x1, 0x0);
        gbc.writeMem(0x281c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb061);
        EXPECT(gbc.pc(), 0x281e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 024B
        gbc.setState(0x4810, 0x3682, 0x6270, 0x3637, 0xbb9a, 0xc644, 0x0, 0x1);
        gbc.writeMem(0x4810, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3682);
        EXPECT(gbc.pc(), 0x4812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 024C
        gbc.setState(0x7271, 0xad66, 0x3210, 0x7b74, 0x2910, 0x81db, 0x1, 0x0);
        gbc.writeMem(0x7271, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xad66);
        EXPECT(gbc.pc(), 0x7273);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 024D
        gbc.setState(0xd142, 0x46d8, 0x7820, 0x8f54, 0xb153, 0xcb77, 0x0, 0x0);
        gbc.writeMem(0xd142, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x46d8);
        EXPECT(gbc.pc(), 0xd144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd142), 0xcb);
        EXPECT(gbc.readMem(0xd143), 0xb5);
        // CB B5 024E
        gbc.setState(0xab33, 0xb2f, 0x3220, 0xf0cb, 0x8a06, 0xbe2e, 0x1, 0x1);
        gbc.writeMem(0xab33, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb2f);
        EXPECT(gbc.pc(), 0xab35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab33), 0xcb);
        EXPECT(gbc.readMem(0xab34), 0xb5);
        // CB B5 024F
        gbc.setState(0xa4e6, 0x5ca, 0x67f0, 0xb7df, 0xe7e7, 0xfd5c, 0x1, 0x1);
        gbc.writeMem(0xa4e6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5ca);
        EXPECT(gbc.pc(), 0xa4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e6), 0xcb);
        EXPECT(gbc.readMem(0xa4e7), 0xb5);
        // CB B5 0250
        gbc.setState(0x7307, 0xac99, 0x9730, 0xc370, 0x334, 0xa691, 0x0, 0x0);
        gbc.writeMem(0x7307, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xac99);
        EXPECT(gbc.pc(), 0x7309);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0252
        gbc.setState(0x909b, 0xd27c, 0x1120, 0x2fdd, 0xeb29, 0x2da7, 0x1, 0x1);
        gbc.writeMem(0x909b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd27c);
        EXPECT(gbc.pc(), 0x909d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x909b), 0xcb);
        EXPECT(gbc.readMem(0x909c), 0xb5);
        // CB B5 0253
        gbc.setState(0xeb1e, 0x74c4, 0x7330, 0xa6cf, 0xc664, 0x5b8f, 0x0, 0x1);
        gbc.writeMem(0xeb1e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x74c4);
        EXPECT(gbc.pc(), 0xeb20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb1e), 0xcb);
        EXPECT(gbc.readMem(0xeb1f), 0xb5);
        // CB B5 0254
        gbc.setState(0xcc3d, 0xd51e, 0x82a0, 0x1983, 0x2285, 0x6b72, 0x1, 0x0);
        gbc.writeMem(0xcc3d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd51e);
        EXPECT(gbc.pc(), 0xcc3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc3d), 0xcb);
        EXPECT(gbc.readMem(0xcc3e), 0xb5);
        // CB B5 0255
        gbc.setState(0xd18, 0xf27d, 0x4910, 0x86d8, 0x1a1e, 0xe1bb, 0x0, 0x0);
        gbc.writeMem(0xd18, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf27d);
        EXPECT(gbc.pc(), 0xd1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0256
        gbc.setState(0xab39, 0x9c61, 0x6910, 0x26d5, 0xad36, 0x3081, 0x1, 0x0);
        gbc.writeMem(0xab39, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9c61);
        EXPECT(gbc.pc(), 0xab3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab39), 0xcb);
        EXPECT(gbc.readMem(0xab3a), 0xb5);
        // CB B5 0257
        gbc.setState(0x2c66, 0xb3f2, 0x5850, 0xe302, 0x241f, 0x5a86, 0x1, 0x1);
        gbc.writeMem(0x2c66, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb3f2);
        EXPECT(gbc.pc(), 0x2c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0258
        gbc.setState(0xcee1, 0xaa45, 0x59d0, 0x950e, 0x9f66, 0x72a6, 0x0, 0x0);
        gbc.writeMem(0xcee1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xaa45);
        EXPECT(gbc.pc(), 0xcee3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcee1), 0xcb);
        EXPECT(gbc.readMem(0xcee2), 0xb5);
        // CB B5 0259
        gbc.setState(0x62a6, 0xef34, 0x6140, 0xc899, 0x7b36, 0xc984, 0x0, 0x0);
        gbc.writeMem(0x62a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xef34);
        EXPECT(gbc.pc(), 0x62a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 025A
        gbc.setState(0x11f0, 0x5c18, 0x9bf0, 0x2a97, 0x77be, 0xda18, 0x0, 0x0);
        gbc.writeMem(0x11f0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x5c18);
        EXPECT(gbc.pc(), 0x11f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 025B
        gbc.setState(0x59c7, 0x461f, 0xe220, 0x821c, 0x40ea, 0x278d, 0x0, 0x0);
        gbc.writeMem(0x59c7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x461f);
        EXPECT(gbc.pc(), 0x59c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 025C
        gbc.setState(0x57a8, 0x7cee, 0x36b0, 0x715a, 0x22e3, 0x3d0e, 0x1, 0x1);
        gbc.writeMem(0x57a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7cee);
        EXPECT(gbc.pc(), 0x57aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 025D
        gbc.setState(0x6603, 0xee17, 0x6bb0, 0x4783, 0xcf64, 0xe42c, 0x0, 0x1);
        gbc.writeMem(0x6603, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xee17);
        EXPECT(gbc.pc(), 0x6605);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 025E
        gbc.setState(0x2882, 0x313b, 0xbea0, 0x8dcd, 0x3b48, 0x6629, 0x0, 0x0);
        gbc.writeMem(0x2882, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x313b);
        EXPECT(gbc.pc(), 0x2884);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 025F
        gbc.setState(0xda63, 0xc5f3, 0xee20, 0x74d, 0x2a9a, 0x2dc0, 0x0, 0x0);
        gbc.writeMem(0xda63, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xc5f3);
        EXPECT(gbc.pc(), 0xda65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda63), 0xcb);
        EXPECT(gbc.readMem(0xda64), 0xb5);
        // CB B5 0260
        gbc.setState(0x5d01, 0x3109, 0xbf0, 0x5761, 0xf3ca, 0xb96, 0x1, 0x1);
        gbc.writeMem(0x5d01, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3109);
        EXPECT(gbc.pc(), 0x5d03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0261
        gbc.setState(0x322f, 0x5e3e, 0x5a60, 0xc1b, 0xc17b, 0x40c9, 0x0, 0x1);
        gbc.writeMem(0x322f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x5e3e);
        EXPECT(gbc.pc(), 0x3231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0262
        gbc.setState(0xaabf, 0x5215, 0xc370, 0x9f49, 0x7a96, 0x51b5, 0x0, 0x0);
        gbc.writeMem(0xaabf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5215);
        EXPECT(gbc.pc(), 0xaac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaabf), 0xcb);
        EXPECT(gbc.readMem(0xaac0), 0xb5);
        // CB B5 0263
        gbc.setState(0xdc1e, 0x588f, 0xa1b0, 0x4f39, 0xb5c6, 0xdb43, 0x0, 0x1);
        gbc.writeMem(0xdc1e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x588f);
        EXPECT(gbc.pc(), 0xdc20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc1e), 0xcb);
        EXPECT(gbc.readMem(0xdc1f), 0xb5);
        // CB B5 0264
        gbc.setState(0x1e76, 0x2297, 0xf3b0, 0x1fd6, 0x6fe3, 0x242b, 0x0, 0x1);
        gbc.writeMem(0x1e76, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x2297);
        EXPECT(gbc.pc(), 0x1e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0265
        gbc.setState(0xbecc, 0xce5c, 0xb10, 0xb2e7, 0xc137, 0x4739, 0x0, 0x1);
        gbc.writeMem(0xbecc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xce5c);
        EXPECT(gbc.pc(), 0xbece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbecc), 0xcb);
        EXPECT(gbc.readMem(0xbecd), 0xb5);
        // CB B5 0266
        gbc.setState(0xcc55, 0x98bd, 0xb5d0, 0xab9e, 0x9ce6, 0xa998, 0x0, 0x1);
        gbc.writeMem(0xcc55, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x98bd);
        EXPECT(gbc.pc(), 0xcc57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc55), 0xcb);
        EXPECT(gbc.readMem(0xcc56), 0xb5);
        // CB B5 0267
        gbc.setState(0x7b8d, 0xd398, 0xb640, 0xf8ed, 0x5dd1, 0xf4b7, 0x1, 0x0);
        gbc.writeMem(0x7b8d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd398);
        EXPECT(gbc.pc(), 0x7b8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0268
        gbc.setState(0xe81b, 0xfef2, 0xd480, 0x1dce, 0xa162, 0x4953, 0x1, 0x0);
        gbc.writeMem(0xe81b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xfef2);
        EXPECT(gbc.pc(), 0xe81d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe81b), 0xcb);
        EXPECT(gbc.readMem(0xe81c), 0xb5);
        // CB B5 0269
        gbc.setState(0x435e, 0xd774, 0x37d0, 0xb934, 0x5c32, 0x1f44, 0x1, 0x1);
        gbc.writeMem(0x435e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd774);
        EXPECT(gbc.pc(), 0x4360);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 026A
        gbc.setState(0x9b90, 0xa5e4, 0xa260, 0x220c, 0x22d8, 0xcb7f, 0x0, 0x1);
        gbc.writeMem(0x9b90, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa5e4);
        EXPECT(gbc.pc(), 0x9b92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b90), 0xcb);
        EXPECT(gbc.readMem(0x9b91), 0xb5);
        // CB B5 026B
        gbc.setState(0xa108, 0x8c05, 0x15d0, 0x8a34, 0x29de, 0xaa0f, 0x1, 0x0);
        gbc.writeMem(0xa108, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x8c05);
        EXPECT(gbc.pc(), 0xa10a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa108), 0xcb);
        EXPECT(gbc.readMem(0xa109), 0xb5);
        // CB B5 026C
        gbc.setState(0xe990, 0x8e5f, 0x6e00, 0x1d3e, 0xf07e, 0x1c25, 0x1, 0x0);
        gbc.writeMem(0xe990, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x8e5f);
        EXPECT(gbc.pc(), 0xe992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe990), 0xcb);
        EXPECT(gbc.readMem(0xe991), 0xb5);
        // CB B5 026D
        gbc.setState(0x119e, 0xc7c8, 0x4f60, 0x1a05, 0x1f50, 0xb2ac, 0x0, 0x1);
        gbc.writeMem(0x119e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc7c8);
        EXPECT(gbc.pc(), 0x11a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 026E
        gbc.setState(0xdb57, 0x8fbf, 0xbcd0, 0xafbc, 0xad2d, 0xf372, 0x0, 0x1);
        gbc.writeMem(0xdb57, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8fbf);
        EXPECT(gbc.pc(), 0xdb59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb57), 0xcb);
        EXPECT(gbc.readMem(0xdb58), 0xb5);
        // CB B5 026F
        gbc.setState(0xaf51, 0x41e8, 0xf6f0, 0x8854, 0x7a11, 0x2dec, 0x0, 0x1);
        gbc.writeMem(0xaf51, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x41e8);
        EXPECT(gbc.pc(), 0xaf53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf51), 0xcb);
        EXPECT(gbc.readMem(0xaf52), 0xb5);
        // CB B5 0270
        gbc.setState(0x5266, 0xf9d, 0xa7f0, 0x7d32, 0x274c, 0x429a, 0x1, 0x0);
        gbc.writeMem(0x5266, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf9d);
        EXPECT(gbc.pc(), 0x5268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0271
        gbc.setState(0x284a, 0x5fda, 0x3840, 0x9f8a, 0xd68b, 0x5a19, 0x0, 0x0);
        gbc.writeMem(0x284a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5fda);
        EXPECT(gbc.pc(), 0x284c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0272
        gbc.setState(0x3753, 0x3f93, 0xb100, 0xcb95, 0x3028, 0x7b0, 0x0, 0x0);
        gbc.writeMem(0x3753, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3f93);
        EXPECT(gbc.pc(), 0x3755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0273
        gbc.setState(0x99eb, 0x8b94, 0xeb90, 0xbb24, 0x2e83, 0x69ad, 0x0, 0x1);
        gbc.writeMem(0x99eb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x8b94);
        EXPECT(gbc.pc(), 0x99ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99eb), 0xcb);
        EXPECT(gbc.readMem(0x99ec), 0xb5);
        // CB B5 0274
        gbc.setState(0x82c9, 0x2c15, 0x5830, 0x31e, 0xd449, 0x3366, 0x0, 0x0);
        gbc.writeMem(0x82c9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2c15);
        EXPECT(gbc.pc(), 0x82cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c9), 0xcb);
        EXPECT(gbc.readMem(0x82ca), 0xb5);
        // CB B5 0275
        gbc.setState(0x34ed, 0x8aa5, 0xcf10, 0xeac6, 0xb2c1, 0x1384, 0x0, 0x1);
        gbc.writeMem(0x34ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8aa5);
        EXPECT(gbc.pc(), 0x34ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0276
        gbc.setState(0xcb4e, 0xf96f, 0x34f0, 0xdb26, 0x9a47, 0xa14a, 0x1, 0x1);
        gbc.writeMem(0xcb4e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf96f);
        EXPECT(gbc.pc(), 0xcb50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb4e), 0xcb);
        EXPECT(gbc.readMem(0xcb4f), 0xb5);
        // CB B5 0277
        gbc.setState(0x68dd, 0x3c0, 0x95b0, 0x3dc2, 0x6e30, 0xfd62, 0x0, 0x1);
        gbc.writeMem(0x68dd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3c0);
        EXPECT(gbc.pc(), 0x68df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0278
        gbc.setState(0xc99c, 0xe93c, 0xf5a0, 0x81a9, 0xeece, 0xedc9, 0x0, 0x1);
        gbc.writeMem(0xc99c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe93c);
        EXPECT(gbc.pc(), 0xc99e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99c), 0xcb);
        EXPECT(gbc.readMem(0xc99d), 0xb5);
        // CB B5 0279
        gbc.setState(0xa44f, 0x29ad, 0xf630, 0x4b6b, 0xf0d2, 0x90cb, 0x0, 0x1);
        gbc.writeMem(0xa44f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x29ad);
        EXPECT(gbc.pc(), 0xa451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44f), 0xcb);
        EXPECT(gbc.readMem(0xa450), 0xb5);
        // CB B5 027B
        gbc.setState(0x73e4, 0xd728, 0x3c50, 0xe580, 0xb085, 0xb8f4, 0x1, 0x0);
        gbc.writeMem(0x73e4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd728);
        EXPECT(gbc.pc(), 0x73e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 027C
        gbc.setState(0x76c6, 0x170f, 0xd2d0, 0x7333, 0x8a55, 0x5558, 0x1, 0x0);
        gbc.writeMem(0x76c6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x170f);
        EXPECT(gbc.pc(), 0x76c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 027D
        gbc.setState(0x3a0b, 0x6206, 0x50, 0x3028, 0xeffa, 0x1fc7, 0x0, 0x0);
        gbc.writeMem(0x3a0b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6206);
        EXPECT(gbc.pc(), 0x3a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 027E
        gbc.setState(0x32e2, 0xa047, 0xa6b0, 0xaf7f, 0xd5b2, 0xf2ab, 0x1, 0x1);
        gbc.writeMem(0x32e2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa047);
        EXPECT(gbc.pc(), 0x32e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 027F
        gbc.setState(0x2340, 0x5894, 0x2260, 0x3b17, 0x7822, 0x9a5, 0x1, 0x1);
        gbc.writeMem(0x2340, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5894);
        EXPECT(gbc.pc(), 0x2342);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0280
        gbc.setState(0x388b, 0x517, 0x3570, 0x2e1a, 0xf2db, 0x6a79, 0x0, 0x1);
        gbc.writeMem(0x388b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x517);
        EXPECT(gbc.pc(), 0x388d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0281
        gbc.setState(0x8298, 0x67a3, 0x8390, 0x29fe, 0x99f0, 0x1bad, 0x0, 0x0);
        gbc.writeMem(0x8298, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x67a3);
        EXPECT(gbc.pc(), 0x829a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8298), 0xcb);
        EXPECT(gbc.readMem(0x8299), 0xb5);
        // CB B5 0282
        gbc.setState(0x90e1, 0xd314, 0xfdc0, 0x83f9, 0x30cd, 0xb3ac, 0x1, 0x1);
        gbc.writeMem(0x90e1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd314);
        EXPECT(gbc.pc(), 0x90e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e1), 0xcb);
        EXPECT(gbc.readMem(0x90e2), 0xb5);
        // CB B5 0283
        gbc.setState(0xa3df, 0x9557, 0xb430, 0x5aee, 0xf75d, 0xfffc, 0x0, 0x0);
        gbc.writeMem(0xa3df, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x9557);
        EXPECT(gbc.pc(), 0xa3e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3df), 0xcb);
        EXPECT(gbc.readMem(0xa3e0), 0xb5);
        // CB B5 0284
        gbc.setState(0xa1f7, 0xf3ee, 0x1690, 0x952a, 0x905f, 0x2bd6, 0x1, 0x0);
        gbc.writeMem(0xa1f7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf3ee);
        EXPECT(gbc.pc(), 0xa1f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1f7), 0xcb);
        EXPECT(gbc.readMem(0xa1f8), 0xb5);
        // CB B5 0285
        gbc.setState(0x6a57, 0x4e54, 0x1670, 0xf4ee, 0x5786, 0xc5ba, 0x0, 0x1);
        gbc.writeMem(0x6a57, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4e54);
        EXPECT(gbc.pc(), 0x6a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0286
        gbc.setState(0x238e, 0xa84a, 0x9940, 0x485a, 0xde2a, 0xd5cb, 0x0, 0x1);
        gbc.writeMem(0x238e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa84a);
        EXPECT(gbc.pc(), 0x2390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0287
        gbc.setState(0xa65e, 0x66ed, 0x78d0, 0xffd2, 0xcc1a, 0x5d12, 0x1, 0x1);
        gbc.writeMem(0xa65e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x66ed);
        EXPECT(gbc.pc(), 0xa660);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa65e), 0xcb);
        EXPECT(gbc.readMem(0xa65f), 0xb5);
        // CB B5 0288
        gbc.setState(0xb865, 0x5e43, 0x1230, 0xfbfc, 0x1c88, 0x62f9, 0x0, 0x1);
        gbc.writeMem(0xb865, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5e43);
        EXPECT(gbc.pc(), 0xb867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb865), 0xcb);
        EXPECT(gbc.readMem(0xb866), 0xb5);
        // CB B5 028B
        gbc.setState(0xde78, 0x4121, 0xb5d0, 0xed3d, 0x2c19, 0xd98, 0x0, 0x1);
        gbc.writeMem(0xde78, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4121);
        EXPECT(gbc.pc(), 0xde7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde78), 0xcb);
        EXPECT(gbc.readMem(0xde79), 0xb5);
        // CB B5 028C
        gbc.setState(0xe0e4, 0xc6b5, 0xc360, 0x3732, 0xca5b, 0x6491, 0x0, 0x1);
        gbc.writeMem(0xe0e4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc6b5);
        EXPECT(gbc.pc(), 0xe0e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e4), 0xcb);
        EXPECT(gbc.readMem(0xe0e5), 0xb5);
        // CB B5 028D
        gbc.setState(0x7227, 0xbe4c, 0x6a00, 0xd57, 0x99b9, 0x6fef, 0x0, 0x1);
        gbc.writeMem(0x7227, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xbe4c);
        EXPECT(gbc.pc(), 0x7229);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 028E
        gbc.setState(0xec14, 0xfbcc, 0x5e70, 0xb71d, 0xb0de, 0x65e6, 0x1, 0x0);
        gbc.writeMem(0xec14, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfbcc);
        EXPECT(gbc.pc(), 0xec16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec14), 0xcb);
        EXPECT(gbc.readMem(0xec15), 0xb5);
        // CB B5 028F
        gbc.setState(0xabce, 0x9918, 0xc9e0, 0xb9ac, 0xa4b9, 0x5b0c, 0x0, 0x1);
        gbc.writeMem(0xabce, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9918);
        EXPECT(gbc.pc(), 0xabd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabce), 0xcb);
        EXPECT(gbc.readMem(0xabcf), 0xb5);
        // CB B5 0290
        gbc.setState(0xee30, 0x3cd2, 0x72f0, 0x1b8f, 0x5b6f, 0x171, 0x1, 0x1);
        gbc.writeMem(0xee30, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3cd2);
        EXPECT(gbc.pc(), 0xee32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee30), 0xcb);
        EXPECT(gbc.readMem(0xee31), 0xb5);
        // CB B5 0292
        gbc.setState(0xa729, 0x37a9, 0xe0b0, 0x5671, 0xc4ac, 0x84f8, 0x0, 0x1);
        gbc.writeMem(0xa729, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x37a9);
        EXPECT(gbc.pc(), 0xa72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa729), 0xcb);
        EXPECT(gbc.readMem(0xa72a), 0xb5);
        // CB B5 0293
        gbc.setState(0xd7c3, 0xfdd7, 0x7f0, 0x413b, 0xf3ee, 0x1a6b, 0x0, 0x1);
        gbc.writeMem(0xd7c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xfdd7);
        EXPECT(gbc.pc(), 0xd7c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7c3), 0xcb);
        EXPECT(gbc.readMem(0xd7c4), 0xb5);
        // CB B5 0294
        gbc.setState(0x9a6, 0x748a, 0x9a00, 0xb1b6, 0x6529, 0x8da4, 0x1, 0x0);
        gbc.writeMem(0x9a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x748a);
        EXPECT(gbc.pc(), 0x9a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0295
        gbc.setState(0x2598, 0xd3bc, 0x63c0, 0x6d8c, 0x107a, 0xc97c, 0x1, 0x0);
        gbc.writeMem(0x2598, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd3bc);
        EXPECT(gbc.pc(), 0x259a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0296
        gbc.setState(0x728f, 0x213b, 0xe520, 0x2a03, 0x41cc, 0xd9d2, 0x1, 0x0);
        gbc.writeMem(0x728f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x213b);
        EXPECT(gbc.pc(), 0x7291);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0297
        gbc.setState(0x6bcf, 0x1cf8, 0x2960, 0x6050, 0x174b, 0x366a, 0x1, 0x1);
        gbc.writeMem(0x6bcf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1cf8);
        EXPECT(gbc.pc(), 0x6bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0298
        gbc.setState(0x26c2, 0x8eb7, 0x30d0, 0x9cae, 0xc0e8, 0x940e, 0x1, 0x0);
        gbc.writeMem(0x26c2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8eb7);
        EXPECT(gbc.pc(), 0x26c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 029A
        gbc.setState(0xb17c, 0x49e8, 0x80b0, 0xaa15, 0xd6be, 0x901f, 0x0, 0x0);
        gbc.writeMem(0xb17c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x49e8);
        EXPECT(gbc.pc(), 0xb17e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb17c), 0xcb);
        EXPECT(gbc.readMem(0xb17d), 0xb5);
        // CB B5 029B
        gbc.setState(0x971, 0xb3ec, 0x2d50, 0xc9b3, 0x253d, 0x7da4, 0x0, 0x0);
        gbc.writeMem(0x971, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb3ec);
        EXPECT(gbc.pc(), 0x973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 029C
        gbc.setState(0x2fa6, 0xda44, 0x68a0, 0x64ec, 0x51c2, 0x833e, 0x0, 0x0);
        gbc.writeMem(0x2fa6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xda44);
        EXPECT(gbc.pc(), 0x2fa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 029D
        gbc.setState(0x3f06, 0xcb95, 0x2050, 0xc12b, 0xdd12, 0x20d8, 0x1, 0x1);
        gbc.writeMem(0x3f06, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xcb95);
        EXPECT(gbc.pc(), 0x3f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 029E
        gbc.setState(0x1b05, 0x2e6c, 0xac60, 0x1992, 0xf4e6, 0x7c1a, 0x0, 0x0);
        gbc.writeMem(0x1b05, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2e6c);
        EXPECT(gbc.pc(), 0x1b07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 029F
        gbc.setState(0xd90a, 0xc31, 0xe580, 0xd460, 0x30ec, 0xb3de, 0x1, 0x0);
        gbc.writeMem(0xd90a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc31);
        EXPECT(gbc.pc(), 0xd90c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd90a), 0xcb);
        EXPECT(gbc.readMem(0xd90b), 0xb5);
        // CB B5 02A0
        gbc.setState(0x9f77, 0x1d2, 0xb940, 0x34e7, 0xb78e, 0xba4c, 0x0, 0x0);
        gbc.writeMem(0x9f77, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1d2);
        EXPECT(gbc.pc(), 0x9f79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f77), 0xcb);
        EXPECT(gbc.readMem(0x9f78), 0xb5);
        // CB B5 02A1
        gbc.setState(0xbb2d, 0x6723, 0x3dc0, 0xd417, 0x47, 0x180b, 0x1, 0x1);
        gbc.writeMem(0xbb2d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6723);
        EXPECT(gbc.pc(), 0xbb2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb2d), 0xcb);
        EXPECT(gbc.readMem(0xbb2e), 0xb5);
        // CB B5 02A2
        gbc.setState(0xe5c2, 0x18e1, 0x53c0, 0x5519, 0xd3a5, 0x8478, 0x0, 0x0);
        gbc.writeMem(0xe5c2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x18e1);
        EXPECT(gbc.pc(), 0xe5c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5c2), 0xcb);
        EXPECT(gbc.readMem(0xe5c3), 0xb5);
        // CB B5 02A3
        gbc.setState(0xd048, 0xe25, 0xb70, 0x9fd1, 0xdf7f, 0xe6fe, 0x1, 0x1);
        gbc.writeMem(0xd048, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe25);
        EXPECT(gbc.pc(), 0xd04a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd048), 0xcb);
        EXPECT(gbc.readMem(0xd049), 0xb5);
        // CB B5 02A4
        gbc.setState(0xe2a9, 0xa8d9, 0xf7a0, 0x82b, 0xff2c, 0x33d4, 0x1, 0x1);
        gbc.writeMem(0xe2a9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa8d9);
        EXPECT(gbc.pc(), 0xe2ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a9), 0xcb);
        EXPECT(gbc.readMem(0xe2aa), 0xb5);
        // CB B5 02A5
        gbc.setState(0x838a, 0x3b82, 0xed50, 0xbf03, 0xcf2a, 0x87b1, 0x1, 0x1);
        gbc.writeMem(0x838a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3b82);
        EXPECT(gbc.pc(), 0x838c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838a), 0xcb);
        EXPECT(gbc.readMem(0x838b), 0xb5);
        // CB B5 02A6
        gbc.setState(0x6af5, 0xff6a, 0x52a0, 0x51e7, 0xdfe2, 0xbf80, 0x1, 0x0);
        gbc.writeMem(0x6af5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xff6a);
        EXPECT(gbc.pc(), 0x6af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02A7
        gbc.setState(0x3c6a, 0xf311, 0x4840, 0x67f6, 0x27a3, 0x7c9a, 0x0, 0x0);
        gbc.writeMem(0x3c6a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf311);
        EXPECT(gbc.pc(), 0x3c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02A8
        gbc.setState(0x3b18, 0xf117, 0xcff0, 0x60, 0xef9a, 0x1dad, 0x1, 0x1);
        gbc.writeMem(0x3b18, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf117);
        EXPECT(gbc.pc(), 0x3b1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02A9
        gbc.setState(0x2916, 0x7472, 0x2420, 0xe2b9, 0xa6b3, 0x754a, 0x0, 0x1);
        gbc.writeMem(0x2916, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7472);
        EXPECT(gbc.pc(), 0x2918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02AA
        gbc.setState(0x9655, 0x5cbb, 0x8110, 0x31d3, 0x456b, 0x2375, 0x0, 0x1);
        gbc.writeMem(0x9655, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5cbb);
        EXPECT(gbc.pc(), 0x9657);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9655), 0xcb);
        EXPECT(gbc.readMem(0x9656), 0xb5);
        // CB B5 02AB
        gbc.setState(0xe73e, 0x56ca, 0xa200, 0x8b79, 0xfbeb, 0xb711, 0x0, 0x1);
        gbc.writeMem(0xe73e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x56ca);
        EXPECT(gbc.pc(), 0xe740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe73e), 0xcb);
        EXPECT(gbc.readMem(0xe73f), 0xb5);
        // CB B5 02AC
        gbc.setState(0x3e53, 0xdd65, 0x3b30, 0x7644, 0xe1be, 0x90e4, 0x1, 0x0);
        gbc.writeMem(0x3e53, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdd65);
        EXPECT(gbc.pc(), 0x3e55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02AD
        gbc.setState(0x65ad, 0xb6c1, 0x2fa0, 0x6763, 0x5942, 0xdd0a, 0x0, 0x1);
        gbc.writeMem(0x65ad, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xb6c1);
        EXPECT(gbc.pc(), 0x65af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02AE
        gbc.setState(0x99e7, 0xb52a, 0xf810, 0x4625, 0xbd30, 0x8d8, 0x1, 0x0);
        gbc.writeMem(0x99e7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb52a);
        EXPECT(gbc.pc(), 0x99e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99e7), 0xcb);
        EXPECT(gbc.readMem(0x99e8), 0xb5);
        // CB B5 02AF
        gbc.setState(0x1557, 0x9323, 0x3fe0, 0xaf02, 0x2fab, 0xb06, 0x0, 0x0);
        gbc.writeMem(0x1557, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9323);
        EXPECT(gbc.pc(), 0x1559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02B1
        gbc.setState(0x587f, 0x2be3, 0x6b20, 0x5450, 0xd313, 0x23a2, 0x0, 0x0);
        gbc.writeMem(0x587f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2be3);
        EXPECT(gbc.pc(), 0x5881);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02B2
        gbc.setState(0x1c2a, 0xef65, 0xa5f0, 0x91b6, 0xea55, 0x5e49, 0x1, 0x1);
        gbc.writeMem(0x1c2a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xef65);
        EXPECT(gbc.pc(), 0x1c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02B3
        gbc.setState(0x87a8, 0x5da9, 0x84e0, 0xbbff, 0xe605, 0x9069, 0x0, 0x0);
        gbc.writeMem(0x87a8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x5da9);
        EXPECT(gbc.pc(), 0x87aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a8), 0xcb);
        EXPECT(gbc.readMem(0x87a9), 0xb5);
        // CB B5 02B4
        gbc.setState(0xb67b, 0xba19, 0x8160, 0xf3fe, 0x119e, 0xa239, 0x1, 0x1);
        gbc.writeMem(0xb67b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xba19);
        EXPECT(gbc.pc(), 0xb67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb67b), 0xcb);
        EXPECT(gbc.readMem(0xb67c), 0xb5);
        // CB B5 02B5
        gbc.setState(0xdc8b, 0x7ff0, 0xd7a0, 0x192d, 0x9fcd, 0xab7, 0x1, 0x1);
        gbc.writeMem(0xdc8b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7ff0);
        EXPECT(gbc.pc(), 0xdc8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc8b), 0xcb);
        EXPECT(gbc.readMem(0xdc8c), 0xb5);
        // CB B5 02B6
        gbc.setState(0xbcae, 0x708d, 0xe720, 0x8a2b, 0xee45, 0xc18c, 0x1, 0x1);
        gbc.writeMem(0xbcae, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x708d);
        EXPECT(gbc.pc(), 0xbcb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcae), 0xcb);
        EXPECT(gbc.readMem(0xbcaf), 0xb5);
        // CB B5 02B7
        gbc.setState(0x2191, 0x309, 0x1af0, 0xa349, 0x959c, 0x474d, 0x1, 0x1);
        gbc.writeMem(0x2191, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x309);
        EXPECT(gbc.pc(), 0x2193);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02B8
        gbc.setState(0x954e, 0xc8c3, 0xac60, 0xd13f, 0xd79, 0xf0d1, 0x1, 0x0);
        gbc.writeMem(0x954e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc8c3);
        EXPECT(gbc.pc(), 0x9550);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x954e), 0xcb);
        EXPECT(gbc.readMem(0x954f), 0xb5);
        // CB B5 02B9
        gbc.setState(0x31e0, 0x1155, 0x3530, 0x5547, 0x68bd, 0xb237, 0x1, 0x0);
        gbc.writeMem(0x31e0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1155);
        EXPECT(gbc.pc(), 0x31e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02BA
        gbc.setState(0x3d6c, 0x9a5f, 0x74d0, 0x91d3, 0xafe5, 0x8783, 0x0, 0x0);
        gbc.writeMem(0x3d6c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9a5f);
        EXPECT(gbc.pc(), 0x3d6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02BB
        gbc.setState(0x9fad, 0x92b1, 0x6ec0, 0x3d36, 0x8172, 0x7dcb, 0x0, 0x1);
        gbc.writeMem(0x9fad, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x92b1);
        EXPECT(gbc.pc(), 0x9faf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fad), 0xcb);
        EXPECT(gbc.readMem(0x9fae), 0xb5);
        // CB B5 02BC
        gbc.setState(0x3e6a, 0x54b9, 0xfd20, 0x411e, 0xfc7b, 0x79b0, 0x1, 0x0);
        gbc.writeMem(0x3e6a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x54b9);
        EXPECT(gbc.pc(), 0x3e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02BD
        gbc.setState(0xa9, 0xa0d5, 0x6600, 0xb936, 0xf358, 0xf333, 0x0, 0x0);
        gbc.writeMem(0xa9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xa0d5);
        EXPECT(gbc.pc(), 0xab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02BE
        gbc.setState(0x6472, 0xa911, 0x7940, 0x5ebc, 0x4fe, 0x3959, 0x1, 0x0);
        gbc.writeMem(0x6472, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa911);
        EXPECT(gbc.pc(), 0x6474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02BF
        gbc.setState(0x6acb, 0xbfb, 0xd7f0, 0x6c9b, 0x7f68, 0xf1d5, 0x1, 0x0);
        gbc.writeMem(0x6acb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xbfb);
        EXPECT(gbc.pc(), 0x6acd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02C0
        gbc.setState(0xea00, 0xd1d, 0x2730, 0xf3fe, 0xf6e9, 0x1295, 0x1, 0x0);
        gbc.writeMem(0xea00, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd1d);
        EXPECT(gbc.pc(), 0xea02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea00), 0xcb);
        EXPECT(gbc.readMem(0xea01), 0xb5);
        // CB B5 02C1
        gbc.setState(0xd999, 0x1736, 0x9b80, 0xf73, 0xe1b6, 0x2528, 0x1, 0x1);
        gbc.writeMem(0xd999, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x1736);
        EXPECT(gbc.pc(), 0xd99b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd999), 0xcb);
        EXPECT(gbc.readMem(0xd99a), 0xb5);
        // CB B5 02C2
        gbc.setState(0x212e, 0xd3d3, 0xcd10, 0xdd05, 0x13d1, 0xe4b5, 0x0, 0x1);
        gbc.writeMem(0x212e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd3d3);
        EXPECT(gbc.pc(), 0x2130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02C3
        gbc.setState(0x239d, 0x8786, 0x1c00, 0x6bf0, 0xd813, 0xcee2, 0x1, 0x0);
        gbc.writeMem(0x239d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8786);
        EXPECT(gbc.pc(), 0x239f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02C4
        gbc.setState(0x127a, 0x8c40, 0x4180, 0xb207, 0xad2e, 0xbb05, 0x0, 0x1);
        gbc.writeMem(0x127a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8c40);
        EXPECT(gbc.pc(), 0x127c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02C5
        gbc.setState(0x3318, 0x3e3, 0x3bd0, 0xb851, 0x820d, 0xb660, 0x0, 0x0);
        gbc.writeMem(0x3318, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x3e3);
        EXPECT(gbc.pc(), 0x331a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02C6
        gbc.setState(0x4f4c, 0xde6, 0xb920, 0xa47e, 0x3a77, 0x98eb, 0x1, 0x1);
        gbc.writeMem(0x4f4c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xde6);
        EXPECT(gbc.pc(), 0x4f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02C7
        gbc.setState(0x242, 0x6487, 0x6390, 0xb952, 0x3ffc, 0xe031, 0x1, 0x0);
        gbc.writeMem(0x242, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6487);
        EXPECT(gbc.pc(), 0x244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02C8
        gbc.setState(0x47f1, 0x8f33, 0xf90, 0x6a86, 0x187d, 0x66ee, 0x0, 0x1);
        gbc.writeMem(0x47f1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8f33);
        EXPECT(gbc.pc(), 0x47f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02C9
        gbc.setState(0xdb90, 0xbcd8, 0xf920, 0x607d, 0xb194, 0x4bd2, 0x1, 0x1);
        gbc.writeMem(0xdb90, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbcd8);
        EXPECT(gbc.pc(), 0xdb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb90), 0xcb);
        EXPECT(gbc.readMem(0xdb91), 0xb5);
        // CB B5 02CA
        gbc.setState(0xd4f7, 0xb257, 0xc240, 0x2097, 0x1dee, 0xb445, 0x0, 0x1);
        gbc.writeMem(0xd4f7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb257);
        EXPECT(gbc.pc(), 0xd4f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4f7), 0xcb);
        EXPECT(gbc.readMem(0xd4f8), 0xb5);
        // CB B5 02CB
        gbc.setState(0x401f, 0x8a78, 0xae90, 0xdb0, 0x8667, 0x91c9, 0x0, 0x1);
        gbc.writeMem(0x401f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8a78);
        EXPECT(gbc.pc(), 0x4021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02CE
        gbc.setState(0xc139, 0x4c6a, 0x2d80, 0x36fe, 0x1edc, 0x6fcb, 0x0, 0x1);
        gbc.writeMem(0xc139, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4c6a);
        EXPECT(gbc.pc(), 0xc13b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc139), 0xcb);
        EXPECT(gbc.readMem(0xc13a), 0xb5);
        // CB B5 02CF
        gbc.setState(0xbad0, 0x9408, 0xa530, 0x7108, 0x3bfe, 0x9bc7, 0x1, 0x0);
        gbc.writeMem(0xbad0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9408);
        EXPECT(gbc.pc(), 0xbad2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbad0), 0xcb);
        EXPECT(gbc.readMem(0xbad1), 0xb5);
        // CB B5 02D0
        gbc.setState(0x1d18, 0x780c, 0xe580, 0xb71b, 0x291a, 0xe017, 0x1, 0x1);
        gbc.writeMem(0x1d18, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x780c);
        EXPECT(gbc.pc(), 0x1d1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02D1
        gbc.setState(0x2d77, 0xa38c, 0x1f50, 0x554c, 0x9040, 0x552d, 0x1, 0x0);
        gbc.writeMem(0x2d77, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa38c);
        EXPECT(gbc.pc(), 0x2d79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02D2
        gbc.setState(0x52e8, 0x73be, 0xb220, 0x549c, 0xe5f5, 0x1e1c, 0x1, 0x0);
        gbc.writeMem(0x52e8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x73be);
        EXPECT(gbc.pc(), 0x52ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02D3
        gbc.setState(0x5645, 0x9090, 0x2c90, 0x4f6a, 0x6ddb, 0x412b, 0x0, 0x0);
        gbc.writeMem(0x5645, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9090);
        EXPECT(gbc.pc(), 0x5647);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02D4
        gbc.setState(0xdd1c, 0xea05, 0xfb60, 0x813c, 0x5e25, 0x65e8, 0x1, 0x0);
        gbc.writeMem(0xdd1c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xea05);
        EXPECT(gbc.pc(), 0xdd1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1c), 0xcb);
        EXPECT(gbc.readMem(0xdd1d), 0xb5);
        // CB B5 02D5
        gbc.setState(0x663c, 0x73b4, 0x1190, 0x621f, 0x820, 0x628c, 0x0, 0x1);
        gbc.writeMem(0x663c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x73b4);
        EXPECT(gbc.pc(), 0x663e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02D6
        gbc.setState(0x7450, 0xbc64, 0xea90, 0xaf91, 0x924, 0xee49, 0x0, 0x0);
        gbc.writeMem(0x7450, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xbc64);
        EXPECT(gbc.pc(), 0x7452);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02D7
        gbc.setState(0x7433, 0x1d2, 0x8980, 0x9022, 0xd932, 0x3a40, 0x0, 0x0);
        gbc.writeMem(0x7433, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1d2);
        EXPECT(gbc.pc(), 0x7435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02D8
        gbc.setState(0xa7ce, 0x154, 0x9190, 0x53d3, 0x6609, 0x906d, 0x1, 0x0);
        gbc.writeMem(0xa7ce, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x154);
        EXPECT(gbc.pc(), 0xa7d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7ce), 0xcb);
        EXPECT(gbc.readMem(0xa7cf), 0xb5);
        // CB B5 02D9
        gbc.setState(0x1a08, 0x9139, 0x91b0, 0x4571, 0x8ebe, 0x88e9, 0x0, 0x0);
        gbc.writeMem(0x1a08, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9139);
        EXPECT(gbc.pc(), 0x1a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02DA
        gbc.setState(0xc8c, 0x43f9, 0xb9d0, 0xc9f4, 0x8a12, 0x4639, 0x1, 0x1);
        gbc.writeMem(0xc8c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x43f9);
        EXPECT(gbc.pc(), 0xc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02DB
        gbc.setState(0xc3ed, 0x5c16, 0x6dc0, 0x54b6, 0xd251, 0x31ed, 0x0, 0x1);
        gbc.writeMem(0xc3ed, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5c16);
        EXPECT(gbc.pc(), 0xc3ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3ed), 0xcb);
        EXPECT(gbc.readMem(0xc3ee), 0xb5);
        // CB B5 02DC
        gbc.setState(0xad92, 0x8cb8, 0xcae0, 0xcf8e, 0xef8b, 0x7a3b, 0x1, 0x0);
        gbc.writeMem(0xad92, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8cb8);
        EXPECT(gbc.pc(), 0xad94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad92), 0xcb);
        EXPECT(gbc.readMem(0xad93), 0xb5);
        // CB B5 02DD
        gbc.setState(0x27d0, 0xcf7b, 0x5ea0, 0xc0bc, 0xa164, 0xda68, 0x1, 0x1);
        gbc.writeMem(0x27d0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xcf7b);
        EXPECT(gbc.pc(), 0x27d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02DE
        gbc.setState(0x1577, 0x13f7, 0xb050, 0xef79, 0xba, 0xa206, 0x1, 0x1);
        gbc.writeMem(0x1577, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x13f7);
        EXPECT(gbc.pc(), 0x1579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02DF
        gbc.setState(0x3ebf, 0xafaa, 0x8da0, 0x8359, 0x4504, 0xf499, 0x0, 0x0);
        gbc.writeMem(0x3ebf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xafaa);
        EXPECT(gbc.pc(), 0x3ec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02E0
        gbc.setState(0x249b, 0xba52, 0x4e90, 0x6e61, 0x38ce, 0xdf40, 0x1, 0x1);
        gbc.writeMem(0x249b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xba52);
        EXPECT(gbc.pc(), 0x249d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02E1
        gbc.setState(0x3949, 0xf871, 0xd370, 0xa8e, 0x1999, 0x32f, 0x0, 0x0);
        gbc.writeMem(0x3949, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf871);
        EXPECT(gbc.pc(), 0x394b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02E2
        gbc.setState(0x2843, 0xfaa2, 0x8650, 0x79b, 0x8ebc, 0x44e6, 0x0, 0x0);
        gbc.writeMem(0x2843, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfaa2);
        EXPECT(gbc.pc(), 0x2845);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02E3
        gbc.setState(0x1a52, 0x764e, 0x71b0, 0xcc6, 0x2723, 0xb611, 0x1, 0x1);
        gbc.writeMem(0x1a52, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x764e);
        EXPECT(gbc.pc(), 0x1a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02E4
        gbc.setState(0x2c2a, 0xc01b, 0x2240, 0xadca, 0xafb4, 0x253b, 0x1, 0x0);
        gbc.writeMem(0x2c2a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc01b);
        EXPECT(gbc.pc(), 0x2c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02E5
        gbc.setState(0x2fd7, 0x20ac, 0xe20, 0xe439, 0x4d39, 0x322b, 0x0, 0x1);
        gbc.writeMem(0x2fd7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x20ac);
        EXPECT(gbc.pc(), 0x2fd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02E6
        gbc.setState(0xc67a, 0x5770, 0x21e0, 0xef86, 0xef63, 0x26b5, 0x0, 0x1);
        gbc.writeMem(0xc67a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5770);
        EXPECT(gbc.pc(), 0xc67c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc67a), 0xcb);
        EXPECT(gbc.readMem(0xc67b), 0xb5);
        // CB B5 02E7
        gbc.setState(0x58ca, 0x1ad3, 0x72e0, 0x4b71, 0x78ea, 0xde7b, 0x1, 0x1);
        gbc.writeMem(0x58ca, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1ad3);
        EXPECT(gbc.pc(), 0x58cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02E8
        gbc.setState(0x3536, 0xabe0, 0xc060, 0x1e6f, 0xf244, 0x374b, 0x1, 0x1);
        gbc.writeMem(0x3536, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xabe0);
        EXPECT(gbc.pc(), 0x3538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02E9
        gbc.setState(0xe9c3, 0xd689, 0x53d0, 0x7082, 0x562, 0xef4e, 0x0, 0x1);
        gbc.writeMem(0xe9c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd689);
        EXPECT(gbc.pc(), 0xe9c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9c3), 0xcb);
        EXPECT(gbc.readMem(0xe9c4), 0xb5);
        // CB B5 02EA
        gbc.setState(0x9e8b, 0x50a5, 0xfb40, 0xc6d8, 0xb14f, 0xa0c4, 0x0, 0x0);
        gbc.writeMem(0x9e8b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x50a5);
        EXPECT(gbc.pc(), 0x9e8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8b), 0xcb);
        EXPECT(gbc.readMem(0x9e8c), 0xb5);
        // CB B5 02EB
        gbc.setState(0x5fbd, 0xf1f9, 0xa9a0, 0xefcf, 0x12f4, 0xb512, 0x0, 0x0);
        gbc.writeMem(0x5fbd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf1f9);
        EXPECT(gbc.pc(), 0x5fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02ED
        gbc.setState(0x8007, 0xf374, 0xbff0, 0xfa99, 0xfaed, 0x90aa, 0x1, 0x0);
        gbc.writeMem(0x8007, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf374);
        EXPECT(gbc.pc(), 0x8009);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8007), 0xcb);
        EXPECT(gbc.readMem(0x8008), 0xb5);
        // CB B5 02EE
        gbc.setState(0x7fb5, 0x3ae6, 0x6f80, 0xb685, 0x75bf, 0xd61f, 0x1, 0x1);
        gbc.writeMem(0x7fb5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3ae6);
        EXPECT(gbc.pc(), 0x7fb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02EF
        gbc.setState(0xc3a, 0x9381, 0xa190, 0xefe8, 0x1b3c, 0xbc2b, 0x1, 0x0);
        gbc.writeMem(0xc3a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9381);
        EXPECT(gbc.pc(), 0xc3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02F0
        gbc.setState(0xeec8, 0xd9e5, 0xbb10, 0xef63, 0x73de, 0x97c7, 0x0, 0x1);
        gbc.writeMem(0xeec8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd9e5);
        EXPECT(gbc.pc(), 0xeeca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeec8), 0xcb);
        EXPECT(gbc.readMem(0xeec9), 0xb5);
        // CB B5 02F1
        gbc.setState(0xec1f, 0xfa3a, 0x2330, 0x7cbe, 0xc47, 0xaa38, 0x0, 0x1);
        gbc.writeMem(0xec1f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfa3a);
        EXPECT(gbc.pc(), 0xec21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec1f), 0xcb);
        EXPECT(gbc.readMem(0xec20), 0xb5);
        // CB B5 02F2
        gbc.setState(0x1d98, 0x93af, 0x6410, 0xde0b, 0x6637, 0x38d6, 0x0, 0x1);
        gbc.writeMem(0x1d98, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x93af);
        EXPECT(gbc.pc(), 0x1d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02F3
        gbc.setState(0x22e, 0x378e, 0xb860, 0x8b22, 0xf7c2, 0xb4a9, 0x0, 0x0);
        gbc.writeMem(0x22e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x378e);
        EXPECT(gbc.pc(), 0x230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02F4
        gbc.setState(0x8905, 0x4817, 0x1340, 0x3df7, 0x9e1a, 0x95b7, 0x0, 0x0);
        gbc.writeMem(0x8905, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4817);
        EXPECT(gbc.pc(), 0x8907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8905), 0xcb);
        EXPECT(gbc.readMem(0x8906), 0xb5);
        // CB B5 02F5
        gbc.setState(0x81b7, 0xc32d, 0xea0, 0x74ea, 0x8b27, 0x669, 0x1, 0x0);
        gbc.writeMem(0x81b7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc32d);
        EXPECT(gbc.pc(), 0x81b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b7), 0xcb);
        EXPECT(gbc.readMem(0x81b8), 0xb5);
        // CB B5 02F6
        gbc.setState(0x9349, 0xab13, 0x2240, 0xe11, 0x8e58, 0x23a, 0x1, 0x1);
        gbc.writeMem(0x9349, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xab13);
        EXPECT(gbc.pc(), 0x934b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9349), 0xcb);
        EXPECT(gbc.readMem(0x934a), 0xb5);
        // CB B5 02F7
        gbc.setState(0xbe0d, 0x8e4a, 0xfc10, 0x8beb, 0xed51, 0x3504, 0x1, 0x0);
        gbc.writeMem(0xbe0d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8e4a);
        EXPECT(gbc.pc(), 0xbe0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe0d), 0xcb);
        EXPECT(gbc.readMem(0xbe0e), 0xb5);
        // CB B5 02F8
        gbc.setState(0x254b, 0x6595, 0xabf0, 0x9c1e, 0x8531, 0x367b, 0x0, 0x0);
        gbc.writeMem(0x254b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6595);
        EXPECT(gbc.pc(), 0x254d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02F9
        gbc.setState(0x1275, 0x974b, 0x79d0, 0x9ba5, 0x41ed, 0x2cbf, 0x1, 0x1);
        gbc.writeMem(0x1275, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x974b);
        EXPECT(gbc.pc(), 0x1277);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 02FA
        gbc.setState(0xc986, 0x2f0e, 0x8e40, 0x18e7, 0x302f, 0x58ca, 0x0, 0x0);
        gbc.writeMem(0xc986, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2f0e);
        EXPECT(gbc.pc(), 0xc988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc986), 0xcb);
        EXPECT(gbc.readMem(0xc987), 0xb5);
        // CB B5 02FB
        gbc.setState(0xb403, 0xa01e, 0xc5c0, 0xb852, 0x859b, 0xbd0, 0x1, 0x1);
        gbc.writeMem(0xb403, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa01e);
        EXPECT(gbc.pc(), 0xb405);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb403), 0xcb);
        EXPECT(gbc.readMem(0xb404), 0xb5);
        // CB B5 02FC
        gbc.setState(0x9770, 0x8bb, 0xa630, 0x9a22, 0xb309, 0xcdf9, 0x1, 0x1);
        gbc.writeMem(0x9770, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8bb);
        EXPECT(gbc.pc(), 0x9772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9770), 0xcb);
        EXPECT(gbc.readMem(0x9771), 0xb5);
        // CB B5 02FD
        gbc.setState(0x7c42, 0x7242, 0xc160, 0x8378, 0x44d9, 0xa7af, 0x0, 0x0);
        gbc.writeMem(0x7c42, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x7242);
        EXPECT(gbc.pc(), 0x7c44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 02FE
        gbc.setState(0x8c16, 0xd3d6, 0xaa20, 0xa76b, 0xd2f9, 0x1afa, 0x0, 0x0);
        gbc.writeMem(0x8c16, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd3d6);
        EXPECT(gbc.pc(), 0x8c18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c16), 0xcb);
        EXPECT(gbc.readMem(0x8c17), 0xb5);
        // CB B5 02FF
        gbc.setState(0xb46e, 0xc7d3, 0x9cc0, 0xbd3b, 0x30a4, 0xd8e5, 0x1, 0x0);
        gbc.writeMem(0xb46e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc7d3);
        EXPECT(gbc.pc(), 0xb470);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46e), 0xcb);
        EXPECT(gbc.readMem(0xb46f), 0xb5);
        // CB B5 0300
        gbc.setState(0xb2e6, 0x26ef, 0xf7b0, 0x4414, 0x8fcf, 0xa4fa, 0x0, 0x0);
        gbc.writeMem(0xb2e6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x26ef);
        EXPECT(gbc.pc(), 0xb2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e6), 0xcb);
        EXPECT(gbc.readMem(0xb2e7), 0xb5);
        // CB B5 0301
        gbc.setState(0x8ae7, 0xae76, 0xd520, 0x407a, 0xd607, 0x9ba3, 0x0, 0x1);
        gbc.writeMem(0x8ae7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xae76);
        EXPECT(gbc.pc(), 0x8ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae7), 0xcb);
        EXPECT(gbc.readMem(0x8ae8), 0xb5);
        // CB B5 0302
        gbc.setState(0xb85e, 0x99aa, 0x38c0, 0x386, 0x567b, 0xb8d, 0x1, 0x0);
        gbc.writeMem(0xb85e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x99aa);
        EXPECT(gbc.pc(), 0xb860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb85e), 0xcb);
        EXPECT(gbc.readMem(0xb85f), 0xb5);
        // CB B5 0304
        gbc.setState(0x4c5a, 0xace2, 0xd210, 0x7a40, 0x4103, 0xbd17, 0x0, 0x1);
        gbc.writeMem(0x4c5a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xace2);
        EXPECT(gbc.pc(), 0x4c5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0305
        gbc.setState(0x70cf, 0x5fe5, 0x9830, 0xee47, 0x8b17, 0x8c49, 0x1, 0x0);
        gbc.writeMem(0x70cf, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x5fe5);
        EXPECT(gbc.pc(), 0x70d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0306
        gbc.setState(0x913e, 0xf2e4, 0xcf0, 0xf4b7, 0xa97e, 0xb6d7, 0x0, 0x0);
        gbc.writeMem(0x913e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf2e4);
        EXPECT(gbc.pc(), 0x9140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x913e), 0xcb);
        EXPECT(gbc.readMem(0x913f), 0xb5);
        // CB B5 0307
        gbc.setState(0xe728, 0x32d1, 0xeb60, 0x737e, 0xc7bb, 0x5059, 0x1, 0x0);
        gbc.writeMem(0xe728, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x32d1);
        EXPECT(gbc.pc(), 0xe72a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe728), 0xcb);
        EXPECT(gbc.readMem(0xe729), 0xb5);
        // CB B5 0308
        gbc.setState(0x6862, 0xa117, 0x2c10, 0x7333, 0x59aa, 0x4da, 0x1, 0x1);
        gbc.writeMem(0x6862, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa117);
        EXPECT(gbc.pc(), 0x6864);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0309
        gbc.setState(0x645f, 0x28b2, 0x1d70, 0x271, 0x6ce9, 0xe7f7, 0x1, 0x1);
        gbc.writeMem(0x645f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x28b2);
        EXPECT(gbc.pc(), 0x6461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 030A
        gbc.setState(0x833f, 0x4db1, 0x8370, 0x2bcd, 0xc227, 0xb92b, 0x0, 0x1);
        gbc.writeMem(0x833f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4db1);
        EXPECT(gbc.pc(), 0x8341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x833f), 0xcb);
        EXPECT(gbc.readMem(0x8340), 0xb5);
        // CB B5 030B
        gbc.setState(0x570a, 0xf441, 0x73f0, 0x9dfc, 0x77e3, 0x84c, 0x1, 0x1);
        gbc.writeMem(0x570a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf441);
        EXPECT(gbc.pc(), 0x570c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 030C
        gbc.setState(0x6941, 0x505e, 0x2ee0, 0x3d93, 0x1e29, 0xa35c, 0x0, 0x0);
        gbc.writeMem(0x6941, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x505e);
        EXPECT(gbc.pc(), 0x6943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 030D
        gbc.setState(0xdb82, 0x4b24, 0x8850, 0x811b, 0xe1d1, 0xacf0, 0x1, 0x0);
        gbc.writeMem(0xdb82, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4b24);
        EXPECT(gbc.pc(), 0xdb84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb82), 0xcb);
        EXPECT(gbc.readMem(0xdb83), 0xb5);
        // CB B5 030E
        gbc.setState(0x18ea, 0x873, 0xf070, 0x6885, 0x6330, 0x4eda, 0x1, 0x1);
        gbc.writeMem(0x18ea, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x873);
        EXPECT(gbc.pc(), 0x18ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 030F
        gbc.setState(0x7046, 0xe541, 0xfac0, 0xa4c2, 0x3be5, 0x2afd, 0x1, 0x0);
        gbc.writeMem(0x7046, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe541);
        EXPECT(gbc.pc(), 0x7048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0310
        gbc.setState(0xe7fd, 0xc09f, 0x4b0, 0xad08, 0xd1ad, 0xde02, 0x0, 0x1);
        gbc.writeMem(0xe7fd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc09f);
        EXPECT(gbc.pc(), 0xe7ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7fd), 0xcb);
        EXPECT(gbc.readMem(0xe7fe), 0xb5);
        // CB B5 0311
        gbc.setState(0xe193, 0x64ae, 0x2750, 0x8210, 0x3997, 0x95b4, 0x0, 0x1);
        gbc.writeMem(0xe193, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x64ae);
        EXPECT(gbc.pc(), 0xe195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe193), 0xcb);
        EXPECT(gbc.readMem(0xe194), 0xb5);
        // CB B5 0312
        gbc.setState(0xcac5, 0x2359, 0x5c10, 0x83b5, 0xc0cf, 0x77de, 0x0, 0x0);
        gbc.writeMem(0xcac5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x2359);
        EXPECT(gbc.pc(), 0xcac7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcac5), 0xcb);
        EXPECT(gbc.readMem(0xcac6), 0xb5);
        // CB B5 0313
        gbc.setState(0x24c9, 0xbe70, 0x5900, 0xc473, 0x5de3, 0x299e, 0x1, 0x1);
        gbc.writeMem(0x24c9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xbe70);
        EXPECT(gbc.pc(), 0x24cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0314
        gbc.setState(0xbb9b, 0xcf6a, 0x3020, 0xfbc5, 0xc87f, 0x5e31, 0x0, 0x1);
        gbc.writeMem(0xbb9b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcf6a);
        EXPECT(gbc.pc(), 0xbb9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb9b), 0xcb);
        EXPECT(gbc.readMem(0xbb9c), 0xb5);
        // CB B5 0315
        gbc.setState(0x990c, 0x3d2a, 0x82d0, 0xb327, 0x4ab9, 0x6deb, 0x0, 0x0);
        gbc.writeMem(0x990c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3d2a);
        EXPECT(gbc.pc(), 0x990e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x990c), 0xcb);
        EXPECT(gbc.readMem(0x990d), 0xb5);
        // CB B5 0316
        gbc.setState(0xeb38, 0xa4f1, 0x8af0, 0x2b33, 0x90b5, 0xc87e, 0x1, 0x1);
        gbc.writeMem(0xeb38, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa4f1);
        EXPECT(gbc.pc(), 0xeb3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb38), 0xcb);
        EXPECT(gbc.readMem(0xeb39), 0xb5);
        // CB B5 0317
        gbc.setState(0x7f54, 0xacf0, 0xa440, 0x7a46, 0x43b4, 0x6ae9, 0x1, 0x0);
        gbc.writeMem(0x7f54, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xacf0);
        EXPECT(gbc.pc(), 0x7f56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0318
        gbc.setState(0x5460, 0xb28b, 0x9220, 0xf59e, 0xa8ef, 0xefc6, 0x0, 0x0);
        gbc.writeMem(0x5460, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb28b);
        EXPECT(gbc.pc(), 0x5462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0319
        gbc.setState(0x4b54, 0x1c43, 0x8c60, 0x403e, 0x3fc7, 0xf7b6, 0x1, 0x1);
        gbc.writeMem(0x4b54, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1c43);
        EXPECT(gbc.pc(), 0x4b56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 031A
        gbc.setState(0x4214, 0x6b5e, 0x2340, 0xb143, 0x397a, 0x56d0, 0x0, 0x0);
        gbc.writeMem(0x4214, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6b5e);
        EXPECT(gbc.pc(), 0x4216);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 031B
        gbc.setState(0xd77f, 0x853f, 0x28e0, 0xe26b, 0xf677, 0x9cc, 0x1, 0x1);
        gbc.writeMem(0xd77f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x853f);
        EXPECT(gbc.pc(), 0xd781);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd77f), 0xcb);
        EXPECT(gbc.readMem(0xd780), 0xb5);
        // CB B5 031C
        gbc.setState(0xd497, 0x7d0, 0x93b0, 0x7ce4, 0x799a, 0x3152, 0x0, 0x1);
        gbc.writeMem(0xd497, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7d0);
        EXPECT(gbc.pc(), 0xd499);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd497), 0xcb);
        EXPECT(gbc.readMem(0xd498), 0xb5);
        // CB B5 031D
        gbc.setState(0xcc15, 0x4342, 0xe450, 0xb91f, 0x4701, 0xed0a, 0x1, 0x0);
        gbc.writeMem(0xcc15, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4342);
        EXPECT(gbc.pc(), 0xcc17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc15), 0xcb);
        EXPECT(gbc.readMem(0xcc16), 0xb5);
        // CB B5 031E
        gbc.setState(0x5c53, 0x34b1, 0x4be0, 0x3d84, 0x2321, 0xe648, 0x0, 0x1);
        gbc.writeMem(0x5c53, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x34b1);
        EXPECT(gbc.pc(), 0x5c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 031F
        gbc.setState(0x4056, 0x7db9, 0xd360, 0x1115, 0xacef, 0x8, 0x0, 0x0);
        gbc.writeMem(0x4056, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7db9);
        EXPECT(gbc.pc(), 0x4058);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0320
        gbc.setState(0xb05f, 0xd1fa, 0xd580, 0x927b, 0x1b5d, 0x5a19, 0x0, 0x0);
        gbc.writeMem(0xb05f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xd1fa);
        EXPECT(gbc.pc(), 0xb061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb05f), 0xcb);
        EXPECT(gbc.readMem(0xb060), 0xb5);
        // CB B5 0321
        gbc.setState(0x9993, 0x2e5c, 0x7430, 0xbc9, 0xee2f, 0x2cc7, 0x0, 0x1);
        gbc.writeMem(0x9993, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2e5c);
        EXPECT(gbc.pc(), 0x9995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9993), 0xcb);
        EXPECT(gbc.readMem(0x9994), 0xb5);
        // CB B5 0322
        gbc.setState(0x9eaa, 0xaf80, 0xa0a0, 0xb518, 0xfd3, 0xb04f, 0x0, 0x1);
        gbc.writeMem(0x9eaa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xaf80);
        EXPECT(gbc.pc(), 0x9eac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eaa), 0xcb);
        EXPECT(gbc.readMem(0x9eab), 0xb5);
        // CB B5 0323
        gbc.setState(0xc442, 0xfa65, 0x1b80, 0x5ae3, 0xabfe, 0x669c, 0x1, 0x1);
        gbc.writeMem(0xc442, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xfa65);
        EXPECT(gbc.pc(), 0xc444);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc442), 0xcb);
        EXPECT(gbc.readMem(0xc443), 0xb5);
        // CB B5 0324
        gbc.setState(0x684c, 0x92d6, 0xfb80, 0x1d97, 0x7a9, 0xe3db, 0x1, 0x1);
        gbc.writeMem(0x684c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x92d6);
        EXPECT(gbc.pc(), 0x684e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0325
        gbc.setState(0xc57, 0xc0bf, 0x8cd0, 0x46b9, 0xdf3a, 0xb8e8, 0x1, 0x0);
        gbc.writeMem(0xc57, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc0bf);
        EXPECT(gbc.pc(), 0xc59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0326
        gbc.setState(0x7114, 0xf82b, 0x22c0, 0x6126, 0x8d28, 0x28cd, 0x1, 0x1);
        gbc.writeMem(0x7114, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf82b);
        EXPECT(gbc.pc(), 0x7116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0327
        gbc.setState(0x16bc, 0x77af, 0x7340, 0xf536, 0xd6bc, 0x3c30, 0x1, 0x0);
        gbc.writeMem(0x16bc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x77af);
        EXPECT(gbc.pc(), 0x16be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0328
        gbc.setState(0xee13, 0xc2ba, 0x5a60, 0x28bb, 0x7b15, 0x4c9b, 0x0, 0x1);
        gbc.writeMem(0xee13, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc2ba);
        EXPECT(gbc.pc(), 0xee15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee13), 0xcb);
        EXPECT(gbc.readMem(0xee14), 0xb5);
        // CB B5 0329
        gbc.setState(0x93f9, 0x5153, 0xd20, 0x124a, 0x455e, 0xc1e7, 0x1, 0x0);
        gbc.writeMem(0x93f9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5153);
        EXPECT(gbc.pc(), 0x93fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93f9), 0xcb);
        EXPECT(gbc.readMem(0x93fa), 0xb5);
        // CB B5 032B
        gbc.setState(0x87db, 0x6b45, 0x7b80, 0xe1f7, 0xdc2f, 0x5849, 0x0, 0x0);
        gbc.writeMem(0x87db, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6b45);
        EXPECT(gbc.pc(), 0x87dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87db), 0xcb);
        EXPECT(gbc.readMem(0x87dc), 0xb5);
        // CB B5 032C
        gbc.setState(0xa031, 0x69b, 0xd620, 0xef72, 0x5d96, 0xdfca, 0x0, 0x1);
        gbc.writeMem(0xa031, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x69b);
        EXPECT(gbc.pc(), 0xa033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa031), 0xcb);
        EXPECT(gbc.readMem(0xa032), 0xb5);
        // CB B5 032D
        gbc.setState(0xf16, 0x261f, 0xdfb0, 0xb657, 0x3871, 0xebc6, 0x1, 0x0);
        gbc.writeMem(0xf16, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x261f);
        EXPECT(gbc.pc(), 0xf18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 032E
        gbc.setState(0x8cb, 0x5589, 0x5bb0, 0xdd4a, 0xddc7, 0x434f, 0x1, 0x0);
        gbc.writeMem(0x8cb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5589);
        EXPECT(gbc.pc(), 0x8cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 032F
        gbc.setState(0xb887, 0x4d9, 0x58a0, 0x684c, 0xf1f7, 0x8feb, 0x0, 0x1);
        gbc.writeMem(0xb887, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4d9);
        EXPECT(gbc.pc(), 0xb889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb887), 0xcb);
        EXPECT(gbc.readMem(0xb888), 0xb5);
        // CB B5 0330
        gbc.setState(0xb5c3, 0x9002, 0xa570, 0x61cb, 0x68fd, 0xd66c, 0x0, 0x0);
        gbc.writeMem(0xb5c3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9002);
        EXPECT(gbc.pc(), 0xb5c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5c3), 0xcb);
        EXPECT(gbc.readMem(0xb5c4), 0xb5);
        // CB B5 0332
        gbc.setState(0xd5b0, 0x1ed2, 0x3c30, 0xef20, 0x5fac, 0x942b, 0x1, 0x0);
        gbc.writeMem(0xd5b0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1ed2);
        EXPECT(gbc.pc(), 0xd5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5b0), 0xcb);
        EXPECT(gbc.readMem(0xd5b1), 0xb5);
        // CB B5 0333
        gbc.setState(0x5230, 0x5b2c, 0xd6e0, 0x5238, 0x5931, 0x6ad4, 0x1, 0x0);
        gbc.writeMem(0x5230, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5b2c);
        EXPECT(gbc.pc(), 0x5232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0334
        gbc.setState(0xe46c, 0x503b, 0x31c0, 0x6ca1, 0x1a8a, 0x6440, 0x1, 0x0);
        gbc.writeMem(0xe46c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x503b);
        EXPECT(gbc.pc(), 0xe46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe46c), 0xcb);
        EXPECT(gbc.readMem(0xe46d), 0xb5);
        // CB B5 0335
        gbc.setState(0x142c, 0xe3cd, 0xe100, 0x1eac, 0xa972, 0xdf29, 0x0, 0x1);
        gbc.writeMem(0x142c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe3cd);
        EXPECT(gbc.pc(), 0x142e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0336
        gbc.setState(0x19fb, 0xad47, 0x9230, 0xd10e, 0x448, 0x9d77, 0x1, 0x1);
        gbc.writeMem(0x19fb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xad47);
        EXPECT(gbc.pc(), 0x19fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0337
        gbc.setState(0x569c, 0x898d, 0xde0, 0xf2e, 0x69d5, 0x7204, 0x0, 0x1);
        gbc.writeMem(0x569c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x898d);
        EXPECT(gbc.pc(), 0x569e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0338
        gbc.setState(0x3c78, 0xd45b, 0x3750, 0x6dd9, 0xdd74, 0x2136, 0x0, 0x1);
        gbc.writeMem(0x3c78, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xd45b);
        EXPECT(gbc.pc(), 0x3c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0339
        gbc.setState(0x7072, 0x41b6, 0x6b20, 0x97b9, 0xac29, 0xbd89, 0x1, 0x0);
        gbc.writeMem(0x7072, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x41b6);
        EXPECT(gbc.pc(), 0x7074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 033A
        gbc.setState(0xce6e, 0xded5, 0xb220, 0x8972, 0x92e2, 0x9b4e, 0x0, 0x0);
        gbc.writeMem(0xce6e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xded5);
        EXPECT(gbc.pc(), 0xce70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6e), 0xcb);
        EXPECT(gbc.readMem(0xce6f), 0xb5);
        // CB B5 033B
        gbc.setState(0xa369, 0x7ea0, 0x6240, 0xc628, 0xcdc5, 0x1d0c, 0x0, 0x1);
        gbc.writeMem(0xa369, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x7ea0);
        EXPECT(gbc.pc(), 0xa36b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa369), 0xcb);
        EXPECT(gbc.readMem(0xa36a), 0xb5);
        // CB B5 033C
        gbc.setState(0x6c90, 0x8015, 0xa770, 0x87a5, 0x2f33, 0x957e, 0x0, 0x1);
        gbc.writeMem(0x6c90, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x8015);
        EXPECT(gbc.pc(), 0x6c92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 033D
        gbc.setState(0x3f1a, 0x1b93, 0x8830, 0x66a7, 0xd3db, 0xc24b, 0x0, 0x1);
        gbc.writeMem(0x3f1a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1b93);
        EXPECT(gbc.pc(), 0x3f1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 033F
        gbc.setState(0xeac7, 0xbf84, 0x180, 0x793c, 0x83dd, 0x972, 0x0, 0x0);
        gbc.writeMem(0xeac7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbf84);
        EXPECT(gbc.pc(), 0xeac9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeac7), 0xcb);
        EXPECT(gbc.readMem(0xeac8), 0xb5);
        // CB B5 0340
        gbc.setState(0x139a, 0xcc11, 0xed0, 0xb291, 0xc273, 0x8283, 0x1, 0x1);
        gbc.writeMem(0x139a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xcc11);
        EXPECT(gbc.pc(), 0x139c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0341
        gbc.setState(0xa3bc, 0xe77e, 0x4840, 0x12b1, 0x2ea2, 0x775b, 0x0, 0x0);
        gbc.writeMem(0xa3bc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe77e);
        EXPECT(gbc.pc(), 0xa3be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3bc), 0xcb);
        EXPECT(gbc.readMem(0xa3bd), 0xb5);
        // CB B5 0342
        gbc.setState(0x2f24, 0xe9f5, 0x3930, 0xdc19, 0xc86c, 0x70de, 0x0, 0x0);
        gbc.writeMem(0x2f24, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe9f5);
        EXPECT(gbc.pc(), 0x2f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0343
        gbc.setState(0xa131, 0x7a76, 0x3c10, 0x1606, 0xe32b, 0x5f04, 0x1, 0x1);
        gbc.writeMem(0xa131, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7a76);
        EXPECT(gbc.pc(), 0xa133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa131), 0xcb);
        EXPECT(gbc.readMem(0xa132), 0xb5);
        // CB B5 0344
        gbc.setState(0xed88, 0xbe18, 0xa2b0, 0xb905, 0x3557, 0x383f, 0x1, 0x1);
        gbc.writeMem(0xed88, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbe18);
        EXPECT(gbc.pc(), 0xed8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed88), 0xcb);
        EXPECT(gbc.readMem(0xed89), 0xb5);
        // CB B5 0345
        gbc.setState(0xb9a0, 0xb167, 0xb0b0, 0xb3dd, 0xf674, 0x261d, 0x0, 0x0);
        gbc.writeMem(0xb9a0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb167);
        EXPECT(gbc.pc(), 0xb9a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a0), 0xcb);
        EXPECT(gbc.readMem(0xb9a1), 0xb5);
        // CB B5 0346
        gbc.setState(0x91d, 0x7128, 0xd290, 0xab27, 0x3e63, 0x7332, 0x0, 0x1);
        gbc.writeMem(0x91d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7128);
        EXPECT(gbc.pc(), 0x91f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0348
        gbc.setState(0x4d25, 0x2d1e, 0xd5d0, 0xe31d, 0x67bc, 0xb2d3, 0x0, 0x1);
        gbc.writeMem(0x4d25, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x2d1e);
        EXPECT(gbc.pc(), 0x4d27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0349
        gbc.setState(0xc71, 0x6f3e, 0xce0, 0xe115, 0xf862, 0xf075, 0x1, 0x1);
        gbc.writeMem(0xc71, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6f3e);
        EXPECT(gbc.pc(), 0xc73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 034A
        gbc.setState(0x6ae9, 0xb46a, 0xfb80, 0xeb56, 0x8ed9, 0x2e10, 0x0, 0x1);
        gbc.writeMem(0x6ae9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb46a);
        EXPECT(gbc.pc(), 0x6aeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 034B
        gbc.setState(0x937c, 0xd2c, 0x95c0, 0x3fbf, 0xc2d, 0xb9b0, 0x0, 0x0);
        gbc.writeMem(0x937c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd2c);
        EXPECT(gbc.pc(), 0x937e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x937c), 0xcb);
        EXPECT(gbc.readMem(0x937d), 0xb5);
        // CB B5 034C
        gbc.setState(0x95dd, 0xa54b, 0xbbb0, 0x7742, 0xed0c, 0x467c, 0x0, 0x0);
        gbc.writeMem(0x95dd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa54b);
        EXPECT(gbc.pc(), 0x95df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95dd), 0xcb);
        EXPECT(gbc.readMem(0x95de), 0xb5);
        // CB B5 034D
        gbc.setState(0xe741, 0x759d, 0x6dd0, 0xe1d7, 0x8e76, 0x1b2c, 0x0, 0x0);
        gbc.writeMem(0xe741, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x759d);
        EXPECT(gbc.pc(), 0xe743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe741), 0xcb);
        EXPECT(gbc.readMem(0xe742), 0xb5);
        // CB B5 034E
        gbc.setState(0x2201, 0x7e0, 0x84d0, 0x8672, 0xcc66, 0x63fd, 0x0, 0x0);
        gbc.writeMem(0x2201, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7e0);
        EXPECT(gbc.pc(), 0x2203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 034F
        gbc.setState(0x95e8, 0xe39, 0x1100, 0xe629, 0x328, 0xfa47, 0x1, 0x1);
        gbc.writeMem(0x95e8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe39);
        EXPECT(gbc.pc(), 0x95ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95e8), 0xcb);
        EXPECT(gbc.readMem(0x95e9), 0xb5);
        // CB B5 0350
        gbc.setState(0x1771, 0x101b, 0x2100, 0x3763, 0x8d41, 0x1893, 0x0, 0x0);
        gbc.writeMem(0x1771, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x101b);
        EXPECT(gbc.pc(), 0x1773);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0351
        gbc.setState(0x6abb, 0x5f41, 0x2160, 0x96b8, 0xdbbe, 0x7acc, 0x1, 0x0);
        gbc.writeMem(0x6abb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x5f41);
        EXPECT(gbc.pc(), 0x6abd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0352
        gbc.setState(0x98e1, 0x3c93, 0xbcd0, 0xffa7, 0xb17f, 0xa3e5, 0x0, 0x0);
        gbc.writeMem(0x98e1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3c93);
        EXPECT(gbc.pc(), 0x98e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98e1), 0xcb);
        EXPECT(gbc.readMem(0x98e2), 0xb5);
        // CB B5 0353
        gbc.setState(0x65bd, 0xc268, 0x5be0, 0x8c3d, 0xbb01, 0x100c, 0x0, 0x0);
        gbc.writeMem(0x65bd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc268);
        EXPECT(gbc.pc(), 0x65bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0354
        gbc.setState(0xc76f, 0x15cd, 0xbc00, 0xe796, 0x19a1, 0x5e0a, 0x0, 0x1);
        gbc.writeMem(0xc76f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x15cd);
        EXPECT(gbc.pc(), 0xc771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc76f), 0xcb);
        EXPECT(gbc.readMem(0xc770), 0xb5);
        // CB B5 0355
        gbc.setState(0xdeb, 0xade7, 0xff20, 0xa9b9, 0xa5, 0xc035, 0x1, 0x0);
        gbc.writeMem(0xdeb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xade7);
        EXPECT(gbc.pc(), 0xded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0356
        gbc.setState(0xe979, 0x48e, 0x2310, 0xb164, 0xe85e, 0x74ef, 0x0, 0x1);
        gbc.writeMem(0xe979, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x48e);
        EXPECT(gbc.pc(), 0xe97b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe979), 0xcb);
        EXPECT(gbc.readMem(0xe97a), 0xb5);
        // CB B5 0357
        gbc.setState(0xa2f2, 0xf9e5, 0x7180, 0x90a, 0x6cc7, 0xf996, 0x0, 0x0);
        gbc.writeMem(0xa2f2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf9e5);
        EXPECT(gbc.pc(), 0xa2f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f2), 0xcb);
        EXPECT(gbc.readMem(0xa2f3), 0xb5);
        // CB B5 0358
        gbc.setState(0x657f, 0x9fa2, 0x5160, 0x367, 0xcdab, 0xf65c, 0x1, 0x0);
        gbc.writeMem(0x657f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9fa2);
        EXPECT(gbc.pc(), 0x6581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0359
        gbc.setState(0x9e7a, 0x105, 0x9f0, 0x502a, 0xd9e, 0xdabd, 0x0, 0x1);
        gbc.writeMem(0x9e7a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x105);
        EXPECT(gbc.pc(), 0x9e7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e7a), 0xcb);
        EXPECT(gbc.readMem(0x9e7b), 0xb5);
        // CB B5 035A
        gbc.setState(0x87ee, 0xdefc, 0x1b00, 0xb29a, 0x5056, 0xd2da, 0x0, 0x1);
        gbc.writeMem(0x87ee, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdefc);
        EXPECT(gbc.pc(), 0x87f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87ee), 0xcb);
        EXPECT(gbc.readMem(0x87ef), 0xb5);
        // CB B5 035C
        gbc.setState(0xe250, 0xee, 0xef20, 0x9248, 0xa15d, 0xa37c, 0x1, 0x1);
        gbc.writeMem(0xe250, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xee);
        EXPECT(gbc.pc(), 0xe252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe250), 0xcb);
        EXPECT(gbc.readMem(0xe251), 0xb5);
        // CB B5 035D
        gbc.setState(0x4880, 0xad0b, 0x2600, 0xddfb, 0x4fa8, 0x5340, 0x0, 0x1);
        gbc.writeMem(0x4880, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xad0b);
        EXPECT(gbc.pc(), 0x4882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 035E
        gbc.setState(0x4b12, 0x5472, 0xc8f0, 0xf734, 0x376, 0xcd35, 0x0, 0x1);
        gbc.writeMem(0x4b12, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5472);
        EXPECT(gbc.pc(), 0x4b14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 035F
        gbc.setState(0x3dca, 0xa9db, 0x28d0, 0x25b, 0x4ff9, 0x4ce3, 0x1, 0x0);
        gbc.writeMem(0x3dca, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xa9db);
        EXPECT(gbc.pc(), 0x3dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0360
        gbc.setState(0xc593, 0x6abb, 0xce10, 0x6af2, 0xc3df, 0xdc0d, 0x1, 0x1);
        gbc.writeMem(0xc593, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6abb);
        EXPECT(gbc.pc(), 0xc595);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc593), 0xcb);
        EXPECT(gbc.readMem(0xc594), 0xb5);
        // CB B5 0361
        gbc.setState(0x2929, 0x60b7, 0xe270, 0x944d, 0xfd91, 0x4a63, 0x0, 0x0);
        gbc.writeMem(0x2929, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x60b7);
        EXPECT(gbc.pc(), 0x292b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0362
        gbc.setState(0x1e79, 0x5aad, 0x440, 0xe6de, 0x581e, 0x3faf, 0x1, 0x0);
        gbc.writeMem(0x1e79, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5aad);
        EXPECT(gbc.pc(), 0x1e7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0363
        gbc.setState(0x2b2b, 0x1617, 0xfd70, 0x73a7, 0x7e50, 0x939b, 0x0, 0x1);
        gbc.writeMem(0x2b2b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1617);
        EXPECT(gbc.pc(), 0x2b2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0364
        gbc.setState(0x69c8, 0x81fb, 0x54e0, 0xafeb, 0xeaf9, 0xa0a6, 0x1, 0x0);
        gbc.writeMem(0x69c8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x81fb);
        EXPECT(gbc.pc(), 0x69ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0365
        gbc.setState(0x68fc, 0xbc41, 0x8070, 0x3e25, 0x7789, 0xd5b2, 0x0, 0x1);
        gbc.writeMem(0x68fc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xbc41);
        EXPECT(gbc.pc(), 0x68fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0366
        gbc.setState(0x3ac6, 0x1a0f, 0xd400, 0x2c6c, 0x1d2f, 0x3d5c, 0x0, 0x0);
        gbc.writeMem(0x3ac6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1a0f);
        EXPECT(gbc.pc(), 0x3ac8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0367
        gbc.setState(0x9eb2, 0x3a41, 0x1b40, 0xc630, 0xd43b, 0x34cb, 0x1, 0x1);
        gbc.writeMem(0x9eb2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3a41);
        EXPECT(gbc.pc(), 0x9eb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb2), 0xcb);
        EXPECT(gbc.readMem(0x9eb3), 0xb5);
        // CB B5 0368
        gbc.setState(0xdec5, 0xb1dc, 0xc270, 0xf85a, 0x989f, 0x52f3, 0x1, 0x0);
        gbc.writeMem(0xdec5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb1dc);
        EXPECT(gbc.pc(), 0xdec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdec5), 0xcb);
        EXPECT(gbc.readMem(0xdec6), 0xb5);
        // CB B5 0369
        gbc.setState(0xd3d1, 0x8c75, 0x8200, 0xc19a, 0xc944, 0x8b9c, 0x0, 0x0);
        gbc.writeMem(0xd3d1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8c75);
        EXPECT(gbc.pc(), 0xd3d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d1), 0xcb);
        EXPECT(gbc.readMem(0xd3d2), 0xb5);
        // CB B5 036A
        gbc.setState(0x2fb1, 0x5728, 0xd290, 0x20bc, 0x969c, 0xd14e, 0x1, 0x0);
        gbc.writeMem(0x2fb1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5728);
        EXPECT(gbc.pc(), 0x2fb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 036B
        gbc.setState(0x2b9f, 0xd98c, 0x93f0, 0x5378, 0x7cc3, 0x3164, 0x0, 0x0);
        gbc.writeMem(0x2b9f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd98c);
        EXPECT(gbc.pc(), 0x2ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 036C
        gbc.setState(0xe21, 0x2623, 0x73c0, 0x1f3, 0x3568, 0x122f, 0x1, 0x0);
        gbc.writeMem(0xe21, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2623);
        EXPECT(gbc.pc(), 0xe23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 036D
        gbc.setState(0x6117, 0xaa27, 0xc050, 0xdb1c, 0x302a, 0xd85c, 0x0, 0x1);
        gbc.writeMem(0x6117, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xaa27);
        EXPECT(gbc.pc(), 0x6119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 036F
        gbc.setState(0xad0d, 0xbde6, 0xb1c0, 0x4a0f, 0x7efc, 0xa2f3, 0x0, 0x0);
        gbc.writeMem(0xad0d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xbde6);
        EXPECT(gbc.pc(), 0xad0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad0d), 0xcb);
        EXPECT(gbc.readMem(0xad0e), 0xb5);
        // CB B5 0371
        gbc.setState(0x8f49, 0xd80c, 0x9bb0, 0x77a3, 0x8e97, 0x1548, 0x0, 0x1);
        gbc.writeMem(0x8f49, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xd80c);
        EXPECT(gbc.pc(), 0x8f4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f49), 0xcb);
        EXPECT(gbc.readMem(0x8f4a), 0xb5);
        // CB B5 0372
        gbc.setState(0xe6c, 0x1f68, 0xa730, 0x378f, 0xf19e, 0x2141, 0x1, 0x0);
        gbc.writeMem(0xe6c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1f68);
        EXPECT(gbc.pc(), 0xe6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0373
        gbc.setState(0x9300, 0x63c4, 0x5a30, 0x687e, 0x6bf8, 0x19dd, 0x1, 0x0);
        gbc.writeMem(0x9300, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x63c4);
        EXPECT(gbc.pc(), 0x9302);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9300), 0xcb);
        EXPECT(gbc.readMem(0x9301), 0xb5);
        // CB B5 0374
        gbc.setState(0x8ddd, 0x1cbd, 0xb520, 0x34b6, 0xbf1c, 0x5b61, 0x0, 0x0);
        gbc.writeMem(0x8ddd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1cbd);
        EXPECT(gbc.pc(), 0x8ddf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ddd), 0xcb);
        EXPECT(gbc.readMem(0x8dde), 0xb5);
        // CB B5 0375
        gbc.setState(0x7d40, 0x83ab, 0xeef0, 0x7937, 0x6066, 0x6ab7, 0x1, 0x1);
        gbc.writeMem(0x7d40, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x83ab);
        EXPECT(gbc.pc(), 0x7d42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0376
        gbc.setState(0x60fd, 0x41cd, 0x38e0, 0x5ff4, 0xaeb, 0xd19a, 0x1, 0x1);
        gbc.writeMem(0x60fd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x41cd);
        EXPECT(gbc.pc(), 0x60ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0377
        gbc.setState(0xb660, 0xb619, 0x4c20, 0x540a, 0x1d34, 0x451f, 0x0, 0x0);
        gbc.writeMem(0xb660, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb619);
        EXPECT(gbc.pc(), 0xb662);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb660), 0xcb);
        EXPECT(gbc.readMem(0xb661), 0xb5);
        // CB B5 0378
        gbc.setState(0x5114, 0x2e45, 0xfb70, 0xfc22, 0x5a15, 0xcd6d, 0x1, 0x0);
        gbc.writeMem(0x5114, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2e45);
        EXPECT(gbc.pc(), 0x5116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0379
        gbc.setState(0xaade, 0xe8f6, 0x3fc0, 0x3d02, 0xa67e, 0xd87, 0x0, 0x0);
        gbc.writeMem(0xaade, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe8f6);
        EXPECT(gbc.pc(), 0xaae0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaade), 0xcb);
        EXPECT(gbc.readMem(0xaadf), 0xb5);
        // CB B5 037A
        gbc.setState(0xdfda, 0xb437, 0xe890, 0xf631, 0xe2bf, 0x40cd, 0x1, 0x0);
        gbc.writeMem(0xdfda, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xb437);
        EXPECT(gbc.pc(), 0xdfdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfda), 0xcb);
        EXPECT(gbc.readMem(0xdfdb), 0xb5);
        // CB B5 037B
        gbc.setState(0x98b2, 0x7838, 0xa60, 0x777, 0xfb87, 0x5ea9, 0x1, 0x1);
        gbc.writeMem(0x98b2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7838);
        EXPECT(gbc.pc(), 0x98b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b2), 0xcb);
        EXPECT(gbc.readMem(0x98b3), 0xb5);
        // CB B5 037D
        gbc.setState(0x71d7, 0x81db, 0x2e10, 0xc3b, 0xde94, 0x6920, 0x0, 0x0);
        gbc.writeMem(0x71d7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x81db);
        EXPECT(gbc.pc(), 0x71d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 037E
        gbc.setState(0x41d4, 0x2f99, 0x7740, 0xb67b, 0x3059, 0x6a78, 0x1, 0x0);
        gbc.writeMem(0x41d4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2f99);
        EXPECT(gbc.pc(), 0x41d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 037F
        gbc.setState(0x79e0, 0x6e76, 0xbd00, 0xe9d1, 0x5b12, 0x9d1f, 0x0, 0x0);
        gbc.writeMem(0x79e0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6e76);
        EXPECT(gbc.pc(), 0x79e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0380
        gbc.setState(0xbe17, 0xff32, 0x9b50, 0x1493, 0x60f0, 0x29d9, 0x1, 0x1);
        gbc.writeMem(0xbe17, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xff32);
        EXPECT(gbc.pc(), 0xbe19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe17), 0xcb);
        EXPECT(gbc.readMem(0xbe18), 0xb5);
        // CB B5 0381
        gbc.setState(0x4596, 0x2564, 0x3a70, 0xa997, 0xe7b5, 0xb1b4, 0x1, 0x1);
        gbc.writeMem(0x4596, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2564);
        EXPECT(gbc.pc(), 0x4598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0382
        gbc.setState(0xc2f5, 0x2dd0, 0x2970, 0xd4a, 0x52c1, 0xc883, 0x1, 0x0);
        gbc.writeMem(0xc2f5, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2dd0);
        EXPECT(gbc.pc(), 0xc2f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2f5), 0xcb);
        EXPECT(gbc.readMem(0xc2f6), 0xb5);
        // CB B5 0383
        gbc.setState(0x1eb2, 0xafa2, 0x8dd0, 0xc34a, 0x691, 0xf4a, 0x0, 0x1);
        gbc.writeMem(0x1eb2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xafa2);
        EXPECT(gbc.pc(), 0x1eb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0384
        gbc.setState(0x30f3, 0x3154, 0x8f30, 0xe5cc, 0x733b, 0x159e, 0x0, 0x1);
        gbc.writeMem(0x30f3, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3154);
        EXPECT(gbc.pc(), 0x30f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0385
        gbc.setState(0x809f, 0x3a37, 0xf690, 0xd3c3, 0xed29, 0xac09, 0x0, 0x0);
        gbc.writeMem(0x809f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3a37);
        EXPECT(gbc.pc(), 0x80a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x809f), 0xcb);
        EXPECT(gbc.readMem(0x80a0), 0xb5);
        // CB B5 0386
        gbc.setState(0xc795, 0x3811, 0x6c60, 0xdf1b, 0x4bb8, 0x2c33, 0x1, 0x0);
        gbc.writeMem(0xc795, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3811);
        EXPECT(gbc.pc(), 0xc797);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc795), 0xcb);
        EXPECT(gbc.readMem(0xc796), 0xb5);
        // CB B5 0387
        gbc.setState(0x9a29, 0x7a60, 0x9c10, 0x3903, 0xd851, 0xa0a5, 0x0, 0x1);
        gbc.writeMem(0x9a29, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7a60);
        EXPECT(gbc.pc(), 0x9a2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a29), 0xcb);
        EXPECT(gbc.readMem(0x9a2a), 0xb5);
        // CB B5 0388
        gbc.setState(0x739e, 0x69c3, 0x53f0, 0x2561, 0xd22c, 0x4c73, 0x0, 0x1);
        gbc.writeMem(0x739e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x69c3);
        EXPECT(gbc.pc(), 0x73a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0389
        gbc.setState(0xc3d2, 0x3860, 0xf310, 0xdffb, 0x85c2, 0x849d, 0x1, 0x1);
        gbc.writeMem(0xc3d2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3860);
        EXPECT(gbc.pc(), 0xc3d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3d2), 0xcb);
        EXPECT(gbc.readMem(0xc3d3), 0xb5);
        // CB B5 038A
        gbc.setState(0xc9d7, 0x3f9f, 0x4e90, 0xb331, 0x29cb, 0xe0d2, 0x0, 0x0);
        gbc.writeMem(0xc9d7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3f9f);
        EXPECT(gbc.pc(), 0xc9d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9d7), 0xcb);
        EXPECT(gbc.readMem(0xc9d8), 0xb5);
        // CB B5 038B
        gbc.setState(0x25ce, 0x219e, 0x29f0, 0xb287, 0xbf24, 0xee5, 0x0, 0x1);
        gbc.writeMem(0x25ce, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x219e);
        EXPECT(gbc.pc(), 0x25d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 038C
        gbc.setState(0xdecc, 0x2e1c, 0xc290, 0x3c9d, 0x1ccf, 0xdc6a, 0x0, 0x1);
        gbc.writeMem(0xdecc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2e1c);
        EXPECT(gbc.pc(), 0xdece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdecc), 0xcb);
        EXPECT(gbc.readMem(0xdecd), 0xb5);
        // CB B5 038D
        gbc.setState(0x83e9, 0x27d2, 0x1e90, 0xe205, 0x4778, 0x3da4, 0x1, 0x1);
        gbc.writeMem(0x83e9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x27d2);
        EXPECT(gbc.pc(), 0x83eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83e9), 0xcb);
        EXPECT(gbc.readMem(0x83ea), 0xb5);
        // CB B5 0390
        gbc.setState(0x563f, 0x80a6, 0xe960, 0x7ab5, 0x2489, 0x5099, 0x1, 0x0);
        gbc.writeMem(0x563f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x80a6);
        EXPECT(gbc.pc(), 0x5641);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0391
        gbc.setState(0x653f, 0xf8aa, 0xd970, 0x13a4, 0x9a87, 0xb547, 0x1, 0x0);
        gbc.writeMem(0x653f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf8aa);
        EXPECT(gbc.pc(), 0x6541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0392
        gbc.setState(0x55df, 0x8d91, 0xaa30, 0x5130, 0xff9b, 0x2b97, 0x1, 0x0);
        gbc.writeMem(0x55df, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8d91);
        EXPECT(gbc.pc(), 0x55e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 0393
        gbc.setState(0xb904, 0x3904, 0xf470, 0xfc, 0x4fb, 0xf83a, 0x0, 0x0);
        gbc.writeMem(0xb904, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3904);
        EXPECT(gbc.pc(), 0xb906);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb904), 0xcb);
        EXPECT(gbc.readMem(0xb905), 0xb5);
        // CB B5 0394
        gbc.setState(0xd255, 0xd669, 0x4e70, 0xbc92, 0xf657, 0xa320, 0x0, 0x0);
        gbc.writeMem(0xd255, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd669);
        EXPECT(gbc.pc(), 0xd257);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd255), 0xcb);
        EXPECT(gbc.readMem(0xd256), 0xb5);
        // CB B5 0396
        gbc.setState(0x54c8, 0xc49a, 0xd9c0, 0x125d, 0x5274, 0xb79c, 0x0, 0x0);
        gbc.writeMem(0x54c8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc49a);
        EXPECT(gbc.pc(), 0x54ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 0398
        gbc.setState(0x8e4d, 0x4e1f, 0x8130, 0x5eb4, 0x59a7, 0x66e2, 0x0, 0x1);
        gbc.writeMem(0x8e4d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4e1f);
        EXPECT(gbc.pc(), 0x8e4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e4d), 0xcb);
        EXPECT(gbc.readMem(0x8e4e), 0xb5);
        // CB B5 039A
        gbc.setState(0x6279, 0x5ad7, 0xe5c0, 0xa3e4, 0x9c36, 0x36f5, 0x0, 0x1);
        gbc.writeMem(0x6279, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5ad7);
        EXPECT(gbc.pc(), 0x627b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 039B
        gbc.setState(0x5025, 0x776c, 0x64e0, 0x2e5c, 0x3045, 0x5b76, 0x1, 0x0);
        gbc.writeMem(0x5025, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x776c);
        EXPECT(gbc.pc(), 0x5027);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 039C
        gbc.setState(0xaeec, 0x87f5, 0x16f0, 0x532e, 0x15, 0x4185, 0x0, 0x0);
        gbc.writeMem(0xaeec, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x87f5);
        EXPECT(gbc.pc(), 0xaeee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeec), 0xcb);
        EXPECT(gbc.readMem(0xaeed), 0xb5);
        // CB B5 039D
        gbc.setState(0xc727, 0x4d7b, 0x4550, 0x7ba4, 0xc787, 0x4a57, 0x1, 0x0);
        gbc.writeMem(0xc727, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4d7b);
        EXPECT(gbc.pc(), 0xc729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc727), 0xcb);
        EXPECT(gbc.readMem(0xc728), 0xb5);
        // CB B5 039E
        gbc.setState(0xb17b, 0x2f0b, 0x55c0, 0xa3b8, 0x388f, 0xf90d, 0x1, 0x1);
        gbc.writeMem(0xb17b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2f0b);
        EXPECT(gbc.pc(), 0xb17d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb17b), 0xcb);
        EXPECT(gbc.readMem(0xb17c), 0xb5);
        // CB B5 039F
        gbc.setState(0x3f4a, 0x8627, 0x9a70, 0xf872, 0x8625, 0x26d5, 0x1, 0x0);
        gbc.writeMem(0x3f4a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8627);
        EXPECT(gbc.pc(), 0x3f4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03A0
        gbc.setState(0x477, 0xe384, 0x3510, 0x78b2, 0xb998, 0xafc8, 0x1, 0x1);
        gbc.writeMem(0x477, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe384);
        EXPECT(gbc.pc(), 0x479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03A1
        gbc.setState(0x53a0, 0xe35f, 0x6a00, 0x28e6, 0xc887, 0xa0e8, 0x0, 0x0);
        gbc.writeMem(0x53a0, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe35f);
        EXPECT(gbc.pc(), 0x53a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03A2
        gbc.setState(0x454b, 0xaa51, 0xee0, 0xc55d, 0xe350, 0x47fe, 0x1, 0x1);
        gbc.writeMem(0x454b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xaa51);
        EXPECT(gbc.pc(), 0x454d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03A3
        gbc.setState(0xe5d6, 0x8b0, 0xa20, 0xaf08, 0x7a97, 0x1ae1, 0x0, 0x1);
        gbc.writeMem(0xe5d6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8b0);
        EXPECT(gbc.pc(), 0xe5d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d6), 0xcb);
        EXPECT(gbc.readMem(0xe5d7), 0xb5);
        // CB B5 03A4
        gbc.setState(0x885a, 0x12c1, 0x840, 0x50b6, 0x21b6, 0xbdbb, 0x1, 0x1);
        gbc.writeMem(0x885a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x12c1);
        EXPECT(gbc.pc(), 0x885c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x885a), 0xcb);
        EXPECT(gbc.readMem(0x885b), 0xb5);
        // CB B5 03A5
        gbc.setState(0x60a6, 0xb910, 0xbd40, 0x64b2, 0xdfa2, 0xbd, 0x1, 0x0);
        gbc.writeMem(0x60a6, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb910);
        EXPECT(gbc.pc(), 0x60a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03A6
        gbc.setState(0xab82, 0xcda2, 0x3cc0, 0xda29, 0x6db, 0x92f2, 0x0, 0x0);
        gbc.writeMem(0xab82, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xcda2);
        EXPECT(gbc.pc(), 0xab84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab82), 0xcb);
        EXPECT(gbc.readMem(0xab83), 0xb5);
        // CB B5 03A7
        gbc.setState(0xa61d, 0x3ca2, 0x650, 0x6062, 0xd3ed, 0x380f, 0x1, 0x0);
        gbc.writeMem(0xa61d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3ca2);
        EXPECT(gbc.pc(), 0xa61f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa61d), 0xcb);
        EXPECT(gbc.readMem(0xa61e), 0xb5);
        // CB B5 03A8
        gbc.setState(0xfa1, 0x86bf, 0xdd60, 0x9b9c, 0xd7d2, 0xf3da, 0x0, 0x0);
        gbc.writeMem(0xfa1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x86bf);
        EXPECT(gbc.pc(), 0xfa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03A9
        gbc.setState(0x1235, 0xd4d, 0x2080, 0x4e35, 0x6e6a, 0xcc9b, 0x1, 0x1);
        gbc.writeMem(0x1235, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xd4d);
        EXPECT(gbc.pc(), 0x1237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03AA
        gbc.setState(0x6522, 0x4641, 0x1d30, 0x7d4a, 0x1211, 0xb2d3, 0x0, 0x1);
        gbc.writeMem(0x6522, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4641);
        EXPECT(gbc.pc(), 0x6524);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03AB
        gbc.setState(0x94cc, 0x84ce, 0xd5b0, 0x6e0a, 0x6269, 0xb86e, 0x1, 0x1);
        gbc.writeMem(0x94cc, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x84ce);
        EXPECT(gbc.pc(), 0x94ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94cc), 0xcb);
        EXPECT(gbc.readMem(0x94cd), 0xb5);
        // CB B5 03AC
        gbc.setState(0xefc2, 0x1a96, 0x1800, 0x528d, 0xf90c, 0x459e, 0x1, 0x1);
        gbc.writeMem(0xefc2, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x1a96);
        EXPECT(gbc.pc(), 0xefc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc2), 0xcb);
        EXPECT(gbc.readMem(0xefc3), 0xb5);
        // CB B5 03AD
        gbc.setState(0x1a5a, 0xe4f9, 0xad00, 0x1a39, 0xfe3a, 0x6372, 0x0, 0x0);
        gbc.writeMem(0x1a5a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe4f9);
        EXPECT(gbc.pc(), 0x1a5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03AE
        gbc.setState(0xbca1, 0xc1d4, 0x3cd0, 0x8d2c, 0xb287, 0x7d2, 0x0, 0x0);
        gbc.writeMem(0xbca1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc1d4);
        EXPECT(gbc.pc(), 0xbca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbca1), 0xcb);
        EXPECT(gbc.readMem(0xbca2), 0xb5);
        // CB B5 03AF
        gbc.setState(0x3aad, 0xec64, 0x34f0, 0x11d6, 0xf693, 0xeebd, 0x1, 0x0);
        gbc.writeMem(0x3aad, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xec64);
        EXPECT(gbc.pc(), 0x3aaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03B0
        gbc.setState(0x9691, 0x8b79, 0x230, 0xb563, 0xd6bb, 0xa358, 0x1, 0x1);
        gbc.writeMem(0x9691, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8b79);
        EXPECT(gbc.pc(), 0x9693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9691), 0xcb);
        EXPECT(gbc.readMem(0x9692), 0xb5);
        // CB B5 03B1
        gbc.setState(0x267b, 0xb16b, 0xc2e0, 0xf42e, 0xf170, 0x95c2, 0x1, 0x1);
        gbc.writeMem(0x267b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb16b);
        EXPECT(gbc.pc(), 0x267d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03B2
        gbc.setState(0x78fd, 0xe5f4, 0x81d0, 0xba9e, 0x8fad, 0x120b, 0x1, 0x0);
        gbc.writeMem(0x78fd, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xe5f4);
        EXPECT(gbc.pc(), 0x78ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03B3
        gbc.setState(0xce78, 0xf7e1, 0x5000, 0x18e6, 0x7b8f, 0x691, 0x0, 0x1);
        gbc.writeMem(0xce78, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf7e1);
        EXPECT(gbc.pc(), 0xce7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce78), 0xcb);
        EXPECT(gbc.readMem(0xce79), 0xb5);
        // CB B5 03B4
        gbc.setState(0x15c7, 0xcf03, 0xdef0, 0x58b, 0xa413, 0x829f, 0x1, 0x1);
        gbc.writeMem(0x15c7, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcf03);
        EXPECT(gbc.pc(), 0x15c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03B5
        gbc.setState(0xa97c, 0xcef4, 0x5980, 0xfd86, 0x526e, 0x1077, 0x1, 0x1);
        gbc.writeMem(0xa97c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xcef4);
        EXPECT(gbc.pc(), 0xa97e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa97c), 0xcb);
        EXPECT(gbc.readMem(0xa97d), 0xb5);
        // CB B5 03B6
        gbc.setState(0x9102, 0x3c18, 0x9f70, 0x916d, 0xc21a, 0x8d54, 0x0, 0x0);
        gbc.writeMem(0x9102, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3c18);
        EXPECT(gbc.pc(), 0x9104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9102), 0xcb);
        EXPECT(gbc.readMem(0x9103), 0xb5);
        // CB B5 03B7
        gbc.setState(0xacac, 0x591, 0x2e70, 0xbb7e, 0x2a4d, 0x67c8, 0x1, 0x0);
        gbc.writeMem(0xacac, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x591);
        EXPECT(gbc.pc(), 0xacae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacac), 0xcb);
        EXPECT(gbc.readMem(0xacad), 0xb5);
        // CB B5 03B8
        gbc.setState(0xd7fa, 0xf919, 0x11a0, 0x5052, 0x42bb, 0x6ec, 0x0, 0x0);
        gbc.writeMem(0xd7fa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf919);
        EXPECT(gbc.pc(), 0xd7fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7fa), 0xcb);
        EXPECT(gbc.readMem(0xd7fb), 0xb5);
        // CB B5 03B9
        gbc.setState(0x9f49, 0xb45d, 0xbcb0, 0x5c42, 0x3094, 0xa9c1, 0x1, 0x0);
        gbc.writeMem(0x9f49, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb45d);
        EXPECT(gbc.pc(), 0x9f4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f49), 0xcb);
        EXPECT(gbc.readMem(0x9f4a), 0xb5);
        // CB B5 03BA
        gbc.setState(0xec3f, 0xbe5c, 0xc430, 0x204e, 0xae7, 0x374, 0x1, 0x1);
        gbc.writeMem(0xec3f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbe5c);
        EXPECT(gbc.pc(), 0xec41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec3f), 0xcb);
        EXPECT(gbc.readMem(0xec40), 0xb5);
        // CB B5 03BB
        gbc.setState(0x9e8c, 0xc5bd, 0x7b30, 0x1372, 0xdca6, 0x3890, 0x1, 0x0);
        gbc.writeMem(0x9e8c, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc5bd);
        EXPECT(gbc.pc(), 0x9e8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e8c), 0xcb);
        EXPECT(gbc.readMem(0x9e8d), 0xb5);
        // CB B5 03BC
        gbc.setState(0x7d96, 0x987d, 0x31a0, 0x27d7, 0xb792, 0xc3f9, 0x1, 0x1);
        gbc.writeMem(0x7d96, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x987d);
        EXPECT(gbc.pc(), 0x7d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03BD
        gbc.setState(0x9a07, 0xde46, 0xdb00, 0xdc9e, 0x7b97, 0x752d, 0x1, 0x1);
        gbc.writeMem(0x9a07, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xde46);
        EXPECT(gbc.pc(), 0x9a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a07), 0xcb);
        EXPECT(gbc.readMem(0x9a08), 0xb5);
        // CB B5 03BE
        gbc.setState(0x2489, 0x4b40, 0xdc10, 0x9154, 0x5544, 0x346d, 0x0, 0x0);
        gbc.writeMem(0x2489, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4b40);
        EXPECT(gbc.pc(), 0x248b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03BF
        gbc.setState(0x130e, 0x5f8b, 0xc250, 0x8aa8, 0x1d6d, 0xe9b1, 0x0, 0x1);
        gbc.writeMem(0x130e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5f8b);
        EXPECT(gbc.pc(), 0x1310);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03C0
        gbc.setState(0xe06f, 0x4b82, 0x9c00, 0x4bc3, 0x23f5, 0x7418, 0x0, 0x0);
        gbc.writeMem(0xe06f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4b82);
        EXPECT(gbc.pc(), 0xe071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe06f), 0xcb);
        EXPECT(gbc.readMem(0xe070), 0xb5);
        // CB B5 03C1
        gbc.setState(0xd894, 0x8be3, 0xe870, 0xb1e4, 0x4ef, 0xf531, 0x1, 0x0);
        gbc.writeMem(0xd894, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8be3);
        EXPECT(gbc.pc(), 0xd896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd894), 0xcb);
        EXPECT(gbc.readMem(0xd895), 0xb5);
        // CB B5 03C2
        gbc.setState(0x8613, 0x5f30, 0x4d40, 0x875f, 0xe726, 0xb911, 0x0, 0x0);
        gbc.writeMem(0x8613, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5f30);
        EXPECT(gbc.pc(), 0x8615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8613), 0xcb);
        EXPECT(gbc.readMem(0x8614), 0xb5);
        // CB B5 03C3
        gbc.setState(0xe142, 0xed3b, 0x55f0, 0x4d07, 0xb7c5, 0x9337, 0x0, 0x1);
        gbc.writeMem(0xe142, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xed3b);
        EXPECT(gbc.pc(), 0xe144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe142), 0xcb);
        EXPECT(gbc.readMem(0xe143), 0xb5);
        // CB B5 03C4
        gbc.setState(0x6dfa, 0xa194, 0x2880, 0xab8c, 0xde62, 0xe6ca, 0x0, 0x1);
        gbc.writeMem(0x6dfa, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa194);
        EXPECT(gbc.pc(), 0x6dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03C5
        gbc.setState(0x310f, 0x2487, 0xd810, 0xbd27, 0x24e7, 0x9a4e, 0x1, 0x0);
        gbc.writeMem(0x310f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2487);
        EXPECT(gbc.pc(), 0x3111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03C6
        gbc.setState(0x6e8e, 0xbfe4, 0xcaa0, 0x8fb4, 0xee7a, 0xa47a, 0x1, 0x0);
        gbc.writeMem(0x6e8e, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbfe4);
        EXPECT(gbc.pc(), 0x6e90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03C7
        gbc.setState(0xaa0f, 0x2368, 0x1030, 0x5a13, 0xbe62, 0x543, 0x1, 0x1);
        gbc.writeMem(0xaa0f, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2368);
        EXPECT(gbc.pc(), 0xaa11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa0f), 0xcb);
        EXPECT(gbc.readMem(0xaa10), 0xb5);
        // CB B5 03C8
        gbc.setState(0xa90d, 0xc51b, 0x7480, 0xfb22, 0x859b, 0x7782, 0x1, 0x1);
        gbc.writeMem(0xa90d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xc51b);
        EXPECT(gbc.pc(), 0xa90f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa90d), 0xcb);
        EXPECT(gbc.readMem(0xa90e), 0xb5);
        // CB B5 03C9
        gbc.setState(0x41ee, 0x5bbf, 0x4210, 0xc8bb, 0x8515, 0x6742, 0x0, 0x1);
        gbc.writeMem(0x41ee, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5bbf);
        EXPECT(gbc.pc(), 0x41f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03CA
        gbc.setState(0x3ce8, 0x1707, 0xde40, 0xbc3a, 0xafab, 0xc6c0, 0x0, 0x0);
        gbc.writeMem(0x3ce8, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1707);
        EXPECT(gbc.pc(), 0x3cea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03CB
        gbc.setState(0x5d24, 0x25b3, 0x1fa0, 0xadfb, 0x470d, 0xed58, 0x0, 0x0);
        gbc.writeMem(0x5d24, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x25b3);
        EXPECT(gbc.pc(), 0x5d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03CC
        gbc.setState(0x4bfb, 0x74f3, 0xc000, 0x54e3, 0x32d1, 0x3c74, 0x1, 0x0);
        gbc.writeMem(0x4bfb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x74f3);
        EXPECT(gbc.pc(), 0x4bfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03CD
        gbc.setState(0x8b25, 0xf7c1, 0x62b0, 0x415a, 0x33f4, 0xedf7, 0x0, 0x1);
        gbc.writeMem(0x8b25, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf7c1);
        EXPECT(gbc.pc(), 0x8b27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b25), 0xcb);
        EXPECT(gbc.readMem(0x8b26), 0xb5);
        // CB B5 03CE
        gbc.setState(0x34be, 0x3a95, 0xd370, 0x2cc1, 0xe814, 0x7f03, 0x0, 0x1);
        gbc.writeMem(0x34be, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3a95);
        EXPECT(gbc.pc(), 0x34c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03CF
        gbc.setState(0xaf41, 0x8e29, 0xc300, 0xdf49, 0xd5e4, 0x2f4, 0x1, 0x1);
        gbc.writeMem(0xaf41, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8e29);
        EXPECT(gbc.pc(), 0xaf43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf41), 0xcb);
        EXPECT(gbc.readMem(0xaf42), 0xb5);
        // CB B5 03D0
        gbc.setState(0x82c4, 0x579c, 0x9030, 0x6201, 0xb64f, 0x26b8, 0x1, 0x0);
        gbc.writeMem(0x82c4, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x579c);
        EXPECT(gbc.pc(), 0x82c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c4), 0xcb);
        EXPECT(gbc.readMem(0x82c5), 0xb5);
        // CB B5 03D1
        gbc.setState(0x7623, 0x10de, 0xf3c0, 0xf417, 0x184b, 0x8d57, 0x0, 0x0);
        gbc.writeMem(0x7623, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x10de);
        EXPECT(gbc.pc(), 0x7625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03D2
        gbc.setState(0x3e4a, 0xdc8c, 0x4f40, 0x753f, 0xa2b0, 0xcff4, 0x1, 0x1);
        gbc.writeMem(0x3e4a, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xdc8c);
        EXPECT(gbc.pc(), 0x3e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03D3
        gbc.setState(0xc822, 0x2262, 0xfce0, 0xf955, 0x2fe5, 0xd01a, 0x0, 0x0);
        gbc.writeMem(0xc822, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2262);
        EXPECT(gbc.pc(), 0xc824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc822), 0xcb);
        EXPECT(gbc.readMem(0xc823), 0xb5);
        // CB B5 03D4
        gbc.setState(0xbbd9, 0xfe00, 0x9c50, 0x1bbb, 0xe223, 0xe587, 0x1, 0x0);
        gbc.writeMem(0xbbd9, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xfe00);
        EXPECT(gbc.pc(), 0xbbdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbd9), 0xcb);
        EXPECT(gbc.readMem(0xbbda), 0xb5);
        // CB B5 03D5
        gbc.setState(0xa52d, 0xd6e6, 0x83a0, 0x8b01, 0x94f4, 0xfcea, 0x1, 0x0);
        gbc.writeMem(0xa52d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd6e6);
        EXPECT(gbc.pc(), 0xa52f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa52d), 0xcb);
        EXPECT(gbc.readMem(0xa52e), 0xb5);
        // CB B5 03D6
        gbc.setState(0x1a70, 0x4ee8, 0x7430, 0x7f55, 0xf834, 0x4a55, 0x0, 0x0);
        gbc.writeMem(0x1a70, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4ee8);
        EXPECT(gbc.pc(), 0x1a72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03D7
        gbc.setState(0x421, 0x1b12, 0x94c0, 0x6f06, 0x498, 0xc78c, 0x0, 0x1);
        gbc.writeMem(0x421, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1b12);
        EXPECT(gbc.pc(), 0x423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03D8
        gbc.setState(0xa742, 0xcf6d, 0x6d90, 0x4d9b, 0x5551, 0xbaa8, 0x1, 0x1);
        gbc.writeMem(0xa742, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcf6d);
        EXPECT(gbc.pc(), 0xa744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa742), 0xcb);
        EXPECT(gbc.readMem(0xa743), 0xb5);
        // CB B5 03D9
        gbc.setState(0x95ce, 0x2664, 0x760, 0xe410, 0xeabd, 0xf447, 0x0, 0x1);
        gbc.writeMem(0x95ce, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2664);
        EXPECT(gbc.pc(), 0x95d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ce), 0xcb);
        EXPECT(gbc.readMem(0x95cf), 0xb5);
        // CB B5 03DA
        gbc.setState(0xb157, 0xddc3, 0x2dd0, 0xf03a, 0xa969, 0xeff8, 0x1, 0x0);
        gbc.writeMem(0xb157, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xddc3);
        EXPECT(gbc.pc(), 0xb159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb157), 0xcb);
        EXPECT(gbc.readMem(0xb158), 0xb5);
        // CB B5 03DB
        gbc.setState(0x4b06, 0x59be, 0x7b90, 0xf3a, 0xd57b, 0x844c, 0x0, 0x0);
        gbc.writeMem(0x4b06, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x59be);
        EXPECT(gbc.pc(), 0x4b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03DC
        gbc.setState(0x3989, 0x50a9, 0x37f0, 0x1a47, 0xac4d, 0xf727, 0x0, 0x1);
        gbc.writeMem(0x3989, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x50a9);
        EXPECT(gbc.pc(), 0x398b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03DD
        gbc.setState(0xd187, 0x7335, 0xd720, 0x5e78, 0x800c, 0x3deb, 0x1, 0x1);
        gbc.writeMem(0xd187, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7335);
        EXPECT(gbc.pc(), 0xd189);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd187), 0xcb);
        EXPECT(gbc.readMem(0xd188), 0xb5);
        // CB B5 03DE
        gbc.setState(0xe436, 0x1ba8, 0xb6f0, 0xe8bf, 0xe7b3, 0x24c6, 0x0, 0x1);
        gbc.writeMem(0xe436, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1ba8);
        EXPECT(gbc.pc(), 0xe438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe436), 0xcb);
        EXPECT(gbc.readMem(0xe437), 0xb5);
        // CB B5 03DF
        gbc.setState(0x889b, 0x4672, 0x64e0, 0xc66d, 0x3346, 0x1031, 0x1, 0x0);
        gbc.writeMem(0x889b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x4672);
        EXPECT(gbc.pc(), 0x889d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x889b), 0xcb);
        EXPECT(gbc.readMem(0x889c), 0xb5);
        // CB B5 03E0
        gbc.setState(0x64f1, 0x6601, 0xc7b0, 0xabb8, 0xbe9d, 0x8858, 0x1, 0x1);
        gbc.writeMem(0x64f1, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6601);
        EXPECT(gbc.pc(), 0x64f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03E1
        gbc.setState(0xdb54, 0xa6f5, 0xa10, 0x2efd, 0xa4bb, 0x9957, 0x0, 0x1);
        gbc.writeMem(0xdb54, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa6f5);
        EXPECT(gbc.pc(), 0xdb56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb54), 0xcb);
        EXPECT(gbc.readMem(0xdb55), 0xb5);
        // CB B5 03E2
        gbc.setState(0x5a1b, 0x6b2, 0x2be0, 0x36ed, 0xd7e0, 0x2a26, 0x1, 0x0);
        gbc.writeMem(0x5a1b, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x6b2);
        EXPECT(gbc.pc(), 0x5a1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03E3
        gbc.setState(0x175d, 0xaad1, 0x680, 0xc054, 0x54ff, 0xd597, 0x0, 0x1);
        gbc.writeMem(0x175d, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xaad1);
        EXPECT(gbc.pc(), 0x175f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03E4
        gbc.setState(0x8268, 0xc8b2, 0x12e0, 0x16a8, 0xcb57, 0xba47, 0x0, 0x1);
        gbc.writeMem(0x8268, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc8b2);
        EXPECT(gbc.pc(), 0x826a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8268), 0xcb);
        EXPECT(gbc.readMem(0x8269), 0xb5);
        // CB B5 03E5
        gbc.setState(0x2b73, 0xa6b2, 0x590, 0xb897, 0xaa9a, 0xb01d, 0x0, 0x0);
        gbc.writeMem(0x2b73, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa6b2);
        EXPECT(gbc.pc(), 0x2b75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB B5 03E6
        gbc.setState(0x1b50, 0xbff4, 0x56e0, 0xbaea, 0xdd99, 0x9b0f, 0x0, 0x1);
        gbc.writeMem(0x1b50, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xbff4);
        EXPECT(gbc.pc(), 0x1b52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB B5 03E7
        gbc.setState(0xe1fb, 0xcef, 0xa050, 0xbdfa, 0xa329, 0xb152, 0x1, 0x1);
        gbc.writeMem(0xe1fb, { 0xcb, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcef);
        EXPECT(gbc.pc(), 0xe1fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1fb), 0xcb);
        EXPECT(gbc.readMem(0xe1fc), 0xb5);
    }
