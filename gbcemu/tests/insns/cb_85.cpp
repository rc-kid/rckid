#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_85)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_85) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 85 0000
        gbc.setState(0x5541, 0xe21, 0xdba0, 0x6e71, 0x8c67, 0xf2ae, 0x0, 0x0);
        gbc.writeMem(0x5541, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe21);
        EXPECT(gbc.pc(), 0x5543);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0001
        gbc.setState(0x175d, 0x96d, 0x6e10, 0xa2a1, 0x8df4, 0x8182, 0x0, 0x1);
        gbc.writeMem(0x175d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x96d);
        EXPECT(gbc.pc(), 0x175f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0002
        gbc.setState(0xeeff, 0x2de0, 0xab10, 0x5ec2, 0x770a, 0x15da, 0x1, 0x0);
        gbc.writeMem(0xeeff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2de0);
        EXPECT(gbc.pc(), 0xef01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeff), 0xcb);
        EXPECT(gbc.readMem(0xef00), 0x85);
        // CB 85 0003
        gbc.setState(0x1ab9, 0x807c, 0x8180, 0x24e0, 0xc6a5, 0xeef0, 0x0, 0x0);
        gbc.writeMem(0x1ab9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x807c);
        EXPECT(gbc.pc(), 0x1abb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0004
        gbc.setState(0x9f20, 0x393b, 0xa930, 0x9f93, 0x302d, 0xda40, 0x1, 0x1);
        gbc.writeMem(0x9f20, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x393b);
        EXPECT(gbc.pc(), 0x9f22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f20), 0xcb);
        EXPECT(gbc.readMem(0x9f21), 0x85);
        // CB 85 0005
        gbc.setState(0xbcac, 0xb453, 0xba30, 0x9314, 0x8272, 0x84a, 0x1, 0x1);
        gbc.writeMem(0xbcac, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb453);
        EXPECT(gbc.pc(), 0xbcae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcac), 0xcb);
        EXPECT(gbc.readMem(0xbcad), 0x85);
        // CB 85 0006
        gbc.setState(0xae02, 0x5d70, 0x3920, 0x92dd, 0x44ff, 0xf5f0, 0x0, 0x1);
        gbc.writeMem(0xae02, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5d70);
        EXPECT(gbc.pc(), 0xae04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae02), 0xcb);
        EXPECT(gbc.readMem(0xae03), 0x85);
        // CB 85 0007
        gbc.setState(0xcc0e, 0x403, 0xb230, 0x6b33, 0x55c8, 0xb9fb, 0x0, 0x0);
        gbc.writeMem(0xcc0e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x403);
        EXPECT(gbc.pc(), 0xcc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc0e), 0xcb);
        EXPECT(gbc.readMem(0xcc0f), 0x85);
        // CB 85 0008
        gbc.setState(0xae3c, 0x5d1d, 0xbcf0, 0xbb08, 0x1f7e, 0xed2e, 0x1, 0x0);
        gbc.writeMem(0xae3c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5d1d);
        EXPECT(gbc.pc(), 0xae3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae3c), 0xcb);
        EXPECT(gbc.readMem(0xae3d), 0x85);
        // CB 85 0009
        gbc.setState(0x1aed, 0x2976, 0xe530, 0xa8e1, 0xb185, 0x4b2c, 0x1, 0x1);
        gbc.writeMem(0x1aed, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2976);
        EXPECT(gbc.pc(), 0x1aef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 000A
        gbc.setState(0xae9c, 0x8ede, 0x76e0, 0x858, 0x5bdb, 0xf8cc, 0x0, 0x1);
        gbc.writeMem(0xae9c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8ede);
        EXPECT(gbc.pc(), 0xae9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9c), 0xcb);
        EXPECT(gbc.readMem(0xae9d), 0x85);
        // CB 85 000B
        gbc.setState(0x18a7, 0x6b57, 0xebe0, 0x82aa, 0xeb55, 0xaa24, 0x1, 0x0);
        gbc.writeMem(0x18a7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x6b57);
        EXPECT(gbc.pc(), 0x18a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 000C
        gbc.setState(0x9a9, 0xac61, 0x8cc0, 0x5b7d, 0x8471, 0xda98, 0x0, 0x1);
        gbc.writeMem(0x9a9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xac61);
        EXPECT(gbc.pc(), 0x9ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 000D
        gbc.setState(0xd802, 0xdb13, 0x26c0, 0x3fe9, 0xf073, 0x3b2a, 0x0, 0x0);
        gbc.writeMem(0xd802, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdb13);
        EXPECT(gbc.pc(), 0xd804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd802), 0xcb);
        EXPECT(gbc.readMem(0xd803), 0x85);
        // CB 85 000E
        gbc.setState(0x2559, 0x3127, 0x3ee0, 0xf033, 0xefd4, 0xc8c0, 0x0, 0x0);
        gbc.writeMem(0x2559, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3127);
        EXPECT(gbc.pc(), 0x255b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0010
        gbc.setState(0xea4a, 0x950d, 0x8f90, 0xa4bd, 0x6f5d, 0xc714, 0x1, 0x1);
        gbc.writeMem(0xea4a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x950d);
        EXPECT(gbc.pc(), 0xea4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea4a), 0xcb);
        EXPECT(gbc.readMem(0xea4b), 0x85);
        // CB 85 0011
        gbc.setState(0x591a, 0xbb8a, 0xcc50, 0x9353, 0xef1c, 0x8e5b, 0x0, 0x1);
        gbc.writeMem(0x591a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xbb8a);
        EXPECT(gbc.pc(), 0x591c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0012
        gbc.setState(0x6312, 0xb46e, 0x6970, 0xf039, 0xc919, 0x7764, 0x0, 0x0);
        gbc.writeMem(0x6312, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb46e);
        EXPECT(gbc.pc(), 0x6314);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0013
        gbc.setState(0xe18c, 0xb441, 0xbbe0, 0xe179, 0x560a, 0x341e, 0x1, 0x1);
        gbc.writeMem(0xe18c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xb441);
        EXPECT(gbc.pc(), 0xe18e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe18c), 0xcb);
        EXPECT(gbc.readMem(0xe18d), 0x85);
        // CB 85 0014
        gbc.setState(0x8baf, 0xa20d, 0x2a90, 0x80d0, 0x15a8, 0xb17b, 0x1, 0x0);
        gbc.writeMem(0x8baf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa20d);
        EXPECT(gbc.pc(), 0x8bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8baf), 0xcb);
        EXPECT(gbc.readMem(0x8bb0), 0x85);
        // CB 85 0015
        gbc.setState(0x67dd, 0x30c2, 0xae60, 0x5511, 0x6a0e, 0xa153, 0x1, 0x1);
        gbc.writeMem(0x67dd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x30c2);
        EXPECT(gbc.pc(), 0x67df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0016
        gbc.setState(0x753d, 0xf25f, 0x8800, 0x5164, 0x74c3, 0x9660, 0x0, 0x1);
        gbc.writeMem(0x753d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf25f);
        EXPECT(gbc.pc(), 0x753f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0017
        gbc.setState(0xeba2, 0x74b4, 0x6c40, 0x8404, 0x956a, 0xe8d3, 0x1, 0x1);
        gbc.writeMem(0xeba2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x74b4);
        EXPECT(gbc.pc(), 0xeba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba2), 0xcb);
        EXPECT(gbc.readMem(0xeba3), 0x85);
        // CB 85 0018
        gbc.setState(0xa250, 0x9acf, 0x4de0, 0x2353, 0x2ee2, 0x6764, 0x0, 0x1);
        gbc.writeMem(0xa250, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9acf);
        EXPECT(gbc.pc(), 0xa252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa250), 0xcb);
        EXPECT(gbc.readMem(0xa251), 0x85);
        // CB 85 0019
        gbc.setState(0x9ad1, 0x5c52, 0x6b30, 0x27a3, 0x80a4, 0x83ab, 0x0, 0x0);
        gbc.writeMem(0x9ad1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5c52);
        EXPECT(gbc.pc(), 0x9ad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad1), 0xcb);
        EXPECT(gbc.readMem(0x9ad2), 0x85);
        // CB 85 001A
        gbc.setState(0x5ba2, 0x2baf, 0x3f60, 0x346c, 0xf3f0, 0x11c9, 0x1, 0x1);
        gbc.writeMem(0x5ba2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2baf);
        EXPECT(gbc.pc(), 0x5ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 001B
        gbc.setState(0x8aef, 0x7eb, 0x9500, 0x468, 0xd477, 0xe7ba, 0x0, 0x0);
        gbc.writeMem(0x8aef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7eb);
        EXPECT(gbc.pc(), 0x8af1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aef), 0xcb);
        EXPECT(gbc.readMem(0x8af0), 0x85);
        // CB 85 001C
        gbc.setState(0x3c69, 0x6805, 0x5c10, 0x59e2, 0xea9e, 0x543e, 0x1, 0x1);
        gbc.writeMem(0x3c69, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6805);
        EXPECT(gbc.pc(), 0x3c6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 001D
        gbc.setState(0xb3cb, 0x733c, 0x5d50, 0x7a3b, 0x6c28, 0x647b, 0x0, 0x0);
        gbc.writeMem(0xb3cb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x733c);
        EXPECT(gbc.pc(), 0xb3cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3cb), 0xcb);
        EXPECT(gbc.readMem(0xb3cc), 0x85);
        // CB 85 001E
        gbc.setState(0x3899, 0xad90, 0x7a40, 0xa4cf, 0xe990, 0x3086, 0x1, 0x0);
        gbc.writeMem(0x3899, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xad90);
        EXPECT(gbc.pc(), 0x389b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 001F
        gbc.setState(0xb31a, 0xbad3, 0xab90, 0x715c, 0x530, 0xb0f1, 0x0, 0x1);
        gbc.writeMem(0xb31a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xbad3);
        EXPECT(gbc.pc(), 0xb31c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb31a), 0xcb);
        EXPECT(gbc.readMem(0xb31b), 0x85);
        // CB 85 0020
        gbc.setState(0x751f, 0xfa2c, 0x3360, 0x8825, 0x6aba, 0x4828, 0x1, 0x0);
        gbc.writeMem(0x751f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xfa2c);
        EXPECT(gbc.pc(), 0x7521);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0021
        gbc.setState(0x96e6, 0xf8a5, 0x6400, 0x18db, 0x71f0, 0x32b7, 0x1, 0x1);
        gbc.writeMem(0x96e6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf8a5);
        EXPECT(gbc.pc(), 0x96e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96e6), 0xcb);
        EXPECT(gbc.readMem(0x96e7), 0x85);
        // CB 85 0022
        gbc.setState(0x2987, 0x266f, 0x9230, 0x623d, 0xba72, 0xeeb7, 0x1, 0x0);
        gbc.writeMem(0x2987, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x266f);
        EXPECT(gbc.pc(), 0x2989);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0023
        gbc.setState(0x8b8e, 0x4d6b, 0x3c40, 0x23c8, 0x8a5b, 0x6ec7, 0x0, 0x0);
        gbc.writeMem(0x8b8e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4d6b);
        EXPECT(gbc.pc(), 0x8b90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b8e), 0xcb);
        EXPECT(gbc.readMem(0x8b8f), 0x85);
        // CB 85 0024
        gbc.setState(0x9c01, 0x5636, 0x1950, 0x3b49, 0x531a, 0x3889, 0x0, 0x1);
        gbc.writeMem(0x9c01, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5636);
        EXPECT(gbc.pc(), 0x9c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c01), 0xcb);
        EXPECT(gbc.readMem(0x9c02), 0x85);
        // CB 85 0025
        gbc.setState(0xa814, 0x1d51, 0x3380, 0x98c2, 0xc9ec, 0x8ebc, 0x0, 0x1);
        gbc.writeMem(0xa814, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x1d51);
        EXPECT(gbc.pc(), 0xa816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa814), 0xcb);
        EXPECT(gbc.readMem(0xa815), 0x85);
        // CB 85 0026
        gbc.setState(0xa623, 0x82f3, 0x68a0, 0xca40, 0xb029, 0x532d, 0x0, 0x0);
        gbc.writeMem(0xa623, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x82f3);
        EXPECT(gbc.pc(), 0xa625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa623), 0xcb);
        EXPECT(gbc.readMem(0xa624), 0x85);
        // CB 85 0027
        gbc.setState(0xa452, 0xa852, 0x4d60, 0x6f13, 0xdd27, 0xdac3, 0x0, 0x0);
        gbc.writeMem(0xa452, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa852);
        EXPECT(gbc.pc(), 0xa454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa452), 0xcb);
        EXPECT(gbc.readMem(0xa453), 0x85);
        // CB 85 0028
        gbc.setState(0xb3ef, 0x8e1f, 0x2e10, 0x3255, 0x7f1e, 0x41f1, 0x1, 0x0);
        gbc.writeMem(0xb3ef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8e1f);
        EXPECT(gbc.pc(), 0xb3f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ef), 0xcb);
        EXPECT(gbc.readMem(0xb3f0), 0x85);
        // CB 85 002A
        gbc.setState(0x633e, 0x6829, 0xa90, 0x8ae8, 0x70a2, 0x8cc8, 0x1, 0x0);
        gbc.writeMem(0x633e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6829);
        EXPECT(gbc.pc(), 0x6340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 002B
        gbc.setState(0xaaec, 0x4b99, 0x2cf0, 0xa451, 0x8dbf, 0xfe96, 0x1, 0x0);
        gbc.writeMem(0xaaec, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4b99);
        EXPECT(gbc.pc(), 0xaaee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaec), 0xcb);
        EXPECT(gbc.readMem(0xaaed), 0x85);
        // CB 85 002C
        gbc.setState(0xcdb9, 0x48f8, 0xa010, 0x9346, 0xee31, 0xe574, 0x1, 0x1);
        gbc.writeMem(0xcdb9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x48f8);
        EXPECT(gbc.pc(), 0xcdbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdb9), 0xcb);
        EXPECT(gbc.readMem(0xcdba), 0x85);
        // CB 85 002D
        gbc.setState(0x7c19, 0x32e, 0x7070, 0xa120, 0xb226, 0x253a, 0x0, 0x0);
        gbc.writeMem(0x7c19, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x32e);
        EXPECT(gbc.pc(), 0x7c1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 002E
        gbc.setState(0x7206, 0x2823, 0x9010, 0x678a, 0x4323, 0x546, 0x1, 0x1);
        gbc.writeMem(0x7206, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2823);
        EXPECT(gbc.pc(), 0x7208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 002F
        gbc.setState(0x9c57, 0xd44b, 0x8d50, 0x57cd, 0xf19c, 0xb38f, 0x0, 0x1);
        gbc.writeMem(0x9c57, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd44b);
        EXPECT(gbc.pc(), 0x9c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c57), 0xcb);
        EXPECT(gbc.readMem(0x9c58), 0x85);
        // CB 85 0030
        gbc.setState(0x8ca7, 0x7013, 0x5dc0, 0x80be, 0xb229, 0xe389, 0x0, 0x0);
        gbc.writeMem(0x8ca7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7013);
        EXPECT(gbc.pc(), 0x8ca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca7), 0xcb);
        EXPECT(gbc.readMem(0x8ca8), 0x85);
        // CB 85 0031
        gbc.setState(0x8a96, 0x9f8, 0x3330, 0x25aa, 0xcd93, 0x5ef2, 0x1, 0x0);
        gbc.writeMem(0x8a96, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9f8);
        EXPECT(gbc.pc(), 0x8a98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a96), 0xcb);
        EXPECT(gbc.readMem(0x8a97), 0x85);
        // CB 85 0032
        gbc.setState(0x8cba, 0xf359, 0x3cd0, 0x16a, 0xe6ca, 0xd43, 0x1, 0x0);
        gbc.writeMem(0x8cba, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf359);
        EXPECT(gbc.pc(), 0x8cbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cba), 0xcb);
        EXPECT(gbc.readMem(0x8cbb), 0x85);
        // CB 85 0033
        gbc.setState(0x6f9a, 0x6168, 0x75a0, 0x3b5f, 0x553f, 0x424c, 0x0, 0x0);
        gbc.writeMem(0x6f9a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x6168);
        EXPECT(gbc.pc(), 0x6f9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0035
        gbc.setState(0x44b6, 0x5fad, 0xfe90, 0x9723, 0xb5f2, 0x4b17, 0x0, 0x1);
        gbc.writeMem(0x44b6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5fad);
        EXPECT(gbc.pc(), 0x44b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0036
        gbc.setState(0x1406, 0xd05, 0x9d60, 0xe52b, 0x1d2a, 0x619b, 0x1, 0x1);
        gbc.writeMem(0x1406, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xd05);
        EXPECT(gbc.pc(), 0x1408);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0037
        gbc.setState(0x8a28, 0x149a, 0xb6e0, 0x525c, 0xffbf, 0xd1e2, 0x1, 0x0);
        gbc.writeMem(0x8a28, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x149a);
        EXPECT(gbc.pc(), 0x8a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a28), 0xcb);
        EXPECT(gbc.readMem(0x8a29), 0x85);
        // CB 85 0038
        gbc.setState(0x72d, 0xa029, 0xbbf0, 0x772a, 0x2ad5, 0xbcc, 0x0, 0x0);
        gbc.writeMem(0x72d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa029);
        EXPECT(gbc.pc(), 0x72f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0039
        gbc.setState(0xca66, 0xc34, 0xe930, 0x9c74, 0x1132, 0x15e9, 0x0, 0x1);
        gbc.writeMem(0xca66, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc34);
        EXPECT(gbc.pc(), 0xca68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca66), 0xcb);
        EXPECT(gbc.readMem(0xca67), 0x85);
        // CB 85 003A
        gbc.setState(0x5824, 0x8bd9, 0xdd40, 0xdae3, 0x21a4, 0xb100, 0x1, 0x0);
        gbc.writeMem(0x5824, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8bd9);
        EXPECT(gbc.pc(), 0x5826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 003B
        gbc.setState(0x6707, 0xe11c, 0x9240, 0xeaba, 0xe7d0, 0x2f2a, 0x1, 0x0);
        gbc.writeMem(0x6707, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe11c);
        EXPECT(gbc.pc(), 0x6709);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 003C
        gbc.setState(0x96b5, 0x8e06, 0x4ea0, 0xfc14, 0xb1e2, 0xc67f, 0x0, 0x1);
        gbc.writeMem(0x96b5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x8e06);
        EXPECT(gbc.pc(), 0x96b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96b5), 0xcb);
        EXPECT(gbc.readMem(0x96b6), 0x85);
        // CB 85 003D
        gbc.setState(0x3257, 0xd5d9, 0x87b0, 0x192f, 0xb95a, 0xaf7c, 0x0, 0x1);
        gbc.writeMem(0x3257, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd5d9);
        EXPECT(gbc.pc(), 0x3259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 003E
        gbc.setState(0xa40d, 0xaed6, 0x7010, 0x2ffe, 0x3f14, 0x5076, 0x1, 0x1);
        gbc.writeMem(0xa40d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xaed6);
        EXPECT(gbc.pc(), 0xa40f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa40d), 0xcb);
        EXPECT(gbc.readMem(0xa40e), 0x85);
        // CB 85 003F
        gbc.setState(0x27a9, 0x6714, 0x8da0, 0xec1a, 0x3cd3, 0xd1, 0x1, 0x0);
        gbc.writeMem(0x27a9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6714);
        EXPECT(gbc.pc(), 0x27ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0040
        gbc.setState(0x3270, 0x7eb9, 0xa230, 0xb9d9, 0x12bd, 0xf629, 0x1, 0x0);
        gbc.writeMem(0x3270, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7eb9);
        EXPECT(gbc.pc(), 0x3272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0041
        gbc.setState(0x1968, 0xce12, 0x8940, 0x56a6, 0x38e7, 0xccd3, 0x0, 0x0);
        gbc.writeMem(0x1968, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xce12);
        EXPECT(gbc.pc(), 0x196a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0042
        gbc.setState(0x175b, 0x7a05, 0x76b0, 0x5d53, 0x61a2, 0x21df, 0x0, 0x1);
        gbc.writeMem(0x175b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x7a05);
        EXPECT(gbc.pc(), 0x175d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0043
        gbc.setState(0xab90, 0x2cca, 0x580, 0x438c, 0xc499, 0xdc27, 0x1, 0x1);
        gbc.writeMem(0xab90, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2cca);
        EXPECT(gbc.pc(), 0xab92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab90), 0xcb);
        EXPECT(gbc.readMem(0xab91), 0x85);
        // CB 85 0044
        gbc.setState(0xa3bf, 0x2650, 0x2960, 0x470d, 0x468a, 0x16af, 0x1, 0x1);
        gbc.writeMem(0xa3bf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x2650);
        EXPECT(gbc.pc(), 0xa3c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3bf), 0xcb);
        EXPECT(gbc.readMem(0xa3c0), 0x85);
        // CB 85 0045
        gbc.setState(0x436d, 0x57b, 0x9470, 0xce1a, 0x4616, 0x2529, 0x0, 0x1);
        gbc.writeMem(0x436d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x57b);
        EXPECT(gbc.pc(), 0x436f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0046
        gbc.setState(0x7f26, 0xbb79, 0xbbc0, 0x52c6, 0x9488, 0xb61a, 0x0, 0x1);
        gbc.writeMem(0x7f26, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xbb79);
        EXPECT(gbc.pc(), 0x7f28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0047
        gbc.setState(0x262a, 0x1d16, 0xe300, 0x4748, 0xab4c, 0xe397, 0x0, 0x1);
        gbc.writeMem(0x262a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1d16);
        EXPECT(gbc.pc(), 0x262c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0048
        gbc.setState(0xe67c, 0xc556, 0xfba0, 0xb3ba, 0x6a06, 0xe4a9, 0x0, 0x1);
        gbc.writeMem(0xe67c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc556);
        EXPECT(gbc.pc(), 0xe67e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe67c), 0xcb);
        EXPECT(gbc.readMem(0xe67d), 0x85);
        // CB 85 0049
        gbc.setState(0x8199, 0x15b2, 0x8960, 0x4332, 0xd256, 0x179c, 0x0, 0x0);
        gbc.writeMem(0x8199, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x15b2);
        EXPECT(gbc.pc(), 0x819b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8199), 0xcb);
        EXPECT(gbc.readMem(0x819a), 0x85);
        // CB 85 004A
        gbc.setState(0xbd05, 0xaf5f, 0x22d0, 0x6a94, 0x1c46, 0x43a3, 0x0, 0x1);
        gbc.writeMem(0xbd05, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xaf5f);
        EXPECT(gbc.pc(), 0xbd07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd05), 0xcb);
        EXPECT(gbc.readMem(0xbd06), 0x85);
        // CB 85 004B
        gbc.setState(0x206f, 0x97ea, 0xf210, 0x8a1c, 0x5783, 0xbfb, 0x1, 0x1);
        gbc.writeMem(0x206f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x97ea);
        EXPECT(gbc.pc(), 0x2071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 004C
        gbc.setState(0x365c, 0xf307, 0xefe0, 0x96d0, 0x3c14, 0x4877, 0x0, 0x1);
        gbc.writeMem(0x365c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf307);
        EXPECT(gbc.pc(), 0x365e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 004D
        gbc.setState(0xa2dd, 0xeb32, 0x30, 0xab82, 0xfb0d, 0x9585, 0x0, 0x1);
        gbc.writeMem(0xa2dd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xeb32);
        EXPECT(gbc.pc(), 0xa2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2dd), 0xcb);
        EXPECT(gbc.readMem(0xa2de), 0x85);
        // CB 85 004E
        gbc.setState(0x3a08, 0x4cf4, 0xa760, 0xa11c, 0xc113, 0xd203, 0x0, 0x1);
        gbc.writeMem(0x3a08, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4cf4);
        EXPECT(gbc.pc(), 0x3a0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 004F
        gbc.setState(0x6e57, 0xcfc1, 0xc850, 0x4d62, 0x8003, 0x3eac, 0x0, 0x0);
        gbc.writeMem(0x6e57, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xcfc1);
        EXPECT(gbc.pc(), 0x6e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0050
        gbc.setState(0x4267, 0x718a, 0xa160, 0xd517, 0xe072, 0xa46, 0x1, 0x0);
        gbc.writeMem(0x4267, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x718a);
        EXPECT(gbc.pc(), 0x4269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0051
        gbc.setState(0x412c, 0x82ea, 0x6910, 0xb4eb, 0x2d2c, 0xc858, 0x0, 0x1);
        gbc.writeMem(0x412c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x82ea);
        EXPECT(gbc.pc(), 0x412e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0052
        gbc.setState(0x21fc, 0x21b8, 0xc480, 0x9772, 0x35c2, 0xa95a, 0x0, 0x1);
        gbc.writeMem(0x21fc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x21b8);
        EXPECT(gbc.pc(), 0x21fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0053
        gbc.setState(0x1ce, 0x3bfd, 0xe630, 0x7e56, 0xb18d, 0xb9cc, 0x1, 0x0);
        gbc.writeMem(0x1ce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3bfd);
        EXPECT(gbc.pc(), 0x1d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0054
        gbc.setState(0x408a, 0xed40, 0x8a0, 0xbd69, 0xae91, 0xa569, 0x1, 0x1);
        gbc.writeMem(0x408a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xed40);
        EXPECT(gbc.pc(), 0x408c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0055
        gbc.setState(0xda71, 0xf316, 0xa560, 0xb034, 0x1aff, 0x1a85, 0x0, 0x1);
        gbc.writeMem(0xda71, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf316);
        EXPECT(gbc.pc(), 0xda73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda71), 0xcb);
        EXPECT(gbc.readMem(0xda72), 0x85);
        // CB 85 0056
        gbc.setState(0x2d2, 0x466f, 0xfc00, 0xd6a, 0x6cd0, 0x3bc, 0x1, 0x1);
        gbc.writeMem(0x2d2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x466f);
        EXPECT(gbc.pc(), 0x2d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0058
        gbc.setState(0x83a6, 0xdd6d, 0x54a0, 0xde86, 0x184d, 0x9256, 0x0, 0x1);
        gbc.writeMem(0x83a6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xdd6d);
        EXPECT(gbc.pc(), 0x83a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83a6), 0xcb);
        EXPECT(gbc.readMem(0x83a7), 0x85);
        // CB 85 0059
        gbc.setState(0xa6f5, 0x488b, 0xc970, 0xa963, 0xdda5, 0x6974, 0x0, 0x0);
        gbc.writeMem(0xa6f5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x488b);
        EXPECT(gbc.pc(), 0xa6f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f5), 0xcb);
        EXPECT(gbc.readMem(0xa6f6), 0x85);
        // CB 85 005A
        gbc.setState(0xdb74, 0x6498, 0xa640, 0xb0f4, 0x177e, 0xbb41, 0x1, 0x1);
        gbc.writeMem(0xdb74, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6498);
        EXPECT(gbc.pc(), 0xdb76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb74), 0xcb);
        EXPECT(gbc.readMem(0xdb75), 0x85);
        // CB 85 005B
        gbc.setState(0x394c, 0x101c, 0xee30, 0x42d1, 0x2e73, 0xcede, 0x0, 0x0);
        gbc.writeMem(0x394c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x101c);
        EXPECT(gbc.pc(), 0x394e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 005C
        gbc.setState(0x5d, 0xc8d7, 0x3750, 0x8945, 0x4001, 0xaccc, 0x1, 0x0);
        gbc.writeMem(0x5d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc8d7);
        EXPECT(gbc.pc(), 0x5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 005D
        gbc.setState(0xa276, 0x85d8, 0x54f0, 0x69df, 0x2a76, 0xb5e, 0x0, 0x1);
        gbc.writeMem(0xa276, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x85d8);
        EXPECT(gbc.pc(), 0xa278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa276), 0xcb);
        EXPECT(gbc.readMem(0xa277), 0x85);
        // CB 85 005E
        gbc.setState(0x4e41, 0x25ba, 0x9110, 0xf348, 0x57f9, 0xff85, 0x1, 0x0);
        gbc.writeMem(0x4e41, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x25ba);
        EXPECT(gbc.pc(), 0x4e43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 005F
        gbc.setState(0xec94, 0xede, 0x3b00, 0x5477, 0xf110, 0xb035, 0x1, 0x1);
        gbc.writeMem(0xec94, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xede);
        EXPECT(gbc.pc(), 0xec96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec94), 0xcb);
        EXPECT(gbc.readMem(0xec95), 0x85);
        // CB 85 0060
        gbc.setState(0x7f48, 0xc4e5, 0x2680, 0x3358, 0x24bb, 0x29f3, 0x0, 0x0);
        gbc.writeMem(0x7f48, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc4e5);
        EXPECT(gbc.pc(), 0x7f4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0061
        gbc.setState(0xe2fb, 0x7e0e, 0xf420, 0x5de7, 0xe75a, 0x8532, 0x0, 0x1);
        gbc.writeMem(0xe2fb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7e0e);
        EXPECT(gbc.pc(), 0xe2fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2fb), 0xcb);
        EXPECT(gbc.readMem(0xe2fc), 0x85);
        // CB 85 0062
        gbc.setState(0x81b5, 0x1528, 0x80, 0xf5b0, 0x46c, 0x9450, 0x1, 0x0);
        gbc.writeMem(0x81b5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1528);
        EXPECT(gbc.pc(), 0x81b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81b5), 0xcb);
        EXPECT(gbc.readMem(0x81b6), 0x85);
        // CB 85 0063
        gbc.setState(0x3db5, 0x8b8e, 0x45a0, 0xcb1f, 0x90d5, 0xfaeb, 0x1, 0x0);
        gbc.writeMem(0x3db5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8b8e);
        EXPECT(gbc.pc(), 0x3db7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0064
        gbc.setState(0x7e49, 0x3f52, 0x2c20, 0xadf3, 0x7933, 0xb24e, 0x0, 0x1);
        gbc.writeMem(0x7e49, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3f52);
        EXPECT(gbc.pc(), 0x7e4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0065
        gbc.setState(0x22a9, 0xfc16, 0x93e0, 0x9f5d, 0x5620, 0x3b5d, 0x0, 0x1);
        gbc.writeMem(0x22a9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfc16);
        EXPECT(gbc.pc(), 0x22ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0066
        gbc.setState(0x8ab0, 0x9235, 0x8e10, 0x1586, 0xdba7, 0x91a9, 0x0, 0x1);
        gbc.writeMem(0x8ab0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9235);
        EXPECT(gbc.pc(), 0x8ab2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab0), 0xcb);
        EXPECT(gbc.readMem(0x8ab1), 0x85);
        // CB 85 0067
        gbc.setState(0x7db6, 0x9fe4, 0x2810, 0xdba4, 0xff2d, 0x34a, 0x0, 0x1);
        gbc.writeMem(0x7db6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9fe4);
        EXPECT(gbc.pc(), 0x7db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0068
        gbc.setState(0xd35c, 0x696d, 0xd910, 0x1c7b, 0x610, 0x1fd9, 0x0, 0x0);
        gbc.writeMem(0xd35c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x696d);
        EXPECT(gbc.pc(), 0xd35e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd35c), 0xcb);
        EXPECT(gbc.readMem(0xd35d), 0x85);
        // CB 85 0069
        gbc.setState(0x12f6, 0xc84d, 0x9ef0, 0xf7fb, 0x71fa, 0xae57, 0x0, 0x1);
        gbc.writeMem(0x12f6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc84d);
        EXPECT(gbc.pc(), 0x12f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 006A
        gbc.setState(0x1b91, 0x8c87, 0x3ca0, 0xb803, 0xb225, 0x729c, 0x1, 0x0);
        gbc.writeMem(0x1b91, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8c87);
        EXPECT(gbc.pc(), 0x1b93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 006B
        gbc.setState(0x191e, 0x9f77, 0xf910, 0x9868, 0x562a, 0x68e5, 0x0, 0x1);
        gbc.writeMem(0x191e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9f77);
        EXPECT(gbc.pc(), 0x1920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 006C
        gbc.setState(0xbed7, 0xa3bb, 0xf570, 0x824, 0xc3f7, 0x6785, 0x1, 0x1);
        gbc.writeMem(0xbed7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa3bb);
        EXPECT(gbc.pc(), 0xbed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbed7), 0xcb);
        EXPECT(gbc.readMem(0xbed8), 0x85);
        // CB 85 006D
        gbc.setState(0x1025, 0xbbb2, 0x9e0, 0x7afe, 0xa5c, 0x63cd, 0x0, 0x0);
        gbc.writeMem(0x1025, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xbbb2);
        EXPECT(gbc.pc(), 0x1027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 006E
        gbc.setState(0xb063, 0x700a, 0xe290, 0xde32, 0x627, 0x2ee6, 0x1, 0x1);
        gbc.writeMem(0xb063, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x700a);
        EXPECT(gbc.pc(), 0xb065);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb063), 0xcb);
        EXPECT(gbc.readMem(0xb064), 0x85);
        // CB 85 006F
        gbc.setState(0x4c43, 0x4bde, 0x9df0, 0x2705, 0x7515, 0x62a7, 0x1, 0x0);
        gbc.writeMem(0x4c43, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4bde);
        EXPECT(gbc.pc(), 0x4c45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0070
        gbc.setState(0x1734, 0x4bce, 0x4f70, 0xee4, 0x781b, 0xd37a, 0x1, 0x0);
        gbc.writeMem(0x1734, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4bce);
        EXPECT(gbc.pc(), 0x1736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0071
        gbc.setState(0x8671, 0x8b5c, 0xe40, 0x4716, 0x7a55, 0x1b5c, 0x0, 0x1);
        gbc.writeMem(0x8671, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8b5c);
        EXPECT(gbc.pc(), 0x8673);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8671), 0xcb);
        EXPECT(gbc.readMem(0x8672), 0x85);
        // CB 85 0072
        gbc.setState(0x4066, 0xab08, 0x2190, 0xc710, 0x8e7f, 0x6bd6, 0x1, 0x0);
        gbc.writeMem(0x4066, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xab08);
        EXPECT(gbc.pc(), 0x4068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0073
        gbc.setState(0x54a, 0x7547, 0xeb00, 0xa5c5, 0xfb3e, 0x2903, 0x0, 0x1);
        gbc.writeMem(0x54a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7547);
        EXPECT(gbc.pc(), 0x54c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0074
        gbc.setState(0xe7f5, 0x114c, 0x70d0, 0xd848, 0xd804, 0xf90e, 0x1, 0x0);
        gbc.writeMem(0xe7f5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x114c);
        EXPECT(gbc.pc(), 0xe7f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7f5), 0xcb);
        EXPECT(gbc.readMem(0xe7f6), 0x85);
        // CB 85 0075
        gbc.setState(0x6a1f, 0x5189, 0xec20, 0xb20d, 0xedbf, 0x1e66, 0x0, 0x1);
        gbc.writeMem(0x6a1f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5189);
        EXPECT(gbc.pc(), 0x6a21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0077
        gbc.setState(0x3b01, 0x36c7, 0xd290, 0xda28, 0xb5f3, 0x9593, 0x0, 0x0);
        gbc.writeMem(0x3b01, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x36c7);
        EXPECT(gbc.pc(), 0x3b03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0078
        gbc.setState(0x4d96, 0x2f60, 0x37f0, 0xe430, 0x91aa, 0xa582, 0x0, 0x1);
        gbc.writeMem(0x4d96, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2f60);
        EXPECT(gbc.pc(), 0x4d98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0079
        gbc.setState(0x3302, 0xe8e9, 0x5320, 0x5e9b, 0xcc4d, 0x31b9, 0x1, 0x0);
        gbc.writeMem(0x3302, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe8e9);
        EXPECT(gbc.pc(), 0x3304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 007A
        gbc.setState(0xa0a8, 0xfe35, 0xf0a0, 0x4804, 0x5073, 0xf243, 0x1, 0x0);
        gbc.writeMem(0xa0a8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xfe35);
        EXPECT(gbc.pc(), 0xa0aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a8), 0xcb);
        EXPECT(gbc.readMem(0xa0a9), 0x85);
        // CB 85 007B
        gbc.setState(0x2bc6, 0xa59b, 0x180, 0xa8b1, 0x614, 0x57ac, 0x1, 0x1);
        gbc.writeMem(0x2bc6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa59b);
        EXPECT(gbc.pc(), 0x2bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 007C
        gbc.setState(0xc046, 0xd65, 0x9780, 0x2895, 0x3a8f, 0x5fac, 0x1, 0x1);
        gbc.writeMem(0xc046, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd65);
        EXPECT(gbc.pc(), 0xc048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc046), 0xcb);
        EXPECT(gbc.readMem(0xc047), 0x85);
        // CB 85 007D
        gbc.setState(0xeb4b, 0xdeff, 0x75d0, 0x2f72, 0x3f5a, 0x2deb, 0x0, 0x1);
        gbc.writeMem(0xeb4b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xdeff);
        EXPECT(gbc.pc(), 0xeb4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb4b), 0xcb);
        EXPECT(gbc.readMem(0xeb4c), 0x85);
        // CB 85 007E
        gbc.setState(0x9f64, 0xa35, 0x16d0, 0x587a, 0x595c, 0xf10b, 0x0, 0x1);
        gbc.writeMem(0x9f64, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa35);
        EXPECT(gbc.pc(), 0x9f66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f64), 0xcb);
        EXPECT(gbc.readMem(0x9f65), 0x85);
        // CB 85 007F
        gbc.setState(0xa296, 0x3b68, 0x7a60, 0x4250, 0xb967, 0xf007, 0x0, 0x1);
        gbc.writeMem(0xa296, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3b68);
        EXPECT(gbc.pc(), 0xa298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa296), 0xcb);
        EXPECT(gbc.readMem(0xa297), 0x85);
        // CB 85 0080
        gbc.setState(0x303e, 0x5896, 0x1d40, 0x3c55, 0x6dbb, 0x786c, 0x0, 0x0);
        gbc.writeMem(0x303e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5896);
        EXPECT(gbc.pc(), 0x3040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0081
        gbc.setState(0x2997, 0xcce3, 0x8ea0, 0x33b5, 0x3ced, 0xb7a9, 0x0, 0x0);
        gbc.writeMem(0x2997, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcce3);
        EXPECT(gbc.pc(), 0x2999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0082
        gbc.setState(0xd233, 0x2b8c, 0xd8f0, 0x957c, 0x44bf, 0xe51f, 0x1, 0x0);
        gbc.writeMem(0xd233, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x2b8c);
        EXPECT(gbc.pc(), 0xd235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd233), 0xcb);
        EXPECT(gbc.readMem(0xd234), 0x85);
        // CB 85 0083
        gbc.setState(0x544b, 0x7a9d, 0x9910, 0xbed, 0x987d, 0xf82c, 0x0, 0x0);
        gbc.writeMem(0x544b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7a9d);
        EXPECT(gbc.pc(), 0x544d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0084
        gbc.setState(0x3bfc, 0x5839, 0xea50, 0xdfdf, 0x9b2d, 0x774, 0x1, 0x1);
        gbc.writeMem(0x3bfc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5839);
        EXPECT(gbc.pc(), 0x3bfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0085
        gbc.setState(0x80c7, 0x7e5f, 0x2000, 0x3781, 0x3262, 0x5ea1, 0x0, 0x0);
        gbc.writeMem(0x80c7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7e5f);
        EXPECT(gbc.pc(), 0x80c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c7), 0xcb);
        EXPECT(gbc.readMem(0x80c8), 0x85);
        // CB 85 0086
        gbc.setState(0x44b2, 0x545f, 0xa450, 0x4e03, 0x2fa6, 0x8aa2, 0x0, 0x1);
        gbc.writeMem(0x44b2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x545f);
        EXPECT(gbc.pc(), 0x44b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0087
        gbc.setState(0xfae, 0x39da, 0x5450, 0xad2e, 0xc95c, 0x33a1, 0x0, 0x1);
        gbc.writeMem(0xfae, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x39da);
        EXPECT(gbc.pc(), 0xfb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0088
        gbc.setState(0xd4d, 0xcf6e, 0x5d30, 0x2bb8, 0x80c6, 0x6655, 0x0, 0x0);
        gbc.writeMem(0xd4d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xcf6e);
        EXPECT(gbc.pc(), 0xd4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0089
        gbc.setState(0x5b20, 0x6bdd, 0xf50, 0xf375, 0xae2, 0xa7a4, 0x0, 0x1);
        gbc.writeMem(0x5b20, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6bdd);
        EXPECT(gbc.pc(), 0x5b22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 008A
        gbc.setState(0x5f03, 0x918f, 0x7d70, 0xe3ca, 0xb1cb, 0x8f82, 0x0, 0x0);
        gbc.writeMem(0x5f03, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x918f);
        EXPECT(gbc.pc(), 0x5f05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 008C
        gbc.setState(0x75d, 0x6c14, 0x99f0, 0x86b1, 0xb580, 0x1e12, 0x1, 0x1);
        gbc.writeMem(0x75d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6c14);
        EXPECT(gbc.pc(), 0x75f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 008D
        gbc.setState(0x7bc3, 0x7da8, 0xd4b0, 0x53e3, 0x1df6, 0xc86a, 0x1, 0x1);
        gbc.writeMem(0x7bc3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x7da8);
        EXPECT(gbc.pc(), 0x7bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 008E
        gbc.setState(0x4d42, 0x9383, 0x3ca0, 0x651b, 0x60e0, 0xd6e0, 0x0, 0x1);
        gbc.writeMem(0x4d42, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9383);
        EXPECT(gbc.pc(), 0x4d44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 008F
        gbc.setState(0x275c, 0x21fc, 0xad00, 0x1ab3, 0x68de, 0x3079, 0x1, 0x1);
        gbc.writeMem(0x275c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x21fc);
        EXPECT(gbc.pc(), 0x275e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0090
        gbc.setState(0xec4c, 0x4d6d, 0xa780, 0xd42e, 0x4522, 0x2bc3, 0x1, 0x1);
        gbc.writeMem(0xec4c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4d6d);
        EXPECT(gbc.pc(), 0xec4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec4c), 0xcb);
        EXPECT(gbc.readMem(0xec4d), 0x85);
        // CB 85 0091
        gbc.setState(0x7a42, 0xbc15, 0x2b10, 0xde1e, 0x81f5, 0x3e5f, 0x1, 0x1);
        gbc.writeMem(0x7a42, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbc15);
        EXPECT(gbc.pc(), 0x7a44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0092
        gbc.setState(0x2fc9, 0x6a0c, 0x8bc0, 0xf122, 0xeba3, 0xdff5, 0x1, 0x0);
        gbc.writeMem(0x2fc9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6a0c);
        EXPECT(gbc.pc(), 0x2fcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0093
        gbc.setState(0x9985, 0x5bb9, 0x8960, 0xbd23, 0x93fc, 0x4962, 0x1, 0x0);
        gbc.writeMem(0x9985, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x5bb9);
        EXPECT(gbc.pc(), 0x9987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9985), 0xcb);
        EXPECT(gbc.readMem(0x9986), 0x85);
        // CB 85 0094
        gbc.setState(0x3692, 0x922f, 0xd2c0, 0x6079, 0xbb28, 0x13de, 0x0, 0x0);
        gbc.writeMem(0x3692, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x922f);
        EXPECT(gbc.pc(), 0x3694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0095
        gbc.setState(0x903b, 0x4d5b, 0xe400, 0x9df3, 0x73a1, 0x69e, 0x0, 0x1);
        gbc.writeMem(0x903b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4d5b);
        EXPECT(gbc.pc(), 0x903d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x903b), 0xcb);
        EXPECT(gbc.readMem(0x903c), 0x85);
        // CB 85 0096
        gbc.setState(0x7bcd, 0x1fcb, 0xbf0, 0x329e, 0xf704, 0xe275, 0x1, 0x0);
        gbc.writeMem(0x7bcd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1fcb);
        EXPECT(gbc.pc(), 0x7bcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0097
        gbc.setState(0x98df, 0xdab4, 0x75e0, 0x5c74, 0xd76e, 0x7261, 0x0, 0x0);
        gbc.writeMem(0x98df, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xdab4);
        EXPECT(gbc.pc(), 0x98e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98df), 0xcb);
        EXPECT(gbc.readMem(0x98e0), 0x85);
        // CB 85 0098
        gbc.setState(0x5803, 0x7e0c, 0x9230, 0xe1d8, 0xfd2, 0x869c, 0x0, 0x1);
        gbc.writeMem(0x5803, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x7e0c);
        EXPECT(gbc.pc(), 0x5805);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0099
        gbc.setState(0x9188, 0x505f, 0x8630, 0x8ba5, 0x449d, 0x2ea1, 0x1, 0x0);
        gbc.writeMem(0x9188, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x505f);
        EXPECT(gbc.pc(), 0x918a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9188), 0xcb);
        EXPECT(gbc.readMem(0x9189), 0x85);
        // CB 85 009A
        gbc.setState(0x22c7, 0x9767, 0xff0, 0xe25c, 0x641c, 0xe344, 0x1, 0x1);
        gbc.writeMem(0x22c7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9767);
        EXPECT(gbc.pc(), 0x22c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 009B
        gbc.setState(0x6e59, 0xec77, 0xd710, 0xab04, 0x47e8, 0x2098, 0x0, 0x0);
        gbc.writeMem(0x6e59, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xec77);
        EXPECT(gbc.pc(), 0x6e5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 009C
        gbc.setState(0xc9be, 0x4e01, 0xc960, 0xffc2, 0x9b79, 0xcc25, 0x0, 0x1);
        gbc.writeMem(0xc9be, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4e01);
        EXPECT(gbc.pc(), 0xc9c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9be), 0xcb);
        EXPECT(gbc.readMem(0xc9bf), 0x85);
        // CB 85 009D
        gbc.setState(0x431d, 0x9626, 0xbaf0, 0xf991, 0xd27d, 0x7adc, 0x0, 0x1);
        gbc.writeMem(0x431d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9626);
        EXPECT(gbc.pc(), 0x431f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 009E
        gbc.setState(0xbe56, 0x9efc, 0x540, 0xc551, 0xa7de, 0x8b16, 0x1, 0x0);
        gbc.writeMem(0xbe56, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9efc);
        EXPECT(gbc.pc(), 0xbe58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe56), 0xcb);
        EXPECT(gbc.readMem(0xbe57), 0x85);
        // CB 85 009F
        gbc.setState(0x78ec, 0x590d, 0x86c0, 0xbbb3, 0x3e68, 0x6e7, 0x1, 0x1);
        gbc.writeMem(0x78ec, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x590d);
        EXPECT(gbc.pc(), 0x78ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00A0
        gbc.setState(0xd82e, 0x2ac4, 0x2100, 0x4198, 0x3ef4, 0xf2eb, 0x0, 0x1);
        gbc.writeMem(0xd82e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2ac4);
        EXPECT(gbc.pc(), 0xd830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd82e), 0xcb);
        EXPECT(gbc.readMem(0xd82f), 0x85);
        // CB 85 00A1
        gbc.setState(0x8dad, 0x7fae, 0x2a10, 0x8047, 0x3493, 0x18c1, 0x1, 0x1);
        gbc.writeMem(0x8dad, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7fae);
        EXPECT(gbc.pc(), 0x8daf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dad), 0xcb);
        EXPECT(gbc.readMem(0x8dae), 0x85);
        // CB 85 00A2
        gbc.setState(0x3b49, 0xbd04, 0x25c0, 0xd437, 0x2169, 0x9f97, 0x0, 0x0);
        gbc.writeMem(0x3b49, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xbd04);
        EXPECT(gbc.pc(), 0x3b4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00A3
        gbc.setState(0x6e69, 0x1125, 0x5960, 0x4eaf, 0xedd7, 0x942b, 0x0, 0x0);
        gbc.writeMem(0x6e69, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1125);
        EXPECT(gbc.pc(), 0x6e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00A4
        gbc.setState(0xdac7, 0xdf08, 0x9420, 0xe5ac, 0x1fa2, 0xf0ca, 0x1, 0x1);
        gbc.writeMem(0xdac7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdf08);
        EXPECT(gbc.pc(), 0xdac9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac7), 0xcb);
        EXPECT(gbc.readMem(0xdac8), 0x85);
        // CB 85 00A5
        gbc.setState(0xdd5c, 0x28f6, 0x4e80, 0x2f74, 0xf4a2, 0x5998, 0x1, 0x1);
        gbc.writeMem(0xdd5c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x28f6);
        EXPECT(gbc.pc(), 0xdd5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd5c), 0xcb);
        EXPECT(gbc.readMem(0xdd5d), 0x85);
        // CB 85 00A6
        gbc.setState(0x6f07, 0x66f4, 0x8040, 0x4fe6, 0x3a3e, 0xc00a, 0x1, 0x1);
        gbc.writeMem(0x6f07, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x66f4);
        EXPECT(gbc.pc(), 0x6f09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00A7
        gbc.setState(0xbe7b, 0x18fb, 0xe260, 0xa45f, 0xf896, 0x7615, 0x1, 0x1);
        gbc.writeMem(0xbe7b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x18fb);
        EXPECT(gbc.pc(), 0xbe7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe7b), 0xcb);
        EXPECT(gbc.readMem(0xbe7c), 0x85);
        // CB 85 00A8
        gbc.setState(0x2374, 0x36f2, 0xcb40, 0x52bb, 0x747e, 0x7906, 0x1, 0x1);
        gbc.writeMem(0x2374, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x36f2);
        EXPECT(gbc.pc(), 0x2376);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00A9
        gbc.setState(0x3256, 0x73a, 0x8910, 0xe818, 0x43a0, 0xa454, 0x1, 0x0);
        gbc.writeMem(0x3256, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x73a);
        EXPECT(gbc.pc(), 0x3258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00AA
        gbc.setState(0xd0a2, 0xfae8, 0xb90, 0x19a6, 0x1f43, 0x7941, 0x0, 0x0);
        gbc.writeMem(0xd0a2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfae8);
        EXPECT(gbc.pc(), 0xd0a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0a2), 0xcb);
        EXPECT(gbc.readMem(0xd0a3), 0x85);
        // CB 85 00AB
        gbc.setState(0x261d, 0xa284, 0x64f0, 0xfce, 0xd0c1, 0xe3db, 0x0, 0x1);
        gbc.writeMem(0x261d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa284);
        EXPECT(gbc.pc(), 0x261f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00AC
        gbc.setState(0xe2dc, 0x45a3, 0xdad0, 0xe76b, 0x8019, 0x3533, 0x0, 0x1);
        gbc.writeMem(0xe2dc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x45a3);
        EXPECT(gbc.pc(), 0xe2de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2dc), 0xcb);
        EXPECT(gbc.readMem(0xe2dd), 0x85);
        // CB 85 00AD
        gbc.setState(0x53c8, 0xaa23, 0x2450, 0x2e82, 0xc72a, 0xfd0d, 0x0, 0x0);
        gbc.writeMem(0x53c8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xaa23);
        EXPECT(gbc.pc(), 0x53ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00AE
        gbc.setState(0xd0da, 0xfebd, 0x1b40, 0x1c4d, 0x20e2, 0x484a, 0x0, 0x0);
        gbc.writeMem(0xd0da, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xfebd);
        EXPECT(gbc.pc(), 0xd0dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0da), 0xcb);
        EXPECT(gbc.readMem(0xd0db), 0x85);
        // CB 85 00AF
        gbc.setState(0xb12e, 0x2986, 0x5c60, 0x9c75, 0x84db, 0xb893, 0x0, 0x0);
        gbc.writeMem(0xb12e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2986);
        EXPECT(gbc.pc(), 0xb130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb12e), 0xcb);
        EXPECT(gbc.readMem(0xb12f), 0x85);
        // CB 85 00B0
        gbc.setState(0xe773, 0xe528, 0xa1e0, 0x53f5, 0x11b6, 0xc41a, 0x0, 0x0);
        gbc.writeMem(0xe773, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xe528);
        EXPECT(gbc.pc(), 0xe775);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe773), 0xcb);
        EXPECT(gbc.readMem(0xe774), 0x85);
        // CB 85 00B1
        gbc.setState(0xe8d5, 0xf1ca, 0x2f10, 0x76d3, 0x702, 0xd4cb, 0x1, 0x1);
        gbc.writeMem(0xe8d5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf1ca);
        EXPECT(gbc.pc(), 0xe8d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d5), 0xcb);
        EXPECT(gbc.readMem(0xe8d6), 0x85);
        // CB 85 00B2
        gbc.setState(0xe9ea, 0x359e, 0xdaf0, 0xffd3, 0xaec, 0x28ce, 0x1, 0x1);
        gbc.writeMem(0xe9ea, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x359e);
        EXPECT(gbc.pc(), 0xe9ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ea), 0xcb);
        EXPECT(gbc.readMem(0xe9eb), 0x85);
        // CB 85 00B3
        gbc.setState(0x783e, 0xd771, 0xf6c0, 0x3c24, 0x4c9e, 0xfc82, 0x0, 0x1);
        gbc.writeMem(0x783e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd771);
        EXPECT(gbc.pc(), 0x7840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00B4
        gbc.setState(0x52e0, 0x1d66, 0xc00, 0x5793, 0xc3ee, 0x9caa, 0x1, 0x0);
        gbc.writeMem(0x52e0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1d66);
        EXPECT(gbc.pc(), 0x52e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00B5
        gbc.setState(0x775a, 0x7f3d, 0xcfa0, 0x589c, 0x6240, 0x2cf6, 0x1, 0x1);
        gbc.writeMem(0x775a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7f3d);
        EXPECT(gbc.pc(), 0x775c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00B6
        gbc.setState(0x6889, 0xd764, 0x7ea0, 0x495c, 0xa967, 0x7b84, 0x1, 0x0);
        gbc.writeMem(0x6889, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd764);
        EXPECT(gbc.pc(), 0x688b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00B7
        gbc.setState(0x3972, 0x3675, 0xccb0, 0xea6c, 0xeeb7, 0x2f4d, 0x0, 0x0);
        gbc.writeMem(0x3972, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3675);
        EXPECT(gbc.pc(), 0x3974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00B8
        gbc.setState(0x6624, 0xf42e, 0x4d10, 0xd6d2, 0x6911, 0xe783, 0x0, 0x0);
        gbc.writeMem(0x6624, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf42e);
        EXPECT(gbc.pc(), 0x6626);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00B9
        gbc.setState(0x908f, 0xcb72, 0x620, 0xcfc7, 0x915, 0xa696, 0x0, 0x0);
        gbc.writeMem(0x908f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xcb72);
        EXPECT(gbc.pc(), 0x9091);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x908f), 0xcb);
        EXPECT(gbc.readMem(0x9090), 0x85);
        // CB 85 00BA
        gbc.setState(0x789, 0x64ec, 0xa300, 0xa28, 0xd17d, 0xda28, 0x0, 0x0);
        gbc.writeMem(0x789, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x64ec);
        EXPECT(gbc.pc(), 0x78b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00BB
        gbc.setState(0x3de7, 0xf76c, 0xac70, 0x743f, 0x155b, 0x3842, 0x1, 0x0);
        gbc.writeMem(0x3de7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf76c);
        EXPECT(gbc.pc(), 0x3de9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00BC
        gbc.setState(0x400e, 0xaa83, 0x3ff0, 0xb277, 0x8ee8, 0xa57b, 0x1, 0x1);
        gbc.writeMem(0x400e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xaa83);
        EXPECT(gbc.pc(), 0x4010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00BD
        gbc.setState(0x543f, 0xc45e, 0x39a0, 0x8b0e, 0x9dcf, 0x74d4, 0x0, 0x0);
        gbc.writeMem(0x543f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc45e);
        EXPECT(gbc.pc(), 0x5441);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00BE
        gbc.setState(0x513b, 0xc2fa, 0x55b0, 0xf267, 0xb859, 0x7ca7, 0x1, 0x0);
        gbc.writeMem(0x513b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xc2fa);
        EXPECT(gbc.pc(), 0x513d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00C0
        gbc.setState(0x7b5e, 0x5cdf, 0x8380, 0x47df, 0xc959, 0x291f, 0x1, 0x1);
        gbc.writeMem(0x7b5e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5cdf);
        EXPECT(gbc.pc(), 0x7b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00C1
        gbc.setState(0x3d8f, 0x9a14, 0xc550, 0xa20, 0xa019, 0xe654, 0x1, 0x0);
        gbc.writeMem(0x3d8f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9a14);
        EXPECT(gbc.pc(), 0x3d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00C2
        gbc.setState(0xb78e, 0x8b06, 0xff80, 0xd7c7, 0x2f79, 0xd1a5, 0x0, 0x0);
        gbc.writeMem(0xb78e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8b06);
        EXPECT(gbc.pc(), 0xb790);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb78e), 0xcb);
        EXPECT(gbc.readMem(0xb78f), 0x85);
        // CB 85 00C4
        gbc.setState(0xaba8, 0xe56c, 0xe8f0, 0xe17d, 0xdd8b, 0x5d1c, 0x1, 0x1);
        gbc.writeMem(0xaba8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe56c);
        EXPECT(gbc.pc(), 0xabaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaba8), 0xcb);
        EXPECT(gbc.readMem(0xaba9), 0x85);
        // CB 85 00C5
        gbc.setState(0x11af, 0xfec8, 0x7c80, 0x3780, 0xf40b, 0x1e84, 0x1, 0x1);
        gbc.writeMem(0x11af, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfec8);
        EXPECT(gbc.pc(), 0x11b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00C6
        gbc.setState(0x8323, 0x3ef5, 0xf600, 0x7fb2, 0xe191, 0xfc2, 0x1, 0x0);
        gbc.writeMem(0x8323, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3ef5);
        EXPECT(gbc.pc(), 0x8325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8323), 0xcb);
        EXPECT(gbc.readMem(0x8324), 0x85);
        // CB 85 00C7
        gbc.setState(0xa64e, 0xc3e3, 0x3fa0, 0x4867, 0x1e3b, 0xeaff, 0x0, 0x0);
        gbc.writeMem(0xa64e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc3e3);
        EXPECT(gbc.pc(), 0xa650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa64e), 0xcb);
        EXPECT(gbc.readMem(0xa64f), 0x85);
        // CB 85 00C9
        gbc.setState(0x338d, 0xa22e, 0xbd20, 0x54f3, 0x2324, 0xe50b, 0x1, 0x1);
        gbc.writeMem(0x338d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa22e);
        EXPECT(gbc.pc(), 0x338f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00CA
        gbc.setState(0xa6ec, 0x9e, 0xac10, 0x8579, 0x74d6, 0x2f7, 0x1, 0x0);
        gbc.writeMem(0xa6ec, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9e);
        EXPECT(gbc.pc(), 0xa6ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ec), 0xcb);
        EXPECT(gbc.readMem(0xa6ed), 0x85);
        // CB 85 00CB
        gbc.setState(0x92da, 0x91c5, 0xf910, 0xf1c, 0xd63e, 0x87ca, 0x1, 0x0);
        gbc.writeMem(0x92da, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x91c5);
        EXPECT(gbc.pc(), 0x92dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92da), 0xcb);
        EXPECT(gbc.readMem(0x92db), 0x85);
        // CB 85 00CC
        gbc.setState(0xd15f, 0x96ce, 0x9e90, 0x69fc, 0x6c0c, 0x2f9f, 0x0, 0x1);
        gbc.writeMem(0xd15f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x96ce);
        EXPECT(gbc.pc(), 0xd161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd15f), 0xcb);
        EXPECT(gbc.readMem(0xd160), 0x85);
        // CB 85 00CD
        gbc.setState(0x1ed0, 0xbf47, 0x7ff0, 0xd5e7, 0x1f6b, 0xace5, 0x1, 0x0);
        gbc.writeMem(0x1ed0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xbf47);
        EXPECT(gbc.pc(), 0x1ed2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00CE
        gbc.setState(0x677a, 0x6bf9, 0x69f0, 0xfc75, 0x9e3a, 0xb2ad, 0x1, 0x1);
        gbc.writeMem(0x677a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6bf9);
        EXPECT(gbc.pc(), 0x677c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00CF
        gbc.setState(0x378c, 0x54f9, 0x9560, 0x2a96, 0xd413, 0x2982, 0x0, 0x1);
        gbc.writeMem(0x378c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x54f9);
        EXPECT(gbc.pc(), 0x378e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00D0
        gbc.setState(0x247a, 0x50db, 0x1130, 0x8632, 0x4030, 0x60f, 0x0, 0x0);
        gbc.writeMem(0x247a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x50db);
        EXPECT(gbc.pc(), 0x247c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00D1
        gbc.setState(0x633a, 0xb04, 0x4f50, 0xd453, 0x171f, 0x1784, 0x0, 0x1);
        gbc.writeMem(0x633a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb04);
        EXPECT(gbc.pc(), 0x633c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00D2
        gbc.setState(0x889a, 0xe3aa, 0x9de0, 0x4d86, 0x937c, 0xb721, 0x1, 0x1);
        gbc.writeMem(0x889a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe3aa);
        EXPECT(gbc.pc(), 0x889c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x889a), 0xcb);
        EXPECT(gbc.readMem(0x889b), 0x85);
        // CB 85 00D3
        gbc.setState(0xad48, 0x11f0, 0xeee0, 0xbd0a, 0x3bb1, 0xbece, 0x1, 0x1);
        gbc.writeMem(0xad48, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x11f0);
        EXPECT(gbc.pc(), 0xad4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad48), 0xcb);
        EXPECT(gbc.readMem(0xad49), 0x85);
        // CB 85 00D4
        gbc.setState(0xc2ad, 0x7eb1, 0x7f50, 0xae0d, 0x51ea, 0x6d8d, 0x1, 0x0);
        gbc.writeMem(0xc2ad, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7eb1);
        EXPECT(gbc.pc(), 0xc2af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2ad), 0xcb);
        EXPECT(gbc.readMem(0xc2ae), 0x85);
        // CB 85 00D5
        gbc.setState(0x6bbb, 0x7f38, 0x9870, 0xfde, 0xe1e4, 0xad49, 0x0, 0x0);
        gbc.writeMem(0x6bbb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7f38);
        EXPECT(gbc.pc(), 0x6bbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00D6
        gbc.setState(0x8cdd, 0x1068, 0xcbf0, 0x5450, 0x3a8f, 0x5274, 0x0, 0x1);
        gbc.writeMem(0x8cdd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1068);
        EXPECT(gbc.pc(), 0x8cdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cdd), 0xcb);
        EXPECT(gbc.readMem(0x8cde), 0x85);
        // CB 85 00D7
        gbc.setState(0x7d46, 0x93be, 0x5ff0, 0x1b73, 0xc02, 0x12cd, 0x0, 0x0);
        gbc.writeMem(0x7d46, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x93be);
        EXPECT(gbc.pc(), 0x7d48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00D8
        gbc.setState(0x6d13, 0xa8b0, 0xa40, 0x3274, 0x54cf, 0xf60f, 0x0, 0x0);
        gbc.writeMem(0x6d13, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa8b0);
        EXPECT(gbc.pc(), 0x6d15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00D9
        gbc.setState(0x779a, 0x4ac1, 0x4b60, 0x7212, 0x2a8c, 0xb7be, 0x1, 0x0);
        gbc.writeMem(0x779a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4ac1);
        EXPECT(gbc.pc(), 0x779c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00DB
        gbc.setState(0x69f, 0x49bd, 0xdac0, 0x367d, 0x2b00, 0x48ce, 0x1, 0x1);
        gbc.writeMem(0x69f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x49bd);
        EXPECT(gbc.pc(), 0x6a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00DC
        gbc.setState(0x18, 0xe871, 0x480, 0xa0e, 0xe091, 0xd4ac, 0x0, 0x0);
        gbc.writeMem(0x18, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe871);
        EXPECT(gbc.pc(), 0x1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00DD
        gbc.setState(0xaaaf, 0xe72a, 0xbbf0, 0xd40f, 0x1ec8, 0x4be6, 0x1, 0x0);
        gbc.writeMem(0xaaaf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe72a);
        EXPECT(gbc.pc(), 0xaab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaaf), 0xcb);
        EXPECT(gbc.readMem(0xaab0), 0x85);
        // CB 85 00DE
        gbc.setState(0xbe48, 0xfd9d, 0x2470, 0x7f7a, 0x57e3, 0xba78, 0x1, 0x1);
        gbc.writeMem(0xbe48, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xfd9d);
        EXPECT(gbc.pc(), 0xbe4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe48), 0xcb);
        EXPECT(gbc.readMem(0xbe49), 0x85);
        // CB 85 00DF
        gbc.setState(0x1d53, 0x9a47, 0x97b0, 0x82a, 0xa3e6, 0xf056, 0x0, 0x0);
        gbc.writeMem(0x1d53, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x9a47);
        EXPECT(gbc.pc(), 0x1d55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00E0
        gbc.setState(0x59dd, 0x5d1, 0x7980, 0x188, 0x207c, 0x1a32, 0x1, 0x1);
        gbc.writeMem(0x59dd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5d1);
        EXPECT(gbc.pc(), 0x59df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00E1
        gbc.setState(0x7892, 0xc287, 0x20f0, 0x8d9f, 0xe60b, 0xd7a6, 0x1, 0x0);
        gbc.writeMem(0x7892, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xc287);
        EXPECT(gbc.pc(), 0x7894);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00E2
        gbc.setState(0x45a2, 0x510, 0xdf20, 0x56f1, 0xaf4a, 0xfd0, 0x1, 0x0);
        gbc.writeMem(0x45a2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x510);
        EXPECT(gbc.pc(), 0x45a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00E3
        gbc.setState(0xe0fe, 0xb526, 0x2250, 0xb568, 0x3eba, 0x82fa, 0x0, 0x1);
        gbc.writeMem(0xe0fe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb526);
        EXPECT(gbc.pc(), 0xe100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0fe), 0xcb);
        EXPECT(gbc.readMem(0xe0ff), 0x85);
        // CB 85 00E4
        gbc.setState(0x5c0a, 0xfa96, 0x3720, 0x80d0, 0x8aa9, 0x2874, 0x1, 0x1);
        gbc.writeMem(0x5c0a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xfa96);
        EXPECT(gbc.pc(), 0x5c0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00E5
        gbc.setState(0xc7eb, 0x8312, 0xa2b0, 0xf6c, 0x9e3, 0x22c3, 0x0, 0x0);
        gbc.writeMem(0xc7eb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8312);
        EXPECT(gbc.pc(), 0xc7ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7eb), 0xcb);
        EXPECT(gbc.readMem(0xc7ec), 0x85);
        // CB 85 00E6
        gbc.setState(0xe55b, 0x7c91, 0x17e0, 0x5393, 0x717, 0xd1ca, 0x0, 0x1);
        gbc.writeMem(0xe55b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7c91);
        EXPECT(gbc.pc(), 0xe55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe55b), 0xcb);
        EXPECT(gbc.readMem(0xe55c), 0x85);
        // CB 85 00E7
        gbc.setState(0x7aba, 0x2ce1, 0x8930, 0x40c0, 0x64de, 0xc852, 0x1, 0x0);
        gbc.writeMem(0x7aba, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2ce1);
        EXPECT(gbc.pc(), 0x7abc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00E8
        gbc.setState(0x4595, 0xb123, 0xfe0, 0xed78, 0x37fa, 0x53a5, 0x1, 0x1);
        gbc.writeMem(0x4595, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb123);
        EXPECT(gbc.pc(), 0x4597);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00E9
        gbc.setState(0x63fb, 0x502d, 0xdaf0, 0x44f5, 0x8d42, 0x8072, 0x1, 0x0);
        gbc.writeMem(0x63fb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x502d);
        EXPECT(gbc.pc(), 0x63fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00EA
        gbc.setState(0x8b34, 0xc614, 0x6ce0, 0x1d10, 0xc9e3, 0xa91b, 0x1, 0x1);
        gbc.writeMem(0x8b34, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc614);
        EXPECT(gbc.pc(), 0x8b36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b34), 0xcb);
        EXPECT(gbc.readMem(0x8b35), 0x85);
        // CB 85 00EB
        gbc.setState(0x15bd, 0x9016, 0x6f10, 0xbbc9, 0xd211, 0x7287, 0x1, 0x1);
        gbc.writeMem(0x15bd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9016);
        EXPECT(gbc.pc(), 0x15bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00EC
        gbc.setState(0xae99, 0xf67c, 0x2d80, 0x8567, 0x7eaf, 0xea24, 0x0, 0x1);
        gbc.writeMem(0xae99, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf67c);
        EXPECT(gbc.pc(), 0xae9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae99), 0xcb);
        EXPECT(gbc.readMem(0xae9a), 0x85);
        // CB 85 00ED
        gbc.setState(0xdb78, 0x78e8, 0x4150, 0x39db, 0xc069, 0x1e81, 0x1, 0x0);
        gbc.writeMem(0xdb78, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x78e8);
        EXPECT(gbc.pc(), 0xdb7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb78), 0xcb);
        EXPECT(gbc.readMem(0xdb79), 0x85);
        // CB 85 00EE
        gbc.setState(0xaae5, 0x7853, 0xdbc0, 0x219c, 0x456, 0x7bf5, 0x0, 0x0);
        gbc.writeMem(0xaae5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7853);
        EXPECT(gbc.pc(), 0xaae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaae5), 0xcb);
        EXPECT(gbc.readMem(0xaae6), 0x85);
        // CB 85 00EF
        gbc.setState(0x34cb, 0x7f58, 0x8520, 0x7381, 0x29a0, 0x9f8c, 0x1, 0x0);
        gbc.writeMem(0x34cb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7f58);
        EXPECT(gbc.pc(), 0x34cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00F0
        gbc.setState(0x9de8, 0x7d92, 0x2a80, 0xe289, 0x8b75, 0xf0e4, 0x1, 0x1);
        gbc.writeMem(0x9de8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7d92);
        EXPECT(gbc.pc(), 0x9dea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9de8), 0xcb);
        EXPECT(gbc.readMem(0x9de9), 0x85);
        // CB 85 00F1
        gbc.setState(0x6a4c, 0x7417, 0x7240, 0x25b3, 0x6d29, 0x22d2, 0x1, 0x1);
        gbc.writeMem(0x6a4c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7417);
        EXPECT(gbc.pc(), 0x6a4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00F2
        gbc.setState(0xdb43, 0xc2ea, 0xb0c0, 0x966, 0x44dd, 0xcdc3, 0x1, 0x1);
        gbc.writeMem(0xdb43, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc2ea);
        EXPECT(gbc.pc(), 0xdb45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb43), 0xcb);
        EXPECT(gbc.readMem(0xdb44), 0x85);
        // CB 85 00F3
        gbc.setState(0x7684, 0x3033, 0x8320, 0xf5df, 0x64dd, 0xa566, 0x1, 0x1);
        gbc.writeMem(0x7684, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3033);
        EXPECT(gbc.pc(), 0x7686);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00F5
        gbc.setState(0xdf35, 0xcc36, 0xe4d0, 0x78c5, 0xcaa8, 0x2aa2, 0x1, 0x0);
        gbc.writeMem(0xdf35, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xcc36);
        EXPECT(gbc.pc(), 0xdf37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf35), 0xcb);
        EXPECT(gbc.readMem(0xdf36), 0x85);
        // CB 85 00F6
        gbc.setState(0xdf82, 0xe09e, 0xcfa0, 0x27a9, 0xde8f, 0x7df8, 0x0, 0x0);
        gbc.writeMem(0xdf82, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe09e);
        EXPECT(gbc.pc(), 0xdf84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf82), 0xcb);
        EXPECT(gbc.readMem(0xdf83), 0x85);
        // CB 85 00F7
        gbc.setState(0x5417, 0xc2d7, 0x17e0, 0xccd5, 0x2637, 0x8b69, 0x0, 0x1);
        gbc.writeMem(0x5417, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc2d7);
        EXPECT(gbc.pc(), 0x5419);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 00F8
        gbc.setState(0xe4b0, 0x822b, 0x1740, 0x99e4, 0xda38, 0x5369, 0x0, 0x0);
        gbc.writeMem(0xe4b0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x822b);
        EXPECT(gbc.pc(), 0xe4b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4b0), 0xcb);
        EXPECT(gbc.readMem(0xe4b1), 0x85);
        // CB 85 00F9
        gbc.setState(0xeb4c, 0x1852, 0x12d0, 0x7e18, 0x8759, 0x1deb, 0x1, 0x1);
        gbc.writeMem(0xeb4c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1852);
        EXPECT(gbc.pc(), 0xeb4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb4c), 0xcb);
        EXPECT(gbc.readMem(0xeb4d), 0x85);
        // CB 85 00FA
        gbc.setState(0xd504, 0x38c8, 0x53a0, 0x8d13, 0x57e4, 0x4133, 0x0, 0x1);
        gbc.writeMem(0xd504, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x38c8);
        EXPECT(gbc.pc(), 0xd506);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd504), 0xcb);
        EXPECT(gbc.readMem(0xd505), 0x85);
        // CB 85 00FB
        gbc.setState(0x7b22, 0x66c9, 0x7dd0, 0x962d, 0x705e, 0xb9db, 0x1, 0x1);
        gbc.writeMem(0x7b22, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x66c9);
        EXPECT(gbc.pc(), 0x7b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00FC
        gbc.setState(0x1f70, 0x6f87, 0x25d0, 0x98c, 0xa4d7, 0x1bcd, 0x0, 0x0);
        gbc.writeMem(0x1f70, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6f87);
        EXPECT(gbc.pc(), 0x1f72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00FD
        gbc.setState(0xad59, 0xce83, 0xfc30, 0x3f7a, 0xe701, 0x41f, 0x0, 0x1);
        gbc.writeMem(0xad59, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xce83);
        EXPECT(gbc.pc(), 0xad5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad59), 0xcb);
        EXPECT(gbc.readMem(0xad5a), 0x85);
        // CB 85 00FE
        gbc.setState(0x1797, 0x9c51, 0x950, 0x4ba, 0x7558, 0xf511, 0x1, 0x0);
        gbc.writeMem(0x1797, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9c51);
        EXPECT(gbc.pc(), 0x1799);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 00FF
        gbc.setState(0xa6b7, 0xcf81, 0x1e60, 0x3584, 0x22b3, 0x6342, 0x1, 0x0);
        gbc.writeMem(0xa6b7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xcf81);
        EXPECT(gbc.pc(), 0xa6b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6b7), 0xcb);
        EXPECT(gbc.readMem(0xa6b8), 0x85);
        // CB 85 0100
        gbc.setState(0xb6ce, 0xd0e9, 0xba50, 0xce12, 0xb84a, 0xefc8, 0x1, 0x0);
        gbc.writeMem(0xb6ce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd0e9);
        EXPECT(gbc.pc(), 0xb6d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6ce), 0xcb);
        EXPECT(gbc.readMem(0xb6cf), 0x85);
        // CB 85 0101
        gbc.setState(0xe22c, 0xd1a2, 0x9c10, 0xeaa8, 0xc1d2, 0x54e1, 0x0, 0x0);
        gbc.writeMem(0xe22c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd1a2);
        EXPECT(gbc.pc(), 0xe22e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe22c), 0xcb);
        EXPECT(gbc.readMem(0xe22d), 0x85);
        // CB 85 0102
        gbc.setState(0xb9e8, 0x1fc5, 0x3f0, 0xd096, 0x672f, 0x694e, 0x0, 0x0);
        gbc.writeMem(0xb9e8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1fc5);
        EXPECT(gbc.pc(), 0xb9ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9e8), 0xcb);
        EXPECT(gbc.readMem(0xb9e9), 0x85);
        // CB 85 0103
        gbc.setState(0x3342, 0x753c, 0x98d0, 0x78b7, 0xb64d, 0xc7c, 0x0, 0x0);
        gbc.writeMem(0x3342, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x753c);
        EXPECT(gbc.pc(), 0x3344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0104
        gbc.setState(0x104d, 0x5e91, 0x9b0, 0xd2c2, 0xa59f, 0x3e3e, 0x1, 0x0);
        gbc.writeMem(0x104d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5e91);
        EXPECT(gbc.pc(), 0x104f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0105
        gbc.setState(0xefd0, 0xcf3b, 0xf2c0, 0xafcc, 0xed7c, 0x1490, 0x0, 0x1);
        gbc.writeMem(0xefd0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcf3b);
        EXPECT(gbc.pc(), 0xefd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd0), 0xcb);
        EXPECT(gbc.readMem(0xefd1), 0x85);
        // CB 85 0106
        gbc.setState(0xb195, 0x8693, 0xef10, 0xf87a, 0x8599, 0x4b2d, 0x0, 0x1);
        gbc.writeMem(0xb195, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8693);
        EXPECT(gbc.pc(), 0xb197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb195), 0xcb);
        EXPECT(gbc.readMem(0xb196), 0x85);
        // CB 85 0107
        gbc.setState(0x2ae9, 0xafc3, 0x0, 0xdcd6, 0x5c5a, 0x6d32, 0x1, 0x0);
        gbc.writeMem(0x2ae9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xafc3);
        EXPECT(gbc.pc(), 0x2aeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0108
        gbc.setState(0xcc3a, 0x1be4, 0xf250, 0xefe8, 0x4c4, 0x58f6, 0x0, 0x1);
        gbc.writeMem(0xcc3a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1be4);
        EXPECT(gbc.pc(), 0xcc3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc3a), 0xcb);
        EXPECT(gbc.readMem(0xcc3b), 0x85);
        // CB 85 0109
        gbc.setState(0xac68, 0x7f68, 0x6970, 0x4701, 0xdd32, 0xbf79, 0x1, 0x1);
        gbc.writeMem(0xac68, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7f68);
        EXPECT(gbc.pc(), 0xac6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac68), 0xcb);
        EXPECT(gbc.readMem(0xac69), 0x85);
        // CB 85 010A
        gbc.setState(0xdb81, 0x5214, 0x5070, 0xeb1d, 0x9997, 0xcd13, 0x0, 0x1);
        gbc.writeMem(0xdb81, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5214);
        EXPECT(gbc.pc(), 0xdb83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb81), 0xcb);
        EXPECT(gbc.readMem(0xdb82), 0x85);
        // CB 85 010C
        gbc.setState(0x14fa, 0xc5f1, 0x6300, 0x203c, 0xc795, 0xfbac, 0x0, 0x0);
        gbc.writeMem(0x14fa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc5f1);
        EXPECT(gbc.pc(), 0x14fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 010D
        gbc.setState(0xac7c, 0x9df3, 0x78f0, 0xa132, 0x45ef, 0x5218, 0x0, 0x0);
        gbc.writeMem(0xac7c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9df3);
        EXPECT(gbc.pc(), 0xac7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac7c), 0xcb);
        EXPECT(gbc.readMem(0xac7d), 0x85);
        // CB 85 010F
        gbc.setState(0x15d4, 0xfa5c, 0x1040, 0x886e, 0xec0b, 0x7841, 0x0, 0x0);
        gbc.writeMem(0x15d4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfa5c);
        EXPECT(gbc.pc(), 0x15d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0110
        gbc.setState(0x7e09, 0x5fc8, 0xa990, 0xba0f, 0xf24f, 0xa53b, 0x1, 0x1);
        gbc.writeMem(0x7e09, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5fc8);
        EXPECT(gbc.pc(), 0x7e0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0111
        gbc.setState(0x4db9, 0x2eb6, 0x8890, 0xb707, 0x814d, 0x6aa9, 0x1, 0x1);
        gbc.writeMem(0x4db9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2eb6);
        EXPECT(gbc.pc(), 0x4dbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0112
        gbc.setState(0xd833, 0x56ff, 0xe0b0, 0x813a, 0xb100, 0x8045, 0x1, 0x0);
        gbc.writeMem(0xd833, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x56ff);
        EXPECT(gbc.pc(), 0xd835);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd833), 0xcb);
        EXPECT(gbc.readMem(0xd834), 0x85);
        // CB 85 0113
        gbc.setState(0x4fcb, 0x6d0c, 0x4500, 0xe7ef, 0x56b7, 0x7199, 0x0, 0x1);
        gbc.writeMem(0x4fcb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6d0c);
        EXPECT(gbc.pc(), 0x4fcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0114
        gbc.setState(0x7d16, 0x3ef1, 0xafe0, 0x5a6d, 0x65bb, 0x47c7, 0x0, 0x1);
        gbc.writeMem(0x7d16, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3ef1);
        EXPECT(gbc.pc(), 0x7d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0115
        gbc.setState(0xe49b, 0x59f5, 0xb990, 0x3fca, 0xc50b, 0x8253, 0x0, 0x0);
        gbc.writeMem(0xe49b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x59f5);
        EXPECT(gbc.pc(), 0xe49d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe49b), 0xcb);
        EXPECT(gbc.readMem(0xe49c), 0x85);
        // CB 85 0116
        gbc.setState(0x9f89, 0x275, 0xb90, 0xbb69, 0xc7d, 0x5710, 0x1, 0x0);
        gbc.writeMem(0x9f89, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x275);
        EXPECT(gbc.pc(), 0x9f8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f89), 0xcb);
        EXPECT(gbc.readMem(0x9f8a), 0x85);
        // CB 85 0117
        gbc.setState(0x837f, 0xc35e, 0x8290, 0xd50, 0x919a, 0x52d0, 0x1, 0x0);
        gbc.writeMem(0x837f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc35e);
        EXPECT(gbc.pc(), 0x8381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x837f), 0xcb);
        EXPECT(gbc.readMem(0x8380), 0x85);
        // CB 85 0118
        gbc.setState(0x83f5, 0x450c, 0x1ee0, 0xfa6e, 0xa311, 0xc8e, 0x0, 0x1);
        gbc.writeMem(0x83f5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x450c);
        EXPECT(gbc.pc(), 0x83f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f5), 0xcb);
        EXPECT(gbc.readMem(0x83f6), 0x85);
        // CB 85 0119
        gbc.setState(0xd4db, 0x22c9, 0xdc0, 0xff21, 0xd469, 0x43b5, 0x0, 0x1);
        gbc.writeMem(0xd4db, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x22c9);
        EXPECT(gbc.pc(), 0xd4dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4db), 0xcb);
        EXPECT(gbc.readMem(0xd4dc), 0x85);
        // CB 85 011A
        gbc.setState(0xa0e2, 0x74b2, 0x43a0, 0xb4f0, 0xbc4a, 0xa09d, 0x0, 0x0);
        gbc.writeMem(0xa0e2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x74b2);
        EXPECT(gbc.pc(), 0xa0e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e2), 0xcb);
        EXPECT(gbc.readMem(0xa0e3), 0x85);
        // CB 85 011B
        gbc.setState(0xcb93, 0x88d5, 0xfc00, 0x787a, 0x9db5, 0x11f3, 0x0, 0x0);
        gbc.writeMem(0xcb93, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x88d5);
        EXPECT(gbc.pc(), 0xcb95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb93), 0xcb);
        EXPECT(gbc.readMem(0xcb94), 0x85);
        // CB 85 011C
        gbc.setState(0x67f1, 0x901b, 0x8890, 0xa1f1, 0x7d7e, 0x1c18, 0x0, 0x1);
        gbc.writeMem(0x67f1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x901b);
        EXPECT(gbc.pc(), 0x67f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 011D
        gbc.setState(0xd469, 0x16b9, 0x9e30, 0xe35d, 0xa681, 0x7c3, 0x1, 0x1);
        gbc.writeMem(0xd469, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x16b9);
        EXPECT(gbc.pc(), 0xd46b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd469), 0xcb);
        EXPECT(gbc.readMem(0xd46a), 0x85);
        // CB 85 011E
        gbc.setState(0x37b8, 0x9b12, 0x8180, 0x4bc, 0x649, 0x4d45, 0x0, 0x1);
        gbc.writeMem(0x37b8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9b12);
        EXPECT(gbc.pc(), 0x37ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 011F
        gbc.setState(0x958a, 0x646b, 0x7910, 0xd2f8, 0x8d1e, 0x6072, 0x0, 0x1);
        gbc.writeMem(0x958a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x646b);
        EXPECT(gbc.pc(), 0x958c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958a), 0xcb);
        EXPECT(gbc.readMem(0x958b), 0x85);
        // CB 85 0120
        gbc.setState(0xa110, 0x112f, 0xbd30, 0x623c, 0xcc5c, 0xbc37, 0x0, 0x0);
        gbc.writeMem(0xa110, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x112f);
        EXPECT(gbc.pc(), 0xa112);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa110), 0xcb);
        EXPECT(gbc.readMem(0xa111), 0x85);
        // CB 85 0121
        gbc.setState(0x8d98, 0x6ae7, 0x20b0, 0x98c1, 0x64a7, 0x9a02, 0x0, 0x1);
        gbc.writeMem(0x8d98, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x6ae7);
        EXPECT(gbc.pc(), 0x8d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d98), 0xcb);
        EXPECT(gbc.readMem(0x8d99), 0x85);
        // CB 85 0122
        gbc.setState(0xbc44, 0xbf35, 0x3310, 0xa4fe, 0x673a, 0xbde8, 0x1, 0x0);
        gbc.writeMem(0xbc44, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xbf35);
        EXPECT(gbc.pc(), 0xbc46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc44), 0xcb);
        EXPECT(gbc.readMem(0xbc45), 0x85);
        // CB 85 0123
        gbc.setState(0x5098, 0x637a, 0xb2e0, 0x581c, 0x500f, 0xb4db, 0x0, 0x1);
        gbc.writeMem(0x5098, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x637a);
        EXPECT(gbc.pc(), 0x509a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0124
        gbc.setState(0xaeb4, 0x669, 0x7f0, 0xf3e5, 0x9f47, 0x5998, 0x1, 0x1);
        gbc.writeMem(0xaeb4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x669);
        EXPECT(gbc.pc(), 0xaeb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeb4), 0xcb);
        EXPECT(gbc.readMem(0xaeb5), 0x85);
        // CB 85 0125
        gbc.setState(0xb761, 0x3d6b, 0xf900, 0xf50, 0x544f, 0xd731, 0x1, 0x1);
        gbc.writeMem(0xb761, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3d6b);
        EXPECT(gbc.pc(), 0xb763);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb761), 0xcb);
        EXPECT(gbc.readMem(0xb762), 0x85);
        // CB 85 0126
        gbc.setState(0x9260, 0x43db, 0xf070, 0x243c, 0x3ad7, 0x6743, 0x0, 0x1);
        gbc.writeMem(0x9260, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x43db);
        EXPECT(gbc.pc(), 0x9262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9260), 0xcb);
        EXPECT(gbc.readMem(0x9261), 0x85);
        // CB 85 0127
        gbc.setState(0x9871, 0x1a7, 0x7f60, 0x8bf1, 0xb88d, 0xe656, 0x1, 0x0);
        gbc.writeMem(0x9871, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1a7);
        EXPECT(gbc.pc(), 0x9873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9871), 0xcb);
        EXPECT(gbc.readMem(0x9872), 0x85);
        // CB 85 0128
        gbc.setState(0x1836, 0xd1ba, 0xaaf0, 0x1c6f, 0xb265, 0x125d, 0x1, 0x1);
        gbc.writeMem(0x1836, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd1ba);
        EXPECT(gbc.pc(), 0x1838);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0129
        gbc.setState(0xaabe, 0xc16, 0xb470, 0x1a9a, 0xb674, 0x18b0, 0x1, 0x0);
        gbc.writeMem(0xaabe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc16);
        EXPECT(gbc.pc(), 0xaac0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaabe), 0xcb);
        EXPECT(gbc.readMem(0xaabf), 0x85);
        // CB 85 012A
        gbc.setState(0x2fd4, 0x6b3a, 0x4af0, 0xb1c7, 0x9f4, 0xebb5, 0x0, 0x1);
        gbc.writeMem(0x2fd4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6b3a);
        EXPECT(gbc.pc(), 0x2fd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 012B
        gbc.setState(0x8071, 0x7ebe, 0xf30, 0x28a4, 0x967e, 0x8de8, 0x1, 0x1);
        gbc.writeMem(0x8071, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7ebe);
        EXPECT(gbc.pc(), 0x8073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8071), 0xcb);
        EXPECT(gbc.readMem(0x8072), 0x85);
        // CB 85 012C
        gbc.setState(0x30d, 0xaf78, 0x4880, 0xb76, 0xd271, 0x580b, 0x1, 0x1);
        gbc.writeMem(0x30d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xaf78);
        EXPECT(gbc.pc(), 0x30f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 012D
        gbc.setState(0x1076, 0x114f, 0xb9a0, 0xff46, 0x8716, 0xcc9d, 0x1, 0x0);
        gbc.writeMem(0x1076, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x114f);
        EXPECT(gbc.pc(), 0x1078);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 012E
        gbc.setState(0x10c8, 0x8059, 0x9f00, 0x4d3b, 0xdace, 0xb4e9, 0x1, 0x1);
        gbc.writeMem(0x10c8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x8059);
        EXPECT(gbc.pc(), 0x10ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 012F
        gbc.setState(0xd975, 0x8aed, 0x93a0, 0xf0aa, 0xb60c, 0xc865, 0x1, 0x1);
        gbc.writeMem(0xd975, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x8aed);
        EXPECT(gbc.pc(), 0xd977);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd975), 0xcb);
        EXPECT(gbc.readMem(0xd976), 0x85);
        // CB 85 0130
        gbc.setState(0xc43f, 0x5184, 0x69c0, 0x810, 0x5fce, 0xe469, 0x1, 0x1);
        gbc.writeMem(0xc43f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5184);
        EXPECT(gbc.pc(), 0xc441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc43f), 0xcb);
        EXPECT(gbc.readMem(0xc440), 0x85);
        // CB 85 0131
        gbc.setState(0x5d03, 0x29b2, 0x9470, 0xbdb8, 0xefcc, 0x25d6, 0x0, 0x0);
        gbc.writeMem(0x5d03, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x29b2);
        EXPECT(gbc.pc(), 0x5d05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0132
        gbc.setState(0x553b, 0x64b3, 0x7060, 0x4150, 0x515f, 0xc671, 0x0, 0x0);
        gbc.writeMem(0x553b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x64b3);
        EXPECT(gbc.pc(), 0x553d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0133
        gbc.setState(0x15a5, 0x4b15, 0xb480, 0x2b4c, 0xdb3f, 0x38e1, 0x0, 0x1);
        gbc.writeMem(0x15a5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4b15);
        EXPECT(gbc.pc(), 0x15a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0134
        gbc.setState(0xc500, 0xbefa, 0xa040, 0xcb22, 0xd006, 0xe8ae, 0x1, 0x1);
        gbc.writeMem(0xc500, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xbefa);
        EXPECT(gbc.pc(), 0xc502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc500), 0xcb);
        EXPECT(gbc.readMem(0xc501), 0x85);
        // CB 85 0135
        gbc.setState(0x3628, 0xab31, 0xad90, 0x4b57, 0xea74, 0x62df, 0x0, 0x0);
        gbc.writeMem(0x3628, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xab31);
        EXPECT(gbc.pc(), 0x362a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0136
        gbc.setState(0xbdb5, 0x470a, 0x37d0, 0xfc92, 0x8269, 0x5f6f, 0x1, 0x0);
        gbc.writeMem(0xbdb5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x470a);
        EXPECT(gbc.pc(), 0xbdb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdb5), 0xcb);
        EXPECT(gbc.readMem(0xbdb6), 0x85);
        // CB 85 0137
        gbc.setState(0x71e3, 0xf5e6, 0xede0, 0x51e1, 0x50ef, 0x3ffe, 0x1, 0x1);
        gbc.writeMem(0x71e3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf5e6);
        EXPECT(gbc.pc(), 0x71e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0138
        gbc.setState(0xa0f2, 0xf050, 0xb0a0, 0x863f, 0x9012, 0xfb, 0x1, 0x0);
        gbc.writeMem(0xa0f2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf050);
        EXPECT(gbc.pc(), 0xa0f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0f2), 0xcb);
        EXPECT(gbc.readMem(0xa0f3), 0x85);
        // CB 85 0139
        gbc.setState(0x8929, 0xdd51, 0xa480, 0x5adc, 0xe6e8, 0x8bf4, 0x1, 0x0);
        gbc.writeMem(0x8929, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdd51);
        EXPECT(gbc.pc(), 0x892b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8929), 0xcb);
        EXPECT(gbc.readMem(0x892a), 0x85);
        // CB 85 013A
        gbc.setState(0x1259, 0xc065, 0x4230, 0xd979, 0x5cd, 0xb35a, 0x0, 0x1);
        gbc.writeMem(0x1259, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc065);
        EXPECT(gbc.pc(), 0x125b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 013B
        gbc.setState(0xe1c5, 0xee49, 0xa2f0, 0x3aba, 0x38b0, 0xf3de, 0x0, 0x1);
        gbc.writeMem(0xe1c5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xee49);
        EXPECT(gbc.pc(), 0xe1c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c5), 0xcb);
        EXPECT(gbc.readMem(0xe1c6), 0x85);
        // CB 85 013C
        gbc.setState(0xd614, 0x4c8b, 0x8680, 0x23b5, 0x4308, 0xe323, 0x0, 0x0);
        gbc.writeMem(0xd614, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4c8b);
        EXPECT(gbc.pc(), 0xd616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd614), 0xcb);
        EXPECT(gbc.readMem(0xd615), 0x85);
        // CB 85 013D
        gbc.setState(0xd926, 0xc051, 0x7600, 0x1057, 0x99bd, 0x4cb9, 0x1, 0x0);
        gbc.writeMem(0xd926, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc051);
        EXPECT(gbc.pc(), 0xd928);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd926), 0xcb);
        EXPECT(gbc.readMem(0xd927), 0x85);
        // CB 85 013E
        gbc.setState(0xed20, 0x5464, 0x69a0, 0xabbc, 0xbc8e, 0x14db, 0x0, 0x0);
        gbc.writeMem(0xed20, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5464);
        EXPECT(gbc.pc(), 0xed22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed20), 0xcb);
        EXPECT(gbc.readMem(0xed21), 0x85);
        // CB 85 013F
        gbc.setState(0x7830, 0x7572, 0x24f0, 0x56be, 0x28f0, 0xc385, 0x0, 0x1);
        gbc.writeMem(0x7830, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7572);
        EXPECT(gbc.pc(), 0x7832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0142
        gbc.setState(0xe920, 0xf660, 0x9aa0, 0x5971, 0xad05, 0x91b1, 0x0, 0x1);
        gbc.writeMem(0xe920, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf660);
        EXPECT(gbc.pc(), 0xe922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe920), 0xcb);
        EXPECT(gbc.readMem(0xe921), 0x85);
        // CB 85 0143
        gbc.setState(0x5c43, 0x6258, 0xd7c0, 0x9e87, 0xcbd1, 0x7d75, 0x0, 0x0);
        gbc.writeMem(0x5c43, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6258);
        EXPECT(gbc.pc(), 0x5c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0144
        gbc.setState(0xc778, 0x210b, 0x2dc0, 0x4b2e, 0xf13f, 0x7ec9, 0x0, 0x1);
        gbc.writeMem(0xc778, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x210b);
        EXPECT(gbc.pc(), 0xc77a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc778), 0xcb);
        EXPECT(gbc.readMem(0xc779), 0x85);
        // CB 85 0145
        gbc.setState(0x71d4, 0x827d, 0xd1c0, 0xf021, 0x74d9, 0x6742, 0x1, 0x1);
        gbc.writeMem(0x71d4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x827d);
        EXPECT(gbc.pc(), 0x71d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0146
        gbc.setState(0xa34c, 0x619c, 0xf840, 0x674d, 0x1644, 0x8b7d, 0x0, 0x1);
        gbc.writeMem(0xa34c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x619c);
        EXPECT(gbc.pc(), 0xa34e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa34c), 0xcb);
        EXPECT(gbc.readMem(0xa34d), 0x85);
        // CB 85 0147
        gbc.setState(0x2206, 0x4501, 0xaf0, 0xc3fc, 0x34f3, 0xf48b, 0x1, 0x1);
        gbc.writeMem(0x2206, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x4501);
        EXPECT(gbc.pc(), 0x2208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0148
        gbc.setState(0x6e7, 0x899b, 0x1eb0, 0xd524, 0x915, 0xb01e, 0x0, 0x0);
        gbc.writeMem(0x6e7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x899b);
        EXPECT(gbc.pc(), 0x6e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0149
        gbc.setState(0xad7d, 0x3297, 0xac0, 0xce58, 0x3070, 0xd342, 0x0, 0x1);
        gbc.writeMem(0xad7d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3297);
        EXPECT(gbc.pc(), 0xad7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7d), 0xcb);
        EXPECT(gbc.readMem(0xad7e), 0x85);
        // CB 85 014A
        gbc.setState(0x3b2a, 0xf0e7, 0x74a0, 0x9598, 0x7df4, 0xc10f, 0x0, 0x1);
        gbc.writeMem(0x3b2a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf0e7);
        EXPECT(gbc.pc(), 0x3b2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 014B
        gbc.setState(0x8a3, 0xfeb1, 0x2230, 0xcdaa, 0x5437, 0xe1d3, 0x0, 0x1);
        gbc.writeMem(0x8a3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xfeb1);
        EXPECT(gbc.pc(), 0x8a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 014C
        gbc.setState(0xaa54, 0xb958, 0x6cd0, 0xfb92, 0x233e, 0x527e, 0x1, 0x1);
        gbc.writeMem(0xaa54, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb958);
        EXPECT(gbc.pc(), 0xaa56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa54), 0xcb);
        EXPECT(gbc.readMem(0xaa55), 0x85);
        // CB 85 014D
        gbc.setState(0x6dd6, 0x603a, 0x9730, 0x70b, 0x79b4, 0x6961, 0x1, 0x0);
        gbc.writeMem(0x6dd6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x603a);
        EXPECT(gbc.pc(), 0x6dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 014E
        gbc.setState(0x6ae8, 0x12fd, 0x6df0, 0xb52c, 0xcebb, 0xac4c, 0x1, 0x1);
        gbc.writeMem(0x6ae8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x12fd);
        EXPECT(gbc.pc(), 0x6aea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 014F
        gbc.setState(0xfef, 0xa950, 0x1c80, 0xe6b1, 0x9d0e, 0x7f7b, 0x1, 0x0);
        gbc.writeMem(0xfef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa950);
        EXPECT(gbc.pc(), 0xff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0150
        gbc.setState(0x33ac, 0xda3, 0xc250, 0x9344, 0x1aad, 0x119c, 0x1, 0x1);
        gbc.writeMem(0x33ac, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xda3);
        EXPECT(gbc.pc(), 0x33ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0151
        gbc.setState(0x54c1, 0x32b3, 0xcfc0, 0xfd97, 0x9ca3, 0x5c15, 0x0, 0x1);
        gbc.writeMem(0x54c1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x32b3);
        EXPECT(gbc.pc(), 0x54c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0152
        gbc.setState(0x9d8d, 0x1ce4, 0x79d0, 0x99e, 0x9ef4, 0x5df1, 0x0, 0x0);
        gbc.writeMem(0x9d8d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1ce4);
        EXPECT(gbc.pc(), 0x9d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d8d), 0xcb);
        EXPECT(gbc.readMem(0x9d8e), 0x85);
        // CB 85 0153
        gbc.setState(0x8d57, 0xc753, 0x5f20, 0xe654, 0x7511, 0xa309, 0x0, 0x0);
        gbc.writeMem(0x8d57, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xc753);
        EXPECT(gbc.pc(), 0x8d59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d57), 0xcb);
        EXPECT(gbc.readMem(0x8d58), 0x85);
        // CB 85 0154
        gbc.setState(0xeeac, 0x8d10, 0xd410, 0x1e07, 0x1fb8, 0x7a8d, 0x0, 0x0);
        gbc.writeMem(0xeeac, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8d10);
        EXPECT(gbc.pc(), 0xeeae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeac), 0xcb);
        EXPECT(gbc.readMem(0xeead), 0x85);
        // CB 85 0155
        gbc.setState(0x8307, 0xb141, 0xb850, 0xf34c, 0x3f44, 0x139, 0x1, 0x0);
        gbc.writeMem(0x8307, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb141);
        EXPECT(gbc.pc(), 0x8309);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8307), 0xcb);
        EXPECT(gbc.readMem(0x8308), 0x85);
        // CB 85 0156
        gbc.setState(0x390, 0x3aa9, 0x5e20, 0x379, 0x4310, 0x4cfb, 0x1, 0x0);
        gbc.writeMem(0x390, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3aa9);
        EXPECT(gbc.pc(), 0x392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0157
        gbc.setState(0x722c, 0xcef3, 0xc250, 0x9d5d, 0x33c1, 0xeccc, 0x1, 0x0);
        gbc.writeMem(0x722c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xcef3);
        EXPECT(gbc.pc(), 0x722e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0158
        gbc.setState(0xcadd, 0x9cae, 0x1bd0, 0x11c7, 0x82, 0x18a8, 0x0, 0x1);
        gbc.writeMem(0xcadd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9cae);
        EXPECT(gbc.pc(), 0xcadf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcadd), 0xcb);
        EXPECT(gbc.readMem(0xcade), 0x85);
        // CB 85 0159
        gbc.setState(0x7126, 0xf11, 0x2430, 0xd38f, 0x3b4d, 0xfa1, 0x1, 0x0);
        gbc.writeMem(0x7126, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf11);
        EXPECT(gbc.pc(), 0x7128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 015A
        gbc.setState(0x6b8, 0xf46c, 0xc810, 0x7e55, 0x7ec3, 0x4e26, 0x0, 0x1);
        gbc.writeMem(0x6b8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf46c);
        EXPECT(gbc.pc(), 0x6ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 015B
        gbc.setState(0xc96e, 0x2270, 0xfe40, 0xcc48, 0xfef, 0xe071, 0x1, 0x0);
        gbc.writeMem(0xc96e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2270);
        EXPECT(gbc.pc(), 0xc970);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc96e), 0xcb);
        EXPECT(gbc.readMem(0xc96f), 0x85);
        // CB 85 015C
        gbc.setState(0xe928, 0xe6b3, 0x940, 0x9abe, 0x2672, 0x932, 0x1, 0x0);
        gbc.writeMem(0xe928, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe6b3);
        EXPECT(gbc.pc(), 0xe92a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe928), 0xcb);
        EXPECT(gbc.readMem(0xe929), 0x85);
        // CB 85 015D
        gbc.setState(0x1274, 0x8bc0, 0xa840, 0x7117, 0x8a58, 0x335f, 0x0, 0x1);
        gbc.writeMem(0x1274, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8bc0);
        EXPECT(gbc.pc(), 0x1276);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 015E
        gbc.setState(0xcd1c, 0x471c, 0x6380, 0x8426, 0xc65e, 0x7d7f, 0x1, 0x1);
        gbc.writeMem(0xcd1c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x471c);
        EXPECT(gbc.pc(), 0xcd1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd1c), 0xcb);
        EXPECT(gbc.readMem(0xcd1d), 0x85);
        // CB 85 015F
        gbc.setState(0xe7c1, 0x4170, 0x620, 0x465b, 0x6823, 0x6567, 0x0, 0x0);
        gbc.writeMem(0xe7c1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4170);
        EXPECT(gbc.pc(), 0xe7c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c1), 0xcb);
        EXPECT(gbc.readMem(0xe7c2), 0x85);
        // CB 85 0160
        gbc.setState(0x15e7, 0x5ada, 0xaf00, 0x23ef, 0x360e, 0xe94f, 0x0, 0x0);
        gbc.writeMem(0x15e7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5ada);
        EXPECT(gbc.pc(), 0x15e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0161
        gbc.setState(0xbdb3, 0x6c0b, 0xd960, 0x993c, 0xa464, 0xcf57, 0x0, 0x1);
        gbc.writeMem(0xbdb3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6c0b);
        EXPECT(gbc.pc(), 0xbdb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdb3), 0xcb);
        EXPECT(gbc.readMem(0xbdb4), 0x85);
        // CB 85 0162
        gbc.setState(0x13ec, 0x87cb, 0xfd70, 0xcc59, 0x2203, 0x9756, 0x1, 0x1);
        gbc.writeMem(0x13ec, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x87cb);
        EXPECT(gbc.pc(), 0x13ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0163
        gbc.setState(0xe1a6, 0x2b45, 0x1090, 0xaae0, 0x4740, 0xe399, 0x0, 0x0);
        gbc.writeMem(0xe1a6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2b45);
        EXPECT(gbc.pc(), 0xe1a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1a6), 0xcb);
        EXPECT(gbc.readMem(0xe1a7), 0x85);
        // CB 85 0164
        gbc.setState(0x63c7, 0x8666, 0x1af0, 0xebc5, 0xc325, 0x5f0a, 0x0, 0x0);
        gbc.writeMem(0x63c7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8666);
        EXPECT(gbc.pc(), 0x63c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0165
        gbc.setState(0x731a, 0x8797, 0xd2c0, 0xb81a, 0x8df, 0x7096, 0x0, 0x1);
        gbc.writeMem(0x731a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8797);
        EXPECT(gbc.pc(), 0x731c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0166
        gbc.setState(0xee2e, 0x1a69, 0x4600, 0x130f, 0x5a95, 0xe201, 0x1, 0x1);
        gbc.writeMem(0xee2e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1a69);
        EXPECT(gbc.pc(), 0xee30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee2e), 0xcb);
        EXPECT(gbc.readMem(0xee2f), 0x85);
        // CB 85 0167
        gbc.setState(0x39fc, 0x6b48, 0x5530, 0x625f, 0xfab, 0x81d7, 0x1, 0x1);
        gbc.writeMem(0x39fc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x6b48);
        EXPECT(gbc.pc(), 0x39fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0168
        gbc.setState(0x3eef, 0x7d30, 0x4d60, 0xe90, 0xd3ae, 0xf60f, 0x0, 0x0);
        gbc.writeMem(0x3eef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7d30);
        EXPECT(gbc.pc(), 0x3ef1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0169
        gbc.setState(0x2ac0, 0x96a3, 0xfe00, 0xdef9, 0x1bd3, 0x2cb2, 0x1, 0x0);
        gbc.writeMem(0x2ac0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x96a3);
        EXPECT(gbc.pc(), 0x2ac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 016A
        gbc.setState(0x4964, 0xf682, 0xeb10, 0xc684, 0x71ca, 0x4a9f, 0x0, 0x0);
        gbc.writeMem(0x4964, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xf682);
        EXPECT(gbc.pc(), 0x4966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 016B
        gbc.setState(0xa45d, 0xbad9, 0x96a0, 0x3dc5, 0x8740, 0x9d5, 0x1, 0x0);
        gbc.writeMem(0xa45d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbad9);
        EXPECT(gbc.pc(), 0xa45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa45d), 0xcb);
        EXPECT(gbc.readMem(0xa45e), 0x85);
        // CB 85 016C
        gbc.setState(0x17bd, 0x4b2b, 0x6220, 0x4026, 0x4bad, 0x28a1, 0x0, 0x1);
        gbc.writeMem(0x17bd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4b2b);
        EXPECT(gbc.pc(), 0x17bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 016D
        gbc.setState(0xe488, 0x108f, 0xf3c0, 0x4340, 0xc06f, 0xef6c, 0x0, 0x0);
        gbc.writeMem(0xe488, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x108f);
        EXPECT(gbc.pc(), 0xe48a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe488), 0xcb);
        EXPECT(gbc.readMem(0xe489), 0x85);
        // CB 85 016E
        gbc.setState(0x6d6a, 0xc2b8, 0x4c40, 0x9b65, 0xcf66, 0x5eb3, 0x1, 0x1);
        gbc.writeMem(0x6d6a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc2b8);
        EXPECT(gbc.pc(), 0x6d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 016F
        gbc.setState(0xcd64, 0xe99e, 0xb9e0, 0x5560, 0x7e81, 0xe957, 0x1, 0x0);
        gbc.writeMem(0xcd64, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe99e);
        EXPECT(gbc.pc(), 0xcd66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd64), 0xcb);
        EXPECT(gbc.readMem(0xcd65), 0x85);
        // CB 85 0170
        gbc.setState(0x6c8e, 0xbf1b, 0xc880, 0x901d, 0xe902, 0x4dea, 0x0, 0x1);
        gbc.writeMem(0x6c8e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbf1b);
        EXPECT(gbc.pc(), 0x6c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0172
        gbc.setState(0x12cd, 0xd2c, 0x19f0, 0x40d7, 0xba9d, 0x90d4, 0x0, 0x1);
        gbc.writeMem(0x12cd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd2c);
        EXPECT(gbc.pc(), 0x12cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0173
        gbc.setState(0xc8b8, 0x93bd, 0xf30, 0xef11, 0x160b, 0x6865, 0x1, 0x0);
        gbc.writeMem(0xc8b8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x93bd);
        EXPECT(gbc.pc(), 0xc8ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b8), 0xcb);
        EXPECT(gbc.readMem(0xc8b9), 0x85);
        // CB 85 0175
        gbc.setState(0xba1d, 0x6618, 0x1240, 0x58a5, 0xbeff, 0xfd48, 0x0, 0x1);
        gbc.writeMem(0xba1d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6618);
        EXPECT(gbc.pc(), 0xba1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba1d), 0xcb);
        EXPECT(gbc.readMem(0xba1e), 0x85);
        // CB 85 0176
        gbc.setState(0xc31a, 0x257f, 0xb530, 0x228c, 0x3968, 0xc9b6, 0x1, 0x0);
        gbc.writeMem(0xc31a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x257f);
        EXPECT(gbc.pc(), 0xc31c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc31a), 0xcb);
        EXPECT(gbc.readMem(0xc31b), 0x85);
        // CB 85 0177
        gbc.setState(0x58a6, 0x459d, 0xfe10, 0xd5a9, 0xd093, 0x86bc, 0x1, 0x0);
        gbc.writeMem(0x58a6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x459d);
        EXPECT(gbc.pc(), 0x58a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0178
        gbc.setState(0xcc68, 0x4b19, 0xeaf0, 0x23e4, 0x48a, 0x31aa, 0x0, 0x0);
        gbc.writeMem(0xcc68, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x4b19);
        EXPECT(gbc.pc(), 0xcc6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc68), 0xcb);
        EXPECT(gbc.readMem(0xcc69), 0x85);
        // CB 85 0179
        gbc.setState(0x7b2f, 0x93b, 0xd370, 0xba6e, 0x869d, 0x3c23, 0x0, 0x1);
        gbc.writeMem(0x7b2f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x93b);
        EXPECT(gbc.pc(), 0x7b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 017A
        gbc.setState(0x4bf7, 0x4b3, 0x22a0, 0xd236, 0x97bd, 0xfd38, 0x0, 0x1);
        gbc.writeMem(0x4bf7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x4b3);
        EXPECT(gbc.pc(), 0x4bf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 017B
        gbc.setState(0xc0a4, 0x5165, 0x8de0, 0x7a00, 0xbacb, 0x6623, 0x1, 0x1);
        gbc.writeMem(0xc0a4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x5165);
        EXPECT(gbc.pc(), 0xc0a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0a4), 0xcb);
        EXPECT(gbc.readMem(0xc0a5), 0x85);
        // CB 85 017C
        gbc.setState(0x8fa3, 0xebd9, 0x910, 0xe45a, 0xfcd6, 0xd9ef, 0x1, 0x0);
        gbc.writeMem(0x8fa3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xebd9);
        EXPECT(gbc.pc(), 0x8fa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa3), 0xcb);
        EXPECT(gbc.readMem(0x8fa4), 0x85);
        // CB 85 017D
        gbc.setState(0x4051, 0x92af, 0x70, 0xd9fc, 0xf88e, 0x6d43, 0x0, 0x1);
        gbc.writeMem(0x4051, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x92af);
        EXPECT(gbc.pc(), 0x4053);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 017E
        gbc.setState(0x5886, 0xa9a2, 0xd020, 0x214f, 0xc79c, 0x6fbd, 0x0, 0x0);
        gbc.writeMem(0x5886, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa9a2);
        EXPECT(gbc.pc(), 0x5888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 017F
        gbc.setState(0x865e, 0xdc2d, 0x5d70, 0xb84, 0x6d2, 0xcb1f, 0x1, 0x0);
        gbc.writeMem(0x865e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xdc2d);
        EXPECT(gbc.pc(), 0x8660);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x865e), 0xcb);
        EXPECT(gbc.readMem(0x865f), 0x85);
        // CB 85 0180
        gbc.setState(0xe6cb, 0x66c1, 0x5760, 0x90c2, 0x2ddb, 0x99d2, 0x1, 0x1);
        gbc.writeMem(0xe6cb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x66c1);
        EXPECT(gbc.pc(), 0xe6cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6cb), 0xcb);
        EXPECT(gbc.readMem(0xe6cc), 0x85);
        // CB 85 0181
        gbc.setState(0x37ff, 0xc877, 0x5800, 0xf0b8, 0x806, 0xccf7, 0x1, 0x1);
        gbc.writeMem(0x37ff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc877);
        EXPECT(gbc.pc(), 0x3801);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0182
        gbc.setState(0x29af, 0x3f47, 0x5ac0, 0x5155, 0x7360, 0xbacc, 0x1, 0x1);
        gbc.writeMem(0x29af, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3f47);
        EXPECT(gbc.pc(), 0x29b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0183
        gbc.setState(0xaf63, 0x18e3, 0xa670, 0x554b, 0x1648, 0xce05, 0x0, 0x1);
        gbc.writeMem(0xaf63, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x18e3);
        EXPECT(gbc.pc(), 0xaf65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf63), 0xcb);
        EXPECT(gbc.readMem(0xaf64), 0x85);
        // CB 85 0184
        gbc.setState(0x63df, 0x8523, 0x86b0, 0x13c4, 0xe8e6, 0x3b9, 0x1, 0x1);
        gbc.writeMem(0x63df, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8523);
        EXPECT(gbc.pc(), 0x63e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0185
        gbc.setState(0xbdcd, 0x5ac3, 0x6f70, 0x12a8, 0x9a25, 0xb82d, 0x1, 0x0);
        gbc.writeMem(0xbdcd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x5ac3);
        EXPECT(gbc.pc(), 0xbdcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdcd), 0xcb);
        EXPECT(gbc.readMem(0xbdce), 0x85);
        // CB 85 0187
        gbc.setState(0x4193, 0x891d, 0x2190, 0x66a4, 0x9f82, 0xc344, 0x1, 0x0);
        gbc.writeMem(0x4193, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x891d);
        EXPECT(gbc.pc(), 0x4195);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0188
        gbc.setState(0x9e82, 0x96fb, 0x29f0, 0x9d31, 0xc111, 0xd22a, 0x0, 0x1);
        gbc.writeMem(0x9e82, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x96fb);
        EXPECT(gbc.pc(), 0x9e84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e82), 0xcb);
        EXPECT(gbc.readMem(0x9e83), 0x85);
        // CB 85 0189
        gbc.setState(0x8ba4, 0x6495, 0x1a30, 0x2948, 0xe086, 0x5ba, 0x1, 0x0);
        gbc.writeMem(0x8ba4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6495);
        EXPECT(gbc.pc(), 0x8ba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ba4), 0xcb);
        EXPECT(gbc.readMem(0x8ba5), 0x85);
        // CB 85 018A
        gbc.setState(0x229e, 0x1d13, 0x5160, 0x7596, 0x99fd, 0x18b3, 0x0, 0x1);
        gbc.writeMem(0x229e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1d13);
        EXPECT(gbc.pc(), 0x22a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 018B
        gbc.setState(0xc4c1, 0x7e32, 0x66c0, 0xe740, 0xe6a7, 0xee6e, 0x0, 0x0);
        gbc.writeMem(0xc4c1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7e32);
        EXPECT(gbc.pc(), 0xc4c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c1), 0xcb);
        EXPECT(gbc.readMem(0xc4c2), 0x85);
        // CB 85 018C
        gbc.setState(0x3685, 0x9784, 0x6830, 0xae18, 0xe4ab, 0x6f1, 0x0, 0x1);
        gbc.writeMem(0x3685, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9784);
        EXPECT(gbc.pc(), 0x3687);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 018D
        gbc.setState(0x82ab, 0xa4fc, 0xcd40, 0xefd, 0x2939, 0x340, 0x1, 0x0);
        gbc.writeMem(0x82ab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa4fc);
        EXPECT(gbc.pc(), 0x82ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ab), 0xcb);
        EXPECT(gbc.readMem(0x82ac), 0x85);
        // CB 85 018E
        gbc.setState(0x5233, 0x325e, 0x56f0, 0x1bab, 0xd7b, 0x95db, 0x0, 0x0);
        gbc.writeMem(0x5233, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x325e);
        EXPECT(gbc.pc(), 0x5235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 018F
        gbc.setState(0x5d9, 0x1910, 0xc5e0, 0x21a7, 0x6cc8, 0x264b, 0x0, 0x1);
        gbc.writeMem(0x5d9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1910);
        EXPECT(gbc.pc(), 0x5db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0192
        gbc.setState(0x9a2, 0x7fce, 0x1570, 0xdfab, 0xf318, 0x7fc3, 0x0, 0x0);
        gbc.writeMem(0x9a2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7fce);
        EXPECT(gbc.pc(), 0x9a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0193
        gbc.setState(0xa851, 0x315e, 0xa450, 0x8df2, 0x247e, 0xdc27, 0x1, 0x0);
        gbc.writeMem(0xa851, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x315e);
        EXPECT(gbc.pc(), 0xa853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa851), 0xcb);
        EXPECT(gbc.readMem(0xa852), 0x85);
        // CB 85 0194
        gbc.setState(0x4fd5, 0x91db, 0x54d0, 0x91c9, 0xd3f4, 0x4fc0, 0x1, 0x0);
        gbc.writeMem(0x4fd5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x91db);
        EXPECT(gbc.pc(), 0x4fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0195
        gbc.setState(0xc2f7, 0x51fe, 0xebe0, 0xcce, 0x2f21, 0x469b, 0x0, 0x0);
        gbc.writeMem(0xc2f7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x51fe);
        EXPECT(gbc.pc(), 0xc2f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2f7), 0xcb);
        EXPECT(gbc.readMem(0xc2f8), 0x85);
        // CB 85 0196
        gbc.setState(0x404c, 0xf5b6, 0xda80, 0x1392, 0x85d0, 0xf309, 0x0, 0x0);
        gbc.writeMem(0x404c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf5b6);
        EXPECT(gbc.pc(), 0x404e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0197
        gbc.setState(0x1e0b, 0xde6, 0xe9a0, 0x8bb9, 0xcbb6, 0xecc6, 0x1, 0x0);
        gbc.writeMem(0x1e0b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xde6);
        EXPECT(gbc.pc(), 0x1e0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0198
        gbc.setState(0x7ec3, 0x144e, 0x8fb0, 0x7fae, 0xf432, 0x9fc8, 0x1, 0x0);
        gbc.writeMem(0x7ec3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x144e);
        EXPECT(gbc.pc(), 0x7ec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0199
        gbc.setState(0xbf58, 0xa26a, 0xfaf0, 0xe5b0, 0x99c4, 0x6145, 0x0, 0x0);
        gbc.writeMem(0xbf58, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa26a);
        EXPECT(gbc.pc(), 0xbf5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf58), 0xcb);
        EXPECT(gbc.readMem(0xbf59), 0x85);
        // CB 85 019A
        gbc.setState(0xbdc5, 0xdc9, 0xaba0, 0x20b8, 0xb49a, 0xc77c, 0x0, 0x1);
        gbc.writeMem(0xbdc5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdc9);
        EXPECT(gbc.pc(), 0xbdc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdc5), 0xcb);
        EXPECT(gbc.readMem(0xbdc6), 0x85);
        // CB 85 019B
        gbc.setState(0xa378, 0x9d2d, 0xf790, 0xfa02, 0xeb0d, 0xcb55, 0x0, 0x1);
        gbc.writeMem(0xa378, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9d2d);
        EXPECT(gbc.pc(), 0xa37a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa378), 0xcb);
        EXPECT(gbc.readMem(0xa379), 0x85);
        // CB 85 019C
        gbc.setState(0x8a01, 0x8c70, 0xeec0, 0xc592, 0xd7e9, 0x9263, 0x0, 0x0);
        gbc.writeMem(0x8a01, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8c70);
        EXPECT(gbc.pc(), 0x8a03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a01), 0xcb);
        EXPECT(gbc.readMem(0x8a02), 0x85);
        // CB 85 019D
        gbc.setState(0xa8ff, 0x893f, 0xe740, 0xd0c5, 0x63d4, 0x71b0, 0x1, 0x0);
        gbc.writeMem(0xa8ff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x893f);
        EXPECT(gbc.pc(), 0xa901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ff), 0xcb);
        EXPECT(gbc.readMem(0xa900), 0x85);
        // CB 85 019E
        gbc.setState(0x68c8, 0xf436, 0x3e30, 0xa6f6, 0x832e, 0xc4b3, 0x0, 0x0);
        gbc.writeMem(0x68c8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf436);
        EXPECT(gbc.pc(), 0x68ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 019F
        gbc.setState(0x48e4, 0x4c31, 0xb930, 0x4700, 0x41e8, 0xf8c4, 0x0, 0x0);
        gbc.writeMem(0x48e4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4c31);
        EXPECT(gbc.pc(), 0x48e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01A0
        gbc.setState(0xa659, 0xddac, 0x2030, 0xaddd, 0x1d43, 0x72c6, 0x1, 0x1);
        gbc.writeMem(0xa659, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xddac);
        EXPECT(gbc.pc(), 0xa65b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa659), 0xcb);
        EXPECT(gbc.readMem(0xa65a), 0x85);
        // CB 85 01A1
        gbc.setState(0xd8ab, 0xf7bb, 0x2420, 0x754a, 0xb6c1, 0xba12, 0x1, 0x1);
        gbc.writeMem(0xd8ab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf7bb);
        EXPECT(gbc.pc(), 0xd8ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ab), 0xcb);
        EXPECT(gbc.readMem(0xd8ac), 0x85);
        // CB 85 01A2
        gbc.setState(0x1994, 0x5395, 0x1620, 0x6ff1, 0x112, 0xefda, 0x0, 0x1);
        gbc.writeMem(0x1994, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5395);
        EXPECT(gbc.pc(), 0x1996);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01A3
        gbc.setState(0x36c3, 0x3d41, 0x7f70, 0xab43, 0x2b52, 0x503a, 0x1, 0x1);
        gbc.writeMem(0x36c3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3d41);
        EXPECT(gbc.pc(), 0x36c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01A5
        gbc.setState(0xc673, 0x7d00, 0x2410, 0x85c6, 0x14b8, 0xfc1f, 0x0, 0x0);
        gbc.writeMem(0xc673, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7d00);
        EXPECT(gbc.pc(), 0xc675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc673), 0xcb);
        EXPECT(gbc.readMem(0xc674), 0x85);
        // CB 85 01A7
        gbc.setState(0x1e13, 0x6285, 0x9780, 0xeafe, 0x8e8a, 0x38f5, 0x1, 0x1);
        gbc.writeMem(0x1e13, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6285);
        EXPECT(gbc.pc(), 0x1e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01A8
        gbc.setState(0xa32a, 0x225c, 0xea50, 0x17a5, 0xcc89, 0xbc23, 0x1, 0x0);
        gbc.writeMem(0xa32a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x225c);
        EXPECT(gbc.pc(), 0xa32c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa32a), 0xcb);
        EXPECT(gbc.readMem(0xa32b), 0x85);
        // CB 85 01A9
        gbc.setState(0x17d5, 0xd80, 0x9d00, 0x6969, 0x3e83, 0xefc0, 0x1, 0x0);
        gbc.writeMem(0x17d5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd80);
        EXPECT(gbc.pc(), 0x17d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01AA
        gbc.setState(0x2685, 0xc7e5, 0xf590, 0xac18, 0x6a1f, 0x5176, 0x1, 0x1);
        gbc.writeMem(0x2685, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc7e5);
        EXPECT(gbc.pc(), 0x2687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01AB
        gbc.setState(0x8584, 0xf912, 0xc450, 0x673c, 0x6c90, 0x76fd, 0x1, 0x0);
        gbc.writeMem(0x8584, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xf912);
        EXPECT(gbc.pc(), 0x8586);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8584), 0xcb);
        EXPECT(gbc.readMem(0x8585), 0x85);
        // CB 85 01AC
        gbc.setState(0xaeaf, 0x4007, 0xa9b0, 0xad84, 0x57e3, 0xcf7a, 0x0, 0x0);
        gbc.writeMem(0xaeaf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4007);
        EXPECT(gbc.pc(), 0xaeb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeaf), 0xcb);
        EXPECT(gbc.readMem(0xaeb0), 0x85);
        // CB 85 01AD
        gbc.setState(0xb0ed, 0x5f91, 0x6260, 0x69b6, 0x4ea2, 0x9d45, 0x1, 0x1);
        gbc.writeMem(0xb0ed, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5f91);
        EXPECT(gbc.pc(), 0xb0ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0ed), 0xcb);
        EXPECT(gbc.readMem(0xb0ee), 0x85);
        // CB 85 01AE
        gbc.setState(0x56e, 0xb5e3, 0x49b0, 0x50e0, 0x475e, 0xb9b6, 0x1, 0x0);
        gbc.writeMem(0x56e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb5e3);
        EXPECT(gbc.pc(), 0x570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01AF
        gbc.setState(0xb35, 0x8aa2, 0xf190, 0x7adb, 0xc670, 0xa2e, 0x1, 0x1);
        gbc.writeMem(0xb35, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8aa2);
        EXPECT(gbc.pc(), 0xb37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01B0
        gbc.setState(0x29bd, 0x14c3, 0x30, 0xd2a4, 0x5b2d, 0xbcd9, 0x0, 0x0);
        gbc.writeMem(0x29bd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x14c3);
        EXPECT(gbc.pc(), 0x29bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01B1
        gbc.setState(0xd179, 0xfd03, 0x88b0, 0xbe22, 0x10d5, 0xd4d6, 0x1, 0x0);
        gbc.writeMem(0xd179, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfd03);
        EXPECT(gbc.pc(), 0xd17b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd179), 0xcb);
        EXPECT(gbc.readMem(0xd17a), 0x85);
        // CB 85 01B2
        gbc.setState(0xedfe, 0xed66, 0x7b10, 0x9d89, 0xbb52, 0x98a1, 0x1, 0x0);
        gbc.writeMem(0xedfe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xed66);
        EXPECT(gbc.pc(), 0xee00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedfe), 0xcb);
        EXPECT(gbc.readMem(0xedff), 0x85);
        // CB 85 01B3
        gbc.setState(0x245b, 0xf035, 0x4e80, 0x20fa, 0x7a8c, 0xaede, 0x1, 0x1);
        gbc.writeMem(0x245b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf035);
        EXPECT(gbc.pc(), 0x245d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01B4
        gbc.setState(0x8ad8, 0x6d62, 0x27f0, 0x9c79, 0xbc94, 0x6ce, 0x1, 0x0);
        gbc.writeMem(0x8ad8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x6d62);
        EXPECT(gbc.pc(), 0x8ada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ad8), 0xcb);
        EXPECT(gbc.readMem(0x8ad9), 0x85);
        // CB 85 01B5
        gbc.setState(0x55dc, 0x7348, 0x6370, 0x3f59, 0xf1d5, 0xdc26, 0x0, 0x0);
        gbc.writeMem(0x55dc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7348);
        EXPECT(gbc.pc(), 0x55de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01B6
        gbc.setState(0x92ba, 0x16b9, 0x2bc0, 0x50b2, 0x492a, 0xa60c, 0x1, 0x1);
        gbc.writeMem(0x92ba, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x16b9);
        EXPECT(gbc.pc(), 0x92bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92ba), 0xcb);
        EXPECT(gbc.readMem(0x92bb), 0x85);
        // CB 85 01B7
        gbc.setState(0x4d4d, 0x1b91, 0x4970, 0xa152, 0x19f5, 0x5dda, 0x0, 0x0);
        gbc.writeMem(0x4d4d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1b91);
        EXPECT(gbc.pc(), 0x4d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01B8
        gbc.setState(0x85e8, 0x419e, 0x84d0, 0x7445, 0x4f65, 0xe50f, 0x0, 0x0);
        gbc.writeMem(0x85e8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x419e);
        EXPECT(gbc.pc(), 0x85ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85e8), 0xcb);
        EXPECT(gbc.readMem(0x85e9), 0x85);
        // CB 85 01B9
        gbc.setState(0xe1b1, 0x630c, 0x50e0, 0x413a, 0x5669, 0x2c6b, 0x1, 0x0);
        gbc.writeMem(0xe1b1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x630c);
        EXPECT(gbc.pc(), 0xe1b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1b1), 0xcb);
        EXPECT(gbc.readMem(0xe1b2), 0x85);
        // CB 85 01BA
        gbc.setState(0xe8dd, 0x92a0, 0x56b0, 0x3028, 0x4621, 0x1ae1, 0x1, 0x0);
        gbc.writeMem(0xe8dd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x92a0);
        EXPECT(gbc.pc(), 0xe8df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8dd), 0xcb);
        EXPECT(gbc.readMem(0xe8de), 0x85);
        // CB 85 01BB
        gbc.setState(0x6cb8, 0xbb38, 0x7740, 0x630f, 0x98eb, 0xeb67, 0x1, 0x0);
        gbc.writeMem(0x6cb8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbb38);
        EXPECT(gbc.pc(), 0x6cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01BD
        gbc.setState(0xccc8, 0x2fb5, 0x6340, 0x51b4, 0x15c8, 0xb4f3, 0x0, 0x1);
        gbc.writeMem(0xccc8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2fb5);
        EXPECT(gbc.pc(), 0xccca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc8), 0xcb);
        EXPECT(gbc.readMem(0xccc9), 0x85);
        // CB 85 01BE
        gbc.setState(0x440e, 0x7cd2, 0xa9f0, 0xb28d, 0x1430, 0x8b48, 0x0, 0x0);
        gbc.writeMem(0x440e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7cd2);
        EXPECT(gbc.pc(), 0x4410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01BF
        gbc.setState(0x8706, 0xa6e9, 0x7960, 0xbf8b, 0xce3f, 0x9cf8, 0x1, 0x1);
        gbc.writeMem(0x8706, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa6e9);
        EXPECT(gbc.pc(), 0x8708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8706), 0xcb);
        EXPECT(gbc.readMem(0x8707), 0x85);
        // CB 85 01C0
        gbc.setState(0x3865, 0xb566, 0xfb60, 0x9845, 0x8fcc, 0xd52b, 0x0, 0x0);
        gbc.writeMem(0x3865, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb566);
        EXPECT(gbc.pc(), 0x3867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01C1
        gbc.setState(0x5889, 0x13a4, 0x6280, 0x21bd, 0xf83c, 0x75d8, 0x0, 0x1);
        gbc.writeMem(0x5889, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x13a4);
        EXPECT(gbc.pc(), 0x588b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01C2
        gbc.setState(0xb61, 0xcd0d, 0xab70, 0x7c35, 0x84ac, 0xc283, 0x1, 0x1);
        gbc.writeMem(0xb61, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xcd0d);
        EXPECT(gbc.pc(), 0xb63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01C3
        gbc.setState(0xdda9, 0x6a5d, 0xd8a0, 0xe0ef, 0x5169, 0x2152, 0x0, 0x0);
        gbc.writeMem(0xdda9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6a5d);
        EXPECT(gbc.pc(), 0xddab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdda9), 0xcb);
        EXPECT(gbc.readMem(0xddaa), 0x85);
        // CB 85 01C4
        gbc.setState(0xb4e7, 0x9323, 0xa100, 0x4caa, 0x1237, 0xd7e2, 0x1, 0x0);
        gbc.writeMem(0xb4e7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9323);
        EXPECT(gbc.pc(), 0xb4e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e7), 0xcb);
        EXPECT(gbc.readMem(0xb4e8), 0x85);
        // CB 85 01C6
        gbc.setState(0x5e67, 0x45b8, 0x36e0, 0x9195, 0xb383, 0x3889, 0x0, 0x0);
        gbc.writeMem(0x5e67, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x45b8);
        EXPECT(gbc.pc(), 0x5e69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01C7
        gbc.setState(0x5cb8, 0x2dc2, 0x1b0, 0x328, 0xf6df, 0x5f59, 0x1, 0x0);
        gbc.writeMem(0x5cb8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x2dc2);
        EXPECT(gbc.pc(), 0x5cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01C8
        gbc.setState(0x1e20, 0x9450, 0x6440, 0x2282, 0x2c6f, 0x74fe, 0x0, 0x0);
        gbc.writeMem(0x1e20, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9450);
        EXPECT(gbc.pc(), 0x1e22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01C9
        gbc.setState(0xd99c, 0x4aa9, 0x9230, 0x5eea, 0xb068, 0x4ad5, 0x0, 0x0);
        gbc.writeMem(0xd99c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4aa9);
        EXPECT(gbc.pc(), 0xd99e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd99c), 0xcb);
        EXPECT(gbc.readMem(0xd99d), 0x85);
        // CB 85 01CA
        gbc.setState(0xb879, 0x83c4, 0xe2c0, 0xcdea, 0xa0bf, 0xd711, 0x0, 0x0);
        gbc.writeMem(0xb879, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x83c4);
        EXPECT(gbc.pc(), 0xb87b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb879), 0xcb);
        EXPECT(gbc.readMem(0xb87a), 0x85);
        // CB 85 01CB
        gbc.setState(0x1f67, 0x67cf, 0x1ce0, 0x30ca, 0x8d63, 0x8333, 0x1, 0x1);
        gbc.writeMem(0x1f67, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x67cf);
        EXPECT(gbc.pc(), 0x1f69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01CC
        gbc.setState(0x8d56, 0x8788, 0x1590, 0xaedc, 0x80b, 0x6a0e, 0x1, 0x1);
        gbc.writeMem(0x8d56, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8788);
        EXPECT(gbc.pc(), 0x8d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d56), 0xcb);
        EXPECT(gbc.readMem(0x8d57), 0x85);
        // CB 85 01CD
        gbc.setState(0x3bda, 0x54c7, 0x70e0, 0x5162, 0x5972, 0xeeb5, 0x1, 0x1);
        gbc.writeMem(0x3bda, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x54c7);
        EXPECT(gbc.pc(), 0x3bdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01CE
        gbc.setState(0x35cd, 0xfaf4, 0x6270, 0x5e19, 0x2f7b, 0x68cb, 0x1, 0x1);
        gbc.writeMem(0x35cd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfaf4);
        EXPECT(gbc.pc(), 0x35cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01CF
        gbc.setState(0x1738, 0xd0d3, 0xff00, 0xd7e3, 0xe3d7, 0xbb62, 0x1, 0x1);
        gbc.writeMem(0x1738, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd0d3);
        EXPECT(gbc.pc(), 0x173a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01D0
        gbc.setState(0x46bb, 0x5eed, 0x6250, 0xa32, 0x8009, 0xe6d0, 0x1, 0x0);
        gbc.writeMem(0x46bb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5eed);
        EXPECT(gbc.pc(), 0x46bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01D1
        gbc.setState(0x3f51, 0x9f9b, 0xb9d0, 0x3f06, 0x8b32, 0xc104, 0x0, 0x1);
        gbc.writeMem(0x3f51, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9f9b);
        EXPECT(gbc.pc(), 0x3f53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01D2
        gbc.setState(0x6ac4, 0xa905, 0x5a90, 0xaf44, 0x99e, 0xe222, 0x1, 0x1);
        gbc.writeMem(0x6ac4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa905);
        EXPECT(gbc.pc(), 0x6ac6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01D3
        gbc.setState(0x833f, 0x4216, 0x6650, 0x2ebe, 0x8b7f, 0x7470, 0x0, 0x1);
        gbc.writeMem(0x833f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4216);
        EXPECT(gbc.pc(), 0x8341);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x833f), 0xcb);
        EXPECT(gbc.readMem(0x8340), 0x85);
        // CB 85 01D4
        gbc.setState(0xcb6f, 0x282a, 0x5870, 0xf53e, 0x59e1, 0xb8be, 0x0, 0x1);
        gbc.writeMem(0xcb6f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x282a);
        EXPECT(gbc.pc(), 0xcb71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb6f), 0xcb);
        EXPECT(gbc.readMem(0xcb70), 0x85);
        // CB 85 01D5
        gbc.setState(0xe938, 0x9add, 0x7010, 0x8dae, 0x49ea, 0x5c6e, 0x0, 0x1);
        gbc.writeMem(0xe938, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9add);
        EXPECT(gbc.pc(), 0xe93a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe938), 0xcb);
        EXPECT(gbc.readMem(0xe939), 0x85);
        // CB 85 01D6
        gbc.setState(0x610e, 0xa59a, 0xed00, 0xdc0a, 0x806e, 0x7018, 0x0, 0x1);
        gbc.writeMem(0x610e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa59a);
        EXPECT(gbc.pc(), 0x6110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01D7
        gbc.setState(0x6f68, 0x3e91, 0x1d90, 0x55c8, 0xd865, 0x2c8e, 0x1, 0x0);
        gbc.writeMem(0x6f68, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3e91);
        EXPECT(gbc.pc(), 0x6f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01D8
        gbc.setState(0x8d6e, 0x55ec, 0x4d70, 0x5453, 0x7105, 0xad10, 0x0, 0x1);
        gbc.writeMem(0x8d6e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x55ec);
        EXPECT(gbc.pc(), 0x8d70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d6e), 0xcb);
        EXPECT(gbc.readMem(0x8d6f), 0x85);
        // CB 85 01D9
        gbc.setState(0x491e, 0xf68c, 0x5f80, 0x26fa, 0xa939, 0x9bd9, 0x0, 0x1);
        gbc.writeMem(0x491e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf68c);
        EXPECT(gbc.pc(), 0x4920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01DA
        gbc.setState(0x6423, 0x6035, 0x3860, 0x80f8, 0xa42b, 0x251e, 0x1, 0x0);
        gbc.writeMem(0x6423, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6035);
        EXPECT(gbc.pc(), 0x6425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01DB
        gbc.setState(0x3e5a, 0x88ba, 0x3420, 0x888a, 0x7c6a, 0xfc1b, 0x1, 0x0);
        gbc.writeMem(0x3e5a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x88ba);
        EXPECT(gbc.pc(), 0x3e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01DC
        gbc.setState(0x26a9, 0xaec2, 0x9430, 0xaf94, 0xbb7e, 0x9369, 0x0, 0x1);
        gbc.writeMem(0x26a9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xaec2);
        EXPECT(gbc.pc(), 0x26ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01DD
        gbc.setState(0xe282, 0xc396, 0x7a00, 0x9da3, 0xa810, 0x21fc, 0x0, 0x0);
        gbc.writeMem(0xe282, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc396);
        EXPECT(gbc.pc(), 0xe284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe282), 0xcb);
        EXPECT(gbc.readMem(0xe283), 0x85);
        // CB 85 01DE
        gbc.setState(0xc199, 0x9684, 0x880, 0x80e7, 0x212b, 0x9ae5, 0x1, 0x0);
        gbc.writeMem(0xc199, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9684);
        EXPECT(gbc.pc(), 0xc19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc199), 0xcb);
        EXPECT(gbc.readMem(0xc19a), 0x85);
        // CB 85 01DF
        gbc.setState(0xda70, 0x8e26, 0x3de0, 0x8bfa, 0xa487, 0x879, 0x0, 0x1);
        gbc.writeMem(0xda70, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8e26);
        EXPECT(gbc.pc(), 0xda72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda70), 0xcb);
        EXPECT(gbc.readMem(0xda71), 0x85);
        // CB 85 01E0
        gbc.setState(0xbe9c, 0xff06, 0x22b0, 0x9972, 0xb4d0, 0x45b1, 0x0, 0x0);
        gbc.writeMem(0xbe9c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xff06);
        EXPECT(gbc.pc(), 0xbe9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe9c), 0xcb);
        EXPECT(gbc.readMem(0xbe9d), 0x85);
        // CB 85 01E1
        gbc.setState(0xbc0e, 0x2707, 0x93e0, 0x49e1, 0x860c, 0xe0b9, 0x1, 0x1);
        gbc.writeMem(0xbc0e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2707);
        EXPECT(gbc.pc(), 0xbc10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc0e), 0xcb);
        EXPECT(gbc.readMem(0xbc0f), 0x85);
        // CB 85 01E2
        gbc.setState(0x7420, 0xf489, 0x8200, 0xf231, 0xf87, 0xc2c5, 0x1, 0x0);
        gbc.writeMem(0x7420, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf489);
        EXPECT(gbc.pc(), 0x7422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01E3
        gbc.setState(0xd09c, 0x9815, 0x7ea0, 0x3d67, 0x5c5c, 0xc8b0, 0x1, 0x1);
        gbc.writeMem(0xd09c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9815);
        EXPECT(gbc.pc(), 0xd09e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd09c), 0xcb);
        EXPECT(gbc.readMem(0xd09d), 0x85);
        // CB 85 01E4
        gbc.setState(0x43d1, 0x3cf9, 0xe450, 0x6f75, 0xcc2, 0x7780, 0x0, 0x1);
        gbc.writeMem(0x43d1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3cf9);
        EXPECT(gbc.pc(), 0x43d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01E5
        gbc.setState(0x8a77, 0xcab2, 0xc6e0, 0x9e50, 0xdd66, 0xc439, 0x1, 0x0);
        gbc.writeMem(0x8a77, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xcab2);
        EXPECT(gbc.pc(), 0x8a79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a77), 0xcb);
        EXPECT(gbc.readMem(0x8a78), 0x85);
        // CB 85 01E6
        gbc.setState(0xd04c, 0x9303, 0xbd10, 0xe7ea, 0xe2ae, 0xfc5a, 0x1, 0x1);
        gbc.writeMem(0xd04c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9303);
        EXPECT(gbc.pc(), 0xd04e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd04c), 0xcb);
        EXPECT(gbc.readMem(0xd04d), 0x85);
        // CB 85 01E7
        gbc.setState(0x5eb9, 0x8d3f, 0xd110, 0x7220, 0xc64e, 0xda6c, 0x0, 0x0);
        gbc.writeMem(0x5eb9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8d3f);
        EXPECT(gbc.pc(), 0x5ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01E8
        gbc.setState(0x8e5f, 0xc2c5, 0xbef0, 0xcb8f, 0x66e6, 0x449d, 0x0, 0x0);
        gbc.writeMem(0x8e5f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc2c5);
        EXPECT(gbc.pc(), 0x8e61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5f), 0xcb);
        EXPECT(gbc.readMem(0x8e60), 0x85);
        // CB 85 01E9
        gbc.setState(0xb42e, 0x3cf4, 0x2c10, 0x59b6, 0x4122, 0xfb1e, 0x1, 0x0);
        gbc.writeMem(0xb42e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3cf4);
        EXPECT(gbc.pc(), 0xb430);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb42e), 0xcb);
        EXPECT(gbc.readMem(0xb42f), 0x85);
        // CB 85 01EA
        gbc.setState(0xa5d3, 0xc69c, 0x8200, 0x8055, 0x550e, 0x7fc6, 0x1, 0x1);
        gbc.writeMem(0xa5d3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc69c);
        EXPECT(gbc.pc(), 0xa5d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5d3), 0xcb);
        EXPECT(gbc.readMem(0xa5d4), 0x85);
        // CB 85 01EB
        gbc.setState(0x65da, 0xaf5b, 0xd740, 0xa83d, 0x2aea, 0x407b, 0x0, 0x1);
        gbc.writeMem(0x65da, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xaf5b);
        EXPECT(gbc.pc(), 0x65dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01EC
        gbc.setState(0x94a3, 0x663b, 0x83f0, 0x6bfc, 0xc928, 0xe72a, 0x0, 0x0);
        gbc.writeMem(0x94a3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x663b);
        EXPECT(gbc.pc(), 0x94a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a3), 0xcb);
        EXPECT(gbc.readMem(0x94a4), 0x85);
        // CB 85 01ED
        gbc.setState(0x33fb, 0x2f3c, 0xc580, 0x6f82, 0x950, 0x488d, 0x1, 0x1);
        gbc.writeMem(0x33fb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x2f3c);
        EXPECT(gbc.pc(), 0x33fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01EE
        gbc.setState(0xb5f9, 0xe496, 0x2340, 0xe87c, 0xc455, 0x7925, 0x0, 0x1);
        gbc.writeMem(0xb5f9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe496);
        EXPECT(gbc.pc(), 0xb5fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5f9), 0xcb);
        EXPECT(gbc.readMem(0xb5fa), 0x85);
        // CB 85 01EF
        gbc.setState(0xe474, 0xa1d5, 0x7430, 0x4599, 0xd023, 0xbf1d, 0x0, 0x1);
        gbc.writeMem(0xe474, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa1d5);
        EXPECT(gbc.pc(), 0xe476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe474), 0xcb);
        EXPECT(gbc.readMem(0xe475), 0x85);
        // CB 85 01F0
        gbc.setState(0x45fb, 0xb7f2, 0xf230, 0x4334, 0xff99, 0x4f92, 0x0, 0x0);
        gbc.writeMem(0x45fb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb7f2);
        EXPECT(gbc.pc(), 0x45fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01F1
        gbc.setState(0x7090, 0x64df, 0xce50, 0x3698, 0xefa7, 0xd632, 0x0, 0x0);
        gbc.writeMem(0x7090, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x64df);
        EXPECT(gbc.pc(), 0x7092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01F2
        gbc.setState(0x8ba0, 0x3ab4, 0xbd40, 0x1302, 0x6dc5, 0xb496, 0x0, 0x0);
        gbc.writeMem(0x8ba0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3ab4);
        EXPECT(gbc.pc(), 0x8ba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ba0), 0xcb);
        EXPECT(gbc.readMem(0x8ba1), 0x85);
        // CB 85 01F3
        gbc.setState(0x6bf4, 0xa1e3, 0x63e0, 0x2d29, 0xea17, 0x3ac5, 0x1, 0x1);
        gbc.writeMem(0x6bf4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa1e3);
        EXPECT(gbc.pc(), 0x6bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01F4
        gbc.setState(0x40b7, 0x98a7, 0x9230, 0x6f58, 0x6e49, 0x1565, 0x1, 0x0);
        gbc.writeMem(0x40b7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x98a7);
        EXPECT(gbc.pc(), 0x40b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01F5
        gbc.setState(0x5e75, 0xf34c, 0xa610, 0x5579, 0xca15, 0xb8fe, 0x1, 0x0);
        gbc.writeMem(0x5e75, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xf34c);
        EXPECT(gbc.pc(), 0x5e77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01F6
        gbc.setState(0xc359, 0x60fc, 0x4a10, 0x366c, 0x993a, 0xcd2, 0x0, 0x0);
        gbc.writeMem(0xc359, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x60fc);
        EXPECT(gbc.pc(), 0xc35b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc359), 0xcb);
        EXPECT(gbc.readMem(0xc35a), 0x85);
        // CB 85 01F7
        gbc.setState(0xf67, 0xf8dd, 0x6740, 0x2fb6, 0x27f3, 0x6fc7, 0x0, 0x0);
        gbc.writeMem(0xf67, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf8dd);
        EXPECT(gbc.pc(), 0xf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01F8
        gbc.setState(0xd2d3, 0xc05f, 0xc420, 0x4a53, 0x16e6, 0x8f4b, 0x0, 0x1);
        gbc.writeMem(0xd2d3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc05f);
        EXPECT(gbc.pc(), 0xd2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2d3), 0xcb);
        EXPECT(gbc.readMem(0xd2d4), 0x85);
        // CB 85 01F9
        gbc.setState(0x47ce, 0xf8cd, 0x7de0, 0xf844, 0xe585, 0x1693, 0x1, 0x1);
        gbc.writeMem(0x47ce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf8cd);
        EXPECT(gbc.pc(), 0x47d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01FA
        gbc.setState(0x1365, 0xc9ba, 0xe850, 0xca5e, 0x40dc, 0xcdca, 0x0, 0x1);
        gbc.writeMem(0x1365, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc9ba);
        EXPECT(gbc.pc(), 0x1367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 01FB
        gbc.setState(0x35d8, 0x94e1, 0xc20, 0xef91, 0xc2b5, 0x2a6f, 0x0, 0x0);
        gbc.writeMem(0x35d8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x94e1);
        EXPECT(gbc.pc(), 0x35da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01FD
        gbc.setState(0xc69a, 0xc7a9, 0xd9d0, 0x295d, 0xc4d8, 0xb08e, 0x1, 0x1);
        gbc.writeMem(0xc69a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc7a9);
        EXPECT(gbc.pc(), 0xc69c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc69a), 0xcb);
        EXPECT(gbc.readMem(0xc69b), 0x85);
        // CB 85 01FE
        gbc.setState(0x64f0, 0xcf2b, 0x26e0, 0x2a7a, 0x14d0, 0x31c, 0x0, 0x1);
        gbc.writeMem(0x64f0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcf2b);
        EXPECT(gbc.pc(), 0x64f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 01FF
        gbc.setState(0x6668, 0x8d6b, 0x2ca0, 0x640, 0x5c45, 0x3650, 0x1, 0x0);
        gbc.writeMem(0x6668, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8d6b);
        EXPECT(gbc.pc(), 0x666a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0200
        gbc.setState(0x39e5, 0xc821, 0x5380, 0x1644, 0x6822, 0xf694, 0x0, 0x0);
        gbc.writeMem(0x39e5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc821);
        EXPECT(gbc.pc(), 0x39e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0201
        gbc.setState(0x30fe, 0x7880, 0x2900, 0xc662, 0xc4b2, 0x607a, 0x0, 0x1);
        gbc.writeMem(0x30fe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x7880);
        EXPECT(gbc.pc(), 0x3100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0202
        gbc.setState(0x9d6a, 0x243e, 0x3ee0, 0x7e00, 0x5e40, 0x8cd, 0x1, 0x1);
        gbc.writeMem(0x9d6a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x243e);
        EXPECT(gbc.pc(), 0x9d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d6a), 0xcb);
        EXPECT(gbc.readMem(0x9d6b), 0x85);
        // CB 85 0203
        gbc.setState(0x3c4b, 0xbb06, 0x4c90, 0x8379, 0x9291, 0xfe7, 0x1, 0x1);
        gbc.writeMem(0x3c4b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xbb06);
        EXPECT(gbc.pc(), 0x3c4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0204
        gbc.setState(0x2e69, 0x7a43, 0x3720, 0xac78, 0x14c5, 0x7dbe, 0x0, 0x0);
        gbc.writeMem(0x2e69, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7a43);
        EXPECT(gbc.pc(), 0x2e6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0205
        gbc.setState(0x756b, 0x1b73, 0x9f10, 0x1793, 0xa6fd, 0x683f, 0x0, 0x0);
        gbc.writeMem(0x756b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1b73);
        EXPECT(gbc.pc(), 0x756d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0206
        gbc.setState(0x1434, 0x8773, 0xcd20, 0xa221, 0xba10, 0xf1b4, 0x1, 0x0);
        gbc.writeMem(0x1434, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8773);
        EXPECT(gbc.pc(), 0x1436);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0207
        gbc.setState(0x19ab, 0x2274, 0x2a90, 0xbfce, 0xc75e, 0x4c32, 0x0, 0x1);
        gbc.writeMem(0x19ab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2274);
        EXPECT(gbc.pc(), 0x19ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0208
        gbc.setState(0x4555, 0x2a76, 0x72f0, 0x1984, 0x363d, 0xcf96, 0x0, 0x0);
        gbc.writeMem(0x4555, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2a76);
        EXPECT(gbc.pc(), 0x4557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0209
        gbc.setState(0x376e, 0x7db8, 0xd060, 0xc3cb, 0xbf32, 0xd9f7, 0x1, 0x1);
        gbc.writeMem(0x376e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7db8);
        EXPECT(gbc.pc(), 0x3770);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 020A
        gbc.setState(0xa734, 0xecdf, 0xd790, 0xed06, 0x20b5, 0x15df, 0x1, 0x1);
        gbc.writeMem(0xa734, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xecdf);
        EXPECT(gbc.pc(), 0xa736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa734), 0xcb);
        EXPECT(gbc.readMem(0xa735), 0x85);
        // CB 85 020B
        gbc.setState(0xecf7, 0x53ab, 0xb710, 0x1bcf, 0x9458, 0xe63e, 0x0, 0x0);
        gbc.writeMem(0xecf7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x53ab);
        EXPECT(gbc.pc(), 0xecf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecf7), 0xcb);
        EXPECT(gbc.readMem(0xecf8), 0x85);
        // CB 85 020C
        gbc.setState(0x3460, 0xba8, 0x91e0, 0x8be, 0xaa01, 0x16a6, 0x0, 0x1);
        gbc.writeMem(0x3460, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xba8);
        EXPECT(gbc.pc(), 0x3462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 020D
        gbc.setState(0xe920, 0x8550, 0x73c0, 0x570b, 0xdb1e, 0xa3f5, 0x1, 0x0);
        gbc.writeMem(0xe920, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8550);
        EXPECT(gbc.pc(), 0xe922);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe920), 0xcb);
        EXPECT(gbc.readMem(0xe921), 0x85);
        // CB 85 020F
        gbc.setState(0xd18a, 0xdef7, 0xa350, 0x369f, 0xadf2, 0xdcff, 0x1, 0x1);
        gbc.writeMem(0xd18a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xdef7);
        EXPECT(gbc.pc(), 0xd18c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd18a), 0xcb);
        EXPECT(gbc.readMem(0xd18b), 0x85);
        // CB 85 0210
        gbc.setState(0xa916, 0x11f2, 0xd240, 0x5700, 0xb384, 0x91ef, 0x0, 0x1);
        gbc.writeMem(0xa916, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x11f2);
        EXPECT(gbc.pc(), 0xa918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa916), 0xcb);
        EXPECT(gbc.readMem(0xa917), 0x85);
        // CB 85 0211
        gbc.setState(0xebf5, 0x4939, 0x7430, 0xb5f9, 0xcc9d, 0x9d3d, 0x0, 0x0);
        gbc.writeMem(0xebf5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4939);
        EXPECT(gbc.pc(), 0xebf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf5), 0xcb);
        EXPECT(gbc.readMem(0xebf6), 0x85);
        // CB 85 0212
        gbc.setState(0xe553, 0xf8d7, 0x1cc0, 0x958a, 0x8a6e, 0xe5af, 0x0, 0x1);
        gbc.writeMem(0xe553, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf8d7);
        EXPECT(gbc.pc(), 0xe555);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe553), 0xcb);
        EXPECT(gbc.readMem(0xe554), 0x85);
        // CB 85 0213
        gbc.setState(0x7273, 0x2ddb, 0xf6a0, 0x94c6, 0x245a, 0x4561, 0x1, 0x1);
        gbc.writeMem(0x7273, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2ddb);
        EXPECT(gbc.pc(), 0x7275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0214
        gbc.setState(0x4efb, 0xa809, 0xfac0, 0x781a, 0x5011, 0xabe, 0x0, 0x1);
        gbc.writeMem(0x4efb, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa809);
        EXPECT(gbc.pc(), 0x4efd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0215
        gbc.setState(0xdaae, 0x520a, 0x8e60, 0xca59, 0xd346, 0x6811, 0x1, 0x1);
        gbc.writeMem(0xdaae, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x520a);
        EXPECT(gbc.pc(), 0xdab0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaae), 0xcb);
        EXPECT(gbc.readMem(0xdaaf), 0x85);
        // CB 85 0216
        gbc.setState(0xec4c, 0xe099, 0x480, 0x1ccd, 0xb3d2, 0x1a1c, 0x1, 0x1);
        gbc.writeMem(0xec4c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe099);
        EXPECT(gbc.pc(), 0xec4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec4c), 0xcb);
        EXPECT(gbc.readMem(0xec4d), 0x85);
        // CB 85 0217
        gbc.setState(0xed64, 0x953c, 0xce0, 0x6238, 0xfae5, 0x5ba1, 0x0, 0x0);
        gbc.writeMem(0xed64, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x953c);
        EXPECT(gbc.pc(), 0xed66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed64), 0xcb);
        EXPECT(gbc.readMem(0xed65), 0x85);
        // CB 85 0218
        gbc.setState(0xe558, 0x7ceb, 0xe750, 0xe287, 0x6d70, 0x46da, 0x0, 0x0);
        gbc.writeMem(0xe558, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7ceb);
        EXPECT(gbc.pc(), 0xe55a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe558), 0xcb);
        EXPECT(gbc.readMem(0xe559), 0x85);
        // CB 85 0219
        gbc.setState(0x502b, 0x6cfd, 0x49b0, 0x3cfc, 0x39e0, 0xb5f3, 0x1, 0x1);
        gbc.writeMem(0x502b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6cfd);
        EXPECT(gbc.pc(), 0x502d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 021A
        gbc.setState(0x5e6b, 0x6437, 0xecf0, 0x65af, 0x4f, 0x685d, 0x1, 0x1);
        gbc.writeMem(0x5e6b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x6437);
        EXPECT(gbc.pc(), 0x5e6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 021B
        gbc.setState(0x39dc, 0x7f59, 0xe0b0, 0xcc3b, 0xc783, 0x74f8, 0x0, 0x1);
        gbc.writeMem(0x39dc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7f59);
        EXPECT(gbc.pc(), 0x39de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 021C
        gbc.setState(0x7532, 0x5da0, 0x1cc0, 0xdf4e, 0x3b46, 0x95ff, 0x0, 0x0);
        gbc.writeMem(0x7532, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5da0);
        EXPECT(gbc.pc(), 0x7534);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 021D
        gbc.setState(0x7f0, 0x3667, 0x9b50, 0x1145, 0x2c2d, 0xb2a6, 0x0, 0x0);
        gbc.writeMem(0x7f0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3667);
        EXPECT(gbc.pc(), 0x7f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 021E
        gbc.setState(0x122a, 0xa472, 0x81b0, 0x262d, 0xa188, 0x4a5a, 0x0, 0x0);
        gbc.writeMem(0x122a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa472);
        EXPECT(gbc.pc(), 0x122c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 021F
        gbc.setState(0xd89a, 0xdd0e, 0x4860, 0x2ecb, 0x22ad, 0xd300, 0x0, 0x0);
        gbc.writeMem(0xd89a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdd0e);
        EXPECT(gbc.pc(), 0xd89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89a), 0xcb);
        EXPECT(gbc.readMem(0xd89b), 0x85);
        // CB 85 0220
        gbc.setState(0xede, 0x5251, 0x5840, 0x7b42, 0x9d9d, 0xcd08, 0x1, 0x1);
        gbc.writeMem(0xede, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5251);
        EXPECT(gbc.pc(), 0xee0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0221
        gbc.setState(0x2f7b, 0x63e, 0xeec0, 0x9f4b, 0xef6, 0x684, 0x0, 0x1);
        gbc.writeMem(0x2f7b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x63e);
        EXPECT(gbc.pc(), 0x2f7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0222
        gbc.setState(0x444a, 0xa863, 0x53b0, 0x6a5, 0xf4f0, 0xd3ab, 0x1, 0x0);
        gbc.writeMem(0x444a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa863);
        EXPECT(gbc.pc(), 0x444c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0223
        gbc.setState(0x7202, 0xdaec, 0x1db0, 0x902a, 0xe066, 0x9d68, 0x0, 0x0);
        gbc.writeMem(0x7202, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xdaec);
        EXPECT(gbc.pc(), 0x7204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0224
        gbc.setState(0x521d, 0x4777, 0x3de0, 0x8fb3, 0xf70d, 0x772f, 0x0, 0x0);
        gbc.writeMem(0x521d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4777);
        EXPECT(gbc.pc(), 0x521f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0226
        gbc.setState(0x7b53, 0xead8, 0x57e0, 0x2391, 0x52f9, 0xf736, 0x0, 0x1);
        gbc.writeMem(0x7b53, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xead8);
        EXPECT(gbc.pc(), 0x7b55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0227
        gbc.setState(0x3eb7, 0x82dd, 0xe350, 0x888, 0x24d2, 0x1f79, 0x1, 0x1);
        gbc.writeMem(0x3eb7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x82dd);
        EXPECT(gbc.pc(), 0x3eb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0228
        gbc.setState(0x606f, 0xa4c4, 0x760, 0x3716, 0x3f3b, 0x3392, 0x1, 0x0);
        gbc.writeMem(0x606f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa4c4);
        EXPECT(gbc.pc(), 0x6071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0229
        gbc.setState(0xb912, 0x4ed7, 0x8a80, 0x44a6, 0xade7, 0x51f1, 0x1, 0x0);
        gbc.writeMem(0xb912, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4ed7);
        EXPECT(gbc.pc(), 0xb914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb912), 0xcb);
        EXPECT(gbc.readMem(0xb913), 0x85);
        // CB 85 022A
        gbc.setState(0x5628, 0xfeff, 0xe660, 0x345, 0x7f53, 0x6d42, 0x1, 0x1);
        gbc.writeMem(0x5628, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xfeff);
        EXPECT(gbc.pc(), 0x562a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 022B
        gbc.setState(0x84ff, 0x86bd, 0x5f10, 0xc479, 0x7c91, 0x1ef0, 0x1, 0x1);
        gbc.writeMem(0x84ff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x86bd);
        EXPECT(gbc.pc(), 0x8501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ff), 0xcb);
        EXPECT(gbc.readMem(0x8500), 0x85);
        // CB 85 022C
        gbc.setState(0x58e2, 0xd585, 0xe1f0, 0xc29, 0x30c1, 0x5279, 0x1, 0x1);
        gbc.writeMem(0x58e2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd585);
        EXPECT(gbc.pc(), 0x58e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 022D
        gbc.setState(0x84a3, 0x5aac, 0xbd70, 0xb961, 0x817b, 0x54d5, 0x0, 0x1);
        gbc.writeMem(0x84a3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5aac);
        EXPECT(gbc.pc(), 0x84a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84a3), 0xcb);
        EXPECT(gbc.readMem(0x84a4), 0x85);
        // CB 85 022E
        gbc.setState(0xd36c, 0xdcf0, 0x33e0, 0xac27, 0x5ad2, 0x22cb, 0x0, 0x0);
        gbc.writeMem(0xd36c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdcf0);
        EXPECT(gbc.pc(), 0xd36e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd36c), 0xcb);
        EXPECT(gbc.readMem(0xd36d), 0x85);
        // CB 85 022F
        gbc.setState(0x7b9e, 0xaf02, 0x2d50, 0x154e, 0x86c4, 0xe133, 0x0, 0x0);
        gbc.writeMem(0x7b9e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xaf02);
        EXPECT(gbc.pc(), 0x7ba0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0230
        gbc.setState(0x5c1b, 0x25a4, 0xe800, 0x3361, 0xcf51, 0x2d7d, 0x0, 0x0);
        gbc.writeMem(0x5c1b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x25a4);
        EXPECT(gbc.pc(), 0x5c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0231
        gbc.setState(0x5905, 0xe356, 0x8460, 0x3877, 0x47, 0xd62e, 0x0, 0x1);
        gbc.writeMem(0x5905, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe356);
        EXPECT(gbc.pc(), 0x5907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0232
        gbc.setState(0x96f1, 0xf000, 0xf350, 0x2d83, 0x92d7, 0x885, 0x0, 0x0);
        gbc.writeMem(0x96f1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf000);
        EXPECT(gbc.pc(), 0x96f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96f1), 0xcb);
        EXPECT(gbc.readMem(0x96f2), 0x85);
        // CB 85 0233
        gbc.setState(0xbafd, 0xaeae, 0x10f0, 0x8c5a, 0xfb54, 0xdd1f, 0x0, 0x0);
        gbc.writeMem(0xbafd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xaeae);
        EXPECT(gbc.pc(), 0xbaff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbafd), 0xcb);
        EXPECT(gbc.readMem(0xbafe), 0x85);
        // CB 85 0234
        gbc.setState(0xeef5, 0xb9fb, 0xcd30, 0xdc2, 0xa4fa, 0x32e2, 0x0, 0x0);
        gbc.writeMem(0xeef5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb9fb);
        EXPECT(gbc.pc(), 0xeef7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeef5), 0xcb);
        EXPECT(gbc.readMem(0xeef6), 0x85);
        // CB 85 0235
        gbc.setState(0x8596, 0x3f14, 0xe340, 0x45af, 0xce06, 0xf4d5, 0x1, 0x0);
        gbc.writeMem(0x8596, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3f14);
        EXPECT(gbc.pc(), 0x8598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8596), 0xcb);
        EXPECT(gbc.readMem(0x8597), 0x85);
        // CB 85 0236
        gbc.setState(0x4c16, 0xbac6, 0x360, 0xa41c, 0x69ec, 0x47f0, 0x1, 0x0);
        gbc.writeMem(0x4c16, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xbac6);
        EXPECT(gbc.pc(), 0x4c18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0237
        gbc.setState(0xa320, 0xceb8, 0x6290, 0x70b5, 0x3bef, 0x139d, 0x0, 0x1);
        gbc.writeMem(0xa320, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xceb8);
        EXPECT(gbc.pc(), 0xa322);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa320), 0xcb);
        EXPECT(gbc.readMem(0xa321), 0x85);
        // CB 85 0238
        gbc.setState(0xc62d, 0xdfe4, 0xefd0, 0x7b04, 0x54f2, 0x641c, 0x0, 0x0);
        gbc.writeMem(0xc62d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xdfe4);
        EXPECT(gbc.pc(), 0xc62f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc62d), 0xcb);
        EXPECT(gbc.readMem(0xc62e), 0x85);
        // CB 85 0239
        gbc.setState(0xc497, 0x570b, 0xb5d0, 0x4fee, 0xf5aa, 0xa6b1, 0x0, 0x0);
        gbc.writeMem(0xc497, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x570b);
        EXPECT(gbc.pc(), 0xc499);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc497), 0xcb);
        EXPECT(gbc.readMem(0xc498), 0x85);
        // CB 85 023A
        gbc.setState(0x3e8, 0x2709, 0x3de0, 0xcb06, 0x8e4d, 0x3555, 0x1, 0x0);
        gbc.writeMem(0x3e8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2709);
        EXPECT(gbc.pc(), 0x3ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 023B
        gbc.setState(0xbc38, 0xf2d8, 0xe500, 0x41ea, 0xd5b2, 0xae8, 0x1, 0x1);
        gbc.writeMem(0xbc38, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf2d8);
        EXPECT(gbc.pc(), 0xbc3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc38), 0xcb);
        EXPECT(gbc.readMem(0xbc39), 0x85);
        // CB 85 023C
        gbc.setState(0x19fe, 0x3e7e, 0x5990, 0xe941, 0xd887, 0x25a, 0x0, 0x1);
        gbc.writeMem(0x19fe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3e7e);
        EXPECT(gbc.pc(), 0x1a00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 023D
        gbc.setState(0xe891, 0x1104, 0x1340, 0x1d89, 0xffd5, 0x1280, 0x0, 0x0);
        gbc.writeMem(0xe891, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1104);
        EXPECT(gbc.pc(), 0xe893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe891), 0xcb);
        EXPECT(gbc.readMem(0xe892), 0x85);
        // CB 85 023E
        gbc.setState(0x4d49, 0x450e, 0xd3e0, 0x7196, 0x99d6, 0x612a, 0x1, 0x0);
        gbc.writeMem(0x4d49, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x450e);
        EXPECT(gbc.pc(), 0x4d4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 023F
        gbc.setState(0xd7b3, 0x59f1, 0x26e0, 0xeafa, 0x2337, 0x61f6, 0x1, 0x1);
        gbc.writeMem(0xd7b3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x59f1);
        EXPECT(gbc.pc(), 0xd7b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7b3), 0xcb);
        EXPECT(gbc.readMem(0xd7b4), 0x85);
        // CB 85 0240
        gbc.setState(0x9343, 0x68e0, 0xb590, 0xc1fe, 0xa90, 0xc2d5, 0x1, 0x0);
        gbc.writeMem(0x9343, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x68e0);
        EXPECT(gbc.pc(), 0x9345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9343), 0xcb);
        EXPECT(gbc.readMem(0x9344), 0x85);
        // CB 85 0241
        gbc.setState(0x3e5d, 0x81ec, 0x5ea0, 0x4dd4, 0xc9da, 0xe3e6, 0x0, 0x1);
        gbc.writeMem(0x3e5d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x81ec);
        EXPECT(gbc.pc(), 0x3e5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0242
        gbc.setState(0x8599, 0x281e, 0x3a10, 0x3ba0, 0x65dd, 0x3f3a, 0x1, 0x0);
        gbc.writeMem(0x8599, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0x859b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8599), 0xcb);
        EXPECT(gbc.readMem(0x859a), 0x85);
        // CB 85 0243
        gbc.setState(0x6ce3, 0x5e7c, 0xdf70, 0x3bb, 0x6546, 0xe52f, 0x1, 0x1);
        gbc.writeMem(0x6ce3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5e7c);
        EXPECT(gbc.pc(), 0x6ce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0244
        gbc.setState(0x9292, 0x3034, 0x9050, 0x43e6, 0x8ebf, 0xc589, 0x0, 0x0);
        gbc.writeMem(0x9292, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3034);
        EXPECT(gbc.pc(), 0x9294);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9292), 0xcb);
        EXPECT(gbc.readMem(0x9293), 0x85);
        // CB 85 0245
        gbc.setState(0xb06, 0xb2f7, 0xa3c0, 0x1fd, 0x184b, 0x7491, 0x1, 0x1);
        gbc.writeMem(0xb06, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb2f7);
        EXPECT(gbc.pc(), 0xb08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0246
        gbc.setState(0x623, 0x7991, 0xe4f0, 0x4be5, 0xe932, 0xe048, 0x1, 0x1);
        gbc.writeMem(0x623, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7991);
        EXPECT(gbc.pc(), 0x625);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0247
        gbc.setState(0x694d, 0xa4e8, 0x2e40, 0x8c45, 0xb063, 0xe1d8, 0x0, 0x1);
        gbc.writeMem(0x694d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa4e8);
        EXPECT(gbc.pc(), 0x694f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0248
        gbc.setState(0x6f7a, 0xd87b, 0x8d80, 0x6604, 0x9a07, 0x5a60, 0x0, 0x0);
        gbc.writeMem(0x6f7a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd87b);
        EXPECT(gbc.pc(), 0x6f7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0249
        gbc.setState(0x5bd, 0xd5a6, 0x76b0, 0xfa69, 0xeda4, 0x3c1f, 0x1, 0x1);
        gbc.writeMem(0x5bd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd5a6);
        EXPECT(gbc.pc(), 0x5bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 024A
        gbc.setState(0x2aa8, 0x3a67, 0xe190, 0x7e2a, 0x91cc, 0xa0dc, 0x0, 0x1);
        gbc.writeMem(0x2aa8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3a67);
        EXPECT(gbc.pc(), 0x2aaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 024B
        gbc.setState(0x6085, 0x1d1f, 0xf310, 0xb3a5, 0x8fc6, 0x8295, 0x0, 0x0);
        gbc.writeMem(0x6085, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1d1f);
        EXPECT(gbc.pc(), 0x6087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 024D
        gbc.setState(0xe687, 0x6d92, 0xe360, 0xc362, 0x5ea7, 0xd130, 0x0, 0x1);
        gbc.writeMem(0xe687, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6d92);
        EXPECT(gbc.pc(), 0xe689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe687), 0xcb);
        EXPECT(gbc.readMem(0xe688), 0x85);
        // CB 85 024E
        gbc.setState(0x2381, 0xe610, 0x2150, 0xf308, 0x3d0c, 0xba72, 0x1, 0x1);
        gbc.writeMem(0x2381, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe610);
        EXPECT(gbc.pc(), 0x2383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 024F
        gbc.setState(0xaff7, 0xa01d, 0xed90, 0x5ddc, 0xe495, 0xade7, 0x0, 0x0);
        gbc.writeMem(0xaff7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xa01d);
        EXPECT(gbc.pc(), 0xaff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaff7), 0xcb);
        EXPECT(gbc.readMem(0xaff8), 0x85);
        // CB 85 0250
        gbc.setState(0x7ef6, 0xa2b1, 0xec80, 0xacf1, 0xeeb1, 0x26ee, 0x0, 0x1);
        gbc.writeMem(0x7ef6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xa2b1);
        EXPECT(gbc.pc(), 0x7ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0251
        gbc.setState(0x847d, 0xadd3, 0x6f80, 0xcc20, 0x51ee, 0x1a59, 0x0, 0x1);
        gbc.writeMem(0x847d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xadd3);
        EXPECT(gbc.pc(), 0x847f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x847d), 0xcb);
        EXPECT(gbc.readMem(0x847e), 0x85);
        // CB 85 0252
        gbc.setState(0xc4d8, 0x265d, 0x6f70, 0x1eb5, 0x96ca, 0x3381, 0x1, 0x1);
        gbc.writeMem(0xc4d8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x265d);
        EXPECT(gbc.pc(), 0xc4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4d8), 0xcb);
        EXPECT(gbc.readMem(0xc4d9), 0x85);
        // CB 85 0253
        gbc.setState(0x2c1, 0xa1cc, 0xc40, 0xc563, 0x582e, 0xc145, 0x0, 0x0);
        gbc.writeMem(0x2c1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa1cc);
        EXPECT(gbc.pc(), 0x2c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0254
        gbc.setState(0xc23e, 0xdae4, 0xd700, 0x8b60, 0x95be, 0x97aa, 0x0, 0x0);
        gbc.writeMem(0xc23e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdae4);
        EXPECT(gbc.pc(), 0xc240);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc23e), 0xcb);
        EXPECT(gbc.readMem(0xc23f), 0x85);
        // CB 85 0255
        gbc.setState(0x1ee9, 0xf266, 0xe640, 0xd36b, 0x9069, 0x75ba, 0x1, 0x0);
        gbc.writeMem(0x1ee9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf266);
        EXPECT(gbc.pc(), 0x1eeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0256
        gbc.setState(0x6c70, 0x6be3, 0x8a20, 0x827, 0xacab, 0x9c86, 0x0, 0x1);
        gbc.writeMem(0x6c70, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6be3);
        EXPECT(gbc.pc(), 0x6c72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0257
        gbc.setState(0x775, 0xee6c, 0xf120, 0x1d90, 0x10e, 0xa5cd, 0x1, 0x0);
        gbc.writeMem(0x775, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xee6c);
        EXPECT(gbc.pc(), 0x777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0259
        gbc.setState(0xcfcc, 0x3964, 0x3b40, 0xff76, 0x84f4, 0x303c, 0x0, 0x0);
        gbc.writeMem(0xcfcc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3964);
        EXPECT(gbc.pc(), 0xcfce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfcc), 0xcb);
        EXPECT(gbc.readMem(0xcfcd), 0x85);
        // CB 85 025A
        gbc.setState(0x14bf, 0xeee9, 0x52f0, 0x2a45, 0x70c0, 0xe2c0, 0x0, 0x0);
        gbc.writeMem(0x14bf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xeee9);
        EXPECT(gbc.pc(), 0x14c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 025B
        gbc.setState(0x1806, 0x5bc, 0x2670, 0x277f, 0x7ec1, 0xfa2c, 0x0, 0x0);
        gbc.writeMem(0x1806, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x5bc);
        EXPECT(gbc.pc(), 0x1808);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 025C
        gbc.setState(0xaf3b, 0x8201, 0x5470, 0xf54f, 0x8bf5, 0xe195, 0x1, 0x1);
        gbc.writeMem(0xaf3b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8201);
        EXPECT(gbc.pc(), 0xaf3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf3b), 0xcb);
        EXPECT(gbc.readMem(0xaf3c), 0x85);
        // CB 85 025D
        gbc.setState(0x1ea5, 0x26ed, 0x6790, 0x598b, 0x2340, 0xe238, 0x0, 0x1);
        gbc.writeMem(0x1ea5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x26ed);
        EXPECT(gbc.pc(), 0x1ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 025F
        gbc.setState(0x83e1, 0x92d2, 0xf370, 0x372e, 0x1b30, 0x8cd, 0x1, 0x0);
        gbc.writeMem(0x83e1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x92d2);
        EXPECT(gbc.pc(), 0x83e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83e1), 0xcb);
        EXPECT(gbc.readMem(0x83e2), 0x85);
        // CB 85 0260
        gbc.setState(0x6cb9, 0x7edf, 0x4750, 0x90e2, 0x47eb, 0xa5e8, 0x0, 0x1);
        gbc.writeMem(0x6cb9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7edf);
        EXPECT(gbc.pc(), 0x6cbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0261
        gbc.setState(0xd5a0, 0x89f9, 0x5120, 0xf90a, 0xdac2, 0x771f, 0x0, 0x1);
        gbc.writeMem(0xd5a0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x89f9);
        EXPECT(gbc.pc(), 0xd5a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a0), 0xcb);
        EXPECT(gbc.readMem(0xd5a1), 0x85);
        // CB 85 0262
        gbc.setState(0x4049, 0xfc70, 0xc6c0, 0x5cc5, 0x76a0, 0x59d9, 0x0, 0x0);
        gbc.writeMem(0x4049, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfc70);
        EXPECT(gbc.pc(), 0x404b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0263
        gbc.setState(0x1cef, 0x9037, 0xb690, 0xa849, 0xe05b, 0x429e, 0x0, 0x1);
        gbc.writeMem(0x1cef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9037);
        EXPECT(gbc.pc(), 0x1cf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0264
        gbc.setState(0xd09a, 0xda8a, 0xae50, 0xfe64, 0xb53a, 0xa74d, 0x1, 0x1);
        gbc.writeMem(0xd09a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xda8a);
        EXPECT(gbc.pc(), 0xd09c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd09a), 0xcb);
        EXPECT(gbc.readMem(0xd09b), 0x85);
        // CB 85 0265
        gbc.setState(0x8a32, 0xd4dc, 0xa3f0, 0x4d46, 0xef36, 0x2174, 0x1, 0x0);
        gbc.writeMem(0x8a32, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd4dc);
        EXPECT(gbc.pc(), 0x8a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a32), 0xcb);
        EXPECT(gbc.readMem(0x8a33), 0x85);
        // CB 85 0266
        gbc.setState(0xb90, 0x63e0, 0x4a20, 0xa353, 0x209, 0xb63f, 0x0, 0x0);
        gbc.writeMem(0xb90, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x63e0);
        EXPECT(gbc.pc(), 0xb92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0267
        gbc.setState(0x2b4a, 0x8c6e, 0x9fa0, 0x15d1, 0xcc88, 0x37f2, 0x1, 0x0);
        gbc.writeMem(0x2b4a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8c6e);
        EXPECT(gbc.pc(), 0x2b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0268
        gbc.setState(0xcad0, 0x18cd, 0xc3f0, 0xbe53, 0xe627, 0x9e9c, 0x1, 0x0);
        gbc.writeMem(0xcad0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x18cd);
        EXPECT(gbc.pc(), 0xcad2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad0), 0xcb);
        EXPECT(gbc.readMem(0xcad1), 0x85);
        // CB 85 0269
        gbc.setState(0xc5aa, 0xa4a, 0xe940, 0x54f0, 0xd4a7, 0x8e38, 0x1, 0x0);
        gbc.writeMem(0xc5aa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa4a);
        EXPECT(gbc.pc(), 0xc5ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5aa), 0xcb);
        EXPECT(gbc.readMem(0xc5ab), 0x85);
        // CB 85 026A
        gbc.setState(0x17a5, 0xade5, 0x7610, 0x1bfe, 0x9180, 0x7481, 0x1, 0x1);
        gbc.writeMem(0x17a5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xade5);
        EXPECT(gbc.pc(), 0x17a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 026B
        gbc.setState(0x6879, 0xc74f, 0xe600, 0xa2e6, 0x5200, 0x5b96, 0x0, 0x1);
        gbc.writeMem(0x6879, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc74f);
        EXPECT(gbc.pc(), 0x687b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 026C
        gbc.setState(0x49d7, 0x2eec, 0x7b80, 0x7af9, 0x7f9a, 0x2d72, 0x1, 0x1);
        gbc.writeMem(0x49d7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2eec);
        EXPECT(gbc.pc(), 0x49d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 026D
        gbc.setState(0xa550, 0x3ae8, 0x9f60, 0x5517, 0x9d70, 0xe7a6, 0x1, 0x1);
        gbc.writeMem(0xa550, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3ae8);
        EXPECT(gbc.pc(), 0xa552);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa550), 0xcb);
        EXPECT(gbc.readMem(0xa551), 0x85);
        // CB 85 026E
        gbc.setState(0x2c47, 0xca64, 0xc9e0, 0x156b, 0x61c, 0xfeb2, 0x1, 0x0);
        gbc.writeMem(0x2c47, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xca64);
        EXPECT(gbc.pc(), 0x2c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0270
        gbc.setState(0xa296, 0xa344, 0x5b90, 0x2553, 0xef1f, 0x6eca, 0x0, 0x0);
        gbc.writeMem(0xa296, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xa344);
        EXPECT(gbc.pc(), 0xa298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa296), 0xcb);
        EXPECT(gbc.readMem(0xa297), 0x85);
        // CB 85 0271
        gbc.setState(0x30fa, 0x63d1, 0x2f10, 0xd31f, 0xe75b, 0x44ca, 0x0, 0x1);
        gbc.writeMem(0x30fa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x63d1);
        EXPECT(gbc.pc(), 0x30fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0272
        gbc.setState(0x1f3d, 0x1a60, 0xec30, 0xa255, 0x712b, 0xf962, 0x0, 0x1);
        gbc.writeMem(0x1f3d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1a60);
        EXPECT(gbc.pc(), 0x1f3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0273
        gbc.setState(0x16c4, 0xa52a, 0x7530, 0x4a6f, 0x99c6, 0xe45, 0x0, 0x1);
        gbc.writeMem(0x16c4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa52a);
        EXPECT(gbc.pc(), 0x16c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0274
        gbc.setState(0x7080, 0xa6c7, 0xd800, 0x96b8, 0x574, 0x1587, 0x0, 0x0);
        gbc.writeMem(0x7080, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa6c7);
        EXPECT(gbc.pc(), 0x7082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0275
        gbc.setState(0x1ed4, 0xd86f, 0x4830, 0xde1, 0xa4c, 0x58c4, 0x0, 0x1);
        gbc.writeMem(0x1ed4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xd86f);
        EXPECT(gbc.pc(), 0x1ed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0276
        gbc.setState(0xba8a, 0x1e8, 0x6fd0, 0x8dd3, 0x65cc, 0xeac2, 0x0, 0x1);
        gbc.writeMem(0xba8a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1e8);
        EXPECT(gbc.pc(), 0xba8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8a), 0xcb);
        EXPECT(gbc.readMem(0xba8b), 0x85);
        // CB 85 0277
        gbc.setState(0xcf85, 0x13e7, 0x5d0, 0x5c0b, 0xa54d, 0x98c4, 0x0, 0x0);
        gbc.writeMem(0xcf85, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x13e7);
        EXPECT(gbc.pc(), 0xcf87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf85), 0xcb);
        EXPECT(gbc.readMem(0xcf86), 0x85);
        // CB 85 0278
        gbc.setState(0x3a5c, 0x4ecb, 0x1bf0, 0xd7b7, 0xf53, 0x6e5b, 0x1, 0x0);
        gbc.writeMem(0x3a5c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4ecb);
        EXPECT(gbc.pc(), 0x3a5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0279
        gbc.setState(0x104, 0x4e76, 0xe750, 0x6f6e, 0xae30, 0x5485, 0x1, 0x0);
        gbc.writeMem(0x104, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4e76);
        EXPECT(gbc.pc(), 0x106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 027A
        gbc.setState(0xc29a, 0x9a2a, 0xd990, 0x5d0a, 0xf0fd, 0x83a7, 0x1, 0x1);
        gbc.writeMem(0xc29a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9a2a);
        EXPECT(gbc.pc(), 0xc29c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc29a), 0xcb);
        EXPECT(gbc.readMem(0xc29b), 0x85);
        // CB 85 027C
        gbc.setState(0xb8f6, 0x9f6, 0x4b60, 0x37f6, 0x148a, 0x6156, 0x0, 0x0);
        gbc.writeMem(0xb8f6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x9f6);
        EXPECT(gbc.pc(), 0xb8f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f6), 0xcb);
        EXPECT(gbc.readMem(0xb8f7), 0x85);
        // CB 85 027D
        gbc.setState(0x57b6, 0x25f2, 0xb910, 0x9af4, 0x1226, 0xf034, 0x0, 0x1);
        gbc.writeMem(0x57b6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x25f2);
        EXPECT(gbc.pc(), 0x57b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 027E
        gbc.setState(0xee2d, 0xdf3c, 0x4da0, 0x870b, 0xe9b7, 0xe092, 0x0, 0x1);
        gbc.writeMem(0xee2d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xdf3c);
        EXPECT(gbc.pc(), 0xee2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee2d), 0xcb);
        EXPECT(gbc.readMem(0xee2e), 0x85);
        // CB 85 027F
        gbc.setState(0x9afd, 0x75d7, 0x81d0, 0x283f, 0x6a63, 0xcdd, 0x0, 0x0);
        gbc.writeMem(0x9afd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x75d7);
        EXPECT(gbc.pc(), 0x9aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9afd), 0xcb);
        EXPECT(gbc.readMem(0x9afe), 0x85);
        // CB 85 0280
        gbc.setState(0x91f4, 0x7909, 0x2480, 0xed1, 0xd3ce, 0x7ba7, 0x0, 0x1);
        gbc.writeMem(0x91f4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7909);
        EXPECT(gbc.pc(), 0x91f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91f4), 0xcb);
        EXPECT(gbc.readMem(0x91f5), 0x85);
        // CB 85 0281
        gbc.setState(0x4609, 0xd8f4, 0xe5d0, 0xf50c, 0x75ba, 0xf9ac, 0x0, 0x1);
        gbc.writeMem(0x4609, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd8f4);
        EXPECT(gbc.pc(), 0x460b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0283
        gbc.setState(0xd272, 0xc8ae, 0xe850, 0x367c, 0xfd69, 0x6733, 0x0, 0x0);
        gbc.writeMem(0xd272, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc8ae);
        EXPECT(gbc.pc(), 0xd274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd272), 0xcb);
        EXPECT(gbc.readMem(0xd273), 0x85);
        // CB 85 0284
        gbc.setState(0x8039, 0xbf9e, 0x9380, 0x5ed8, 0xb663, 0xd963, 0x1, 0x0);
        gbc.writeMem(0x8039, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xbf9e);
        EXPECT(gbc.pc(), 0x803b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8039), 0xcb);
        EXPECT(gbc.readMem(0x803a), 0x85);
        // CB 85 0286
        gbc.setState(0x5698, 0xcb04, 0x4c70, 0x326b, 0xf22e, 0x8d9b, 0x1, 0x0);
        gbc.writeMem(0x5698, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xcb04);
        EXPECT(gbc.pc(), 0x569a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0287
        gbc.setState(0x693d, 0x45bb, 0xa340, 0x2680, 0xca75, 0x75dd, 0x1, 0x1);
        gbc.writeMem(0x693d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x45bb);
        EXPECT(gbc.pc(), 0x693f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0288
        gbc.setState(0xe9aa, 0x142, 0xd920, 0x3535, 0x1fd, 0x5317, 0x0, 0x1);
        gbc.writeMem(0xe9aa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x142);
        EXPECT(gbc.pc(), 0xe9ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9aa), 0xcb);
        EXPECT(gbc.readMem(0xe9ab), 0x85);
        // CB 85 0289
        gbc.setState(0x6551, 0xe5d3, 0x68b0, 0x442c, 0xfc47, 0x3b74, 0x1, 0x1);
        gbc.writeMem(0x6551, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe5d3);
        EXPECT(gbc.pc(), 0x6553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 028A
        gbc.setState(0xd78a, 0xc209, 0xe390, 0x2010, 0x8b65, 0x1885, 0x1, 0x1);
        gbc.writeMem(0xd78a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc209);
        EXPECT(gbc.pc(), 0xd78c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd78a), 0xcb);
        EXPECT(gbc.readMem(0xd78b), 0x85);
        // CB 85 028B
        gbc.setState(0xd77, 0xf90f, 0x6e30, 0x2ba5, 0xfca3, 0x42f1, 0x0, 0x1);
        gbc.writeMem(0xd77, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xf90f);
        EXPECT(gbc.pc(), 0xd79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 028C
        gbc.setState(0xedd7, 0xbae9, 0xf630, 0x226d, 0xc635, 0xa0f4, 0x0, 0x1);
        gbc.writeMem(0xedd7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xbae9);
        EXPECT(gbc.pc(), 0xedd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedd7), 0xcb);
        EXPECT(gbc.readMem(0xedd8), 0x85);
        // CB 85 028D
        gbc.setState(0xa913, 0x9f3e, 0x3fa0, 0x7fc2, 0xcbf, 0x4454, 0x0, 0x1);
        gbc.writeMem(0xa913, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9f3e);
        EXPECT(gbc.pc(), 0xa915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa913), 0xcb);
        EXPECT(gbc.readMem(0xa914), 0x85);
        // CB 85 028E
        gbc.setState(0xb299, 0xab9a, 0xc4b0, 0x8b82, 0x2742, 0xa639, 0x1, 0x0);
        gbc.writeMem(0xb299, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xab9a);
        EXPECT(gbc.pc(), 0xb29b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb299), 0xcb);
        EXPECT(gbc.readMem(0xb29a), 0x85);
        // CB 85 028F
        gbc.setState(0xa333, 0xbcd7, 0x9060, 0xa1f3, 0x409b, 0xb79, 0x1, 0x1);
        gbc.writeMem(0xa333, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xbcd7);
        EXPECT(gbc.pc(), 0xa335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa333), 0xcb);
        EXPECT(gbc.readMem(0xa334), 0x85);
        // CB 85 0290
        gbc.setState(0x3c71, 0xa5c2, 0x15a0, 0xc998, 0x60e5, 0x7a06, 0x0, 0x0);
        gbc.writeMem(0x3c71, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa5c2);
        EXPECT(gbc.pc(), 0x3c73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0291
        gbc.setState(0x717d, 0x5a6e, 0x45f0, 0xbb19, 0x91ae, 0x7991, 0x0, 0x0);
        gbc.writeMem(0x717d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5a6e);
        EXPECT(gbc.pc(), 0x717f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0292
        gbc.setState(0xd0d, 0x1662, 0x5b10, 0xfecc, 0xce93, 0x6aa1, 0x0, 0x1);
        gbc.writeMem(0xd0d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1662);
        EXPECT(gbc.pc(), 0xd0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0293
        gbc.setState(0x1a07, 0x2157, 0xf870, 0x54a8, 0x402d, 0x7e4c, 0x1, 0x1);
        gbc.writeMem(0x1a07, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2157);
        EXPECT(gbc.pc(), 0x1a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0294
        gbc.setState(0x243d, 0x1ef4, 0x2650, 0x5cfe, 0xddd1, 0xd07b, 0x0, 0x1);
        gbc.writeMem(0x243d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1ef4);
        EXPECT(gbc.pc(), 0x243f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0295
        gbc.setState(0x8939, 0xd348, 0xc9b0, 0xfcf6, 0x3ea0, 0x88b5, 0x0, 0x0);
        gbc.writeMem(0x8939, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd348);
        EXPECT(gbc.pc(), 0x893b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8939), 0xcb);
        EXPECT(gbc.readMem(0x893a), 0x85);
        // CB 85 0296
        gbc.setState(0xcc36, 0x6c20, 0xb600, 0xc52c, 0x4496, 0xcb9d, 0x1, 0x0);
        gbc.writeMem(0xcc36, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6c20);
        EXPECT(gbc.pc(), 0xcc38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc36), 0xcb);
        EXPECT(gbc.readMem(0xcc37), 0x85);
        // CB 85 0297
        gbc.setState(0xb78a, 0x5e50, 0x9ac0, 0xb6e3, 0xd55f, 0xcc4d, 0x1, 0x0);
        gbc.writeMem(0xb78a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5e50);
        EXPECT(gbc.pc(), 0xb78c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb78a), 0xcb);
        EXPECT(gbc.readMem(0xb78b), 0x85);
        // CB 85 0298
        gbc.setState(0x7dec, 0xd725, 0x7ec0, 0xed67, 0x9e14, 0xc543, 0x0, 0x1);
        gbc.writeMem(0x7dec, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd725);
        EXPECT(gbc.pc(), 0x7dee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0299
        gbc.setState(0xd36c, 0x3ebf, 0x650, 0x9c45, 0xb9a4, 0xbf60, 0x0, 0x1);
        gbc.writeMem(0xd36c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3ebf);
        EXPECT(gbc.pc(), 0xd36e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd36c), 0xcb);
        EXPECT(gbc.readMem(0xd36d), 0x85);
        // CB 85 029A
        gbc.setState(0xef72, 0xe540, 0x1370, 0x5e07, 0x813e, 0x1794, 0x1, 0x1);
        gbc.writeMem(0xef72, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe540);
        EXPECT(gbc.pc(), 0xef74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef72), 0xcb);
        EXPECT(gbc.readMem(0xef73), 0x85);
        // CB 85 029B
        gbc.setState(0x6f27, 0x17fc, 0x9fd0, 0x612c, 0xe8db, 0x2b86, 0x0, 0x0);
        gbc.writeMem(0x6f27, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x17fc);
        EXPECT(gbc.pc(), 0x6f29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 029C
        gbc.setState(0x6935, 0x2d53, 0xa920, 0x7af0, 0x3758, 0x4112, 0x0, 0x1);
        gbc.writeMem(0x6935, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2d53);
        EXPECT(gbc.pc(), 0x6937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 029D
        gbc.setState(0x64de, 0x366c, 0x53c0, 0xebd6, 0x9b17, 0x5c75, 0x1, 0x0);
        gbc.writeMem(0x64de, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x366c);
        EXPECT(gbc.pc(), 0x64e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 029E
        gbc.setState(0x31ef, 0x91a3, 0xadf0, 0x91c8, 0xcf81, 0xc880, 0x1, 0x1);
        gbc.writeMem(0x31ef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x91a3);
        EXPECT(gbc.pc(), 0x31f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 029F
        gbc.setState(0xdd1c, 0xd848, 0x8540, 0xe8b2, 0x39aa, 0xed17, 0x0, 0x1);
        gbc.writeMem(0xdd1c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd848);
        EXPECT(gbc.pc(), 0xdd1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1c), 0xcb);
        EXPECT(gbc.readMem(0xdd1d), 0x85);
        // CB 85 02A0
        gbc.setState(0x984e, 0xb686, 0x3260, 0xf278, 0x814, 0x1dd7, 0x1, 0x0);
        gbc.writeMem(0x984e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb686);
        EXPECT(gbc.pc(), 0x9850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x984e), 0xcb);
        EXPECT(gbc.readMem(0x984f), 0x85);
        // CB 85 02A1
        gbc.setState(0xaa85, 0xf5ff, 0xd820, 0xdb84, 0x3ef7, 0x3ccb, 0x0, 0x1);
        gbc.writeMem(0xaa85, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf5ff);
        EXPECT(gbc.pc(), 0xaa87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa85), 0xcb);
        EXPECT(gbc.readMem(0xaa86), 0x85);
        // CB 85 02A2
        gbc.setState(0xe6b9, 0xd65b, 0x81e0, 0x790e, 0xe77b, 0x7612, 0x0, 0x1);
        gbc.writeMem(0xe6b9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xd65b);
        EXPECT(gbc.pc(), 0xe6bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b9), 0xcb);
        EXPECT(gbc.readMem(0xe6ba), 0x85);
        // CB 85 02A3
        gbc.setState(0x9ab0, 0x5d2a, 0xe210, 0xae2e, 0xd0dc, 0x82e0, 0x0, 0x1);
        gbc.writeMem(0x9ab0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5d2a);
        EXPECT(gbc.pc(), 0x9ab2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ab0), 0xcb);
        EXPECT(gbc.readMem(0x9ab1), 0x85);
        // CB 85 02A4
        gbc.setState(0xa863, 0x39c5, 0x18a0, 0x39ff, 0x6960, 0x2ba0, 0x1, 0x0);
        gbc.writeMem(0xa863, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x39c5);
        EXPECT(gbc.pc(), 0xa865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa863), 0xcb);
        EXPECT(gbc.readMem(0xa864), 0x85);
        // CB 85 02A5
        gbc.setState(0x39a0, 0x6132, 0x3140, 0x1fc6, 0xc969, 0x94d2, 0x1, 0x1);
        gbc.writeMem(0x39a0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6132);
        EXPECT(gbc.pc(), 0x39a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02A6
        gbc.setState(0xaa56, 0xb3fc, 0x54d0, 0x65e6, 0x3692, 0x86a6, 0x1, 0x0);
        gbc.writeMem(0xaa56, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb3fc);
        EXPECT(gbc.pc(), 0xaa58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa56), 0xcb);
        EXPECT(gbc.readMem(0xaa57), 0x85);
        // CB 85 02A7
        gbc.setState(0x5d60, 0x2e4d, 0xaa80, 0x360a, 0x6797, 0xff3c, 0x0, 0x0);
        gbc.writeMem(0x5d60, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2e4d);
        EXPECT(gbc.pc(), 0x5d62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02A8
        gbc.setState(0x9180, 0xe805, 0x8c40, 0x2587, 0x7981, 0xcfae, 0x0, 0x0);
        gbc.writeMem(0x9180, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe805);
        EXPECT(gbc.pc(), 0x9182);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9180), 0xcb);
        EXPECT(gbc.readMem(0x9181), 0x85);
        // CB 85 02A9
        gbc.setState(0xdea7, 0xd20c, 0x24f0, 0x33e8, 0x5f65, 0xb21a, 0x1, 0x0);
        gbc.writeMem(0xdea7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd20c);
        EXPECT(gbc.pc(), 0xdea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdea7), 0xcb);
        EXPECT(gbc.readMem(0xdea8), 0x85);
        // CB 85 02AA
        gbc.setState(0x14e0, 0x90a8, 0xd530, 0x6d8e, 0x6447, 0x1a02, 0x1, 0x1);
        gbc.writeMem(0x14e0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x90a8);
        EXPECT(gbc.pc(), 0x14e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02AB
        gbc.setState(0x6f47, 0x2d84, 0x3dd0, 0x8943, 0xd597, 0x2322, 0x1, 0x1);
        gbc.writeMem(0x6f47, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2d84);
        EXPECT(gbc.pc(), 0x6f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02AC
        gbc.setState(0xad0f, 0x26bd, 0x82d0, 0xd50c, 0x23d8, 0xfb67, 0x1, 0x1);
        gbc.writeMem(0xad0f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x26bd);
        EXPECT(gbc.pc(), 0xad11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad0f), 0xcb);
        EXPECT(gbc.readMem(0xad10), 0x85);
        // CB 85 02AD
        gbc.setState(0x7931, 0xf5c0, 0x9210, 0xbb49, 0x843a, 0xf25f, 0x0, 0x1);
        gbc.writeMem(0x7931, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf5c0);
        EXPECT(gbc.pc(), 0x7933);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02AE
        gbc.setState(0x1548, 0xc85d, 0x1010, 0xdbcf, 0x1c44, 0x6f27, 0x0, 0x1);
        gbc.writeMem(0x1548, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc85d);
        EXPECT(gbc.pc(), 0x154a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02AF
        gbc.setState(0xe20e, 0x93d1, 0x73e0, 0x2df3, 0x1bc7, 0xf771, 0x1, 0x0);
        gbc.writeMem(0xe20e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x93d1);
        EXPECT(gbc.pc(), 0xe210);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe20e), 0xcb);
        EXPECT(gbc.readMem(0xe20f), 0x85);
        // CB 85 02B0
        gbc.setState(0xd719, 0x7a3b, 0x8b90, 0x8749, 0xa1e1, 0x78eb, 0x1, 0x1);
        gbc.writeMem(0xd719, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7a3b);
        EXPECT(gbc.pc(), 0xd71b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd719), 0xcb);
        EXPECT(gbc.readMem(0xd71a), 0x85);
        // CB 85 02B1
        gbc.setState(0xe721, 0xe29d, 0x16b0, 0x6f6c, 0x5ee3, 0xe9fb, 0x1, 0x0);
        gbc.writeMem(0xe721, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe29d);
        EXPECT(gbc.pc(), 0xe723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe721), 0xcb);
        EXPECT(gbc.readMem(0xe722), 0x85);
        // CB 85 02B2
        gbc.setState(0xefd4, 0x511f, 0xfd80, 0xcbc2, 0xf5f2, 0x4df4, 0x0, 0x0);
        gbc.writeMem(0xefd4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x511f);
        EXPECT(gbc.pc(), 0xefd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd4), 0xcb);
        EXPECT(gbc.readMem(0xefd5), 0x85);
        // CB 85 02B3
        gbc.setState(0xe414, 0xf0dd, 0x9700, 0x2517, 0xb9cc, 0xf2ba, 0x0, 0x0);
        gbc.writeMem(0xe414, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf0dd);
        EXPECT(gbc.pc(), 0xe416);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe414), 0xcb);
        EXPECT(gbc.readMem(0xe415), 0x85);
        // CB 85 02B4
        gbc.setState(0x7fd, 0x6cda, 0xf5f0, 0x39ec, 0x49cb, 0xcf75, 0x0, 0x0);
        gbc.writeMem(0x7fd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6cda);
        EXPECT(gbc.pc(), 0x7ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02B5
        gbc.setState(0x4091, 0x405a, 0x6d80, 0xf446, 0xb66c, 0xd785, 0x1, 0x1);
        gbc.writeMem(0x4091, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x405a);
        EXPECT(gbc.pc(), 0x4093);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02B6
        gbc.setState(0xe00e, 0x126f, 0x99a0, 0xf638, 0x655f, 0x6d3, 0x0, 0x1);
        gbc.writeMem(0xe00e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x126f);
        EXPECT(gbc.pc(), 0xe010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe00e), 0xcb);
        EXPECT(gbc.readMem(0xe00f), 0x85);
        // CB 85 02B7
        gbc.setState(0xec94, 0xca81, 0xd2d0, 0x810, 0x2141, 0x93f5, 0x1, 0x0);
        gbc.writeMem(0xec94, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xca81);
        EXPECT(gbc.pc(), 0xec96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec94), 0xcb);
        EXPECT(gbc.readMem(0xec95), 0x85);
        // CB 85 02B8
        gbc.setState(0x185a, 0x7085, 0x8310, 0x8ad, 0x1aa4, 0x8572, 0x0, 0x0);
        gbc.writeMem(0x185a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7085);
        EXPECT(gbc.pc(), 0x185c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02BA
        gbc.setState(0xa07b, 0xe373, 0x7070, 0xc90c, 0x6799, 0xe514, 0x1, 0x0);
        gbc.writeMem(0xa07b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe373);
        EXPECT(gbc.pc(), 0xa07d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa07b), 0xcb);
        EXPECT(gbc.readMem(0xa07c), 0x85);
        // CB 85 02BB
        gbc.setState(0x43cd, 0x955c, 0x65f0, 0x41db, 0x81f1, 0x469e, 0x1, 0x1);
        gbc.writeMem(0x43cd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x955c);
        EXPECT(gbc.pc(), 0x43cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02BC
        gbc.setState(0xea74, 0x5e45, 0x8010, 0xf065, 0x1e61, 0x9809, 0x0, 0x0);
        gbc.writeMem(0xea74, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5e45);
        EXPECT(gbc.pc(), 0xea76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea74), 0xcb);
        EXPECT(gbc.readMem(0xea75), 0x85);
        // CB 85 02BD
        gbc.setState(0x7332, 0x6d48, 0xfaf0, 0x2daf, 0xacb4, 0x9353, 0x1, 0x1);
        gbc.writeMem(0x7332, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6d48);
        EXPECT(gbc.pc(), 0x7334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02BE
        gbc.setState(0x6373, 0xc1ce, 0x7010, 0xffd, 0xc43f, 0xc653, 0x0, 0x1);
        gbc.writeMem(0x6373, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc1ce);
        EXPECT(gbc.pc(), 0x6375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02BF
        gbc.setState(0xe04d, 0x6bf9, 0xeed0, 0xbbcc, 0x8989, 0x9c7e, 0x1, 0x1);
        gbc.writeMem(0xe04d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6bf9);
        EXPECT(gbc.pc(), 0xe04f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe04d), 0xcb);
        EXPECT(gbc.readMem(0xe04e), 0x85);
        // CB 85 02C0
        gbc.setState(0xd277, 0x6390, 0x2d40, 0x6c83, 0xeafd, 0x64b9, 0x1, 0x0);
        gbc.writeMem(0xd277, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x6390);
        EXPECT(gbc.pc(), 0xd279);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd277), 0xcb);
        EXPECT(gbc.readMem(0xd278), 0x85);
        // CB 85 02C1
        gbc.setState(0x5d1c, 0x8f14, 0xf920, 0x348, 0x983, 0x8062, 0x1, 0x0);
        gbc.writeMem(0x5d1c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8f14);
        EXPECT(gbc.pc(), 0x5d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02C2
        gbc.setState(0x4bc6, 0xec96, 0xcca0, 0x851e, 0xc599, 0x1bdc, 0x0, 0x0);
        gbc.writeMem(0x4bc6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xec96);
        EXPECT(gbc.pc(), 0x4bc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02C3
        gbc.setState(0x2085, 0x4b6, 0xc990, 0xfdd5, 0xa855, 0x193c, 0x0, 0x0);
        gbc.writeMem(0x2085, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4b6);
        EXPECT(gbc.pc(), 0x2087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02C4
        gbc.setState(0x4d8, 0x503b, 0xdbc0, 0x95df, 0x67e4, 0xd5aa, 0x1, 0x0);
        gbc.writeMem(0x4d8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x503b);
        EXPECT(gbc.pc(), 0x4da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02C5
        gbc.setState(0x4bc5, 0x221f, 0x1cf0, 0xba2, 0x3bab, 0x8e4e, 0x0, 0x1);
        gbc.writeMem(0x4bc5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x221f);
        EXPECT(gbc.pc(), 0x4bc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02C6
        gbc.setState(0x8f9f, 0xec8b, 0x3ed0, 0x90e6, 0x9aed, 0xbfc6, 0x1, 0x1);
        gbc.writeMem(0x8f9f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xec8b);
        EXPECT(gbc.pc(), 0x8fa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f9f), 0xcb);
        EXPECT(gbc.readMem(0x8fa0), 0x85);
        // CB 85 02C7
        gbc.setState(0xd42f, 0xd513, 0x2f10, 0xfa81, 0x2c71, 0xb33d, 0x0, 0x0);
        gbc.writeMem(0xd42f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd513);
        EXPECT(gbc.pc(), 0xd431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd42f), 0xcb);
        EXPECT(gbc.readMem(0xd430), 0x85);
        // CB 85 02C8
        gbc.setState(0x52cf, 0x38ad, 0x9740, 0x491f, 0x1064, 0x3763, 0x1, 0x0);
        gbc.writeMem(0x52cf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x38ad);
        EXPECT(gbc.pc(), 0x52d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02C9
        gbc.setState(0x5cce, 0xf166, 0xcd30, 0x8880, 0x283a, 0x454, 0x1, 0x0);
        gbc.writeMem(0x5cce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf166);
        EXPECT(gbc.pc(), 0x5cd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02CA
        gbc.setState(0x2139, 0xb362, 0x7170, 0x7434, 0xf549, 0x6b50, 0x1, 0x0);
        gbc.writeMem(0x2139, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb362);
        EXPECT(gbc.pc(), 0x213b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02CB
        gbc.setState(0x6f2b, 0x2131, 0xba50, 0x6080, 0x9f71, 0xd487, 0x1, 0x0);
        gbc.writeMem(0x6f2b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2131);
        EXPECT(gbc.pc(), 0x6f2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02CC
        gbc.setState(0xb572, 0xf1bb, 0xecf0, 0x6bb0, 0xac3f, 0x6cfc, 0x1, 0x1);
        gbc.writeMem(0xb572, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xf1bb);
        EXPECT(gbc.pc(), 0xb574);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb572), 0xcb);
        EXPECT(gbc.readMem(0xb573), 0x85);
        // CB 85 02CD
        gbc.setState(0xee8, 0x9acb, 0x36c0, 0xfc40, 0x2424, 0xb42, 0x1, 0x0);
        gbc.writeMem(0xee8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9acb);
        EXPECT(gbc.pc(), 0xeea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02CE
        gbc.setState(0x73fe, 0x507b, 0xa620, 0x575e, 0xeaac, 0x7858, 0x0, 0x0);
        gbc.writeMem(0x73fe, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x507b);
        EXPECT(gbc.pc(), 0x7400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02CF
        gbc.setState(0xc593, 0x2cea, 0x1430, 0xde90, 0x7940, 0x91fb, 0x0, 0x1);
        gbc.writeMem(0xc593, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2cea);
        EXPECT(gbc.pc(), 0xc595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc593), 0xcb);
        EXPECT(gbc.readMem(0xc594), 0x85);
        // CB 85 02D0
        gbc.setState(0x9cc1, 0xc7ce, 0xe990, 0x9c9e, 0xf28a, 0x65da, 0x1, 0x0);
        gbc.writeMem(0x9cc1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc7ce);
        EXPECT(gbc.pc(), 0x9cc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cc1), 0xcb);
        EXPECT(gbc.readMem(0x9cc2), 0x85);
        // CB 85 02D1
        gbc.setState(0x8315, 0xd4ca, 0x96b0, 0xb63b, 0x286b, 0x43e1, 0x1, 0x0);
        gbc.writeMem(0x8315, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd4ca);
        EXPECT(gbc.pc(), 0x8317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8315), 0xcb);
        EXPECT(gbc.readMem(0x8316), 0x85);
        // CB 85 02D2
        gbc.setState(0x3ac, 0xad5e, 0xe570, 0xce27, 0xd88b, 0xf7e9, 0x1, 0x0);
        gbc.writeMem(0x3ac, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xad5e);
        EXPECT(gbc.pc(), 0x3ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02D3
        gbc.setState(0x9907, 0x2c5, 0x5510, 0x64e4, 0x94d8, 0xc388, 0x1, 0x1);
        gbc.writeMem(0x9907, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2c5);
        EXPECT(gbc.pc(), 0x9909);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9907), 0xcb);
        EXPECT(gbc.readMem(0x9908), 0x85);
        // CB 85 02D4
        gbc.setState(0x3ca6, 0x259d, 0xd850, 0x262, 0x553, 0x8f95, 0x0, 0x0);
        gbc.writeMem(0x3ca6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x259d);
        EXPECT(gbc.pc(), 0x3ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02D5
        gbc.setState(0x3ccd, 0xe27b, 0xf360, 0xd206, 0x42c4, 0xff74, 0x0, 0x1);
        gbc.writeMem(0x3ccd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe27b);
        EXPECT(gbc.pc(), 0x3ccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02D6
        gbc.setState(0xea87, 0x3253, 0xd960, 0xfb67, 0xf035, 0x54ca, 0x1, 0x1);
        gbc.writeMem(0xea87, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x3253);
        EXPECT(gbc.pc(), 0xea89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea87), 0xcb);
        EXPECT(gbc.readMem(0xea88), 0x85);
        // CB 85 02D7
        gbc.setState(0xacae, 0xba90, 0x3020, 0x59ac, 0xe93c, 0x2aa4, 0x0, 0x1);
        gbc.writeMem(0xacae, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xba90);
        EXPECT(gbc.pc(), 0xacb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacae), 0xcb);
        EXPECT(gbc.readMem(0xacaf), 0x85);
        // CB 85 02D8
        gbc.setState(0x937a, 0x95d4, 0x3cb0, 0xd142, 0xbee1, 0xbdb2, 0x1, 0x0);
        gbc.writeMem(0x937a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x95d4);
        EXPECT(gbc.pc(), 0x937c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x937a), 0xcb);
        EXPECT(gbc.readMem(0x937b), 0x85);
        // CB 85 02D9
        gbc.setState(0xbc9, 0xfbd1, 0x6550, 0xc0db, 0xe1a8, 0x784e, 0x1, 0x1);
        gbc.writeMem(0xbc9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfbd1);
        EXPECT(gbc.pc(), 0xbcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02DA
        gbc.setState(0x5388, 0x7b67, 0xd850, 0x6108, 0xfbc5, 0x3640, 0x1, 0x0);
        gbc.writeMem(0x5388, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7b67);
        EXPECT(gbc.pc(), 0x538a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02DB
        gbc.setState(0xe428, 0x6eac, 0xb8d0, 0x2cb8, 0x86d0, 0xc550, 0x0, 0x1);
        gbc.writeMem(0xe428, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x6eac);
        EXPECT(gbc.pc(), 0xe42a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe428), 0xcb);
        EXPECT(gbc.readMem(0xe429), 0x85);
        // CB 85 02DC
        gbc.setState(0x9c09, 0x2f56, 0x90e0, 0x678a, 0xee9a, 0x182d, 0x1, 0x1);
        gbc.writeMem(0x9c09, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2f56);
        EXPECT(gbc.pc(), 0x9c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c09), 0xcb);
        EXPECT(gbc.readMem(0x9c0a), 0x85);
        // CB 85 02DD
        gbc.setState(0x406c, 0x2c2d, 0xa6f0, 0x3b95, 0x44d2, 0xb1d3, 0x1, 0x1);
        gbc.writeMem(0x406c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2c2d);
        EXPECT(gbc.pc(), 0x406e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02DE
        gbc.setState(0xdc7f, 0xb3b2, 0x93f0, 0xe9e6, 0xc28, 0xd129, 0x0, 0x1);
        gbc.writeMem(0xdc7f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb3b2);
        EXPECT(gbc.pc(), 0xdc81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc7f), 0xcb);
        EXPECT(gbc.readMem(0xdc80), 0x85);
        // CB 85 02DF
        gbc.setState(0x6689, 0x676c, 0x58b0, 0x66ab, 0x8016, 0x6e19, 0x0, 0x1);
        gbc.writeMem(0x6689, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x676c);
        EXPECT(gbc.pc(), 0x668b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02E0
        gbc.setState(0x96ba, 0x9870, 0x90c0, 0x841b, 0x6f4a, 0x7313, 0x0, 0x1);
        gbc.writeMem(0x96ba, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9870);
        EXPECT(gbc.pc(), 0x96bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ba), 0xcb);
        EXPECT(gbc.readMem(0x96bb), 0x85);
        // CB 85 02E1
        gbc.setState(0xd6d8, 0x9a88, 0x3ae0, 0x960c, 0x78e1, 0x12ce, 0x1, 0x1);
        gbc.writeMem(0xd6d8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9a88);
        EXPECT(gbc.pc(), 0xd6da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6d8), 0xcb);
        EXPECT(gbc.readMem(0xd6d9), 0x85);
        // CB 85 02E3
        gbc.setState(0x551a, 0xb1ca, 0x7d70, 0x15be, 0x47b0, 0xb9b9, 0x0, 0x1);
        gbc.writeMem(0x551a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb1ca);
        EXPECT(gbc.pc(), 0x551c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02E4
        gbc.setState(0x6f0a, 0xd579, 0xddb0, 0xd1b8, 0x683, 0x48a8, 0x1, 0x1);
        gbc.writeMem(0x6f0a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd579);
        EXPECT(gbc.pc(), 0x6f0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02E5
        gbc.setState(0x1f4a, 0x69ce, 0xbe90, 0xb13f, 0x4b8f, 0x9a8d, 0x0, 0x0);
        gbc.writeMem(0x1f4a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x69ce);
        EXPECT(gbc.pc(), 0x1f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02E6
        gbc.setState(0x85f3, 0x7538, 0xd170, 0xa962, 0x6238, 0x7903, 0x1, 0x0);
        gbc.writeMem(0x85f3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7538);
        EXPECT(gbc.pc(), 0x85f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85f3), 0xcb);
        EXPECT(gbc.readMem(0x85f4), 0x85);
        // CB 85 02E7
        gbc.setState(0x198e, 0xc43, 0xe8e0, 0x4c75, 0xcf86, 0x88b8, 0x0, 0x1);
        gbc.writeMem(0x198e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc43);
        EXPECT(gbc.pc(), 0x1990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02E8
        gbc.setState(0xbd12, 0xe6fe, 0x28f0, 0x8a88, 0x5e57, 0x4834, 0x1, 0x1);
        gbc.writeMem(0xbd12, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe6fe);
        EXPECT(gbc.pc(), 0xbd14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd12), 0xcb);
        EXPECT(gbc.readMem(0xbd13), 0x85);
        // CB 85 02E9
        gbc.setState(0xcd14, 0x27fb, 0xc230, 0x5592, 0x3c4c, 0xfad9, 0x0, 0x1);
        gbc.writeMem(0xcd14, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x27fb);
        EXPECT(gbc.pc(), 0xcd16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd14), 0xcb);
        EXPECT(gbc.readMem(0xcd15), 0x85);
        // CB 85 02EA
        gbc.setState(0x315f, 0xf85, 0xccc0, 0xabc4, 0x501e, 0x6b3c, 0x0, 0x1);
        gbc.writeMem(0x315f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf85);
        EXPECT(gbc.pc(), 0x3161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02EB
        gbc.setState(0x50d2, 0x83ae, 0xfa20, 0x1209, 0x7500, 0xe97e, 0x1, 0x0);
        gbc.writeMem(0x50d2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x83ae);
        EXPECT(gbc.pc(), 0x50d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02EC
        gbc.setState(0x94c1, 0x59df, 0x8750, 0x563f, 0x360e, 0x3cb, 0x0, 0x0);
        gbc.writeMem(0x94c1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x59df);
        EXPECT(gbc.pc(), 0x94c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c1), 0xcb);
        EXPECT(gbc.readMem(0x94c2), 0x85);
        // CB 85 02EE
        gbc.setState(0xca4b, 0xee9d, 0xd6f0, 0x4d74, 0x29d0, 0x6f99, 0x1, 0x0);
        gbc.writeMem(0xca4b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xee9d);
        EXPECT(gbc.pc(), 0xca4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca4b), 0xcb);
        EXPECT(gbc.readMem(0xca4c), 0x85);
        // CB 85 02EF
        gbc.setState(0x57a8, 0x730b, 0xdb00, 0x8d5d, 0xf813, 0xc9ca, 0x0, 0x1);
        gbc.writeMem(0x57a8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x730b);
        EXPECT(gbc.pc(), 0x57aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02F0
        gbc.setState(0x8f5d, 0xb5b9, 0x8b00, 0xc7ce, 0xe1e2, 0x1686, 0x0, 0x0);
        gbc.writeMem(0x8f5d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb5b9);
        EXPECT(gbc.pc(), 0x8f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5d), 0xcb);
        EXPECT(gbc.readMem(0x8f5e), 0x85);
        // CB 85 02F1
        gbc.setState(0x8571, 0x5122, 0x40, 0xc11a, 0x6ce1, 0x11c9, 0x0, 0x0);
        gbc.writeMem(0x8571, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5122);
        EXPECT(gbc.pc(), 0x8573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8571), 0xcb);
        EXPECT(gbc.readMem(0x8572), 0x85);
        // CB 85 02F2
        gbc.setState(0xe6ce, 0xe50f, 0x2f90, 0x850f, 0x233d, 0xaf24, 0x0, 0x0);
        gbc.writeMem(0xe6ce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe50f);
        EXPECT(gbc.pc(), 0xe6d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ce), 0xcb);
        EXPECT(gbc.readMem(0xe6cf), 0x85);
        // CB 85 02F3
        gbc.setState(0xc8e7, 0x925c, 0xb3c0, 0x13a, 0x1f79, 0x388e, 0x1, 0x0);
        gbc.writeMem(0xc8e7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x925c);
        EXPECT(gbc.pc(), 0xc8e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8e7), 0xcb);
        EXPECT(gbc.readMem(0xc8e8), 0x85);
        // CB 85 02F4
        gbc.setState(0x52f0, 0x5eff, 0xbd50, 0x77d7, 0x1403, 0xa480, 0x1, 0x1);
        gbc.writeMem(0x52f0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5eff);
        EXPECT(gbc.pc(), 0x52f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02F5
        gbc.setState(0xa08c, 0x6341, 0x5040, 0x6446, 0x61bb, 0x210c, 0x1, 0x0);
        gbc.writeMem(0xa08c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6341);
        EXPECT(gbc.pc(), 0xa08e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa08c), 0xcb);
        EXPECT(gbc.readMem(0xa08d), 0x85);
        // CB 85 02F6
        gbc.setState(0x3044, 0xcc9b, 0x1360, 0x5742, 0xab45, 0x1f82, 0x1, 0x1);
        gbc.writeMem(0x3044, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xcc9b);
        EXPECT(gbc.pc(), 0x3046);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02F7
        gbc.setState(0xa68b, 0xf659, 0x22e0, 0xbc10, 0x64d1, 0x488d, 0x0, 0x1);
        gbc.writeMem(0xa68b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf659);
        EXPECT(gbc.pc(), 0xa68d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa68b), 0xcb);
        EXPECT(gbc.readMem(0xa68c), 0x85);
        // CB 85 02F8
        gbc.setState(0x5f42, 0xdae6, 0xbd00, 0x6a5b, 0x92, 0xf836, 0x0, 0x0);
        gbc.writeMem(0x5f42, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xdae6);
        EXPECT(gbc.pc(), 0x5f44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02F9
        gbc.setState(0x4d77, 0x8269, 0x3eb0, 0xd089, 0xb0e, 0xf812, 0x1, 0x0);
        gbc.writeMem(0x4d77, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8269);
        EXPECT(gbc.pc(), 0x4d79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 02FA
        gbc.setState(0x89a3, 0x2f81, 0xff70, 0x6b27, 0x1ad5, 0x303e, 0x0, 0x1);
        gbc.writeMem(0x89a3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2f81);
        EXPECT(gbc.pc(), 0x89a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89a3), 0xcb);
        EXPECT(gbc.readMem(0x89a4), 0x85);
        // CB 85 02FB
        gbc.setState(0xe869, 0x6f50, 0xeab0, 0x3ab1, 0xac3, 0xb699, 0x0, 0x1);
        gbc.writeMem(0xe869, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6f50);
        EXPECT(gbc.pc(), 0xe86b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe869), 0xcb);
        EXPECT(gbc.readMem(0xe86a), 0x85);
        // CB 85 02FC
        gbc.setState(0x6333, 0xea63, 0x9780, 0xafde, 0x970d, 0x12db, 0x1, 0x0);
        gbc.writeMem(0x6333, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xea63);
        EXPECT(gbc.pc(), 0x6335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 02FD
        gbc.setState(0xe600, 0xacda, 0xd520, 0xd8df, 0x31a7, 0x263, 0x0, 0x1);
        gbc.writeMem(0xe600, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xacda);
        EXPECT(gbc.pc(), 0xe602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe600), 0xcb);
        EXPECT(gbc.readMem(0xe601), 0x85);
        // CB 85 02FE
        gbc.setState(0xa30b, 0xba0, 0x8900, 0xd98b, 0x3a03, 0x3eff, 0x1, 0x1);
        gbc.writeMem(0xa30b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xba0);
        EXPECT(gbc.pc(), 0xa30d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30b), 0xcb);
        EXPECT(gbc.readMem(0xa30c), 0x85);
        // CB 85 02FF
        gbc.setState(0xbfc, 0xa243, 0xe5e0, 0x8a3f, 0x7578, 0xae72, 0x0, 0x0);
        gbc.writeMem(0xbfc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa243);
        EXPECT(gbc.pc(), 0xbfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0300
        gbc.setState(0x225b, 0xaea6, 0x4e40, 0x8b2, 0xde3a, 0xf4e2, 0x0, 0x0);
        gbc.writeMem(0x225b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xaea6);
        EXPECT(gbc.pc(), 0x225d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0301
        gbc.setState(0xadef, 0xc55, 0x2170, 0x9d82, 0x2fd3, 0x2fef, 0x1, 0x0);
        gbc.writeMem(0xadef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc55);
        EXPECT(gbc.pc(), 0xadf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadef), 0xcb);
        EXPECT(gbc.readMem(0xadf0), 0x85);
        // CB 85 0302
        gbc.setState(0x2db4, 0xf7b9, 0xd880, 0xf51f, 0xa322, 0x16be, 0x0, 0x0);
        gbc.writeMem(0x2db4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xf7b9);
        EXPECT(gbc.pc(), 0x2db6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0303
        gbc.setState(0x4bd3, 0xff0, 0xff60, 0x134a, 0x2831, 0xad41, 0x0, 0x1);
        gbc.writeMem(0x4bd3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xff0);
        EXPECT(gbc.pc(), 0x4bd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0305
        gbc.setState(0x86ea, 0xdd4f, 0xaf00, 0x591c, 0x8935, 0x9930, 0x1, 0x0);
        gbc.writeMem(0x86ea, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xdd4f);
        EXPECT(gbc.pc(), 0x86ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ea), 0xcb);
        EXPECT(gbc.readMem(0x86eb), 0x85);
        // CB 85 0306
        gbc.setState(0x21dd, 0x4ec, 0xa310, 0xa585, 0x7357, 0x8cd9, 0x0, 0x0);
        gbc.writeMem(0x21dd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4ec);
        EXPECT(gbc.pc(), 0x21df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0307
        gbc.setState(0x43c7, 0x8d74, 0xeae0, 0x6a63, 0xed9f, 0x158a, 0x1, 0x0);
        gbc.writeMem(0x43c7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8d74);
        EXPECT(gbc.pc(), 0x43c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0309
        gbc.setState(0x19e7, 0xb178, 0x24a0, 0x62e7, 0x8802, 0xbb47, 0x0, 0x1);
        gbc.writeMem(0x19e7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb178);
        EXPECT(gbc.pc(), 0x19e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 030A
        gbc.setState(0xabab, 0x2592, 0x2060, 0xc55a, 0xbfb6, 0xd361, 0x0, 0x1);
        gbc.writeMem(0xabab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2592);
        EXPECT(gbc.pc(), 0xabad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabab), 0xcb);
        EXPECT(gbc.readMem(0xabac), 0x85);
        // CB 85 030B
        gbc.setState(0x3df5, 0x4203, 0xe710, 0x6a4e, 0xa723, 0xe21f, 0x1, 0x0);
        gbc.writeMem(0x3df5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4203);
        EXPECT(gbc.pc(), 0x3df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 030C
        gbc.setState(0xcdd6, 0x8e3b, 0xf570, 0x7508, 0xcd6b, 0x8197, 0x0, 0x0);
        gbc.writeMem(0xcdd6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8e3b);
        EXPECT(gbc.pc(), 0xcdd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdd6), 0xcb);
        EXPECT(gbc.readMem(0xcdd7), 0x85);
        // CB 85 030D
        gbc.setState(0x99b9, 0x523d, 0xb980, 0x2008, 0xd260, 0x8a2b, 0x0, 0x0);
        gbc.writeMem(0x99b9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x523d);
        EXPECT(gbc.pc(), 0x99bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99b9), 0xcb);
        EXPECT(gbc.readMem(0x99ba), 0x85);
        // CB 85 030E
        gbc.setState(0xb87e, 0xd5aa, 0x59c0, 0x7cf4, 0x941b, 0x1967, 0x1, 0x0);
        gbc.writeMem(0xb87e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd5aa);
        EXPECT(gbc.pc(), 0xb880);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb87e), 0xcb);
        EXPECT(gbc.readMem(0xb87f), 0x85);
        // CB 85 030F
        gbc.setState(0x9e5f, 0x5362, 0x2c90, 0x768e, 0xdd1e, 0x771f, 0x1, 0x0);
        gbc.writeMem(0x9e5f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5362);
        EXPECT(gbc.pc(), 0x9e61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e5f), 0xcb);
        EXPECT(gbc.readMem(0x9e60), 0x85);
        // CB 85 0310
        gbc.setState(0x294b, 0xcd64, 0x9480, 0x8d97, 0xca80, 0x310a, 0x1, 0x1);
        gbc.writeMem(0x294b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xcd64);
        EXPECT(gbc.pc(), 0x294d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0311
        gbc.setState(0x7878, 0x36b3, 0x4c30, 0x787b, 0x7211, 0x8e36, 0x1, 0x0);
        gbc.writeMem(0x7878, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x36b3);
        EXPECT(gbc.pc(), 0x787a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0312
        gbc.setState(0x3b96, 0x8ec4, 0x3000, 0xfb6f, 0xdf7a, 0x439f, 0x1, 0x0);
        gbc.writeMem(0x3b96, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8ec4);
        EXPECT(gbc.pc(), 0x3b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0313
        gbc.setState(0xa085, 0xd56c, 0xe7e0, 0x53fe, 0x7bdc, 0xd93d, 0x0, 0x0);
        gbc.writeMem(0xa085, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd56c);
        EXPECT(gbc.pc(), 0xa087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa085), 0xcb);
        EXPECT(gbc.readMem(0xa086), 0x85);
        // CB 85 0314
        gbc.setState(0x7da5, 0x238c, 0x8430, 0xd62e, 0x276, 0x28c3, 0x0, 0x1);
        gbc.writeMem(0x7da5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x238c);
        EXPECT(gbc.pc(), 0x7da7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0315
        gbc.setState(0x188, 0xfcf1, 0xf460, 0xb57c, 0x9369, 0x94ef, 0x1, 0x1);
        gbc.writeMem(0x188, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xfcf1);
        EXPECT(gbc.pc(), 0x18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0316
        gbc.setState(0x6cad, 0x4b7c, 0x1530, 0x7ae4, 0x4925, 0xde82, 0x0, 0x1);
        gbc.writeMem(0x6cad, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4b7c);
        EXPECT(gbc.pc(), 0x6caf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0317
        gbc.setState(0x561a, 0x83b0, 0x8800, 0x8605, 0x6f, 0x835d, 0x1, 0x1);
        gbc.writeMem(0x561a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x83b0);
        EXPECT(gbc.pc(), 0x561c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0318
        gbc.setState(0xc180, 0x2f2a, 0x31b0, 0x9b97, 0x5fef, 0x4198, 0x0, 0x0);
        gbc.writeMem(0xc180, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2f2a);
        EXPECT(gbc.pc(), 0xc182);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc180), 0xcb);
        EXPECT(gbc.readMem(0xc181), 0x85);
        // CB 85 0319
        gbc.setState(0x5342, 0x5b04, 0x63c0, 0x25ee, 0x775f, 0x9adc, 0x0, 0x0);
        gbc.writeMem(0x5342, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5b04);
        EXPECT(gbc.pc(), 0x5344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 031A
        gbc.setState(0x9b99, 0x15f, 0x4e20, 0xa9e4, 0xa1fb, 0xb0d5, 0x0, 0x0);
        gbc.writeMem(0x9b99, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x15f);
        EXPECT(gbc.pc(), 0x9b9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b99), 0xcb);
        EXPECT(gbc.readMem(0x9b9a), 0x85);
        // CB 85 031B
        gbc.setState(0x2011, 0x6f14, 0x2b30, 0x43ba, 0x2b8c, 0x2fa6, 0x1, 0x0);
        gbc.writeMem(0x2011, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6f14);
        EXPECT(gbc.pc(), 0x2013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 031D
        gbc.setState(0x912d, 0x9425, 0xcfa0, 0x381d, 0xf8a2, 0xfe18, 0x1, 0x1);
        gbc.writeMem(0x912d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9425);
        EXPECT(gbc.pc(), 0x912f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x912d), 0xcb);
        EXPECT(gbc.readMem(0x912e), 0x85);
        // CB 85 031E
        gbc.setState(0x1cd6, 0x7ac, 0x9a60, 0x40a3, 0xc246, 0xb864, 0x0, 0x0);
        gbc.writeMem(0x1cd6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7ac);
        EXPECT(gbc.pc(), 0x1cd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 031F
        gbc.setState(0x5064, 0x488d, 0x8c00, 0xbac8, 0x37c4, 0x3cc8, 0x0, 0x0);
        gbc.writeMem(0x5064, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x488d);
        EXPECT(gbc.pc(), 0x5066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0321
        gbc.setState(0x1f3f, 0x69a4, 0x85b0, 0xcb99, 0xfa4, 0xeff3, 0x1, 0x0);
        gbc.writeMem(0x1f3f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x69a4);
        EXPECT(gbc.pc(), 0x1f41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0322
        gbc.setState(0x6a06, 0x6690, 0xc600, 0xa0a0, 0xbe23, 0x4b2, 0x0, 0x1);
        gbc.writeMem(0x6a06, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6690);
        EXPECT(gbc.pc(), 0x6a08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0323
        gbc.setState(0x8941, 0x38af, 0xa90, 0x6613, 0x7661, 0xaee6, 0x0, 0x1);
        gbc.writeMem(0x8941, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x38af);
        EXPECT(gbc.pc(), 0x8943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8941), 0xcb);
        EXPECT(gbc.readMem(0x8942), 0x85);
        // CB 85 0324
        gbc.setState(0xa5ff, 0xcca2, 0x300, 0x1a33, 0x7bd0, 0x7184, 0x1, 0x1);
        gbc.writeMem(0xa5ff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xcca2);
        EXPECT(gbc.pc(), 0xa601);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ff), 0xcb);
        EXPECT(gbc.readMem(0xa600), 0x85);
        // CB 85 0325
        gbc.setState(0x26ad, 0xfcf0, 0xc810, 0x808c, 0xc4c5, 0xc85c, 0x0, 0x1);
        gbc.writeMem(0x26ad, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfcf0);
        EXPECT(gbc.pc(), 0x26af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0326
        gbc.setState(0x9a82, 0x11f6, 0x2d50, 0x8ad9, 0x5077, 0xa46c, 0x1, 0x0);
        gbc.writeMem(0x9a82, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x11f6);
        EXPECT(gbc.pc(), 0x9a84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a82), 0xcb);
        EXPECT(gbc.readMem(0x9a83), 0x85);
        // CB 85 0327
        gbc.setState(0x6e1, 0xacae, 0x7190, 0x1e3a, 0xfd27, 0xd842, 0x1, 0x0);
        gbc.writeMem(0x6e1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xacae);
        EXPECT(gbc.pc(), 0x6e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0328
        gbc.setState(0xbeda, 0xd102, 0xdaa0, 0xbbdc, 0x6759, 0x6645, 0x1, 0x0);
        gbc.writeMem(0xbeda, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xd102);
        EXPECT(gbc.pc(), 0xbedc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeda), 0xcb);
        EXPECT(gbc.readMem(0xbedb), 0x85);
        // CB 85 0329
        gbc.setState(0x3155, 0x1e80, 0xf520, 0xbb93, 0x7e0f, 0xdce4, 0x1, 0x0);
        gbc.writeMem(0x3155, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1e80);
        EXPECT(gbc.pc(), 0x3157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 032A
        gbc.setState(0x1528, 0x4576, 0x51d0, 0xde15, 0xb371, 0x82da, 0x0, 0x1);
        gbc.writeMem(0x1528, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4576);
        EXPECT(gbc.pc(), 0x152a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 032B
        gbc.setState(0x4a9b, 0x8a3a, 0xd500, 0xfdc8, 0x30a9, 0xa374, 0x1, 0x1);
        gbc.writeMem(0x4a9b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8a3a);
        EXPECT(gbc.pc(), 0x4a9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 032C
        gbc.setState(0x548, 0x42b9, 0x5330, 0x79bc, 0x353f, 0x370a, 0x1, 0x1);
        gbc.writeMem(0x548, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x42b9);
        EXPECT(gbc.pc(), 0x54a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 032D
        gbc.setState(0x2615, 0x5513, 0x42b0, 0xcce5, 0x82f9, 0x4e31, 0x0, 0x1);
        gbc.writeMem(0x2615, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5513);
        EXPECT(gbc.pc(), 0x2617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 032E
        gbc.setState(0x20da, 0x7ac7, 0xe890, 0x7079, 0xac83, 0xeefe, 0x0, 0x0);
        gbc.writeMem(0x20da, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7ac7);
        EXPECT(gbc.pc(), 0x20dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 032F
        gbc.setState(0xe5b8, 0x8c96, 0x9ff0, 0x3fcb, 0xeb0e, 0x3ace, 0x1, 0x0);
        gbc.writeMem(0xe5b8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8c96);
        EXPECT(gbc.pc(), 0xe5ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b8), 0xcb);
        EXPECT(gbc.readMem(0xe5b9), 0x85);
        // CB 85 0330
        gbc.setState(0xe823, 0x967a, 0x6160, 0x90d, 0x3a68, 0xeb30, 0x1, 0x0);
        gbc.writeMem(0xe823, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x967a);
        EXPECT(gbc.pc(), 0xe825);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe823), 0xcb);
        EXPECT(gbc.readMem(0xe824), 0x85);
        // CB 85 0331
        gbc.setState(0xe49c, 0x54c0, 0x34a0, 0xf865, 0x4818, 0xd326, 0x0, 0x1);
        gbc.writeMem(0xe49c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x54c0);
        EXPECT(gbc.pc(), 0xe49e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe49c), 0xcb);
        EXPECT(gbc.readMem(0xe49d), 0x85);
        // CB 85 0332
        gbc.setState(0x3f3b, 0x7de8, 0x60, 0xdc64, 0x3453, 0xb72c, 0x1, 0x0);
        gbc.writeMem(0x3f3b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x7de8);
        EXPECT(gbc.pc(), 0x3f3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0333
        gbc.setState(0x8c87, 0x6627, 0x7160, 0x8087, 0xdaf5, 0x4e13, 0x1, 0x1);
        gbc.writeMem(0x8c87, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6627);
        EXPECT(gbc.pc(), 0x8c89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c87), 0xcb);
        EXPECT(gbc.readMem(0x8c88), 0x85);
        // CB 85 0334
        gbc.setState(0x4408, 0xcb01, 0x80c0, 0x931b, 0x6f9d, 0x6007, 0x0, 0x1);
        gbc.writeMem(0x4408, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcb01);
        EXPECT(gbc.pc(), 0x440a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0335
        gbc.setState(0x5051, 0x7df9, 0x76d0, 0x878, 0x568d, 0xb9e7, 0x1, 0x0);
        gbc.writeMem(0x5051, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x7df9);
        EXPECT(gbc.pc(), 0x5053);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0336
        gbc.setState(0x7bb6, 0xa890, 0x9ca0, 0xeb80, 0x311b, 0xf9ae, 0x0, 0x1);
        gbc.writeMem(0x7bb6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa890);
        EXPECT(gbc.pc(), 0x7bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0337
        gbc.setState(0x3a71, 0xec6b, 0x4b00, 0x4abd, 0xa8cd, 0xff34, 0x1, 0x0);
        gbc.writeMem(0x3a71, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xec6b);
        EXPECT(gbc.pc(), 0x3a73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0338
        gbc.setState(0x9b35, 0x3c73, 0xaf60, 0x8639, 0x3e51, 0x1dee, 0x1, 0x0);
        gbc.writeMem(0x9b35, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3c73);
        EXPECT(gbc.pc(), 0x9b37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b35), 0xcb);
        EXPECT(gbc.readMem(0x9b36), 0x85);
        // CB 85 0339
        gbc.setState(0x8a25, 0xfd78, 0x7eb0, 0x8f20, 0xfdf0, 0x364a, 0x1, 0x0);
        gbc.writeMem(0x8a25, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xfd78);
        EXPECT(gbc.pc(), 0x8a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a25), 0xcb);
        EXPECT(gbc.readMem(0x8a26), 0x85);
        // CB 85 033A
        gbc.setState(0x13b8, 0x23de, 0x2030, 0xb92a, 0x1e9a, 0x9f04, 0x1, 0x0);
        gbc.writeMem(0x13b8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x23de);
        EXPECT(gbc.pc(), 0x13ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 033B
        gbc.setState(0x244e, 0xcdeb, 0xf8d0, 0x3db4, 0xe293, 0x3666, 0x1, 0x0);
        gbc.writeMem(0x244e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xcdeb);
        EXPECT(gbc.pc(), 0x2450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 033C
        gbc.setState(0x77f1, 0xaf08, 0xc880, 0x996a, 0xe183, 0x401, 0x1, 0x1);
        gbc.writeMem(0x77f1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xaf08);
        EXPECT(gbc.pc(), 0x77f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 033D
        gbc.setState(0x5925, 0xa57f, 0x6440, 0x4b9b, 0x3956, 0x7df5, 0x0, 0x1);
        gbc.writeMem(0x5925, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa57f);
        EXPECT(gbc.pc(), 0x5927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 033F
        gbc.setState(0x29c2, 0x3803, 0x9220, 0x79b9, 0x113, 0x7e01, 0x1, 0x1);
        gbc.writeMem(0x29c2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3803);
        EXPECT(gbc.pc(), 0x29c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0340
        gbc.setState(0xdbcc, 0xc1d4, 0xed60, 0xc165, 0x4b52, 0x548f, 0x1, 0x1);
        gbc.writeMem(0xdbcc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc1d4);
        EXPECT(gbc.pc(), 0xdbce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbcc), 0xcb);
        EXPECT(gbc.readMem(0xdbcd), 0x85);
        // CB 85 0341
        gbc.setState(0x628a, 0x3bba, 0x66f0, 0x992a, 0xc4c2, 0xfbb9, 0x1, 0x1);
        gbc.writeMem(0x628a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3bba);
        EXPECT(gbc.pc(), 0x628c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0342
        gbc.setState(0x34ca, 0xf589, 0x9420, 0x8c18, 0xfc2b, 0xd686, 0x0, 0x1);
        gbc.writeMem(0x34ca, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf589);
        EXPECT(gbc.pc(), 0x34cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0343
        gbc.setState(0x4ae9, 0x511d, 0x9f80, 0x658e, 0x17a8, 0x1c14, 0x0, 0x1);
        gbc.writeMem(0x4ae9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x511d);
        EXPECT(gbc.pc(), 0x4aeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0344
        gbc.setState(0xad76, 0x59fe, 0xf280, 0x16f3, 0xc577, 0x55d5, 0x1, 0x1);
        gbc.writeMem(0xad76, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x59fe);
        EXPECT(gbc.pc(), 0xad78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad76), 0xcb);
        EXPECT(gbc.readMem(0xad77), 0x85);
        // CB 85 0345
        gbc.setState(0x90db, 0xa86d, 0xe100, 0x361e, 0x679a, 0x918a, 0x1, 0x0);
        gbc.writeMem(0x90db, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa86d);
        EXPECT(gbc.pc(), 0x90dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90db), 0xcb);
        EXPECT(gbc.readMem(0x90dc), 0x85);
        // CB 85 0346
        gbc.setState(0x1308, 0x4a35, 0x2190, 0x9ffd, 0x5061, 0xc429, 0x1, 0x1);
        gbc.writeMem(0x1308, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4a35);
        EXPECT(gbc.pc(), 0x130a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0347
        gbc.setState(0xe402, 0x45ba, 0x7950, 0x8576, 0x331f, 0x29a1, 0x1, 0x0);
        gbc.writeMem(0xe402, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x45ba);
        EXPECT(gbc.pc(), 0xe404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe402), 0xcb);
        EXPECT(gbc.readMem(0xe403), 0x85);
        // CB 85 0348
        gbc.setState(0x6dcc, 0x729a, 0x5600, 0x9e14, 0x9f0b, 0x64a1, 0x1, 0x0);
        gbc.writeMem(0x6dcc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x729a);
        EXPECT(gbc.pc(), 0x6dce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0349
        gbc.setState(0xecf7, 0x9ee0, 0xca00, 0x137d, 0xc626, 0x6cf3, 0x1, 0x1);
        gbc.writeMem(0xecf7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9ee0);
        EXPECT(gbc.pc(), 0xecf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecf7), 0xcb);
        EXPECT(gbc.readMem(0xecf8), 0x85);
        // CB 85 034A
        gbc.setState(0xd8d5, 0x4400, 0xf740, 0x3efc, 0xe191, 0xb473, 0x0, 0x1);
        gbc.writeMem(0xd8d5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4400);
        EXPECT(gbc.pc(), 0xd8d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d5), 0xcb);
        EXPECT(gbc.readMem(0xd8d6), 0x85);
        // CB 85 034C
        gbc.setState(0x1191, 0x9653, 0x8d80, 0x2cd5, 0x30b0, 0x8dd6, 0x1, 0x1);
        gbc.writeMem(0x1191, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9653);
        EXPECT(gbc.pc(), 0x1193);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 034D
        gbc.setState(0x206d, 0x394a, 0xd960, 0xd017, 0xf2e9, 0xfa9c, 0x0, 0x1);
        gbc.writeMem(0x206d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x394a);
        EXPECT(gbc.pc(), 0x206f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 034E
        gbc.setState(0x7b0, 0x53ef, 0xa2e0, 0x7ed3, 0xaa5c, 0xcca8, 0x0, 0x1);
        gbc.writeMem(0x7b0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x53ef);
        EXPECT(gbc.pc(), 0x7b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 034F
        gbc.setState(0x5eff, 0xf2e5, 0x6f30, 0x4b74, 0x83de, 0x2309, 0x1, 0x1);
        gbc.writeMem(0x5eff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf2e5);
        EXPECT(gbc.pc(), 0x5f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0350
        gbc.setState(0x150, 0x2be, 0xa3f0, 0x221a, 0x2da1, 0x6e97, 0x1, 0x0);
        gbc.writeMem(0x150, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2be);
        EXPECT(gbc.pc(), 0x152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0351
        gbc.setState(0x6005, 0x43cd, 0x8770, 0x2a2f, 0x62b9, 0x634d, 0x1, 0x0);
        gbc.writeMem(0x6005, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x43cd);
        EXPECT(gbc.pc(), 0x6007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0352
        gbc.setState(0x551b, 0xf658, 0x15b0, 0xf5a9, 0x9768, 0x1ac9, 0x0, 0x1);
        gbc.writeMem(0x551b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf658);
        EXPECT(gbc.pc(), 0x551d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0353
        gbc.setState(0xa372, 0xcd7f, 0xeb60, 0x556f, 0x2a69, 0x2231, 0x1, 0x1);
        gbc.writeMem(0xa372, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xcd7f);
        EXPECT(gbc.pc(), 0xa374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa372), 0xcb);
        EXPECT(gbc.readMem(0xa373), 0x85);
        // CB 85 0354
        gbc.setState(0x3969, 0x95b7, 0x1a30, 0x8f4, 0x4aa5, 0xd003, 0x0, 0x1);
        gbc.writeMem(0x3969, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x95b7);
        EXPECT(gbc.pc(), 0x396b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0355
        gbc.setState(0x9ab6, 0x7305, 0x4db0, 0xfe19, 0x33bc, 0xc5d6, 0x1, 0x0);
        gbc.writeMem(0x9ab6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7305);
        EXPECT(gbc.pc(), 0x9ab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ab6), 0xcb);
        EXPECT(gbc.readMem(0x9ab7), 0x85);
        // CB 85 0356
        gbc.setState(0xdde8, 0x59dd, 0x6330, 0x36cf, 0x31b9, 0xaa2e, 0x0, 0x0);
        gbc.writeMem(0xdde8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x59dd);
        EXPECT(gbc.pc(), 0xddea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdde8), 0xcb);
        EXPECT(gbc.readMem(0xdde9), 0x85);
        // CB 85 0357
        gbc.setState(0xd64a, 0x506c, 0xa520, 0x1925, 0x9dc5, 0xf28f, 0x1, 0x1);
        gbc.writeMem(0xd64a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x506c);
        EXPECT(gbc.pc(), 0xd64c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd64a), 0xcb);
        EXPECT(gbc.readMem(0xd64b), 0x85);
        // CB 85 0358
        gbc.setState(0x72ff, 0x46ca, 0xc840, 0xf022, 0xb461, 0xfba6, 0x0, 0x1);
        gbc.writeMem(0x72ff, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x46ca);
        EXPECT(gbc.pc(), 0x7301);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0359
        gbc.setState(0xa375, 0x5514, 0xbaf0, 0x4f35, 0x744d, 0x53a4, 0x1, 0x1);
        gbc.writeMem(0xa375, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5514);
        EXPECT(gbc.pc(), 0xa377);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa375), 0xcb);
        EXPECT(gbc.readMem(0xa376), 0x85);
        // CB 85 035A
        gbc.setState(0x2988, 0xcca6, 0x25f0, 0x239b, 0x590d, 0xb8a3, 0x0, 0x1);
        gbc.writeMem(0x2988, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xcca6);
        EXPECT(gbc.pc(), 0x298a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 035B
        gbc.setState(0xe7c9, 0xf8ca, 0xaa50, 0x31e3, 0x89c, 0x2a09, 0x0, 0x0);
        gbc.writeMem(0xe7c9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf8ca);
        EXPECT(gbc.pc(), 0xe7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7c9), 0xcb);
        EXPECT(gbc.readMem(0xe7ca), 0x85);
        // CB 85 035C
        gbc.setState(0xee1f, 0x1a5, 0x7ec0, 0xd6be, 0xab0f, 0x9e8e, 0x0, 0x0);
        gbc.writeMem(0xee1f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1a5);
        EXPECT(gbc.pc(), 0xee21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee1f), 0xcb);
        EXPECT(gbc.readMem(0xee20), 0x85);
        // CB 85 035D
        gbc.setState(0xc141, 0xd5a2, 0x64d0, 0x598a, 0x6bff, 0xba5, 0x1, 0x0);
        gbc.writeMem(0xc141, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xd5a2);
        EXPECT(gbc.pc(), 0xc143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc141), 0xcb);
        EXPECT(gbc.readMem(0xc142), 0x85);
        // CB 85 035E
        gbc.setState(0x6acf, 0x59e1, 0x1d80, 0x95b0, 0xf6c5, 0xfd25, 0x0, 0x0);
        gbc.writeMem(0x6acf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x59e1);
        EXPECT(gbc.pc(), 0x6ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 035F
        gbc.setState(0x3ce1, 0x6c8e, 0x6880, 0x68ce, 0xca5b, 0x7db6, 0x0, 0x1);
        gbc.writeMem(0x3ce1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6c8e);
        EXPECT(gbc.pc(), 0x3ce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0360
        gbc.setState(0x3555, 0x8e5c, 0x3f70, 0x6fb, 0x3380, 0x4e7f, 0x1, 0x1);
        gbc.writeMem(0x3555, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x8e5c);
        EXPECT(gbc.pc(), 0x3557);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0361
        gbc.setState(0x3e03, 0xbf38, 0xb670, 0x55df, 0xeefc, 0xe169, 0x1, 0x1);
        gbc.writeMem(0x3e03, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xbf38);
        EXPECT(gbc.pc(), 0x3e05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0362
        gbc.setState(0x51e1, 0x2739, 0x3020, 0xd5e9, 0x8254, 0xd0be, 0x0, 0x0);
        gbc.writeMem(0x51e1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2739);
        EXPECT(gbc.pc(), 0x51e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0363
        gbc.setState(0x8745, 0x70a2, 0x5e00, 0xea15, 0x265b, 0xe517, 0x1, 0x0);
        gbc.writeMem(0x8745, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x70a2);
        EXPECT(gbc.pc(), 0x8747);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8745), 0xcb);
        EXPECT(gbc.readMem(0x8746), 0x85);
        // CB 85 0364
        gbc.setState(0x3898, 0x636b, 0xd120, 0xa24, 0xb457, 0xd573, 0x0, 0x0);
        gbc.writeMem(0x3898, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x636b);
        EXPECT(gbc.pc(), 0x389a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0365
        gbc.setState(0xe218, 0x1dc5, 0xc490, 0xd97c, 0xfdd, 0x345d, 0x0, 0x0);
        gbc.writeMem(0xe218, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1dc5);
        EXPECT(gbc.pc(), 0xe21a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe218), 0xcb);
        EXPECT(gbc.readMem(0xe219), 0x85);
        // CB 85 0367
        gbc.setState(0x99bf, 0x54d1, 0x7670, 0x1bbe, 0xf8fd, 0xf5ee, 0x0, 0x1);
        gbc.writeMem(0x99bf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x54d1);
        EXPECT(gbc.pc(), 0x99c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99bf), 0xcb);
        EXPECT(gbc.readMem(0x99c0), 0x85);
        // CB 85 0368
        gbc.setState(0x31b6, 0x867f, 0x9a30, 0x386e, 0x8e4, 0x4843, 0x1, 0x0);
        gbc.writeMem(0x31b6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x867f);
        EXPECT(gbc.pc(), 0x31b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0369
        gbc.setState(0x3ed7, 0x283, 0xb2d0, 0x8223, 0xc6e6, 0x8b8, 0x1, 0x1);
        gbc.writeMem(0x3ed7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x283);
        EXPECT(gbc.pc(), 0x3ed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 036A
        gbc.setState(0xb4ab, 0x2691, 0x4870, 0xf1c0, 0x10f7, 0x9bbe, 0x0, 0x0);
        gbc.writeMem(0xb4ab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2691);
        EXPECT(gbc.pc(), 0xb4ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4ab), 0xcb);
        EXPECT(gbc.readMem(0xb4ac), 0x85);
        // CB 85 036B
        gbc.setState(0x5963, 0xf14c, 0x2170, 0x69eb, 0x9a0, 0x169e, 0x0, 0x1);
        gbc.writeMem(0x5963, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xf14c);
        EXPECT(gbc.pc(), 0x5965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 036C
        gbc.setState(0xcaed, 0xf241, 0x4a20, 0xa781, 0x710e, 0x768a, 0x0, 0x0);
        gbc.writeMem(0xcaed, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf241);
        EXPECT(gbc.pc(), 0xcaef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaed), 0xcb);
        EXPECT(gbc.readMem(0xcaee), 0x85);
        // CB 85 036D
        gbc.setState(0x5941, 0x2cd5, 0x2130, 0x6291, 0x7047, 0xb72, 0x1, 0x1);
        gbc.writeMem(0x5941, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2cd5);
        EXPECT(gbc.pc(), 0x5943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 036E
        gbc.setState(0x38a, 0x72c5, 0x7c80, 0x8f0e, 0x3d8c, 0x52d1, 0x1, 0x0);
        gbc.writeMem(0x38a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x72c5);
        EXPECT(gbc.pc(), 0x38c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 036F
        gbc.setState(0x7be6, 0x569c, 0x3760, 0xa869, 0x3dfb, 0xaa26, 0x1, 0x0);
        gbc.writeMem(0x7be6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x569c);
        EXPECT(gbc.pc(), 0x7be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0370
        gbc.setState(0x334d, 0x942b, 0x3f40, 0x39d, 0xc4a7, 0xf4e6, 0x1, 0x1);
        gbc.writeMem(0x334d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x942b);
        EXPECT(gbc.pc(), 0x334f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0371
        gbc.setState(0x9b6f, 0x16f3, 0xeed0, 0x83a3, 0x3908, 0xf7d, 0x0, 0x0);
        gbc.writeMem(0x9b6f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x16f3);
        EXPECT(gbc.pc(), 0x9b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b6f), 0xcb);
        EXPECT(gbc.readMem(0x9b70), 0x85);
        // CB 85 0372
        gbc.setState(0xb73c, 0x2b86, 0x9ad0, 0x8211, 0x5e81, 0xa975, 0x0, 0x1);
        gbc.writeMem(0xb73c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x2b86);
        EXPECT(gbc.pc(), 0xb73e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb73c), 0xcb);
        EXPECT(gbc.readMem(0xb73d), 0x85);
        // CB 85 0373
        gbc.setState(0x9a9a, 0xd94e, 0xea00, 0xbfdf, 0x9ffb, 0xfd, 0x1, 0x1);
        gbc.writeMem(0x9a9a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd94e);
        EXPECT(gbc.pc(), 0x9a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9a), 0xcb);
        EXPECT(gbc.readMem(0x9a9b), 0x85);
        // CB 85 0374
        gbc.setState(0xa3fa, 0xb6a3, 0xb710, 0x5975, 0x579b, 0xa196, 0x1, 0x0);
        gbc.writeMem(0xa3fa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb6a3);
        EXPECT(gbc.pc(), 0xa3fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3fa), 0xcb);
        EXPECT(gbc.readMem(0xa3fb), 0x85);
        // CB 85 0375
        gbc.setState(0xd29e, 0x41de, 0x3fb0, 0x5a07, 0x3ee7, 0xa1d3, 0x1, 0x1);
        gbc.writeMem(0xd29e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x41de);
        EXPECT(gbc.pc(), 0xd2a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29e), 0xcb);
        EXPECT(gbc.readMem(0xd29f), 0x85);
        // CB 85 0376
        gbc.setState(0x109b, 0xa273, 0x5250, 0x5bc9, 0x9fa4, 0x5b3d, 0x1, 0x1);
        gbc.writeMem(0x109b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa273);
        EXPECT(gbc.pc(), 0x109d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0377
        gbc.setState(0xa108, 0x46d0, 0x7a0, 0x65d8, 0xe699, 0x47af, 0x0, 0x0);
        gbc.writeMem(0xa108, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x46d0);
        EXPECT(gbc.pc(), 0xa10a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa108), 0xcb);
        EXPECT(gbc.readMem(0xa109), 0x85);
        // CB 85 0378
        gbc.setState(0x7a8f, 0xaa56, 0x5d0, 0xaa35, 0x1ad8, 0xad8e, 0x0, 0x0);
        gbc.writeMem(0x7a8f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xaa56);
        EXPECT(gbc.pc(), 0x7a91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0379
        gbc.setState(0x7da8, 0xfa09, 0x4390, 0xd04e, 0x1771, 0x6bd6, 0x0, 0x0);
        gbc.writeMem(0x7da8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfa09);
        EXPECT(gbc.pc(), 0x7daa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 037A
        gbc.setState(0xec13, 0x3c99, 0x2600, 0x9bfc, 0x75ce, 0xc65d, 0x0, 0x1);
        gbc.writeMem(0xec13, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3c99);
        EXPECT(gbc.pc(), 0xec15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec13), 0xcb);
        EXPECT(gbc.readMem(0xec14), 0x85);
        // CB 85 037B
        gbc.setState(0xa7c0, 0x5825, 0xc470, 0xaedb, 0xc536, 0x2cff, 0x0, 0x1);
        gbc.writeMem(0xa7c0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5825);
        EXPECT(gbc.pc(), 0xa7c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7c0), 0xcb);
        EXPECT(gbc.readMem(0xa7c1), 0x85);
        // CB 85 037C
        gbc.setState(0x202f, 0x248c, 0x9580, 0xcad9, 0x1ace, 0x91e9, 0x1, 0x1);
        gbc.writeMem(0x202f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x248c);
        EXPECT(gbc.pc(), 0x2031);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 037D
        gbc.setState(0x3b4, 0x8a58, 0x47d0, 0x4fb1, 0x2b5d, 0x4ac8, 0x1, 0x0);
        gbc.writeMem(0x3b4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x8a58);
        EXPECT(gbc.pc(), 0x3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 037F
        gbc.setState(0x77b3, 0x2fcb, 0x42f0, 0x5f72, 0x556c, 0xd5c3, 0x0, 0x0);
        gbc.writeMem(0x77b3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2fcb);
        EXPECT(gbc.pc(), 0x77b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0380
        gbc.setState(0x7ab, 0xfc89, 0x9e30, 0xda73, 0xf9f5, 0x5f3b, 0x1, 0x1);
        gbc.writeMem(0x7ab, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfc89);
        EXPECT(gbc.pc(), 0x7ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0381
        gbc.setState(0x95cd, 0x8714, 0x3010, 0xf371, 0xd292, 0x8b5f, 0x0, 0x0);
        gbc.writeMem(0x95cd, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8714);
        EXPECT(gbc.pc(), 0x95cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95cd), 0xcb);
        EXPECT(gbc.readMem(0x95ce), 0x85);
        // CB 85 0382
        gbc.setState(0x1d33, 0x552, 0x60, 0x4fa5, 0xd65f, 0x466a, 0x1, 0x1);
        gbc.writeMem(0x1d33, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x552);
        EXPECT(gbc.pc(), 0x1d35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0383
        gbc.setState(0x6d47, 0x68ac, 0x3f30, 0xec17, 0x77b7, 0x11ec, 0x0, 0x1);
        gbc.writeMem(0x6d47, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x68ac);
        EXPECT(gbc.pc(), 0x6d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0384
        gbc.setState(0xe6f3, 0x8d7c, 0x8c0, 0x5e9e, 0xfe11, 0x7401, 0x1, 0x1);
        gbc.writeMem(0xe6f3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8d7c);
        EXPECT(gbc.pc(), 0xe6f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f3), 0xcb);
        EXPECT(gbc.readMem(0xe6f4), 0x85);
        // CB 85 0385
        gbc.setState(0x56a, 0xdb1d, 0x5ad0, 0x6e16, 0x3f9d, 0x2230, 0x1, 0x1);
        gbc.writeMem(0x56a, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xdb1d);
        EXPECT(gbc.pc(), 0x56c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0386
        gbc.setState(0xd70b, 0x6cc7, 0xc780, 0xe709, 0x34bd, 0xf5e8, 0x1, 0x0);
        gbc.writeMem(0xd70b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6cc7);
        EXPECT(gbc.pc(), 0xd70d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd70b), 0xcb);
        EXPECT(gbc.readMem(0xd70c), 0x85);
        // CB 85 0387
        gbc.setState(0x235d, 0xcf7c, 0x3320, 0xfd0b, 0x8057, 0x707f, 0x0, 0x1);
        gbc.writeMem(0x235d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xcf7c);
        EXPECT(gbc.pc(), 0x235f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0389
        gbc.setState(0xa695, 0x66d8, 0x93d0, 0xeff0, 0xfec9, 0x33e7, 0x1, 0x1);
        gbc.writeMem(0xa695, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x66d8);
        EXPECT(gbc.pc(), 0xa697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa695), 0xcb);
        EXPECT(gbc.readMem(0xa696), 0x85);
        // CB 85 038A
        gbc.setState(0x7777, 0x6016, 0x3ff0, 0xeb13, 0xec84, 0xb5cb, 0x1, 0x0);
        gbc.writeMem(0x7777, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6016);
        EXPECT(gbc.pc(), 0x7779);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 038D
        gbc.setState(0xacb6, 0x958f, 0x69a0, 0x49e5, 0x6a8c, 0x34b0, 0x0, 0x0);
        gbc.writeMem(0xacb6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x958f);
        EXPECT(gbc.pc(), 0xacb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacb6), 0xcb);
        EXPECT(gbc.readMem(0xacb7), 0x85);
        // CB 85 038E
        gbc.setState(0x357b, 0xe20e, 0xda10, 0x13f3, 0x3148, 0x8e02, 0x1, 0x0);
        gbc.writeMem(0x357b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe20e);
        EXPECT(gbc.pc(), 0x357d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 038F
        gbc.setState(0x1cc6, 0x3918, 0x4a00, 0x57a6, 0xba16, 0xc56a, 0x0, 0x0);
        gbc.writeMem(0x1cc6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x3918);
        EXPECT(gbc.pc(), 0x1cc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0390
        gbc.setState(0x248c, 0x1f50, 0x5bd0, 0x13a3, 0x3de6, 0xcd89, 0x0, 0x1);
        gbc.writeMem(0x248c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1f50);
        EXPECT(gbc.pc(), 0x248e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0391
        gbc.setState(0x73e6, 0x924a, 0x31b0, 0x32ca, 0x8091, 0xa8cb, 0x0, 0x1);
        gbc.writeMem(0x73e6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x924a);
        EXPECT(gbc.pc(), 0x73e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 0392
        gbc.setState(0x1407, 0xaeea, 0x4f60, 0xa1ff, 0xd5fc, 0xce50, 0x0, 0x0);
        gbc.writeMem(0x1407, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xaeea);
        EXPECT(gbc.pc(), 0x1409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0393
        gbc.setState(0x77df, 0x4efd, 0x6f20, 0xbac1, 0x32fd, 0xd032, 0x0, 0x0);
        gbc.writeMem(0x77df, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x4efd);
        EXPECT(gbc.pc(), 0x77e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0394
        gbc.setState(0x11d3, 0x3549, 0x34a0, 0x1cd2, 0xb4c, 0xb3d0, 0x0, 0x0);
        gbc.writeMem(0x11d3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3549);
        EXPECT(gbc.pc(), 0x11d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0395
        gbc.setState(0x2371, 0xa7b9, 0xd60, 0x9685, 0x6350, 0xe0a1, 0x1, 0x1);
        gbc.writeMem(0x2371, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa7b9);
        EXPECT(gbc.pc(), 0x2373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0396
        gbc.setState(0xbff0, 0x5f71, 0xb710, 0xaebb, 0x5a62, 0xc15, 0x0, 0x0);
        gbc.writeMem(0xbff0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5f71);
        EXPECT(gbc.pc(), 0xbff2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbff0), 0xcb);
        EXPECT(gbc.readMem(0xbff1), 0x85);
        // CB 85 0397
        gbc.setState(0x640b, 0xd9b4, 0x8e40, 0x70fb, 0x6e1a, 0x2fc3, 0x1, 0x1);
        gbc.writeMem(0x640b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd9b4);
        EXPECT(gbc.pc(), 0x640d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 0398
        gbc.setState(0xb2b5, 0xccba, 0xae30, 0x7c4c, 0xba95, 0x5143, 0x1, 0x0);
        gbc.writeMem(0xb2b5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xccba);
        EXPECT(gbc.pc(), 0xb2b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2b5), 0xcb);
        EXPECT(gbc.readMem(0xb2b6), 0x85);
        // CB 85 0399
        gbc.setState(0xc8df, 0x6cc9, 0x70f0, 0xfc2d, 0xfd62, 0xd513, 0x0, 0x1);
        gbc.writeMem(0xc8df, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6cc9);
        EXPECT(gbc.pc(), 0xc8e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8df), 0xcb);
        EXPECT(gbc.readMem(0xc8e0), 0x85);
        // CB 85 039A
        gbc.setState(0x368, 0x5848, 0x57a0, 0x99ce, 0x6cea, 0xb455, 0x0, 0x0);
        gbc.writeMem(0x368, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5848);
        EXPECT(gbc.pc(), 0x36a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 039B
        gbc.setState(0x6e48, 0x220e, 0x4cc0, 0x3b50, 0x7a39, 0xb843, 0x0, 0x1);
        gbc.writeMem(0x6e48, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x220e);
        EXPECT(gbc.pc(), 0x6e4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 039C
        gbc.setState(0xa103, 0xca04, 0xcaf0, 0xa7d4, 0x8321, 0x6d71, 0x0, 0x1);
        gbc.writeMem(0xa103, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xca04);
        EXPECT(gbc.pc(), 0xa105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa103), 0xcb);
        EXPECT(gbc.readMem(0xa104), 0x85);
        // CB 85 039D
        gbc.setState(0xaf34, 0xeda4, 0x3ea0, 0x1374, 0x26fb, 0x99e6, 0x0, 0x0);
        gbc.writeMem(0xaf34, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xeda4);
        EXPECT(gbc.pc(), 0xaf36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf34), 0xcb);
        EXPECT(gbc.readMem(0xaf35), 0x85);
        // CB 85 039E
        gbc.setState(0x670e, 0x519d, 0xc3a0, 0xb80d, 0xbc9a, 0x2ba5, 0x1, 0x0);
        gbc.writeMem(0x670e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x519d);
        EXPECT(gbc.pc(), 0x6710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 039F
        gbc.setState(0x5fef, 0xa8ae, 0x5960, 0x6c4d, 0x6b66, 0x4164, 0x1, 0x0);
        gbc.writeMem(0x5fef, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa8ae);
        EXPECT(gbc.pc(), 0x5ff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03A0
        gbc.setState(0x5035, 0x7030, 0xe70, 0xc8f8, 0x9bbe, 0xa5c1, 0x1, 0x0);
        gbc.writeMem(0x5035, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7030);
        EXPECT(gbc.pc(), 0x5037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03A1
        gbc.setState(0x2c7d, 0xed3b, 0x3710, 0x7ae, 0xd26d, 0x8923, 0x1, 0x0);
        gbc.writeMem(0x2c7d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xed3b);
        EXPECT(gbc.pc(), 0x2c7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03A2
        gbc.setState(0x9a2b, 0x558a, 0x78c0, 0x9506, 0x39d0, 0x5173, 0x1, 0x1);
        gbc.writeMem(0x9a2b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x558a);
        EXPECT(gbc.pc(), 0x9a2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a2b), 0xcb);
        EXPECT(gbc.readMem(0x9a2c), 0x85);
        // CB 85 03A3
        gbc.setState(0x65f4, 0xbaca, 0x4f30, 0xba4c, 0xe8f0, 0x9c5e, 0x0, 0x0);
        gbc.writeMem(0x65f4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xbaca);
        EXPECT(gbc.pc(), 0x65f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03A5
        gbc.setState(0x28fa, 0x35f4, 0x5ae0, 0x8989, 0xa821, 0x6c1c, 0x0, 0x0);
        gbc.writeMem(0x28fa, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x35f4);
        EXPECT(gbc.pc(), 0x28fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03A6
        gbc.setState(0x9215, 0x9279, 0x1f20, 0xbd38, 0xc897, 0x19d2, 0x1, 0x0);
        gbc.writeMem(0x9215, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9279);
        EXPECT(gbc.pc(), 0x9217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9215), 0xcb);
        EXPECT(gbc.readMem(0x9216), 0x85);
        // CB 85 03A7
        gbc.setState(0x618b, 0xf262, 0xd120, 0x3acd, 0xd2b6, 0x8688, 0x1, 0x1);
        gbc.writeMem(0x618b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xf262);
        EXPECT(gbc.pc(), 0x618d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03A8
        gbc.setState(0x9d16, 0x4505, 0xbb10, 0xbfc6, 0x4f96, 0xcd04, 0x0, 0x1);
        gbc.writeMem(0x9d16, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4505);
        EXPECT(gbc.pc(), 0x9d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d16), 0xcb);
        EXPECT(gbc.readMem(0x9d17), 0x85);
        // CB 85 03A9
        gbc.setState(0x6f3c, 0xa064, 0xc7e0, 0xaf67, 0x15d7, 0xda5f, 0x0, 0x0);
        gbc.writeMem(0x6f3c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa064);
        EXPECT(gbc.pc(), 0x6f3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03AA
        gbc.setState(0x53bc, 0xf678, 0xbdc0, 0xa6e, 0xdff7, 0xe174, 0x1, 0x0);
        gbc.writeMem(0x53bc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf678);
        EXPECT(gbc.pc(), 0x53be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03AB
        gbc.setState(0x8911, 0x10d1, 0x9b10, 0xa360, 0x34cd, 0xf1f7, 0x1, 0x0);
        gbc.writeMem(0x8911, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x10d1);
        EXPECT(gbc.pc(), 0x8913);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8911), 0xcb);
        EXPECT(gbc.readMem(0x8912), 0x85);
        // CB 85 03AC
        gbc.setState(0xefc3, 0x60ab, 0x8ae0, 0x2f58, 0xbf51, 0x1cc4, 0x0, 0x1);
        gbc.writeMem(0xefc3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x60ab);
        EXPECT(gbc.pc(), 0xefc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc3), 0xcb);
        EXPECT(gbc.readMem(0xefc4), 0x85);
        // CB 85 03AD
        gbc.setState(0xdee6, 0xb792, 0x3df0, 0xbb9d, 0xefe4, 0xc8c0, 0x0, 0x1);
        gbc.writeMem(0xdee6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb792);
        EXPECT(gbc.pc(), 0xdee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdee6), 0xcb);
        EXPECT(gbc.readMem(0xdee7), 0x85);
        // CB 85 03AE
        gbc.setState(0x4321, 0x65e2, 0x1050, 0xeae, 0xf1df, 0x417f, 0x1, 0x1);
        gbc.writeMem(0x4321, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x65e2);
        EXPECT(gbc.pc(), 0x4323);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03AF
        gbc.setState(0x250b, 0x5837, 0x2d30, 0xbb2b, 0xb74e, 0xd7f3, 0x0, 0x1);
        gbc.writeMem(0x250b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5837);
        EXPECT(gbc.pc(), 0x250d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03B0
        gbc.setState(0x8a9f, 0xcaee, 0xd480, 0xf86c, 0xa193, 0x80fb, 0x0, 0x0);
        gbc.writeMem(0x8a9f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0x8aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a9f), 0xcb);
        EXPECT(gbc.readMem(0x8aa0), 0x85);
        // CB 85 03B1
        gbc.setState(0x300f, 0xb056, 0x14c0, 0x106f, 0x5483, 0x8613, 0x1, 0x1);
        gbc.writeMem(0x300f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb056);
        EXPECT(gbc.pc(), 0x3011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03B2
        gbc.setState(0x818b, 0xf8f8, 0x560, 0xb4bb, 0x6c14, 0x1baa, 0x0, 0x1);
        gbc.writeMem(0x818b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf8f8);
        EXPECT(gbc.pc(), 0x818d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x818b), 0xcb);
        EXPECT(gbc.readMem(0x818c), 0x85);
        // CB 85 03B3
        gbc.setState(0xdac0, 0x20ed, 0xc880, 0x1e23, 0xf8dd, 0x3119, 0x0, 0x1);
        gbc.writeMem(0xdac0, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x20ed);
        EXPECT(gbc.pc(), 0xdac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdac0), 0xcb);
        EXPECT(gbc.readMem(0xdac1), 0x85);
        // CB 85 03B4
        gbc.setState(0x5986, 0x9a2f, 0x5260, 0x731b, 0x72d8, 0x2470, 0x1, 0x1);
        gbc.writeMem(0x5986, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9a2f);
        EXPECT(gbc.pc(), 0x5988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03B5
        gbc.setState(0x4870, 0x1f9c, 0x31f0, 0xf2ec, 0x40c0, 0xa457, 0x0, 0x0);
        gbc.writeMem(0x4870, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1f9c);
        EXPECT(gbc.pc(), 0x4872);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03B6
        gbc.setState(0xb21b, 0x6875, 0xf720, 0x6480, 0x3163, 0xab18, 0x0, 0x1);
        gbc.writeMem(0xb21b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6875);
        EXPECT(gbc.pc(), 0xb21d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb21b), 0xcb);
        EXPECT(gbc.readMem(0xb21c), 0x85);
        // CB 85 03B7
        gbc.setState(0x8a17, 0x3a5f, 0x75c0, 0x6c39, 0x6c9c, 0xad0e, 0x1, 0x0);
        gbc.writeMem(0x8a17, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3a5f);
        EXPECT(gbc.pc(), 0x8a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a17), 0xcb);
        EXPECT(gbc.readMem(0x8a18), 0x85);
        // CB 85 03B8
        gbc.setState(0x8750, 0xa77c, 0x4fb0, 0xa606, 0xa194, 0x563c, 0x1, 0x0);
        gbc.writeMem(0x8750, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa77c);
        EXPECT(gbc.pc(), 0x8752);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8750), 0xcb);
        EXPECT(gbc.readMem(0x8751), 0x85);
        // CB 85 03BA
        gbc.setState(0x95a2, 0xe650, 0xd760, 0x2add, 0xb1f6, 0xb95b, 0x0, 0x0);
        gbc.writeMem(0x95a2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe650);
        EXPECT(gbc.pc(), 0x95a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a2), 0xcb);
        EXPECT(gbc.readMem(0x95a3), 0x85);
        // CB 85 03BB
        gbc.setState(0x385c, 0x70ca, 0x6e0, 0xdfde, 0x62be, 0x2b95, 0x0, 0x0);
        gbc.writeMem(0x385c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x70ca);
        EXPECT(gbc.pc(), 0x385e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03BC
        gbc.setState(0xc188, 0x9ee6, 0xd70, 0x569f, 0x14ce, 0xbd54, 0x1, 0x0);
        gbc.writeMem(0xc188, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9ee6);
        EXPECT(gbc.pc(), 0xc18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc188), 0xcb);
        EXPECT(gbc.readMem(0xc189), 0x85);
        // CB 85 03BD
        gbc.setState(0x1d4b, 0x1c20, 0x94a0, 0x6149, 0xb9b8, 0xb8a, 0x0, 0x0);
        gbc.writeMem(0x1d4b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1c20);
        EXPECT(gbc.pc(), 0x1d4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03BE
        gbc.setState(0xb6d6, 0xa43d, 0x5240, 0x7238, 0x9289, 0xce69, 0x0, 0x1);
        gbc.writeMem(0xb6d6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa43d);
        EXPECT(gbc.pc(), 0xb6d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6d6), 0xcb);
        EXPECT(gbc.readMem(0xb6d7), 0x85);
        // CB 85 03BF
        gbc.setState(0x2001, 0xe975, 0x75e0, 0xb3a7, 0xd283, 0xb94d, 0x1, 0x0);
        gbc.writeMem(0x2001, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe975);
        EXPECT(gbc.pc(), 0x2003);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03C0
        gbc.setState(0x7f32, 0x801b, 0x8640, 0x1f34, 0x216, 0x8706, 0x0, 0x1);
        gbc.writeMem(0x7f32, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x801b);
        EXPECT(gbc.pc(), 0x7f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03C1
        gbc.setState(0xedc1, 0x55b7, 0xbd0, 0xd3bd, 0x6e56, 0xf3ec, 0x0, 0x0);
        gbc.writeMem(0xedc1, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x55b7);
        EXPECT(gbc.pc(), 0xedc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc1), 0xcb);
        EXPECT(gbc.readMem(0xedc2), 0x85);
        // CB 85 03C2
        gbc.setState(0xa513, 0x49c1, 0x3e10, 0xfc77, 0x9b26, 0x6a55, 0x1, 0x1);
        gbc.writeMem(0xa513, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x49c1);
        EXPECT(gbc.pc(), 0xa515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa513), 0xcb);
        EXPECT(gbc.readMem(0xa514), 0x85);
        // CB 85 03C3
        gbc.setState(0xc47d, 0x506b, 0x340, 0x87a4, 0x66e1, 0x890c, 0x1, 0x1);
        gbc.writeMem(0xc47d, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x506b);
        EXPECT(gbc.pc(), 0xc47f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc47d), 0xcb);
        EXPECT(gbc.readMem(0xc47e), 0x85);
        // CB 85 03C5
        gbc.setState(0xa012, 0x8ee7, 0x76f0, 0x466, 0xfc71, 0x4202, 0x1, 0x1);
        gbc.writeMem(0xa012, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8ee7);
        EXPECT(gbc.pc(), 0xa014);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa012), 0xcb);
        EXPECT(gbc.readMem(0xa013), 0x85);
        // CB 85 03C6
        gbc.setState(0x6a4e, 0x1553, 0x7a0, 0x5ad7, 0xa494, 0x7dce, 0x0, 0x0);
        gbc.writeMem(0x6a4e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x1553);
        EXPECT(gbc.pc(), 0x6a50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03C7
        gbc.setState(0x2b7f, 0xa178, 0xb4a0, 0xf583, 0xcc23, 0x6aff, 0x1, 0x0);
        gbc.writeMem(0x2b7f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa178);
        EXPECT(gbc.pc(), 0x2b81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03C8
        gbc.setState(0x5503, 0xdb00, 0xb390, 0xe66a, 0x2c3b, 0xeef9, 0x1, 0x0);
        gbc.writeMem(0x5503, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xdb00);
        EXPECT(gbc.pc(), 0x5505);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03C9
        gbc.setState(0x25b9, 0xef17, 0xdd20, 0xaa7c, 0xa4f4, 0xa798, 0x0, 0x0);
        gbc.writeMem(0x25b9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xef17);
        EXPECT(gbc.pc(), 0x25bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03CA
        gbc.setState(0x29d4, 0xc10b, 0xc600, 0xc27f, 0x6b6a, 0xba47, 0x0, 0x1);
        gbc.writeMem(0x29d4, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc10b);
        EXPECT(gbc.pc(), 0x29d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03CB
        gbc.setState(0x5e92, 0xd4f8, 0x9420, 0x13f0, 0x74f4, 0xfb05, 0x1, 0x0);
        gbc.writeMem(0x5e92, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd4f8);
        EXPECT(gbc.pc(), 0x5e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03CC
        gbc.setState(0x91fc, 0xf939, 0x12b0, 0x2a80, 0x749c, 0x7832, 0x0, 0x0);
        gbc.writeMem(0x91fc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xf939);
        EXPECT(gbc.pc(), 0x91fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91fc), 0xcb);
        EXPECT(gbc.readMem(0x91fd), 0x85);
        // CB 85 03CD
        gbc.setState(0x3bf2, 0xde52, 0x4740, 0x3158, 0xb60e, 0x2ead, 0x0, 0x0);
        gbc.writeMem(0x3bf2, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xde52);
        EXPECT(gbc.pc(), 0x3bf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03CE
        gbc.setState(0xec47, 0x244a, 0x6760, 0xfe1a, 0x3b20, 0x3c17, 0x1, 0x1);
        gbc.writeMem(0xec47, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x244a);
        EXPECT(gbc.pc(), 0xec49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec47), 0xcb);
        EXPECT(gbc.readMem(0xec48), 0x85);
        // CB 85 03CF
        gbc.setState(0x348e, 0x9304, 0x4630, 0x5180, 0x9ea7, 0x58dd, 0x1, 0x1);
        gbc.writeMem(0x348e, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9304);
        EXPECT(gbc.pc(), 0x3490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03D0
        gbc.setState(0x47ce, 0xef25, 0x2930, 0x6b9d, 0x3670, 0xb2eb, 0x1, 0x1);
        gbc.writeMem(0x47ce, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xef25);
        EXPECT(gbc.pc(), 0x47d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03D1
        gbc.setState(0xdf03, 0x3feb, 0x3eb0, 0x3c66, 0x47bb, 0x8ba8, 0x0, 0x1);
        gbc.writeMem(0xdf03, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3feb);
        EXPECT(gbc.pc(), 0xdf05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf03), 0xcb);
        EXPECT(gbc.readMem(0xdf04), 0x85);
        // CB 85 03D2
        gbc.setState(0x80a6, 0xc6b1, 0x3690, 0x1dc3, 0xd441, 0x5054, 0x0, 0x0);
        gbc.writeMem(0x80a6, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc6b1);
        EXPECT(gbc.pc(), 0x80a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80a6), 0xcb);
        EXPECT(gbc.readMem(0x80a7), 0x85);
        // CB 85 03D3
        gbc.setState(0xb028, 0x391c, 0x6da0, 0x2667, 0x8d8c, 0xd950, 0x0, 0x0);
        gbc.writeMem(0xb028, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x391c);
        EXPECT(gbc.pc(), 0xb02a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb028), 0xcb);
        EXPECT(gbc.readMem(0xb029), 0x85);
        // CB 85 03D4
        gbc.setState(0xc047, 0x538a, 0xb020, 0xd2ec, 0x63fd, 0xf024, 0x1, 0x0);
        gbc.writeMem(0xc047, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x538a);
        EXPECT(gbc.pc(), 0xc049);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc047), 0xcb);
        EXPECT(gbc.readMem(0xc048), 0x85);
        // CB 85 03D5
        gbc.setState(0xb7a3, 0xfa09, 0x2580, 0xd5f4, 0x68d0, 0x5070, 0x0, 0x0);
        gbc.writeMem(0xb7a3, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xfa09);
        EXPECT(gbc.pc(), 0xb7a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7a3), 0xcb);
        EXPECT(gbc.readMem(0xb7a4), 0x85);
        // CB 85 03D7
        gbc.setState(0x119, 0x7e11, 0x3650, 0x5cfd, 0x3c8, 0xf10b, 0x1, 0x0);
        gbc.writeMem(0x119, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7e11);
        EXPECT(gbc.pc(), 0x11b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03D8
        gbc.setState(0xc3f9, 0x1eb3, 0xe290, 0xc3e5, 0xb31b, 0xfa4d, 0x1, 0x0);
        gbc.writeMem(0xc3f9, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x1eb3);
        EXPECT(gbc.pc(), 0xc3fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3f9), 0xcb);
        EXPECT(gbc.readMem(0xc3fa), 0x85);
        // CB 85 03D9
        gbc.setState(0xd93b, 0x925, 0xcfe0, 0x82f3, 0x7ddb, 0x9bd4, 0x0, 0x0);
        gbc.writeMem(0xd93b, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x925);
        EXPECT(gbc.pc(), 0xd93d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd93b), 0xcb);
        EXPECT(gbc.readMem(0xd93c), 0x85);
        // CB 85 03DA
        gbc.setState(0x78f8, 0x5722, 0xcf40, 0x9d8d, 0xab88, 0xcc6d, 0x0, 0x0);
        gbc.writeMem(0x78f8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5722);
        EXPECT(gbc.pc(), 0x78fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 85 03DB
        gbc.setState(0xb19c, 0x6a96, 0x3db0, 0xc8d6, 0xce56, 0x221, 0x0, 0x1);
        gbc.writeMem(0xb19c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6a96);
        EXPECT(gbc.pc(), 0xb19e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb19c), 0xcb);
        EXPECT(gbc.readMem(0xb19d), 0x85);
        // CB 85 03DC
        gbc.setState(0x4730, 0x2375, 0x71b0, 0x8ef0, 0xe389, 0xc25e, 0x0, 0x1);
        gbc.writeMem(0x4730, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2375);
        EXPECT(gbc.pc(), 0x4732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03DD
        gbc.setState(0x7e56, 0xb395, 0x2930, 0xdf5f, 0x43f3, 0x8e11, 0x1, 0x1);
        gbc.writeMem(0x7e56, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb395);
        EXPECT(gbc.pc(), 0x7e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03DE
        gbc.setState(0xe1e8, 0x986a, 0xa190, 0xe17a, 0x1be1, 0x70aa, 0x0, 0x1);
        gbc.writeMem(0xe1e8, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x986a);
        EXPECT(gbc.pc(), 0xe1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1e8), 0xcb);
        EXPECT(gbc.readMem(0xe1e9), 0x85);
        // CB 85 03DF
        gbc.setState(0xcacf, 0x78b2, 0xaf30, 0xd237, 0xdf63, 0xf197, 0x1, 0x0);
        gbc.writeMem(0xcacf, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x78b2);
        EXPECT(gbc.pc(), 0xcad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcacf), 0xcb);
        EXPECT(gbc.readMem(0xcad0), 0x85);
        // CB 85 03E0
        gbc.setState(0x1e3f, 0xe3fe, 0x1fd0, 0xae8a, 0x5ce9, 0x5cf0, 0x0, 0x0);
        gbc.writeMem(0x1e3f, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe3fe);
        EXPECT(gbc.pc(), 0x1e41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03E1
        gbc.setState(0xe2fc, 0x3422, 0x7180, 0x22ed, 0xedea, 0x4939, 0x1, 0x1);
        gbc.writeMem(0xe2fc, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x3422);
        EXPECT(gbc.pc(), 0xe2fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2fc), 0xcb);
        EXPECT(gbc.readMem(0xe2fd), 0x85);
        // CB 85 03E2
        gbc.setState(0xa170, 0x96c9, 0x9080, 0x2423, 0xa091, 0x99bb, 0x0, 0x0);
        gbc.writeMem(0xa170, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x96c9);
        EXPECT(gbc.pc(), 0xa172);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa170), 0xcb);
        EXPECT(gbc.readMem(0xa171), 0x85);
        // CB 85 03E3
        gbc.setState(0xbe58, 0x3737, 0xcf70, 0xe6ae, 0xb835, 0x38f9, 0x0, 0x0);
        gbc.writeMem(0xbe58, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3737);
        EXPECT(gbc.pc(), 0xbe5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe58), 0xcb);
        EXPECT(gbc.readMem(0xbe59), 0x85);
        // CB 85 03E4
        gbc.setState(0x2bb5, 0xbc08, 0xe150, 0x7a8f, 0x888c, 0x2582, 0x1, 0x1);
        gbc.writeMem(0x2bb5, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xbc08);
        EXPECT(gbc.pc(), 0x2bb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03E5
        gbc.setState(0xad7c, 0x7d64, 0x3c40, 0xdfb1, 0x7496, 0x7e19, 0x1, 0x1);
        gbc.writeMem(0xad7c, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7d64);
        EXPECT(gbc.pc(), 0xad7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7c), 0xcb);
        EXPECT(gbc.readMem(0xad7d), 0x85);
        // CB 85 03E6
        gbc.setState(0x64c7, 0xc0b4, 0xd310, 0x8123, 0xa43a, 0x67c5, 0x1, 0x1);
        gbc.writeMem(0x64c7, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc0b4);
        EXPECT(gbc.pc(), 0x64c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 85 03E7
        gbc.setState(0x4377, 0xd672, 0x5bd0, 0x1141, 0x31b5, 0x8f0d, 0x0, 0x0);
        gbc.writeMem(0x4377, { 0xcb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd672);
        EXPECT(gbc.pc(), 0x4379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
    }
}
#endif
