    TEST(gbcemu, opcode_cb_69) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 69 0000
        gbc.setState(0x84ee, 0x7a21, 0xb90, 0x47e5, 0x7974, 0xc702, 0x1, 0x0);
        gbc.writeMem(0x84ee, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7a21);
        EXPECT(gbc.pc(), 0x84f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ee), 0xcb);
        EXPECT(gbc.readMem(0x84ef), 0x69);
        // CB 69 0002
        gbc.setState(0xad83, 0xe3c8, 0x4850, 0xe5b4, 0xf7d9, 0x5862, 0x1, 0x0);
        gbc.writeMem(0xad83, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe3c8);
        EXPECT(gbc.pc(), 0xad85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad83), 0xcb);
        EXPECT(gbc.readMem(0xad84), 0x69);
        // CB 69 0003
        gbc.setState(0x254, 0xa5db, 0xe3f0, 0x905, 0x71d, 0x8840, 0x0, 0x0);
        gbc.writeMem(0x254, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa5db);
        EXPECT(gbc.pc(), 0x256);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0004
        gbc.setState(0x34fc, 0x21dd, 0x87a0, 0xeaa7, 0x776e, 0x28f5, 0x1, 0x0);
        gbc.writeMem(0x34fc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x21dd);
        EXPECT(gbc.pc(), 0x34fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0005
        gbc.setState(0xdbd3, 0x4eae, 0x1d10, 0x4074, 0x3652, 0x9624, 0x0, 0x1);
        gbc.writeMem(0xdbd3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4eae);
        EXPECT(gbc.pc(), 0xdbd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbd3), 0xcb);
        EXPECT(gbc.readMem(0xdbd4), 0x69);
        // CB 69 0006
        gbc.setState(0xab58, 0x2f64, 0x4d70, 0xfc87, 0x2b8e, 0x86b9, 0x0, 0x1);
        gbc.writeMem(0xab58, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2f64);
        EXPECT(gbc.pc(), 0xab5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab58), 0xcb);
        EXPECT(gbc.readMem(0xab59), 0x69);
        // CB 69 0007
        gbc.setState(0x5d16, 0xdfc0, 0x2820, 0x8648, 0x8764, 0x3e5f, 0x0, 0x1);
        gbc.writeMem(0x5d16, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdfc0);
        EXPECT(gbc.pc(), 0x5d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0008
        gbc.setState(0x3dab, 0x96df, 0x5cb0, 0x3a18, 0xf3a1, 0xdc47, 0x1, 0x1);
        gbc.writeMem(0x3dab, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x96df);
        EXPECT(gbc.pc(), 0x3dad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0009
        gbc.setState(0x9935, 0xc379, 0xdf60, 0x42f8, 0xda1a, 0x2664, 0x0, 0x1);
        gbc.writeMem(0x9935, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc379);
        EXPECT(gbc.pc(), 0x9937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9935), 0xcb);
        EXPECT(gbc.readMem(0x9936), 0x69);
        // CB 69 000A
        gbc.setState(0x7f87, 0x6081, 0xe00, 0x6801, 0x93a5, 0xdb8e, 0x1, 0x0);
        gbc.writeMem(0x7f87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6081);
        EXPECT(gbc.pc(), 0x7f89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 000C
        gbc.setState(0x96f6, 0x1c24, 0xb630, 0x5d67, 0xc5d, 0x9671, 0x0, 0x1);
        gbc.writeMem(0x96f6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1c24);
        EXPECT(gbc.pc(), 0x96f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96f6), 0xcb);
        EXPECT(gbc.readMem(0x96f7), 0x69);
        // CB 69 000D
        gbc.setState(0x5084, 0x48e9, 0xc660, 0x952e, 0x5408, 0xce95, 0x0, 0x1);
        gbc.writeMem(0x5084, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x48e9);
        EXPECT(gbc.pc(), 0x5086);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 000E
        gbc.setState(0x292, 0x8342, 0xa220, 0xf67b, 0xc200, 0x68dc, 0x1, 0x1);
        gbc.writeMem(0x292, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8342);
        EXPECT(gbc.pc(), 0x294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0010
        gbc.setState(0xd7ac, 0x41ec, 0x9690, 0xe908, 0xabc1, 0x342f, 0x1, 0x1);
        gbc.writeMem(0xd7ac, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x41ec);
        EXPECT(gbc.pc(), 0xd7ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ac), 0xcb);
        EXPECT(gbc.readMem(0xd7ad), 0x69);
        // CB 69 0011
        gbc.setState(0x2103, 0xee51, 0xfc30, 0xf9, 0x2479, 0x6cc8, 0x1, 0x0);
        gbc.writeMem(0x2103, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xee51);
        EXPECT(gbc.pc(), 0x2105);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0012
        gbc.setState(0xd412, 0xa828, 0x2580, 0x6f54, 0xa85, 0x2520, 0x1, 0x0);
        gbc.writeMem(0xd412, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa828);
        EXPECT(gbc.pc(), 0xd414);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd412), 0xcb);
        EXPECT(gbc.readMem(0xd413), 0x69);
        // CB 69 0013
        gbc.setState(0xa0ee, 0xbbaf, 0xa250, 0xcbd9, 0xf10f, 0x2a87, 0x1, 0x0);
        gbc.writeMem(0xa0ee, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xbbaf);
        EXPECT(gbc.pc(), 0xa0f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0ee), 0xcb);
        EXPECT(gbc.readMem(0xa0ef), 0x69);
        // CB 69 0015
        gbc.setState(0x2891, 0x57ae, 0x2420, 0x99e9, 0xa05d, 0xc8a1, 0x0, 0x0);
        gbc.writeMem(0x2891, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x57ae);
        EXPECT(gbc.pc(), 0x2893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0016
        gbc.setState(0x74f7, 0x681, 0x3250, 0x2813, 0x9ecd, 0x7f5, 0x0, 0x0);
        gbc.writeMem(0x74f7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x681);
        EXPECT(gbc.pc(), 0x74f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0017
        gbc.setState(0x4af5, 0x19cb, 0xf020, 0x110, 0x875c, 0xfd3, 0x1, 0x0);
        gbc.writeMem(0x4af5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x19cb);
        EXPECT(gbc.pc(), 0x4af7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0018
        gbc.setState(0xe6b2, 0xd27d, 0x4240, 0x8652, 0x63fb, 0x7468, 0x1, 0x0);
        gbc.writeMem(0xe6b2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd27d);
        EXPECT(gbc.pc(), 0xe6b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b2), 0xcb);
        EXPECT(gbc.readMem(0xe6b3), 0x69);
        // CB 69 0019
        gbc.setState(0xb924, 0x8bf3, 0xcd50, 0x914e, 0x658e, 0x3130, 0x0, 0x0);
        gbc.writeMem(0xb924, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8bf3);
        EXPECT(gbc.pc(), 0xb926);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb924), 0xcb);
        EXPECT(gbc.readMem(0xb925), 0x69);
        // CB 69 001A
        gbc.setState(0x1a61, 0x32ca, 0x43d0, 0xee95, 0x14dc, 0xb15f, 0x0, 0x1);
        gbc.writeMem(0x1a61, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x32ca);
        EXPECT(gbc.pc(), 0x1a63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 001B
        gbc.setState(0x8b23, 0xf0b2, 0x3080, 0x54f5, 0xdacc, 0x8317, 0x0, 0x0);
        gbc.writeMem(0x8b23, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf0b2);
        EXPECT(gbc.pc(), 0x8b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b23), 0xcb);
        EXPECT(gbc.readMem(0x8b24), 0x69);
        // CB 69 001C
        gbc.setState(0x6121, 0x869a, 0x9e50, 0x804f, 0xa7a1, 0x7703, 0x0, 0x1);
        gbc.writeMem(0x6121, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x869a);
        EXPECT(gbc.pc(), 0x6123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 001D
        gbc.setState(0x8076, 0x4ed1, 0x4890, 0x8707, 0x5f7d, 0xff01, 0x1, 0x1);
        gbc.writeMem(0x8076, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4ed1);
        EXPECT(gbc.pc(), 0x8078);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8076), 0xcb);
        EXPECT(gbc.readMem(0x8077), 0x69);
        // CB 69 001E
        gbc.setState(0xe96a, 0x3b81, 0x7e50, 0x4ffc, 0xc194, 0xf7da, 0x1, 0x1);
        gbc.writeMem(0xe96a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3b81);
        EXPECT(gbc.pc(), 0xe96c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe96a), 0xcb);
        EXPECT(gbc.readMem(0xe96b), 0x69);
        // CB 69 001F
        gbc.setState(0xc5d, 0x7793, 0xdd70, 0x1194, 0xd09a, 0xbda3, 0x1, 0x0);
        gbc.writeMem(0xc5d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7793);
        EXPECT(gbc.pc(), 0xc5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0020
        gbc.setState(0x8ab4, 0xe82f, 0x9970, 0x85f0, 0xfa08, 0x187f, 0x0, 0x1);
        gbc.writeMem(0x8ab4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe82f);
        EXPECT(gbc.pc(), 0x8ab6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab4), 0xcb);
        EXPECT(gbc.readMem(0x8ab5), 0x69);
        // CB 69 0021
        gbc.setState(0x9153, 0x1839, 0xebc0, 0x7e74, 0x20a7, 0x6cf7, 0x1, 0x0);
        gbc.writeMem(0x9153, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1839);
        EXPECT(gbc.pc(), 0x9155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9153), 0xcb);
        EXPECT(gbc.readMem(0x9154), 0x69);
        // CB 69 0022
        gbc.setState(0xaa0d, 0x37f7, 0x4660, 0x1383, 0x992e, 0x24bd, 0x1, 0x1);
        gbc.writeMem(0xaa0d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x37f7);
        EXPECT(gbc.pc(), 0xaa0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa0d), 0xcb);
        EXPECT(gbc.readMem(0xaa0e), 0x69);
        // CB 69 0023
        gbc.setState(0xc847, 0x9bbf, 0x4d80, 0x3823, 0x369a, 0x1a20, 0x0, 0x0);
        gbc.writeMem(0xc847, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9bbf);
        EXPECT(gbc.pc(), 0xc849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc847), 0xcb);
        EXPECT(gbc.readMem(0xc848), 0x69);
        // CB 69 0024
        gbc.setState(0xe0b, 0xc68a, 0x7a10, 0x84eb, 0x1552, 0xbc90, 0x1, 0x0);
        gbc.writeMem(0xe0b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc68a);
        EXPECT(gbc.pc(), 0xe0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0025
        gbc.setState(0xd158, 0x33ce, 0x2760, 0xdec1, 0x657c, 0xf86b, 0x0, 0x0);
        gbc.writeMem(0xd158, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x33ce);
        EXPECT(gbc.pc(), 0xd15a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd158), 0xcb);
        EXPECT(gbc.readMem(0xd159), 0x69);
        // CB 69 0026
        gbc.setState(0xbf86, 0xfd53, 0xf1d0, 0xb751, 0xce01, 0x2332, 0x0, 0x1);
        gbc.writeMem(0xbf86, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfd53);
        EXPECT(gbc.pc(), 0xbf88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf86), 0xcb);
        EXPECT(gbc.readMem(0xbf87), 0x69);
        // CB 69 0027
        gbc.setState(0x679b, 0x7994, 0x46f0, 0x9b40, 0x673a, 0x3844, 0x0, 0x1);
        gbc.writeMem(0x679b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7994);
        EXPECT(gbc.pc(), 0x679d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0028
        gbc.setState(0x28e, 0x2f41, 0x4920, 0xe124, 0x75de, 0xae64, 0x0, 0x1);
        gbc.writeMem(0x28e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2f41);
        EXPECT(gbc.pc(), 0x290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0029
        gbc.setState(0x2d0, 0x4bbe, 0xd040, 0x5df4, 0x64b0, 0x213f, 0x1, 0x1);
        gbc.writeMem(0x2d0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4bbe);
        EXPECT(gbc.pc(), 0x2d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 002B
        gbc.setState(0x9327, 0x3d75, 0xfd20, 0x522b, 0x6c7a, 0x8424, 0x0, 0x1);
        gbc.writeMem(0x9327, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3d75);
        EXPECT(gbc.pc(), 0x9329);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9327), 0xcb);
        EXPECT(gbc.readMem(0x9328), 0x69);
        // CB 69 002C
        gbc.setState(0xaac3, 0x1e8a, 0xee90, 0xd703, 0x2db0, 0x1281, 0x0, 0x1);
        gbc.writeMem(0xaac3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1e8a);
        EXPECT(gbc.pc(), 0xaac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaac3), 0xcb);
        EXPECT(gbc.readMem(0xaac4), 0x69);
        // CB 69 002E
        gbc.setState(0x6538, 0x468d, 0xb300, 0x9c01, 0x9fc6, 0x2fb, 0x1, 0x0);
        gbc.writeMem(0x6538, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x468d);
        EXPECT(gbc.pc(), 0x653a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 002F
        gbc.setState(0x44aa, 0x987b, 0x9ca0, 0x7288, 0x1809, 0x3f64, 0x0, 0x0);
        gbc.writeMem(0x44aa, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x987b);
        EXPECT(gbc.pc(), 0x44ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0030
        gbc.setState(0x1071, 0xde3, 0xe290, 0x7bfb, 0xe528, 0x7dfc, 0x0, 0x0);
        gbc.writeMem(0x1071, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xde3);
        EXPECT(gbc.pc(), 0x1073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0031
        gbc.setState(0x1d06, 0xc5ce, 0x74c0, 0x3eb6, 0xa5f0, 0x91ee, 0x0, 0x0);
        gbc.writeMem(0x1d06, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc5ce);
        EXPECT(gbc.pc(), 0x1d08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0032
        gbc.setState(0x916b, 0xd410, 0x58a0, 0xf748, 0x92b6, 0x4c68, 0x1, 0x1);
        gbc.writeMem(0x916b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd410);
        EXPECT(gbc.pc(), 0x916d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x916b), 0xcb);
        EXPECT(gbc.readMem(0x916c), 0x69);
        // CB 69 0033
        gbc.setState(0x14fe, 0xd7d, 0x4230, 0x4e69, 0x266, 0xf65d, 0x1, 0x0);
        gbc.writeMem(0x14fe, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd7d);
        EXPECT(gbc.pc(), 0x1500);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0034
        gbc.setState(0xd1ee, 0x6f80, 0x590, 0xbfe7, 0xf3d6, 0xac62, 0x0, 0x1);
        gbc.writeMem(0xd1ee, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x6f80);
        EXPECT(gbc.pc(), 0xd1f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1ee), 0xcb);
        EXPECT(gbc.readMem(0xd1ef), 0x69);
        // CB 69 0035
        gbc.setState(0x18d3, 0xb14f, 0x19f0, 0xc227, 0x4af1, 0xc9a4, 0x0, 0x0);
        gbc.writeMem(0x18d3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xb14f);
        EXPECT(gbc.pc(), 0x18d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0036
        gbc.setState(0x343d, 0x4748, 0xf8a0, 0x81fe, 0xc42c, 0xaa9a, 0x1, 0x0);
        gbc.writeMem(0x343d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4748);
        EXPECT(gbc.pc(), 0x343f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0037
        gbc.setState(0x3a05, 0x281e, 0xf460, 0xe30c, 0x9e32, 0x19d3, 0x0, 0x1);
        gbc.writeMem(0x3a05, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0x3a07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0038
        gbc.setState(0x8f76, 0xcf41, 0xa840, 0xc7ec, 0x2a97, 0x6ff8, 0x0, 0x1);
        gbc.writeMem(0x8f76, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xcf41);
        EXPECT(gbc.pc(), 0x8f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f76), 0xcb);
        EXPECT(gbc.readMem(0x8f77), 0x69);
        // CB 69 0039
        gbc.setState(0xacf3, 0xa420, 0x96b0, 0x3d63, 0x9b76, 0x203e, 0x1, 0x0);
        gbc.writeMem(0xacf3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa420);
        EXPECT(gbc.pc(), 0xacf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacf3), 0xcb);
        EXPECT(gbc.readMem(0xacf4), 0x69);
        // CB 69 003A
        gbc.setState(0x42d2, 0xa40a, 0x9e10, 0xee1d, 0x1702, 0x2584, 0x1, 0x1);
        gbc.writeMem(0x42d2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa40a);
        EXPECT(gbc.pc(), 0x42d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 003B
        gbc.setState(0x8335, 0x96dd, 0xd730, 0xfa9c, 0xca50, 0x3e1c, 0x1, 0x1);
        gbc.writeMem(0x8335, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x96dd);
        EXPECT(gbc.pc(), 0x8337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8335), 0xcb);
        EXPECT(gbc.readMem(0x8336), 0x69);
        // CB 69 003C
        gbc.setState(0x79e1, 0x4939, 0x2240, 0xda5f, 0x921f, 0x36e7, 0x0, 0x1);
        gbc.writeMem(0x79e1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4939);
        EXPECT(gbc.pc(), 0x79e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 003D
        gbc.setState(0x629d, 0x25e, 0xde90, 0x1160, 0xdeca, 0xf386, 0x0, 0x0);
        gbc.writeMem(0x629d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x25e);
        EXPECT(gbc.pc(), 0x629f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 003E
        gbc.setState(0xe35c, 0x5cda, 0xf870, 0xcf7, 0x12a, 0x2850, 0x1, 0x1);
        gbc.writeMem(0xe35c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5cda);
        EXPECT(gbc.pc(), 0xe35e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe35c), 0xcb);
        EXPECT(gbc.readMem(0xe35d), 0x69);
        // CB 69 003F
        gbc.setState(0x3774, 0x53df, 0xac90, 0xae07, 0x640d, 0x7668, 0x0, 0x0);
        gbc.writeMem(0x3774, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x53df);
        EXPECT(gbc.pc(), 0x3776);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0040
        gbc.setState(0xce91, 0xb205, 0xcec0, 0x596a, 0x4c1a, 0x25e0, 0x1, 0x1);
        gbc.writeMem(0xce91, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xb205);
        EXPECT(gbc.pc(), 0xce93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce91), 0xcb);
        EXPECT(gbc.readMem(0xce92), 0x69);
        // CB 69 0041
        gbc.setState(0x71c5, 0xdbe1, 0x9fe0, 0xe2b8, 0xfe1c, 0x5b4b, 0x0, 0x0);
        gbc.writeMem(0x71c5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdbe1);
        EXPECT(gbc.pc(), 0x71c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0042
        gbc.setState(0x5ed5, 0x1b32, 0xce30, 0x36fa, 0x3d53, 0x60a8, 0x0, 0x0);
        gbc.writeMem(0x5ed5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1b32);
        EXPECT(gbc.pc(), 0x5ed7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0044
        gbc.setState(0x68a8, 0xa3c4, 0xcc10, 0xbd9b, 0x82f6, 0xdd11, 0x0, 0x0);
        gbc.writeMem(0x68a8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa3c4);
        EXPECT(gbc.pc(), 0x68aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0045
        gbc.setState(0xcc1, 0x5f8a, 0x41a0, 0x8b4f, 0x3b59, 0x79fa, 0x1, 0x0);
        gbc.writeMem(0xcc1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5f8a);
        EXPECT(gbc.pc(), 0xcc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0046
        gbc.setState(0x7bb0, 0x6507, 0x100, 0x43f7, 0x38e, 0x28a1, 0x1, 0x1);
        gbc.writeMem(0x7bb0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6507);
        EXPECT(gbc.pc(), 0x7bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0047
        gbc.setState(0x16b, 0xb67, 0x1c40, 0x8c1f, 0x7dff, 0x980f, 0x0, 0x1);
        gbc.writeMem(0x16b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xb67);
        EXPECT(gbc.pc(), 0x16d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0048
        gbc.setState(0x2e55, 0x338e, 0x17e0, 0x3b88, 0x8d55, 0xcee5, 0x1, 0x0);
        gbc.writeMem(0x2e55, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x338e);
        EXPECT(gbc.pc(), 0x2e57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0049
        gbc.setState(0x8c46, 0xa53d, 0xcb80, 0xfb8d, 0x26d, 0xb8c4, 0x1, 0x1);
        gbc.writeMem(0x8c46, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa53d);
        EXPECT(gbc.pc(), 0x8c48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c46), 0xcb);
        EXPECT(gbc.readMem(0x8c47), 0x69);
        // CB 69 004A
        gbc.setState(0x204f, 0x4e7e, 0x2630, 0xe2de, 0x5db7, 0x3f50, 0x1, 0x1);
        gbc.writeMem(0x204f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4e7e);
        EXPECT(gbc.pc(), 0x2051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 004B
        gbc.setState(0x188, 0x279a, 0xb750, 0xca0c, 0x2ebe, 0x7dc6, 0x0, 0x0);
        gbc.writeMem(0x188, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x279a);
        EXPECT(gbc.pc(), 0x18a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 004C
        gbc.setState(0x8d3e, 0xfc45, 0x9e50, 0xf11b, 0xfa3, 0xac50, 0x0, 0x0);
        gbc.writeMem(0x8d3e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xfc45);
        EXPECT(gbc.pc(), 0x8d40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d3e), 0xcb);
        EXPECT(gbc.readMem(0x8d3f), 0x69);
        // CB 69 004D
        gbc.setState(0x3d1c, 0x3dd5, 0x7070, 0x20d5, 0x8f89, 0x5a63, 0x1, 0x0);
        gbc.writeMem(0x3d1c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x3dd5);
        EXPECT(gbc.pc(), 0x3d1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 004E
        gbc.setState(0x3c51, 0x58e, 0x30, 0x8b43, 0x76e8, 0xd013, 0x0, 0x1);
        gbc.writeMem(0x3c51, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x58e);
        EXPECT(gbc.pc(), 0x3c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 004F
        gbc.setState(0x8c68, 0xb575, 0x400, 0x7c5e, 0x991a, 0xfba9, 0x0, 0x0);
        gbc.writeMem(0x8c68, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xb575);
        EXPECT(gbc.pc(), 0x8c6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c68), 0xcb);
        EXPECT(gbc.readMem(0x8c69), 0x69);
        // CB 69 0050
        gbc.setState(0xdb46, 0x6640, 0x3c30, 0x8b24, 0xea15, 0x5cde, 0x1, 0x0);
        gbc.writeMem(0xdb46, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6640);
        EXPECT(gbc.pc(), 0xdb48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb46), 0xcb);
        EXPECT(gbc.readMem(0xdb47), 0x69);
        // CB 69 0051
        gbc.setState(0xc9ef, 0x8175, 0x9030, 0x4ff1, 0xac1, 0x45be, 0x0, 0x1);
        gbc.writeMem(0xc9ef, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8175);
        EXPECT(gbc.pc(), 0xc9f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ef), 0xcb);
        EXPECT(gbc.readMem(0xc9f0), 0x69);
        // CB 69 0052
        gbc.setState(0xed9f, 0x5bc8, 0x93e0, 0xe841, 0xe5db, 0x3736, 0x0, 0x1);
        gbc.writeMem(0xed9f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x5bc8);
        EXPECT(gbc.pc(), 0xeda1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed9f), 0xcb);
        EXPECT(gbc.readMem(0xeda0), 0x69);
        // CB 69 0053
        gbc.setState(0xa73c, 0xfdfc, 0xf440, 0x1d8d, 0xeb0c, 0x3698, 0x0, 0x0);
        gbc.writeMem(0xa73c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfdfc);
        EXPECT(gbc.pc(), 0xa73e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa73c), 0xcb);
        EXPECT(gbc.readMem(0xa73d), 0x69);
        // CB 69 0054
        gbc.setState(0x87f2, 0x12f2, 0x2f40, 0xf5ef, 0x4aaf, 0x15c4, 0x0, 0x1);
        gbc.writeMem(0x87f2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x12f2);
        EXPECT(gbc.pc(), 0x87f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87f2), 0xcb);
        EXPECT(gbc.readMem(0x87f3), 0x69);
        // CB 69 0055
        gbc.setState(0xac2f, 0xf282, 0x87b0, 0xe58a, 0xabdf, 0x6b14, 0x0, 0x1);
        gbc.writeMem(0xac2f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf282);
        EXPECT(gbc.pc(), 0xac31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac2f), 0xcb);
        EXPECT(gbc.readMem(0xac30), 0x69);
        // CB 69 0056
        gbc.setState(0x1612, 0x2f1b, 0x960, 0x1d0e, 0xddb5, 0xcd6, 0x1, 0x1);
        gbc.writeMem(0x1612, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2f1b);
        EXPECT(gbc.pc(), 0x1614);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0057
        gbc.setState(0x872b, 0x29e7, 0x5a70, 0xb3ab, 0x3c17, 0x43a0, 0x1, 0x0);
        gbc.writeMem(0x872b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x29e7);
        EXPECT(gbc.pc(), 0x872d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x872b), 0xcb);
        EXPECT(gbc.readMem(0x872c), 0x69);
        // CB 69 0058
        gbc.setState(0x7f34, 0xa2e, 0x3490, 0x4bd9, 0x14f, 0xff8e, 0x1, 0x1);
        gbc.writeMem(0x7f34, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa2e);
        EXPECT(gbc.pc(), 0x7f36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0059
        gbc.setState(0xdb00, 0x53b6, 0x4c20, 0xf699, 0x3457, 0xed8, 0x1, 0x1);
        gbc.writeMem(0xdb00, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x53b6);
        EXPECT(gbc.pc(), 0xdb02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb00), 0xcb);
        EXPECT(gbc.readMem(0xdb01), 0x69);
        // CB 69 005A
        gbc.setState(0x1a1e, 0xdb46, 0x65c0, 0xf771, 0xf662, 0x9713, 0x1, 0x0);
        gbc.writeMem(0x1a1e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xdb46);
        EXPECT(gbc.pc(), 0x1a20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 005B
        gbc.setState(0x4889, 0x8254, 0xf3d0, 0xfda7, 0xb52d, 0xcbfd, 0x1, 0x1);
        gbc.writeMem(0x4889, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8254);
        EXPECT(gbc.pc(), 0x488b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 005C
        gbc.setState(0xc263, 0x73cc, 0x6570, 0x51a3, 0x66a7, 0x5a09, 0x0, 0x0);
        gbc.writeMem(0xc263, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x73cc);
        EXPECT(gbc.pc(), 0xc265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc263), 0xcb);
        EXPECT(gbc.readMem(0xc264), 0x69);
        // CB 69 005D
        gbc.setState(0xc415, 0x431f, 0x7760, 0xdf4f, 0x436b, 0xf6b5, 0x0, 0x0);
        gbc.writeMem(0xc415, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x431f);
        EXPECT(gbc.pc(), 0xc417);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc415), 0xcb);
        EXPECT(gbc.readMem(0xc416), 0x69);
        // CB 69 005E
        gbc.setState(0xdedb, 0x57d8, 0xf9c0, 0xcb15, 0x6053, 0x6517, 0x0, 0x0);
        gbc.writeMem(0xdedb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x57d8);
        EXPECT(gbc.pc(), 0xdedd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdedb), 0xcb);
        EXPECT(gbc.readMem(0xdedc), 0x69);
        // CB 69 0060
        gbc.setState(0x3a4c, 0x8c1c, 0x67b0, 0x4952, 0xc9f1, 0xcacc, 0x1, 0x1);
        gbc.writeMem(0x3a4c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8c1c);
        EXPECT(gbc.pc(), 0x3a4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0061
        gbc.setState(0x32b1, 0x8486, 0xdf10, 0xa11b, 0x8121, 0xc036, 0x0, 0x0);
        gbc.writeMem(0x32b1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8486);
        EXPECT(gbc.pc(), 0x32b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0062
        gbc.setState(0xa6e3, 0xd937, 0xe0b0, 0x1b79, 0x5229, 0x13f4, 0x1, 0x0);
        gbc.writeMem(0xa6e3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd937);
        EXPECT(gbc.pc(), 0xa6e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6e3), 0xcb);
        EXPECT(gbc.readMem(0xa6e4), 0x69);
        // CB 69 0063
        gbc.setState(0x86e9, 0xdfe3, 0x55d0, 0xaa72, 0xa9dc, 0xaf5a, 0x1, 0x1);
        gbc.writeMem(0x86e9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xdfe3);
        EXPECT(gbc.pc(), 0x86eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86e9), 0xcb);
        EXPECT(gbc.readMem(0x86ea), 0x69);
        // CB 69 0064
        gbc.setState(0x3f60, 0xf605, 0x7cc0, 0x58e9, 0xef31, 0x5670, 0x1, 0x1);
        gbc.writeMem(0x3f60, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf605);
        EXPECT(gbc.pc(), 0x3f62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0065
        gbc.setState(0x794d, 0xbf9d, 0x5e90, 0xdf09, 0xb240, 0x7b1b, 0x1, 0x0);
        gbc.writeMem(0x794d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbf9d);
        EXPECT(gbc.pc(), 0x794f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0066
        gbc.setState(0x352f, 0xa25a, 0x3c70, 0xdfb0, 0xa79, 0xd598, 0x1, 0x1);
        gbc.writeMem(0x352f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xa25a);
        EXPECT(gbc.pc(), 0x3531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0067
        gbc.setState(0x2b5c, 0x4ce9, 0x11c0, 0xf05b, 0x8573, 0xf579, 0x0, 0x0);
        gbc.writeMem(0x2b5c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4ce9);
        EXPECT(gbc.pc(), 0x2b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0068
        gbc.setState(0x3b57, 0xe33b, 0xbc60, 0xea18, 0x9542, 0x7f09, 0x0, 0x0);
        gbc.writeMem(0x3b57, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe33b);
        EXPECT(gbc.pc(), 0x3b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0069
        gbc.setState(0xde9d, 0xfcd6, 0xa110, 0x30b2, 0xe9d7, 0xb90, 0x0, 0x0);
        gbc.writeMem(0xde9d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xfcd6);
        EXPECT(gbc.pc(), 0xde9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde9d), 0xcb);
        EXPECT(gbc.readMem(0xde9e), 0x69);
        // CB 69 006A
        gbc.setState(0xc540, 0x96b4, 0x1a20, 0xc77a, 0xd76b, 0x562, 0x0, 0x1);
        gbc.writeMem(0xc540, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x96b4);
        EXPECT(gbc.pc(), 0xc542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc540), 0xcb);
        EXPECT(gbc.readMem(0xc541), 0x69);
        // CB 69 006B
        gbc.setState(0xcdd, 0xeea8, 0xf480, 0x4953, 0x8a68, 0x1935, 0x0, 0x1);
        gbc.writeMem(0xcdd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xeea8);
        EXPECT(gbc.pc(), 0xcdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 006C
        gbc.setState(0x82be, 0x869f, 0x4790, 0x77f9, 0x410e, 0xe451, 0x1, 0x0);
        gbc.writeMem(0x82be, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x869f);
        EXPECT(gbc.pc(), 0x82c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82be), 0xcb);
        EXPECT(gbc.readMem(0x82bf), 0x69);
        // CB 69 006D
        gbc.setState(0x5dad, 0x722f, 0x29d0, 0x2d32, 0x564b, 0x364b, 0x0, 0x0);
        gbc.writeMem(0x5dad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x722f);
        EXPECT(gbc.pc(), 0x5daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 006F
        gbc.setState(0x9923, 0xeb87, 0x2a50, 0x5474, 0x2c6b, 0x6a6, 0x1, 0x1);
        gbc.writeMem(0x9923, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xeb87);
        EXPECT(gbc.pc(), 0x9925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9923), 0xcb);
        EXPECT(gbc.readMem(0x9924), 0x69);
        // CB 69 0070
        gbc.setState(0x668d, 0x7cd6, 0xb50, 0x79d7, 0x33fa, 0x2e1b, 0x0, 0x0);
        gbc.writeMem(0x668d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7cd6);
        EXPECT(gbc.pc(), 0x668f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0071
        gbc.setState(0x4583, 0xe252, 0xbe70, 0x7cf7, 0xb87f, 0xdf74, 0x1, 0x0);
        gbc.writeMem(0x4583, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe252);
        EXPECT(gbc.pc(), 0x4585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0072
        gbc.setState(0xe322, 0x362a, 0xc9a0, 0x5fd3, 0x8c40, 0x7c8b, 0x1, 0x0);
        gbc.writeMem(0xe322, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x362a);
        EXPECT(gbc.pc(), 0xe324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe322), 0xcb);
        EXPECT(gbc.readMem(0xe323), 0x69);
        // CB 69 0073
        gbc.setState(0xb947, 0xea45, 0xc4a0, 0x8ede, 0x209c, 0x4ece, 0x1, 0x0);
        gbc.writeMem(0xb947, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xea45);
        EXPECT(gbc.pc(), 0xb949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb947), 0xcb);
        EXPECT(gbc.readMem(0xb948), 0x69);
        // CB 69 0074
        gbc.setState(0x10bc, 0x5e35, 0x3f50, 0x82c1, 0x59, 0xa74f, 0x0, 0x0);
        gbc.writeMem(0x10bc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x5e35);
        EXPECT(gbc.pc(), 0x10be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0075
        gbc.setState(0xbc94, 0x2400, 0x5840, 0x41b2, 0x7092, 0x9efb, 0x1, 0x0);
        gbc.writeMem(0xbc94, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2400);
        EXPECT(gbc.pc(), 0xbc96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc94), 0xcb);
        EXPECT(gbc.readMem(0xbc95), 0x69);
        // CB 69 0076
        gbc.setState(0x27d1, 0x4330, 0xe4c0, 0xb5c9, 0x7729, 0x18d8, 0x0, 0x0);
        gbc.writeMem(0x27d1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4330);
        EXPECT(gbc.pc(), 0x27d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0077
        gbc.setState(0x238d, 0x95de, 0x3600, 0x58e3, 0x4742, 0x23de, 0x0, 0x0);
        gbc.writeMem(0x238d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x95de);
        EXPECT(gbc.pc(), 0x238f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0078
        gbc.setState(0x2cf5, 0x9ef1, 0x9070, 0x2d40, 0x4645, 0x5f21, 0x0, 0x1);
        gbc.writeMem(0x2cf5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9ef1);
        EXPECT(gbc.pc(), 0x2cf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0079
        gbc.setState(0x5064, 0xc9e4, 0xf5e0, 0x5646, 0x4931, 0x829, 0x0, 0x0);
        gbc.writeMem(0x5064, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc9e4);
        EXPECT(gbc.pc(), 0x5066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 007A
        gbc.setState(0x2538, 0x77e9, 0x4c50, 0xe3f3, 0x290c, 0x77a6, 0x1, 0x0);
        gbc.writeMem(0x2538, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x77e9);
        EXPECT(gbc.pc(), 0x253a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 007B
        gbc.setState(0xc24c, 0xe913, 0x1b0, 0x4421, 0xf28f, 0x1b3f, 0x1, 0x1);
        gbc.writeMem(0xc24c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe913);
        EXPECT(gbc.pc(), 0xc24e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc24c), 0xcb);
        EXPECT(gbc.readMem(0xc24d), 0x69);
        // CB 69 007C
        gbc.setState(0xef17, 0x304d, 0xea30, 0x6c5f, 0x1e6f, 0x1c30, 0x0, 0x1);
        gbc.writeMem(0xef17, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x304d);
        EXPECT(gbc.pc(), 0xef19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef17), 0xcb);
        EXPECT(gbc.readMem(0xef18), 0x69);
        // CB 69 007D
        gbc.setState(0x6714, 0xae59, 0x8ef0, 0x906c, 0xca82, 0x4f06, 0x1, 0x1);
        gbc.writeMem(0x6714, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xae59);
        EXPECT(gbc.pc(), 0x6716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 007E
        gbc.setState(0x6f23, 0x9e42, 0xe730, 0x45a6, 0x5d68, 0x6d28, 0x0, 0x1);
        gbc.writeMem(0x6f23, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9e42);
        EXPECT(gbc.pc(), 0x6f25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 007F
        gbc.setState(0x2294, 0x64f1, 0xe510, 0x4d65, 0x98b3, 0xd977, 0x0, 0x0);
        gbc.writeMem(0x2294, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x64f1);
        EXPECT(gbc.pc(), 0x2296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0080
        gbc.setState(0x1c4a, 0xf22c, 0xc190, 0x4395, 0xe801, 0x42d9, 0x0, 0x1);
        gbc.writeMem(0x1c4a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf22c);
        EXPECT(gbc.pc(), 0x1c4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0081
        gbc.setState(0x87d4, 0xbb7d, 0x5770, 0x3849, 0x9895, 0x69e3, 0x0, 0x1);
        gbc.writeMem(0x87d4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbb7d);
        EXPECT(gbc.pc(), 0x87d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d4), 0xcb);
        EXPECT(gbc.readMem(0x87d5), 0x69);
        // CB 69 0082
        gbc.setState(0x1813, 0x8320, 0xf230, 0xc1d9, 0x2bc5, 0x6d8, 0x1, 0x0);
        gbc.writeMem(0x1813, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8320);
        EXPECT(gbc.pc(), 0x1815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0083
        gbc.setState(0x8874, 0x7d2e, 0xe570, 0xd265, 0xf681, 0xed9a, 0x1, 0x0);
        gbc.writeMem(0x8874, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x7d2e);
        EXPECT(gbc.pc(), 0x8876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8874), 0xcb);
        EXPECT(gbc.readMem(0x8875), 0x69);
        // CB 69 0084
        gbc.setState(0x747, 0xac68, 0x3010, 0x2025, 0x75fc, 0x4967, 0x0, 0x1);
        gbc.writeMem(0x747, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xac68);
        EXPECT(gbc.pc(), 0x749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0085
        gbc.setState(0x2bc3, 0xa216, 0x1dd0, 0x8e8e, 0x6b27, 0xd2e4, 0x0, 0x0);
        gbc.writeMem(0x2bc3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa216);
        EXPECT(gbc.pc(), 0x2bc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0086
        gbc.setState(0x92b8, 0xf1be, 0xd8d0, 0xe2c, 0xcecb, 0x792, 0x1, 0x1);
        gbc.writeMem(0x92b8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf1be);
        EXPECT(gbc.pc(), 0x92ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92b8), 0xcb);
        EXPECT(gbc.readMem(0x92b9), 0x69);
        // CB 69 0087
        gbc.setState(0xefe5, 0x55f4, 0xfb70, 0xce98, 0x34f, 0xfba5, 0x1, 0x0);
        gbc.writeMem(0xefe5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x55f4);
        EXPECT(gbc.pc(), 0xefe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefe5), 0xcb);
        EXPECT(gbc.readMem(0xefe6), 0x69);
        // CB 69 0088
        gbc.setState(0x3691, 0xc8aa, 0x8b00, 0x6a63, 0xffe2, 0xbc69, 0x1, 0x1);
        gbc.writeMem(0x3691, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc8aa);
        EXPECT(gbc.pc(), 0x3693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0089
        gbc.setState(0xf08, 0x496f, 0xb460, 0xbf1a, 0xd8a4, 0xb612, 0x1, 0x0);
        gbc.writeMem(0xf08, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x496f);
        EXPECT(gbc.pc(), 0xf0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 008A
        gbc.setState(0x3c7, 0xf89f, 0xb280, 0xb8d6, 0xc77a, 0x84ce, 0x1, 0x1);
        gbc.writeMem(0x3c7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf89f);
        EXPECT(gbc.pc(), 0x3c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 008B
        gbc.setState(0xb46c, 0x5455, 0x2630, 0x1163, 0x6dc5, 0x9ced, 0x1, 0x1);
        gbc.writeMem(0xb46c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x5455);
        EXPECT(gbc.pc(), 0xb46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46c), 0xcb);
        EXPECT(gbc.readMem(0xb46d), 0x69);
        // CB 69 008C
        gbc.setState(0x2277, 0x4663, 0x5ea0, 0x810b, 0x4510, 0x4f90, 0x1, 0x1);
        gbc.writeMem(0x2277, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4663);
        EXPECT(gbc.pc(), 0x2279);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 008D
        gbc.setState(0x1135, 0x2237, 0x4360, 0x77b3, 0x5f8e, 0xa771, 0x0, 0x0);
        gbc.writeMem(0x1135, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2237);
        EXPECT(gbc.pc(), 0x1137);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 008E
        gbc.setState(0xb413, 0xdd65, 0xa7e0, 0x6d4d, 0xa91f, 0x3f, 0x0, 0x0);
        gbc.writeMem(0xb413, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xdd65);
        EXPECT(gbc.pc(), 0xb415);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb413), 0xcb);
        EXPECT(gbc.readMem(0xb414), 0x69);
        // CB 69 008F
        gbc.setState(0xc35e, 0x1e9f, 0x7d50, 0xbfae, 0xbee4, 0xe2fc, 0x0, 0x1);
        gbc.writeMem(0xc35e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1e9f);
        EXPECT(gbc.pc(), 0xc360);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc35e), 0xcb);
        EXPECT(gbc.readMem(0xc35f), 0x69);
        // CB 69 0090
        gbc.setState(0xab2a, 0x780a, 0x4940, 0xabe, 0x70cb, 0x3e9a, 0x0, 0x0);
        gbc.writeMem(0xab2a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x780a);
        EXPECT(gbc.pc(), 0xab2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab2a), 0xcb);
        EXPECT(gbc.readMem(0xab2b), 0x69);
        // CB 69 0091
        gbc.setState(0xcb5b, 0x7d4f, 0x3180, 0x538d, 0x8811, 0xc018, 0x0, 0x0);
        gbc.writeMem(0xcb5b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7d4f);
        EXPECT(gbc.pc(), 0xcb5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb5b), 0xcb);
        EXPECT(gbc.readMem(0xcb5c), 0x69);
        // CB 69 0092
        gbc.setState(0xbc96, 0x95a8, 0x6a0, 0x9b7d, 0x9bb8, 0x3c55, 0x0, 0x0);
        gbc.writeMem(0xbc96, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x95a8);
        EXPECT(gbc.pc(), 0xbc98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc96), 0xcb);
        EXPECT(gbc.readMem(0xbc97), 0x69);
        // CB 69 0093
        gbc.setState(0x8f1e, 0xca3f, 0x8520, 0xe308, 0xa39b, 0x7f25, 0x1, 0x0);
        gbc.writeMem(0x8f1e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xca3f);
        EXPECT(gbc.pc(), 0x8f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f1e), 0xcb);
        EXPECT(gbc.readMem(0x8f1f), 0x69);
        // CB 69 0094
        gbc.setState(0x16a2, 0xdaa5, 0xbb70, 0x3144, 0x673c, 0x70c5, 0x1, 0x1);
        gbc.writeMem(0x16a2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xdaa5);
        EXPECT(gbc.pc(), 0x16a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0095
        gbc.setState(0x819d, 0x18c9, 0x45b0, 0x7606, 0xd226, 0xe1fd, 0x0, 0x0);
        gbc.writeMem(0x819d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x18c9);
        EXPECT(gbc.pc(), 0x819f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x819d), 0xcb);
        EXPECT(gbc.readMem(0x819e), 0x69);
        // CB 69 0096
        gbc.setState(0xd177, 0x6755, 0xcb00, 0x48f0, 0x2014, 0x9987, 0x0, 0x0);
        gbc.writeMem(0xd177, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6755);
        EXPECT(gbc.pc(), 0xd179);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd177), 0xcb);
        EXPECT(gbc.readMem(0xd178), 0x69);
        // CB 69 0097
        gbc.setState(0x3165, 0xfac9, 0x2420, 0x55ae, 0x5526, 0x165f, 0x1, 0x1);
        gbc.writeMem(0x3165, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfac9);
        EXPECT(gbc.pc(), 0x3167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0098
        gbc.setState(0x4c11, 0x5e20, 0xb750, 0x19f5, 0xafe2, 0x8d3f, 0x1, 0x0);
        gbc.writeMem(0x4c11, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5e20);
        EXPECT(gbc.pc(), 0x4c13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0099
        gbc.setState(0x3b6a, 0x295e, 0x5100, 0x68a4, 0x9388, 0x5328, 0x1, 0x0);
        gbc.writeMem(0x3b6a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x295e);
        EXPECT(gbc.pc(), 0x3b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 009A
        gbc.setState(0x5c5e, 0xbfb, 0x3e10, 0xaf72, 0xf80e, 0x79a6, 0x0, 0x0);
        gbc.writeMem(0x5c5e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbfb);
        EXPECT(gbc.pc(), 0x5c60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 009B
        gbc.setState(0x68e7, 0xd638, 0x5850, 0x87de, 0xf51e, 0xfcd6, 0x0, 0x1);
        gbc.writeMem(0x68e7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd638);
        EXPECT(gbc.pc(), 0x68e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 009C
        gbc.setState(0xb6de, 0xcc19, 0x6a90, 0x2acf, 0x79cf, 0x4b7, 0x1, 0x1);
        gbc.writeMem(0xb6de, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xcc19);
        EXPECT(gbc.pc(), 0xb6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6de), 0xcb);
        EXPECT(gbc.readMem(0xb6df), 0x69);
        // CB 69 009D
        gbc.setState(0xa8e5, 0x93ef, 0x48f0, 0xef1, 0x557c, 0x2a3e, 0x0, 0x0);
        gbc.writeMem(0xa8e5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x93ef);
        EXPECT(gbc.pc(), 0xa8e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8e5), 0xcb);
        EXPECT(gbc.readMem(0xa8e6), 0x69);
        // CB 69 009E
        gbc.setState(0xcffe, 0x93e3, 0x1c00, 0x9790, 0x2cb2, 0xf926, 0x0, 0x1);
        gbc.writeMem(0xcffe, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x93e3);
        EXPECT(gbc.pc(), 0xd000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcffe), 0xcb);
        EXPECT(gbc.readMem(0xcfff), 0x69);
        // CB 69 009F
        gbc.setState(0x388b, 0x69ef, 0x78a0, 0xc280, 0x911a, 0x4bc0, 0x1, 0x0);
        gbc.writeMem(0x388b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x69ef);
        EXPECT(gbc.pc(), 0x388d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00A0
        gbc.setState(0x2986, 0xf4eb, 0x3ec0, 0xc4ba, 0xe84d, 0xdd4f, 0x1, 0x1);
        gbc.writeMem(0x2986, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf4eb);
        EXPECT(gbc.pc(), 0x2988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00A1
        gbc.setState(0x7ed4, 0x7599, 0x3400, 0xd41c, 0x7083, 0x2d2a, 0x1, 0x0);
        gbc.writeMem(0x7ed4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7599);
        EXPECT(gbc.pc(), 0x7ed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00A2
        gbc.setState(0x5501, 0x7e52, 0xf370, 0x74f7, 0xfa26, 0x5d0d, 0x0, 0x0);
        gbc.writeMem(0x5501, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7e52);
        EXPECT(gbc.pc(), 0x5503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00A3
        gbc.setState(0xce65, 0x1d5c, 0x11c0, 0x48ec, 0x9a41, 0x918, 0x0, 0x0);
        gbc.writeMem(0xce65, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1d5c);
        EXPECT(gbc.pc(), 0xce67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce65), 0xcb);
        EXPECT(gbc.readMem(0xce66), 0x69);
        // CB 69 00A4
        gbc.setState(0x8733, 0xe2e9, 0x6450, 0x89a1, 0xe1cf, 0x4408, 0x0, 0x1);
        gbc.writeMem(0x8733, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe2e9);
        EXPECT(gbc.pc(), 0x8735);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8733), 0xcb);
        EXPECT(gbc.readMem(0x8734), 0x69);
        // CB 69 00A5
        gbc.setState(0x6ee3, 0x6fca, 0x9a00, 0xfdc2, 0x6b7a, 0xd281, 0x0, 0x0);
        gbc.writeMem(0x6ee3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x6fca);
        EXPECT(gbc.pc(), 0x6ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00A6
        gbc.setState(0x7936, 0xb95c, 0x1610, 0x4459, 0x5d3d, 0x17ee, 0x0, 0x0);
        gbc.writeMem(0x7936, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb95c);
        EXPECT(gbc.pc(), 0x7938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00A7
        gbc.setState(0x2448, 0xaf64, 0x1a00, 0x91b9, 0xb198, 0x9178, 0x1, 0x1);
        gbc.writeMem(0x2448, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xaf64);
        EXPECT(gbc.pc(), 0x244a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00A8
        gbc.setState(0x89f1, 0xd413, 0xcd10, 0xa080, 0x3493, 0xaaf7, 0x1, 0x1);
        gbc.writeMem(0x89f1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd413);
        EXPECT(gbc.pc(), 0x89f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89f1), 0xcb);
        EXPECT(gbc.readMem(0x89f2), 0x69);
        // CB 69 00A9
        gbc.setState(0x95e8, 0x7263, 0x9f30, 0xe417, 0x3702, 0xe5c5, 0x0, 0x1);
        gbc.writeMem(0x95e8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7263);
        EXPECT(gbc.pc(), 0x95ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95e8), 0xcb);
        EXPECT(gbc.readMem(0x95e9), 0x69);
        // CB 69 00AA
        gbc.setState(0xa648, 0xa98b, 0xabe0, 0xa37b, 0x6a9a, 0x4474, 0x1, 0x0);
        gbc.writeMem(0xa648, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa98b);
        EXPECT(gbc.pc(), 0xa64a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa648), 0xcb);
        EXPECT(gbc.readMem(0xa649), 0x69);
        // CB 69 00AB
        gbc.setState(0x64c, 0xb7b8, 0x5230, 0x5865, 0x7459, 0xe765, 0x0, 0x0);
        gbc.writeMem(0x64c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb7b8);
        EXPECT(gbc.pc(), 0x64e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00AC
        gbc.setState(0xe1c6, 0xf66f, 0x4fb0, 0xb64e, 0x2f0a, 0xe63e, 0x0, 0x0);
        gbc.writeMem(0xe1c6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf66f);
        EXPECT(gbc.pc(), 0xe1c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c6), 0xcb);
        EXPECT(gbc.readMem(0xe1c7), 0x69);
        // CB 69 00AD
        gbc.setState(0xe5c3, 0xb9d3, 0xc9b0, 0xd28a, 0xc5a8, 0xf540, 0x0, 0x1);
        gbc.writeMem(0xe5c3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb9d3);
        EXPECT(gbc.pc(), 0xe5c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5c3), 0xcb);
        EXPECT(gbc.readMem(0xe5c4), 0x69);
        // CB 69 00AE
        gbc.setState(0x25e4, 0x6d8c, 0x4fa0, 0xd8da, 0xcd1, 0xc5fc, 0x1, 0x0);
        gbc.writeMem(0x25e4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x6d8c);
        EXPECT(gbc.pc(), 0x25e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00AF
        gbc.setState(0x25e8, 0xa04d, 0x5ba0, 0x7492, 0xd4cf, 0xed3b, 0x0, 0x1);
        gbc.writeMem(0x25e8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x25ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00B0
        gbc.setState(0x394d, 0xa29b, 0x8f70, 0x77bf, 0x311b, 0xffce, 0x0, 0x1);
        gbc.writeMem(0x394d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa29b);
        EXPECT(gbc.pc(), 0x394f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00B1
        gbc.setState(0xeebe, 0x484c, 0xc7d0, 0x383a, 0x156e, 0x1116, 0x1, 0x1);
        gbc.writeMem(0xeebe, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x484c);
        EXPECT(gbc.pc(), 0xeec0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeebe), 0xcb);
        EXPECT(gbc.readMem(0xeebf), 0x69);
        // CB 69 00B2
        gbc.setState(0xc5e, 0x165f, 0x1cf0, 0x919f, 0x71b0, 0xc740, 0x1, 0x0);
        gbc.writeMem(0xc5e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x165f);
        EXPECT(gbc.pc(), 0xc60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00B3
        gbc.setState(0xc1a5, 0x4432, 0xa370, 0xa3ca, 0x2f90, 0x2b27, 0x0, 0x0);
        gbc.writeMem(0xc1a5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4432);
        EXPECT(gbc.pc(), 0xc1a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a5), 0xcb);
        EXPECT(gbc.readMem(0xc1a6), 0x69);
        // CB 69 00B4
        gbc.setState(0x8f1b, 0xc0b6, 0x3aa0, 0x18da, 0xd28f, 0x3121, 0x0, 0x0);
        gbc.writeMem(0x8f1b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xc0b6);
        EXPECT(gbc.pc(), 0x8f1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f1b), 0xcb);
        EXPECT(gbc.readMem(0x8f1c), 0x69);
        // CB 69 00B5
        gbc.setState(0x2f4e, 0xa13b, 0x1f60, 0x5f79, 0x13e6, 0x5969, 0x1, 0x0);
        gbc.writeMem(0x2f4e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xa13b);
        EXPECT(gbc.pc(), 0x2f50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00B6
        gbc.setState(0x958c, 0x7a91, 0xe7f0, 0x8dab, 0x9ddb, 0xb0e8, 0x0, 0x1);
        gbc.writeMem(0x958c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7a91);
        EXPECT(gbc.pc(), 0x958e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958c), 0xcb);
        EXPECT(gbc.readMem(0x958d), 0x69);
        // CB 69 00B7
        gbc.setState(0xba6a, 0x6f29, 0xfc0, 0xa2e9, 0x76d, 0xda96, 0x0, 0x0);
        gbc.writeMem(0xba6a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6f29);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba6a), 0xcb);
        EXPECT(gbc.readMem(0xba6b), 0x69);
        // CB 69 00B8
        gbc.setState(0x5339, 0x70c0, 0xd350, 0xd55d, 0x81, 0x3477, 0x1, 0x1);
        gbc.writeMem(0x5339, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x70c0);
        EXPECT(gbc.pc(), 0x533b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00B9
        gbc.setState(0x696d, 0x4370, 0x4790, 0xcd97, 0x17c0, 0xc57c, 0x0, 0x0);
        gbc.writeMem(0x696d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x4370);
        EXPECT(gbc.pc(), 0x696f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00BA
        gbc.setState(0x14d4, 0x33ad, 0x7c40, 0x6b5a, 0xc56b, 0xd6ad, 0x1, 0x0);
        gbc.writeMem(0x14d4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x33ad);
        EXPECT(gbc.pc(), 0x14d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00BB
        gbc.setState(0x263d, 0x526e, 0x8990, 0x9c5b, 0xce55, 0xe7b2, 0x1, 0x0);
        gbc.writeMem(0x263d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x526e);
        EXPECT(gbc.pc(), 0x263f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00BC
        gbc.setState(0xb255, 0xac34, 0xa220, 0xaa7f, 0x50d9, 0x5ab5, 0x1, 0x0);
        gbc.writeMem(0xb255, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xac34);
        EXPECT(gbc.pc(), 0xb257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb255), 0xcb);
        EXPECT(gbc.readMem(0xb256), 0x69);
        // CB 69 00BD
        gbc.setState(0x4d87, 0x6e08, 0xcdc0, 0x83f6, 0x7c49, 0xa35a, 0x1, 0x0);
        gbc.writeMem(0x4d87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x6e08);
        EXPECT(gbc.pc(), 0x4d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00BE
        gbc.setState(0x6f14, 0x2f36, 0x3ba0, 0x9f5f, 0xcf18, 0xe8b7, 0x1, 0x1);
        gbc.writeMem(0x6f14, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2f36);
        EXPECT(gbc.pc(), 0x6f16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00BF
        gbc.setState(0xb4f5, 0x7ff1, 0xc270, 0x818a, 0x500e, 0x5d19, 0x0, 0x1);
        gbc.writeMem(0xb4f5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7ff1);
        EXPECT(gbc.pc(), 0xb4f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4f5), 0xcb);
        EXPECT(gbc.readMem(0xb4f6), 0x69);
        // CB 69 00C0
        gbc.setState(0x1814, 0xc19, 0x6e70, 0xbd79, 0x8cf7, 0x32e7, 0x0, 0x0);
        gbc.writeMem(0x1814, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc19);
        EXPECT(gbc.pc(), 0x1816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00C2
        gbc.setState(0xdc3d, 0xb6aa, 0x10f0, 0x54cd, 0xb611, 0xb039, 0x1, 0x0);
        gbc.writeMem(0xdc3d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb6aa);
        EXPECT(gbc.pc(), 0xdc3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc3d), 0xcb);
        EXPECT(gbc.readMem(0xdc3e), 0x69);
        // CB 69 00C4
        gbc.setState(0xa45a, 0xd999, 0x2490, 0x366e, 0x5c3, 0xed49, 0x1, 0x1);
        gbc.writeMem(0xa45a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd999);
        EXPECT(gbc.pc(), 0xa45c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa45a), 0xcb);
        EXPECT(gbc.readMem(0xa45b), 0x69);
        // CB 69 00C5
        gbc.setState(0xeeb4, 0x6bbe, 0xf310, 0xd8ee, 0x1bbe, 0xe442, 0x1, 0x0);
        gbc.writeMem(0xeeb4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6bbe);
        EXPECT(gbc.pc(), 0xeeb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeb4), 0xcb);
        EXPECT(gbc.readMem(0xeeb5), 0x69);
        // CB 69 00C6
        gbc.setState(0x982, 0x9d80, 0xf170, 0xf590, 0xb2c7, 0x319a, 0x0, 0x1);
        gbc.writeMem(0x982, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9d80);
        EXPECT(gbc.pc(), 0x984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00C7
        gbc.setState(0x1a0e, 0x7d87, 0x5f70, 0xbf72, 0xac56, 0x57f0, 0x1, 0x1);
        gbc.writeMem(0x1a0e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x7d87);
        EXPECT(gbc.pc(), 0x1a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00CA
        gbc.setState(0x1607, 0x2708, 0x7850, 0x7353, 0x794a, 0x38e7, 0x0, 0x1);
        gbc.writeMem(0x1607, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2708);
        EXPECT(gbc.pc(), 0x1609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00CB
        gbc.setState(0x3acd, 0xbfa2, 0xe720, 0x414f, 0x192a, 0x7158, 0x1, 0x1);
        gbc.writeMem(0x3acd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xbfa2);
        EXPECT(gbc.pc(), 0x3acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00CC
        gbc.setState(0x6f4c, 0x125f, 0xde40, 0x5289, 0x5f93, 0x3c10, 0x1, 0x0);
        gbc.writeMem(0x6f4c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x125f);
        EXPECT(gbc.pc(), 0x6f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00CD
        gbc.setState(0x1845, 0x8d09, 0xd410, 0x16ce, 0x7f9d, 0x5fc, 0x0, 0x0);
        gbc.writeMem(0x1845, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8d09);
        EXPECT(gbc.pc(), 0x1847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00CE
        gbc.setState(0xb1c0, 0xe56d, 0xeae0, 0x16c6, 0xaafb, 0xd8d4, 0x1, 0x1);
        gbc.writeMem(0xb1c0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe56d);
        EXPECT(gbc.pc(), 0xb1c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c0), 0xcb);
        EXPECT(gbc.readMem(0xb1c1), 0x69);
        // CB 69 00CF
        gbc.setState(0x5eb7, 0xfc9f, 0x9f00, 0xdfb8, 0xba39, 0x5ffe, 0x0, 0x1);
        gbc.writeMem(0x5eb7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xfc9f);
        EXPECT(gbc.pc(), 0x5eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00D0
        gbc.setState(0x7ad, 0x8f4d, 0xee20, 0x4d58, 0x7e4, 0xfc00, 0x1, 0x0);
        gbc.writeMem(0x7ad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8f4d);
        EXPECT(gbc.pc(), 0x7af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00D1
        gbc.setState(0x61c4, 0x763c, 0xeb30, 0x8d96, 0xe504, 0xec32, 0x1, 0x1);
        gbc.writeMem(0x61c4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x763c);
        EXPECT(gbc.pc(), 0x61c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00D2
        gbc.setState(0x5fca, 0x449f, 0x84f0, 0xb1f7, 0xfe4e, 0x6d1f, 0x1, 0x0);
        gbc.writeMem(0x5fca, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x449f);
        EXPECT(gbc.pc(), 0x5fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00D3
        gbc.setState(0xac49, 0x34f5, 0x9f20, 0x380a, 0xc438, 0xb349, 0x0, 0x1);
        gbc.writeMem(0xac49, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x34f5);
        EXPECT(gbc.pc(), 0xac4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac49), 0xcb);
        EXPECT(gbc.readMem(0xac4a), 0x69);
        // CB 69 00D4
        gbc.setState(0x1615, 0x3461, 0x7900, 0xd232, 0xa786, 0xf1e, 0x1, 0x0);
        gbc.writeMem(0x1615, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3461);
        EXPECT(gbc.pc(), 0x1617);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00D5
        gbc.setState(0xaa1f, 0x102b, 0xd990, 0xf54c, 0xd5ea, 0x7119, 0x0, 0x0);
        gbc.writeMem(0xaa1f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x102b);
        EXPECT(gbc.pc(), 0xaa21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa1f), 0xcb);
        EXPECT(gbc.readMem(0xaa20), 0x69);
        // CB 69 00D6
        gbc.setState(0xbf8, 0xb85c, 0x1ba0, 0xf83e, 0x20cb, 0xd8c4, 0x0, 0x1);
        gbc.writeMem(0xbf8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb85c);
        EXPECT(gbc.pc(), 0xbfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00D7
        gbc.setState(0x5f9b, 0xdb3c, 0x4140, 0x23a5, 0x19ca, 0xe19a, 0x0, 0x1);
        gbc.writeMem(0x5f9b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdb3c);
        EXPECT(gbc.pc(), 0x5f9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00D8
        gbc.setState(0xe297, 0xeaf5, 0x8a0, 0x158a, 0xc4e, 0xa897, 0x1, 0x1);
        gbc.writeMem(0xe297, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xeaf5);
        EXPECT(gbc.pc(), 0xe299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe297), 0xcb);
        EXPECT(gbc.readMem(0xe298), 0x69);
        // CB 69 00D9
        gbc.setState(0x592d, 0xf33e, 0x1f00, 0xbcd0, 0xda11, 0x1955, 0x1, 0x0);
        gbc.writeMem(0x592d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xf33e);
        EXPECT(gbc.pc(), 0x592f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00DA
        gbc.setState(0xb6ec, 0x6133, 0xbf90, 0x28b8, 0x5ed0, 0xc932, 0x1, 0x1);
        gbc.writeMem(0xb6ec, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6133);
        EXPECT(gbc.pc(), 0xb6ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6ec), 0xcb);
        EXPECT(gbc.readMem(0xb6ed), 0x69);
        // CB 69 00DB
        gbc.setState(0x1767, 0xf064, 0x7ee0, 0x8623, 0xd24f, 0x758d, 0x0, 0x0);
        gbc.writeMem(0x1767, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf064);
        EXPECT(gbc.pc(), 0x1769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00DC
        gbc.setState(0x3f99, 0x9efa, 0xfc0, 0x6bfc, 0xee25, 0x5c6e, 0x0, 0x1);
        gbc.writeMem(0x3f99, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9efa);
        EXPECT(gbc.pc(), 0x3f9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00DD
        gbc.setState(0x82c7, 0x6c09, 0xa30, 0x8cb0, 0xd477, 0xf7dc, 0x1, 0x0);
        gbc.writeMem(0x82c7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6c09);
        EXPECT(gbc.pc(), 0x82c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c7), 0xcb);
        EXPECT(gbc.readMem(0x82c8), 0x69);
        // CB 69 00DE
        gbc.setState(0xe51a, 0x10ba, 0x4d30, 0x5add, 0xff9c, 0xe678, 0x0, 0x1);
        gbc.writeMem(0xe51a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x10ba);
        EXPECT(gbc.pc(), 0xe51c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe51a), 0xcb);
        EXPECT(gbc.readMem(0xe51b), 0x69);
        // CB 69 00DF
        gbc.setState(0xb15c, 0x1c8f, 0xf810, 0x2009, 0x538c, 0xf4a6, 0x0, 0x1);
        gbc.writeMem(0xb15c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1c8f);
        EXPECT(gbc.pc(), 0xb15e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb15c), 0xcb);
        EXPECT(gbc.readMem(0xb15d), 0x69);
        // CB 69 00E0
        gbc.setState(0xedf4, 0x683, 0xdd40, 0x280d, 0x927f, 0xcb9d, 0x0, 0x0);
        gbc.writeMem(0xedf4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x683);
        EXPECT(gbc.pc(), 0xedf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedf4), 0xcb);
        EXPECT(gbc.readMem(0xedf5), 0x69);
        // CB 69 00E1
        gbc.setState(0x30bc, 0x2982, 0xea80, 0xda60, 0x33c8, 0xb0a5, 0x0, 0x0);
        gbc.writeMem(0x30bc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2982);
        EXPECT(gbc.pc(), 0x30be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00E2
        gbc.setState(0xc466, 0xba21, 0x3ad0, 0xcc97, 0x3f9c, 0x193f, 0x1, 0x0);
        gbc.writeMem(0xc466, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xba21);
        EXPECT(gbc.pc(), 0xc468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc466), 0xcb);
        EXPECT(gbc.readMem(0xc467), 0x69);
        // CB 69 00E4
        gbc.setState(0x25e, 0xd275, 0xc570, 0x167c, 0x9c53, 0x1f25, 0x0, 0x1);
        gbc.writeMem(0x25e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd275);
        EXPECT(gbc.pc(), 0x260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00E7
        gbc.setState(0x7bb6, 0x253e, 0xbe0, 0x7681, 0x1206, 0xd8ba, 0x0, 0x0);
        gbc.writeMem(0x7bb6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x253e);
        EXPECT(gbc.pc(), 0x7bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00E8
        gbc.setState(0xd331, 0x778, 0xfd10, 0x37e0, 0x7f3a, 0x963f, 0x0, 0x1);
        gbc.writeMem(0xd331, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x778);
        EXPECT(gbc.pc(), 0xd333);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd331), 0xcb);
        EXPECT(gbc.readMem(0xd332), 0x69);
        // CB 69 00E9
        gbc.setState(0x1d6a, 0x76b1, 0xbf70, 0x10c7, 0x68c1, 0x634a, 0x0, 0x1);
        gbc.writeMem(0x1d6a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x76b1);
        EXPECT(gbc.pc(), 0x1d6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00EA
        gbc.setState(0x447e, 0x71b1, 0xd240, 0xbc95, 0x6976, 0xb3e1, 0x0, 0x1);
        gbc.writeMem(0x447e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x71b1);
        EXPECT(gbc.pc(), 0x4480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00EB
        gbc.setState(0xad0d, 0x5953, 0x980, 0x2add, 0xc1d5, 0xa681, 0x0, 0x1);
        gbc.writeMem(0xad0d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x5953);
        EXPECT(gbc.pc(), 0xad0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad0d), 0xcb);
        EXPECT(gbc.readMem(0xad0e), 0x69);
        // CB 69 00EC
        gbc.setState(0xb414, 0x3e11, 0xca00, 0x5487, 0x631f, 0x4ec9, 0x1, 0x1);
        gbc.writeMem(0xb414, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3e11);
        EXPECT(gbc.pc(), 0xb416);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb414), 0xcb);
        EXPECT(gbc.readMem(0xb415), 0x69);
        // CB 69 00ED
        gbc.setState(0xfe0, 0x53bc, 0x9c70, 0x4f39, 0xc9b, 0x362, 0x1, 0x0);
        gbc.writeMem(0xfe0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x53bc);
        EXPECT(gbc.pc(), 0xfe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00EE
        gbc.setState(0x4161, 0xa2e6, 0x7070, 0xd583, 0x97e5, 0xa318, 0x1, 0x0);
        gbc.writeMem(0x4161, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa2e6);
        EXPECT(gbc.pc(), 0x4163);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00EF
        gbc.setState(0xd510, 0x4b68, 0x5420, 0xd732, 0xec2c, 0xaff0, 0x0, 0x0);
        gbc.writeMem(0xd510, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4b68);
        EXPECT(gbc.pc(), 0xd512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd510), 0xcb);
        EXPECT(gbc.readMem(0xd511), 0x69);
        // CB 69 00F0
        gbc.setState(0x9748, 0x8004, 0x3520, 0xfda1, 0xd029, 0x92aa, 0x1, 0x1);
        gbc.writeMem(0x9748, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x8004);
        EXPECT(gbc.pc(), 0x974a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9748), 0xcb);
        EXPECT(gbc.readMem(0x9749), 0x69);
        // CB 69 00F1
        gbc.setState(0x93c6, 0xdb64, 0xb4a0, 0x6f6a, 0x542d, 0x800c, 0x1, 0x0);
        gbc.writeMem(0x93c6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xdb64);
        EXPECT(gbc.pc(), 0x93c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93c6), 0xcb);
        EXPECT(gbc.readMem(0x93c7), 0x69);
        // CB 69 00F2
        gbc.setState(0xb8c9, 0xfd51, 0xb460, 0xe35e, 0x7d56, 0x973d, 0x1, 0x0);
        gbc.writeMem(0xb8c9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xfd51);
        EXPECT(gbc.pc(), 0xb8cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8c9), 0xcb);
        EXPECT(gbc.readMem(0xb8ca), 0x69);
        // CB 69 00F3
        gbc.setState(0x4256, 0x78d8, 0x8790, 0x4f5f, 0xe083, 0x18d6, 0x1, 0x0);
        gbc.writeMem(0x4256, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x78d8);
        EXPECT(gbc.pc(), 0x4258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00F4
        gbc.setState(0xa615, 0x8bf2, 0x1290, 0x101f, 0x9a8b, 0xf158, 0x1, 0x0);
        gbc.writeMem(0xa615, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8bf2);
        EXPECT(gbc.pc(), 0xa617);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa615), 0xcb);
        EXPECT(gbc.readMem(0xa616), 0x69);
        // CB 69 00F5
        gbc.setState(0x6634, 0xe6b4, 0x2450, 0x70cb, 0xb2c, 0x4feb, 0x0, 0x1);
        gbc.writeMem(0x6634, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe6b4);
        EXPECT(gbc.pc(), 0x6636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00F6
        gbc.setState(0x1eb, 0x22f4, 0x1370, 0xc02a, 0xf8fb, 0xa9ad, 0x1, 0x1);
        gbc.writeMem(0x1eb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x22f4);
        EXPECT(gbc.pc(), 0x1ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00F7
        gbc.setState(0xc38f, 0x4dfb, 0xcda0, 0x38b5, 0xc97c, 0xa0ca, 0x1, 0x1);
        gbc.writeMem(0xc38f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4dfb);
        EXPECT(gbc.pc(), 0xc391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc38f), 0xcb);
        EXPECT(gbc.readMem(0xc390), 0x69);
        // CB 69 00F8
        gbc.setState(0xc575, 0x4e8d, 0xc4b0, 0xf8d2, 0xd77d, 0x2424, 0x1, 0x0);
        gbc.writeMem(0xc575, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x4e8d);
        EXPECT(gbc.pc(), 0xc577);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc575), 0xcb);
        EXPECT(gbc.readMem(0xc576), 0x69);
        // CB 69 00FA
        gbc.setState(0xa8d1, 0x2516, 0x6e0, 0xa181, 0x19a9, 0x2ea6, 0x0, 0x1);
        gbc.writeMem(0xa8d1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2516);
        EXPECT(gbc.pc(), 0xa8d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d1), 0xcb);
        EXPECT(gbc.readMem(0xa8d2), 0x69);
        // CB 69 00FB
        gbc.setState(0x14ea, 0x6b96, 0x1510, 0x36fd, 0x5175, 0xe5db, 0x0, 0x0);
        gbc.writeMem(0x14ea, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6b96);
        EXPECT(gbc.pc(), 0x14ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 00FC
        gbc.setState(0xc148, 0x83e9, 0xa990, 0xc922, 0x30b4, 0xa435, 0x1, 0x0);
        gbc.writeMem(0xc148, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x83e9);
        EXPECT(gbc.pc(), 0xc14a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc148), 0xcb);
        EXPECT(gbc.readMem(0xc149), 0x69);
        // CB 69 00FD
        gbc.setState(0x98f4, 0x1b21, 0xb230, 0x28e4, 0xa522, 0x8e1f, 0x0, 0x1);
        gbc.writeMem(0x98f4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1b21);
        EXPECT(gbc.pc(), 0x98f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98f4), 0xcb);
        EXPECT(gbc.readMem(0x98f5), 0x69);
        // CB 69 00FE
        gbc.setState(0x2a18, 0xeed4, 0x4260, 0xdff3, 0x52ef, 0xbbcd, 0x0, 0x1);
        gbc.writeMem(0x2a18, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xeed4);
        EXPECT(gbc.pc(), 0x2a1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 00FF
        gbc.setState(0x575f, 0x2db2, 0x7110, 0x16b1, 0xc3a0, 0x4325, 0x1, 0x1);
        gbc.writeMem(0x575f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x2db2);
        EXPECT(gbc.pc(), 0x5761);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0100
        gbc.setState(0x9f00, 0x2a2d, 0x19c0, 0x232a, 0x21c8, 0xe875, 0x1, 0x1);
        gbc.writeMem(0x9f00, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2a2d);
        EXPECT(gbc.pc(), 0x9f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f00), 0xcb);
        EXPECT(gbc.readMem(0x9f01), 0x69);
        // CB 69 0101
        gbc.setState(0x7162, 0x3a6f, 0xd710, 0xc2c1, 0xa2e6, 0xa749, 0x1, 0x1);
        gbc.writeMem(0x7162, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3a6f);
        EXPECT(gbc.pc(), 0x7164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0102
        gbc.setState(0x1f4, 0xa4ad, 0x5150, 0x5d59, 0xfc6d, 0xd6a6, 0x1, 0x1);
        gbc.writeMem(0x1f4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa4ad);
        EXPECT(gbc.pc(), 0x1f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0103
        gbc.setState(0xaa8, 0x145a, 0x12b0, 0xae71, 0xe798, 0xb5fc, 0x0, 0x1);
        gbc.writeMem(0xaa8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x145a);
        EXPECT(gbc.pc(), 0xaaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0104
        gbc.setState(0xb536, 0x5087, 0xa810, 0x3bf6, 0x91f9, 0xa061, 0x0, 0x1);
        gbc.writeMem(0xb536, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5087);
        EXPECT(gbc.pc(), 0xb538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb536), 0xcb);
        EXPECT(gbc.readMem(0xb537), 0x69);
        // CB 69 0105
        gbc.setState(0xc4fb, 0x1ad4, 0x9f70, 0x1d35, 0xd0ef, 0x3150, 0x1, 0x1);
        gbc.writeMem(0xc4fb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1ad4);
        EXPECT(gbc.pc(), 0xc4fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4fb), 0xcb);
        EXPECT(gbc.readMem(0xc4fc), 0x69);
        // CB 69 0106
        gbc.setState(0x8c87, 0x49e0, 0x740, 0x6a9, 0x7af7, 0x982b, 0x0, 0x0);
        gbc.writeMem(0x8c87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x49e0);
        EXPECT(gbc.pc(), 0x8c89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c87), 0xcb);
        EXPECT(gbc.readMem(0x8c88), 0x69);
        // CB 69 0108
        gbc.setState(0x65e5, 0x5d5c, 0x4cd0, 0x5aa6, 0xe790, 0x5288, 0x1, 0x0);
        gbc.writeMem(0x65e5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5d5c);
        EXPECT(gbc.pc(), 0x65e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0109
        gbc.setState(0xa7b2, 0x71e3, 0xc30, 0x291f, 0xe645, 0x5381, 0x1, 0x0);
        gbc.writeMem(0xa7b2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x71e3);
        EXPECT(gbc.pc(), 0xa7b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7b2), 0xcb);
        EXPECT(gbc.readMem(0xa7b3), 0x69);
        // CB 69 010A
        gbc.setState(0x951c, 0x9d0d, 0xc510, 0x28cd, 0x2d67, 0xd4d9, 0x1, 0x1);
        gbc.writeMem(0x951c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x9d0d);
        EXPECT(gbc.pc(), 0x951e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x951c), 0xcb);
        EXPECT(gbc.readMem(0x951d), 0x69);
        // CB 69 010B
        gbc.setState(0x57a9, 0xa429, 0x6b80, 0xadf6, 0x85a3, 0x32c5, 0x0, 0x0);
        gbc.writeMem(0x57a9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa429);
        EXPECT(gbc.pc(), 0x57ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 010C
        gbc.setState(0x2461, 0x3cb4, 0x9aa0, 0x1177, 0xf8d1, 0x5d3a, 0x1, 0x0);
        gbc.writeMem(0x2461, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x3cb4);
        EXPECT(gbc.pc(), 0x2463);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 010D
        gbc.setState(0x86d6, 0x89fd, 0x5ca0, 0xd2cf, 0xf874, 0x49f5, 0x0, 0x0);
        gbc.writeMem(0x86d6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x89fd);
        EXPECT(gbc.pc(), 0x86d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86d6), 0xcb);
        EXPECT(gbc.readMem(0x86d7), 0x69);
        // CB 69 010E
        gbc.setState(0x6fdd, 0x1247, 0xe850, 0x784e, 0x6fb1, 0xc712, 0x1, 0x1);
        gbc.writeMem(0x6fdd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1247);
        EXPECT(gbc.pc(), 0x6fdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 010F
        gbc.setState(0xdda4, 0x70b0, 0x3c50, 0x3061, 0x30ef, 0xb647, 0x1, 0x0);
        gbc.writeMem(0xdda4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x70b0);
        EXPECT(gbc.pc(), 0xdda6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdda4), 0xcb);
        EXPECT(gbc.readMem(0xdda5), 0x69);
        // CB 69 0110
        gbc.setState(0x91cd, 0x783c, 0x3da0, 0xd8b, 0xf1e2, 0x107e, 0x1, 0x0);
        gbc.writeMem(0x91cd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x783c);
        EXPECT(gbc.pc(), 0x91cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91cd), 0xcb);
        EXPECT(gbc.readMem(0x91ce), 0x69);
        // CB 69 0111
        gbc.setState(0x16f7, 0xf251, 0x16b0, 0x5e04, 0x60e1, 0x34f5, 0x1, 0x0);
        gbc.writeMem(0x16f7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xf251);
        EXPECT(gbc.pc(), 0x16f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0113
        gbc.setState(0x3b48, 0x849, 0xed40, 0x56a, 0x5d9f, 0x3761, 0x1, 0x0);
        gbc.writeMem(0x3b48, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x849);
        EXPECT(gbc.pc(), 0x3b4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0114
        gbc.setState(0xbda5, 0xd51a, 0x7e90, 0x9cba, 0x55b, 0xf78, 0x1, 0x0);
        gbc.writeMem(0xbda5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd51a);
        EXPECT(gbc.pc(), 0xbda7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda5), 0xcb);
        EXPECT(gbc.readMem(0xbda6), 0x69);
        // CB 69 0115
        gbc.setState(0x8652, 0x3da3, 0x9cc0, 0xab1b, 0x74d5, 0x7c0b, 0x0, 0x0);
        gbc.writeMem(0x8652, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3da3);
        EXPECT(gbc.pc(), 0x8654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8652), 0xcb);
        EXPECT(gbc.readMem(0x8653), 0x69);
        // CB 69 0116
        gbc.setState(0x9bef, 0x76e5, 0x1280, 0x97a0, 0x7dd1, 0xa69a, 0x1, 0x0);
        gbc.writeMem(0x9bef, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x76e5);
        EXPECT(gbc.pc(), 0x9bf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bef), 0xcb);
        EXPECT(gbc.readMem(0x9bf0), 0x69);
        // CB 69 0117
        gbc.setState(0xe384, 0x5806, 0x9b00, 0x83b8, 0x432c, 0x77b5, 0x1, 0x0);
        gbc.writeMem(0xe384, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5806);
        EXPECT(gbc.pc(), 0xe386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe384), 0xcb);
        EXPECT(gbc.readMem(0xe385), 0x69);
        // CB 69 0118
        gbc.setState(0x75b2, 0xcedf, 0x6d90, 0xd68e, 0xaee4, 0xa94f, 0x0, 0x1);
        gbc.writeMem(0x75b2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xcedf);
        EXPECT(gbc.pc(), 0x75b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0119
        gbc.setState(0xad96, 0x6054, 0xe0b0, 0x2536, 0xe25e, 0xac7e, 0x0, 0x0);
        gbc.writeMem(0xad96, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6054);
        EXPECT(gbc.pc(), 0xad98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad96), 0xcb);
        EXPECT(gbc.readMem(0xad97), 0x69);
        // CB 69 011A
        gbc.setState(0x2e21, 0x76b6, 0xc8e0, 0x629d, 0x2de2, 0xdc4a, 0x1, 0x1);
        gbc.writeMem(0x2e21, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x76b6);
        EXPECT(gbc.pc(), 0x2e23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 011B
        gbc.setState(0x90ad, 0x1bf6, 0xc4e0, 0x6aeb, 0xff55, 0xcc6, 0x0, 0x1);
        gbc.writeMem(0x90ad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1bf6);
        EXPECT(gbc.pc(), 0x90af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ad), 0xcb);
        EXPECT(gbc.readMem(0x90ae), 0x69);
        // CB 69 011C
        gbc.setState(0x147e, 0x6fd8, 0xe1a0, 0xab37, 0x4c4b, 0xb222, 0x1, 0x1);
        gbc.writeMem(0x147e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6fd8);
        EXPECT(gbc.pc(), 0x1480);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 011D
        gbc.setState(0xea24, 0x36b1, 0x2730, 0xdf0e, 0xd874, 0x97bd, 0x1, 0x1);
        gbc.writeMem(0xea24, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x36b1);
        EXPECT(gbc.pc(), 0xea26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea24), 0xcb);
        EXPECT(gbc.readMem(0xea25), 0x69);
        // CB 69 011E
        gbc.setState(0x1924, 0x8f47, 0x4ea0, 0xbe3a, 0x68d3, 0xbd4e, 0x0, 0x1);
        gbc.writeMem(0x1924, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8f47);
        EXPECT(gbc.pc(), 0x1926);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 011F
        gbc.setState(0x5e2, 0x6d5e, 0x8cb0, 0x1d9e, 0xa5c, 0x9373, 0x1, 0x1);
        gbc.writeMem(0x5e2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6d5e);
        EXPECT(gbc.pc(), 0x5e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0120
        gbc.setState(0x7508, 0xba65, 0x29e0, 0x62c2, 0xedc5, 0x1ab2, 0x1, 0x1);
        gbc.writeMem(0x7508, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xba65);
        EXPECT(gbc.pc(), 0x750a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0121
        gbc.setState(0x6f59, 0xe14b, 0x9e80, 0x5f75, 0x7cbc, 0xfac8, 0x0, 0x0);
        gbc.writeMem(0x6f59, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xe14b);
        EXPECT(gbc.pc(), 0x6f5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0122
        gbc.setState(0x5357, 0xd9a3, 0x7150, 0x3b0d, 0xc7e2, 0xe9a5, 0x0, 0x0);
        gbc.writeMem(0x5357, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd9a3);
        EXPECT(gbc.pc(), 0x5359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0123
        gbc.setState(0x82c0, 0x6344, 0xf380, 0xa6fe, 0x5301, 0xd0c5, 0x1, 0x1);
        gbc.writeMem(0x82c0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6344);
        EXPECT(gbc.pc(), 0x82c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82c0), 0xcb);
        EXPECT(gbc.readMem(0x82c1), 0x69);
        // CB 69 0124
        gbc.setState(0xb651, 0x1907, 0x22f0, 0xcdd0, 0x7245, 0x529, 0x1, 0x0);
        gbc.writeMem(0xb651, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1907);
        EXPECT(gbc.pc(), 0xb653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb651), 0xcb);
        EXPECT(gbc.readMem(0xb652), 0x69);
        // CB 69 0125
        gbc.setState(0xb40a, 0x823b, 0xa1c0, 0xe822, 0xe39c, 0x43c9, 0x0, 0x1);
        gbc.writeMem(0xb40a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x823b);
        EXPECT(gbc.pc(), 0xb40c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40a), 0xcb);
        EXPECT(gbc.readMem(0xb40b), 0x69);
        // CB 69 0126
        gbc.setState(0x20a8, 0x8e08, 0xc7b0, 0xafe1, 0xf280, 0x5c3b, 0x1, 0x1);
        gbc.writeMem(0x20a8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8e08);
        EXPECT(gbc.pc(), 0x20aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0127
        gbc.setState(0x8a43, 0x657a, 0x940, 0x7304, 0x54e9, 0xb52e, 0x0, 0x0);
        gbc.writeMem(0x8a43, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x657a);
        EXPECT(gbc.pc(), 0x8a45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a43), 0xcb);
        EXPECT(gbc.readMem(0x8a44), 0x69);
        // CB 69 0128
        gbc.setState(0x21a, 0xed41, 0x2850, 0x40c3, 0x653f, 0xa32, 0x0, 0x0);
        gbc.writeMem(0x21a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xed41);
        EXPECT(gbc.pc(), 0x21c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0129
        gbc.setState(0x1545, 0x4d7, 0x75d0, 0x92bc, 0x7ed5, 0xe5fe, 0x0, 0x1);
        gbc.writeMem(0x1545, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4d7);
        EXPECT(gbc.pc(), 0x1547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 012A
        gbc.setState(0x80c8, 0x422c, 0xfa70, 0x448c, 0xe781, 0x7393, 0x1, 0x0);
        gbc.writeMem(0x80c8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x422c);
        EXPECT(gbc.pc(), 0x80ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80c8), 0xcb);
        EXPECT(gbc.readMem(0x80c9), 0x69);
        // CB 69 012B
        gbc.setState(0x1f7e, 0x9433, 0x5c90, 0x548f, 0x9341, 0x20dc, 0x0, 0x0);
        gbc.writeMem(0x1f7e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9433);
        EXPECT(gbc.pc(), 0x1f80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 012C
        gbc.setState(0x6211, 0x6900, 0xfc00, 0x5c03, 0xfb91, 0xdd04, 0x0, 0x0);
        gbc.writeMem(0x6211, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6900);
        EXPECT(gbc.pc(), 0x6213);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 012D
        gbc.setState(0xd7ca, 0x95c3, 0x1a50, 0xea7c, 0xa4df, 0xaad9, 0x1, 0x1);
        gbc.writeMem(0xd7ca, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x95c3);
        EXPECT(gbc.pc(), 0xd7cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ca), 0xcb);
        EXPECT(gbc.readMem(0xd7cb), 0x69);
        // CB 69 012E
        gbc.setState(0xe1c2, 0x6cfb, 0x28e0, 0x7710, 0xe79, 0x6aa6, 0x1, 0x1);
        gbc.writeMem(0xe1c2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6cfb);
        EXPECT(gbc.pc(), 0xe1c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1c2), 0xcb);
        EXPECT(gbc.readMem(0xe1c3), 0x69);
        // CB 69 012F
        gbc.setState(0x3b57, 0x314, 0xc8d0, 0x4e06, 0x20d7, 0x2d5a, 0x0, 0x1);
        gbc.writeMem(0x3b57, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x314);
        EXPECT(gbc.pc(), 0x3b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0130
        gbc.setState(0x864b, 0xccd3, 0x6610, 0x8256, 0x1893, 0x6a55, 0x0, 0x0);
        gbc.writeMem(0x864b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xccd3);
        EXPECT(gbc.pc(), 0x864d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x864b), 0xcb);
        EXPECT(gbc.readMem(0x864c), 0x69);
        // CB 69 0131
        gbc.setState(0x76fe, 0x992c, 0x9b90, 0x43ab, 0x5238, 0x3525, 0x0, 0x1);
        gbc.writeMem(0x76fe, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x992c);
        EXPECT(gbc.pc(), 0x7700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0132
        gbc.setState(0xca68, 0x4332, 0x1070, 0xe591, 0xff39, 0x2600, 0x0, 0x1);
        gbc.writeMem(0xca68, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x4332);
        EXPECT(gbc.pc(), 0xca6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca68), 0xcb);
        EXPECT(gbc.readMem(0xca69), 0x69);
        // CB 69 0133
        gbc.setState(0xa65c, 0x792c, 0xc520, 0xc915, 0x55c9, 0x9209, 0x1, 0x1);
        gbc.writeMem(0xa65c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x792c);
        EXPECT(gbc.pc(), 0xa65e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa65c), 0xcb);
        EXPECT(gbc.readMem(0xa65d), 0x69);
        // CB 69 0134
        gbc.setState(0xa2d8, 0xbe8b, 0x8eb0, 0xb108, 0x6498, 0xdf13, 0x1, 0x0);
        gbc.writeMem(0xa2d8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbe8b);
        EXPECT(gbc.pc(), 0xa2da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d8), 0xcb);
        EXPECT(gbc.readMem(0xa2d9), 0x69);
        // CB 69 0135
        gbc.setState(0x220f, 0xf4a6, 0x1480, 0x3637, 0x5f5d, 0x3826, 0x0, 0x1);
        gbc.writeMem(0x220f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf4a6);
        EXPECT(gbc.pc(), 0x2211);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0136
        gbc.setState(0xbada, 0xf589, 0x4bf0, 0xe55, 0x185d, 0x79ba, 0x0, 0x1);
        gbc.writeMem(0xbada, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf589);
        EXPECT(gbc.pc(), 0xbadc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbada), 0xcb);
        EXPECT(gbc.readMem(0xbadb), 0x69);
        // CB 69 0137
        gbc.setState(0xc3c8, 0x32d7, 0xbb30, 0xe7cd, 0xa624, 0x1b35, 0x1, 0x1);
        gbc.writeMem(0xc3c8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x32d7);
        EXPECT(gbc.pc(), 0xc3ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3c8), 0xcb);
        EXPECT(gbc.readMem(0xc3c9), 0x69);
        // CB 69 0138
        gbc.setState(0xb1e4, 0x5db0, 0x3840, 0x93e3, 0x2406, 0xdea4, 0x1, 0x1);
        gbc.writeMem(0xb1e4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5db0);
        EXPECT(gbc.pc(), 0xb1e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e4), 0xcb);
        EXPECT(gbc.readMem(0xb1e5), 0x69);
        // CB 69 0139
        gbc.setState(0x55c3, 0x403b, 0x93e0, 0xcfe7, 0x853a, 0xd7b1, 0x0, 0x1);
        gbc.writeMem(0x55c3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x403b);
        EXPECT(gbc.pc(), 0x55c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 013A
        gbc.setState(0x2b0a, 0xcb10, 0xfab0, 0xdffa, 0xfa95, 0xc0fc, 0x1, 0x0);
        gbc.writeMem(0x2b0a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xcb10);
        EXPECT(gbc.pc(), 0x2b0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 013B
        gbc.setState(0x5f5b, 0x6354, 0xe140, 0x4ad4, 0x5958, 0x857e, 0x0, 0x1);
        gbc.writeMem(0x5f5b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6354);
        EXPECT(gbc.pc(), 0x5f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 013C
        gbc.setState(0xd52a, 0x7970, 0x1a00, 0x470d, 0x4c93, 0xffa7, 0x1, 0x0);
        gbc.writeMem(0xd52a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7970);
        EXPECT(gbc.pc(), 0xd52c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd52a), 0xcb);
        EXPECT(gbc.readMem(0xd52b), 0x69);
        // CB 69 013D
        gbc.setState(0x4a2f, 0x2f97, 0x5920, 0xfc3, 0x49e6, 0xf5be, 0x0, 0x1);
        gbc.writeMem(0x4a2f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2f97);
        EXPECT(gbc.pc(), 0x4a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 013E
        gbc.setState(0x8165, 0x916a, 0x6660, 0x3ade, 0xb4b1, 0xaf25, 0x0, 0x1);
        gbc.writeMem(0x8165, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x916a);
        EXPECT(gbc.pc(), 0x8167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8165), 0xcb);
        EXPECT(gbc.readMem(0x8166), 0x69);
        // CB 69 013F
        gbc.setState(0xcb2f, 0xa750, 0x7a30, 0xc554, 0x151a, 0x7b53, 0x0, 0x0);
        gbc.writeMem(0xcb2f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa750);
        EXPECT(gbc.pc(), 0xcb31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb2f), 0xcb);
        EXPECT(gbc.readMem(0xcb30), 0x69);
        // CB 69 0140
        gbc.setState(0x6e00, 0x56d9, 0xe060, 0xf42c, 0xd97f, 0x8449, 0x0, 0x0);
        gbc.writeMem(0x6e00, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x56d9);
        EXPECT(gbc.pc(), 0x6e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0141
        gbc.setState(0x6a86, 0xd0c4, 0x2d80, 0xa418, 0xf345, 0xbfe9, 0x1, 0x0);
        gbc.writeMem(0x6a86, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd0c4);
        EXPECT(gbc.pc(), 0x6a88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0142
        gbc.setState(0x255f, 0xfa2, 0x2c70, 0x8f03, 0x3b15, 0xbe81, 0x0, 0x0);
        gbc.writeMem(0x255f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xfa2);
        EXPECT(gbc.pc(), 0x2561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0143
        gbc.setState(0x48f7, 0xa818, 0x4200, 0xe1e3, 0xccd2, 0x58b1, 0x0, 0x1);
        gbc.writeMem(0x48f7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa818);
        EXPECT(gbc.pc(), 0x48f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0144
        gbc.setState(0xda6d, 0x856, 0xd3e0, 0xc593, 0xaa91, 0x19d6, 0x0, 0x1);
        gbc.writeMem(0xda6d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x856);
        EXPECT(gbc.pc(), 0xda6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda6d), 0xcb);
        EXPECT(gbc.readMem(0xda6e), 0x69);
        // CB 69 0145
        gbc.setState(0x7f5b, 0xaa1c, 0x5300, 0x1dfd, 0x3ab2, 0xfc97, 0x0, 0x0);
        gbc.writeMem(0x7f5b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xaa1c);
        EXPECT(gbc.pc(), 0x7f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0146
        gbc.setState(0x2492, 0xee06, 0x9c20, 0xa7d8, 0xf5b7, 0x384e, 0x0, 0x1);
        gbc.writeMem(0x2492, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xee06);
        EXPECT(gbc.pc(), 0x2494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0147
        gbc.setState(0xdc6d, 0x7977, 0x1570, 0x2023, 0xaa1f, 0xb0a1, 0x0, 0x1);
        gbc.writeMem(0xdc6d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7977);
        EXPECT(gbc.pc(), 0xdc6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc6d), 0xcb);
        EXPECT(gbc.readMem(0xdc6e), 0x69);
        // CB 69 0148
        gbc.setState(0xbb77, 0x8dc4, 0x7360, 0xc3ce, 0xc32b, 0x7372, 0x0, 0x0);
        gbc.writeMem(0xbb77, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8dc4);
        EXPECT(gbc.pc(), 0xbb79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb77), 0xcb);
        EXPECT(gbc.readMem(0xbb78), 0x69);
        // CB 69 0149
        gbc.setState(0xb4e8, 0x4ccb, 0xe8e0, 0xd1fa, 0x349, 0x945c, 0x0, 0x1);
        gbc.writeMem(0xb4e8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4ccb);
        EXPECT(gbc.pc(), 0xb4ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e8), 0xcb);
        EXPECT(gbc.readMem(0xb4e9), 0x69);
        // CB 69 014A
        gbc.setState(0xa5c, 0xb00, 0x9ad0, 0x176e, 0xae68, 0xd44d, 0x0, 0x0);
        gbc.writeMem(0xa5c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb00);
        EXPECT(gbc.pc(), 0xa5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 014B
        gbc.setState(0xcc87, 0x6bab, 0xe740, 0x8227, 0x6e73, 0xbacd, 0x0, 0x1);
        gbc.writeMem(0xcc87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6bab);
        EXPECT(gbc.pc(), 0xcc89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc87), 0xcb);
        EXPECT(gbc.readMem(0xcc88), 0x69);
        // CB 69 014C
        gbc.setState(0x15e3, 0xf0e, 0xe330, 0xae61, 0x921c, 0x6aeb, 0x0, 0x0);
        gbc.writeMem(0x15e3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf0e);
        EXPECT(gbc.pc(), 0x15e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 014D
        gbc.setState(0xbec9, 0x7894, 0x8f10, 0xf661, 0x3979, 0xcd37, 0x0, 0x1);
        gbc.writeMem(0xbec9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7894);
        EXPECT(gbc.pc(), 0xbecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec9), 0xcb);
        EXPECT(gbc.readMem(0xbeca), 0x69);
        // CB 69 014F
        gbc.setState(0x1de1, 0x3dd2, 0x13c0, 0x2194, 0x5acf, 0x292d, 0x1, 0x0);
        gbc.writeMem(0x1de1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3dd2);
        EXPECT(gbc.pc(), 0x1de3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0151
        gbc.setState(0x4b6c, 0xf31e, 0xdc90, 0x2557, 0x6bfd, 0xcd3c, 0x1, 0x0);
        gbc.writeMem(0x4b6c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf31e);
        EXPECT(gbc.pc(), 0x4b6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0152
        gbc.setState(0x9d52, 0xc83d, 0xbf40, 0xb81d, 0x1c78, 0x70b2, 0x0, 0x0);
        gbc.writeMem(0x9d52, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc83d);
        EXPECT(gbc.pc(), 0x9d54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d52), 0xcb);
        EXPECT(gbc.readMem(0x9d53), 0x69);
        // CB 69 0153
        gbc.setState(0x1c5b, 0x9986, 0x4c20, 0xdd45, 0xddcb, 0x9dc9, 0x1, 0x0);
        gbc.writeMem(0x1c5b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9986);
        EXPECT(gbc.pc(), 0x1c5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0154
        gbc.setState(0x4e10, 0x50f1, 0x7e90, 0x2d63, 0xf785, 0xd13d, 0x1, 0x1);
        gbc.writeMem(0x4e10, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x50f1);
        EXPECT(gbc.pc(), 0x4e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0155
        gbc.setState(0x2c56, 0x64f7, 0x9230, 0xd906, 0x3e6c, 0x4f24, 0x1, 0x0);
        gbc.writeMem(0x2c56, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x64f7);
        EXPECT(gbc.pc(), 0x2c58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0156
        gbc.setState(0xc5bd, 0xdf17, 0x7420, 0xf436, 0x6515, 0xff87, 0x0, 0x0);
        gbc.writeMem(0xc5bd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xdf17);
        EXPECT(gbc.pc(), 0xc5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5bd), 0xcb);
        EXPECT(gbc.readMem(0xc5be), 0x69);
        // CB 69 0157
        gbc.setState(0x75c9, 0xab47, 0xff30, 0x153a, 0xb7bb, 0x3909, 0x0, 0x0);
        gbc.writeMem(0x75c9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xab47);
        EXPECT(gbc.pc(), 0x75cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0158
        gbc.setState(0x5aac, 0xab50, 0x7200, 0xaed4, 0x408, 0x4bce, 0x0, 0x1);
        gbc.writeMem(0x5aac, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xab50);
        EXPECT(gbc.pc(), 0x5aae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0159
        gbc.setState(0x5288, 0xf25, 0x69d0, 0x9808, 0xffa3, 0x4b3b, 0x0, 0x0);
        gbc.writeMem(0x5288, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf25);
        EXPECT(gbc.pc(), 0x528a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 015A
        gbc.setState(0x899b, 0x9ef6, 0xbe50, 0xfc8c, 0xb9d4, 0x3249, 0x1, 0x1);
        gbc.writeMem(0x899b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9ef6);
        EXPECT(gbc.pc(), 0x899d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x899b), 0xcb);
        EXPECT(gbc.readMem(0x899c), 0x69);
        // CB 69 015B
        gbc.setState(0x7612, 0x5e7a, 0x8e0, 0xb450, 0xfaa9, 0xd62b, 0x0, 0x0);
        gbc.writeMem(0x7612, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5e7a);
        EXPECT(gbc.pc(), 0x7614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 015C
        gbc.setState(0x7c8b, 0x3599, 0x45e0, 0xba82, 0xf656, 0xef4d, 0x0, 0x0);
        gbc.writeMem(0x7c8b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x3599);
        EXPECT(gbc.pc(), 0x7c8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 015D
        gbc.setState(0x78de, 0x1527, 0x5c60, 0x390d, 0x392c, 0x41a7, 0x1, 0x1);
        gbc.writeMem(0x78de, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1527);
        EXPECT(gbc.pc(), 0x78e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 015E
        gbc.setState(0x5592, 0x9acb, 0xbe40, 0x810e, 0x151a, 0x9cb1, 0x0, 0x1);
        gbc.writeMem(0x5592, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9acb);
        EXPECT(gbc.pc(), 0x5594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 015F
        gbc.setState(0xcc1, 0xccc5, 0x6180, 0x1546, 0x43f7, 0xa946, 0x0, 0x0);
        gbc.writeMem(0xcc1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xccc5);
        EXPECT(gbc.pc(), 0xcc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0160
        gbc.setState(0x6546, 0x4f2, 0x6a80, 0xe49f, 0x2c6f, 0x52af, 0x0, 0x0);
        gbc.writeMem(0x6546, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4f2);
        EXPECT(gbc.pc(), 0x6548);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0161
        gbc.setState(0x939c, 0x5242, 0x7c30, 0x8947, 0xc853, 0x9b57, 0x0, 0x0);
        gbc.writeMem(0x939c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5242);
        EXPECT(gbc.pc(), 0x939e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x939c), 0xcb);
        EXPECT(gbc.readMem(0x939d), 0x69);
        // CB 69 0162
        gbc.setState(0x9d05, 0x789b, 0x8ba0, 0xa92f, 0x8cac, 0x14b0, 0x0, 0x1);
        gbc.writeMem(0x9d05, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x789b);
        EXPECT(gbc.pc(), 0x9d07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d05), 0xcb);
        EXPECT(gbc.readMem(0x9d06), 0x69);
        // CB 69 0163
        gbc.setState(0x1900, 0xf13e, 0xe310, 0xe8c2, 0xf31b, 0x9058, 0x0, 0x1);
        gbc.writeMem(0x1900, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xf13e);
        EXPECT(gbc.pc(), 0x1902);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0164
        gbc.setState(0x1a08, 0x9985, 0xdbf0, 0xd58, 0x667c, 0x3740, 0x1, 0x0);
        gbc.writeMem(0x1a08, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x9985);
        EXPECT(gbc.pc(), 0x1a0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0165
        gbc.setState(0x354b, 0xb49e, 0xb650, 0x9acd, 0x4138, 0xb6a9, 0x0, 0x1);
        gbc.writeMem(0x354b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xb49e);
        EXPECT(gbc.pc(), 0x354d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0166
        gbc.setState(0x6cc1, 0x94a5, 0x99d0, 0x35c8, 0xe703, 0xc851, 0x0, 0x0);
        gbc.writeMem(0x6cc1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x94a5);
        EXPECT(gbc.pc(), 0x6cc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0167
        gbc.setState(0xc542, 0xd5a9, 0x3c80, 0x9776, 0x1a3a, 0x3d4c, 0x1, 0x0);
        gbc.writeMem(0xc542, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xd5a9);
        EXPECT(gbc.pc(), 0xc544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc542), 0xcb);
        EXPECT(gbc.readMem(0xc543), 0x69);
        // CB 69 0168
        gbc.setState(0x7f4d, 0x905b, 0x48b0, 0x4302, 0xc48f, 0x1360, 0x1, 0x0);
        gbc.writeMem(0x7f4d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x905b);
        EXPECT(gbc.pc(), 0x7f4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0169
        gbc.setState(0x3060, 0xf05f, 0xc600, 0xbaeb, 0xcc7, 0xf41f, 0x0, 0x1);
        gbc.writeMem(0x3060, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf05f);
        EXPECT(gbc.pc(), 0x3062);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 016A
        gbc.setState(0x1f10, 0x71c6, 0x4df0, 0xf9f5, 0xe88d, 0x5816, 0x1, 0x0);
        gbc.writeMem(0x1f10, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x71c6);
        EXPECT(gbc.pc(), 0x1f12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 016B
        gbc.setState(0xbae1, 0xd081, 0xf460, 0xc37c, 0xc48, 0xe20c, 0x0, 0x1);
        gbc.writeMem(0xbae1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd081);
        EXPECT(gbc.pc(), 0xbae3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae1), 0xcb);
        EXPECT(gbc.readMem(0xbae2), 0x69);
        // CB 69 016C
        gbc.setState(0x5cd0, 0x97d9, 0x250, 0xd44c, 0x689a, 0xb11b, 0x0, 0x0);
        gbc.writeMem(0x5cd0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x97d9);
        EXPECT(gbc.pc(), 0x5cd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 016D
        gbc.setState(0x842, 0x1faa, 0xfb50, 0x2a20, 0xf0c6, 0xb022, 0x0, 0x0);
        gbc.writeMem(0x842, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1faa);
        EXPECT(gbc.pc(), 0x844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 016E
        gbc.setState(0x8c18, 0x52a, 0x3510, 0xc639, 0x264c, 0x4dc0, 0x0, 0x0);
        gbc.writeMem(0x8c18, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x52a);
        EXPECT(gbc.pc(), 0x8c1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c18), 0xcb);
        EXPECT(gbc.readMem(0x8c19), 0x69);
        // CB 69 016F
        gbc.setState(0x6177, 0xf631, 0x2b20, 0x2aed, 0xfd96, 0xa72b, 0x1, 0x1);
        gbc.writeMem(0x6177, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf631);
        EXPECT(gbc.pc(), 0x6179);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0170
        gbc.setState(0x5580, 0x3067, 0x1de0, 0x2476, 0x9e50, 0xad1e, 0x1, 0x0);
        gbc.writeMem(0x5580, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3067);
        EXPECT(gbc.pc(), 0x5582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0171
        gbc.setState(0x3235, 0x57b0, 0x4ec0, 0x96fa, 0xeeb1, 0x291b, 0x1, 0x0);
        gbc.writeMem(0x3235, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x57b0);
        EXPECT(gbc.pc(), 0x3237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0172
        gbc.setState(0x46f7, 0x4221, 0x6b80, 0x3f3a, 0x5cb0, 0xb03e, 0x0, 0x0);
        gbc.writeMem(0x46f7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4221);
        EXPECT(gbc.pc(), 0x46f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0173
        gbc.setState(0xe6c1, 0xf1b3, 0x7f80, 0xfc95, 0xaba2, 0xefcb, 0x1, 0x1);
        gbc.writeMem(0xe6c1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf1b3);
        EXPECT(gbc.pc(), 0xe6c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6c1), 0xcb);
        EXPECT(gbc.readMem(0xe6c2), 0x69);
        // CB 69 0174
        gbc.setState(0x60f1, 0xe587, 0xf9a0, 0xa2de, 0x781a, 0x95de, 0x1, 0x0);
        gbc.writeMem(0x60f1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe587);
        EXPECT(gbc.pc(), 0x60f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0175
        gbc.setState(0x7bdb, 0x9d16, 0x6900, 0xff96, 0xc8b4, 0x883c, 0x1, 0x1);
        gbc.writeMem(0x7bdb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9d16);
        EXPECT(gbc.pc(), 0x7bdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0176
        gbc.setState(0x18a9, 0x84e5, 0x96b0, 0x9919, 0x77b5, 0xf039, 0x0, 0x1);
        gbc.writeMem(0x18a9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x84e5);
        EXPECT(gbc.pc(), 0x18ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0177
        gbc.setState(0x74f1, 0x9734, 0x84e0, 0x8dda, 0x4181, 0x34e7, 0x1, 0x1);
        gbc.writeMem(0x74f1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9734);
        EXPECT(gbc.pc(), 0x74f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0178
        gbc.setState(0x2209, 0x44a7, 0xb9e0, 0xa038, 0x8dac, 0xa50, 0x0, 0x0);
        gbc.writeMem(0x2209, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x44a7);
        EXPECT(gbc.pc(), 0x220b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0179
        gbc.setState(0x7dcf, 0xada0, 0xb460, 0xd343, 0x2adc, 0x8d78, 0x0, 0x0);
        gbc.writeMem(0x7dcf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xada0);
        EXPECT(gbc.pc(), 0x7dd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 017B
        gbc.setState(0x5ac2, 0xb12b, 0x7310, 0xaf35, 0xb9af, 0x5c4, 0x1, 0x0);
        gbc.writeMem(0x5ac2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb12b);
        EXPECT(gbc.pc(), 0x5ac4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 017C
        gbc.setState(0x9bc0, 0x2, 0x44c0, 0xfe71, 0x56ab, 0x6736, 0x1, 0x0);
        gbc.writeMem(0x9bc0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2);
        EXPECT(gbc.pc(), 0x9bc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bc0), 0xcb);
        EXPECT(gbc.readMem(0x9bc1), 0x69);
        // CB 69 017D
        gbc.setState(0xe511, 0x6233, 0x1b50, 0x8b0f, 0xae48, 0xde87, 0x0, 0x0);
        gbc.writeMem(0xe511, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6233);
        EXPECT(gbc.pc(), 0xe513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe511), 0xcb);
        EXPECT(gbc.readMem(0xe512), 0x69);
        // CB 69 017F
        gbc.setState(0x6fcd, 0x1ed4, 0xc450, 0xadb3, 0xa1b0, 0x2512, 0x0, 0x1);
        gbc.writeMem(0x6fcd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1ed4);
        EXPECT(gbc.pc(), 0x6fcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0180
        gbc.setState(0xdba9, 0xee36, 0x2480, 0xc068, 0xadd7, 0x8350, 0x1, 0x1);
        gbc.writeMem(0xdba9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xee36);
        EXPECT(gbc.pc(), 0xdbab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdba9), 0xcb);
        EXPECT(gbc.readMem(0xdbaa), 0x69);
        // CB 69 0181
        gbc.setState(0x94d7, 0xb822, 0x7780, 0xc6f2, 0x69be, 0x52cf, 0x0, 0x1);
        gbc.writeMem(0x94d7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb822);
        EXPECT(gbc.pc(), 0x94d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d7), 0xcb);
        EXPECT(gbc.readMem(0x94d8), 0x69);
        // CB 69 0182
        gbc.setState(0x99da, 0x3281, 0x8d60, 0xcc1b, 0xc258, 0x92eb, 0x0, 0x1);
        gbc.writeMem(0x99da, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3281);
        EXPECT(gbc.pc(), 0x99dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99da), 0xcb);
        EXPECT(gbc.readMem(0x99db), 0x69);
        // CB 69 0183
        gbc.setState(0x3980, 0x47e9, 0xcb50, 0x5b52, 0x4a8f, 0xbdb9, 0x1, 0x0);
        gbc.writeMem(0x3980, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x47e9);
        EXPECT(gbc.pc(), 0x3982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0184
        gbc.setState(0x7b9c, 0x66a1, 0x8020, 0x9093, 0xf72d, 0x84c7, 0x0, 0x1);
        gbc.writeMem(0x7b9c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x66a1);
        EXPECT(gbc.pc(), 0x7b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0185
        gbc.setState(0x6725, 0x1c3d, 0x4140, 0xfaed, 0x76e5, 0x988, 0x0, 0x0);
        gbc.writeMem(0x6725, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x1c3d);
        EXPECT(gbc.pc(), 0x6727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0186
        gbc.setState(0xa70f, 0xa1f8, 0x8ae0, 0x47f0, 0x7ac0, 0x5d7b, 0x1, 0x1);
        gbc.writeMem(0xa70f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa1f8);
        EXPECT(gbc.pc(), 0xa711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa70f), 0xcb);
        EXPECT(gbc.readMem(0xa710), 0x69);
        // CB 69 0187
        gbc.setState(0x29c1, 0x503c, 0xece0, 0x3251, 0x99a3, 0xc405, 0x0, 0x0);
        gbc.writeMem(0x29c1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x503c);
        EXPECT(gbc.pc(), 0x29c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0188
        gbc.setState(0x8688, 0xef7, 0x83f0, 0xf6df, 0x703d, 0xd453, 0x1, 0x1);
        gbc.writeMem(0x8688, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xef7);
        EXPECT(gbc.pc(), 0x868a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8688), 0xcb);
        EXPECT(gbc.readMem(0x8689), 0x69);
        // CB 69 0189
        gbc.setState(0x236, 0xd17d, 0x3960, 0x92e1, 0xf925, 0xb141, 0x1, 0x1);
        gbc.writeMem(0x236, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd17d);
        EXPECT(gbc.pc(), 0x238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 018A
        gbc.setState(0x1bf, 0x3b00, 0xf420, 0x152a, 0xfefc, 0xd021, 0x1, 0x0);
        gbc.writeMem(0x1bf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3b00);
        EXPECT(gbc.pc(), 0x1c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 018B
        gbc.setState(0xe1cc, 0xdfb3, 0x7020, 0xee46, 0x67d0, 0x4d4c, 0x0, 0x0);
        gbc.writeMem(0xe1cc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xdfb3);
        EXPECT(gbc.pc(), 0xe1ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cc), 0xcb);
        EXPECT(gbc.readMem(0xe1cd), 0x69);
        // CB 69 018C
        gbc.setState(0x6383, 0x44b4, 0x3430, 0x89b6, 0xf904, 0x38bd, 0x0, 0x0);
        gbc.writeMem(0x6383, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x44b4);
        EXPECT(gbc.pc(), 0x6385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 018D
        gbc.setState(0x2ff4, 0xae14, 0xd490, 0x1b73, 0xa88b, 0xa50, 0x0, 0x0);
        gbc.writeMem(0x2ff4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xae14);
        EXPECT(gbc.pc(), 0x2ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 018E
        gbc.setState(0x5795, 0x898d, 0xdff0, 0xc241, 0x6bc5, 0x6536, 0x0, 0x0);
        gbc.writeMem(0x5795, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x898d);
        EXPECT(gbc.pc(), 0x5797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 018F
        gbc.setState(0x64b2, 0xcca9, 0x1560, 0x643a, 0x77b2, 0xe960, 0x1, 0x1);
        gbc.writeMem(0x64b2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xcca9);
        EXPECT(gbc.pc(), 0x64b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0190
        gbc.setState(0x81ca, 0x474d, 0x2bf0, 0xdc01, 0x308b, 0xa75, 0x1, 0x1);
        gbc.writeMem(0x81ca, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x474d);
        EXPECT(gbc.pc(), 0x81cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81ca), 0xcb);
        EXPECT(gbc.readMem(0x81cb), 0x69);
        // CB 69 0191
        gbc.setState(0x5fb, 0xa28c, 0x3f20, 0x1157, 0x9e59, 0x8f0c, 0x1, 0x0);
        gbc.writeMem(0x5fb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa28c);
        EXPECT(gbc.pc(), 0x5fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0192
        gbc.setState(0x7285, 0xfa5a, 0x950, 0x4b1d, 0x618c, 0xd88d, 0x0, 0x0);
        gbc.writeMem(0x7285, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xfa5a);
        EXPECT(gbc.pc(), 0x7287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0193
        gbc.setState(0x6993, 0x50e, 0x8aa0, 0x558a, 0x1760, 0xaf7c, 0x1, 0x0);
        gbc.writeMem(0x6993, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x50e);
        EXPECT(gbc.pc(), 0x6995);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0194
        gbc.setState(0xe12d, 0xff93, 0x1cf0, 0x6355, 0xe10f, 0x938d, 0x1, 0x0);
        gbc.writeMem(0xe12d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xff93);
        EXPECT(gbc.pc(), 0xe12f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12d), 0xcb);
        EXPECT(gbc.readMem(0xe12e), 0x69);
        // CB 69 0195
        gbc.setState(0x568b, 0x4354, 0xd740, 0x11fa, 0x61c5, 0xd1ea, 0x0, 0x1);
        gbc.writeMem(0x568b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4354);
        EXPECT(gbc.pc(), 0x568d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0196
        gbc.setState(0x6303, 0x2115, 0x5c90, 0x8182, 0x9fa7, 0x49c1, 0x0, 0x1);
        gbc.writeMem(0x6303, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x2115);
        EXPECT(gbc.pc(), 0x6305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0197
        gbc.setState(0x2334, 0xcf2, 0xaeb0, 0x1784, 0xad3, 0xeb3e, 0x1, 0x1);
        gbc.writeMem(0x2334, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcf2);
        EXPECT(gbc.pc(), 0x2336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0198
        gbc.setState(0x5097, 0x443, 0x7520, 0x7f57, 0xfbe, 0x8453, 0x0, 0x1);
        gbc.writeMem(0x5097, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x443);
        EXPECT(gbc.pc(), 0x5099);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0199
        gbc.setState(0x83a0, 0x885f, 0xc30, 0x8ef4, 0xbcf3, 0x3df, 0x1, 0x0);
        gbc.writeMem(0x83a0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x885f);
        EXPECT(gbc.pc(), 0x83a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a0), 0xcb);
        EXPECT(gbc.readMem(0x83a1), 0x69);
        // CB 69 019A
        gbc.setState(0x198e, 0xf866, 0x1470, 0x9b0e, 0x42cd, 0xf7cc, 0x1, 0x0);
        gbc.writeMem(0x198e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf866);
        EXPECT(gbc.pc(), 0x1990);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 019B
        gbc.setState(0x5a71, 0x8254, 0xed20, 0x625a, 0x4c64, 0x2d49, 0x0, 0x0);
        gbc.writeMem(0x5a71, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8254);
        EXPECT(gbc.pc(), 0x5a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 019C
        gbc.setState(0x598d, 0x8446, 0xf110, 0xdc8, 0x7260, 0x992e, 0x1, 0x0);
        gbc.writeMem(0x598d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x8446);
        EXPECT(gbc.pc(), 0x598f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 019D
        gbc.setState(0x5bce, 0x93a7, 0x4b00, 0x2161, 0x78f3, 0xa48a, 0x1, 0x0);
        gbc.writeMem(0x5bce, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x93a7);
        EXPECT(gbc.pc(), 0x5bd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 019E
        gbc.setState(0xb32b, 0x34a5, 0x4870, 0xd18d, 0x9585, 0x9a0e, 0x1, 0x0);
        gbc.writeMem(0xb32b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x34a5);
        EXPECT(gbc.pc(), 0xb32d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb32b), 0xcb);
        EXPECT(gbc.readMem(0xb32c), 0x69);
        // CB 69 019F
        gbc.setState(0xc14a, 0x9c8e, 0xba30, 0x907, 0x95bd, 0x7766, 0x0, 0x0);
        gbc.writeMem(0xc14a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9c8e);
        EXPECT(gbc.pc(), 0xc14c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc14a), 0xcb);
        EXPECT(gbc.readMem(0xc14b), 0x69);
        // CB 69 01A0
        gbc.setState(0x2ae9, 0xe5ff, 0xd330, 0x8b43, 0x47a6, 0x2684, 0x1, 0x1);
        gbc.writeMem(0x2ae9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe5ff);
        EXPECT(gbc.pc(), 0x2aeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01A1
        gbc.setState(0x4d19, 0x2b33, 0x9df0, 0x7e21, 0x70a3, 0xb4b1, 0x0, 0x0);
        gbc.writeMem(0x4d19, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2b33);
        EXPECT(gbc.pc(), 0x4d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01A2
        gbc.setState(0xddfc, 0xa4c6, 0x6000, 0x8ece, 0x9013, 0x5f80, 0x0, 0x0);
        gbc.writeMem(0xddfc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa4c6);
        EXPECT(gbc.pc(), 0xddfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddfc), 0xcb);
        EXPECT(gbc.readMem(0xddfd), 0x69);
        // CB 69 01A3
        gbc.setState(0xc555, 0x23b5, 0xcf0, 0xbffa, 0xdd30, 0xaaf9, 0x0, 0x1);
        gbc.writeMem(0xc555, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x23b5);
        EXPECT(gbc.pc(), 0xc557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc555), 0xcb);
        EXPECT(gbc.readMem(0xc556), 0x69);
        // CB 69 01A4
        gbc.setState(0xd0ad, 0x2dcc, 0xa310, 0x5107, 0xbf01, 0x5c42, 0x1, 0x1);
        gbc.writeMem(0xd0ad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2dcc);
        EXPECT(gbc.pc(), 0xd0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ad), 0xcb);
        EXPECT(gbc.readMem(0xd0ae), 0x69);
        // CB 69 01A5
        gbc.setState(0x429f, 0x99be, 0x54b0, 0xb20a, 0x9665, 0x28ce, 0x1, 0x0);
        gbc.writeMem(0x429f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x99be);
        EXPECT(gbc.pc(), 0x42a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01A6
        gbc.setState(0xd455, 0x21e1, 0x9c20, 0xa692, 0xb9c5, 0x430c, 0x0, 0x0);
        gbc.writeMem(0xd455, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x21e1);
        EXPECT(gbc.pc(), 0xd457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd455), 0xcb);
        EXPECT(gbc.readMem(0xd456), 0x69);
        // CB 69 01A7
        gbc.setState(0xd865, 0x7e0f, 0x5250, 0xe2c7, 0x396c, 0xffb5, 0x0, 0x1);
        gbc.writeMem(0xd865, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7e0f);
        EXPECT(gbc.pc(), 0xd867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd865), 0xcb);
        EXPECT(gbc.readMem(0xd866), 0x69);
        // CB 69 01A8
        gbc.setState(0x9856, 0x17a2, 0x9ae0, 0x39e0, 0x6f20, 0xb90d, 0x1, 0x0);
        gbc.writeMem(0x9856, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x17a2);
        EXPECT(gbc.pc(), 0x9858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9856), 0xcb);
        EXPECT(gbc.readMem(0x9857), 0x69);
        // CB 69 01A9
        gbc.setState(0x859d, 0xa576, 0xfc30, 0xca4d, 0x1c86, 0xb2d4, 0x1, 0x1);
        gbc.writeMem(0x859d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa576);
        EXPECT(gbc.pc(), 0x859f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x859d), 0xcb);
        EXPECT(gbc.readMem(0x859e), 0x69);
        // CB 69 01AA
        gbc.setState(0x8a98, 0x6dcd, 0xea30, 0x1b86, 0xfc01, 0x6b92, 0x1, 0x0);
        gbc.writeMem(0x8a98, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6dcd);
        EXPECT(gbc.pc(), 0x8a9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a98), 0xcb);
        EXPECT(gbc.readMem(0x8a99), 0x69);
        // CB 69 01AB
        gbc.setState(0xd9ce, 0x3e7, 0xb00, 0xe57a, 0x18e5, 0x84b8, 0x1, 0x1);
        gbc.writeMem(0xd9ce, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3e7);
        EXPECT(gbc.pc(), 0xd9d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ce), 0xcb);
        EXPECT(gbc.readMem(0xd9cf), 0x69);
        // CB 69 01AC
        gbc.setState(0x36be, 0xca91, 0xe420, 0x85e7, 0x6150, 0x4821, 0x0, 0x0);
        gbc.writeMem(0x36be, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xca91);
        EXPECT(gbc.pc(), 0x36c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01AD
        gbc.setState(0xc452, 0xfd0b, 0x55e0, 0x64e, 0x7e0e, 0xb24d, 0x1, 0x1);
        gbc.writeMem(0xc452, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xfd0b);
        EXPECT(gbc.pc(), 0xc454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc452), 0xcb);
        EXPECT(gbc.readMem(0xc453), 0x69);
        // CB 69 01AE
        gbc.setState(0xdb07, 0x61e, 0xca20, 0xfca0, 0x7264, 0x9f5, 0x0, 0x1);
        gbc.writeMem(0xdb07, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x61e);
        EXPECT(gbc.pc(), 0xdb09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb07), 0xcb);
        EXPECT(gbc.readMem(0xdb08), 0x69);
        // CB 69 01B0
        gbc.setState(0x5976, 0x6da4, 0xc8f0, 0xb576, 0x15df, 0x898f, 0x1, 0x1);
        gbc.writeMem(0x5976, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6da4);
        EXPECT(gbc.pc(), 0x5978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01B1
        gbc.setState(0xba9f, 0x184b, 0xef0, 0x41eb, 0xf8f7, 0xeb2, 0x0, 0x1);
        gbc.writeMem(0xba9f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x184b);
        EXPECT(gbc.pc(), 0xbaa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba9f), 0xcb);
        EXPECT(gbc.readMem(0xbaa0), 0x69);
        // CB 69 01B2
        gbc.setState(0xc114, 0xab80, 0xe6c0, 0x7cf3, 0xdd0d, 0x9d10, 0x1, 0x0);
        gbc.writeMem(0xc114, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xab80);
        EXPECT(gbc.pc(), 0xc116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc114), 0xcb);
        EXPECT(gbc.readMem(0xc115), 0x69);
        // CB 69 01B3
        gbc.setState(0xdebc, 0xc7c4, 0x7b0, 0x5ac8, 0x9236, 0xa08e, 0x1, 0x1);
        gbc.writeMem(0xdebc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc7c4);
        EXPECT(gbc.pc(), 0xdebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdebc), 0xcb);
        EXPECT(gbc.readMem(0xdebd), 0x69);
        // CB 69 01B4
        gbc.setState(0xb69f, 0xd834, 0x30c0, 0xd610, 0x62fe, 0xa263, 0x1, 0x0);
        gbc.writeMem(0xb69f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd834);
        EXPECT(gbc.pc(), 0xb6a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69f), 0xcb);
        EXPECT(gbc.readMem(0xb6a0), 0x69);
        // CB 69 01B5
        gbc.setState(0x1f4c, 0x83e8, 0xcdc0, 0x863, 0xee31, 0x1968, 0x1, 0x1);
        gbc.writeMem(0x1f4c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x83e8);
        EXPECT(gbc.pc(), 0x1f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01B6
        gbc.setState(0xa3e, 0x50f, 0x2d90, 0x1127, 0x98f4, 0x7e09, 0x1, 0x0);
        gbc.writeMem(0xa3e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x50f);
        EXPECT(gbc.pc(), 0xa40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01B7
        gbc.setState(0x2a71, 0xd9, 0xc340, 0x556b, 0xbe12, 0xc33, 0x0, 0x1);
        gbc.writeMem(0x2a71, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd9);
        EXPECT(gbc.pc(), 0x2a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01B8
        gbc.setState(0xa2bc, 0xbd2b, 0xbc50, 0x2294, 0x3c81, 0x10ca, 0x0, 0x1);
        gbc.writeMem(0xa2bc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xbd2b);
        EXPECT(gbc.pc(), 0xa2be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2bc), 0xcb);
        EXPECT(gbc.readMem(0xa2bd), 0x69);
        // CB 69 01B9
        gbc.setState(0xac63, 0xe417, 0x3f50, 0x8d0, 0x444b, 0x839b, 0x1, 0x1);
        gbc.writeMem(0xac63, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe417);
        EXPECT(gbc.pc(), 0xac65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac63), 0xcb);
        EXPECT(gbc.readMem(0xac64), 0x69);
        // CB 69 01BC
        gbc.setState(0xa470, 0xd69c, 0xaf40, 0xf60f, 0x270, 0xa9cc, 0x0, 0x0);
        gbc.writeMem(0xa470, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd69c);
        EXPECT(gbc.pc(), 0xa472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa470), 0xcb);
        EXPECT(gbc.readMem(0xa471), 0x69);
        // CB 69 01BD
        gbc.setState(0xbd64, 0x2b1a, 0x9d80, 0x5583, 0xe8af, 0xac7c, 0x1, 0x1);
        gbc.writeMem(0xbd64, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2b1a);
        EXPECT(gbc.pc(), 0xbd66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd64), 0xcb);
        EXPECT(gbc.readMem(0xbd65), 0x69);
        // CB 69 01BE
        gbc.setState(0x68cc, 0xc691, 0x2660, 0x8ef9, 0xcf64, 0x97ab, 0x0, 0x0);
        gbc.writeMem(0x68cc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc691);
        EXPECT(gbc.pc(), 0x68ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01BF
        gbc.setState(0x613c, 0x46b2, 0x9dd0, 0x7ca5, 0x4cbe, 0xeb80, 0x0, 0x0);
        gbc.writeMem(0x613c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x46b2);
        EXPECT(gbc.pc(), 0x613e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01C0
        gbc.setState(0x4a9f, 0x7628, 0x7af0, 0x514d, 0x573c, 0x76e8, 0x1, 0x1);
        gbc.writeMem(0x4a9f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7628);
        EXPECT(gbc.pc(), 0x4aa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01C1
        gbc.setState(0x44fc, 0x7beb, 0xd440, 0xb88e, 0x45e2, 0xf041, 0x1, 0x1);
        gbc.writeMem(0x44fc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7beb);
        EXPECT(gbc.pc(), 0x44fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01C3
        gbc.setState(0xe18e, 0x8ec2, 0xf750, 0x5f3c, 0xb038, 0xef54, 0x1, 0x0);
        gbc.writeMem(0xe18e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8ec2);
        EXPECT(gbc.pc(), 0xe190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe18e), 0xcb);
        EXPECT(gbc.readMem(0xe18f), 0x69);
        // CB 69 01C4
        gbc.setState(0xd94, 0x4d23, 0xff20, 0xde18, 0x885b, 0x9778, 0x0, 0x0);
        gbc.writeMem(0xd94, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x4d23);
        EXPECT(gbc.pc(), 0xd96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01C5
        gbc.setState(0xa9cf, 0x6372, 0x8a40, 0xe219, 0xed82, 0x9e06, 0x1, 0x1);
        gbc.writeMem(0xa9cf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6372);
        EXPECT(gbc.pc(), 0xa9d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9cf), 0xcb);
        EXPECT(gbc.readMem(0xa9d0), 0x69);
        // CB 69 01C6
        gbc.setState(0xd920, 0xf7a8, 0x9100, 0x89d, 0xfd87, 0x93ee, 0x0, 0x0);
        gbc.writeMem(0xd920, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf7a8);
        EXPECT(gbc.pc(), 0xd922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd920), 0xcb);
        EXPECT(gbc.readMem(0xd921), 0x69);
        // CB 69 01C7
        gbc.setState(0xe0ea, 0x2c64, 0x1010, 0x11ac, 0x70c2, 0x39fb, 0x0, 0x1);
        gbc.writeMem(0xe0ea, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2c64);
        EXPECT(gbc.pc(), 0xe0ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ea), 0xcb);
        EXPECT(gbc.readMem(0xe0eb), 0x69);
        // CB 69 01C8
        gbc.setState(0xbfc3, 0x2dc4, 0x6790, 0xe472, 0x8e17, 0xc34a, 0x0, 0x1);
        gbc.writeMem(0xbfc3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2dc4);
        EXPECT(gbc.pc(), 0xbfc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfc3), 0xcb);
        EXPECT(gbc.readMem(0xbfc4), 0x69);
        // CB 69 01C9
        gbc.setState(0x9240, 0xcd55, 0x39a0, 0x1ec9, 0x7e10, 0x95ed, 0x0, 0x0);
        gbc.writeMem(0x9240, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xcd55);
        EXPECT(gbc.pc(), 0x9242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9240), 0xcb);
        EXPECT(gbc.readMem(0x9241), 0x69);
        // CB 69 01CA
        gbc.setState(0x7f9c, 0x4ee6, 0xb90, 0xa876, 0xec66, 0x87bf, 0x1, 0x1);
        gbc.writeMem(0x7f9c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4ee6);
        EXPECT(gbc.pc(), 0x7f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01CB
        gbc.setState(0x9b6f, 0x8476, 0xebb0, 0x7b3c, 0xd74f, 0x579c, 0x0, 0x0);
        gbc.writeMem(0x9b6f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8476);
        EXPECT(gbc.pc(), 0x9b71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b6f), 0xcb);
        EXPECT(gbc.readMem(0x9b70), 0x69);
        // CB 69 01CC
        gbc.setState(0x36e3, 0xc54c, 0x7c60, 0x5526, 0x9e6e, 0x876e, 0x1, 0x1);
        gbc.writeMem(0x36e3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc54c);
        EXPECT(gbc.pc(), 0x36e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01CD
        gbc.setState(0x9aad, 0x3c62, 0x3250, 0x7b9e, 0xd702, 0x8ccf, 0x1, 0x1);
        gbc.writeMem(0x9aad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3c62);
        EXPECT(gbc.pc(), 0x9aaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aad), 0xcb);
        EXPECT(gbc.readMem(0x9aae), 0x69);
        // CB 69 01CE
        gbc.setState(0xdd38, 0x5368, 0x65c0, 0x2702, 0x5b96, 0xa09b, 0x1, 0x0);
        gbc.writeMem(0xdd38, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5368);
        EXPECT(gbc.pc(), 0xdd3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd38), 0xcb);
        EXPECT(gbc.readMem(0xdd39), 0x69);
        // CB 69 01CF
        gbc.setState(0x6298, 0x2e51, 0x2030, 0x9224, 0x99ff, 0x2af3, 0x0, 0x1);
        gbc.writeMem(0x6298, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2e51);
        EXPECT(gbc.pc(), 0x629a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01D0
        gbc.setState(0x22c4, 0x5677, 0xc590, 0x5747, 0x4a29, 0x95b9, 0x1, 0x0);
        gbc.writeMem(0x22c4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5677);
        EXPECT(gbc.pc(), 0x22c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01D1
        gbc.setState(0x1ae7, 0xdc81, 0x1c40, 0xfe67, 0x60bd, 0x3a12, 0x1, 0x0);
        gbc.writeMem(0x1ae7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xdc81);
        EXPECT(gbc.pc(), 0x1ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01D2
        gbc.setState(0xbb50, 0x8817, 0x1ec0, 0x5d41, 0x6f1b, 0x2493, 0x0, 0x0);
        gbc.writeMem(0xbb50, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8817);
        EXPECT(gbc.pc(), 0xbb52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb50), 0xcb);
        EXPECT(gbc.readMem(0xbb51), 0x69);
        // CB 69 01D3
        gbc.setState(0x384d, 0x9001, 0x9940, 0xaa81, 0x6bb8, 0xd166, 0x1, 0x0);
        gbc.writeMem(0x384d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9001);
        EXPECT(gbc.pc(), 0x384f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01D4
        gbc.setState(0x465a, 0x8970, 0xc30, 0x7b85, 0x9d01, 0xca1f, 0x1, 0x1);
        gbc.writeMem(0x465a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x8970);
        EXPECT(gbc.pc(), 0x465c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01D5
        gbc.setState(0x3622, 0x8dc7, 0xbc30, 0xc2d5, 0x8c6f, 0x207f, 0x1, 0x0);
        gbc.writeMem(0x3622, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8dc7);
        EXPECT(gbc.pc(), 0x3624);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01D6
        gbc.setState(0x45be, 0xad77, 0x7bc0, 0x3eef, 0x3ab3, 0x534b, 0x1, 0x1);
        gbc.writeMem(0x45be, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xad77);
        EXPECT(gbc.pc(), 0x45c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01D7
        gbc.setState(0x4c4f, 0xcb0, 0xc8c0, 0x23f8, 0xfc87, 0x363f, 0x1, 0x1);
        gbc.writeMem(0x4c4f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xcb0);
        EXPECT(gbc.pc(), 0x4c51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01D8
        gbc.setState(0x248f, 0xd70e, 0x5f50, 0xc5b4, 0x55a7, 0xf66, 0x1, 0x0);
        gbc.writeMem(0x248f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd70e);
        EXPECT(gbc.pc(), 0x2491);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01D9
        gbc.setState(0xe67b, 0xed10, 0x70a0, 0xa22f, 0xf43e, 0x59b5, 0x1, 0x1);
        gbc.writeMem(0xe67b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xed10);
        EXPECT(gbc.pc(), 0xe67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe67b), 0xcb);
        EXPECT(gbc.readMem(0xe67c), 0x69);
        // CB 69 01DA
        gbc.setState(0xd23f, 0x6f60, 0x26c0, 0xa83d, 0x46fa, 0x235b, 0x0, 0x1);
        gbc.writeMem(0xd23f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6f60);
        EXPECT(gbc.pc(), 0xd241);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd23f), 0xcb);
        EXPECT(gbc.readMem(0xd240), 0x69);
        // CB 69 01DB
        gbc.setState(0x1160, 0x313d, 0xa900, 0x6509, 0x9fcb, 0x760e, 0x0, 0x0);
        gbc.writeMem(0x1160, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x313d);
        EXPECT(gbc.pc(), 0x1162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01DC
        gbc.setState(0x8f87, 0xa454, 0xd830, 0x18e1, 0xc526, 0xdca, 0x0, 0x0);
        gbc.writeMem(0x8f87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xa454);
        EXPECT(gbc.pc(), 0x8f89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f87), 0xcb);
        EXPECT(gbc.readMem(0x8f88), 0x69);
        // CB 69 01DD
        gbc.setState(0x686e, 0xa70, 0xfec0, 0x2569, 0xc031, 0xdc75, 0x1, 0x1);
        gbc.writeMem(0x686e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa70);
        EXPECT(gbc.pc(), 0x6870);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01DE
        gbc.setState(0x1854, 0x7fdc, 0x730, 0xe8fc, 0xfbae, 0x6f0f, 0x1, 0x1);
        gbc.writeMem(0x1854, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7fdc);
        EXPECT(gbc.pc(), 0x1856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01DF
        gbc.setState(0xadf9, 0x4a8, 0x7020, 0xe006, 0xc21, 0x3e98, 0x1, 0x1);
        gbc.writeMem(0xadf9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4a8);
        EXPECT(gbc.pc(), 0xadfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadf9), 0xcb);
        EXPECT(gbc.readMem(0xadfa), 0x69);
        // CB 69 01E0
        gbc.setState(0x29bc, 0xdbde, 0xeae0, 0xc2d7, 0x8dcd, 0x5ee9, 0x0, 0x0);
        gbc.writeMem(0x29bc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xdbde);
        EXPECT(gbc.pc(), 0x29be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01E1
        gbc.setState(0x393d, 0x2207, 0xd2d0, 0xe205, 0x6a92, 0x3cbe, 0x1, 0x1);
        gbc.writeMem(0x393d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2207);
        EXPECT(gbc.pc(), 0x393f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01E2
        gbc.setState(0x561d, 0x31ac, 0xc400, 0x244d, 0x8fb7, 0x676f, 0x1, 0x0);
        gbc.writeMem(0x561d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x31ac);
        EXPECT(gbc.pc(), 0x561f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01E3
        gbc.setState(0xc6e9, 0x9059, 0xd170, 0xcc3f, 0xb331, 0x2e49, 0x1, 0x0);
        gbc.writeMem(0xc6e9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9059);
        EXPECT(gbc.pc(), 0xc6eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6e9), 0xcb);
        EXPECT(gbc.readMem(0xc6ea), 0x69);
        // CB 69 01E4
        gbc.setState(0x9889, 0x61ef, 0x8de0, 0x8a0d, 0xa87b, 0x8f23, 0x1, 0x0);
        gbc.writeMem(0x9889, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x61ef);
        EXPECT(gbc.pc(), 0x988b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9889), 0xcb);
        EXPECT(gbc.readMem(0x988a), 0x69);
        // CB 69 01E5
        gbc.setState(0xe899, 0x98e0, 0x8840, 0x5d92, 0x5100, 0x7fd6, 0x0, 0x1);
        gbc.writeMem(0xe899, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x98e0);
        EXPECT(gbc.pc(), 0xe89b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe899), 0xcb);
        EXPECT(gbc.readMem(0xe89a), 0x69);
        // CB 69 01E6
        gbc.setState(0x3aea, 0xff79, 0x6a20, 0x1981, 0x8c0c, 0xc686, 0x1, 0x0);
        gbc.writeMem(0x3aea, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xff79);
        EXPECT(gbc.pc(), 0x3aec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01E7
        gbc.setState(0x543f, 0xbccc, 0x9c00, 0x413c, 0x400e, 0xdaac, 0x1, 0x0);
        gbc.writeMem(0x543f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbccc);
        EXPECT(gbc.pc(), 0x5441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01E8
        gbc.setState(0xb97d, 0x7420, 0x12c0, 0x9936, 0x93b9, 0x3164, 0x1, 0x0);
        gbc.writeMem(0xb97d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7420);
        EXPECT(gbc.pc(), 0xb97f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb97d), 0xcb);
        EXPECT(gbc.readMem(0xb97e), 0x69);
        // CB 69 01E9
        gbc.setState(0x8a6, 0x8e59, 0xe230, 0x238a, 0xebed, 0xab9c, 0x0, 0x0);
        gbc.writeMem(0x8a6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8e59);
        EXPECT(gbc.pc(), 0x8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01EA
        gbc.setState(0x429, 0x4019, 0x6770, 0xf03d, 0xd8a2, 0xc006, 0x1, 0x1);
        gbc.writeMem(0x429, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4019);
        EXPECT(gbc.pc(), 0x42b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01EB
        gbc.setState(0xc782, 0x3dd7, 0x6450, 0x1d8, 0xd07f, 0x1bff, 0x1, 0x0);
        gbc.writeMem(0xc782, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3dd7);
        EXPECT(gbc.pc(), 0xc784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc782), 0xcb);
        EXPECT(gbc.readMem(0xc783), 0x69);
        // CB 69 01EC
        gbc.setState(0x4011, 0xc128, 0xa2a0, 0x8678, 0xcda6, 0x479f, 0x1, 0x1);
        gbc.writeMem(0x4011, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc128);
        EXPECT(gbc.pc(), 0x4013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01ED
        gbc.setState(0x88e8, 0xdbb5, 0xa540, 0x3ccc, 0xc5ea, 0x4072, 0x1, 0x0);
        gbc.writeMem(0x88e8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdbb5);
        EXPECT(gbc.pc(), 0x88ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e8), 0xcb);
        EXPECT(gbc.readMem(0x88e9), 0x69);
        // CB 69 01EE
        gbc.setState(0x483c, 0x1b5c, 0x840, 0xe814, 0xe087, 0x9cdc, 0x1, 0x1);
        gbc.writeMem(0x483c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1b5c);
        EXPECT(gbc.pc(), 0x483e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01EF
        gbc.setState(0x2558, 0x91d2, 0x9420, 0xde0d, 0xb400, 0x85a, 0x0, 0x1);
        gbc.writeMem(0x2558, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x91d2);
        EXPECT(gbc.pc(), 0x255a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01F0
        gbc.setState(0x1180, 0x9c5e, 0xbad0, 0x5265, 0xb6d5, 0xee2a, 0x1, 0x0);
        gbc.writeMem(0x1180, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x9c5e);
        EXPECT(gbc.pc(), 0x1182);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01F1
        gbc.setState(0x6164, 0x8bf2, 0xb990, 0x2147, 0xa73a, 0xaac1, 0x1, 0x0);
        gbc.writeMem(0x6164, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8bf2);
        EXPECT(gbc.pc(), 0x6166);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01F2
        gbc.setState(0xaf3b, 0x29d9, 0x1790, 0x43fe, 0x4a7e, 0xece9, 0x1, 0x1);
        gbc.writeMem(0xaf3b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x29d9);
        EXPECT(gbc.pc(), 0xaf3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf3b), 0xcb);
        EXPECT(gbc.readMem(0xaf3c), 0x69);
        // CB 69 01F3
        gbc.setState(0xe8fa, 0xc42c, 0x7400, 0x8f8b, 0xa331, 0x5c9e, 0x0, 0x0);
        gbc.writeMem(0xe8fa, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc42c);
        EXPECT(gbc.pc(), 0xe8fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8fa), 0xcb);
        EXPECT(gbc.readMem(0xe8fb), 0x69);
        // CB 69 01F5
        gbc.setState(0x59a7, 0xffb9, 0xfeb0, 0x31f5, 0x41fe, 0xd23, 0x0, 0x0);
        gbc.writeMem(0x59a7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xffb9);
        EXPECT(gbc.pc(), 0x59a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01F6
        gbc.setState(0xaa83, 0x4dd7, 0x1240, 0xc35c, 0x43db, 0xb4a7, 0x0, 0x1);
        gbc.writeMem(0xaa83, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4dd7);
        EXPECT(gbc.pc(), 0xaa85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa83), 0xcb);
        EXPECT(gbc.readMem(0xaa84), 0x69);
        // CB 69 01F7
        gbc.setState(0x5418, 0x1745, 0x5bb0, 0xdee0, 0x8a7c, 0x250a, 0x0, 0x0);
        gbc.writeMem(0x5418, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1745);
        EXPECT(gbc.pc(), 0x541a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01F8
        gbc.setState(0x86ac, 0xdf5f, 0x5e00, 0x2b5f, 0x1306, 0x577d, 0x1, 0x0);
        gbc.writeMem(0x86ac, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xdf5f);
        EXPECT(gbc.pc(), 0x86ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ac), 0xcb);
        EXPECT(gbc.readMem(0x86ad), 0x69);
        // CB 69 01F9
        gbc.setState(0x322a, 0xc7f, 0x1350, 0x96a7, 0xe324, 0x9243, 0x0, 0x1);
        gbc.writeMem(0x322a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc7f);
        EXPECT(gbc.pc(), 0x322c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01FA
        gbc.setState(0xac4a, 0xfa89, 0x30d0, 0xb32a, 0x327d, 0x5ff, 0x1, 0x1);
        gbc.writeMem(0xac4a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xfa89);
        EXPECT(gbc.pc(), 0xac4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac4a), 0xcb);
        EXPECT(gbc.readMem(0xac4b), 0x69);
        // CB 69 01FB
        gbc.setState(0x45f6, 0x2ad, 0x63c0, 0x587d, 0xbcba, 0xaa89, 0x1, 0x1);
        gbc.writeMem(0x45f6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x2ad);
        EXPECT(gbc.pc(), 0x45f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01FC
        gbc.setState(0x879b, 0x6180, 0x5df0, 0x6d2c, 0xf28f, 0xba8c, 0x0, 0x1);
        gbc.writeMem(0x879b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x6180);
        EXPECT(gbc.pc(), 0x879d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x879b), 0xcb);
        EXPECT(gbc.readMem(0x879c), 0x69);
        // CB 69 01FD
        gbc.setState(0x4816, 0xfc36, 0x7400, 0x710a, 0x8f77, 0x26bf, 0x1, 0x1);
        gbc.writeMem(0x4816, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xfc36);
        EXPECT(gbc.pc(), 0x4818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 01FE
        gbc.setState(0x7d88, 0xcbdc, 0xe070, 0xe490, 0x501a, 0x5ff4, 0x0, 0x0);
        gbc.writeMem(0x7d88, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xcbdc);
        EXPECT(gbc.pc(), 0x7d8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 01FF
        gbc.setState(0x62a6, 0x1e53, 0xd560, 0x7652, 0x3ce7, 0xe98, 0x1, 0x1);
        gbc.writeMem(0x62a6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1e53);
        EXPECT(gbc.pc(), 0x62a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0200
        gbc.setState(0xdbb6, 0x13bb, 0x3a40, 0x9d36, 0x3449, 0x6019, 0x0, 0x1);
        gbc.writeMem(0xdbb6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x13bb);
        EXPECT(gbc.pc(), 0xdbb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb6), 0xcb);
        EXPECT(gbc.readMem(0xdbb7), 0x69);
        // CB 69 0201
        gbc.setState(0x4631, 0x19df, 0x7340, 0x5c82, 0x6e66, 0x4400, 0x1, 0x0);
        gbc.writeMem(0x4631, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x19df);
        EXPECT(gbc.pc(), 0x4633);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0202
        gbc.setState(0xe784, 0xa1ac, 0xa8f0, 0xa853, 0x874d, 0x8911, 0x0, 0x1);
        gbc.writeMem(0xe784, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa1ac);
        EXPECT(gbc.pc(), 0xe786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe784), 0xcb);
        EXPECT(gbc.readMem(0xe785), 0x69);
        // CB 69 0203
        gbc.setState(0xe48c, 0x1488, 0x3260, 0x43c9, 0x9eca, 0xb7c6, 0x1, 0x0);
        gbc.writeMem(0xe48c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1488);
        EXPECT(gbc.pc(), 0xe48e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48c), 0xcb);
        EXPECT(gbc.readMem(0xe48d), 0x69);
        // CB 69 0204
        gbc.setState(0x4d75, 0x51c0, 0x35e0, 0x7739, 0x9173, 0xbb21, 0x0, 0x0);
        gbc.writeMem(0x4d75, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x51c0);
        EXPECT(gbc.pc(), 0x4d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0205
        gbc.setState(0x35e0, 0x665f, 0xd880, 0x707, 0x544c, 0x28ea, 0x1, 0x0);
        gbc.writeMem(0x35e0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x665f);
        EXPECT(gbc.pc(), 0x35e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0206
        gbc.setState(0x734e, 0x8c5, 0x3eb0, 0x1c0a, 0x3a11, 0xca05, 0x1, 0x0);
        gbc.writeMem(0x734e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8c5);
        EXPECT(gbc.pc(), 0x7350);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0208
        gbc.setState(0x396a, 0x47f3, 0xe260, 0x3ca8, 0x7973, 0x2b14, 0x1, 0x1);
        gbc.writeMem(0x396a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x47f3);
        EXPECT(gbc.pc(), 0x396c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0209
        gbc.setState(0x79dc, 0x3493, 0xef90, 0x1e30, 0x87d7, 0x810d, 0x0, 0x1);
        gbc.writeMem(0x79dc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3493);
        EXPECT(gbc.pc(), 0x79de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 020A
        gbc.setState(0x8f11, 0x698b, 0x9f00, 0x60a1, 0x7fde, 0x995c, 0x0, 0x1);
        gbc.writeMem(0x8f11, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x698b);
        EXPECT(gbc.pc(), 0x8f13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f11), 0xcb);
        EXPECT(gbc.readMem(0x8f12), 0x69);
        // CB 69 020B
        gbc.setState(0x22fc, 0xa847, 0x55a0, 0xe4aa, 0xb4ae, 0x5efd, 0x0, 0x0);
        gbc.writeMem(0x22fc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa847);
        EXPECT(gbc.pc(), 0x22fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 020C
        gbc.setState(0xd640, 0x4043, 0xc300, 0xdc7a, 0xdae8, 0x5bd9, 0x0, 0x1);
        gbc.writeMem(0xd640, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4043);
        EXPECT(gbc.pc(), 0xd642);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd640), 0xcb);
        EXPECT(gbc.readMem(0xd641), 0x69);
        // CB 69 020D
        gbc.setState(0xbc44, 0xbd65, 0xc280, 0x4800, 0x853d, 0x3dfc, 0x0, 0x0);
        gbc.writeMem(0xbc44, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xbd65);
        EXPECT(gbc.pc(), 0xbc46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc44), 0xcb);
        EXPECT(gbc.readMem(0xbc45), 0x69);
        // CB 69 020E
        gbc.setState(0x6ae6, 0x7209, 0xbb60, 0x202d, 0x5c47, 0x4b97, 0x0, 0x0);
        gbc.writeMem(0x6ae6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7209);
        EXPECT(gbc.pc(), 0x6ae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 020F
        gbc.setState(0x9922, 0xe039, 0x8c90, 0x9f07, 0x258c, 0xee9d, 0x1, 0x1);
        gbc.writeMem(0x9922, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xe039);
        EXPECT(gbc.pc(), 0x9924);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9922), 0xcb);
        EXPECT(gbc.readMem(0x9923), 0x69);
        // CB 69 0210
        gbc.setState(0xeea6, 0xd1a1, 0xac60, 0x96da, 0x33f4, 0x4b09, 0x0, 0x0);
        gbc.writeMem(0xeea6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd1a1);
        EXPECT(gbc.pc(), 0xeea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeea6), 0xcb);
        EXPECT(gbc.readMem(0xeea7), 0x69);
        // CB 69 0211
        gbc.setState(0x9f71, 0xafac, 0xaf60, 0xc8dd, 0x4321, 0xf8a9, 0x1, 0x1);
        gbc.writeMem(0x9f71, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xafac);
        EXPECT(gbc.pc(), 0x9f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f71), 0xcb);
        EXPECT(gbc.readMem(0x9f72), 0x69);
        // CB 69 0212
        gbc.setState(0x1d49, 0x62fb, 0xbfd0, 0x7d19, 0x17bc, 0x9f39, 0x0, 0x1);
        gbc.writeMem(0x1d49, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x62fb);
        EXPECT(gbc.pc(), 0x1d4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0213
        gbc.setState(0x7977, 0x5d5, 0x6120, 0xc91f, 0x3fb3, 0xfc73, 0x0, 0x1);
        gbc.writeMem(0x7977, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5d5);
        EXPECT(gbc.pc(), 0x7979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0214
        gbc.setState(0x3d12, 0x589, 0x6930, 0x3e88, 0x52fc, 0x7449, 0x0, 0x1);
        gbc.writeMem(0x3d12, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x589);
        EXPECT(gbc.pc(), 0x3d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0215
        gbc.setState(0x1d2d, 0x8235, 0x6790, 0x88c7, 0xe25f, 0xf0f9, 0x1, 0x1);
        gbc.writeMem(0x1d2d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8235);
        EXPECT(gbc.pc(), 0x1d2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0216
        gbc.setState(0x1e9e, 0x7b85, 0x2990, 0x8c88, 0xabb4, 0xca84, 0x0, 0x1);
        gbc.writeMem(0x1e9e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7b85);
        EXPECT(gbc.pc(), 0x1ea0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0217
        gbc.setState(0xeaa5, 0x318d, 0xd1e0, 0x672d, 0x7281, 0x932e, 0x1, 0x1);
        gbc.writeMem(0xeaa5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x318d);
        EXPECT(gbc.pc(), 0xeaa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaa5), 0xcb);
        EXPECT(gbc.readMem(0xeaa6), 0x69);
        // CB 69 0218
        gbc.setState(0x3d92, 0x90b1, 0x49f0, 0x1d4e, 0xa831, 0x1acb, 0x1, 0x1);
        gbc.writeMem(0x3d92, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x90b1);
        EXPECT(gbc.pc(), 0x3d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0219
        gbc.setState(0x8487, 0x8963, 0xb0c0, 0x366a, 0xdef5, 0x51ea, 0x1, 0x0);
        gbc.writeMem(0x8487, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8963);
        EXPECT(gbc.pc(), 0x8489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8487), 0xcb);
        EXPECT(gbc.readMem(0x8488), 0x69);
        // CB 69 021A
        gbc.setState(0x4a31, 0xd772, 0x7920, 0x51a9, 0xb6de, 0xc2b6, 0x1, 0x1);
        gbc.writeMem(0x4a31, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd772);
        EXPECT(gbc.pc(), 0x4a33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 021B
        gbc.setState(0x4bf6, 0xd1b0, 0x5600, 0xcf5b, 0xb16, 0xf6b3, 0x0, 0x0);
        gbc.writeMem(0x4bf6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd1b0);
        EXPECT(gbc.pc(), 0x4bf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 021D
        gbc.setState(0x6142, 0x2846, 0x6450, 0x405a, 0x7215, 0x5b2f, 0x1, 0x0);
        gbc.writeMem(0x6142, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2846);
        EXPECT(gbc.pc(), 0x6144);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 021E
        gbc.setState(0xd7b7, 0x86c6, 0xd440, 0xd648, 0x8a48, 0xced9, 0x1, 0x0);
        gbc.writeMem(0xd7b7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x86c6);
        EXPECT(gbc.pc(), 0xd7b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7b7), 0xcb);
        EXPECT(gbc.readMem(0xd7b8), 0x69);
        // CB 69 021F
        gbc.setState(0xcf54, 0x6d8b, 0xa8e0, 0x57d9, 0xeaf3, 0x532e, 0x0, 0x0);
        gbc.writeMem(0xcf54, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6d8b);
        EXPECT(gbc.pc(), 0xcf56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf54), 0xcb);
        EXPECT(gbc.readMem(0xcf55), 0x69);
        // CB 69 0220
        gbc.setState(0x8297, 0x75ac, 0x7f00, 0x8c16, 0x75bb, 0x1eb9, 0x1, 0x0);
        gbc.writeMem(0x8297, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x75ac);
        EXPECT(gbc.pc(), 0x8299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8297), 0xcb);
        EXPECT(gbc.readMem(0x8298), 0x69);
        // CB 69 0222
        gbc.setState(0xe3e9, 0x1f69, 0xb30, 0x8776, 0x2dbe, 0x5611, 0x0, 0x0);
        gbc.writeMem(0xe3e9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1f69);
        EXPECT(gbc.pc(), 0xe3eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3e9), 0xcb);
        EXPECT(gbc.readMem(0xe3ea), 0x69);
        // CB 69 0223
        gbc.setState(0x548e, 0x297d, 0xfad0, 0xb36a, 0xf397, 0xf9db, 0x1, 0x0);
        gbc.writeMem(0x548e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x297d);
        EXPECT(gbc.pc(), 0x5490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0224
        gbc.setState(0x3dc4, 0x4eea, 0x1d50, 0x7c5, 0x9d35, 0x328e, 0x0, 0x1);
        gbc.writeMem(0x3dc4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4eea);
        EXPECT(gbc.pc(), 0x3dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0225
        gbc.setState(0x9e58, 0x2c33, 0x52a0, 0xcbb, 0x5a80, 0x5846, 0x1, 0x1);
        gbc.writeMem(0x9e58, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2c33);
        EXPECT(gbc.pc(), 0x9e5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e58), 0xcb);
        EXPECT(gbc.readMem(0x9e59), 0x69);
        // CB 69 0226
        gbc.setState(0x732a, 0xc1d, 0x56e0, 0x57b9, 0xaf37, 0xcd3a, 0x0, 0x0);
        gbc.writeMem(0x732a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc1d);
        EXPECT(gbc.pc(), 0x732c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0227
        gbc.setState(0xcb05, 0x55ab, 0xac50, 0xe14f, 0x7700, 0x8119, 0x1, 0x1);
        gbc.writeMem(0xcb05, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x55ab);
        EXPECT(gbc.pc(), 0xcb07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb05), 0xcb);
        EXPECT(gbc.readMem(0xcb06), 0x69);
        // CB 69 0228
        gbc.setState(0x3b83, 0x2807, 0x7c00, 0xdccb, 0x6b95, 0xea0f, 0x0, 0x1);
        gbc.writeMem(0x3b83, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2807);
        EXPECT(gbc.pc(), 0x3b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0229
        gbc.setState(0x2f99, 0xb2ed, 0x3650, 0xda44, 0x3e46, 0xff7b, 0x0, 0x0);
        gbc.writeMem(0x2f99, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb2ed);
        EXPECT(gbc.pc(), 0x2f9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 022A
        gbc.setState(0x3eb, 0xf88f, 0x1bc0, 0x32d9, 0x408c, 0x92eb, 0x1, 0x1);
        gbc.writeMem(0x3eb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf88f);
        EXPECT(gbc.pc(), 0x3ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 022B
        gbc.setState(0xddc0, 0x55a9, 0xa1e0, 0x9fc8, 0x650b, 0x9afd, 0x1, 0x0);
        gbc.writeMem(0xddc0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x55a9);
        EXPECT(gbc.pc(), 0xddc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddc0), 0xcb);
        EXPECT(gbc.readMem(0xddc1), 0x69);
        // CB 69 022C
        gbc.setState(0x73c, 0xdfa4, 0xe4a0, 0x2060, 0x70da, 0x78db, 0x0, 0x1);
        gbc.writeMem(0x73c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdfa4);
        EXPECT(gbc.pc(), 0x73e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 022D
        gbc.setState(0xdfdc, 0x17d9, 0xcfb0, 0xa4a8, 0xacd0, 0xa7b5, 0x0, 0x1);
        gbc.writeMem(0xdfdc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x17d9);
        EXPECT(gbc.pc(), 0xdfde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfdc), 0xcb);
        EXPECT(gbc.readMem(0xdfdd), 0x69);
        // CB 69 022E
        gbc.setState(0x3eb4, 0x87a7, 0x5e90, 0xbd65, 0x2101, 0xd889, 0x1, 0x1);
        gbc.writeMem(0x3eb4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x87a7);
        EXPECT(gbc.pc(), 0x3eb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 022F
        gbc.setState(0x22c2, 0xad15, 0xb070, 0xcdce, 0x453f, 0x5a7, 0x0, 0x0);
        gbc.writeMem(0x22c2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xad15);
        EXPECT(gbc.pc(), 0x22c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0230
        gbc.setState(0xc76c, 0xd284, 0x4fa0, 0x200e, 0xab6e, 0xf4c2, 0x0, 0x1);
        gbc.writeMem(0xc76c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd284);
        EXPECT(gbc.pc(), 0xc76e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc76c), 0xcb);
        EXPECT(gbc.readMem(0xc76d), 0x69);
        // CB 69 0231
        gbc.setState(0x67b, 0x1c85, 0x90, 0x19ff, 0xc16c, 0x8791, 0x1, 0x0);
        gbc.writeMem(0x67b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1c85);
        EXPECT(gbc.pc(), 0x67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0232
        gbc.setState(0x809c, 0xbfed, 0x8720, 0x629d, 0x7164, 0x3ebb, 0x1, 0x1);
        gbc.writeMem(0x809c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbfed);
        EXPECT(gbc.pc(), 0x809e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x809c), 0xcb);
        EXPECT(gbc.readMem(0x809d), 0x69);
        // CB 69 0233
        gbc.setState(0x9650, 0xbb50, 0xa9d0, 0x610c, 0xf7fa, 0xf842, 0x0, 0x1);
        gbc.writeMem(0x9650, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xbb50);
        EXPECT(gbc.pc(), 0x9652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9650), 0xcb);
        EXPECT(gbc.readMem(0x9651), 0x69);
        // CB 69 0234
        gbc.setState(0x5c98, 0xc749, 0x3ef0, 0x99ce, 0x625f, 0xd704, 0x0, 0x1);
        gbc.writeMem(0x5c98, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc749);
        EXPECT(gbc.pc(), 0x5c9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0235
        gbc.setState(0x9453, 0xc6e0, 0xf1d0, 0xfeb1, 0x702e, 0xe26, 0x0, 0x1);
        gbc.writeMem(0x9453, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc6e0);
        EXPECT(gbc.pc(), 0x9455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9453), 0xcb);
        EXPECT(gbc.readMem(0x9454), 0x69);
        // CB 69 0236
        gbc.setState(0xa034, 0x413d, 0x8a80, 0x6465, 0xb85a, 0x161a, 0x1, 0x0);
        gbc.writeMem(0xa034, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x413d);
        EXPECT(gbc.pc(), 0xa036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa034), 0xcb);
        EXPECT(gbc.readMem(0xa035), 0x69);
        // CB 69 0237
        gbc.setState(0x3162, 0x6409, 0xfff0, 0xb10, 0x92bb, 0x565f, 0x1, 0x0);
        gbc.writeMem(0x3162, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6409);
        EXPECT(gbc.pc(), 0x3164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0238
        gbc.setState(0xe838, 0x7887, 0xb5a0, 0x940c, 0xe569, 0xc71b, 0x0, 0x1);
        gbc.writeMem(0xe838, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7887);
        EXPECT(gbc.pc(), 0xe83a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe838), 0xcb);
        EXPECT(gbc.readMem(0xe839), 0x69);
        // CB 69 0239
        gbc.setState(0xd519, 0x83b3, 0x6b20, 0x112c, 0xe1c9, 0xc9, 0x0, 0x1);
        gbc.writeMem(0xd519, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x83b3);
        EXPECT(gbc.pc(), 0xd51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd519), 0xcb);
        EXPECT(gbc.readMem(0xd51a), 0x69);
        // CB 69 023A
        gbc.setState(0x889, 0xb222, 0xcde0, 0x70b8, 0xf57c, 0xb453, 0x0, 0x1);
        gbc.writeMem(0x889, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb222);
        EXPECT(gbc.pc(), 0x88b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 023B
        gbc.setState(0x56de, 0x9530, 0x940, 0xf3bc, 0x489e, 0xd8be, 0x1, 0x0);
        gbc.writeMem(0x56de, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x9530);
        EXPECT(gbc.pc(), 0x56e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 023C
        gbc.setState(0x2d19, 0xfc5e, 0xa4a0, 0x5a63, 0xa15d, 0x5034, 0x0, 0x0);
        gbc.writeMem(0x2d19, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xfc5e);
        EXPECT(gbc.pc(), 0x2d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 023D
        gbc.setState(0xd278, 0x1ee1, 0x6050, 0xba40, 0x2c68, 0x188c, 0x1, 0x1);
        gbc.writeMem(0xd278, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1ee1);
        EXPECT(gbc.pc(), 0xd27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd278), 0xcb);
        EXPECT(gbc.readMem(0xd279), 0x69);
        // CB 69 023E
        gbc.setState(0x2b04, 0x5b2e, 0xae40, 0x4302, 0x768c, 0x4e27, 0x1, 0x0);
        gbc.writeMem(0x2b04, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5b2e);
        EXPECT(gbc.pc(), 0x2b06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 023F
        gbc.setState(0x3a10, 0xddd1, 0xda10, 0x6508, 0x7f9c, 0x7ec4, 0x1, 0x0);
        gbc.writeMem(0x3a10, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xddd1);
        EXPECT(gbc.pc(), 0x3a12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0240
        gbc.setState(0x8a99, 0xff20, 0xe970, 0x15c6, 0x8aad, 0x4ee1, 0x0, 0x1);
        gbc.writeMem(0x8a99, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xff20);
        EXPECT(gbc.pc(), 0x8a9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a99), 0xcb);
        EXPECT(gbc.readMem(0x8a9a), 0x69);
        // CB 69 0242
        gbc.setState(0x6b4e, 0x2240, 0xbdc0, 0x9837, 0x1297, 0x5245, 0x1, 0x1);
        gbc.writeMem(0x6b4e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2240);
        EXPECT(gbc.pc(), 0x6b50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0243
        gbc.setState(0xedf8, 0xcffc, 0x2b30, 0x5ee3, 0xc749, 0xbf0f, 0x0, 0x0);
        gbc.writeMem(0xedf8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xcffc);
        EXPECT(gbc.pc(), 0xedfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf8), 0xcb);
        EXPECT(gbc.readMem(0xedf9), 0x69);
        // CB 69 0244
        gbc.setState(0xb00d, 0xa6c9, 0xcef0, 0xc2bb, 0xaef7, 0x83f3, 0x1, 0x0);
        gbc.writeMem(0xb00d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0xb00f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb00d), 0xcb);
        EXPECT(gbc.readMem(0xb00e), 0x69);
        // CB 69 0245
        gbc.setState(0xe71d, 0xe848, 0x6c30, 0xd8cd, 0x4097, 0xfbba, 0x1, 0x0);
        gbc.writeMem(0xe71d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xe848);
        EXPECT(gbc.pc(), 0xe71f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe71d), 0xcb);
        EXPECT(gbc.readMem(0xe71e), 0x69);
        // CB 69 0246
        gbc.setState(0x591c, 0x30bb, 0xf160, 0x477, 0xfd3, 0xb2aa, 0x1, 0x1);
        gbc.writeMem(0x591c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x30bb);
        EXPECT(gbc.pc(), 0x591e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0247
        gbc.setState(0xaffd, 0x2a1b, 0xc510, 0xdfa4, 0xc371, 0x85ed, 0x1, 0x1);
        gbc.writeMem(0xaffd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x2a1b);
        EXPECT(gbc.pc(), 0xafff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaffd), 0xcb);
        EXPECT(gbc.readMem(0xaffe), 0x69);
        // CB 69 0248
        gbc.setState(0xed24, 0xf35e, 0xfac0, 0x7d36, 0x74fd, 0x6a6b, 0x1, 0x1);
        gbc.writeMem(0xed24, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf35e);
        EXPECT(gbc.pc(), 0xed26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed24), 0xcb);
        EXPECT(gbc.readMem(0xed25), 0x69);
        // CB 69 0249
        gbc.setState(0x4d28, 0xabb4, 0x5c60, 0x5e7b, 0x3fc2, 0x846f, 0x0, 0x0);
        gbc.writeMem(0x4d28, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xabb4);
        EXPECT(gbc.pc(), 0x4d2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024A
        gbc.setState(0xe92, 0xa0fe, 0x8920, 0x6e05, 0x83ba, 0xbff1, 0x0, 0x0);
        gbc.writeMem(0xe92, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa0fe);
        EXPECT(gbc.pc(), 0xe94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024B
        gbc.setState(0x1a97, 0xebf6, 0xa540, 0xd86f, 0x15d, 0xa6e1, 0x1, 0x1);
        gbc.writeMem(0x1a97, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xebf6);
        EXPECT(gbc.pc(), 0x1a99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024C
        gbc.setState(0x4f0c, 0xb700, 0xe820, 0x6295, 0x2fe1, 0x295d, 0x0, 0x1);
        gbc.writeMem(0x4f0c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb700);
        EXPECT(gbc.pc(), 0x4f0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024D
        gbc.setState(0x7b09, 0xabce, 0x3960, 0xbbda, 0x4086, 0x56a0, 0x0, 0x1);
        gbc.writeMem(0x7b09, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xabce);
        EXPECT(gbc.pc(), 0x7b0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024E
        gbc.setState(0x4fc1, 0x38ee, 0x5960, 0x3b8b, 0xb1fb, 0x2854, 0x1, 0x0);
        gbc.writeMem(0x4fc1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x38ee);
        EXPECT(gbc.pc(), 0x4fc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 024F
        gbc.setState(0xcc0a, 0xf854, 0x7090, 0x3587, 0x2a2e, 0xee87, 0x0, 0x1);
        gbc.writeMem(0xcc0a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xf854);
        EXPECT(gbc.pc(), 0xcc0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc0a), 0xcb);
        EXPECT(gbc.readMem(0xcc0b), 0x69);
        // CB 69 0250
        gbc.setState(0xa021, 0xb4b1, 0xf330, 0x173f, 0xa371, 0x80ad, 0x0, 0x0);
        gbc.writeMem(0xa021, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb4b1);
        EXPECT(gbc.pc(), 0xa023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa021), 0xcb);
        EXPECT(gbc.readMem(0xa022), 0x69);
        // CB 69 0251
        gbc.setState(0xb885, 0xbcf8, 0x7740, 0x86e5, 0x40d1, 0x4284, 0x0, 0x0);
        gbc.writeMem(0xb885, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xbcf8);
        EXPECT(gbc.pc(), 0xb887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb885), 0xcb);
        EXPECT(gbc.readMem(0xb886), 0x69);
        // CB 69 0252
        gbc.setState(0xc3d5, 0x620, 0x960, 0x1e05, 0xac97, 0x52ff, 0x1, 0x0);
        gbc.writeMem(0xc3d5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x620);
        EXPECT(gbc.pc(), 0xc3d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d5), 0xcb);
        EXPECT(gbc.readMem(0xc3d6), 0x69);
        // CB 69 0253
        gbc.setState(0x238f, 0xfccc, 0x2570, 0x9f27, 0x605d, 0x8764, 0x1, 0x1);
        gbc.writeMem(0x238f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfccc);
        EXPECT(gbc.pc(), 0x2391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0254
        gbc.setState(0x1241, 0x3e53, 0x46b0, 0xbbb2, 0x7281, 0x3976, 0x1, 0x0);
        gbc.writeMem(0x1241, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3e53);
        EXPECT(gbc.pc(), 0x1243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0255
        gbc.setState(0x8c46, 0x8371, 0xfd40, 0x7514, 0x9d58, 0x8312, 0x1, 0x1);
        gbc.writeMem(0x8c46, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8371);
        EXPECT(gbc.pc(), 0x8c48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c46), 0xcb);
        EXPECT(gbc.readMem(0x8c47), 0x69);
        // CB 69 0256
        gbc.setState(0x275e, 0x730b, 0xd700, 0x82f5, 0xab56, 0x1fda, 0x0, 0x1);
        gbc.writeMem(0x275e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x730b);
        EXPECT(gbc.pc(), 0x2760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0257
        gbc.setState(0xa35b, 0x2462, 0x7da0, 0x139e, 0x3a35, 0x1916, 0x0, 0x1);
        gbc.writeMem(0xa35b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2462);
        EXPECT(gbc.pc(), 0xa35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa35b), 0xcb);
        EXPECT(gbc.readMem(0xa35c), 0x69);
        // CB 69 0258
        gbc.setState(0x750a, 0x6960, 0x32f0, 0xc9f2, 0xc062, 0x9329, 0x1, 0x0);
        gbc.writeMem(0x750a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6960);
        EXPECT(gbc.pc(), 0x750c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0259
        gbc.setState(0x625b, 0x2029, 0xe1a0, 0xcf1c, 0xea3a, 0x8d03, 0x0, 0x1);
        gbc.writeMem(0x625b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2029);
        EXPECT(gbc.pc(), 0x625d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 025A
        gbc.setState(0xcd9a, 0x863, 0x9c60, 0x7fd0, 0xfd66, 0x3e29, 0x1, 0x1);
        gbc.writeMem(0xcd9a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x863);
        EXPECT(gbc.pc(), 0xcd9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd9a), 0xcb);
        EXPECT(gbc.readMem(0xcd9b), 0x69);
        // CB 69 025B
        gbc.setState(0xa9ce, 0xe273, 0xaa70, 0x232e, 0x6cbe, 0xab43, 0x1, 0x1);
        gbc.writeMem(0xa9ce, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe273);
        EXPECT(gbc.pc(), 0xa9d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ce), 0xcb);
        EXPECT(gbc.readMem(0xa9cf), 0x69);
        // CB 69 025D
        gbc.setState(0x5848, 0x9e99, 0xf100, 0xdc69, 0x6326, 0x27bf, 0x1, 0x1);
        gbc.writeMem(0x5848, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x9e99);
        EXPECT(gbc.pc(), 0x584a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 025F
        gbc.setState(0x502d, 0x3e6e, 0x2dc0, 0x2c08, 0x1a27, 0x48c8, 0x1, 0x0);
        gbc.writeMem(0x502d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3e6e);
        EXPECT(gbc.pc(), 0x502f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0260
        gbc.setState(0x7943, 0x384c, 0x1dd0, 0x3ea6, 0x5dc6, 0xffa0, 0x1, 0x0);
        gbc.writeMem(0x7943, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x384c);
        EXPECT(gbc.pc(), 0x7945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0261
        gbc.setState(0x70cf, 0x34c7, 0x4580, 0x1479, 0xd4fd, 0xc3c0, 0x0, 0x0);
        gbc.writeMem(0x70cf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x34c7);
        EXPECT(gbc.pc(), 0x70d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0262
        gbc.setState(0xaa22, 0x26e3, 0x7460, 0x88c9, 0xfed, 0x7c23, 0x1, 0x1);
        gbc.writeMem(0xaa22, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x26e3);
        EXPECT(gbc.pc(), 0xaa24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa22), 0xcb);
        EXPECT(gbc.readMem(0xaa23), 0x69);
        // CB 69 0263
        gbc.setState(0xbd16, 0x472e, 0xda00, 0x21fc, 0x45f, 0x52f0, 0x0, 0x1);
        gbc.writeMem(0xbd16, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x472e);
        EXPECT(gbc.pc(), 0xbd18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd16), 0xcb);
        EXPECT(gbc.readMem(0xbd17), 0x69);
        // CB 69 0264
        gbc.setState(0x3d1d, 0x6e2c, 0xc2e0, 0x945f, 0xfd2b, 0xa154, 0x1, 0x0);
        gbc.writeMem(0x3d1d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6e2c);
        EXPECT(gbc.pc(), 0x3d1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0265
        gbc.setState(0x1b67, 0x69d1, 0x55c0, 0x239c, 0x6930, 0xa62b, 0x1, 0x0);
        gbc.writeMem(0x1b67, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x69d1);
        EXPECT(gbc.pc(), 0x1b69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0266
        gbc.setState(0xe2d8, 0x8404, 0xcbb0, 0x4d37, 0xd9db, 0x1793, 0x0, 0x0);
        gbc.writeMem(0xe2d8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8404);
        EXPECT(gbc.pc(), 0xe2da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2d8), 0xcb);
        EXPECT(gbc.readMem(0xe2d9), 0x69);
        // CB 69 0267
        gbc.setState(0xe0a5, 0x345b, 0xed20, 0x4b04, 0x2780, 0x8bd3, 0x0, 0x1);
        gbc.writeMem(0xe0a5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x345b);
        EXPECT(gbc.pc(), 0xe0a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a5), 0xcb);
        EXPECT(gbc.readMem(0xe0a6), 0x69);
        // CB 69 0268
        gbc.setState(0xb88, 0xd6a3, 0x1f70, 0x6156, 0x4760, 0xa822, 0x1, 0x0);
        gbc.writeMem(0xb88, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd6a3);
        EXPECT(gbc.pc(), 0xb8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0269
        gbc.setState(0x4714, 0xf589, 0x3220, 0xc978, 0x475a, 0x98e7, 0x0, 0x0);
        gbc.writeMem(0x4714, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf589);
        EXPECT(gbc.pc(), 0x4716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 026A
        gbc.setState(0x73bc, 0x628d, 0x49c0, 0x88fc, 0x520b, 0x1469, 0x1, 0x0);
        gbc.writeMem(0x73bc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x628d);
        EXPECT(gbc.pc(), 0x73be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 026B
        gbc.setState(0x1687, 0x9d03, 0xa1f0, 0xc459, 0x4427, 0x7afa, 0x1, 0x1);
        gbc.writeMem(0x1687, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9d03);
        EXPECT(gbc.pc(), 0x1689);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 026C
        gbc.setState(0x74f, 0x9120, 0x2130, 0x4563, 0x2c41, 0x8acc, 0x1, 0x1);
        gbc.writeMem(0x74f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9120);
        EXPECT(gbc.pc(), 0x751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 026D
        gbc.setState(0x4454, 0xcdc, 0xc40, 0x4536, 0xcae3, 0x89e5, 0x1, 0x0);
        gbc.writeMem(0x4454, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcdc);
        EXPECT(gbc.pc(), 0x4456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 026E
        gbc.setState(0x8ea1, 0x8f59, 0x53d0, 0x8563, 0x234, 0x42bc, 0x1, 0x1);
        gbc.writeMem(0x8ea1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8f59);
        EXPECT(gbc.pc(), 0x8ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ea1), 0xcb);
        EXPECT(gbc.readMem(0x8ea2), 0x69);
        // CB 69 026F
        gbc.setState(0x1a92, 0x8a15, 0xa950, 0x222, 0xfd8, 0xe80d, 0x0, 0x0);
        gbc.writeMem(0x1a92, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8a15);
        EXPECT(gbc.pc(), 0x1a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0270
        gbc.setState(0xa42e, 0x2b5d, 0x8450, 0x99a2, 0x289a, 0x383, 0x0, 0x1);
        gbc.writeMem(0xa42e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2b5d);
        EXPECT(gbc.pc(), 0xa430);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa42e), 0xcb);
        EXPECT(gbc.readMem(0xa42f), 0x69);
        // CB 69 0271
        gbc.setState(0x38bd, 0xe51d, 0x1aa0, 0x99e5, 0xba52, 0x3596, 0x0, 0x1);
        gbc.writeMem(0x38bd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe51d);
        EXPECT(gbc.pc(), 0x38bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0272
        gbc.setState(0x5732, 0x4031, 0xb8b0, 0x1c66, 0x7f78, 0x6159, 0x0, 0x0);
        gbc.writeMem(0x5732, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4031);
        EXPECT(gbc.pc(), 0x5734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0273
        gbc.setState(0x4524, 0x14db, 0x10e0, 0xd927, 0xfd05, 0x6e54, 0x0, 0x0);
        gbc.writeMem(0x4524, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x14db);
        EXPECT(gbc.pc(), 0x4526);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0274
        gbc.setState(0xd5f3, 0x8199, 0x7fe0, 0x1313, 0x3a0e, 0xe3a7, 0x0, 0x1);
        gbc.writeMem(0xd5f3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8199);
        EXPECT(gbc.pc(), 0xd5f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f3), 0xcb);
        EXPECT(gbc.readMem(0xd5f4), 0x69);
        // CB 69 0275
        gbc.setState(0x5359, 0x8199, 0x6ba0, 0xb211, 0x2aa9, 0x4be5, 0x0, 0x1);
        gbc.writeMem(0x5359, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8199);
        EXPECT(gbc.pc(), 0x535b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0276
        gbc.setState(0x1cfb, 0x24cf, 0x1200, 0x59ef, 0x3c21, 0x8898, 0x1, 0x1);
        gbc.writeMem(0x1cfb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x24cf);
        EXPECT(gbc.pc(), 0x1cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0277
        gbc.setState(0x4a87, 0xc4cb, 0x4540, 0x1213, 0x3ad9, 0x2cfd, 0x0, 0x0);
        gbc.writeMem(0x4a87, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc4cb);
        EXPECT(gbc.pc(), 0x4a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0278
        gbc.setState(0x97ab, 0xa3c4, 0xb6d0, 0x22b6, 0xefd6, 0x915c, 0x0, 0x1);
        gbc.writeMem(0x97ab, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa3c4);
        EXPECT(gbc.pc(), 0x97ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97ab), 0xcb);
        EXPECT(gbc.readMem(0x97ac), 0x69);
        // CB 69 0279
        gbc.setState(0x6168, 0x5696, 0xaa30, 0xf3a, 0x1bc9, 0xf848, 0x0, 0x0);
        gbc.writeMem(0x6168, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5696);
        EXPECT(gbc.pc(), 0x616a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 027A
        gbc.setState(0xc868, 0x9e75, 0x6ba0, 0xcaad, 0xf00b, 0x8621, 0x1, 0x1);
        gbc.writeMem(0xc868, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x9e75);
        EXPECT(gbc.pc(), 0xc86a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc868), 0xcb);
        EXPECT(gbc.readMem(0xc869), 0x69);
        // CB 69 027B
        gbc.setState(0x14d4, 0x6b7a, 0x52f0, 0x773c, 0xd764, 0x9d6b, 0x0, 0x1);
        gbc.writeMem(0x14d4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6b7a);
        EXPECT(gbc.pc(), 0x14d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 027C
        gbc.setState(0xbf19, 0x2768, 0x6150, 0xae12, 0xb433, 0x296, 0x0, 0x1);
        gbc.writeMem(0xbf19, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2768);
        EXPECT(gbc.pc(), 0xbf1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf19), 0xcb);
        EXPECT(gbc.readMem(0xbf1a), 0x69);
        // CB 69 027E
        gbc.setState(0x2c0f, 0x4890, 0xa590, 0x697d, 0x6d5b, 0xfb14, 0x0, 0x1);
        gbc.writeMem(0x2c0f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4890);
        EXPECT(gbc.pc(), 0x2c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 027F
        gbc.setState(0x6940, 0xb6c2, 0xef0, 0x2645, 0xdbf2, 0xdd2f, 0x0, 0x0);
        gbc.writeMem(0x6940, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb6c2);
        EXPECT(gbc.pc(), 0x6942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0280
        gbc.setState(0x867d, 0xf72f, 0x4640, 0x7311, 0xc56c, 0xaf76, 0x1, 0x1);
        gbc.writeMem(0x867d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf72f);
        EXPECT(gbc.pc(), 0x867f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x867d), 0xcb);
        EXPECT(gbc.readMem(0x867e), 0x69);
        // CB 69 0281
        gbc.setState(0x7d3f, 0x2e0d, 0x6060, 0x5fee, 0xda8a, 0x1dd4, 0x1, 0x0);
        gbc.writeMem(0x7d3f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2e0d);
        EXPECT(gbc.pc(), 0x7d41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0282
        gbc.setState(0x739f, 0xa3f2, 0x6820, 0x7975, 0xb7ae, 0x66a, 0x1, 0x1);
        gbc.writeMem(0x739f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa3f2);
        EXPECT(gbc.pc(), 0x73a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0283
        gbc.setState(0xa2d3, 0x6868, 0x6c50, 0x6698, 0xaba1, 0xa180, 0x0, 0x1);
        gbc.writeMem(0xa2d3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6868);
        EXPECT(gbc.pc(), 0xa2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2d3), 0xcb);
        EXPECT(gbc.readMem(0xa2d4), 0x69);
        // CB 69 0284
        gbc.setState(0x37af, 0x3a76, 0xec10, 0x6e18, 0x93d7, 0x13f8, 0x0, 0x1);
        gbc.writeMem(0x37af, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3a76);
        EXPECT(gbc.pc(), 0x37b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0285
        gbc.setState(0x4067, 0x75da, 0x960, 0xbe3, 0x5d79, 0xf290, 0x1, 0x0);
        gbc.writeMem(0x4067, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x75da);
        EXPECT(gbc.pc(), 0x4069);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0286
        gbc.setState(0x66ed, 0xd3b6, 0x95b0, 0xf0a2, 0xf4be, 0x8a27, 0x0, 0x1);
        gbc.writeMem(0x66ed, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd3b6);
        EXPECT(gbc.pc(), 0x66ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0288
        gbc.setState(0x5c8e, 0x1bd9, 0xdd00, 0xf254, 0x9ecd, 0x2a40, 0x1, 0x1);
        gbc.writeMem(0x5c8e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x1bd9);
        EXPECT(gbc.pc(), 0x5c90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0289
        gbc.setState(0x224f, 0xb9b1, 0xc3e0, 0x949c, 0x2b3, 0xeacc, 0x1, 0x1);
        gbc.writeMem(0x224f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb9b1);
        EXPECT(gbc.pc(), 0x2251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 028A
        gbc.setState(0x30ff, 0x4871, 0xbd70, 0x64ed, 0xa7a8, 0x1733, 0x0, 0x1);
        gbc.writeMem(0x30ff, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4871);
        EXPECT(gbc.pc(), 0x3101);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 028B
        gbc.setState(0x8f3e, 0x139a, 0x5b0, 0xb6ce, 0xf066, 0xe1ef, 0x1, 0x1);
        gbc.writeMem(0x8f3e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x139a);
        EXPECT(gbc.pc(), 0x8f40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f3e), 0xcb);
        EXPECT(gbc.readMem(0x8f3f), 0x69);
        // CB 69 028C
        gbc.setState(0x94f6, 0xab1a, 0x58a0, 0xe87f, 0x31c9, 0x9afa, 0x0, 0x1);
        gbc.writeMem(0x94f6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xab1a);
        EXPECT(gbc.pc(), 0x94f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f6), 0xcb);
        EXPECT(gbc.readMem(0x94f7), 0x69);
        // CB 69 028D
        gbc.setState(0x5c02, 0x9776, 0x9df0, 0xa9f8, 0xd8a2, 0xfdf6, 0x0, 0x1);
        gbc.writeMem(0x5c02, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9776);
        EXPECT(gbc.pc(), 0x5c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 028E
        gbc.setState(0xa99d, 0x4fdd, 0xf5d0, 0x401c, 0xb4d6, 0xd8f6, 0x0, 0x1);
        gbc.writeMem(0xa99d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4fdd);
        EXPECT(gbc.pc(), 0xa99f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa99d), 0xcb);
        EXPECT(gbc.readMem(0xa99e), 0x69);
        // CB 69 028F
        gbc.setState(0x5dc2, 0x3a69, 0x8e10, 0xe436, 0xbc46, 0x92d5, 0x0, 0x0);
        gbc.writeMem(0x5dc2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3a69);
        EXPECT(gbc.pc(), 0x5dc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0290
        gbc.setState(0x5646, 0x2d3, 0x2f70, 0xb2d9, 0xd4d4, 0xa545, 0x1, 0x0);
        gbc.writeMem(0x5646, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2d3);
        EXPECT(gbc.pc(), 0x5648);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0291
        gbc.setState(0x3936, 0x8791, 0x78a0, 0x39, 0x6757, 0xd75, 0x1, 0x0);
        gbc.writeMem(0x3936, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8791);
        EXPECT(gbc.pc(), 0x3938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0292
        gbc.setState(0xd222, 0xb7b2, 0xb7c0, 0x4332, 0x7687, 0xb603, 0x0, 0x0);
        gbc.writeMem(0xd222, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xb7b2);
        EXPECT(gbc.pc(), 0xd224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd222), 0xcb);
        EXPECT(gbc.readMem(0xd223), 0x69);
        // CB 69 0293
        gbc.setState(0xe7bb, 0x15ad, 0xc90, 0x2f6b, 0x701e, 0x3c95, 0x1, 0x1);
        gbc.writeMem(0xe7bb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x15ad);
        EXPECT(gbc.pc(), 0xe7bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7bb), 0xcb);
        EXPECT(gbc.readMem(0xe7bc), 0x69);
        // CB 69 0295
        gbc.setState(0xabc7, 0xd767, 0xe830, 0x26e0, 0x6d3a, 0xb321, 0x0, 0x1);
        gbc.writeMem(0xabc7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd767);
        EXPECT(gbc.pc(), 0xabc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabc7), 0xcb);
        EXPECT(gbc.readMem(0xabc8), 0x69);
        // CB 69 0296
        gbc.setState(0x7ca1, 0x2bbb, 0xebf0, 0x7362, 0xa2f5, 0xb2fe, 0x0, 0x0);
        gbc.writeMem(0x7ca1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x2bbb);
        EXPECT(gbc.pc(), 0x7ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0297
        gbc.setState(0xf8f, 0xafcc, 0x85d0, 0x3330, 0x57a3, 0x4e15, 0x0, 0x1);
        gbc.writeMem(0xf8f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xafcc);
        EXPECT(gbc.pc(), 0xf91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0298
        gbc.setState(0x7423, 0x570f, 0x7f60, 0x723f, 0xbd79, 0x3256, 0x0, 0x0);
        gbc.writeMem(0x7423, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x570f);
        EXPECT(gbc.pc(), 0x7425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0299
        gbc.setState(0x8a6f, 0x8919, 0x15a0, 0x5bc0, 0x4165, 0x91fb, 0x0, 0x0);
        gbc.writeMem(0x8a6f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8919);
        EXPECT(gbc.pc(), 0x8a71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a6f), 0xcb);
        EXPECT(gbc.readMem(0x8a70), 0x69);
        // CB 69 029A
        gbc.setState(0xe3fe, 0x1ea3, 0xdd0, 0x7950, 0xa8e1, 0x92a2, 0x0, 0x0);
        gbc.writeMem(0xe3fe, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1ea3);
        EXPECT(gbc.pc(), 0xe400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3fe), 0xcb);
        EXPECT(gbc.readMem(0xe3ff), 0x69);
        // CB 69 029B
        gbc.setState(0x516b, 0x25f7, 0x8a00, 0x4464, 0xffea, 0x2324, 0x1, 0x0);
        gbc.writeMem(0x516b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x25f7);
        EXPECT(gbc.pc(), 0x516d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 029C
        gbc.setState(0x2baf, 0x7195, 0x27a0, 0x9b0f, 0x29c2, 0xe468, 0x0, 0x1);
        gbc.writeMem(0x2baf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7195);
        EXPECT(gbc.pc(), 0x2bb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 029D
        gbc.setState(0x7e50, 0xc58c, 0x43a0, 0x57ec, 0x5cd2, 0x92fb, 0x1, 0x1);
        gbc.writeMem(0x7e50, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc58c);
        EXPECT(gbc.pc(), 0x7e52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 029E
        gbc.setState(0xb189, 0xb543, 0x53a0, 0xca9d, 0x1ea2, 0x4d7a, 0x0, 0x1);
        gbc.writeMem(0xb189, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb543);
        EXPECT(gbc.pc(), 0xb18b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb189), 0xcb);
        EXPECT(gbc.readMem(0xb18a), 0x69);
        // CB 69 029F
        gbc.setState(0x1303, 0xce9b, 0x46f0, 0x7852, 0x29f4, 0xd731, 0x1, 0x0);
        gbc.writeMem(0x1303, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xce9b);
        EXPECT(gbc.pc(), 0x1305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02A0
        gbc.setState(0x3933, 0x2279, 0xf7c0, 0x43c4, 0xa5e0, 0x1451, 0x1, 0x1);
        gbc.writeMem(0x3933, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2279);
        EXPECT(gbc.pc(), 0x3935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02A1
        gbc.setState(0x90ad, 0xc9dd, 0x5cd0, 0x7212, 0x3441, 0x8835, 0x0, 0x0);
        gbc.writeMem(0x90ad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc9dd);
        EXPECT(gbc.pc(), 0x90af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90ad), 0xcb);
        EXPECT(gbc.readMem(0x90ae), 0x69);
        // CB 69 02A2
        gbc.setState(0x8e35, 0xa5fa, 0x68d0, 0x2ce, 0x2f65, 0x682, 0x1, 0x1);
        gbc.writeMem(0x8e35, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa5fa);
        EXPECT(gbc.pc(), 0x8e37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e35), 0xcb);
        EXPECT(gbc.readMem(0x8e36), 0x69);
        // CB 69 02A3
        gbc.setState(0x958e, 0x9d37, 0x3170, 0x2163, 0x209e, 0x69fb, 0x1, 0x0);
        gbc.writeMem(0x958e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9d37);
        EXPECT(gbc.pc(), 0x9590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958e), 0xcb);
        EXPECT(gbc.readMem(0x958f), 0x69);
        // CB 69 02A4
        gbc.setState(0x5ae8, 0x828a, 0x88d0, 0x6a1, 0xb26b, 0x8684, 0x0, 0x0);
        gbc.writeMem(0x5ae8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x828a);
        EXPECT(gbc.pc(), 0x5aea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02A6
        gbc.setState(0xd12f, 0x9b86, 0x140, 0xbe63, 0xebca, 0x1b9d, 0x1, 0x0);
        gbc.writeMem(0xd12f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9b86);
        EXPECT(gbc.pc(), 0xd131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12f), 0xcb);
        EXPECT(gbc.readMem(0xd130), 0x69);
        // CB 69 02A7
        gbc.setState(0xeb9b, 0x5026, 0xe370, 0x7301, 0xc3a3, 0xb970, 0x1, 0x1);
        gbc.writeMem(0xeb9b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5026);
        EXPECT(gbc.pc(), 0xeb9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb9b), 0xcb);
        EXPECT(gbc.readMem(0xeb9c), 0x69);
        // CB 69 02A8
        gbc.setState(0xcfde, 0xadbb, 0x2630, 0x4ff9, 0x16c, 0x671d, 0x0, 0x0);
        gbc.writeMem(0xcfde, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xadbb);
        EXPECT(gbc.pc(), 0xcfe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfde), 0xcb);
        EXPECT(gbc.readMem(0xcfdf), 0x69);
        // CB 69 02A9
        gbc.setState(0xeb1e, 0x806, 0xaf0, 0x22d9, 0x5c68, 0xff02, 0x0, 0x0);
        gbc.writeMem(0xeb1e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x806);
        EXPECT(gbc.pc(), 0xeb20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb1e), 0xcb);
        EXPECT(gbc.readMem(0xeb1f), 0x69);
        // CB 69 02AA
        gbc.setState(0xa9c5, 0xfd5a, 0x4be0, 0xfcb5, 0xb3a4, 0x98d5, 0x0, 0x0);
        gbc.writeMem(0xa9c5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfd5a);
        EXPECT(gbc.pc(), 0xa9c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9c5), 0xcb);
        EXPECT(gbc.readMem(0xa9c6), 0x69);
        // CB 69 02AB
        gbc.setState(0x7033, 0x6520, 0xde60, 0xd8dd, 0x6e92, 0xd307, 0x1, 0x0);
        gbc.writeMem(0x7033, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6520);
        EXPECT(gbc.pc(), 0x7035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02AD
        gbc.setState(0x7c50, 0x33f7, 0x6fb0, 0x9269, 0x121, 0xb1e7, 0x0, 0x1);
        gbc.writeMem(0x7c50, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x33f7);
        EXPECT(gbc.pc(), 0x7c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02AE
        gbc.setState(0xfe0, 0xe107, 0x1e50, 0x1c06, 0x6b83, 0x976b, 0x0, 0x1);
        gbc.writeMem(0xfe0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe107);
        EXPECT(gbc.pc(), 0xfe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02AF
        gbc.setState(0xb8ed, 0x1b1, 0x1390, 0x746c, 0x2a3b, 0x55b, 0x1, 0x0);
        gbc.writeMem(0xb8ed, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1b1);
        EXPECT(gbc.pc(), 0xb8ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ed), 0xcb);
        EXPECT(gbc.readMem(0xb8ee), 0x69);
        // CB 69 02B0
        gbc.setState(0xc615, 0x317d, 0x1180, 0xec4c, 0x8277, 0xc12d, 0x1, 0x1);
        gbc.writeMem(0xc615, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x317d);
        EXPECT(gbc.pc(), 0xc617);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc615), 0xcb);
        EXPECT(gbc.readMem(0xc616), 0x69);
        // CB 69 02B1
        gbc.setState(0xe710, 0xb709, 0x18b0, 0x50a8, 0xc247, 0x828b, 0x0, 0x1);
        gbc.writeMem(0xe710, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb709);
        EXPECT(gbc.pc(), 0xe712);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe710), 0xcb);
        EXPECT(gbc.readMem(0xe711), 0x69);
        // CB 69 02B2
        gbc.setState(0x660d, 0xdc45, 0xadc0, 0xd29, 0x830d, 0x9099, 0x1, 0x1);
        gbc.writeMem(0x660d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xdc45);
        EXPECT(gbc.pc(), 0x660f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02B3
        gbc.setState(0xca33, 0xb8e, 0xd060, 0xb960, 0x5e77, 0xad30, 0x0, 0x0);
        gbc.writeMem(0xca33, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb8e);
        EXPECT(gbc.pc(), 0xca35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca33), 0xcb);
        EXPECT(gbc.readMem(0xca34), 0x69);
        // CB 69 02B4
        gbc.setState(0x2895, 0x431e, 0xe8b0, 0xc5ee, 0xa0d8, 0x7df, 0x0, 0x0);
        gbc.writeMem(0x2895, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x431e);
        EXPECT(gbc.pc(), 0x2897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02B5
        gbc.setState(0xd29a, 0xe1be, 0xa410, 0x11bb, 0xe1fa, 0x7a03, 0x0, 0x0);
        gbc.writeMem(0xd29a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe1be);
        EXPECT(gbc.pc(), 0xd29c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29a), 0xcb);
        EXPECT(gbc.readMem(0xd29b), 0x69);
        // CB 69 02B6
        gbc.setState(0x1526, 0xbd91, 0x21c0, 0x28ac, 0x39a5, 0x737b, 0x0, 0x1);
        gbc.writeMem(0x1526, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xbd91);
        EXPECT(gbc.pc(), 0x1528);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02B7
        gbc.setState(0x8a96, 0xca37, 0xf560, 0x2f0b, 0x766c, 0x6ae4, 0x1, 0x0);
        gbc.writeMem(0x8a96, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xca37);
        EXPECT(gbc.pc(), 0x8a98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a96), 0xcb);
        EXPECT(gbc.readMem(0x8a97), 0x69);
        // CB 69 02B8
        gbc.setState(0x5a8, 0x4398, 0xde00, 0xe85d, 0x607a, 0x2818, 0x0, 0x0);
        gbc.writeMem(0x5a8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4398);
        EXPECT(gbc.pc(), 0x5aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02B9
        gbc.setState(0x9b32, 0x91e8, 0xa240, 0x2e24, 0xb2dc, 0xcbcf, 0x1, 0x1);
        gbc.writeMem(0x9b32, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x91e8);
        EXPECT(gbc.pc(), 0x9b34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b32), 0xcb);
        EXPECT(gbc.readMem(0x9b33), 0x69);
        // CB 69 02BA
        gbc.setState(0xe372, 0x29c7, 0x8800, 0x196c, 0x8d1, 0xbb3a, 0x1, 0x1);
        gbc.writeMem(0xe372, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x29c7);
        EXPECT(gbc.pc(), 0xe374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe372), 0xcb);
        EXPECT(gbc.readMem(0xe373), 0x69);
        // CB 69 02BB
        gbc.setState(0xa4d0, 0xddaa, 0x3290, 0xacac, 0xb126, 0xc12e, 0x1, 0x1);
        gbc.writeMem(0xa4d0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xddaa);
        EXPECT(gbc.pc(), 0xa4d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4d0), 0xcb);
        EXPECT(gbc.readMem(0xa4d1), 0x69);
        // CB 69 02BC
        gbc.setState(0x8b83, 0xab8, 0x2ed0, 0x5a49, 0xbeb7, 0x72a, 0x0, 0x0);
        gbc.writeMem(0x8b83, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xab8);
        EXPECT(gbc.pc(), 0x8b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b83), 0xcb);
        EXPECT(gbc.readMem(0x8b84), 0x69);
        // CB 69 02BD
        gbc.setState(0xff0, 0xbfe7, 0x8890, 0x339a, 0x80fa, 0xc21c, 0x1, 0x0);
        gbc.writeMem(0xff0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xbfe7);
        EXPECT(gbc.pc(), 0xff2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02BE
        gbc.setState(0x103a, 0x2531, 0xc900, 0xc1f7, 0x7ad5, 0x745, 0x0, 0x1);
        gbc.writeMem(0x103a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2531);
        EXPECT(gbc.pc(), 0x103c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02BF
        gbc.setState(0x1390, 0x2676, 0xc580, 0xedf6, 0x5eae, 0xca11, 0x0, 0x0);
        gbc.writeMem(0x1390, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2676);
        EXPECT(gbc.pc(), 0x1392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02C0
        gbc.setState(0x8620, 0x5749, 0x4320, 0xaf74, 0xd7ab, 0xe019, 0x0, 0x1);
        gbc.writeMem(0x8620, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5749);
        EXPECT(gbc.pc(), 0x8622);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8620), 0xcb);
        EXPECT(gbc.readMem(0x8621), 0x69);
        // CB 69 02C1
        gbc.setState(0x95f3, 0xc2ae, 0x270, 0x8b3d, 0x4aba, 0x823b, 0x1, 0x0);
        gbc.writeMem(0x95f3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc2ae);
        EXPECT(gbc.pc(), 0x95f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95f3), 0xcb);
        EXPECT(gbc.readMem(0x95f4), 0x69);
        // CB 69 02C2
        gbc.setState(0xe94c, 0xb12, 0x2e40, 0xd9f4, 0xd562, 0x5bc2, 0x1, 0x1);
        gbc.writeMem(0xe94c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb12);
        EXPECT(gbc.pc(), 0xe94e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe94c), 0xcb);
        EXPECT(gbc.readMem(0xe94d), 0x69);
        // CB 69 02C3
        gbc.setState(0xe2f8, 0x28b7, 0xa7a0, 0x1778, 0xe8d8, 0x4871, 0x1, 0x1);
        gbc.writeMem(0xe2f8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x28b7);
        EXPECT(gbc.pc(), 0xe2fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2f8), 0xcb);
        EXPECT(gbc.readMem(0xe2f9), 0x69);
        // CB 69 02C4
        gbc.setState(0xc53f, 0x92ae, 0xea70, 0xbc6e, 0x10fc, 0xea00, 0x1, 0x0);
        gbc.writeMem(0xc53f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x92ae);
        EXPECT(gbc.pc(), 0xc541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc53f), 0xcb);
        EXPECT(gbc.readMem(0xc540), 0x69);
        // CB 69 02C5
        gbc.setState(0x9af3, 0xe169, 0x25b0, 0x3ef4, 0x992b, 0xad3b, 0x1, 0x1);
        gbc.writeMem(0x9af3, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe169);
        EXPECT(gbc.pc(), 0x9af5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9af3), 0xcb);
        EXPECT(gbc.readMem(0x9af4), 0x69);
        // CB 69 02C6
        gbc.setState(0x572c, 0x92c8, 0xacb0, 0xf72d, 0xc871, 0xde37, 0x1, 0x0);
        gbc.writeMem(0x572c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x92c8);
        EXPECT(gbc.pc(), 0x572e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02C7
        gbc.setState(0x160f, 0x85fe, 0xf4c0, 0xb210, 0xe1e2, 0x1e86, 0x0, 0x1);
        gbc.writeMem(0x160f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x85fe);
        EXPECT(gbc.pc(), 0x1611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02C8
        gbc.setState(0xd40c, 0x5f17, 0x19b0, 0xf74, 0x569b, 0x7a46, 0x1, 0x0);
        gbc.writeMem(0xd40c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5f17);
        EXPECT(gbc.pc(), 0xd40e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd40c), 0xcb);
        EXPECT(gbc.readMem(0xd40d), 0x69);
        // CB 69 02C9
        gbc.setState(0x5e6e, 0xd5f0, 0x8230, 0xd4e7, 0xde03, 0xc1d2, 0x0, 0x1);
        gbc.writeMem(0x5e6e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xd5f0);
        EXPECT(gbc.pc(), 0x5e70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02CA
        gbc.setState(0x362c, 0xa4e1, 0x27a0, 0xd49c, 0x1a8c, 0xd708, 0x0, 0x0);
        gbc.writeMem(0x362c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa4e1);
        EXPECT(gbc.pc(), 0x362e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02CB
        gbc.setState(0x166e, 0xd6a5, 0xdf40, 0x5bbd, 0xba5d, 0x6117, 0x1, 0x0);
        gbc.writeMem(0x166e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd6a5);
        EXPECT(gbc.pc(), 0x1670);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02CC
        gbc.setState(0x650e, 0x6b70, 0x4f30, 0x73d9, 0xf402, 0xd0a8, 0x0, 0x0);
        gbc.writeMem(0x650e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x6b70);
        EXPECT(gbc.pc(), 0x6510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02CD
        gbc.setState(0xc07e, 0xfa34, 0x8190, 0x2ed0, 0x8f78, 0xa9a9, 0x0, 0x1);
        gbc.writeMem(0xc07e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xfa34);
        EXPECT(gbc.pc(), 0xc080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc07e), 0xcb);
        EXPECT(gbc.readMem(0xc07f), 0x69);
        // CB 69 02CE
        gbc.setState(0xc5d8, 0x1519, 0xfd00, 0xe994, 0x5949, 0x8a1, 0x1, 0x1);
        gbc.writeMem(0xc5d8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1519);
        EXPECT(gbc.pc(), 0xc5da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5d8), 0xcb);
        EXPECT(gbc.readMem(0xc5d9), 0x69);
        // CB 69 02CF
        gbc.setState(0x322c, 0xcbca, 0xa80, 0x2368, 0x9b85, 0xf876, 0x1, 0x0);
        gbc.writeMem(0x322c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xcbca);
        EXPECT(gbc.pc(), 0x322e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02D1
        gbc.setState(0xa816, 0x1bf4, 0xc570, 0xf41b, 0x6871, 0x84ea, 0x1, 0x0);
        gbc.writeMem(0xa816, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1bf4);
        EXPECT(gbc.pc(), 0xa818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa816), 0xcb);
        EXPECT(gbc.readMem(0xa817), 0x69);
        // CB 69 02D2
        gbc.setState(0x562b, 0xd592, 0xc070, 0xf620, 0x1608, 0xa58a, 0x1, 0x0);
        gbc.writeMem(0x562b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd592);
        EXPECT(gbc.pc(), 0x562d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02D3
        gbc.setState(0x73bb, 0x2fd6, 0x1f00, 0xb6b7, 0x6b6, 0x8f1b, 0x1, 0x1);
        gbc.writeMem(0x73bb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2fd6);
        EXPECT(gbc.pc(), 0x73bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02D5
        gbc.setState(0xe641, 0xa7d4, 0x8ce0, 0x6542, 0x3409, 0x47a2, 0x0, 0x0);
        gbc.writeMem(0xe641, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xa7d4);
        EXPECT(gbc.pc(), 0xe643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe641), 0xcb);
        EXPECT(gbc.readMem(0xe642), 0x69);
        // CB 69 02D6
        gbc.setState(0xab2e, 0x7275, 0xe460, 0xf284, 0xfcff, 0x9fb, 0x1, 0x0);
        gbc.writeMem(0xab2e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7275);
        EXPECT(gbc.pc(), 0xab30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab2e), 0xcb);
        EXPECT(gbc.readMem(0xab2f), 0x69);
        // CB 69 02D7
        gbc.setState(0xae88, 0x9e94, 0xaae0, 0xf739, 0x5d5e, 0x1098, 0x1, 0x1);
        gbc.writeMem(0xae88, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9e94);
        EXPECT(gbc.pc(), 0xae8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae88), 0xcb);
        EXPECT(gbc.readMem(0xae89), 0x69);
        // CB 69 02D8
        gbc.setState(0x5ea2, 0x11b7, 0x9f20, 0xa077, 0x4eb, 0xa31f, 0x0, 0x1);
        gbc.writeMem(0x5ea2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x11b7);
        EXPECT(gbc.pc(), 0x5ea4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02D9
        gbc.setState(0x1a16, 0x8b54, 0xa1f0, 0xc829, 0x6335, 0x3bdf, 0x1, 0x1);
        gbc.writeMem(0x1a16, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8b54);
        EXPECT(gbc.pc(), 0x1a18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02DA
        gbc.setState(0x1125, 0x71cd, 0x20d0, 0x7468, 0x2908, 0x18dd, 0x0, 0x1);
        gbc.writeMem(0x1125, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x71cd);
        EXPECT(gbc.pc(), 0x1127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02DB
        gbc.setState(0xd4a4, 0xdfa5, 0x2e90, 0x7021, 0x5562, 0x111a, 0x0, 0x1);
        gbc.writeMem(0xd4a4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xdfa5);
        EXPECT(gbc.pc(), 0xd4a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4a4), 0xcb);
        EXPECT(gbc.readMem(0xd4a5), 0x69);
        // CB 69 02DC
        gbc.setState(0x97c, 0x4f3e, 0x890, 0x7948, 0x557c, 0x33fa, 0x1, 0x0);
        gbc.writeMem(0x97c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4f3e);
        EXPECT(gbc.pc(), 0x97e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02DD
        gbc.setState(0x7ca, 0x88d3, 0x1a00, 0xae9c, 0x84aa, 0x5ccc, 0x1, 0x0);
        gbc.writeMem(0x7ca, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x88d3);
        EXPECT(gbc.pc(), 0x7cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02DE
        gbc.setState(0x1543, 0xab8a, 0xd9e0, 0xa066, 0xc606, 0xedb0, 0x0, 0x1);
        gbc.writeMem(0x1543, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xab8a);
        EXPECT(gbc.pc(), 0x1545);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02DF
        gbc.setState(0x3a2f, 0x1cf1, 0xec50, 0x5fea, 0x876d, 0xa2aa, 0x0, 0x1);
        gbc.writeMem(0x3a2f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1cf1);
        EXPECT(gbc.pc(), 0x3a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02E0
        gbc.setState(0xb655, 0x6718, 0x9d10, 0xf14f, 0x85e7, 0x4b6a, 0x1, 0x0);
        gbc.writeMem(0xb655, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6718);
        EXPECT(gbc.pc(), 0xb657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb655), 0xcb);
        EXPECT(gbc.readMem(0xb656), 0x69);
        // CB 69 02E1
        gbc.setState(0xb783, 0xf052, 0x4b00, 0x13eb, 0x9dca, 0x3ea5, 0x1, 0x0);
        gbc.writeMem(0xb783, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf052);
        EXPECT(gbc.pc(), 0xb785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb783), 0xcb);
        EXPECT(gbc.readMem(0xb784), 0x69);
        // CB 69 02E2
        gbc.setState(0x76d9, 0xe4d0, 0x40a0, 0x3d6f, 0x9d10, 0xf8ea, 0x0, 0x0);
        gbc.writeMem(0x76d9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xe4d0);
        EXPECT(gbc.pc(), 0x76db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02E3
        gbc.setState(0xca52, 0xbd85, 0x6ca0, 0x92c2, 0x5d66, 0x4e98, 0x1, 0x0);
        gbc.writeMem(0xca52, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xbd85);
        EXPECT(gbc.pc(), 0xca54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca52), 0xcb);
        EXPECT(gbc.readMem(0xca53), 0x69);
        // CB 69 02E4
        gbc.setState(0x58c8, 0xf55b, 0x6470, 0x7a86, 0x30dd, 0x302d, 0x0, 0x0);
        gbc.writeMem(0x58c8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf55b);
        EXPECT(gbc.pc(), 0x58ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02E5
        gbc.setState(0xd3ee, 0x51c6, 0xf590, 0xeacb, 0xc19b, 0x2967, 0x1, 0x0);
        gbc.writeMem(0xd3ee, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x51c6);
        EXPECT(gbc.pc(), 0xd3f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ee), 0xcb);
        EXPECT(gbc.readMem(0xd3ef), 0x69);
        // CB 69 02E6
        gbc.setState(0xcb20, 0xd76e, 0x9c30, 0xcd72, 0x4637, 0x541d, 0x1, 0x0);
        gbc.writeMem(0xcb20, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd76e);
        EXPECT(gbc.pc(), 0xcb22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb20), 0xcb);
        EXPECT(gbc.readMem(0xcb21), 0x69);
        // CB 69 02E7
        gbc.setState(0x7e9c, 0x1829, 0x9aa0, 0x89f6, 0x14dc, 0x787a, 0x1, 0x0);
        gbc.writeMem(0x7e9c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1829);
        EXPECT(gbc.pc(), 0x7e9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02E8
        gbc.setState(0xd706, 0xe00f, 0xb8c0, 0x4b76, 0xa55d, 0x2dd2, 0x0, 0x0);
        gbc.writeMem(0xd706, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe00f);
        EXPECT(gbc.pc(), 0xd708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd706), 0xcb);
        EXPECT(gbc.readMem(0xd707), 0x69);
        // CB 69 02EA
        gbc.setState(0x433b, 0xd37f, 0xea20, 0xcdaf, 0xc7fc, 0xa82, 0x0, 0x1);
        gbc.writeMem(0x433b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd37f);
        EXPECT(gbc.pc(), 0x433d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02EB
        gbc.setState(0x4ffc, 0x9a48, 0xb220, 0x111, 0x3807, 0x9862, 0x1, 0x1);
        gbc.writeMem(0x4ffc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x9a48);
        EXPECT(gbc.pc(), 0x4ffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02EC
        gbc.setState(0x80de, 0x61e8, 0x3dd0, 0x2b70, 0x5b77, 0xd7e6, 0x1, 0x1);
        gbc.writeMem(0x80de, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x61e8);
        EXPECT(gbc.pc(), 0x80e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80de), 0xcb);
        EXPECT(gbc.readMem(0x80df), 0x69);
        // CB 69 02ED
        gbc.setState(0x8d84, 0x86b7, 0x8fb0, 0x9cd1, 0x185f, 0x5e3a, 0x0, 0x0);
        gbc.writeMem(0x8d84, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x86b7);
        EXPECT(gbc.pc(), 0x8d86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d84), 0xcb);
        EXPECT(gbc.readMem(0x8d85), 0x69);
        // CB 69 02EE
        gbc.setState(0x6e7b, 0xb634, 0xfee0, 0x92d6, 0x45e0, 0x9580, 0x0, 0x1);
        gbc.writeMem(0x6e7b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb634);
        EXPECT(gbc.pc(), 0x6e7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02EF
        gbc.setState(0x1b4e, 0xea4c, 0x6750, 0xc0b9, 0x2931, 0xb608, 0x1, 0x1);
        gbc.writeMem(0x1b4e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xea4c);
        EXPECT(gbc.pc(), 0x1b50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02F0
        gbc.setState(0xeb27, 0xe947, 0xfae0, 0x3990, 0x6ef, 0x646d, 0x1, 0x0);
        gbc.writeMem(0xeb27, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe947);
        EXPECT(gbc.pc(), 0xeb29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb27), 0xcb);
        EXPECT(gbc.readMem(0xeb28), 0x69);
        // CB 69 02F1
        gbc.setState(0x2e1, 0x67e5, 0xe1b0, 0x371f, 0xcd0c, 0x29a1, 0x0, 0x0);
        gbc.writeMem(0x2e1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x67e5);
        EXPECT(gbc.pc(), 0x2e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02F2
        gbc.setState(0x8d2b, 0xb9ba, 0x32e0, 0x5c41, 0xb16b, 0xbfa6, 0x1, 0x0);
        gbc.writeMem(0x8d2b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb9ba);
        EXPECT(gbc.pc(), 0x8d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d2b), 0xcb);
        EXPECT(gbc.readMem(0x8d2c), 0x69);
        // CB 69 02F4
        gbc.setState(0x8ec6, 0x2be6, 0x6720, 0xaa64, 0x160c, 0xba5a, 0x0, 0x1);
        gbc.writeMem(0x8ec6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2be6);
        EXPECT(gbc.pc(), 0x8ec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ec6), 0xcb);
        EXPECT(gbc.readMem(0x8ec7), 0x69);
        // CB 69 02F5
        gbc.setState(0xc523, 0x88fd, 0x33f0, 0x9442, 0x7576, 0x69ad, 0x1, 0x1);
        gbc.writeMem(0xc523, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x88fd);
        EXPECT(gbc.pc(), 0xc525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc523), 0xcb);
        EXPECT(gbc.readMem(0xc524), 0x69);
        // CB 69 02F6
        gbc.setState(0x423, 0x7974, 0x3590, 0x173c, 0x6409, 0xa995, 0x1, 0x1);
        gbc.writeMem(0x423, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7974);
        EXPECT(gbc.pc(), 0x425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02F7
        gbc.setState(0x1023, 0x19a3, 0x86e0, 0x4847, 0xf6b8, 0x3cea, 0x0, 0x1);
        gbc.writeMem(0x1023, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x19a3);
        EXPECT(gbc.pc(), 0x1025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02F8
        gbc.setState(0x6b1f, 0x2418, 0x7c60, 0x5e51, 0xf358, 0x7317, 0x1, 0x0);
        gbc.writeMem(0x6b1f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2418);
        EXPECT(gbc.pc(), 0x6b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02F9
        gbc.setState(0x8101, 0x42b5, 0x6b80, 0xd262, 0x9c18, 0x61b8, 0x0, 0x0);
        gbc.writeMem(0x8101, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x42b5);
        EXPECT(gbc.pc(), 0x8103);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8101), 0xcb);
        EXPECT(gbc.readMem(0x8102), 0x69);
        // CB 69 02FA
        gbc.setState(0x283a, 0xaa6a, 0xf080, 0x9fcc, 0xd0ca, 0x24f0, 0x1, 0x0);
        gbc.writeMem(0x283a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xaa6a);
        EXPECT(gbc.pc(), 0x283c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02FB
        gbc.setState(0x1e12, 0x1a9d, 0xd050, 0x3374, 0xf12e, 0xd012, 0x1, 0x0);
        gbc.writeMem(0x1e12, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1a9d);
        EXPECT(gbc.pc(), 0x1e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 02FC
        gbc.setState(0xb862, 0xb919, 0xc7b0, 0xf574, 0x692a, 0x34c4, 0x1, 0x0);
        gbc.writeMem(0xb862, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb919);
        EXPECT(gbc.pc(), 0xb864);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb862), 0xcb);
        EXPECT(gbc.readMem(0xb863), 0x69);
        // CB 69 02FD
        gbc.setState(0x220f, 0x94fe, 0x6fe0, 0x28ef, 0x57d1, 0x3703, 0x0, 0x1);
        gbc.writeMem(0x220f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x94fe);
        EXPECT(gbc.pc(), 0x2211);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 02FE
        gbc.setState(0xad5e, 0x1a83, 0x73c0, 0x803b, 0x5a0b, 0x1cc1, 0x0, 0x0);
        gbc.writeMem(0xad5e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1a83);
        EXPECT(gbc.pc(), 0xad60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad5e), 0xcb);
        EXPECT(gbc.readMem(0xad5f), 0x69);
        // CB 69 02FF
        gbc.setState(0xbb8c, 0x18c1, 0x6d30, 0x7ce7, 0xfab2, 0x3fb8, 0x1, 0x1);
        gbc.writeMem(0xbb8c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x18c1);
        EXPECT(gbc.pc(), 0xbb8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb8c), 0xcb);
        EXPECT(gbc.readMem(0xbb8d), 0x69);
        // CB 69 0301
        gbc.setState(0x40e2, 0xe02e, 0xa290, 0x702f, 0x8954, 0xa3dc, 0x0, 0x1);
        gbc.writeMem(0x40e2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe02e);
        EXPECT(gbc.pc(), 0x40e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0302
        gbc.setState(0x5082, 0x32da, 0x9650, 0x93, 0xc8e5, 0x943c, 0x1, 0x0);
        gbc.writeMem(0x5082, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x32da);
        EXPECT(gbc.pc(), 0x5084);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0303
        gbc.setState(0x6b82, 0x6620, 0xfb20, 0xaf03, 0xcdec, 0x9c16, 0x1, 0x1);
        gbc.writeMem(0x6b82, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6620);
        EXPECT(gbc.pc(), 0x6b84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0304
        gbc.setState(0x171, 0xaf43, 0xabc0, 0xcceb, 0x9d5f, 0x8bd5, 0x1, 0x0);
        gbc.writeMem(0x171, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xaf43);
        EXPECT(gbc.pc(), 0x173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0305
        gbc.setState(0xb627, 0x1023, 0x54d0, 0x1487, 0xefb9, 0x8299, 0x0, 0x0);
        gbc.writeMem(0xb627, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x1023);
        EXPECT(gbc.pc(), 0xb629);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb627), 0xcb);
        EXPECT(gbc.readMem(0xb628), 0x69);
        // CB 69 0306
        gbc.setState(0x88a9, 0xd173, 0xea10, 0x87c, 0xbe92, 0x3354, 0x1, 0x1);
        gbc.writeMem(0x88a9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xd173);
        EXPECT(gbc.pc(), 0x88ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88a9), 0xcb);
        EXPECT(gbc.readMem(0x88aa), 0x69);
        // CB 69 0307
        gbc.setState(0xe7f4, 0xc723, 0xa6a0, 0x4fe9, 0xb4c4, 0x2fc3, 0x1, 0x0);
        gbc.writeMem(0xe7f4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc723);
        EXPECT(gbc.pc(), 0xe7f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7f4), 0xcb);
        EXPECT(gbc.readMem(0xe7f5), 0x69);
        // CB 69 0308
        gbc.setState(0xda0c, 0xf32d, 0x4860, 0x5484, 0x70b6, 0x9823, 0x1, 0x1);
        gbc.writeMem(0xda0c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf32d);
        EXPECT(gbc.pc(), 0xda0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda0c), 0xcb);
        EXPECT(gbc.readMem(0xda0d), 0x69);
        // CB 69 030A
        gbc.setState(0x61b0, 0x407f, 0xece0, 0xed4c, 0xae86, 0xf5c1, 0x1, 0x0);
        gbc.writeMem(0x61b0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x407f);
        EXPECT(gbc.pc(), 0x61b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 030B
        gbc.setState(0x814, 0x81a2, 0xc3e0, 0x5664, 0x900e, 0x9096, 0x0, 0x1);
        gbc.writeMem(0x814, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x81a2);
        EXPECT(gbc.pc(), 0x816);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 030C
        gbc.setState(0x43ec, 0x34a3, 0x8da0, 0x2f1a, 0xc5dc, 0x96eb, 0x1, 0x0);
        gbc.writeMem(0x43ec, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x34a3);
        EXPECT(gbc.pc(), 0x43ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 030D
        gbc.setState(0x28d7, 0x872f, 0x8580, 0x4de8, 0x74eb, 0x9d52, 0x0, 0x0);
        gbc.writeMem(0x28d7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x872f);
        EXPECT(gbc.pc(), 0x28d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 030E
        gbc.setState(0xc329, 0x12c4, 0x53c0, 0x150e, 0xe8e9, 0x8d88, 0x1, 0x0);
        gbc.writeMem(0xc329, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x12c4);
        EXPECT(gbc.pc(), 0xc32b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc329), 0xcb);
        EXPECT(gbc.readMem(0xc32a), 0x69);
        // CB 69 030F
        gbc.setState(0x3b09, 0x33c6, 0x7350, 0xa716, 0xd988, 0xf7f5, 0x1, 0x1);
        gbc.writeMem(0x3b09, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x33c6);
        EXPECT(gbc.pc(), 0x3b0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0310
        gbc.setState(0xd6ef, 0x380b, 0x1880, 0x6360, 0xba0a, 0xb16a, 0x0, 0x0);
        gbc.writeMem(0xd6ef, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x380b);
        EXPECT(gbc.pc(), 0xd6f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6ef), 0xcb);
        EXPECT(gbc.readMem(0xd6f0), 0x69);
        // CB 69 0311
        gbc.setState(0xbae7, 0x4928, 0xe740, 0x727d, 0x1593, 0xe36, 0x0, 0x1);
        gbc.writeMem(0xbae7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4928);
        EXPECT(gbc.pc(), 0xbae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae7), 0xcb);
        EXPECT(gbc.readMem(0xbae8), 0x69);
        // CB 69 0312
        gbc.setState(0x40f, 0x1c8d, 0xea0, 0xd243, 0x75cc, 0xae62, 0x0, 0x1);
        gbc.writeMem(0x40f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1c8d);
        EXPECT(gbc.pc(), 0x411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0313
        gbc.setState(0x2d9, 0x30ff, 0x3270, 0x4595, 0x85f8, 0xe57, 0x1, 0x0);
        gbc.writeMem(0x2d9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x30ff);
        EXPECT(gbc.pc(), 0x2db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0314
        gbc.setState(0xe2cc, 0x3641, 0x8a80, 0xbedb, 0x747b, 0xa27c, 0x1, 0x1);
        gbc.writeMem(0xe2cc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x3641);
        EXPECT(gbc.pc(), 0xe2ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2cc), 0xcb);
        EXPECT(gbc.readMem(0xe2cd), 0x69);
        // CB 69 0315
        gbc.setState(0x267c, 0xff0a, 0x41e0, 0xd8fe, 0x71d7, 0xbf80, 0x1, 0x1);
        gbc.writeMem(0x267c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xff0a);
        EXPECT(gbc.pc(), 0x267e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0316
        gbc.setState(0x6901, 0x501b, 0xabc0, 0x3b67, 0x8f99, 0x74bd, 0x0, 0x1);
        gbc.writeMem(0x6901, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x501b);
        EXPECT(gbc.pc(), 0x6903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0317
        gbc.setState(0x1564, 0x7c20, 0x7b60, 0xc349, 0xfce8, 0xa10d, 0x0, 0x0);
        gbc.writeMem(0x1564, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7c20);
        EXPECT(gbc.pc(), 0x1566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0318
        gbc.setState(0x8e3b, 0x5c7c, 0xf2f0, 0xac74, 0x335b, 0x2934, 0x1, 0x0);
        gbc.writeMem(0x8e3b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5c7c);
        EXPECT(gbc.pc(), 0x8e3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e3b), 0xcb);
        EXPECT(gbc.readMem(0x8e3c), 0x69);
        // CB 69 0319
        gbc.setState(0x8b24, 0x27ff, 0x2aa0, 0xcf65, 0xba2, 0xb912, 0x0, 0x0);
        gbc.writeMem(0x8b24, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x27ff);
        EXPECT(gbc.pc(), 0x8b26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b24), 0xcb);
        EXPECT(gbc.readMem(0x8b25), 0x69);
        // CB 69 031B
        gbc.setState(0x56a8, 0x7eff, 0x27a0, 0xbe51, 0x51e9, 0x1218, 0x0, 0x1);
        gbc.writeMem(0x56a8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7eff);
        EXPECT(gbc.pc(), 0x56aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 031C
        gbc.setState(0x6f9e, 0x93b6, 0x15a0, 0x702f, 0x59c, 0x6d60, 0x0, 0x0);
        gbc.writeMem(0x6f9e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x93b6);
        EXPECT(gbc.pc(), 0x6fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 031D
        gbc.setState(0xd8b1, 0xb750, 0x7a80, 0x542f, 0xe946, 0x6184, 0x1, 0x1);
        gbc.writeMem(0xd8b1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb750);
        EXPECT(gbc.pc(), 0xd8b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8b1), 0xcb);
        EXPECT(gbc.readMem(0xd8b2), 0x69);
        // CB 69 031E
        gbc.setState(0x8591, 0x8ef1, 0xb6b0, 0x931, 0xefd9, 0x8fe2, 0x1, 0x1);
        gbc.writeMem(0x8591, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8ef1);
        EXPECT(gbc.pc(), 0x8593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8591), 0xcb);
        EXPECT(gbc.readMem(0x8592), 0x69);
        // CB 69 031F
        gbc.setState(0x337c, 0xf1cd, 0xa0, 0x38d4, 0x38bc, 0x8921, 0x1, 0x0);
        gbc.writeMem(0x337c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf1cd);
        EXPECT(gbc.pc(), 0x337e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0320
        gbc.setState(0x4e05, 0xa139, 0xcea0, 0x221, 0x2279, 0x4352, 0x1, 0x1);
        gbc.writeMem(0x4e05, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa139);
        EXPECT(gbc.pc(), 0x4e07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0321
        gbc.setState(0x81bf, 0x3a2d, 0xe020, 0x6168, 0xfdeb, 0xe47b, 0x1, 0x1);
        gbc.writeMem(0x81bf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x3a2d);
        EXPECT(gbc.pc(), 0x81c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81bf), 0xcb);
        EXPECT(gbc.readMem(0x81c0), 0x69);
        // CB 69 0322
        gbc.setState(0xa049, 0x89c, 0xe9f0, 0x6f1, 0xaf58, 0x8b65, 0x1, 0x1);
        gbc.writeMem(0xa049, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x89c);
        EXPECT(gbc.pc(), 0xa04b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa049), 0xcb);
        EXPECT(gbc.readMem(0xa04a), 0x69);
        // CB 69 0323
        gbc.setState(0x1466, 0xe4af, 0xaf10, 0x9a1e, 0x2a1c, 0x40d2, 0x1, 0x0);
        gbc.writeMem(0x1466, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe4af);
        EXPECT(gbc.pc(), 0x1468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0325
        gbc.setState(0xec42, 0x89d9, 0xf5f0, 0x918a, 0x517e, 0xd30a, 0x0, 0x1);
        gbc.writeMem(0xec42, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x89d9);
        EXPECT(gbc.pc(), 0xec44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec42), 0xcb);
        EXPECT(gbc.readMem(0xec43), 0x69);
        // CB 69 0326
        gbc.setState(0xb064, 0x2e36, 0xfea0, 0x1bc3, 0xebb, 0x2b22, 0x0, 0x1);
        gbc.writeMem(0xb064, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2e36);
        EXPECT(gbc.pc(), 0xb066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb064), 0xcb);
        EXPECT(gbc.readMem(0xb065), 0x69);
        // CB 69 0327
        gbc.setState(0xa23d, 0xda94, 0x8cd0, 0x8679, 0x92c4, 0x350f, 0x0, 0x0);
        gbc.writeMem(0xa23d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xda94);
        EXPECT(gbc.pc(), 0xa23f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa23d), 0xcb);
        EXPECT(gbc.readMem(0xa23e), 0x69);
        // CB 69 0328
        gbc.setState(0x9764, 0x913b, 0x73a0, 0x4a4, 0x6c29, 0x4183, 0x1, 0x0);
        gbc.writeMem(0x9764, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x913b);
        EXPECT(gbc.pc(), 0x9766);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9764), 0xcb);
        EXPECT(gbc.readMem(0x9765), 0x69);
        // CB 69 0329
        gbc.setState(0xef37, 0x89f1, 0xf9c0, 0xaab0, 0x9b89, 0x8f0f, 0x0, 0x1);
        gbc.writeMem(0xef37, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x89f1);
        EXPECT(gbc.pc(), 0xef39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef37), 0xcb);
        EXPECT(gbc.readMem(0xef38), 0x69);
        // CB 69 032A
        gbc.setState(0xbc0d, 0x9b81, 0x3ef0, 0x2fec, 0x4397, 0x889d, 0x1, 0x0);
        gbc.writeMem(0xbc0d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9b81);
        EXPECT(gbc.pc(), 0xbc0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc0d), 0xcb);
        EXPECT(gbc.readMem(0xbc0e), 0x69);
        // CB 69 032B
        gbc.setState(0xa15, 0x5641, 0xdf20, 0xe66a, 0x8c57, 0x43f6, 0x1, 0x1);
        gbc.writeMem(0xa15, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5641);
        EXPECT(gbc.pc(), 0xa17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 032C
        gbc.setState(0xc248, 0x53cd, 0x4530, 0xe774, 0x7ad2, 0xc970, 0x1, 0x0);
        gbc.writeMem(0xc248, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x53cd);
        EXPECT(gbc.pc(), 0xc24a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc248), 0xcb);
        EXPECT(gbc.readMem(0xc249), 0x69);
        // CB 69 032D
        gbc.setState(0x815, 0x5a98, 0xc430, 0xd924, 0xdb5b, 0xee43, 0x0, 0x0);
        gbc.writeMem(0x815, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x5a98);
        EXPECT(gbc.pc(), 0x817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 032E
        gbc.setState(0x8972, 0xe785, 0xd0e0, 0x289, 0xaa78, 0x9fd2, 0x0, 0x1);
        gbc.writeMem(0x8972, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe785);
        EXPECT(gbc.pc(), 0x8974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8972), 0xcb);
        EXPECT(gbc.readMem(0x8973), 0x69);
        // CB 69 032F
        gbc.setState(0xecab, 0xf776, 0x8d80, 0x5e84, 0x6b21, 0xb227, 0x1, 0x1);
        gbc.writeMem(0xecab, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf776);
        EXPECT(gbc.pc(), 0xecad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecab), 0xcb);
        EXPECT(gbc.readMem(0xecac), 0x69);
        // CB 69 0330
        gbc.setState(0xc534, 0xe230, 0xf100, 0xaeb, 0xd7c8, 0x5ed3, 0x0, 0x1);
        gbc.writeMem(0xc534, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe230);
        EXPECT(gbc.pc(), 0xc536);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc534), 0xcb);
        EXPECT(gbc.readMem(0xc535), 0x69);
        // CB 69 0331
        gbc.setState(0x6f59, 0xc8ee, 0x8530, 0x3612, 0xde90, 0xfe52, 0x0, 0x1);
        gbc.writeMem(0x6f59, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc8ee);
        EXPECT(gbc.pc(), 0x6f5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0332
        gbc.setState(0x48d2, 0xf225, 0x7350, 0xe21a, 0xf3f5, 0x4fb2, 0x0, 0x1);
        gbc.writeMem(0x48d2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf225);
        EXPECT(gbc.pc(), 0x48d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0333
        gbc.setState(0xef1c, 0x7d94, 0x4160, 0x682, 0x4c54, 0x7bd5, 0x0, 0x1);
        gbc.writeMem(0xef1c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7d94);
        EXPECT(gbc.pc(), 0xef1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef1c), 0xcb);
        EXPECT(gbc.readMem(0xef1d), 0x69);
        // CB 69 0334
        gbc.setState(0x8f6f, 0xf76d, 0x82f0, 0xc0a5, 0x8034, 0x751d, 0x1, 0x1);
        gbc.writeMem(0x8f6f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf76d);
        EXPECT(gbc.pc(), 0x8f71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6f), 0xcb);
        EXPECT(gbc.readMem(0x8f70), 0x69);
        // CB 69 0335
        gbc.setState(0x5c9a, 0xc71e, 0xfad0, 0x535c, 0x130f, 0x93b8, 0x1, 0x0);
        gbc.writeMem(0x5c9a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc71e);
        EXPECT(gbc.pc(), 0x5c9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0338
        gbc.setState(0xd8d5, 0x62bb, 0x61b0, 0x7bdc, 0x9ae5, 0x1aff, 0x1, 0x1);
        gbc.writeMem(0xd8d5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x62bb);
        EXPECT(gbc.pc(), 0xd8d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8d5), 0xcb);
        EXPECT(gbc.readMem(0xd8d6), 0x69);
        // CB 69 0339
        gbc.setState(0x4fd7, 0x40b6, 0x6460, 0xc73d, 0x2f0e, 0x8318, 0x0, 0x0);
        gbc.writeMem(0x4fd7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x40b6);
        EXPECT(gbc.pc(), 0x4fd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 033A
        gbc.setState(0x125b, 0x2ec0, 0xb2a0, 0x4693, 0x5ee4, 0xfb51, 0x1, 0x1);
        gbc.writeMem(0x125b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2ec0);
        EXPECT(gbc.pc(), 0x125d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 033B
        gbc.setState(0xc4f7, 0x82ed, 0x10f0, 0xcb32, 0xfb54, 0x618d, 0x1, 0x0);
        gbc.writeMem(0xc4f7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x82ed);
        EXPECT(gbc.pc(), 0xc4f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4f7), 0xcb);
        EXPECT(gbc.readMem(0xc4f8), 0x69);
        // CB 69 033C
        gbc.setState(0x19c6, 0x680a, 0xcf30, 0x91dd, 0x8d87, 0x2149, 0x1, 0x0);
        gbc.writeMem(0x19c6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x680a);
        EXPECT(gbc.pc(), 0x19c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 033D
        gbc.setState(0x5780, 0x787d, 0xd70, 0x526, 0x578d, 0xd1c3, 0x0, 0x1);
        gbc.writeMem(0x5780, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x787d);
        EXPECT(gbc.pc(), 0x5782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 033E
        gbc.setState(0x3651, 0xdc6d, 0x4d60, 0xe8fe, 0xa888, 0xc4a, 0x0, 0x1);
        gbc.writeMem(0x3651, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xdc6d);
        EXPECT(gbc.pc(), 0x3653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 033F
        gbc.setState(0x2974, 0x1a09, 0x2c40, 0xb94b, 0x9589, 0x256b, 0x0, 0x1);
        gbc.writeMem(0x2974, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x1a09);
        EXPECT(gbc.pc(), 0x2976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0340
        gbc.setState(0xc8f8, 0xbf79, 0x15d0, 0x8d23, 0x6e2, 0x76e1, 0x1, 0x1);
        gbc.writeMem(0xc8f8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xbf79);
        EXPECT(gbc.pc(), 0xc8fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f8), 0xcb);
        EXPECT(gbc.readMem(0xc8f9), 0x69);
        // CB 69 0341
        gbc.setState(0x4465, 0x9fe0, 0xe190, 0xf92c, 0x3f7b, 0x4d4d, 0x0, 0x1);
        gbc.writeMem(0x4465, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9fe0);
        EXPECT(gbc.pc(), 0x4467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0342
        gbc.setState(0xa885, 0x5988, 0x4160, 0x2fec, 0xf5d0, 0xfea0, 0x1, 0x1);
        gbc.writeMem(0xa885, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5988);
        EXPECT(gbc.pc(), 0xa887);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa885), 0xcb);
        EXPECT(gbc.readMem(0xa886), 0x69);
        // CB 69 0343
        gbc.setState(0x1a18, 0xe22f, 0x7bb0, 0x9523, 0x7138, 0x82fd, 0x0, 0x1);
        gbc.writeMem(0x1a18, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe22f);
        EXPECT(gbc.pc(), 0x1a1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0344
        gbc.setState(0x4638, 0x45cf, 0xed00, 0xb31b, 0xc7e5, 0xac9, 0x0, 0x1);
        gbc.writeMem(0x4638, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x45cf);
        EXPECT(gbc.pc(), 0x463a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0345
        gbc.setState(0xa7a0, 0x1c21, 0x3290, 0x5c78, 0x7196, 0x4ecb, 0x0, 0x0);
        gbc.writeMem(0xa7a0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1c21);
        EXPECT(gbc.pc(), 0xa7a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7a0), 0xcb);
        EXPECT(gbc.readMem(0xa7a1), 0x69);
        // CB 69 0346
        gbc.setState(0xdba1, 0x5a7, 0x7210, 0x54a1, 0x3e74, 0x17e, 0x0, 0x1);
        gbc.writeMem(0xdba1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5a7);
        EXPECT(gbc.pc(), 0xdba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdba1), 0xcb);
        EXPECT(gbc.readMem(0xdba2), 0x69);
        // CB 69 0347
        gbc.setState(0x5433, 0xa94e, 0xdd00, 0xad9c, 0x304f, 0x35bd, 0x1, 0x1);
        gbc.writeMem(0x5433, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa94e);
        EXPECT(gbc.pc(), 0x5435);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0348
        gbc.setState(0xe14e, 0x1aef, 0x3b0, 0x2454, 0x6106, 0xee20, 0x1, 0x1);
        gbc.writeMem(0xe14e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1aef);
        EXPECT(gbc.pc(), 0xe150);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe14e), 0xcb);
        EXPECT(gbc.readMem(0xe14f), 0x69);
        // CB 69 0349
        gbc.setState(0x19b4, 0xbfee, 0x3100, 0x5796, 0x802b, 0xc5bf, 0x0, 0x1);
        gbc.writeMem(0x19b4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xbfee);
        EXPECT(gbc.pc(), 0x19b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 034A
        gbc.setState(0x98dd, 0xbc65, 0x4b90, 0xc1f5, 0x4fb3, 0x7af8, 0x0, 0x1);
        gbc.writeMem(0x98dd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbc65);
        EXPECT(gbc.pc(), 0x98df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98dd), 0xcb);
        EXPECT(gbc.readMem(0x98de), 0x69);
        // CB 69 034B
        gbc.setState(0x1020, 0x6e1f, 0x1290, 0xbf26, 0xc51e, 0xf79, 0x0, 0x0);
        gbc.writeMem(0x1020, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6e1f);
        EXPECT(gbc.pc(), 0x1022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 034C
        gbc.setState(0x3bfc, 0x36d, 0x3a00, 0x8d7d, 0x7733, 0x2b5f, 0x1, 0x1);
        gbc.writeMem(0x3bfc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x36d);
        EXPECT(gbc.pc(), 0x3bfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 034D
        gbc.setState(0x202c, 0xbf38, 0x8d60, 0x49dd, 0x87c9, 0xada0, 0x0, 0x0);
        gbc.writeMem(0x202c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbf38);
        EXPECT(gbc.pc(), 0x202e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 034E
        gbc.setState(0xee7d, 0xc14a, 0xbe60, 0xd108, 0x3595, 0x8fea, 0x0, 0x0);
        gbc.writeMem(0xee7d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc14a);
        EXPECT(gbc.pc(), 0xee7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee7d), 0xcb);
        EXPECT(gbc.readMem(0xee7e), 0x69);
        // CB 69 034F
        gbc.setState(0x4d0d, 0xf286, 0xb460, 0x7605, 0xd4ba, 0x4e62, 0x1, 0x1);
        gbc.writeMem(0x4d0d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf286);
        EXPECT(gbc.pc(), 0x4d0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0350
        gbc.setState(0x8a5d, 0x9683, 0xa6b0, 0x4b38, 0x437d, 0x4d51, 0x1, 0x0);
        gbc.writeMem(0x8a5d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x9683);
        EXPECT(gbc.pc(), 0x8a5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a5d), 0xcb);
        EXPECT(gbc.readMem(0x8a5e), 0x69);
        // CB 69 0351
        gbc.setState(0xad4, 0x6ae6, 0x560, 0x3919, 0x1b04, 0x347b, 0x1, 0x0);
        gbc.writeMem(0xad4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6ae6);
        EXPECT(gbc.pc(), 0xad6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0352
        gbc.setState(0x8ae5, 0x2c77, 0xac40, 0x46e3, 0x428, 0xd517, 0x0, 0x0);
        gbc.writeMem(0x8ae5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2c77);
        EXPECT(gbc.pc(), 0x8ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae5), 0xcb);
        EXPECT(gbc.readMem(0x8ae6), 0x69);
        // CB 69 0353
        gbc.setState(0x212f, 0x62cd, 0x18f0, 0x2eb2, 0x6630, 0xb291, 0x1, 0x0);
        gbc.writeMem(0x212f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x62cd);
        EXPECT(gbc.pc(), 0x2131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0354
        gbc.setState(0xc475, 0xf603, 0x8520, 0xe681, 0x264f, 0xd3f, 0x0, 0x0);
        gbc.writeMem(0xc475, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xf603);
        EXPECT(gbc.pc(), 0xc477);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc475), 0xcb);
        EXPECT(gbc.readMem(0xc476), 0x69);
        // CB 69 0355
        gbc.setState(0x8973, 0x16aa, 0xce20, 0x1100, 0xe054, 0xded3, 0x0, 0x1);
        gbc.writeMem(0x8973, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x16aa);
        EXPECT(gbc.pc(), 0x8975);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8973), 0xcb);
        EXPECT(gbc.readMem(0x8974), 0x69);
        // CB 69 0356
        gbc.setState(0x3387, 0x8141, 0x8600, 0xcfe8, 0x24c0, 0x3fa8, 0x0, 0x1);
        gbc.writeMem(0x3387, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x8141);
        EXPECT(gbc.pc(), 0x3389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0357
        gbc.setState(0x5ac5, 0x9402, 0x6ac0, 0x7586, 0x82f3, 0xbe92, 0x1, 0x0);
        gbc.writeMem(0x5ac5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9402);
        EXPECT(gbc.pc(), 0x5ac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0358
        gbc.setState(0x5e9b, 0xa74, 0x8230, 0x3497, 0xf8bf, 0x4917, 0x0, 0x0);
        gbc.writeMem(0x5e9b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa74);
        EXPECT(gbc.pc(), 0x5e9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0359
        gbc.setState(0xe6b0, 0x4e03, 0x3e80, 0xd5e, 0x78b6, 0xf9e9, 0x1, 0x1);
        gbc.writeMem(0xe6b0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4e03);
        EXPECT(gbc.pc(), 0xe6b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b0), 0xcb);
        EXPECT(gbc.readMem(0xe6b1), 0x69);
        // CB 69 035A
        gbc.setState(0xbd13, 0x844d, 0xcac0, 0x7079, 0x22a1, 0xe4e8, 0x1, 0x1);
        gbc.writeMem(0xbd13, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x844d);
        EXPECT(gbc.pc(), 0xbd15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd13), 0xcb);
        EXPECT(gbc.readMem(0xbd14), 0x69);
        // CB 69 035B
        gbc.setState(0x3e3c, 0xaa26, 0xb240, 0x44bf, 0x8d60, 0x8bf7, 0x1, 0x0);
        gbc.writeMem(0x3e3c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xaa26);
        EXPECT(gbc.pc(), 0x3e3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 035C
        gbc.setState(0xd7fc, 0x5297, 0xee00, 0x13a4, 0x6663, 0x7745, 0x0, 0x1);
        gbc.writeMem(0xd7fc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5297);
        EXPECT(gbc.pc(), 0xd7fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7fc), 0xcb);
        EXPECT(gbc.readMem(0xd7fd), 0x69);
        // CB 69 035D
        gbc.setState(0x88f6, 0xd3bf, 0x5050, 0xa174, 0x6146, 0xe7a1, 0x0, 0x1);
        gbc.writeMem(0x88f6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xd3bf);
        EXPECT(gbc.pc(), 0x88f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f6), 0xcb);
        EXPECT(gbc.readMem(0x88f7), 0x69);
        // CB 69 035E
        gbc.setState(0x1650, 0x22de, 0xd6f0, 0x928b, 0x6746, 0xdca, 0x0, 0x0);
        gbc.writeMem(0x1650, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x22de);
        EXPECT(gbc.pc(), 0x1652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 035F
        gbc.setState(0x5e15, 0x3874, 0x69f0, 0xde93, 0xd94d, 0x2008, 0x0, 0x0);
        gbc.writeMem(0x5e15, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3874);
        EXPECT(gbc.pc(), 0x5e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0360
        gbc.setState(0xc94c, 0xcb93, 0x59a0, 0xd722, 0x1d04, 0x8902, 0x0, 0x0);
        gbc.writeMem(0xc94c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xcb93);
        EXPECT(gbc.pc(), 0xc94e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc94c), 0xcb);
        EXPECT(gbc.readMem(0xc94d), 0x69);
        // CB 69 0361
        gbc.setState(0xa8ea, 0xd6f0, 0x9750, 0x7c74, 0xd35e, 0x5fcc, 0x1, 0x1);
        gbc.writeMem(0xa8ea, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd6f0);
        EXPECT(gbc.pc(), 0xa8ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ea), 0xcb);
        EXPECT(gbc.readMem(0xa8eb), 0x69);
        // CB 69 0363
        gbc.setState(0xa7c7, 0xffd6, 0x9510, 0xbb41, 0xabdf, 0xa29b, 0x1, 0x1);
        gbc.writeMem(0xa7c7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xffd6);
        EXPECT(gbc.pc(), 0xa7c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7c7), 0xcb);
        EXPECT(gbc.readMem(0xa7c8), 0x69);
        // CB 69 0364
        gbc.setState(0xa41a, 0x202f, 0x1880, 0xa4b1, 0x468, 0x1443, 0x1, 0x1);
        gbc.writeMem(0xa41a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x202f);
        EXPECT(gbc.pc(), 0xa41c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa41a), 0xcb);
        EXPECT(gbc.readMem(0xa41b), 0x69);
        // CB 69 0365
        gbc.setState(0x9a4e, 0x5ea8, 0xf2d0, 0x1e07, 0xa07a, 0x94f1, 0x0, 0x1);
        gbc.writeMem(0x9a4e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x5ea8);
        EXPECT(gbc.pc(), 0x9a50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a4e), 0xcb);
        EXPECT(gbc.readMem(0x9a4f), 0x69);
        // CB 69 0366
        gbc.setState(0xcbf4, 0x9f2b, 0x6380, 0x4f55, 0xf7b7, 0xe611, 0x1, 0x0);
        gbc.writeMem(0xcbf4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9f2b);
        EXPECT(gbc.pc(), 0xcbf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf4), 0xcb);
        EXPECT(gbc.readMem(0xcbf5), 0x69);
        // CB 69 0367
        gbc.setState(0xc29e, 0xe693, 0xa0c0, 0xeed6, 0xf64, 0xb828, 0x1, 0x1);
        gbc.writeMem(0xc29e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe693);
        EXPECT(gbc.pc(), 0xc2a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc29e), 0xcb);
        EXPECT(gbc.readMem(0xc29f), 0x69);
        // CB 69 0368
        gbc.setState(0xc5f5, 0x324f, 0x42a0, 0x8338, 0xd00a, 0xb88a, 0x1, 0x1);
        gbc.writeMem(0xc5f5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x324f);
        EXPECT(gbc.pc(), 0xc5f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f5), 0xcb);
        EXPECT(gbc.readMem(0xc5f6), 0x69);
        // CB 69 036A
        gbc.setState(0x6961, 0xd98a, 0x9d90, 0xc6fb, 0xa9b2, 0xa5b5, 0x1, 0x1);
        gbc.writeMem(0x6961, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd98a);
        EXPECT(gbc.pc(), 0x6963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 036B
        gbc.setState(0xec41, 0x75fc, 0x9240, 0xe073, 0x65c1, 0x5657, 0x0, 0x0);
        gbc.writeMem(0xec41, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x75fc);
        EXPECT(gbc.pc(), 0xec43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec41), 0xcb);
        EXPECT(gbc.readMem(0xec42), 0x69);
        // CB 69 036C
        gbc.setState(0x36f8, 0xc451, 0x7fd0, 0xe581, 0x9c1f, 0x1dd3, 0x0, 0x0);
        gbc.writeMem(0x36f8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc451);
        EXPECT(gbc.pc(), 0x36fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 036D
        gbc.setState(0xd348, 0xa0b6, 0x6ab0, 0x7323, 0xd70d, 0xdbc3, 0x1, 0x0);
        gbc.writeMem(0xd348, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa0b6);
        EXPECT(gbc.pc(), 0xd34a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd348), 0xcb);
        EXPECT(gbc.readMem(0xd349), 0x69);
        // CB 69 036E
        gbc.setState(0x5a6d, 0x199d, 0xc680, 0x145f, 0xf8c1, 0xd988, 0x1, 0x1);
        gbc.writeMem(0x5a6d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x199d);
        EXPECT(gbc.pc(), 0x5a6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 036F
        gbc.setState(0x5540, 0xd4a5, 0xfbc0, 0xcf7b, 0xbbd5, 0x5c63, 0x1, 0x0);
        gbc.writeMem(0x5540, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd4a5);
        EXPECT(gbc.pc(), 0x5542);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0370
        gbc.setState(0x12e5, 0xdf24, 0xa440, 0x7e2a, 0xd314, 0xe22a, 0x1, 0x0);
        gbc.writeMem(0x12e5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdf24);
        EXPECT(gbc.pc(), 0x12e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0371
        gbc.setState(0x418, 0x2db1, 0x20f0, 0x8a4c, 0xa706, 0x1988, 0x1, 0x1);
        gbc.writeMem(0x418, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2db1);
        EXPECT(gbc.pc(), 0x41a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0372
        gbc.setState(0xc69d, 0x2a24, 0x540, 0xd98a, 0x5f4c, 0x8ed5, 0x0, 0x0);
        gbc.writeMem(0xc69d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2a24);
        EXPECT(gbc.pc(), 0xc69f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc69d), 0xcb);
        EXPECT(gbc.readMem(0xc69e), 0x69);
        // CB 69 0373
        gbc.setState(0xc476, 0x1b60, 0xaa00, 0x90e7, 0xc915, 0x6445, 0x0, 0x0);
        gbc.writeMem(0xc476, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1b60);
        EXPECT(gbc.pc(), 0xc478);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc476), 0xcb);
        EXPECT(gbc.readMem(0xc477), 0x69);
        // CB 69 0374
        gbc.setState(0xc60f, 0x14ec, 0x410, 0xfad2, 0xa909, 0xe611, 0x1, 0x0);
        gbc.writeMem(0xc60f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x14ec);
        EXPECT(gbc.pc(), 0xc611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc60f), 0xcb);
        EXPECT(gbc.readMem(0xc610), 0x69);
        // CB 69 0375
        gbc.setState(0xaf2a, 0xc1e5, 0x5300, 0xa388, 0x1810, 0xc52c, 0x0, 0x1);
        gbc.writeMem(0xaf2a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xc1e5);
        EXPECT(gbc.pc(), 0xaf2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf2a), 0xcb);
        EXPECT(gbc.readMem(0xaf2b), 0x69);
        // CB 69 0376
        gbc.setState(0x8fbc, 0x4edc, 0xa240, 0x3078, 0x8fe, 0xccc, 0x0, 0x0);
        gbc.writeMem(0x8fbc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4edc);
        EXPECT(gbc.pc(), 0x8fbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fbc), 0xcb);
        EXPECT(gbc.readMem(0x8fbd), 0x69);
        // CB 69 0377
        gbc.setState(0x1c5, 0x4d72, 0x5470, 0x115, 0xac55, 0x8634, 0x1, 0x0);
        gbc.writeMem(0x1c5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4d72);
        EXPECT(gbc.pc(), 0x1c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0378
        gbc.setState(0x4be6, 0x883b, 0x6a70, 0x9d56, 0x800a, 0x882c, 0x1, 0x0);
        gbc.writeMem(0x4be6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x883b);
        EXPECT(gbc.pc(), 0x4be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0379
        gbc.setState(0x260e, 0x27db, 0x7e10, 0xf69, 0xa8f4, 0xa538, 0x0, 0x0);
        gbc.writeMem(0x260e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x27db);
        EXPECT(gbc.pc(), 0x2610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 037A
        gbc.setState(0xd7cf, 0xd828, 0x8d80, 0x5d04, 0xc23c, 0x46da, 0x0, 0x0);
        gbc.writeMem(0xd7cf, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd828);
        EXPECT(gbc.pc(), 0xd7d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7cf), 0xcb);
        EXPECT(gbc.readMem(0xd7d0), 0x69);
        // CB 69 037B
        gbc.setState(0x9bd9, 0x8b8, 0x7870, 0xd5d3, 0xd0ff, 0x9beb, 0x1, 0x1);
        gbc.writeMem(0x9bd9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8b8);
        EXPECT(gbc.pc(), 0x9bdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bd9), 0xcb);
        EXPECT(gbc.readMem(0x9bda), 0x69);
        // CB 69 037C
        gbc.setState(0x74ed, 0xdedb, 0xd80, 0xf05f, 0xcebb, 0xd1ee, 0x1, 0x1);
        gbc.writeMem(0x74ed, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdedb);
        EXPECT(gbc.pc(), 0x74ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 037D
        gbc.setState(0x526f, 0x7da4, 0x40d0, 0x11e3, 0x9c82, 0xab6f, 0x0, 0x1);
        gbc.writeMem(0x526f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7da4);
        EXPECT(gbc.pc(), 0x5271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 037E
        gbc.setState(0x6dd5, 0x747a, 0x8d70, 0xa96c, 0xad9b, 0x6ec0, 0x1, 0x0);
        gbc.writeMem(0x6dd5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x747a);
        EXPECT(gbc.pc(), 0x6dd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 037F
        gbc.setState(0xc2d8, 0xe4bf, 0xfe60, 0xe8eb, 0xf185, 0xcb1b, 0x1, 0x1);
        gbc.writeMem(0xc2d8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe4bf);
        EXPECT(gbc.pc(), 0xc2da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2d8), 0xcb);
        EXPECT(gbc.readMem(0xc2d9), 0x69);
        // CB 69 0380
        gbc.setState(0x870, 0xc973, 0x1d90, 0x611a, 0x1a6, 0xb312, 0x1, 0x0);
        gbc.writeMem(0x870, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc973);
        EXPECT(gbc.pc(), 0x872);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0381
        gbc.setState(0x982e, 0x6e0d, 0xdad0, 0xadec, 0xea22, 0xa230, 0x0, 0x1);
        gbc.writeMem(0x982e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6e0d);
        EXPECT(gbc.pc(), 0x9830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x982e), 0xcb);
        EXPECT(gbc.readMem(0x982f), 0x69);
        // CB 69 0382
        gbc.setState(0xdec, 0x615e, 0x9900, 0x989b, 0x9fcf, 0xbf89, 0x0, 0x0);
        gbc.writeMem(0xdec, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x615e);
        EXPECT(gbc.pc(), 0xdee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0384
        gbc.setState(0xc8ed, 0xd796, 0x4db0, 0x6a0e, 0x197f, 0x197c, 0x0, 0x0);
        gbc.writeMem(0xc8ed, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd796);
        EXPECT(gbc.pc(), 0xc8ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ed), 0xcb);
        EXPECT(gbc.readMem(0xc8ee), 0x69);
        // CB 69 0385
        gbc.setState(0xb9a0, 0x6dab, 0xd8c0, 0x1683, 0x5031, 0x97f4, 0x1, 0x1);
        gbc.writeMem(0xb9a0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6dab);
        EXPECT(gbc.pc(), 0xb9a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9a0), 0xcb);
        EXPECT(gbc.readMem(0xb9a1), 0x69);
        // CB 69 0386
        gbc.setState(0x58e8, 0x1125, 0xbec0, 0x2155, 0x1e90, 0x55d5, 0x1, 0x0);
        gbc.writeMem(0x58e8, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1125);
        EXPECT(gbc.pc(), 0x58ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0387
        gbc.setState(0xa4c0, 0x4ac6, 0x6040, 0xa65b, 0xa07c, 0x65a1, 0x1, 0x0);
        gbc.writeMem(0xa4c0, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4ac6);
        EXPECT(gbc.pc(), 0xa4c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c0), 0xcb);
        EXPECT(gbc.readMem(0xa4c1), 0x69);
        // CB 69 0388
        gbc.setState(0x26a7, 0xd8bf, 0x2d00, 0x29f9, 0xd0b1, 0xb5ea, 0x0, 0x0);
        gbc.writeMem(0x26a7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd8bf);
        EXPECT(gbc.pc(), 0x26a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 0389
        gbc.setState(0x6a54, 0xb141, 0x83c0, 0x7393, 0x76ac, 0xe595, 0x0, 0x1);
        gbc.writeMem(0x6a54, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb141);
        EXPECT(gbc.pc(), 0x6a56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 038A
        gbc.setState(0x5cc9, 0x2780, 0x8d20, 0xf95c, 0x4da9, 0x83f1, 0x0, 0x1);
        gbc.writeMem(0x5cc9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2780);
        EXPECT(gbc.pc(), 0x5ccb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 038B
        gbc.setState(0x58cd, 0x2f4e, 0xeba0, 0x425c, 0x9be5, 0xc7d6, 0x0, 0x0);
        gbc.writeMem(0x58cd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2f4e);
        EXPECT(gbc.pc(), 0x58cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 038C
        gbc.setState(0xd524, 0x68db, 0x99a0, 0xb1ec, 0xc140, 0xc69e, 0x0, 0x1);
        gbc.writeMem(0xd524, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x68db);
        EXPECT(gbc.pc(), 0xd526);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd524), 0xcb);
        EXPECT(gbc.readMem(0xd525), 0x69);
        // CB 69 038D
        gbc.setState(0xe5eb, 0xda83, 0x62c0, 0xe8a2, 0x23ee, 0xd9df, 0x1, 0x0);
        gbc.writeMem(0xe5eb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xda83);
        EXPECT(gbc.pc(), 0xe5ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5eb), 0xcb);
        EXPECT(gbc.readMem(0xe5ec), 0x69);
        // CB 69 038E
        gbc.setState(0x8cad, 0xe3d8, 0xfed0, 0x7cf0, 0xeabe, 0xb98c, 0x0, 0x0);
        gbc.writeMem(0x8cad, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe3d8);
        EXPECT(gbc.pc(), 0x8caf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cad), 0xcb);
        EXPECT(gbc.readMem(0x8cae), 0x69);
        // CB 69 038F
        gbc.setState(0x6318, 0xe66d, 0xaaf0, 0xad4e, 0xdd01, 0x5e1b, 0x1, 0x0);
        gbc.writeMem(0x6318, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe66d);
        EXPECT(gbc.pc(), 0x631a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0390
        gbc.setState(0xe5e1, 0xea9f, 0x28a0, 0xca, 0x7487, 0xf726, 0x0, 0x0);
        gbc.writeMem(0xe5e1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xea9f);
        EXPECT(gbc.pc(), 0xe5e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5e1), 0xcb);
        EXPECT(gbc.readMem(0xe5e2), 0x69);
        // CB 69 0391
        gbc.setState(0x24be, 0x91c2, 0xb910, 0xea76, 0x2718, 0x1e9, 0x0, 0x0);
        gbc.writeMem(0x24be, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x91c2);
        EXPECT(gbc.pc(), 0x24c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 0392
        gbc.setState(0xb7b5, 0x2a3a, 0x8bb0, 0x774c, 0xb23e, 0xe18e, 0x0, 0x1);
        gbc.writeMem(0xb7b5, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2a3a);
        EXPECT(gbc.pc(), 0xb7b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b5), 0xcb);
        EXPECT(gbc.readMem(0xb7b6), 0x69);
        // CB 69 0393
        gbc.setState(0xc5ed, 0x2b82, 0x6f10, 0x82d2, 0xcb63, 0xcab, 0x1, 0x1);
        gbc.writeMem(0xc5ed, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2b82);
        EXPECT(gbc.pc(), 0xc5ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5ed), 0xcb);
        EXPECT(gbc.readMem(0xc5ee), 0x69);
        // CB 69 0395
        gbc.setState(0xe344, 0xf7ac, 0xaed0, 0x9651, 0xfccb, 0xd9a3, 0x1, 0x1);
        gbc.writeMem(0xe344, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf7ac);
        EXPECT(gbc.pc(), 0xe346);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe344), 0xcb);
        EXPECT(gbc.readMem(0xe345), 0x69);
        // CB 69 0396
        gbc.setState(0xbdbc, 0xb43a, 0xe90, 0x7702, 0x64da, 0x6ee5, 0x1, 0x1);
        gbc.writeMem(0xbdbc, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb43a);
        EXPECT(gbc.pc(), 0xbdbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdbc), 0xcb);
        EXPECT(gbc.readMem(0xbdbd), 0x69);
        // CB 69 0397
        gbc.setState(0xa81a, 0x90d0, 0x4c60, 0x4a75, 0x8698, 0x4ec, 0x1, 0x1);
        gbc.writeMem(0xa81a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x90d0);
        EXPECT(gbc.pc(), 0xa81c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81a), 0xcb);
        EXPECT(gbc.readMem(0xa81b), 0x69);
        // CB 69 0399
        gbc.setState(0x95f, 0x3de5, 0xde0, 0xd162, 0x466d, 0x30e6, 0x1, 0x0);
        gbc.writeMem(0x95f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3de5);
        EXPECT(gbc.pc(), 0x961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 039A
        gbc.setState(0x2656, 0x563b, 0xc660, 0x341, 0x6533, 0x8841, 0x0, 0x1);
        gbc.writeMem(0x2656, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x563b);
        EXPECT(gbc.pc(), 0x2658);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 039B
        gbc.setState(0xcad9, 0xc561, 0xd6b0, 0xfaed, 0xe8a3, 0x76d9, 0x1, 0x1);
        gbc.writeMem(0xcad9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc561);
        EXPECT(gbc.pc(), 0xcadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad9), 0xcb);
        EXPECT(gbc.readMem(0xcada), 0x69);
        // CB 69 039C
        gbc.setState(0x9b31, 0xcfec, 0x90a0, 0x7502, 0x2718, 0x9297, 0x0, 0x1);
        gbc.writeMem(0x9b31, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xcfec);
        EXPECT(gbc.pc(), 0x9b33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b31), 0xcb);
        EXPECT(gbc.readMem(0x9b32), 0x69);
        // CB 69 039D
        gbc.setState(0xa032, 0x29a6, 0xc650, 0x789e, 0xdff5, 0x86c5, 0x0, 0x0);
        gbc.writeMem(0xa032, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x29a6);
        EXPECT(gbc.pc(), 0xa034);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa032), 0xcb);
        EXPECT(gbc.readMem(0xa033), 0x69);
        // CB 69 039E
        gbc.setState(0xcc20, 0x175e, 0x1eb0, 0x8ab1, 0x4524, 0xf9e7, 0x1, 0x0);
        gbc.writeMem(0xcc20, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x175e);
        EXPECT(gbc.pc(), 0xcc22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc20), 0xcb);
        EXPECT(gbc.readMem(0xcc21), 0x69);
        // CB 69 039F
        gbc.setState(0x23b4, 0xd4e, 0xc740, 0x9bb9, 0xabd, 0x94a1, 0x0, 0x0);
        gbc.writeMem(0x23b4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xd4e);
        EXPECT(gbc.pc(), 0x23b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03A0
        gbc.setState(0xaa67, 0x7cca, 0x1890, 0x6a7c, 0x7ce2, 0x21c5, 0x1, 0x1);
        gbc.writeMem(0xaa67, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7cca);
        EXPECT(gbc.pc(), 0xaa69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa67), 0xcb);
        EXPECT(gbc.readMem(0xaa68), 0x69);
        // CB 69 03A1
        gbc.setState(0x2dff, 0xab90, 0x9020, 0x7eff, 0xabd3, 0xdd3c, 0x1, 0x1);
        gbc.writeMem(0x2dff, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xab90);
        EXPECT(gbc.pc(), 0x2e01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03A2
        gbc.setState(0x54dd, 0x363e, 0x6290, 0xda4b, 0x79d1, 0x4ccb, 0x1, 0x1);
        gbc.writeMem(0x54dd, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x363e);
        EXPECT(gbc.pc(), 0x54df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03A3
        gbc.setState(0xe70a, 0x8e95, 0xe3b0, 0x2a4, 0xef0a, 0x79ea, 0x0, 0x1);
        gbc.writeMem(0xe70a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8e95);
        EXPECT(gbc.pc(), 0xe70c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe70a), 0xcb);
        EXPECT(gbc.readMem(0xe70b), 0x69);
        // CB 69 03A4
        gbc.setState(0xc535, 0xa015, 0x7d90, 0x9955, 0x3b7e, 0xe0f1, 0x1, 0x0);
        gbc.writeMem(0xc535, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa015);
        EXPECT(gbc.pc(), 0xc537);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc535), 0xcb);
        EXPECT(gbc.readMem(0xc536), 0x69);
        // CB 69 03A5
        gbc.setState(0x6e93, 0xca7d, 0xc3d0, 0x3ab1, 0xac0d, 0x7e67, 0x0, 0x0);
        gbc.writeMem(0x6e93, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xca7d);
        EXPECT(gbc.pc(), 0x6e95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03A6
        gbc.setState(0xbbe6, 0x7f9, 0x31e0, 0x12fe, 0x666f, 0xba3d, 0x1, 0x0);
        gbc.writeMem(0xbbe6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7f9);
        EXPECT(gbc.pc(), 0xbbe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe6), 0xcb);
        EXPECT(gbc.readMem(0xbbe7), 0x69);
        // CB 69 03A7
        gbc.setState(0xa00d, 0x70d6, 0x7710, 0xe91a, 0x8500, 0x14d3, 0x1, 0x0);
        gbc.writeMem(0xa00d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x70d6);
        EXPECT(gbc.pc(), 0xa00f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa00d), 0xcb);
        EXPECT(gbc.readMem(0xa00e), 0x69);
        // CB 69 03A8
        gbc.setState(0x2b99, 0x5aa7, 0x1ad0, 0x2c25, 0xf003, 0xa9ab, 0x1, 0x0);
        gbc.writeMem(0x2b99, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x5aa7);
        EXPECT(gbc.pc(), 0x2b9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03A9
        gbc.setState(0x1d9e, 0xac18, 0x63c0, 0x9bc0, 0x13e1, 0x603a, 0x1, 0x0);
        gbc.writeMem(0x1d9e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xac18);
        EXPECT(gbc.pc(), 0x1da0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03AA
        gbc.setState(0x2716, 0x6c46, 0x5d80, 0xe152, 0x87a2, 0x5979, 0x1, 0x1);
        gbc.writeMem(0x2716, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6c46);
        EXPECT(gbc.pc(), 0x2718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03AB
        gbc.setState(0xd019, 0x7e7d, 0x2250, 0x179e, 0x7378, 0x1879, 0x0, 0x1);
        gbc.writeMem(0xd019, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7e7d);
        EXPECT(gbc.pc(), 0xd01b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd019), 0xcb);
        EXPECT(gbc.readMem(0xd01a), 0x69);
        // CB 69 03AC
        gbc.setState(0xe616, 0x63c3, 0x50, 0xf356, 0x4130, 0x286, 0x1, 0x1);
        gbc.writeMem(0xe616, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x63c3);
        EXPECT(gbc.pc(), 0xe618);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe616), 0xcb);
        EXPECT(gbc.readMem(0xe617), 0x69);
        // CB 69 03AD
        gbc.setState(0x4558, 0x2e79, 0x7eb0, 0x78b8, 0x562f, 0xdf7, 0x1, 0x1);
        gbc.writeMem(0x4558, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2e79);
        EXPECT(gbc.pc(), 0x455a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03AE
        gbc.setState(0x5857, 0xcdcc, 0x8220, 0xbf6e, 0x25df, 0x9f0f, 0x1, 0x0);
        gbc.writeMem(0x5857, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xcdcc);
        EXPECT(gbc.pc(), 0x5859);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03AF
        gbc.setState(0xba8a, 0x8a01, 0xb1d0, 0x5c51, 0xa52f, 0xdc58, 0x1, 0x0);
        gbc.writeMem(0xba8a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8a01);
        EXPECT(gbc.pc(), 0xba8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8a), 0xcb);
        EXPECT(gbc.readMem(0xba8b), 0x69);
        // CB 69 03B0
        gbc.setState(0x783b, 0xd035, 0xd270, 0x8b83, 0x517e, 0xb2d0, 0x0, 0x0);
        gbc.writeMem(0x783b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd035);
        EXPECT(gbc.pc(), 0x783d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03B1
        gbc.setState(0x36ce, 0x7343, 0x8890, 0x82c3, 0xe785, 0xa12b, 0x1, 0x1);
        gbc.writeMem(0x36ce, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7343);
        EXPECT(gbc.pc(), 0x36d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03B2
        gbc.setState(0xc261, 0x9d60, 0xe9a0, 0x54e6, 0x32d3, 0x412a, 0x0, 0x0);
        gbc.writeMem(0xc261, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x9d60);
        EXPECT(gbc.pc(), 0xc263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc261), 0xcb);
        EXPECT(gbc.readMem(0xc262), 0x69);
        // CB 69 03B3
        gbc.setState(0x9231, 0x44e3, 0x6160, 0xf86c, 0x9ceb, 0x238a, 0x0, 0x1);
        gbc.writeMem(0x9231, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x44e3);
        EXPECT(gbc.pc(), 0x9233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9231), 0xcb);
        EXPECT(gbc.readMem(0x9232), 0x69);
        // CB 69 03B4
        gbc.setState(0x839d, 0xa847, 0x4bb0, 0xe5e2, 0x93c8, 0x874a, 0x0, 0x1);
        gbc.writeMem(0x839d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa847);
        EXPECT(gbc.pc(), 0x839f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x839d), 0xcb);
        EXPECT(gbc.readMem(0x839e), 0x69);
        // CB 69 03B5
        gbc.setState(0x230c, 0x61a9, 0x3ca0, 0xa7d8, 0x14f9, 0x76e8, 0x1, 0x1);
        gbc.writeMem(0x230c, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x61a9);
        EXPECT(gbc.pc(), 0x230e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03B6
        gbc.setState(0x70fa, 0x41d3, 0xa8c0, 0x72b1, 0xc3c, 0x2686, 0x1, 0x0);
        gbc.writeMem(0x70fa, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x41d3);
        EXPECT(gbc.pc(), 0x70fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03B7
        gbc.setState(0x27eb, 0x2020, 0xa640, 0x56eb, 0x76cc, 0x3a7f, 0x1, 0x1);
        gbc.writeMem(0x27eb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2020);
        EXPECT(gbc.pc(), 0x27ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03B8
        gbc.setState(0x5f44, 0x8f33, 0xcba0, 0x3723, 0x9e3e, 0x9975, 0x0, 0x0);
        gbc.writeMem(0x5f44, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8f33);
        EXPECT(gbc.pc(), 0x5f46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03B9
        gbc.setState(0x610b, 0xb3ba, 0x56a0, 0x32b1, 0x153f, 0x2277, 0x0, 0x1);
        gbc.writeMem(0x610b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb3ba);
        EXPECT(gbc.pc(), 0x610d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03BA
        gbc.setState(0x6574, 0x4fb0, 0xd5e0, 0x6ffb, 0x6750, 0x105d, 0x0, 0x1);
        gbc.writeMem(0x6574, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4fb0);
        EXPECT(gbc.pc(), 0x6576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03BB
        gbc.setState(0xa7d2, 0x7dab, 0x7b60, 0x1fa3, 0xb1c6, 0x8d6, 0x1, 0x0);
        gbc.writeMem(0xa7d2, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7dab);
        EXPECT(gbc.pc(), 0xa7d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d2), 0xcb);
        EXPECT(gbc.readMem(0xa7d3), 0x69);
        // CB 69 03BC
        gbc.setState(0x27df, 0xcd43, 0xd380, 0xb19d, 0x6b4, 0xe10d, 0x0, 0x0);
        gbc.writeMem(0x27df, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xcd43);
        EXPECT(gbc.pc(), 0x27e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03BD
        gbc.setState(0xe61e, 0x654c, 0x18a0, 0xa7b8, 0x317f, 0x8de9, 0x0, 0x1);
        gbc.writeMem(0xe61e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x654c);
        EXPECT(gbc.pc(), 0xe620);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe61e), 0xcb);
        EXPECT(gbc.readMem(0xe61f), 0x69);
        // CB 69 03BE
        gbc.setState(0xae81, 0xba5e, 0x6a60, 0x9b52, 0x9621, 0x70e6, 0x0, 0x1);
        gbc.writeMem(0xae81, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xba5e);
        EXPECT(gbc.pc(), 0xae83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae81), 0xcb);
        EXPECT(gbc.readMem(0xae82), 0x69);
        // CB 69 03BF
        gbc.setState(0x190f, 0x3ee9, 0x3620, 0xca93, 0xeb37, 0x2a74, 0x0, 0x1);
        gbc.writeMem(0x190f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3ee9);
        EXPECT(gbc.pc(), 0x1911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03C0
        gbc.setState(0x49ef, 0xd806, 0x4280, 0xa05a, 0xefe8, 0x581e, 0x0, 0x0);
        gbc.writeMem(0x49ef, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd806);
        EXPECT(gbc.pc(), 0x49f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03C1
        gbc.setState(0x4d8b, 0x5ecc, 0x94a0, 0x78c4, 0x3b6b, 0x7f3e, 0x0, 0x1);
        gbc.writeMem(0x4d8b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5ecc);
        EXPECT(gbc.pc(), 0x4d8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03C2
        gbc.setState(0x988a, 0x4afa, 0x2b50, 0xe863, 0xafe, 0xe9cc, 0x1, 0x0);
        gbc.writeMem(0x988a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4afa);
        EXPECT(gbc.pc(), 0x988c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x988a), 0xcb);
        EXPECT(gbc.readMem(0x988b), 0x69);
        // CB 69 03C3
        gbc.setState(0x641, 0x15e2, 0x370, 0x5b7e, 0xb7e7, 0x4256, 0x0, 0x1);
        gbc.writeMem(0x641, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x15e2);
        EXPECT(gbc.pc(), 0x643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03C4
        gbc.setState(0xb827, 0x9739, 0xf7a0, 0xef81, 0x3a15, 0x152e, 0x0, 0x0);
        gbc.writeMem(0xb827, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9739);
        EXPECT(gbc.pc(), 0xb829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb827), 0xcb);
        EXPECT(gbc.readMem(0xb828), 0x69);
        // CB 69 03C5
        gbc.setState(0x5663, 0x7b8d, 0x1610, 0xb39b, 0x3f04, 0x2fa1, 0x0, 0x1);
        gbc.writeMem(0x5663, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7b8d);
        EXPECT(gbc.pc(), 0x5665);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03C7
        gbc.setState(0x99e6, 0xca74, 0x36c0, 0x747b, 0x3bff, 0xbca5, 0x1, 0x0);
        gbc.writeMem(0x99e6, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xca74);
        EXPECT(gbc.pc(), 0x99e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99e6), 0xcb);
        EXPECT(gbc.readMem(0x99e7), 0x69);
        // CB 69 03C8
        gbc.setState(0x5b52, 0x787b, 0xda50, 0x8eaa, 0x2293, 0x265a, 0x0, 0x1);
        gbc.writeMem(0x5b52, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x787b);
        EXPECT(gbc.pc(), 0x5b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03C9
        gbc.setState(0xcdce, 0x875d, 0x29b0, 0x60eb, 0x1051, 0x801b, 0x1, 0x1);
        gbc.writeMem(0xcdce, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x875d);
        EXPECT(gbc.pc(), 0xcdd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdce), 0xcb);
        EXPECT(gbc.readMem(0xcdcf), 0x69);
        // CB 69 03CA
        gbc.setState(0x74d7, 0x5bb5, 0x3250, 0xc0fb, 0xebcc, 0xd172, 0x1, 0x0);
        gbc.writeMem(0x74d7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5bb5);
        EXPECT(gbc.pc(), 0x74d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03CB
        gbc.setState(0xc824, 0xbd1, 0xb930, 0xae83, 0x4546, 0x1dc4, 0x0, 0x0);
        gbc.writeMem(0xc824, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbd1);
        EXPECT(gbc.pc(), 0xc826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc824), 0xcb);
        EXPECT(gbc.readMem(0xc825), 0x69);
        // CB 69 03CC
        gbc.setState(0x3dca, 0x5aad, 0x66a0, 0x5cea, 0xa182, 0x6b9c, 0x0, 0x1);
        gbc.writeMem(0x3dca, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x5aad);
        EXPECT(gbc.pc(), 0x3dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03CD
        gbc.setState(0xab00, 0x8a5b, 0xb280, 0x23ea, 0xcfb7, 0xe99a, 0x0, 0x1);
        gbc.writeMem(0xab00, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8a5b);
        EXPECT(gbc.pc(), 0xab02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab00), 0xcb);
        EXPECT(gbc.readMem(0xab01), 0x69);
        // CB 69 03CE
        gbc.setState(0x2395, 0xd5e1, 0xc1a0, 0xeb19, 0xc1b0, 0x74a3, 0x1, 0x0);
        gbc.writeMem(0x2395, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xd5e1);
        EXPECT(gbc.pc(), 0x2397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03CF
        gbc.setState(0xe9e7, 0xf9f3, 0xdb40, 0x5cf5, 0x23d6, 0x4753, 0x1, 0x1);
        gbc.writeMem(0xe9e7, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xf9f3);
        EXPECT(gbc.pc(), 0xe9e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e7), 0xcb);
        EXPECT(gbc.readMem(0xe9e8), 0x69);
        // CB 69 03D0
        gbc.setState(0xecf4, 0xa8e6, 0x7bb0, 0x52e1, 0xea8a, 0x743a, 0x1, 0x1);
        gbc.writeMem(0xecf4, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xa8e6);
        EXPECT(gbc.pc(), 0xecf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecf4), 0xcb);
        EXPECT(gbc.readMem(0xecf5), 0x69);
        // CB 69 03D1
        gbc.setState(0x3a2b, 0x58a2, 0x3e50, 0x7b6e, 0x1ba9, 0x5896, 0x1, 0x1);
        gbc.writeMem(0x3a2b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x58a2);
        EXPECT(gbc.pc(), 0x3a2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03D2
        gbc.setState(0x7ab1, 0x7356, 0x9ee0, 0x7fe9, 0xa67a, 0xd1f0, 0x0, 0x1);
        gbc.writeMem(0x7ab1, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x7356);
        EXPECT(gbc.pc(), 0x7ab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03D3
        gbc.setState(0xc724, 0x260a, 0xc9f0, 0x8551, 0x490c, 0x6b1f, 0x1, 0x0);
        gbc.writeMem(0xc724, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x260a);
        EXPECT(gbc.pc(), 0xc726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc724), 0xcb);
        EXPECT(gbc.readMem(0xc725), 0x69);
        // CB 69 03D5
        gbc.setState(0x8798, 0x2507, 0x30c0, 0xd118, 0xb5e1, 0x35c, 0x1, 0x1);
        gbc.writeMem(0x8798, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x2507);
        EXPECT(gbc.pc(), 0x879a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8798), 0xcb);
        EXPECT(gbc.readMem(0x8799), 0x69);
        // CB 69 03D6
        gbc.setState(0x7d82, 0xc3e4, 0xbd10, 0x643f, 0x5338, 0x95da, 0x1, 0x1);
        gbc.writeMem(0x7d82, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc3e4);
        EXPECT(gbc.pc(), 0x7d84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03D7
        gbc.setState(0x938a, 0xafe6, 0xb330, 0x8c95, 0xcd7f, 0xafd0, 0x1, 0x0);
        gbc.writeMem(0x938a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xafe6);
        EXPECT(gbc.pc(), 0x938c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x938a), 0xcb);
        EXPECT(gbc.readMem(0x938b), 0x69);
        // CB 69 03D8
        gbc.setState(0xb46b, 0x701, 0x9290, 0x79e5, 0x4b3b, 0x97d5, 0x0, 0x1);
        gbc.writeMem(0xb46b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x701);
        EXPECT(gbc.pc(), 0xb46d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46b), 0xcb);
        EXPECT(gbc.readMem(0xb46c), 0x69);
        // CB 69 03D9
        gbc.setState(0x3c15, 0xd271, 0x44e0, 0x21b1, 0x6ebe, 0x7a66, 0x0, 0x0);
        gbc.writeMem(0x3c15, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd271);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03DA
        gbc.setState(0x1c68, 0x2f77, 0xac90, 0xb41, 0x9da5, 0x3000, 0x1, 0x1);
        gbc.writeMem(0x1c68, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x2f77);
        EXPECT(gbc.pc(), 0x1c6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03DB
        gbc.setState(0x7115, 0x397a, 0x9000, 0x8707, 0xaed6, 0x9b83, 0x1, 0x0);
        gbc.writeMem(0x7115, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x397a);
        EXPECT(gbc.pc(), 0x7117);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03DC
        gbc.setState(0x852b, 0x15b3, 0x8030, 0x8af5, 0x66f8, 0xb7d6, 0x1, 0x1);
        gbc.writeMem(0x852b, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x15b3);
        EXPECT(gbc.pc(), 0x852d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x852b), 0xcb);
        EXPECT(gbc.readMem(0x852c), 0x69);
        // CB 69 03DD
        gbc.setState(0xb5b9, 0xd8bd, 0xb80, 0x5fd4, 0x7fe2, 0x7dd9, 0x1, 0x0);
        gbc.writeMem(0xb5b9, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xd8bd);
        EXPECT(gbc.pc(), 0xb5bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b9), 0xcb);
        EXPECT(gbc.readMem(0xb5ba), 0x69);
        // CB 69 03DE
        gbc.setState(0xe62d, 0x59dc, 0x1a50, 0xcbb8, 0x4e96, 0xbb20, 0x1, 0x0);
        gbc.writeMem(0xe62d, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x59dc);
        EXPECT(gbc.pc(), 0xe62f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe62d), 0xcb);
        EXPECT(gbc.readMem(0xe62e), 0x69);
        // CB 69 03DF
        gbc.setState(0x64db, 0x943e, 0x5520, 0xf944, 0xd278, 0x8f64, 0x0, 0x1);
        gbc.writeMem(0x64db, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x943e);
        EXPECT(gbc.pc(), 0x64dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03E0
        gbc.setState(0xea8a, 0xe648, 0x3bf0, 0x25e5, 0x5dca, 0xe274, 0x0, 0x1);
        gbc.writeMem(0xea8a, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe648);
        EXPECT(gbc.pc(), 0xea8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea8a), 0xcb);
        EXPECT(gbc.readMem(0xea8b), 0x69);
        // CB 69 03E1
        gbc.setState(0x69cb, 0x16ff, 0xfa30, 0x9740, 0x7e8a, 0xa92b, 0x0, 0x1);
        gbc.writeMem(0x69cb, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x16ff);
        EXPECT(gbc.pc(), 0x69cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03E2
        gbc.setState(0xd94, 0x55e4, 0x5140, 0xced6, 0x1fda, 0xc5dd, 0x0, 0x0);
        gbc.writeMem(0xd94, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x55e4);
        EXPECT(gbc.pc(), 0xd96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03E3
        gbc.setState(0x5a21, 0xab85, 0x10f0, 0x598c, 0xda3a, 0xbea, 0x1, 0x1);
        gbc.writeMem(0x5a21, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xab85);
        EXPECT(gbc.pc(), 0x5a23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 69 03E4
        gbc.setState(0x847f, 0x869b, 0x1900, 0x84ae, 0x7f6a, 0x71e2, 0x0, 0x0);
        gbc.writeMem(0x847f, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x869b);
        EXPECT(gbc.pc(), 0x8481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x847f), 0xcb);
        EXPECT(gbc.readMem(0x8480), 0x69);
        // CB 69 03E5
        gbc.setState(0x7fee, 0x19a1, 0x2fc0, 0x57b1, 0xf9a8, 0x24e4, 0x1, 0x0);
        gbc.writeMem(0x7fee, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x19a1);
        EXPECT(gbc.pc(), 0x7ff0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 69 03E6
        gbc.setState(0xbd3e, 0x7203, 0x5e80, 0x2b2d, 0x27f2, 0x5f63, 0x1, 0x1);
        gbc.writeMem(0xbd3e, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7203);
        EXPECT(gbc.pc(), 0xbd40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd3e), 0xcb);
        EXPECT(gbc.readMem(0xbd3f), 0x69);
        // CB 69 03E7
        gbc.setState(0x5fef, 0x7b5b, 0x50e0, 0xdff9, 0x7c1d, 0xc14a, 0x1, 0x1);
        gbc.writeMem(0x5fef, { 0xcb, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7b5b);
        EXPECT(gbc.pc(), 0x5ff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
