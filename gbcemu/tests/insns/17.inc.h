    TEST(gbcemu, opcode_17) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 17 0000
        gbc.setState(0xa8e0, 0x12ce, 0x8a60, 0xad63, 0xc01b, 0x9ea6, 0x1, 0x0);
        gbc.writeMem(0xa8e0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x12ce);
        EXPECT(gbc.pc(), 0xa8e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8e0), 0x17);
        // 17 0001
        gbc.setState(0xd729, 0x3547, 0xb50, 0xd76d, 0xbee3, 0x6df, 0x1, 0x1);
        gbc.writeMem(0xd729, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3547);
        EXPECT(gbc.pc(), 0xd72a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd729), 0x17);
        // 17 0002
        gbc.setState(0x1f2f, 0x822e, 0x57b0, 0xf465, 0x7a2b, 0xf84c, 0x1, 0x0);
        gbc.writeMem(0x1f2f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x822e);
        EXPECT(gbc.pc(), 0x1f30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0003
        gbc.setState(0xdbe2, 0xa8ef, 0x9af0, 0x4ae1, 0x909, 0x57ba, 0x1, 0x0);
        gbc.writeMem(0xdbe2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa8ef);
        EXPECT(gbc.pc(), 0xdbe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe2), 0x17);
        // 17 0004
        gbc.setState(0x11cc, 0x23be, 0x1640, 0x9e14, 0x57e0, 0xbcbc, 0x1, 0x0);
        gbc.writeMem(0x11cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x23be);
        EXPECT(gbc.pc(), 0x11cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0005
        gbc.setState(0xcd5f, 0x795b, 0x79a0, 0x6afa, 0x2505, 0x732a, 0x1, 0x1);
        gbc.writeMem(0xcd5f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x795b);
        EXPECT(gbc.pc(), 0xcd60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd5f), 0x17);
        // 17 0006
        gbc.setState(0x923, 0xfc7, 0xed0, 0xf8e3, 0x1e1b, 0x4e5f, 0x1, 0x1);
        gbc.writeMem(0x923, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfc7);
        EXPECT(gbc.pc(), 0x924);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0007
        gbc.setState(0x7f18, 0xe0b4, 0x94b0, 0x96ec, 0x247, 0x7723, 0x1, 0x0);
        gbc.writeMem(0x7f18, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe0b4);
        EXPECT(gbc.pc(), 0x7f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0008
        gbc.setState(0x50e0, 0xdf16, 0x7d40, 0x41e5, 0xf1c0, 0xe471, 0x0, 0x0);
        gbc.writeMem(0x50e0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xdf16);
        EXPECT(gbc.pc(), 0x50e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0009
        gbc.setState(0x941c, 0x5dc1, 0x6ac0, 0x8b0b, 0x6ac8, 0x8a4b, 0x1, 0x0);
        gbc.writeMem(0x941c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5dc1);
        EXPECT(gbc.pc(), 0x941d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941c), 0x17);
        // 17 000A
        gbc.setState(0xa056, 0x9fd9, 0x70, 0x9722, 0x76c9, 0xc5a5, 0x0, 0x1);
        gbc.writeMem(0xa056, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9fd9);
        EXPECT(gbc.pc(), 0xa057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa056), 0x17);
        // 17 000C
        gbc.setState(0x7466, 0xaddb, 0x2350, 0xa4c6, 0x18c5, 0xe939, 0x1, 0x0);
        gbc.writeMem(0x7466, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xaddb);
        EXPECT(gbc.pc(), 0x7467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 000D
        gbc.setState(0xe7e0, 0xa7e, 0x8f40, 0x3b24, 0x6795, 0x5764, 0x1, 0x1);
        gbc.writeMem(0xe7e0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa7e);
        EXPECT(gbc.pc(), 0xe7e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7e0), 0x17);
        // 17 000E
        gbc.setState(0x4de8, 0x1614, 0xc840, 0x1391, 0x8c2e, 0x6dea, 0x0, 0x0);
        gbc.writeMem(0x4de8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1614);
        EXPECT(gbc.pc(), 0x4de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 000F
        gbc.setState(0xbb43, 0xd82f, 0xbd90, 0xb772, 0xb531, 0xe54a, 0x0, 0x1);
        gbc.writeMem(0xbb43, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd82f);
        EXPECT(gbc.pc(), 0xbb44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb43), 0x17);
        // 17 0010
        gbc.setState(0x95, 0xfe31, 0xdd60, 0x53c9, 0xf497, 0xadda, 0x0, 0x1);
        gbc.writeMem(0x95, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfe31);
        EXPECT(gbc.pc(), 0x96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0011
        gbc.setState(0xeb31, 0x395f, 0x5810, 0x74ee, 0x171, 0x32c3, 0x0, 0x0);
        gbc.writeMem(0xeb31, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x395f);
        EXPECT(gbc.pc(), 0xeb32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb31), 0x17);
        // 17 0012
        gbc.setState(0x7d96, 0xf653, 0x6600, 0xc35, 0xeb8f, 0xd641, 0x0, 0x1);
        gbc.writeMem(0x7d96, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf653);
        EXPECT(gbc.pc(), 0x7d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0013
        gbc.setState(0xe25f, 0x643a, 0x6b20, 0x23c1, 0x9d7b, 0xd220, 0x0, 0x0);
        gbc.writeMem(0xe25f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x643a);
        EXPECT(gbc.pc(), 0xe260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe25f), 0x17);
        // 17 0014
        gbc.setState(0x2bc9, 0x28ba, 0xfa10, 0xacd5, 0xfbd5, 0x1da2, 0x0, 0x0);
        gbc.writeMem(0x2bc9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x28ba);
        EXPECT(gbc.pc(), 0x2bca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0015
        gbc.setState(0x3ca9, 0x86b4, 0x3cf0, 0x6f0f, 0x3898, 0xe322, 0x0, 0x1);
        gbc.writeMem(0x3ca9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x86b4);
        EXPECT(gbc.pc(), 0x3caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0016
        gbc.setState(0x6294, 0x1331, 0x98e0, 0xaf8b, 0xcf29, 0x8fe1, 0x0, 0x0);
        gbc.writeMem(0x6294, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x1331);
        EXPECT(gbc.pc(), 0x6295);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0017
        gbc.setState(0x5d10, 0x56a7, 0xb9a0, 0xa41f, 0xe010, 0x807, 0x0, 0x1);
        gbc.writeMem(0x5d10, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x56a7);
        EXPECT(gbc.pc(), 0x5d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0018
        gbc.setState(0x40af, 0x6162, 0x82c0, 0x2ace, 0xb59a, 0xcd04, 0x0, 0x1);
        gbc.writeMem(0x40af, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6162);
        EXPECT(gbc.pc(), 0x40b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0019
        gbc.setState(0xd7a7, 0x542, 0xbd30, 0x1da0, 0x6cd1, 0x2ff2, 0x1, 0x0);
        gbc.writeMem(0xd7a7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x542);
        EXPECT(gbc.pc(), 0xd7a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7a7), 0x17);
        // 17 001A
        gbc.setState(0x5c64, 0xebdd, 0x9190, 0x19b7, 0x417e, 0xc3b, 0x0, 0x0);
        gbc.writeMem(0x5c64, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xebdd);
        EXPECT(gbc.pc(), 0x5c65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 001B
        gbc.setState(0x3a7b, 0x88ee, 0x77a0, 0x62ce, 0x76d1, 0xc04e, 0x0, 0x1);
        gbc.writeMem(0x3a7b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x88ee);
        EXPECT(gbc.pc(), 0x3a7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 001C
        gbc.setState(0x54be, 0x7c73, 0x8e0, 0x2581, 0x17b6, 0x53ae, 0x0, 0x0);
        gbc.writeMem(0x54be, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x7c73);
        EXPECT(gbc.pc(), 0x54bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 001D
        gbc.setState(0x8ed4, 0x78af, 0xb8e0, 0x7d5f, 0x40dd, 0x6761, 0x1, 0x0);
        gbc.writeMem(0x8ed4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x78af);
        EXPECT(gbc.pc(), 0x8ed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ed4), 0x17);
        // 17 001E
        gbc.setState(0x7a1a, 0x1a86, 0xcee0, 0xd3b0, 0xc7e9, 0x39fe, 0x1, 0x0);
        gbc.writeMem(0x7a1a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1a86);
        EXPECT(gbc.pc(), 0x7a1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 001F
        gbc.setState(0x3179, 0x5ad5, 0x6d80, 0xf794, 0x779f, 0xf067, 0x0, 0x1);
        gbc.writeMem(0x3179, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5ad5);
        EXPECT(gbc.pc(), 0x317a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0020
        gbc.setState(0xb6c, 0xa20c, 0x67f0, 0x90ee, 0x3eda, 0x54d7, 0x1, 0x0);
        gbc.writeMem(0xb6c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa20c);
        EXPECT(gbc.pc(), 0xb6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0021
        gbc.setState(0x2343, 0x3921, 0xc2a0, 0xed17, 0xa17d, 0xd5e5, 0x1, 0x0);
        gbc.writeMem(0x2343, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3921);
        EXPECT(gbc.pc(), 0x2344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0022
        gbc.setState(0x5bc3, 0x43f7, 0xd910, 0x4499, 0x3264, 0x5070, 0x0, 0x0);
        gbc.writeMem(0x5bc3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x43f7);
        EXPECT(gbc.pc(), 0x5bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0024
        gbc.setState(0x49f0, 0x4094, 0x4310, 0x1ace, 0x1db7, 0x94a1, 0x0, 0x1);
        gbc.writeMem(0x49f0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4094);
        EXPECT(gbc.pc(), 0x49f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0025
        gbc.setState(0xda35, 0x7847, 0xa6f0, 0xfdbc, 0x8422, 0xc4bc, 0x1, 0x1);
        gbc.writeMem(0xda35, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7847);
        EXPECT(gbc.pc(), 0xda36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda35), 0x17);
        // 17 0026
        gbc.setState(0xd881, 0xc3c7, 0x8b20, 0x2c8f, 0x3508, 0x19f6, 0x0, 0x1);
        gbc.writeMem(0xd881, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc3c7);
        EXPECT(gbc.pc(), 0xd882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd881), 0x17);
        // 17 0027
        gbc.setState(0x66bf, 0xc699, 0x6ab0, 0xece3, 0xb70f, 0xdea2, 0x1, 0x0);
        gbc.writeMem(0x66bf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc699);
        EXPECT(gbc.pc(), 0x66c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0028
        gbc.setState(0x1735, 0x4cd, 0x1cd0, 0x56ce, 0xa36, 0x7781, 0x0, 0x1);
        gbc.writeMem(0x1735, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x4cd);
        EXPECT(gbc.pc(), 0x1736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0029
        gbc.setState(0xade8, 0xa9a7, 0xf620, 0x7884, 0xe7b4, 0xf09a, 0x1, 0x1);
        gbc.writeMem(0xade8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa9a7);
        EXPECT(gbc.pc(), 0xade9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xade8), 0x17);
        // 17 002A
        gbc.setState(0xc7aa, 0xb758, 0x9190, 0xa7e2, 0xfd3c, 0x1b3b, 0x1, 0x1);
        gbc.writeMem(0xc7aa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb758);
        EXPECT(gbc.pc(), 0xc7ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7aa), 0x17);
        // 17 002B
        gbc.setState(0xd1dc, 0xcaff, 0x5c90, 0xcb12, 0xaee3, 0xd586, 0x0, 0x0);
        gbc.writeMem(0xd1dc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xcaff);
        EXPECT(gbc.pc(), 0xd1dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1dc), 0x17);
        // 17 002C
        gbc.setState(0xcd3a, 0x380c, 0xa8f0, 0x79fa, 0xbcac, 0xf440, 0x0, 0x1);
        gbc.writeMem(0xcd3a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x380c);
        EXPECT(gbc.pc(), 0xcd3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd3a), 0x17);
        // 17 002D
        gbc.setState(0xa049, 0xa752, 0xd960, 0xdd87, 0xf87, 0x5765, 0x1, 0x1);
        gbc.writeMem(0xa049, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xa752);
        EXPECT(gbc.pc(), 0xa04a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa049), 0x17);
        // 17 002E
        gbc.setState(0x8370, 0x3a4f, 0xd9a0, 0xd2f4, 0xf305, 0xc5cf, 0x0, 0x1);
        gbc.writeMem(0x8370, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3a4f);
        EXPECT(gbc.pc(), 0x8371);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8370), 0x17);
        // 17 002F
        gbc.setState(0x4eab, 0x6a9d, 0x3640, 0x756e, 0x35e9, 0xd73b, 0x0, 0x1);
        gbc.writeMem(0x4eab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6a9d);
        EXPECT(gbc.pc(), 0x4eac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0030
        gbc.setState(0x49c7, 0x46be, 0xf620, 0x6112, 0x20d2, 0xe38a, 0x1, 0x1);
        gbc.writeMem(0x49c7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x46be);
        EXPECT(gbc.pc(), 0x49c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0031
        gbc.setState(0x117d, 0xc8a6, 0x4d00, 0x4c9c, 0x93f, 0x90c4, 0x0, 0x1);
        gbc.writeMem(0x117d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc8a6);
        EXPECT(gbc.pc(), 0x117e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0032
        gbc.setState(0xaa50, 0x3e8f, 0x9590, 0x68b9, 0xd201, 0xe483, 0x1, 0x1);
        gbc.writeMem(0xaa50, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x3e8f);
        EXPECT(gbc.pc(), 0xaa51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa50), 0x17);
        // 17 0033
        gbc.setState(0x1547, 0x2e88, 0xc4a0, 0xe3af, 0xc3ad, 0xb41e, 0x1, 0x0);
        gbc.writeMem(0x1547, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x2e88);
        EXPECT(gbc.pc(), 0x1548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0034
        gbc.setState(0xb944, 0x1b0f, 0xf5f0, 0xfcbf, 0x897f, 0x5982, 0x0, 0x0);
        gbc.writeMem(0xb944, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1b0f);
        EXPECT(gbc.pc(), 0xb945);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb944), 0x17);
        // 17 0035
        gbc.setState(0xb90a, 0x9ec9, 0x8370, 0xa130, 0x29ba, 0x7a34, 0x0, 0x1);
        gbc.writeMem(0xb90a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9ec9);
        EXPECT(gbc.pc(), 0xb90b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb90a), 0x17);
        // 17 0036
        gbc.setState(0xa381, 0xa7b2, 0xb00, 0x4f55, 0x30b4, 0x507d, 0x1, 0x0);
        gbc.writeMem(0xa381, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa7b2);
        EXPECT(gbc.pc(), 0xa382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa381), 0x17);
        // 17 0037
        gbc.setState(0x38ff, 0x8fc6, 0x8180, 0x9049, 0x7f98, 0x64e7, 0x1, 0x0);
        gbc.writeMem(0x38ff, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8fc6);
        EXPECT(gbc.pc(), 0x3900);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0038
        gbc.setState(0xdf5, 0x26a2, 0x7eb0, 0x9139, 0x37bc, 0x5bbb, 0x1, 0x0);
        gbc.writeMem(0xdf5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x26a2);
        EXPECT(gbc.pc(), 0xdf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0039
        gbc.setState(0xa78a, 0x75ba, 0x4d40, 0x4b4a, 0x1cbb, 0xdc88, 0x1, 0x1);
        gbc.writeMem(0xa78a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x75ba);
        EXPECT(gbc.pc(), 0xa78b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa78a), 0x17);
        // 17 003A
        gbc.setState(0x1325, 0x21be, 0x9740, 0x75bb, 0x13f8, 0x81b3, 0x1, 0x0);
        gbc.writeMem(0x1325, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x21be);
        EXPECT(gbc.pc(), 0x1326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 003B
        gbc.setState(0xce74, 0xa0bc, 0xbdf0, 0xece6, 0x9aba, 0xa16f, 0x1, 0x0);
        gbc.writeMem(0xce74, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa0bc);
        EXPECT(gbc.pc(), 0xce75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce74), 0x17);
        // 17 003C
        gbc.setState(0x44c3, 0x68fd, 0x890, 0x4869, 0x9fa4, 0xc570, 0x0, 0x1);
        gbc.writeMem(0x44c3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x68fd);
        EXPECT(gbc.pc(), 0x44c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 003D
        gbc.setState(0xacc9, 0x7d1e, 0xdd30, 0xa971, 0x7f9e, 0xa1ca, 0x1, 0x1);
        gbc.writeMem(0xacc9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7d1e);
        EXPECT(gbc.pc(), 0xacca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacc9), 0x17);
        // 17 003E
        gbc.setState(0x44f7, 0x508c, 0x89c0, 0x9185, 0x77db, 0x3c3d, 0x0, 0x0);
        gbc.writeMem(0x44f7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x508c);
        EXPECT(gbc.pc(), 0x44f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 003F
        gbc.setState(0x88f3, 0x3c68, 0x3a40, 0x6240, 0x3d2e, 0x438d, 0x0, 0x1);
        gbc.writeMem(0x88f3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3c68);
        EXPECT(gbc.pc(), 0x88f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88f3), 0x17);
        // 17 0040
        gbc.setState(0xbfa7, 0xbc0f, 0x9100, 0x46a6, 0xb286, 0xe84e, 0x0, 0x0);
        gbc.writeMem(0xbfa7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xbc0f);
        EXPECT(gbc.pc(), 0xbfa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfa7), 0x17);
        // 17 0041
        gbc.setState(0x10d5, 0xcb82, 0x91f0, 0x6026, 0x69b8, 0xd340, 0x0, 0x0);
        gbc.writeMem(0x10d5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xcb82);
        EXPECT(gbc.pc(), 0x10d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0042
        gbc.setState(0x32d7, 0x5108, 0xfdd0, 0xc5ff, 0xf9e5, 0x40a5, 0x0, 0x1);
        gbc.writeMem(0x32d7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5108);
        EXPECT(gbc.pc(), 0x32d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0043
        gbc.setState(0x65a6, 0x52c1, 0x1420, 0xd15d, 0xccf0, 0xc43b, 0x0, 0x0);
        gbc.writeMem(0x65a6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x52c1);
        EXPECT(gbc.pc(), 0x65a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0044
        gbc.setState(0x11d4, 0x4a22, 0x81e0, 0x99a8, 0x6f5f, 0x3dc0, 0x0, 0x0);
        gbc.writeMem(0x11d4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4a22);
        EXPECT(gbc.pc(), 0x11d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0045
        gbc.setState(0xbcb8, 0x67e7, 0x1d30, 0xc079, 0x540e, 0x513c, 0x0, 0x0);
        gbc.writeMem(0xbcb8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x67e7);
        EXPECT(gbc.pc(), 0xbcb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcb8), 0x17);
        // 17 0046
        gbc.setState(0x9875, 0xb43d, 0x9460, 0x67ab, 0xe48a, 0xc94d, 0x0, 0x1);
        gbc.writeMem(0x9875, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb43d);
        EXPECT(gbc.pc(), 0x9876);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9875), 0x17);
        // 17 0047
        gbc.setState(0x345d, 0x6a88, 0x4080, 0x83c7, 0x71e3, 0x39ec, 0x0, 0x0);
        gbc.writeMem(0x345d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x6a88);
        EXPECT(gbc.pc(), 0x345e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0048
        gbc.setState(0x6bd0, 0x41ff, 0x9120, 0xfe25, 0x491, 0x5a61, 0x1, 0x1);
        gbc.writeMem(0x6bd0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x41ff);
        EXPECT(gbc.pc(), 0x6bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0049
        gbc.setState(0xe47f, 0x8c96, 0xb430, 0xa184, 0xd8de, 0xcfa6, 0x0, 0x1);
        gbc.writeMem(0xe47f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8c96);
        EXPECT(gbc.pc(), 0xe480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe47f), 0x17);
        // 17 004A
        gbc.setState(0xed26, 0xa8d, 0x3000, 0x8963, 0xc702, 0xeafa, 0x1, 0x0);
        gbc.writeMem(0xed26, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa8d);
        EXPECT(gbc.pc(), 0xed27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed26), 0x17);
        // 17 004B
        gbc.setState(0x7592, 0xf47f, 0xd240, 0x506e, 0x729b, 0x4527, 0x1, 0x0);
        gbc.writeMem(0x7592, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf47f);
        EXPECT(gbc.pc(), 0x7593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 004C
        gbc.setState(0x79f, 0xeea2, 0x9fe0, 0x90be, 0xd91b, 0x6551, 0x0, 0x0);
        gbc.writeMem(0x79f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xeea2);
        EXPECT(gbc.pc(), 0x7a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 004D
        gbc.setState(0x1fc2, 0xdebe, 0x35e0, 0xddd7, 0x6884, 0x71bf, 0x1, 0x1);
        gbc.writeMem(0x1fc2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdebe);
        EXPECT(gbc.pc(), 0x1fc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 004E
        gbc.setState(0x4ba8, 0x69f1, 0xa440, 0x1f4e, 0xcfee, 0x6927, 0x1, 0x0);
        gbc.writeMem(0x4ba8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x69f1);
        EXPECT(gbc.pc(), 0x4ba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 004F
        gbc.setState(0xaf29, 0x7ba5, 0xa40, 0xd8b5, 0xfc58, 0x2f9, 0x0, 0x1);
        gbc.writeMem(0xaf29, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7ba5);
        EXPECT(gbc.pc(), 0xaf2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf29), 0x17);
        // 17 0050
        gbc.setState(0x3a69, 0x8d29, 0x3940, 0x2e6a, 0x79dd, 0xb910, 0x0, 0x1);
        gbc.writeMem(0x3a69, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8d29);
        EXPECT(gbc.pc(), 0x3a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0051
        gbc.setState(0x8dff, 0x1c52, 0x6290, 0xf026, 0xaae1, 0x7cf8, 0x1, 0x1);
        gbc.writeMem(0x8dff, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1c52);
        EXPECT(gbc.pc(), 0x8e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dff), 0x17);
        // 17 0052
        gbc.setState(0x198d, 0xab19, 0xbf10, 0xbb11, 0xb007, 0xab4a, 0x1, 0x0);
        gbc.writeMem(0x198d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xab19);
        EXPECT(gbc.pc(), 0x198e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0053
        gbc.setState(0x4941, 0x6dea, 0xc740, 0xf260, 0x4e8d, 0xe1c4, 0x1, 0x0);
        gbc.writeMem(0x4941, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x6dea);
        EXPECT(gbc.pc(), 0x4942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0054
        gbc.setState(0xb60b, 0x636c, 0xb330, 0xa5bf, 0x11e8, 0x4c81, 0x0, 0x1);
        gbc.writeMem(0xb60b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x636c);
        EXPECT(gbc.pc(), 0xb60c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb60b), 0x17);
        // 17 0055
        gbc.setState(0xe894, 0x15e, 0x5e00, 0x3742, 0x8f7c, 0x8a49, 0x0, 0x0);
        gbc.writeMem(0xe894, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x15e);
        EXPECT(gbc.pc(), 0xe895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe894), 0x17);
        // 17 0056
        gbc.setState(0x946e, 0xcd4e, 0x9d60, 0x3324, 0xe1e8, 0xdb3c, 0x1, 0x0);
        gbc.writeMem(0x946e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xcd4e);
        EXPECT(gbc.pc(), 0x946f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x946e), 0x17);
        // 17 0057
        gbc.setState(0x6e64, 0xc450, 0x8060, 0x70ef, 0xcd74, 0x7f41, 0x0, 0x0);
        gbc.writeMem(0x6e64, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xc450);
        EXPECT(gbc.pc(), 0x6e65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0058
        gbc.setState(0x9c06, 0x8c3c, 0xc3e0, 0xa3cb, 0x7d00, 0xb1d, 0x1, 0x0);
        gbc.writeMem(0x9c06, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8c3c);
        EXPECT(gbc.pc(), 0x9c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c06), 0x17);
        // 17 0059
        gbc.setState(0x4380, 0xc66, 0xec20, 0x40ff, 0xe7ca, 0xf625, 0x0, 0x0);
        gbc.writeMem(0x4380, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc66);
        EXPECT(gbc.pc(), 0x4381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 005A
        gbc.setState(0x8120, 0x396f, 0x9d10, 0x6001, 0x7ce5, 0xdac1, 0x0, 0x1);
        gbc.writeMem(0x8120, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x396f);
        EXPECT(gbc.pc(), 0x8121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8120), 0x17);
        // 17 005B
        gbc.setState(0xca16, 0x4824, 0x8270, 0xe3dc, 0xe953, 0xedf7, 0x0, 0x0);
        gbc.writeMem(0xca16, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x4824);
        EXPECT(gbc.pc(), 0xca17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca16), 0x17);
        // 17 005C
        gbc.setState(0x6a7, 0x4bca, 0xba10, 0x4290, 0x56ff, 0xf35e, 0x1, 0x1);
        gbc.writeMem(0x6a7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4bca);
        EXPECT(gbc.pc(), 0x6a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 005D
        gbc.setState(0x1add, 0x10a2, 0x5fa0, 0x3fe5, 0xb604, 0xd929, 0x0, 0x0);
        gbc.writeMem(0x1add, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x10a2);
        EXPECT(gbc.pc(), 0x1ade);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 005E
        gbc.setState(0x68a0, 0x82e2, 0x2ff0, 0x39d1, 0xa415, 0xc724, 0x1, 0x0);
        gbc.writeMem(0x68a0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x82e2);
        EXPECT(gbc.pc(), 0x68a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 005F
        gbc.setState(0xc005, 0x31b3, 0xffc0, 0xeece, 0xc094, 0x9e4e, 0x0, 0x1);
        gbc.writeMem(0xc005, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x31b3);
        EXPECT(gbc.pc(), 0xc006);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc005), 0x17);
        // 17 0061
        gbc.setState(0x54fc, 0x8079, 0xc6a0, 0x82dc, 0x6f05, 0xa51e, 0x0, 0x1);
        gbc.writeMem(0x54fc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8079);
        EXPECT(gbc.pc(), 0x54fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0062
        gbc.setState(0x44a7, 0x8381, 0xe290, 0xf6ac, 0x916e, 0xf894, 0x0, 0x0);
        gbc.writeMem(0x44a7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8381);
        EXPECT(gbc.pc(), 0x44a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0063
        gbc.setState(0xd61f, 0x7dc6, 0xe460, 0xbebc, 0x500a, 0xbac0, 0x0, 0x1);
        gbc.writeMem(0xd61f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7dc6);
        EXPECT(gbc.pc(), 0xd620);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd61f), 0x17);
        // 17 0064
        gbc.setState(0xd5f, 0x1f31, 0x80, 0xf72a, 0x8150, 0xb5ad, 0x0, 0x0);
        gbc.writeMem(0xd5f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1f31);
        EXPECT(gbc.pc(), 0xd60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0065
        gbc.setState(0x6e84, 0x5095, 0x74f0, 0x131a, 0xf269, 0xc8ac, 0x0, 0x1);
        gbc.writeMem(0x6e84, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5095);
        EXPECT(gbc.pc(), 0x6e85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0066
        gbc.setState(0xb09f, 0x143b, 0x4340, 0x1e1f, 0x8be9, 0xa284, 0x0, 0x0);
        gbc.writeMem(0xb09f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x143b);
        EXPECT(gbc.pc(), 0xb0a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb09f), 0x17);
        // 17 0067
        gbc.setState(0x6b4e, 0xe7f7, 0x1a90, 0x4aeb, 0x1738, 0x8eb3, 0x1, 0x1);
        gbc.writeMem(0x6b4e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe7f7);
        EXPECT(gbc.pc(), 0x6b4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0068
        gbc.setState(0x7486, 0x595c, 0x1fe0, 0xe23b, 0xd74e, 0x8e75, 0x1, 0x1);
        gbc.writeMem(0x7486, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x595c);
        EXPECT(gbc.pc(), 0x7487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0069
        gbc.setState(0x69a7, 0x7221, 0xf790, 0x7923, 0x7a7c, 0xca07, 0x1, 0x1);
        gbc.writeMem(0x69a7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7221);
        EXPECT(gbc.pc(), 0x69a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 006A
        gbc.setState(0x6779, 0x6555, 0x4030, 0xd4f, 0x1c2c, 0x1af7, 0x0, 0x1);
        gbc.writeMem(0x6779, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6555);
        EXPECT(gbc.pc(), 0x677a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 006B
        gbc.setState(0x6629, 0xab35, 0x3bb0, 0xdd6, 0xd51c, 0x64c9, 0x1, 0x0);
        gbc.writeMem(0x6629, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xab35);
        EXPECT(gbc.pc(), 0x662a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 006C
        gbc.setState(0xab6a, 0x61f7, 0x6f0, 0x7e20, 0x31b, 0x2a3, 0x1, 0x0);
        gbc.writeMem(0xab6a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x61f7);
        EXPECT(gbc.pc(), 0xab6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab6a), 0x17);
        // 17 006D
        gbc.setState(0xea39, 0x37b7, 0x5d80, 0x3110, 0x807, 0xcf6d, 0x0, 0x0);
        gbc.writeMem(0xea39, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x37b7);
        EXPECT(gbc.pc(), 0xea3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea39), 0x17);
        // 17 006F
        gbc.setState(0x6201, 0x8a4c, 0xed00, 0xbce5, 0x4913, 0xce, 0x0, 0x0);
        gbc.writeMem(0x6201, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8a4c);
        EXPECT(gbc.pc(), 0x6202);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0070
        gbc.setState(0x4a2b, 0xa3d4, 0x57b0, 0x390e, 0x6966, 0xc03d, 0x0, 0x1);
        gbc.writeMem(0x4a2b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa3d4);
        EXPECT(gbc.pc(), 0x4a2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0071
        gbc.setState(0xc4ac, 0x45ac, 0xa280, 0x7dbe, 0x9287, 0xee81, 0x1, 0x1);
        gbc.writeMem(0xc4ac, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x45ac);
        EXPECT(gbc.pc(), 0xc4ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4ac), 0x17);
        // 17 0073
        gbc.setState(0x4943, 0xdc34, 0x7b30, 0x3509, 0x55df, 0x6674, 0x0, 0x0);
        gbc.writeMem(0x4943, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xdc34);
        EXPECT(gbc.pc(), 0x4944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0074
        gbc.setState(0x7daf, 0x884a, 0xbce0, 0xcd17, 0xe3ae, 0x2a1f, 0x1, 0x1);
        gbc.writeMem(0x7daf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x884a);
        EXPECT(gbc.pc(), 0x7db0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0075
        gbc.setState(0x3934, 0x85ef, 0x4fc0, 0x9ea8, 0x3e56, 0x762a, 0x0, 0x1);
        gbc.writeMem(0x3934, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x85ef);
        EXPECT(gbc.pc(), 0x3935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0076
        gbc.setState(0x5b9d, 0x9c89, 0x4610, 0x306d, 0xa86f, 0x319a, 0x1, 0x0);
        gbc.writeMem(0x5b9d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9c89);
        EXPECT(gbc.pc(), 0x5b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0077
        gbc.setState(0xb89, 0xdb42, 0x9910, 0x511a, 0x1af6, 0x4c9d, 0x1, 0x0);
        gbc.writeMem(0xb89, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xdb42);
        EXPECT(gbc.pc(), 0xb8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0078
        gbc.setState(0xbd29, 0x1994, 0x8420, 0xd325, 0x2953, 0xd4ce, 0x1, 0x0);
        gbc.writeMem(0xbd29, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x1994);
        EXPECT(gbc.pc(), 0xbd2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd29), 0x17);
        // 17 0079
        gbc.setState(0x9202, 0xb074, 0x7630, 0x2ff8, 0x9f41, 0x2753, 0x1, 0x1);
        gbc.writeMem(0x9202, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb074);
        EXPECT(gbc.pc(), 0x9203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9202), 0x17);
        // 17 007A
        gbc.setState(0xab45, 0xdf37, 0x9ca0, 0xa791, 0xb769, 0x16ca, 0x0, 0x1);
        gbc.writeMem(0xab45, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdf37);
        EXPECT(gbc.pc(), 0xab46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab45), 0x17);
        // 17 007B
        gbc.setState(0x9bb1, 0x876a, 0xdc10, 0xf76, 0x8bcc, 0x87d3, 0x0, 0x1);
        gbc.writeMem(0x9bb1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x876a);
        EXPECT(gbc.pc(), 0x9bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bb1), 0x17);
        // 17 007C
        gbc.setState(0x5ad0, 0x51ef, 0x5740, 0x9a50, 0xa032, 0x48ae, 0x0, 0x0);
        gbc.writeMem(0x5ad0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x51ef);
        EXPECT(gbc.pc(), 0x5ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 007D
        gbc.setState(0x6e01, 0x3144, 0x1000, 0x3281, 0x365e, 0x269f, 0x0, 0x1);
        gbc.writeMem(0x6e01, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3144);
        EXPECT(gbc.pc(), 0x6e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 007E
        gbc.setState(0xd711, 0x46b4, 0x2cb0, 0x4bd5, 0xcc34, 0x8b70, 0x0, 0x1);
        gbc.writeMem(0xd711, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x46b4);
        EXPECT(gbc.pc(), 0xd712);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd711), 0x17);
        // 17 007F
        gbc.setState(0xdb63, 0xb1be, 0x7d60, 0x154c, 0xb3d6, 0x38a3, 0x1, 0x0);
        gbc.writeMem(0xdb63, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb1be);
        EXPECT(gbc.pc(), 0xdb64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb63), 0x17);
        // 17 0080
        gbc.setState(0xe0a5, 0x235f, 0x5ba0, 0xe084, 0x8ee1, 0x846e, 0x0, 0x1);
        gbc.writeMem(0xe0a5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x235f);
        EXPECT(gbc.pc(), 0xe0a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a5), 0x17);
        // 17 0081
        gbc.setState(0xcf03, 0xb04, 0x7530, 0x79dc, 0xc8ba, 0xb9a8, 0x0, 0x1);
        gbc.writeMem(0xcf03, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb04);
        EXPECT(gbc.pc(), 0xcf04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf03), 0x17);
        // 17 0082
        gbc.setState(0xa5c5, 0xf8c8, 0x7860, 0xab42, 0x8b9f, 0xdcf, 0x1, 0x1);
        gbc.writeMem(0xa5c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf8c8);
        EXPECT(gbc.pc(), 0xa5c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5c5), 0x17);
        // 17 0083
        gbc.setState(0xe9d5, 0xcb8f, 0x2a60, 0xe8c9, 0x60a8, 0x3fe7, 0x1, 0x0);
        gbc.writeMem(0xe9d5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xcb8f);
        EXPECT(gbc.pc(), 0xe9d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9d5), 0x17);
        // 17 0084
        gbc.setState(0x3b66, 0x1752, 0xbc90, 0x9ba3, 0x6c74, 0xcfc2, 0x0, 0x0);
        gbc.writeMem(0x3b66, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1752);
        EXPECT(gbc.pc(), 0x3b67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0085
        gbc.setState(0x269c, 0x27d9, 0x3970, 0x3a14, 0x1157, 0x650, 0x0, 0x0);
        gbc.writeMem(0x269c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x27d9);
        EXPECT(gbc.pc(), 0x269d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0086
        gbc.setState(0x1a61, 0xb131, 0x8610, 0x8be3, 0x2201, 0x2eed, 0x0, 0x0);
        gbc.writeMem(0x1a61, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb131);
        EXPECT(gbc.pc(), 0x1a62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0087
        gbc.setState(0x6c20, 0x8d2f, 0x14f0, 0xbd04, 0xf806, 0xeb96, 0x1, 0x0);
        gbc.writeMem(0x6c20, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8d2f);
        EXPECT(gbc.pc(), 0x6c21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0089
        gbc.setState(0xd24f, 0xdad3, 0xe130, 0xc24e, 0xd9e2, 0x9c2f, 0x1, 0x0);
        gbc.writeMem(0xd24f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xdad3);
        EXPECT(gbc.pc(), 0xd250);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd24f), 0x17);
        // 17 008A
        gbc.setState(0x4a3a, 0xc361, 0x5970, 0xcf3d, 0xf827, 0xcc16, 0x0, 0x0);
        gbc.writeMem(0x4a3a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xc361);
        EXPECT(gbc.pc(), 0x4a3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 008B
        gbc.setState(0xe48, 0xe595, 0x2b0, 0xf456, 0xf318, 0x54f3, 0x0, 0x1);
        gbc.writeMem(0xe48, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe595);
        EXPECT(gbc.pc(), 0xe49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 008C
        gbc.setState(0xedf0, 0x267c, 0x9e20, 0x3240, 0x16d7, 0xae37, 0x0, 0x0);
        gbc.writeMem(0xedf0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x267c);
        EXPECT(gbc.pc(), 0xedf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedf0), 0x17);
        // 17 008D
        gbc.setState(0xc89a, 0xef65, 0x6870, 0x3852, 0x7dc0, 0x2e2, 0x0, 0x0);
        gbc.writeMem(0xc89a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xef65);
        EXPECT(gbc.pc(), 0xc89b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89a), 0x17);
        // 17 008E
        gbc.setState(0x5e0b, 0x771e, 0x2eb0, 0x8d61, 0xef72, 0x4a7f, 0x1, 0x1);
        gbc.writeMem(0x5e0b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x771e);
        EXPECT(gbc.pc(), 0x5e0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 008F
        gbc.setState(0xbd22, 0xbabf, 0x2c50, 0x1e90, 0x7b1d, 0x6f0a, 0x0, 0x0);
        gbc.writeMem(0xbd22, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xbabf);
        EXPECT(gbc.pc(), 0xbd23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd22), 0x17);
        // 17 0090
        gbc.setState(0xccdb, 0xd843, 0x34c0, 0x5bc3, 0x8f2e, 0x8b08, 0x1, 0x1);
        gbc.writeMem(0xccdb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xd843);
        EXPECT(gbc.pc(), 0xccdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccdb), 0x17);
        // 17 0091
        gbc.setState(0x641a, 0x2a96, 0x82b0, 0xe367, 0x69b5, 0xbe5e, 0x1, 0x1);
        gbc.writeMem(0x641a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2a96);
        EXPECT(gbc.pc(), 0x641b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0092
        gbc.setState(0x22b8, 0x9f41, 0x6040, 0xc375, 0xa70c, 0xa55d, 0x0, 0x1);
        gbc.writeMem(0x22b8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9f41);
        EXPECT(gbc.pc(), 0x22b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0093
        gbc.setState(0x23f, 0xc9c6, 0xe7e0, 0x9fe0, 0xc80, 0x9fc, 0x1, 0x0);
        gbc.writeMem(0x23f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc9c6);
        EXPECT(gbc.pc(), 0x240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0094
        gbc.setState(0x50a6, 0x7723, 0x2130, 0xefb3, 0x7b8a, 0xe9fd, 0x1, 0x0);
        gbc.writeMem(0x50a6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7723);
        EXPECT(gbc.pc(), 0x50a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0095
        gbc.setState(0xdd04, 0xe275, 0x8f00, 0x732f, 0x8abd, 0xe002, 0x1, 0x1);
        gbc.writeMem(0xdd04, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe275);
        EXPECT(gbc.pc(), 0xdd05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd04), 0x17);
        // 17 0096
        gbc.setState(0x86f4, 0x3ae5, 0x25d0, 0x808e, 0x1a87, 0xf71d, 0x1, 0x1);
        gbc.writeMem(0x86f4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3ae5);
        EXPECT(gbc.pc(), 0x86f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f4), 0x17);
        // 17 0097
        gbc.setState(0xa9b0, 0x820, 0xc8e0, 0xb86e, 0xf97f, 0x96f8, 0x1, 0x0);
        gbc.writeMem(0xa9b0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x820);
        EXPECT(gbc.pc(), 0xa9b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b0), 0x17);
        // 17 0098
        gbc.setState(0xc2fe, 0x2fcc, 0x8dd0, 0x74a1, 0x1c7b, 0xb527, 0x0, 0x0);
        gbc.writeMem(0xc2fe, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2fcc);
        EXPECT(gbc.pc(), 0xc2ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2fe), 0x17);
        // 17 0099
        gbc.setState(0xedce, 0x608b, 0x8070, 0xabb3, 0x2d4b, 0xc059, 0x0, 0x1);
        gbc.writeMem(0xedce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x608b);
        EXPECT(gbc.pc(), 0xedcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedce), 0x17);
        // 17 009A
        gbc.setState(0x5ecb, 0xdf07, 0xb400, 0x3671, 0xc0a5, 0x841b, 0x0, 0x0);
        gbc.writeMem(0x5ecb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xdf07);
        EXPECT(gbc.pc(), 0x5ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 009B
        gbc.setState(0xca66, 0x70ee, 0xca90, 0x6561, 0x46c, 0x1850, 0x1, 0x0);
        gbc.writeMem(0xca66, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x70ee);
        EXPECT(gbc.pc(), 0xca67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca66), 0x17);
        // 17 009C
        gbc.setState(0x62f1, 0x3bb5, 0x270, 0x5be8, 0xe33d, 0x29b7, 0x1, 0x1);
        gbc.writeMem(0x62f1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x3bb5);
        EXPECT(gbc.pc(), 0x62f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 009D
        gbc.setState(0x3a1a, 0xf170, 0x600, 0x2315, 0xe46d, 0x89b9, 0x1, 0x1);
        gbc.writeMem(0x3a1a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf170);
        EXPECT(gbc.pc(), 0x3a1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 009E
        gbc.setState(0x496e, 0xdc57, 0x8530, 0xe9d6, 0x9bdf, 0x4a8c, 0x0, 0x0);
        gbc.writeMem(0x496e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xdc57);
        EXPECT(gbc.pc(), 0x496f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 009F
        gbc.setState(0xc58e, 0x44fa, 0x3920, 0x4ce4, 0xe86b, 0xeaa, 0x1, 0x1);
        gbc.writeMem(0xc58e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x44fa);
        EXPECT(gbc.pc(), 0xc58f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc58e), 0x17);
        // 17 00A0
        gbc.setState(0xe99f, 0x3d81, 0xc900, 0xe20b, 0xa9b2, 0x72da, 0x1, 0x0);
        gbc.writeMem(0xe99f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3d81);
        EXPECT(gbc.pc(), 0xe9a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe99f), 0x17);
        // 17 00A1
        gbc.setState(0x9db0, 0xc051, 0x5dd0, 0x2058, 0x3f92, 0x1dfd, 0x0, 0x0);
        gbc.writeMem(0x9db0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xc051);
        EXPECT(gbc.pc(), 0x9db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9db0), 0x17);
        // 17 00A2
        gbc.setState(0xb4d3, 0x3bf9, 0x4b20, 0x4fea, 0x2ef8, 0xd300, 0x0, 0x0);
        gbc.writeMem(0xb4d3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3bf9);
        EXPECT(gbc.pc(), 0xb4d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d3), 0x17);
        // 17 00A3
        gbc.setState(0x64c8, 0xb1b6, 0x68f0, 0x9573, 0xb526, 0xaac1, 0x0, 0x0);
        gbc.writeMem(0x64c8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb1b6);
        EXPECT(gbc.pc(), 0x64c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00A4
        gbc.setState(0x9835, 0x70eb, 0x8eb0, 0xdd97, 0xe3d6, 0x8716, 0x1, 0x0);
        gbc.writeMem(0x9835, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x70eb);
        EXPECT(gbc.pc(), 0x9836);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9835), 0x17);
        // 17 00A5
        gbc.setState(0xa0fd, 0x37b7, 0xca30, 0x7171, 0x2ed, 0x120, 0x0, 0x0);
        gbc.writeMem(0xa0fd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x37b7);
        EXPECT(gbc.pc(), 0xa0fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0fd), 0x17);
        // 17 00A6
        gbc.setState(0x2449, 0x40f2, 0x5c90, 0xb60c, 0xbe20, 0x7dda, 0x1, 0x0);
        gbc.writeMem(0x2449, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x40f2);
        EXPECT(gbc.pc(), 0x244a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00A7
        gbc.setState(0x5d18, 0xd524, 0xd790, 0xa2d6, 0x803e, 0x21d6, 0x0, 0x1);
        gbc.writeMem(0x5d18, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd524);
        EXPECT(gbc.pc(), 0x5d19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00A8
        gbc.setState(0xd2b8, 0x3433, 0x8fa0, 0xe182, 0x8a42, 0x9eff, 0x0, 0x1);
        gbc.writeMem(0xd2b8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3433);
        EXPECT(gbc.pc(), 0xd2b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2b8), 0x17);
        // 17 00A9
        gbc.setState(0x12d6, 0x7a41, 0x4a0, 0x8e7e, 0x2a91, 0x7404, 0x0, 0x1);
        gbc.writeMem(0x12d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7a41);
        EXPECT(gbc.pc(), 0x12d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00AA
        gbc.setState(0xe2c4, 0x716c, 0xf960, 0x14fb, 0xab9f, 0x44ed, 0x0, 0x1);
        gbc.writeMem(0xe2c4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x716c);
        EXPECT(gbc.pc(), 0xe2c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c4), 0x17);
        // 17 00AB
        gbc.setState(0x7233, 0x6539, 0xc280, 0x163e, 0x5512, 0xb831, 0x0, 0x0);
        gbc.writeMem(0x7233, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6539);
        EXPECT(gbc.pc(), 0x7234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00AD
        gbc.setState(0x2320, 0x3453, 0x4880, 0xb418, 0x49dd, 0xbbba, 0x0, 0x0);
        gbc.writeMem(0x2320, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3453);
        EXPECT(gbc.pc(), 0x2321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00AE
        gbc.setState(0x7e88, 0x9269, 0x53a0, 0xe77d, 0xec5f, 0xbf4d, 0x0, 0x1);
        gbc.writeMem(0x7e88, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9269);
        EXPECT(gbc.pc(), 0x7e89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00AF
        gbc.setState(0x956c, 0x6297, 0x4240, 0x247f, 0xfa14, 0xe4d4, 0x0, 0x0);
        gbc.writeMem(0x956c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6297);
        EXPECT(gbc.pc(), 0x956d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x956c), 0x17);
        // 17 00B1
        gbc.setState(0xab88, 0x6595, 0x6bd0, 0x1499, 0xe1c5, 0xeb77, 0x0, 0x0);
        gbc.writeMem(0xab88, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6595);
        EXPECT(gbc.pc(), 0xab89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab88), 0x17);
        // 17 00B2
        gbc.setState(0x813b, 0x5db5, 0xd9c0, 0x90fd, 0x2c52, 0x65f7, 0x0, 0x1);
        gbc.writeMem(0x813b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5db5);
        EXPECT(gbc.pc(), 0x813c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x813b), 0x17);
        // 17 00B3
        gbc.setState(0xb950, 0x19a8, 0x2450, 0xf01b, 0xe929, 0x4a08, 0x0, 0x1);
        gbc.writeMem(0xb950, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x19a8);
        EXPECT(gbc.pc(), 0xb951);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb950), 0x17);
        // 17 00B4
        gbc.setState(0xab84, 0xb040, 0xfae0, 0x531f, 0xa3fe, 0x1206, 0x0, 0x0);
        gbc.writeMem(0xab84, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb040);
        EXPECT(gbc.pc(), 0xab85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab84), 0x17);
        // 17 00B5
        gbc.setState(0xb177, 0x60d0, 0xf3a0, 0x11d2, 0x1040, 0x1515, 0x1, 0x1);
        gbc.writeMem(0xb177, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x60d0);
        EXPECT(gbc.pc(), 0xb178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb177), 0x17);
        // 17 00B6
        gbc.setState(0xc0e, 0xa341, 0xd900, 0xc91b, 0x2b44, 0xb7d2, 0x0, 0x0);
        gbc.writeMem(0xc0e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa341);
        EXPECT(gbc.pc(), 0xc0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00B7
        gbc.setState(0x29ca, 0xc725, 0x9e10, 0xe21a, 0xc9bb, 0xd62, 0x0, 0x0);
        gbc.writeMem(0x29ca, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc725);
        EXPECT(gbc.pc(), 0x29cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00B8
        gbc.setState(0x43a2, 0x5ab, 0xdbe0, 0xda71, 0x774a, 0x7739, 0x1, 0x1);
        gbc.writeMem(0x43a2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5ab);
        EXPECT(gbc.pc(), 0x43a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00B9
        gbc.setState(0x8446, 0x4ff7, 0x9c80, 0xdd69, 0xbc50, 0x7a95, 0x0, 0x0);
        gbc.writeMem(0x8446, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4ff7);
        EXPECT(gbc.pc(), 0x8447);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8446), 0x17);
        // 17 00BA
        gbc.setState(0xdc9d, 0x1f71, 0x8240, 0xfe35, 0x487e, 0x11c1, 0x1, 0x1);
        gbc.writeMem(0xdc9d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1f71);
        EXPECT(gbc.pc(), 0xdc9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc9d), 0x17);
        // 17 00BB
        gbc.setState(0xbe96, 0xb8fe, 0xb00, 0x4f0d, 0x71b3, 0x2e26, 0x1, 0x0);
        gbc.writeMem(0xbe96, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb8fe);
        EXPECT(gbc.pc(), 0xbe97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe96), 0x17);
        // 17 00BC
        gbc.setState(0x671b, 0x3b16, 0x26b0, 0x7178, 0x3cd0, 0xb0c1, 0x1, 0x0);
        gbc.writeMem(0x671b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3b16);
        EXPECT(gbc.pc(), 0x671c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00BD
        gbc.setState(0x1099, 0x4415, 0x9d50, 0x2774, 0x445a, 0x8279, 0x1, 0x0);
        gbc.writeMem(0x1099, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4415);
        EXPECT(gbc.pc(), 0x109a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00BE
        gbc.setState(0x5e75, 0xaa01, 0xf630, 0x7062, 0x8753, 0x841d, 0x0, 0x1);
        gbc.writeMem(0x5e75, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xaa01);
        EXPECT(gbc.pc(), 0x5e76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00BF
        gbc.setState(0x603c, 0xff55, 0x7650, 0x326f, 0xf2fa, 0x71d6, 0x1, 0x1);
        gbc.writeMem(0x603c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xff55);
        EXPECT(gbc.pc(), 0x603d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00C0
        gbc.setState(0x651, 0xd09c, 0xe10, 0xd5fa, 0xefcc, 0xc46c, 0x1, 0x0);
        gbc.writeMem(0x651, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd09c);
        EXPECT(gbc.pc(), 0x652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00C1
        gbc.setState(0xa917, 0x690a, 0xcf00, 0x75c8, 0xaa19, 0xb158, 0x1, 0x0);
        gbc.writeMem(0xa917, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x690a);
        EXPECT(gbc.pc(), 0xa918);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa917), 0x17);
        // 17 00C2
        gbc.setState(0x97b2, 0xe448, 0x3bc0, 0x47d1, 0x5e70, 0x4fb3, 0x0, 0x1);
        gbc.writeMem(0x97b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe448);
        EXPECT(gbc.pc(), 0x97b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97b2), 0x17);
        // 17 00C3
        gbc.setState(0x90c8, 0x9297, 0x2800, 0xbddd, 0xe10, 0x4ee0, 0x0, 0x1);
        gbc.writeMem(0x90c8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9297);
        EXPECT(gbc.pc(), 0x90c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90c8), 0x17);
        // 17 00C4
        gbc.setState(0x6595, 0xa6ae, 0xe100, 0xb19e, 0x775f, 0x6cbb, 0x1, 0x0);
        gbc.writeMem(0x6595, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa6ae);
        EXPECT(gbc.pc(), 0x6596);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00C5
        gbc.setState(0x3f8b, 0xec19, 0xe4f0, 0xbf50, 0x4c83, 0x823f, 0x0, 0x0);
        gbc.writeMem(0x3f8b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xec19);
        EXPECT(gbc.pc(), 0x3f8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00C6
        gbc.setState(0x1cf6, 0x35c6, 0x6f10, 0xb535, 0x63f5, 0x5e5c, 0x1, 0x0);
        gbc.writeMem(0x1cf6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x35c6);
        EXPECT(gbc.pc(), 0x1cf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00C8
        gbc.setState(0x1ef7, 0xa099, 0x8950, 0xb651, 0xba9c, 0x14f2, 0x1, 0x1);
        gbc.writeMem(0x1ef7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa099);
        EXPECT(gbc.pc(), 0x1ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00C9
        gbc.setState(0x5512, 0x210e, 0x8cb0, 0xb902, 0x50b, 0xedaa, 0x0, 0x0);
        gbc.writeMem(0x5512, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x210e);
        EXPECT(gbc.pc(), 0x5513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00CA
        gbc.setState(0xe1c5, 0x54cf, 0x5bf0, 0x7de5, 0xacaa, 0x5646, 0x0, 0x1);
        gbc.writeMem(0xe1c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x54cf);
        EXPECT(gbc.pc(), 0xe1c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1c5), 0x17);
        // 17 00CB
        gbc.setState(0x3a10, 0x70c3, 0xeeb0, 0xa5c8, 0xb96, 0x9aa6, 0x0, 0x1);
        gbc.writeMem(0x3a10, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x70c3);
        EXPECT(gbc.pc(), 0x3a11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00CC
        gbc.setState(0xe0d8, 0xb6bb, 0x87a0, 0xdf46, 0xc89f, 0x383d, 0x1, 0x1);
        gbc.writeMem(0xe0d8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb6bb);
        EXPECT(gbc.pc(), 0xe0d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0d8), 0x17);
        // 17 00CD
        gbc.setState(0xd7ed, 0xd01d, 0xa500, 0xba37, 0x2b33, 0x199d, 0x0, 0x0);
        gbc.writeMem(0xd7ed, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd01d);
        EXPECT(gbc.pc(), 0xd7ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ed), 0x17);
        // 17 00CE
        gbc.setState(0xa38e, 0x3a9c, 0xfa70, 0xd30c, 0x40f7, 0x72b0, 0x0, 0x0);
        gbc.writeMem(0xa38e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3a9c);
        EXPECT(gbc.pc(), 0xa38f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa38e), 0x17);
        // 17 00CF
        gbc.setState(0x61a3, 0x9446, 0x1aa0, 0xf69f, 0xb022, 0x23a3, 0x1, 0x1);
        gbc.writeMem(0x61a3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9446);
        EXPECT(gbc.pc(), 0x61a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00D0
        gbc.setState(0x7b1f, 0x6688, 0x7720, 0x5359, 0x6b7c, 0x4492, 0x1, 0x0);
        gbc.writeMem(0x7b1f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6688);
        EXPECT(gbc.pc(), 0x7b20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00D1
        gbc.setState(0xaa1a, 0x462f, 0x3460, 0xdf22, 0xf978, 0x62f1, 0x0, 0x1);
        gbc.writeMem(0xaa1a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x462f);
        EXPECT(gbc.pc(), 0xaa1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa1a), 0x17);
        // 17 00D2
        gbc.setState(0xd549, 0x36fd, 0x73e0, 0xa0d8, 0xd9be, 0x12dd, 0x1, 0x1);
        gbc.writeMem(0xd549, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x36fd);
        EXPECT(gbc.pc(), 0xd54a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd549), 0x17);
        // 17 00D4
        gbc.setState(0x292d, 0xcb4a, 0xd60, 0x85e5, 0xe249, 0x6604, 0x0, 0x0);
        gbc.writeMem(0x292d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xcb4a);
        EXPECT(gbc.pc(), 0x292e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00D5
        gbc.setState(0x2f0f, 0x6b43, 0x9990, 0x275d, 0x74da, 0xf54, 0x1, 0x1);
        gbc.writeMem(0x2f0f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6b43);
        EXPECT(gbc.pc(), 0x2f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00D6
        gbc.setState(0xc3d2, 0xe450, 0x3b30, 0xf9a0, 0xdae7, 0xb009, 0x1, 0x0);
        gbc.writeMem(0xc3d2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe450);
        EXPECT(gbc.pc(), 0xc3d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d2), 0x17);
        // 17 00D7
        gbc.setState(0x4ab, 0xf321, 0x3030, 0x68e7, 0x2dab, 0xcf83, 0x1, 0x0);
        gbc.writeMem(0x4ab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xf321);
        EXPECT(gbc.pc(), 0x4ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00D8
        gbc.setState(0xd249, 0xe3c9, 0x1880, 0x7c2d, 0x1436, 0xbef9, 0x1, 0x0);
        gbc.writeMem(0xd249, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe3c9);
        EXPECT(gbc.pc(), 0xd24a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd249), 0x17);
        // 17 00D9
        gbc.setState(0x98be, 0x1152, 0xea70, 0x7fdb, 0x4854, 0x7865, 0x0, 0x0);
        gbc.writeMem(0x98be, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x1152);
        EXPECT(gbc.pc(), 0x98bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98be), 0x17);
        // 17 00DA
        gbc.setState(0x82a2, 0xaec0, 0x13e0, 0x9967, 0xdcd3, 0xd8b5, 0x0, 0x0);
        gbc.writeMem(0x82a2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xaec0);
        EXPECT(gbc.pc(), 0x82a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a2), 0x17);
        // 17 00DC
        gbc.setState(0x32cc, 0x9230, 0x1c90, 0xd4b3, 0xb8b3, 0xc62d, 0x1, 0x0);
        gbc.writeMem(0x32cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9230);
        EXPECT(gbc.pc(), 0x32cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00DD
        gbc.setState(0x41ec, 0x80d5, 0xc680, 0xc06a, 0xfddb, 0x35a6, 0x1, 0x1);
        gbc.writeMem(0x41ec, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x80d5);
        EXPECT(gbc.pc(), 0x41ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00DE
        gbc.setState(0xccf6, 0xa6ac, 0x4180, 0x1ce3, 0x85d3, 0xa34c, 0x0, 0x1);
        gbc.writeMem(0xccf6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa6ac);
        EXPECT(gbc.pc(), 0xccf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccf6), 0x17);
        // 17 00DF
        gbc.setState(0x9b61, 0xf521, 0xdec0, 0xb6fd, 0xa0b0, 0x787f, 0x1, 0x1);
        gbc.writeMem(0x9b61, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf521);
        EXPECT(gbc.pc(), 0x9b62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b61), 0x17);
        // 17 00E0
        gbc.setState(0x5eef, 0x2356, 0x2f00, 0xe623, 0xd229, 0x6831, 0x1, 0x1);
        gbc.writeMem(0x5eef, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x2356);
        EXPECT(gbc.pc(), 0x5ef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00E1
        gbc.setState(0x63ba, 0xbf2e, 0x28e0, 0x9957, 0x855d, 0xe463, 0x0, 0x0);
        gbc.writeMem(0x63ba, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xbf2e);
        EXPECT(gbc.pc(), 0x63bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00E2
        gbc.setState(0xb74b, 0xd09, 0x8490, 0xa8ff, 0xdc24, 0xf8d5, 0x0, 0x0);
        gbc.writeMem(0xb74b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd09);
        EXPECT(gbc.pc(), 0xb74c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb74b), 0x17);
        // 17 00E3
        gbc.setState(0xde4d, 0xabbc, 0x4720, 0x62df, 0xa6c1, 0x8bc, 0x1, 0x1);
        gbc.writeMem(0xde4d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xabbc);
        EXPECT(gbc.pc(), 0xde4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde4d), 0x17);
        // 17 00E4
        gbc.setState(0x6656, 0x30b5, 0xbe80, 0xa25e, 0x19cb, 0x59e2, 0x1, 0x0);
        gbc.writeMem(0x6656, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x30b5);
        EXPECT(gbc.pc(), 0x6657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00E5
        gbc.setState(0xce68, 0x7991, 0x6450, 0xfc1c, 0x515b, 0x9b59, 0x0, 0x0);
        gbc.writeMem(0xce68, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7991);
        EXPECT(gbc.pc(), 0xce69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce68), 0x17);
        // 17 00E6
        gbc.setState(0xbd6b, 0x45ae, 0x1940, 0x44f4, 0x4511, 0x4ff1, 0x1, 0x0);
        gbc.writeMem(0xbd6b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x45ae);
        EXPECT(gbc.pc(), 0xbd6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd6b), 0x17);
        // 17 00E8
        gbc.setState(0x96dc, 0x2fb1, 0x7700, 0x821c, 0xfbd8, 0x2638, 0x0, 0x1);
        gbc.writeMem(0x96dc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2fb1);
        EXPECT(gbc.pc(), 0x96dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96dc), 0x17);
        // 17 00E9
        gbc.setState(0x6da5, 0xfd9f, 0x9080, 0x5e1d, 0xa37f, 0x8418, 0x0, 0x1);
        gbc.writeMem(0x6da5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfd9f);
        EXPECT(gbc.pc(), 0x6da6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00EA
        gbc.setState(0x9df, 0xd04d, 0x4fd0, 0xaed4, 0x7580, 0x3dc1, 0x1, 0x1);
        gbc.writeMem(0x9df, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd04d);
        EXPECT(gbc.pc(), 0x9e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00EB
        gbc.setState(0x83c3, 0xb262, 0xb8d0, 0xf659, 0x229, 0x83ff, 0x1, 0x0);
        gbc.writeMem(0x83c3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xb262);
        EXPECT(gbc.pc(), 0x83c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83c3), 0x17);
        // 17 00EC
        gbc.setState(0x2f76, 0x9efb, 0x1c20, 0x9a19, 0x4ad5, 0xa049, 0x1, 0x1);
        gbc.writeMem(0x2f76, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9efb);
        EXPECT(gbc.pc(), 0x2f77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00EE
        gbc.setState(0x549, 0x558b, 0x8070, 0x8b93, 0xa4d3, 0x4a92, 0x0, 0x0);
        gbc.writeMem(0x549, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x558b);
        EXPECT(gbc.pc(), 0x54a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00EF
        gbc.setState(0x75b9, 0x349e, 0x7a60, 0x1e48, 0x2083, 0x752a, 0x0, 0x1);
        gbc.writeMem(0x75b9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x349e);
        EXPECT(gbc.pc(), 0x75ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00F0
        gbc.setState(0xb602, 0x77f2, 0x65a0, 0x2dd2, 0xec14, 0x1aa3, 0x1, 0x0);
        gbc.writeMem(0xb602, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x77f2);
        EXPECT(gbc.pc(), 0xb603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb602), 0x17);
        // 17 00F1
        gbc.setState(0x524a, 0x205d, 0xd710, 0x81bb, 0x7b81, 0xfb7d, 0x1, 0x0);
        gbc.writeMem(0x524a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x205d);
        EXPECT(gbc.pc(), 0x524b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00F2
        gbc.setState(0xe334, 0x3d00, 0x9bc0, 0xbd5e, 0xdf4a, 0x859b, 0x1, 0x0);
        gbc.writeMem(0xe334, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3d00);
        EXPECT(gbc.pc(), 0xe335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe334), 0x17);
        // 17 00F4
        gbc.setState(0x2113, 0x26fb, 0x95e0, 0x470, 0x31ab, 0x33ef, 0x0, 0x0);
        gbc.writeMem(0x2113, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x26fb);
        EXPECT(gbc.pc(), 0x2114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00F5
        gbc.setState(0x3166, 0xcc14, 0x1a30, 0x722f, 0x6987, 0x7d65, 0x1, 0x0);
        gbc.writeMem(0x3166, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xcc14);
        EXPECT(gbc.pc(), 0x3167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00F6
        gbc.setState(0x3bd4, 0x954a, 0x670, 0x85d9, 0x440c, 0x164c, 0x1, 0x1);
        gbc.writeMem(0x3bd4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x954a);
        EXPECT(gbc.pc(), 0x3bd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 00F7
        gbc.setState(0x959e, 0x7fb4, 0x7560, 0x3000, 0xb44a, 0x898c, 0x1, 0x1);
        gbc.writeMem(0x959e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7fb4);
        EXPECT(gbc.pc(), 0x959f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x959e), 0x17);
        // 17 00F8
        gbc.setState(0xa834, 0xf98e, 0xe240, 0x592d, 0xfddd, 0xf1a3, 0x0, 0x1);
        gbc.writeMem(0xa834, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf98e);
        EXPECT(gbc.pc(), 0xa835);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa834), 0x17);
        // 17 00F9
        gbc.setState(0x7ada, 0x6b3b, 0xeb50, 0x4abb, 0xb9b7, 0xa50a, 0x1, 0x1);
        gbc.writeMem(0x7ada, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6b3b);
        EXPECT(gbc.pc(), 0x7adb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00FA
        gbc.setState(0xa00f, 0x3896, 0xd9f0, 0x4a4a, 0x736a, 0xd835, 0x1, 0x0);
        gbc.writeMem(0xa00f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3896);
        EXPECT(gbc.pc(), 0xa010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa00f), 0x17);
        // 17 00FB
        gbc.setState(0x4e80, 0x7105, 0xd900, 0xf752, 0xe97b, 0x371a, 0x1, 0x0);
        gbc.writeMem(0x4e80, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7105);
        EXPECT(gbc.pc(), 0x4e81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00FC
        gbc.setState(0x7f92, 0xb049, 0x85e0, 0x80c4, 0x434a, 0x2650, 0x0, 0x0);
        gbc.writeMem(0x7f92, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb049);
        EXPECT(gbc.pc(), 0x7f93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 00FD
        gbc.setState(0xc92b, 0x23a9, 0x44f0, 0x55bc, 0x408e, 0x492e, 0x0, 0x0);
        gbc.writeMem(0xc92b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x23a9);
        EXPECT(gbc.pc(), 0xc92c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc92b), 0x17);
        // 17 00FE
        gbc.setState(0xadc1, 0x5a53, 0xe70, 0x945c, 0x9abd, 0x1685, 0x0, 0x0);
        gbc.writeMem(0xadc1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5a53);
        EXPECT(gbc.pc(), 0xadc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadc1), 0x17);
        // 17 00FF
        gbc.setState(0xa397, 0xa13, 0xd010, 0xba9d, 0x58fd, 0x7eec, 0x1, 0x1);
        gbc.writeMem(0xa397, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa13);
        EXPECT(gbc.pc(), 0xa398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa397), 0x17);
        // 17 0100
        gbc.setState(0x4738, 0xb693, 0xcae0, 0xa580, 0xdc91, 0xb16e, 0x1, 0x0);
        gbc.writeMem(0x4738, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb693);
        EXPECT(gbc.pc(), 0x4739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0101
        gbc.setState(0x53d6, 0x99a5, 0xb230, 0x4356, 0x4088, 0xdab1, 0x0, 0x1);
        gbc.writeMem(0x53d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x99a5);
        EXPECT(gbc.pc(), 0x53d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0102
        gbc.setState(0x67b9, 0x6fa9, 0xb670, 0x68c4, 0xbd43, 0xe66a, 0x0, 0x0);
        gbc.writeMem(0x67b9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6fa9);
        EXPECT(gbc.pc(), 0x67ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0103
        gbc.setState(0xcd28, 0x7370, 0x2cd0, 0xd186, 0xd8b1, 0xc491, 0x1, 0x1);
        gbc.writeMem(0xcd28, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7370);
        EXPECT(gbc.pc(), 0xcd29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd28), 0x17);
        // 17 0105
        gbc.setState(0x3e27, 0xb032, 0x4660, 0xfba8, 0x92bf, 0xa0ac, 0x1, 0x0);
        gbc.writeMem(0x3e27, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xb032);
        EXPECT(gbc.pc(), 0x3e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0106
        gbc.setState(0x85ae, 0x59b9, 0x72b0, 0x618b, 0x7121, 0x490b, 0x0, 0x0);
        gbc.writeMem(0x85ae, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x59b9);
        EXPECT(gbc.pc(), 0x85af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ae), 0x17);
        // 17 0107
        gbc.setState(0x2290, 0x5771, 0xf230, 0x74c4, 0xe840, 0x314f, 0x1, 0x0);
        gbc.writeMem(0x2290, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x5771);
        EXPECT(gbc.pc(), 0x2291);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0108
        gbc.setState(0x2556, 0xb150, 0x7d40, 0x8318, 0xd65c, 0xcd6b, 0x0, 0x0);
        gbc.writeMem(0x2556, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xb150);
        EXPECT(gbc.pc(), 0x2557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0109
        gbc.setState(0xc669, 0x81e5, 0x45c0, 0x54d8, 0xaba, 0x2807, 0x0, 0x1);
        gbc.writeMem(0xc669, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x81e5);
        EXPECT(gbc.pc(), 0xc66a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc669), 0x17);
        // 17 010A
        gbc.setState(0x14f7, 0x476a, 0xb200, 0xa3f0, 0xe15c, 0x53bc, 0x0, 0x0);
        gbc.writeMem(0x14f7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x476a);
        EXPECT(gbc.pc(), 0x14f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 010B
        gbc.setState(0xc040, 0xa5a2, 0x1cd0, 0x5048, 0x9c5f, 0x1fb4, 0x1, 0x1);
        gbc.writeMem(0xc040, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xa5a2);
        EXPECT(gbc.pc(), 0xc041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc040), 0x17);
        // 17 010C
        gbc.setState(0x4b2d, 0xac97, 0xf820, 0x686a, 0x52cf, 0x569f, 0x1, 0x0);
        gbc.writeMem(0x4b2d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xac97);
        EXPECT(gbc.pc(), 0x4b2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 010D
        gbc.setState(0x8d83, 0x51fb, 0x9020, 0x7e38, 0xb5af, 0xf288, 0x1, 0x1);
        gbc.writeMem(0x8d83, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x51fb);
        EXPECT(gbc.pc(), 0x8d84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d83), 0x17);
        // 17 010F
        gbc.setState(0xc9a3, 0x82fc, 0x7aa0, 0x5245, 0xab65, 0xd503, 0x1, 0x1);
        gbc.writeMem(0xc9a3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x82fc);
        EXPECT(gbc.pc(), 0xc9a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a3), 0x17);
        // 17 0110
        gbc.setState(0xdc99, 0x47cd, 0xc480, 0x4bb8, 0x664, 0xcb9b, 0x1, 0x1);
        gbc.writeMem(0xdc99, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x47cd);
        EXPECT(gbc.pc(), 0xdc9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc99), 0x17);
        // 17 0111
        gbc.setState(0x4e1a, 0x6c4e, 0xefa0, 0x82d3, 0xe31b, 0x1b94, 0x0, 0x1);
        gbc.writeMem(0x4e1a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x6c4e);
        EXPECT(gbc.pc(), 0x4e1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0112
        gbc.setState(0x1075, 0x4dac, 0xf490, 0xd74f, 0x25dd, 0x508c, 0x1, 0x1);
        gbc.writeMem(0x1075, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4dac);
        EXPECT(gbc.pc(), 0x1076);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0113
        gbc.setState(0x5a92, 0xa25, 0x5de0, 0xbf98, 0x3f3f, 0x1c67, 0x0, 0x1);
        gbc.writeMem(0x5a92, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa25);
        EXPECT(gbc.pc(), 0x5a93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0114
        gbc.setState(0xe5bc, 0xa329, 0x7ac0, 0x33c5, 0x4907, 0x4e2a, 0x0, 0x0);
        gbc.writeMem(0xe5bc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa329);
        EXPECT(gbc.pc(), 0xe5bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5bc), 0x17);
        // 17 0115
        gbc.setState(0xb934, 0xfbae, 0x4f70, 0xd048, 0x60b4, 0x6439, 0x1, 0x1);
        gbc.writeMem(0xb934, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xfbae);
        EXPECT(gbc.pc(), 0xb935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb934), 0x17);
        // 17 0116
        gbc.setState(0x7155, 0xbbb4, 0x7af0, 0x105c, 0xc81b, 0x3952, 0x0, 0x1);
        gbc.writeMem(0x7155, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbbb4);
        EXPECT(gbc.pc(), 0x7156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0117
        gbc.setState(0x30e9, 0xc402, 0x3b0, 0x2b6, 0x488d, 0x63dd, 0x0, 0x1);
        gbc.writeMem(0x30e9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc402);
        EXPECT(gbc.pc(), 0x30ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0118
        gbc.setState(0x6777, 0x9a5a, 0x7fe0, 0x384f, 0x25e8, 0xa728, 0x1, 0x1);
        gbc.writeMem(0x6777, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x9a5a);
        EXPECT(gbc.pc(), 0x6778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0119
        gbc.setState(0xb34, 0x284, 0x2ca0, 0x364b, 0x9ef8, 0xd78f, 0x0, 0x1);
        gbc.writeMem(0xb34, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x284);
        EXPECT(gbc.pc(), 0xb35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 011A
        gbc.setState(0xea8, 0x9f3d, 0xed10, 0xcea3, 0x4a1a, 0xc3e0, 0x1, 0x0);
        gbc.writeMem(0xea8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9f3d);
        EXPECT(gbc.pc(), 0xea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 011B
        gbc.setState(0x8b24, 0xe7b3, 0xe790, 0x25a7, 0x23cf, 0xea6, 0x0, 0x1);
        gbc.writeMem(0x8b24, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe7b3);
        EXPECT(gbc.pc(), 0x8b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b24), 0x17);
        // 17 011C
        gbc.setState(0x4079, 0x6d53, 0x58d0, 0x621b, 0x2468, 0xb0be, 0x0, 0x0);
        gbc.writeMem(0x4079, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x6d53);
        EXPECT(gbc.pc(), 0x407a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 011D
        gbc.setState(0x51a7, 0x89b2, 0xe400, 0xe56f, 0xc90, 0xec07, 0x0, 0x1);
        gbc.writeMem(0x51a7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x89b2);
        EXPECT(gbc.pc(), 0x51a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 011E
        gbc.setState(0xd73d, 0x4b33, 0xfae0, 0x9598, 0x380c, 0xbc9b, 0x0, 0x0);
        gbc.writeMem(0xd73d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4b33);
        EXPECT(gbc.pc(), 0xd73e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd73d), 0x17);
        // 17 011F
        gbc.setState(0x8021, 0xbd9f, 0x9e20, 0x8932, 0xa1e6, 0xff43, 0x0, 0x1);
        gbc.writeMem(0x8021, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbd9f);
        EXPECT(gbc.pc(), 0x8022);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8021), 0x17);
        // 17 0120
        gbc.setState(0xe6d9, 0xe75c, 0x2e50, 0xe329, 0x4c07, 0xdc22, 0x0, 0x1);
        gbc.writeMem(0xe6d9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe75c);
        EXPECT(gbc.pc(), 0xe6da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6d9), 0x17);
        // 17 0121
        gbc.setState(0x6f44, 0x40b7, 0x6460, 0x792a, 0xa23b, 0x9418, 0x0, 0x1);
        gbc.writeMem(0x6f44, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x40b7);
        EXPECT(gbc.pc(), 0x6f45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0122
        gbc.setState(0xda4f, 0x77dd, 0xbc30, 0x15f5, 0xe019, 0x7f2b, 0x0, 0x1);
        gbc.writeMem(0xda4f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x77dd);
        EXPECT(gbc.pc(), 0xda50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda4f), 0x17);
        // 17 0123
        gbc.setState(0xca7b, 0x6adb, 0x45a0, 0xa36, 0x1a1b, 0x15b6, 0x0, 0x1);
        gbc.writeMem(0xca7b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6adb);
        EXPECT(gbc.pc(), 0xca7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca7b), 0x17);
        // 17 0125
        gbc.setState(0x4261, 0xb0b3, 0x24c0, 0x98b5, 0x1650, 0x3638, 0x0, 0x0);
        gbc.writeMem(0x4261, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb0b3);
        EXPECT(gbc.pc(), 0x4262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0126
        gbc.setState(0xe997, 0xd7ca, 0xbc30, 0x44ae, 0x5763, 0x8ead, 0x1, 0x0);
        gbc.writeMem(0xe997, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd7ca);
        EXPECT(gbc.pc(), 0xe998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe997), 0x17);
        // 17 0127
        gbc.setState(0x5d6, 0x9cb5, 0xac00, 0xaec7, 0x3ef2, 0x6a33, 0x1, 0x0);
        gbc.writeMem(0x5d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9cb5);
        EXPECT(gbc.pc(), 0x5d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0128
        gbc.setState(0x7903, 0x5664, 0x94e0, 0x6ccd, 0x1dad, 0xcfa9, 0x1, 0x1);
        gbc.writeMem(0x7903, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x5664);
        EXPECT(gbc.pc(), 0x7904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0129
        gbc.setState(0x8c0b, 0x86a7, 0xa390, 0x2dfd, 0x2900, 0x3bd, 0x1, 0x1);
        gbc.writeMem(0x8c0b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x86a7);
        EXPECT(gbc.pc(), 0x8c0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c0b), 0x17);
        // 17 012A
        gbc.setState(0xa362, 0x2ac4, 0x4b20, 0x55d1, 0x4650, 0x4a2c, 0x0, 0x0);
        gbc.writeMem(0xa362, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2ac4);
        EXPECT(gbc.pc(), 0xa363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa362), 0x17);
        // 17 012B
        gbc.setState(0x52a9, 0xe1f1, 0x2440, 0x88ba, 0xb81d, 0x71d9, 0x1, 0x0);
        gbc.writeMem(0x52a9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe1f1);
        EXPECT(gbc.pc(), 0x52aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 012C
        gbc.setState(0xd320, 0x5d4d, 0xede0, 0xf03f, 0x5640, 0xf3d5, 0x0, 0x1);
        gbc.writeMem(0xd320, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5d4d);
        EXPECT(gbc.pc(), 0xd321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd320), 0x17);
        // 17 012D
        gbc.setState(0xefbc, 0x47a5, 0x4e10, 0xe296, 0x8e53, 0xf1c1, 0x1, 0x1);
        gbc.writeMem(0xefbc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x47a5);
        EXPECT(gbc.pc(), 0xefbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbc), 0x17);
        // 17 012E
        gbc.setState(0x8b6b, 0x6031, 0x4c70, 0xef30, 0xdb3c, 0xb972, 0x1, 0x0);
        gbc.writeMem(0x8b6b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6031);
        EXPECT(gbc.pc(), 0x8b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b6b), 0x17);
        // 17 012F
        gbc.setState(0x37e3, 0xe1e2, 0x8780, 0x2de5, 0x3308, 0xcd43, 0x0, 0x1);
        gbc.writeMem(0x37e3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe1e2);
        EXPECT(gbc.pc(), 0x37e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0130
        gbc.setState(0x1dd, 0xdef5, 0x39b0, 0x696f, 0x3385, 0xcffc, 0x1, 0x0);
        gbc.writeMem(0x1dd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdef5);
        EXPECT(gbc.pc(), 0x1de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0131
        gbc.setState(0x9094, 0x4d61, 0x12b0, 0x627b, 0xd758, 0xe507, 0x0, 0x1);
        gbc.writeMem(0x9094, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4d61);
        EXPECT(gbc.pc(), 0x9095);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9094), 0x17);
        // 17 0132
        gbc.setState(0x4c89, 0xb190, 0xb3b0, 0x997, 0xb3c4, 0x1633, 0x0, 0x0);
        gbc.writeMem(0x4c89, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb190);
        EXPECT(gbc.pc(), 0x4c8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0133
        gbc.setState(0x6f33, 0x42ea, 0xba10, 0xfaad, 0x1b02, 0x30, 0x1, 0x1);
        gbc.writeMem(0x6f33, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x42ea);
        EXPECT(gbc.pc(), 0x6f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0135
        gbc.setState(0xa25c, 0x1c9a, 0xc270, 0xd8c0, 0x7835, 0x1f5, 0x1, 0x1);
        gbc.writeMem(0xa25c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1c9a);
        EXPECT(gbc.pc(), 0xa25d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa25c), 0x17);
        // 17 0136
        gbc.setState(0x8b2, 0x6473, 0xad00, 0x488b, 0xdd89, 0xcc60, 0x0, 0x0);
        gbc.writeMem(0x8b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6473);
        EXPECT(gbc.pc(), 0x8b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0137
        gbc.setState(0x727d, 0x7614, 0x9c10, 0xccc4, 0xcb54, 0xa5a7, 0x1, 0x0);
        gbc.writeMem(0x727d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7614);
        EXPECT(gbc.pc(), 0x727e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0138
        gbc.setState(0x621c, 0xf5ac, 0xf020, 0x6930, 0x562b, 0x3c65, 0x1, 0x0);
        gbc.writeMem(0x621c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf5ac);
        EXPECT(gbc.pc(), 0x621d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0139
        gbc.setState(0xca92, 0x26c9, 0xd760, 0x5dfc, 0xafc, 0xe419, 0x1, 0x0);
        gbc.writeMem(0xca92, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x26c9);
        EXPECT(gbc.pc(), 0xca93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca92), 0x17);
        // 17 013A
        gbc.setState(0xb8cb, 0xd1be, 0x20f0, 0x5ce0, 0x4056, 0x1bee, 0x1, 0x1);
        gbc.writeMem(0xb8cb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd1be);
        EXPECT(gbc.pc(), 0xb8cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8cb), 0x17);
        // 17 013B
        gbc.setState(0xbcfd, 0x6d80, 0xd3a0, 0x2ecc, 0xe48b, 0x50e9, 0x0, 0x0);
        gbc.writeMem(0xbcfd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6d80);
        EXPECT(gbc.pc(), 0xbcfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcfd), 0x17);
        // 17 013C
        gbc.setState(0x70a6, 0x39a4, 0x50c0, 0x8d45, 0xce94, 0x910a, 0x0, 0x1);
        gbc.writeMem(0x70a6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x39a4);
        EXPECT(gbc.pc(), 0x70a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 013D
        gbc.setState(0x6f89, 0x2c22, 0x2db0, 0x436c, 0x2800, 0x13d8, 0x1, 0x0);
        gbc.writeMem(0x6f89, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2c22);
        EXPECT(gbc.pc(), 0x6f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 013E
        gbc.setState(0x134b, 0xbb85, 0x9920, 0x265d, 0x3ab4, 0xe0c1, 0x1, 0x0);
        gbc.writeMem(0x134b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbb85);
        EXPECT(gbc.pc(), 0x134c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 013F
        gbc.setState(0x25e2, 0x5c83, 0x66c0, 0x846e, 0x3e5f, 0x9b57, 0x0, 0x0);
        gbc.writeMem(0x25e2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5c83);
        EXPECT(gbc.pc(), 0x25e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0140
        gbc.setState(0x2436, 0xb92, 0xfdf0, 0x39d1, 0x65b6, 0xd6ba, 0x0, 0x0);
        gbc.writeMem(0x2436, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb92);
        EXPECT(gbc.pc(), 0x2437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0141
        gbc.setState(0xa85e, 0x1899, 0x2630, 0xe25f, 0x7981, 0x608b, 0x0, 0x0);
        gbc.writeMem(0xa85e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1899);
        EXPECT(gbc.pc(), 0xa85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85e), 0x17);
        // 17 0142
        gbc.setState(0xb6c5, 0x1ed4, 0x67b0, 0x11b3, 0xbfa2, 0xb5b8, 0x1, 0x0);
        gbc.writeMem(0xb6c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1ed4);
        EXPECT(gbc.pc(), 0xb6c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6c5), 0x17);
        // 17 0143
        gbc.setState(0xb29, 0x251e, 0x6b00, 0x88bd, 0x76ed, 0x2838, 0x0, 0x1);
        gbc.writeMem(0xb29, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x251e);
        EXPECT(gbc.pc(), 0xb2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0144
        gbc.setState(0xcb02, 0x3f80, 0x84c0, 0xd96c, 0x4858, 0xf2e6, 0x1, 0x1);
        gbc.writeMem(0xcb02, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3f80);
        EXPECT(gbc.pc(), 0xcb03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb02), 0x17);
        // 17 0145
        gbc.setState(0x7536, 0x96b2, 0xe3b0, 0x6476, 0x3655, 0xead9, 0x0, 0x0);
        gbc.writeMem(0x7536, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x96b2);
        EXPECT(gbc.pc(), 0x7537);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0146
        gbc.setState(0xdf0, 0xd14, 0x9970, 0x2d5b, 0x7935, 0x7a3e, 0x1, 0x0);
        gbc.writeMem(0xdf0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xd14);
        EXPECT(gbc.pc(), 0xdf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0147
        gbc.setState(0x5682, 0x499d, 0x28b0, 0xa0f6, 0x2dea, 0x9f6e, 0x0, 0x1);
        gbc.writeMem(0x5682, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x499d);
        EXPECT(gbc.pc(), 0x5683);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0148
        gbc.setState(0x2d20, 0x231c, 0xf670, 0x22e, 0x37a7, 0x4feb, 0x1, 0x0);
        gbc.writeMem(0x2d20, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x231c);
        EXPECT(gbc.pc(), 0x2d21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 014A
        gbc.setState(0x2486, 0xb4b0, 0x6230, 0xd014, 0x5711, 0x8551, 0x1, 0x1);
        gbc.writeMem(0x2486, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb4b0);
        EXPECT(gbc.pc(), 0x2487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 014B
        gbc.setState(0x4fc9, 0xca34, 0x2910, 0x9f99, 0x13d2, 0xac88, 0x0, 0x1);
        gbc.writeMem(0x4fc9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xca34);
        EXPECT(gbc.pc(), 0x4fca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 014C
        gbc.setState(0x743f, 0x564f, 0x4e40, 0xbc6, 0x7203, 0x5a4b, 0x0, 0x0);
        gbc.writeMem(0x743f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x564f);
        EXPECT(gbc.pc(), 0x7440);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 014D
        gbc.setState(0xa0e6, 0xde04, 0x38b0, 0xe455, 0x7020, 0x4e41, 0x1, 0x0);
        gbc.writeMem(0xa0e6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xde04);
        EXPECT(gbc.pc(), 0xa0e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e6), 0x17);
        // 17 014E
        gbc.setState(0xaac9, 0x8f49, 0x9ae0, 0xed3d, 0xa9bf, 0xa046, 0x1, 0x1);
        gbc.writeMem(0xaac9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8f49);
        EXPECT(gbc.pc(), 0xaaca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaac9), 0x17);
        // 17 0150
        gbc.setState(0xee3, 0xd8c0, 0xab50, 0xdb8f, 0x15c4, 0x9a37, 0x0, 0x0);
        gbc.writeMem(0xee3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd8c0);
        EXPECT(gbc.pc(), 0xee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0151
        gbc.setState(0xd52e, 0xfcea, 0x8690, 0x8e4e, 0x6931, 0xf529, 0x0, 0x1);
        gbc.writeMem(0xd52e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfcea);
        EXPECT(gbc.pc(), 0xd52f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd52e), 0x17);
        // 17 0152
        gbc.setState(0xaa97, 0xff28, 0x32a0, 0x7615, 0xa284, 0xa4fd, 0x1, 0x0);
        gbc.writeMem(0xaa97, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xff28);
        EXPECT(gbc.pc(), 0xaa98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa97), 0x17);
        // 17 0153
        gbc.setState(0x72c2, 0x890b, 0x6d0, 0x5bc, 0x56d0, 0x6f06, 0x1, 0x1);
        gbc.writeMem(0x72c2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x890b);
        EXPECT(gbc.pc(), 0x72c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0154
        gbc.setState(0xb5c9, 0x393a, 0x6cc0, 0x1c8d, 0x7a9e, 0x6e79, 0x0, 0x1);
        gbc.writeMem(0xb5c9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x393a);
        EXPECT(gbc.pc(), 0xb5ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5c9), 0x17);
        // 17 0155
        gbc.setState(0xa3ba, 0xac1b, 0x71c0, 0xf3a1, 0xda50, 0xbaec, 0x0, 0x1);
        gbc.writeMem(0xa3ba, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xac1b);
        EXPECT(gbc.pc(), 0xa3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ba), 0x17);
        // 17 0156
        gbc.setState(0x609, 0x1079, 0xcdc0, 0xc915, 0xcb61, 0x6178, 0x1, 0x0);
        gbc.writeMem(0x609, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x1079);
        EXPECT(gbc.pc(), 0x60a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0157
        gbc.setState(0x9b08, 0x7331, 0xd970, 0x2d04, 0xfe08, 0x7f2a, 0x0, 0x0);
        gbc.writeMem(0x9b08, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7331);
        EXPECT(gbc.pc(), 0x9b09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b08), 0x17);
        // 17 0158
        gbc.setState(0x2ac5, 0xe6e4, 0xff90, 0x6334, 0x26ea, 0xde5, 0x0, 0x1);
        gbc.writeMem(0x2ac5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xe6e4);
        EXPECT(gbc.pc(), 0x2ac6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0159
        gbc.setState(0x6ae3, 0x1dbc, 0x6cc0, 0x64af, 0x633, 0x6c97, 0x1, 0x0);
        gbc.writeMem(0x6ae3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1dbc);
        EXPECT(gbc.pc(), 0x6ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 015A
        gbc.setState(0xd2dc, 0xf2ae, 0x2030, 0x3e79, 0xbb36, 0xdfa0, 0x1, 0x0);
        gbc.writeMem(0xd2dc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf2ae);
        EXPECT(gbc.pc(), 0xd2dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2dc), 0x17);
        // 17 015B
        gbc.setState(0x119b, 0x7d3, 0xb9a0, 0xb341, 0x9658, 0x360f, 0x1, 0x1);
        gbc.writeMem(0x119b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7d3);
        EXPECT(gbc.pc(), 0x119c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 015C
        gbc.setState(0x9e58, 0x82bd, 0x4310, 0xe4fe, 0x858d, 0xd67d, 0x0, 0x0);
        gbc.writeMem(0x9e58, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x82bd);
        EXPECT(gbc.pc(), 0x9e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e58), 0x17);
        // 17 015D
        gbc.setState(0xe3ae, 0xe9b7, 0x7c50, 0xe9aa, 0x874a, 0x4cf, 0x1, 0x1);
        gbc.writeMem(0xe3ae, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe9b7);
        EXPECT(gbc.pc(), 0xe3af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ae), 0x17);
        // 17 015E
        gbc.setState(0x5d9d, 0x6f16, 0x9630, 0x5704, 0x8865, 0xeb6e, 0x1, 0x0);
        gbc.writeMem(0x5d9d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6f16);
        EXPECT(gbc.pc(), 0x5d9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 015F
        gbc.setState(0xd64a, 0xab61, 0x4090, 0xf50e, 0x89c6, 0xd6f4, 0x0, 0x1);
        gbc.writeMem(0xd64a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xab61);
        EXPECT(gbc.pc(), 0xd64b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd64a), 0x17);
        // 17 0160
        gbc.setState(0x22e6, 0xf265, 0x1520, 0x37ae, 0xd6bd, 0x9746, 0x1, 0x1);
        gbc.writeMem(0x22e6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf265);
        EXPECT(gbc.pc(), 0x22e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0161
        gbc.setState(0x2ab2, 0x5fab, 0x6cb0, 0x2a9f, 0x744c, 0x3025, 0x1, 0x1);
        gbc.writeMem(0x2ab2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5fab);
        EXPECT(gbc.pc(), 0x2ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0162
        gbc.setState(0x488a, 0x23cf, 0xc0a0, 0x2e63, 0x7d5a, 0x979, 0x0, 0x0);
        gbc.writeMem(0x488a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x23cf);
        EXPECT(gbc.pc(), 0x488b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0163
        gbc.setState(0xcf1e, 0xe532, 0xe150, 0x43f6, 0x5538, 0x66be, 0x0, 0x0);
        gbc.writeMem(0xcf1e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe532);
        EXPECT(gbc.pc(), 0xcf1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf1e), 0x17);
        // 17 0164
        gbc.setState(0x6078, 0x3977, 0x4180, 0x118d, 0x9c9f, 0x5a98, 0x0, 0x1);
        gbc.writeMem(0x6078, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3977);
        EXPECT(gbc.pc(), 0x6079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0165
        gbc.setState(0x605, 0x4503, 0xfb40, 0x52e9, 0xc313, 0xdef3, 0x1, 0x1);
        gbc.writeMem(0x605, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4503);
        EXPECT(gbc.pc(), 0x606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0166
        gbc.setState(0xdbe7, 0xb885, 0xb8b0, 0x81bb, 0x577e, 0x29f4, 0x0, 0x1);
        gbc.writeMem(0xdbe7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb885);
        EXPECT(gbc.pc(), 0xdbe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe7), 0x17);
        // 17 0167
        gbc.setState(0xa767, 0x1f5f, 0x6210, 0x2145, 0x6820, 0x108d, 0x0, 0x0);
        gbc.writeMem(0xa767, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x1f5f);
        EXPECT(gbc.pc(), 0xa768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa767), 0x17);
        // 17 0168
        gbc.setState(0x9924, 0xfc90, 0x99b0, 0x844b, 0x5d3d, 0x3c5c, 0x1, 0x1);
        gbc.writeMem(0x9924, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xfc90);
        EXPECT(gbc.pc(), 0x9925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9924), 0x17);
        // 17 0169
        gbc.setState(0x6806, 0x8eb, 0x2a40, 0x50b5, 0x30d9, 0x79b9, 0x0, 0x0);
        gbc.writeMem(0x6806, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x8eb);
        EXPECT(gbc.pc(), 0x6807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 016A
        gbc.setState(0xb98b, 0x91a0, 0xc2b0, 0xab2b, 0x5909, 0x1219, 0x1, 0x0);
        gbc.writeMem(0xb98b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x91a0);
        EXPECT(gbc.pc(), 0xb98c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb98b), 0x17);
        // 17 016B
        gbc.setState(0x7a89, 0x3856, 0x84e0, 0x33ec, 0x14cf, 0x21b, 0x0, 0x0);
        gbc.writeMem(0x7a89, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3856);
        EXPECT(gbc.pc(), 0x7a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 016C
        gbc.setState(0x241d, 0xaf10, 0x3f30, 0x9492, 0xfa9f, 0xdb58, 0x0, 0x0);
        gbc.writeMem(0x241d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xaf10);
        EXPECT(gbc.pc(), 0x241e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 016D
        gbc.setState(0x2854, 0x6aa1, 0x4d0, 0x268c, 0x5985, 0xe79e, 0x0, 0x1);
        gbc.writeMem(0x2854, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6aa1);
        EXPECT(gbc.pc(), 0x2855);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 016E
        gbc.setState(0x528, 0x7112, 0x45e0, 0xde6d, 0xdcce, 0x5217, 0x1, 0x0);
        gbc.writeMem(0x528, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7112);
        EXPECT(gbc.pc(), 0x529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 016F
        gbc.setState(0x2e59, 0x88de, 0x1450, 0xbe7c, 0x156e, 0xbad7, 0x1, 0x0);
        gbc.writeMem(0x2e59, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x88de);
        EXPECT(gbc.pc(), 0x2e5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0170
        gbc.setState(0xdc2f, 0x8954, 0x5710, 0xc530, 0xfe85, 0x4167, 0x1, 0x1);
        gbc.writeMem(0xdc2f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x8954);
        EXPECT(gbc.pc(), 0xdc30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc2f), 0x17);
        // 17 0171
        gbc.setState(0x135a, 0xef86, 0xd240, 0xa719, 0x1241, 0xf260, 0x0, 0x1);
        gbc.writeMem(0x135a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xef86);
        EXPECT(gbc.pc(), 0x135b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0172
        gbc.setState(0x6cae, 0xabb3, 0xc490, 0x5b92, 0xafcd, 0x6e10, 0x1, 0x1);
        gbc.writeMem(0x6cae, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xabb3);
        EXPECT(gbc.pc(), 0x6caf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0173
        gbc.setState(0xdcaa, 0x987c, 0x8740, 0x2f08, 0x8e35, 0x9d3d, 0x0, 0x0);
        gbc.writeMem(0xdcaa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x987c);
        EXPECT(gbc.pc(), 0xdcab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcaa), 0x17);
        // 17 0175
        gbc.setState(0x8684, 0xa703, 0xcc30, 0xb858, 0x9d6b, 0x11a8, 0x0, 0x0);
        gbc.writeMem(0x8684, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xa703);
        EXPECT(gbc.pc(), 0x8685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8684), 0x17);
        // 17 0176
        gbc.setState(0x2c8e, 0x22ce, 0xac0, 0xda93, 0xccf0, 0x7d8c, 0x1, 0x0);
        gbc.writeMem(0x2c8e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x22ce);
        EXPECT(gbc.pc(), 0x2c8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0177
        gbc.setState(0xef47, 0x3c1b, 0xa380, 0xd7d5, 0x52ef, 0xd52b, 0x1, 0x1);
        gbc.writeMem(0xef47, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3c1b);
        EXPECT(gbc.pc(), 0xef48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef47), 0x17);
        // 17 0178
        gbc.setState(0x78ce, 0xaa69, 0x9e00, 0x2bde, 0xce7f, 0x4929, 0x1, 0x1);
        gbc.writeMem(0x78ce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xaa69);
        EXPECT(gbc.pc(), 0x78cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0179
        gbc.setState(0x7f93, 0x844c, 0xc1d0, 0xc5e4, 0x4a87, 0xcee9, 0x0, 0x0);
        gbc.writeMem(0x7f93, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x844c);
        EXPECT(gbc.pc(), 0x7f94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 017A
        gbc.setState(0x6cb2, 0xc330, 0x94f0, 0xe37, 0xedf4, 0x832b, 0x0, 0x0);
        gbc.writeMem(0x6cb2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xc330);
        EXPECT(gbc.pc(), 0x6cb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 017C
        gbc.setState(0x3777, 0x9149, 0x3cf0, 0x8b0c, 0x5db5, 0xdd16, 0x1, 0x1);
        gbc.writeMem(0x3777, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9149);
        EXPECT(gbc.pc(), 0x3778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 017D
        gbc.setState(0x5d76, 0xda75, 0x8890, 0x2b89, 0x9899, 0x1784, 0x0, 0x0);
        gbc.writeMem(0x5d76, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xda75);
        EXPECT(gbc.pc(), 0x5d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 017E
        gbc.setState(0xa83a, 0xa0dd, 0x9ba0, 0xce78, 0x91f8, 0x70be, 0x1, 0x0);
        gbc.writeMem(0xa83a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa0dd);
        EXPECT(gbc.pc(), 0xa83b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa83a), 0x17);
        // 17 017F
        gbc.setState(0xa3db, 0xc969, 0xe4e0, 0xe89f, 0xd895, 0x789f, 0x0, 0x1);
        gbc.writeMem(0xa3db, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc969);
        EXPECT(gbc.pc(), 0xa3dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3db), 0x17);
        // 17 0180
        gbc.setState(0x6b0b, 0xf8ef, 0xfad0, 0xa936, 0xa2c0, 0x9dbf, 0x1, 0x1);
        gbc.writeMem(0x6b0b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf8ef);
        EXPECT(gbc.pc(), 0x6b0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0181
        gbc.setState(0x34a6, 0x38b, 0x16d0, 0x7f68, 0xd311, 0xb5a6, 0x0, 0x0);
        gbc.writeMem(0x34a6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x38b);
        EXPECT(gbc.pc(), 0x34a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0182
        gbc.setState(0x61e4, 0x4a9d, 0x36d0, 0x83ba, 0xc94b, 0x2cd6, 0x0, 0x0);
        gbc.writeMem(0x61e4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4a9d);
        EXPECT(gbc.pc(), 0x61e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0183
        gbc.setState(0x4f1c, 0xbda1, 0xeb10, 0xbd84, 0x36d2, 0xf72, 0x0, 0x0);
        gbc.writeMem(0x4f1c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xbda1);
        EXPECT(gbc.pc(), 0x4f1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0185
        gbc.setState(0x3a20, 0xaa4a, 0xbdb0, 0xeba7, 0x9560, 0xd3fa, 0x0, 0x1);
        gbc.writeMem(0x3a20, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xaa4a);
        EXPECT(gbc.pc(), 0x3a21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0186
        gbc.setState(0xbb9f, 0x2ac8, 0xbb00, 0x4bfb, 0x8701, 0x8af, 0x1, 0x0);
        gbc.writeMem(0xbb9f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2ac8);
        EXPECT(gbc.pc(), 0xbba0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb9f), 0x17);
        // 17 0187
        gbc.setState(0xc374, 0x33e9, 0x8e70, 0x32e0, 0x7fea, 0xeb66, 0x0, 0x0);
        gbc.writeMem(0xc374, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x33e9);
        EXPECT(gbc.pc(), 0xc375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc374), 0x17);
        // 17 0188
        gbc.setState(0xc9dd, 0xa73a, 0xf860, 0x3969, 0x77cf, 0xbb7c, 0x0, 0x1);
        gbc.writeMem(0xc9dd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa73a);
        EXPECT(gbc.pc(), 0xc9de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9dd), 0x17);
        // 17 0189
        gbc.setState(0x8fe3, 0xc932, 0x6d30, 0x3e6a, 0xa028, 0xcf86, 0x1, 0x1);
        gbc.writeMem(0x8fe3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc932);
        EXPECT(gbc.pc(), 0x8fe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe3), 0x17);
        // 17 018A
        gbc.setState(0x3f00, 0x7fd, 0x49d0, 0x831d, 0x2a9a, 0xa1e, 0x1, 0x0);
        gbc.writeMem(0x3f00, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7fd);
        EXPECT(gbc.pc(), 0x3f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 018B
        gbc.setState(0x2345, 0xc66e, 0x90f0, 0x1da2, 0x77fa, 0x20d3, 0x0, 0x0);
        gbc.writeMem(0x2345, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xc66e);
        EXPECT(gbc.pc(), 0x2346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 018C
        gbc.setState(0x4a49, 0x8681, 0x7560, 0x280d, 0x31e6, 0x1a43, 0x1, 0x1);
        gbc.writeMem(0x4a49, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8681);
        EXPECT(gbc.pc(), 0x4a4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 018D
        gbc.setState(0x4e, 0x2fc6, 0x28f0, 0x3778, 0x54ac, 0xda96, 0x1, 0x0);
        gbc.writeMem(0x4e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2fc6);
        EXPECT(gbc.pc(), 0x4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 018E
        gbc.setState(0x1df0, 0xdb3f, 0xd8d0, 0x40df, 0x9ba6, 0x705f, 0x1, 0x0);
        gbc.writeMem(0x1df0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdb3f);
        EXPECT(gbc.pc(), 0x1df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 018F
        gbc.setState(0x58e7, 0x3402, 0xddd0, 0xa930, 0x5934, 0x6404, 0x1, 0x1);
        gbc.writeMem(0x58e7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3402);
        EXPECT(gbc.pc(), 0x58e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0190
        gbc.setState(0xb8cd, 0x1f09, 0x6c40, 0xc0a9, 0xcb8b, 0xcc13, 0x0, 0x1);
        gbc.writeMem(0xb8cd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1f09);
        EXPECT(gbc.pc(), 0xb8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8cd), 0x17);
        // 17 0191
        gbc.setState(0xdedc, 0x3a6d, 0x7910, 0xa225, 0x1870, 0xfebc, 0x1, 0x0);
        gbc.writeMem(0xdedc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x3a6d);
        EXPECT(gbc.pc(), 0xdedd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdedc), 0x17);
        // 17 0193
        gbc.setState(0xef64, 0xc791, 0x2070, 0x96d7, 0x61f, 0x282d, 0x1, 0x1);
        gbc.writeMem(0xef64, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc791);
        EXPECT(gbc.pc(), 0xef65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef64), 0x17);
        // 17 0194
        gbc.setState(0xaa56, 0xaa9f, 0xd740, 0x8ac1, 0x1a64, 0x342, 0x1, 0x1);
        gbc.writeMem(0xaa56, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xaa9f);
        EXPECT(gbc.pc(), 0xaa57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa56), 0x17);
        // 17 0195
        gbc.setState(0xde91, 0xc92d, 0x40b0, 0xdda1, 0x378c, 0x76df, 0x1, 0x1);
        gbc.writeMem(0xde91, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc92d);
        EXPECT(gbc.pc(), 0xde92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde91), 0x17);
        // 17 0196
        gbc.setState(0x8d02, 0x7299, 0x3a40, 0x8dde, 0xfa04, 0xa85a, 0x0, 0x0);
        gbc.writeMem(0x8d02, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x7299);
        EXPECT(gbc.pc(), 0x8d03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d02), 0x17);
        // 17 0197
        gbc.setState(0x9c83, 0x9a1f, 0x2c60, 0xc398, 0x4667, 0x34e8, 0x1, 0x0);
        gbc.writeMem(0x9c83, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x9a1f);
        EXPECT(gbc.pc(), 0x9c84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c83), 0x17);
        // 17 0198
        gbc.setState(0xbf51, 0xa95c, 0xbf30, 0xc3cd, 0x8725, 0x33a6, 0x1, 0x1);
        gbc.writeMem(0xbf51, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa95c);
        EXPECT(gbc.pc(), 0xbf52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf51), 0x17);
        // 17 0199
        gbc.setState(0x1912, 0xa62, 0xaec0, 0xd4ef, 0x6928, 0xa35e, 0x0, 0x1);
        gbc.writeMem(0x1912, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa62);
        EXPECT(gbc.pc(), 0x1913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 019A
        gbc.setState(0x79, 0x10d6, 0x2350, 0x72f5, 0x3309, 0x3c4b, 0x1, 0x0);
        gbc.writeMem(0x79, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x10d6);
        EXPECT(gbc.pc(), 0x7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 019B
        gbc.setState(0xd568, 0x79a1, 0x26c0, 0x6aed, 0x3a41, 0xdef6, 0x0, 0x0);
        gbc.writeMem(0xd568, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x79a1);
        EXPECT(gbc.pc(), 0xd569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd568), 0x17);
        // 17 019C
        gbc.setState(0x5a62, 0xf52a, 0x2f60, 0x118f, 0x5332, 0x231, 0x1, 0x1);
        gbc.writeMem(0x5a62, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf52a);
        EXPECT(gbc.pc(), 0x5a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 019E
        gbc.setState(0x3e36, 0xbff8, 0xa4b0, 0xb857, 0xd866, 0x6e4d, 0x1, 0x1);
        gbc.writeMem(0x3e36, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbff8);
        EXPECT(gbc.pc(), 0x3e37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 019F
        gbc.setState(0x6a41, 0x5f96, 0x18c0, 0x88a0, 0xe8f5, 0xc025, 0x0, 0x0);
        gbc.writeMem(0x6a41, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5f96);
        EXPECT(gbc.pc(), 0x6a42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01A0
        gbc.setState(0x7efd, 0x35ee, 0x6470, 0x509c, 0xcd32, 0x490e, 0x0, 0x1);
        gbc.writeMem(0x7efd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x35ee);
        EXPECT(gbc.pc(), 0x7efe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01A1
        gbc.setState(0xc33b, 0xa99, 0xc7c0, 0x7d09, 0x6a51, 0xddcf, 0x1, 0x1);
        gbc.writeMem(0xc33b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xa99);
        EXPECT(gbc.pc(), 0xc33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc33b), 0x17);
        // 17 01A2
        gbc.setState(0xe5b9, 0x5f7f, 0xbb10, 0xd2c0, 0x5161, 0x6318, 0x1, 0x1);
        gbc.writeMem(0xe5b9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x5f7f);
        EXPECT(gbc.pc(), 0xe5ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b9), 0x17);
        // 17 01A3
        gbc.setState(0xe960, 0x1c9f, 0x92c0, 0xddaf, 0x913a, 0x4544, 0x1, 0x1);
        gbc.writeMem(0xe960, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1c9f);
        EXPECT(gbc.pc(), 0xe961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe960), 0x17);
        // 17 01A4
        gbc.setState(0xb811, 0xc7f0, 0x5080, 0x34c7, 0x2f81, 0xbaf0, 0x1, 0x1);
        gbc.writeMem(0xb811, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xc7f0);
        EXPECT(gbc.pc(), 0xb812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb811), 0x17);
        // 17 01A5
        gbc.setState(0xcff1, 0x9267, 0x1620, 0xf457, 0x9509, 0xdfa9, 0x0, 0x0);
        gbc.writeMem(0xcff1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9267);
        EXPECT(gbc.pc(), 0xcff2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcff1), 0x17);
        // 17 01A7
        gbc.setState(0x1930, 0x607a, 0x6e10, 0xcd64, 0x7746, 0xd9cb, 0x1, 0x1);
        gbc.writeMem(0x1930, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x607a);
        EXPECT(gbc.pc(), 0x1931);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01A8
        gbc.setState(0x3591, 0xb945, 0xab50, 0x7ee0, 0xd4f4, 0xf20d, 0x0, 0x0);
        gbc.writeMem(0x3591, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb945);
        EXPECT(gbc.pc(), 0x3592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01AA
        gbc.setState(0x71b6, 0xc7fb, 0xa280, 0x729, 0x3ca9, 0xc740, 0x1, 0x1);
        gbc.writeMem(0x71b6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc7fb);
        EXPECT(gbc.pc(), 0x71b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01AB
        gbc.setState(0xc604, 0xcaf8, 0xc410, 0xc69d, 0x7316, 0x6f44, 0x1, 0x1);
        gbc.writeMem(0xc604, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xcaf8);
        EXPECT(gbc.pc(), 0xc605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc604), 0x17);
        // 17 01AC
        gbc.setState(0x54, 0x4ce9, 0xd1b0, 0x6e8b, 0xf83c, 0x31a3, 0x1, 0x0);
        gbc.writeMem(0x54, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4ce9);
        EXPECT(gbc.pc(), 0x55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01AD
        gbc.setState(0x603, 0xac97, 0x2620, 0x6df7, 0x2ae9, 0x29d9, 0x0, 0x1);
        gbc.writeMem(0x603, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xac97);
        EXPECT(gbc.pc(), 0x604);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01AE
        gbc.setState(0x9141, 0x900b, 0x5950, 0xd99, 0xaca3, 0x8bc8, 0x0, 0x1);
        gbc.writeMem(0x9141, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x900b);
        EXPECT(gbc.pc(), 0x9142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9141), 0x17);
        // 17 01AF
        gbc.setState(0x8597, 0x97dc, 0x9980, 0x4685, 0x6955, 0xcff7, 0x0, 0x1);
        gbc.writeMem(0x8597, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x97dc);
        EXPECT(gbc.pc(), 0x8598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8597), 0x17);
        // 17 01B0
        gbc.setState(0x7539, 0x43ba, 0xc250, 0xd4a6, 0x6038, 0xcfe6, 0x0, 0x1);
        gbc.writeMem(0x7539, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x43ba);
        EXPECT(gbc.pc(), 0x753a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01B1
        gbc.setState(0x8325, 0x6c78, 0xbdf0, 0xdf7e, 0x6168, 0x63e6, 0x0, 0x0);
        gbc.writeMem(0x8325, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6c78);
        EXPECT(gbc.pc(), 0x8326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8325), 0x17);
        // 17 01B2
        gbc.setState(0x55e3, 0x7054, 0x17f0, 0xbf5, 0xcf99, 0x3948, 0x0, 0x1);
        gbc.writeMem(0x55e3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7054);
        EXPECT(gbc.pc(), 0x55e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01B3
        gbc.setState(0x3448, 0x9405, 0x6bd0, 0x6af9, 0xfc8f, 0x6cb7, 0x0, 0x1);
        gbc.writeMem(0x3448, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9405);
        EXPECT(gbc.pc(), 0x3449);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01B4
        gbc.setState(0x793d, 0x1c9c, 0x2390, 0x3a70, 0xa429, 0xe7ea, 0x1, 0x1);
        gbc.writeMem(0x793d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1c9c);
        EXPECT(gbc.pc(), 0x793e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01B5
        gbc.setState(0x134e, 0x524, 0x3780, 0x4849, 0x9021, 0x9b0c, 0x0, 0x1);
        gbc.writeMem(0x134e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x524);
        EXPECT(gbc.pc(), 0x134f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01B6
        gbc.setState(0xa67a, 0xad76, 0xefe0, 0xe3e, 0x35ef, 0xca55, 0x1, 0x0);
        gbc.writeMem(0xa67a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xad76);
        EXPECT(gbc.pc(), 0xa67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa67a), 0x17);
        // 17 01B7
        gbc.setState(0x1bfa, 0xc570, 0xc8b0, 0x2bb2, 0x2ef7, 0x9487, 0x1, 0x0);
        gbc.writeMem(0x1bfa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc570);
        EXPECT(gbc.pc(), 0x1bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01B8
        gbc.setState(0x3d1a, 0xc79, 0xeaf0, 0xbd0f, 0x940e, 0xf7dd, 0x0, 0x1);
        gbc.writeMem(0x3d1a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc79);
        EXPECT(gbc.pc(), 0x3d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01B9
        gbc.setState(0xa75b, 0x47a0, 0xa0, 0xef3f, 0xeef, 0x9b30, 0x1, 0x0);
        gbc.writeMem(0xa75b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x47a0);
        EXPECT(gbc.pc(), 0xa75c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa75b), 0x17);
        // 17 01BA
        gbc.setState(0x39c0, 0xcaa3, 0xc350, 0x782, 0x3cc6, 0x2238, 0x0, 0x1);
        gbc.writeMem(0x39c0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xcaa3);
        EXPECT(gbc.pc(), 0x39c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01BB
        gbc.setState(0xeb85, 0x6718, 0xc2a0, 0x3a0c, 0x4e03, 0x5a92, 0x0, 0x1);
        gbc.writeMem(0xeb85, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x6718);
        EXPECT(gbc.pc(), 0xeb86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb85), 0x17);
        // 17 01BC
        gbc.setState(0xaf04, 0xaec6, 0x6510, 0x6109, 0xe2a5, 0x8e3a, 0x1, 0x0);
        gbc.writeMem(0xaf04, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xaec6);
        EXPECT(gbc.pc(), 0xaf05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf04), 0x17);
        // 17 01BD
        gbc.setState(0x667c, 0x873e, 0x59a0, 0xb7d, 0x367f, 0xcff1, 0x0, 0x0);
        gbc.writeMem(0x667c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x873e);
        EXPECT(gbc.pc(), 0x667d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01BE
        gbc.setState(0x3e35, 0x1227, 0x6900, 0xacc8, 0xb789, 0x2c7d, 0x1, 0x0);
        gbc.writeMem(0x3e35, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1227);
        EXPECT(gbc.pc(), 0x3e36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01BF
        gbc.setState(0xb969, 0x4ff5, 0x2630, 0xcbc6, 0xb695, 0x3b51, 0x1, 0x0);
        gbc.writeMem(0xb969, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4ff5);
        EXPECT(gbc.pc(), 0xb96a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb969), 0x17);
        // 17 01C0
        gbc.setState(0x6073, 0xbdcd, 0x4170, 0xc8fa, 0xeffe, 0x8c4b, 0x0, 0x0);
        gbc.writeMem(0x6073, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbdcd);
        EXPECT(gbc.pc(), 0x6074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01C1
        gbc.setState(0x2ab0, 0xf919, 0x47d0, 0x4168, 0xe7c6, 0x6d7b, 0x0, 0x0);
        gbc.writeMem(0x2ab0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf919);
        EXPECT(gbc.pc(), 0x2ab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01C2
        gbc.setState(0x456, 0x2812, 0xa040, 0x3810, 0x56e4, 0xdf83, 0x1, 0x0);
        gbc.writeMem(0x456, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2812);
        EXPECT(gbc.pc(), 0x457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01C3
        gbc.setState(0x89ef, 0x28fd, 0xe340, 0x2c3e, 0xd72d, 0x8846, 0x1, 0x1);
        gbc.writeMem(0x89ef, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x28fd);
        EXPECT(gbc.pc(), 0x89f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ef), 0x17);
        // 17 01C4
        gbc.setState(0x4f3a, 0x7f6b, 0xc0f0, 0xb54e, 0x30ac, 0x25a5, 0x1, 0x0);
        gbc.writeMem(0x4f3a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7f6b);
        EXPECT(gbc.pc(), 0x4f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01C5
        gbc.setState(0x2fb8, 0x8962, 0x4060, 0xc2f2, 0x5169, 0xc460, 0x1, 0x1);
        gbc.writeMem(0x2fb8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x8962);
        EXPECT(gbc.pc(), 0x2fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01C6
        gbc.setState(0xac7a, 0x2b64, 0x72d0, 0xd16, 0x64ea, 0xf012, 0x0, 0x0);
        gbc.writeMem(0xac7a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2b64);
        EXPECT(gbc.pc(), 0xac7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac7a), 0x17);
        // 17 01C7
        gbc.setState(0x3b6f, 0xc181, 0xe0c0, 0xacea, 0x3a8f, 0xced6, 0x0, 0x1);
        gbc.writeMem(0x3b6f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc181);
        EXPECT(gbc.pc(), 0x3b70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01C8
        gbc.setState(0xa442, 0x618a, 0x6210, 0x4f77, 0xc562, 0x3ea9, 0x1, 0x1);
        gbc.writeMem(0xa442, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x618a);
        EXPECT(gbc.pc(), 0xa443);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa442), 0x17);
        // 17 01C9
        gbc.setState(0x3b5e, 0xa075, 0xb7f0, 0x390a, 0xc9e8, 0xee21, 0x1, 0x0);
        gbc.writeMem(0x3b5e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xa075);
        EXPECT(gbc.pc(), 0x3b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01CA
        gbc.setState(0xae38, 0xd4e8, 0x10a0, 0xf008, 0xce2e, 0x4155, 0x0, 0x0);
        gbc.writeMem(0xae38, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd4e8);
        EXPECT(gbc.pc(), 0xae39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae38), 0x17);
        // 17 01CB
        gbc.setState(0x4d37, 0x228d, 0xd6f0, 0x1add, 0x9ed1, 0x14eb, 0x0, 0x1);
        gbc.writeMem(0x4d37, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x228d);
        EXPECT(gbc.pc(), 0x4d38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01CC
        gbc.setState(0x6622, 0x9dff, 0x2120, 0x1b9a, 0x2557, 0xe46, 0x1, 0x1);
        gbc.writeMem(0x6622, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9dff);
        EXPECT(gbc.pc(), 0x6623);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01CD
        gbc.setState(0xb347, 0x8e53, 0xfcd0, 0x66c8, 0x6664, 0x9ac1, 0x1, 0x1);
        gbc.writeMem(0xb347, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8e53);
        EXPECT(gbc.pc(), 0xb348);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb347), 0x17);
        // 17 01CE
        gbc.setState(0xd750, 0xe4ad, 0x7320, 0x8b4d, 0x3093, 0x5402, 0x0, 0x1);
        gbc.writeMem(0xd750, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe4ad);
        EXPECT(gbc.pc(), 0xd751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd750), 0x17);
        // 17 01CF
        gbc.setState(0xbbb0, 0x8af6, 0x2250, 0x28ea, 0x24bc, 0x24ca, 0x1, 0x0);
        gbc.writeMem(0xbbb0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x8af6);
        EXPECT(gbc.pc(), 0xbbb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbb0), 0x17);
        // 17 01D0
        gbc.setState(0xd8e4, 0xed68, 0xc8b0, 0xf044, 0x8565, 0xf60d, 0x0, 0x1);
        gbc.writeMem(0xd8e4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xed68);
        EXPECT(gbc.pc(), 0xd8e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e4), 0x17);
        // 17 01D1
        gbc.setState(0x52ab, 0xa49f, 0x2a00, 0x3fb7, 0x1219, 0xb8c3, 0x0, 0x1);
        gbc.writeMem(0x52ab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa49f);
        EXPECT(gbc.pc(), 0x52ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01D2
        gbc.setState(0x3584, 0x250c, 0x9f0, 0xbaf0, 0x6b8b, 0x12e7, 0x0, 0x1);
        gbc.writeMem(0x3584, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x250c);
        EXPECT(gbc.pc(), 0x3585);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01D6
        gbc.setState(0x60da, 0xd2da, 0x6560, 0xc2dd, 0xdf09, 0xcbfa, 0x0, 0x1);
        gbc.writeMem(0x60da, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd2da);
        EXPECT(gbc.pc(), 0x60db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01D7
        gbc.setState(0x59ac, 0x3bfd, 0x3b30, 0xe0a4, 0xc4fa, 0x5e27, 0x1, 0x1);
        gbc.writeMem(0x59ac, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3bfd);
        EXPECT(gbc.pc(), 0x59ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01D8
        gbc.setState(0xeeeb, 0x4375, 0xf130, 0xf77e, 0xa966, 0x233c, 0x0, 0x0);
        gbc.writeMem(0xeeeb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4375);
        EXPECT(gbc.pc(), 0xeeec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeeb), 0x17);
        // 17 01D9
        gbc.setState(0xc404, 0xe30, 0xd210, 0xff75, 0xc246, 0x51b, 0x0, 0x0);
        gbc.writeMem(0xc404, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe30);
        EXPECT(gbc.pc(), 0xc405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc404), 0x17);
        // 17 01DA
        gbc.setState(0xae46, 0xee27, 0x12e0, 0x3ee6, 0xad53, 0xcbb2, 0x0, 0x1);
        gbc.writeMem(0xae46, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xee27);
        EXPECT(gbc.pc(), 0xae47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae46), 0x17);
        // 17 01DB
        gbc.setState(0x30b2, 0x2ba9, 0xdbd0, 0x537a, 0xf3c, 0x6bd6, 0x1, 0x0);
        gbc.writeMem(0x30b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2ba9);
        EXPECT(gbc.pc(), 0x30b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01DC
        gbc.setState(0x80af, 0x1825, 0xee20, 0x9439, 0xfb94, 0xc550, 0x1, 0x1);
        gbc.writeMem(0x80af, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1825);
        EXPECT(gbc.pc(), 0x80b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80af), 0x17);
        // 17 01DD
        gbc.setState(0x4218, 0xfa09, 0x9d60, 0xf381, 0xd2cd, 0x6e38, 0x0, 0x0);
        gbc.writeMem(0x4218, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfa09);
        EXPECT(gbc.pc(), 0x4219);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01DE
        gbc.setState(0xb90a, 0x59e, 0x9210, 0x847d, 0x8a34, 0x7b61, 0x1, 0x1);
        gbc.writeMem(0xb90a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x59e);
        EXPECT(gbc.pc(), 0xb90b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb90a), 0x17);
        // 17 01DF
        gbc.setState(0x5239, 0x7ac7, 0xc1b0, 0x26f4, 0x50c3, 0x2bf7, 0x0, 0x1);
        gbc.writeMem(0x5239, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x7ac7);
        EXPECT(gbc.pc(), 0x523a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01E0
        gbc.setState(0x6c76, 0x69, 0xc110, 0x7ca1, 0xcc12, 0x2a62, 0x1, 0x1);
        gbc.writeMem(0x6c76, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x69);
        EXPECT(gbc.pc(), 0x6c77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01E1
        gbc.setState(0xefdc, 0xe7c5, 0x1b40, 0x270b, 0xac11, 0x2b31, 0x0, 0x0);
        gbc.writeMem(0xefdc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe7c5);
        EXPECT(gbc.pc(), 0xefdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefdc), 0x17);
        // 17 01E2
        gbc.setState(0x30e, 0xba9, 0x7090, 0x88aa, 0x7edd, 0x6e7, 0x0, 0x0);
        gbc.writeMem(0x30e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xba9);
        EXPECT(gbc.pc(), 0x30f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01E3
        gbc.setState(0x17ed, 0x93fb, 0xf870, 0x4061, 0x62db, 0xecb3, 0x1, 0x1);
        gbc.writeMem(0x17ed, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x93fb);
        EXPECT(gbc.pc(), 0x17ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01E5
        gbc.setState(0x6621, 0x4c5a, 0x1d90, 0xf10, 0x9f50, 0x8e09, 0x1, 0x0);
        gbc.writeMem(0x6621, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4c5a);
        EXPECT(gbc.pc(), 0x6622);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01E6
        gbc.setState(0x297f, 0xe726, 0xe230, 0x67ba, 0xba6f, 0xca41, 0x0, 0x1);
        gbc.writeMem(0x297f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe726);
        EXPECT(gbc.pc(), 0x2980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01E8
        gbc.setState(0x4d6c, 0xa0b5, 0x9f40, 0x4526, 0xce45, 0xde6c, 0x0, 0x0);
        gbc.writeMem(0x4d6c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa0b5);
        EXPECT(gbc.pc(), 0x4d6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01E9
        gbc.setState(0x427b, 0xd232, 0xc680, 0xd8f2, 0x883d, 0x8b3d, 0x0, 0x0);
        gbc.writeMem(0x427b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd232);
        EXPECT(gbc.pc(), 0x427c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01EA
        gbc.setState(0x983e, 0x7a7a, 0xcd40, 0x319c, 0x9563, 0x5599, 0x0, 0x1);
        gbc.writeMem(0x983e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7a7a);
        EXPECT(gbc.pc(), 0x983f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x983e), 0x17);
        // 17 01EB
        gbc.setState(0x63b1, 0x50db, 0x210, 0xc327, 0xf573, 0x5ce4, 0x0, 0x0);
        gbc.writeMem(0x63b1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x50db);
        EXPECT(gbc.pc(), 0x63b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01EC
        gbc.setState(0x3258, 0xf183, 0x8c0, 0x403, 0x8d50, 0x8721, 0x0, 0x0);
        gbc.writeMem(0x3258, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf183);
        EXPECT(gbc.pc(), 0x3259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01ED
        gbc.setState(0xc5e6, 0xc002, 0xd6f0, 0xa305, 0x6e67, 0x51b0, 0x1, 0x0);
        gbc.writeMem(0xc5e6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc002);
        EXPECT(gbc.pc(), 0xc5e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5e6), 0x17);
        // 17 01EE
        gbc.setState(0xa136, 0x6101, 0x4870, 0xf8f4, 0xaa07, 0x8f3a, 0x1, 0x0);
        gbc.writeMem(0xa136, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6101);
        EXPECT(gbc.pc(), 0xa137);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa136), 0x17);
        // 17 01EF
        gbc.setState(0x843b, 0x6091, 0x55f0, 0x85cf, 0x2f4c, 0xa977, 0x0, 0x1);
        gbc.writeMem(0x843b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6091);
        EXPECT(gbc.pc(), 0x843c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x843b), 0x17);
        // 17 01F0
        gbc.setState(0xa404, 0xf97f, 0xaee0, 0x5f72, 0xc037, 0xf292, 0x1, 0x0);
        gbc.writeMem(0xa404, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf97f);
        EXPECT(gbc.pc(), 0xa405);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa404), 0x17);
        // 17 01F1
        gbc.setState(0x1367, 0xd4ec, 0x7810, 0x3c04, 0xab89, 0x1b74, 0x1, 0x1);
        gbc.writeMem(0x1367, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd4ec);
        EXPECT(gbc.pc(), 0x1368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01F2
        gbc.setState(0x719f, 0x7119, 0xec30, 0xd11a, 0x7f89, 0xebd0, 0x1, 0x1);
        gbc.writeMem(0x719f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7119);
        EXPECT(gbc.pc(), 0x71a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01F3
        gbc.setState(0x1ea3, 0x3936, 0xdb60, 0xebb2, 0x1ea5, 0x4276, 0x0, 0x0);
        gbc.writeMem(0x1ea3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3936);
        EXPECT(gbc.pc(), 0x1ea4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01F4
        gbc.setState(0x6ff2, 0x2c1b, 0x69a0, 0x996d, 0x3c90, 0x1614, 0x1, 0x1);
        gbc.writeMem(0x6ff2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2c1b);
        EXPECT(gbc.pc(), 0x6ff3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01F5
        gbc.setState(0x6e58, 0x315b, 0xddc0, 0x1f82, 0x8a6e, 0x3023, 0x1, 0x1);
        gbc.writeMem(0x6e58, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x315b);
        EXPECT(gbc.pc(), 0x6e59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01F6
        gbc.setState(0x1aeb, 0x3910, 0x9010, 0x1fbc, 0x3db6, 0x1e2, 0x0, 0x1);
        gbc.writeMem(0x1aeb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x3910);
        EXPECT(gbc.pc(), 0x1aec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01F7
        gbc.setState(0x95aa, 0xc7b, 0x21f0, 0x7f71, 0x6ebc, 0x6669, 0x0, 0x1);
        gbc.writeMem(0x95aa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc7b);
        EXPECT(gbc.pc(), 0x95ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95aa), 0x17);
        // 17 01F8
        gbc.setState(0x31cb, 0xf513, 0x7ec0, 0xd061, 0x74a8, 0xb56b, 0x1, 0x1);
        gbc.writeMem(0x31cb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf513);
        EXPECT(gbc.pc(), 0x31cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 01F9
        gbc.setState(0xeb3, 0x4110, 0xb900, 0x978e, 0x177b, 0x683c, 0x1, 0x0);
        gbc.writeMem(0xeb3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4110);
        EXPECT(gbc.pc(), 0xeb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01FA
        gbc.setState(0x8977, 0x199b, 0x4860, 0x6547, 0x92ce, 0xaf5d, 0x0, 0x0);
        gbc.writeMem(0x8977, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x199b);
        EXPECT(gbc.pc(), 0x8978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8977), 0x17);
        // 17 01FB
        gbc.setState(0x585f, 0xf93b, 0xd8f0, 0x691c, 0xa515, 0xc51a, 0x1, 0x0);
        gbc.writeMem(0x585f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf93b);
        EXPECT(gbc.pc(), 0x5860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01FC
        gbc.setState(0x5d17, 0x5293, 0xcab0, 0xb9ce, 0xb481, 0xa561, 0x0, 0x1);
        gbc.writeMem(0x5d17, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5293);
        EXPECT(gbc.pc(), 0x5d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01FD
        gbc.setState(0x2f82, 0x9d3d, 0xe350, 0xce4d, 0xe14, 0x62a6, 0x0, 0x1);
        gbc.writeMem(0x2f82, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9d3d);
        EXPECT(gbc.pc(), 0x2f83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 01FE
        gbc.setState(0x86a6, 0xd5ac, 0x22f0, 0x5deb, 0xa44, 0xd107, 0x0, 0x0);
        gbc.writeMem(0x86a6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xd5ac);
        EXPECT(gbc.pc(), 0x86a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86a6), 0x17);
        // 17 01FF
        gbc.setState(0x489b, 0xb8f9, 0x1f30, 0x590d, 0x87e3, 0x18cc, 0x1, 0x0);
        gbc.writeMem(0x489b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb8f9);
        EXPECT(gbc.pc(), 0x489c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0200
        gbc.setState(0xdac, 0x322a, 0x9b50, 0xd009, 0x934b, 0x4482, 0x0, 0x1);
        gbc.writeMem(0xdac, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x322a);
        EXPECT(gbc.pc(), 0xdad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0201
        gbc.setState(0xdbf3, 0x7c17, 0xf500, 0xd005, 0xf2e4, 0x760f, 0x1, 0x0);
        gbc.writeMem(0xdbf3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7c17);
        EXPECT(gbc.pc(), 0xdbf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbf3), 0x17);
        // 17 0202
        gbc.setState(0x903f, 0x13a2, 0x9ce0, 0xafb9, 0xc12b, 0xdd0c, 0x1, 0x0);
        gbc.writeMem(0x903f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x13a2);
        EXPECT(gbc.pc(), 0x9040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x903f), 0x17);
        // 17 0203
        gbc.setState(0xa7de, 0x1d46, 0x9670, 0x2eff, 0xcc36, 0xe12b, 0x0, 0x0);
        gbc.writeMem(0xa7de, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1d46);
        EXPECT(gbc.pc(), 0xa7df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7de), 0x17);
        // 17 0204
        gbc.setState(0x580e, 0xe6dc, 0x3d0, 0x784a, 0x35db, 0xf2a9, 0x0, 0x1);
        gbc.writeMem(0x580e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe6dc);
        EXPECT(gbc.pc(), 0x580f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0205
        gbc.setState(0xefc, 0x1231, 0x73c0, 0x7569, 0x58af, 0x9450, 0x0, 0x0);
        gbc.writeMem(0xefc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1231);
        EXPECT(gbc.pc(), 0xefd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0206
        gbc.setState(0x8f8e, 0x9b91, 0xa000, 0x7a9d, 0xd56c, 0x7f75, 0x0, 0x1);
        gbc.writeMem(0x8f8e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x9b91);
        EXPECT(gbc.pc(), 0x8f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f8e), 0x17);
        // 17 0207
        gbc.setState(0xafbf, 0x542b, 0x98c0, 0x5133, 0x5808, 0x94a3, 0x1, 0x0);
        gbc.writeMem(0xafbf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x542b);
        EXPECT(gbc.pc(), 0xafc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafbf), 0x17);
        // 17 0208
        gbc.setState(0x69ce, 0x821c, 0x3ad0, 0x7bdb, 0x7c58, 0xb8a9, 0x0, 0x0);
        gbc.writeMem(0x69ce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x821c);
        EXPECT(gbc.pc(), 0x69cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0209
        gbc.setState(0xea97, 0x8c00, 0xd5f0, 0xaafa, 0x8ca, 0x9b04, 0x0, 0x0);
        gbc.writeMem(0xea97, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8c00);
        EXPECT(gbc.pc(), 0xea98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea97), 0x17);
        // 17 020A
        gbc.setState(0x90c7, 0x2b48, 0xc6d0, 0x3361, 0x34be, 0x1e77, 0x1, 0x1);
        gbc.writeMem(0x90c7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x2b48);
        EXPECT(gbc.pc(), 0x90c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c7), 0x17);
        // 17 020B
        gbc.setState(0x384a, 0x13aa, 0x9e20, 0xe05a, 0x1982, 0x5b9f, 0x1, 0x0);
        gbc.writeMem(0x384a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x13aa);
        EXPECT(gbc.pc(), 0x384b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 020D
        gbc.setState(0xdb7b, 0xb8d4, 0xa580, 0xee47, 0x3f0a, 0x8789, 0x0, 0x0);
        gbc.writeMem(0xdb7b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb8d4);
        EXPECT(gbc.pc(), 0xdb7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb7b), 0x17);
        // 17 020E
        gbc.setState(0xade6, 0x8443, 0x9ec0, 0xd47b, 0xff7c, 0xe8f5, 0x1, 0x0);
        gbc.writeMem(0xade6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8443);
        EXPECT(gbc.pc(), 0xade7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xade6), 0x17);
        // 17 020F
        gbc.setState(0x9587, 0x345f, 0x70c0, 0x3ae9, 0xf3d8, 0xbb0b, 0x0, 0x1);
        gbc.writeMem(0x9587, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x345f);
        EXPECT(gbc.pc(), 0x9588);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9587), 0x17);
        // 17 0210
        gbc.setState(0xa72d, 0x287d, 0x5cf0, 0x118e, 0x1dcc, 0xcf31, 0x1, 0x1);
        gbc.writeMem(0xa72d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x287d);
        EXPECT(gbc.pc(), 0xa72e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa72d), 0x17);
        // 17 0211
        gbc.setState(0xd839, 0x53dd, 0xe530, 0x96d4, 0x46f3, 0x12d0, 0x1, 0x0);
        gbc.writeMem(0xd839, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x53dd);
        EXPECT(gbc.pc(), 0xd83a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd839), 0x17);
        // 17 0212
        gbc.setState(0x53b0, 0xab35, 0x8c90, 0xc161, 0xca51, 0x94ce, 0x0, 0x0);
        gbc.writeMem(0x53b0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xab35);
        EXPECT(gbc.pc(), 0x53b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0213
        gbc.setState(0x1f4b, 0xe65e, 0x5510, 0x6678, 0x8b81, 0x98ff, 0x0, 0x0);
        gbc.writeMem(0x1f4b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe65e);
        EXPECT(gbc.pc(), 0x1f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0214
        gbc.setState(0xd71, 0x3723, 0xa460, 0x18d8, 0x259c, 0x7ffa, 0x1, 0x0);
        gbc.writeMem(0xd71, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3723);
        EXPECT(gbc.pc(), 0xd72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0215
        gbc.setState(0x149f, 0xf65a, 0x2d0, 0x3904, 0x112d, 0x6e22, 0x1, 0x1);
        gbc.writeMem(0x149f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf65a);
        EXPECT(gbc.pc(), 0x14a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0216
        gbc.setState(0x6d67, 0x4575, 0x7730, 0x18a4, 0x73aa, 0x1b73, 0x1, 0x0);
        gbc.writeMem(0x6d67, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4575);
        EXPECT(gbc.pc(), 0x6d68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0217
        gbc.setState(0xcbd7, 0xb564, 0x1d00, 0x6b3, 0xa651, 0x8961, 0x1, 0x0);
        gbc.writeMem(0xcbd7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb564);
        EXPECT(gbc.pc(), 0xcbd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbd7), 0x17);
        // 17 0219
        gbc.setState(0x4fd6, 0x2911, 0x62c0, 0x2c98, 0x1f5c, 0xabb3, 0x1, 0x1);
        gbc.writeMem(0x4fd6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2911);
        EXPECT(gbc.pc(), 0x4fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 021A
        gbc.setState(0x9f53, 0x689f, 0xb300, 0x4e2f, 0x2652, 0x3a3, 0x0, 0x1);
        gbc.writeMem(0x9f53, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x689f);
        EXPECT(gbc.pc(), 0x9f54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f53), 0x17);
        // 17 021B
        gbc.setState(0x766e, 0x7eeb, 0x5ed0, 0x4104, 0x24e8, 0xf99d, 0x0, 0x1);
        gbc.writeMem(0x766e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7eeb);
        EXPECT(gbc.pc(), 0x766f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 021C
        gbc.setState(0xc218, 0xcef9, 0xeb30, 0x1b, 0x1a2d, 0x291f, 0x1, 0x1);
        gbc.writeMem(0xc218, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xcef9);
        EXPECT(gbc.pc(), 0xc219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc218), 0x17);
        // 17 021D
        gbc.setState(0x727c, 0xc607, 0x87a0, 0x90ef, 0x3020, 0x31e8, 0x0, 0x0);
        gbc.writeMem(0x727c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc607);
        EXPECT(gbc.pc(), 0x727d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 021E
        gbc.setState(0x9042, 0xc5e7, 0xf2c0, 0xf76e, 0xcbf, 0xc85d, 0x1, 0x0);
        gbc.writeMem(0x9042, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc5e7);
        EXPECT(gbc.pc(), 0x9043);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9042), 0x17);
        // 17 021F
        gbc.setState(0x794f, 0xcffd, 0x9590, 0x12b1, 0x4e99, 0x2a47, 0x1, 0x0);
        gbc.writeMem(0x794f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xcffd);
        EXPECT(gbc.pc(), 0x7950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0221
        gbc.setState(0x196c, 0x132e, 0x2550, 0x782, 0x5a3, 0xb379, 0x0, 0x0);
        gbc.writeMem(0x196c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x132e);
        EXPECT(gbc.pc(), 0x196d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0222
        gbc.setState(0xb6fe, 0xd792, 0xd7c0, 0x1c45, 0x18f7, 0x8528, 0x0, 0x0);
        gbc.writeMem(0xb6fe, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd792);
        EXPECT(gbc.pc(), 0xb6ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6fe), 0x17);
        // 17 0225
        gbc.setState(0x3290, 0xd8d, 0xc100, 0xb47b, 0xa600, 0x95ff, 0x1, 0x1);
        gbc.writeMem(0x3290, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd8d);
        EXPECT(gbc.pc(), 0x3291);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0226
        gbc.setState(0x3e46, 0xd8da, 0xf90, 0xd3e9, 0xc346, 0x6379, 0x0, 0x1);
        gbc.writeMem(0x3e46, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd8da);
        EXPECT(gbc.pc(), 0x3e47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0227
        gbc.setState(0x4d6, 0x8fbf, 0x7970, 0x6ed3, 0x6887, 0xe357, 0x1, 0x0);
        gbc.writeMem(0x4d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x8fbf);
        EXPECT(gbc.pc(), 0x4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0229
        gbc.setState(0xc7c9, 0x49f2, 0xa500, 0x178b, 0xdfb2, 0x9fa4, 0x1, 0x1);
        gbc.writeMem(0xc7c9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x49f2);
        EXPECT(gbc.pc(), 0xc7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7c9), 0x17);
        // 17 022A
        gbc.setState(0xa36c, 0xa49f, 0x1a00, 0x5f86, 0x78a3, 0x6b34, 0x1, 0x1);
        gbc.writeMem(0xa36c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa49f);
        EXPECT(gbc.pc(), 0xa36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa36c), 0x17);
        // 17 022B
        gbc.setState(0x1aff, 0xdfa7, 0xe3a0, 0xc2bd, 0xd761, 0x4d09, 0x0, 0x0);
        gbc.writeMem(0x1aff, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdfa7);
        EXPECT(gbc.pc(), 0x1b00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 022C
        gbc.setState(0x5ef1, 0x8fbc, 0x5490, 0x2b72, 0xc579, 0x5724, 0x0, 0x1);
        gbc.writeMem(0x5ef1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8fbc);
        EXPECT(gbc.pc(), 0x5ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 022D
        gbc.setState(0xa0c0, 0xbad5, 0x12a0, 0x49c3, 0xea1f, 0x4b66, 0x0, 0x0);
        gbc.writeMem(0xa0c0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xbad5);
        EXPECT(gbc.pc(), 0xa0c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c0), 0x17);
        // 17 022E
        gbc.setState(0x2bfa, 0xb9a4, 0x8c70, 0x6c57, 0xe6aa, 0x155a, 0x0, 0x0);
        gbc.writeMem(0x2bfa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb9a4);
        EXPECT(gbc.pc(), 0x2bfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 022F
        gbc.setState(0x3319, 0xef33, 0x9d50, 0x3068, 0x4054, 0xe6d7, 0x1, 0x1);
        gbc.writeMem(0x3319, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xef33);
        EXPECT(gbc.pc(), 0x331a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0230
        gbc.setState(0x2336, 0x29ab, 0x9180, 0x61e, 0x4557, 0x83ac, 0x0, 0x1);
        gbc.writeMem(0x2336, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x29ab);
        EXPECT(gbc.pc(), 0x2337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0231
        gbc.setState(0x41ea, 0x3e49, 0xacd0, 0xcd8d, 0xb6f0, 0xf828, 0x1, 0x0);
        gbc.writeMem(0x41ea, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3e49);
        EXPECT(gbc.pc(), 0x41eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0232
        gbc.setState(0x1066, 0x2d7b, 0xd390, 0x5e1e, 0x2ffd, 0xaf9d, 0x0, 0x1);
        gbc.writeMem(0x1066, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2d7b);
        EXPECT(gbc.pc(), 0x1067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0233
        gbc.setState(0x7fab, 0x660b, 0x70b0, 0xb989, 0x4d24, 0xb8bd, 0x1, 0x1);
        gbc.writeMem(0x7fab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x660b);
        EXPECT(gbc.pc(), 0x7fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0234
        gbc.setState(0x7395, 0xf9ae, 0x5f40, 0x9e21, 0x7a2a, 0x89ca, 0x0, 0x1);
        gbc.writeMem(0x7395, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf9ae);
        EXPECT(gbc.pc(), 0x7396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0235
        gbc.setState(0x9b6a, 0xfa4b, 0x5290, 0x4307, 0x13fe, 0xdf0, 0x1, 0x0);
        gbc.writeMem(0x9b6a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfa4b);
        EXPECT(gbc.pc(), 0x9b6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b6a), 0x17);
        // 17 0236
        gbc.setState(0x10a0, 0x8fee, 0x12f0, 0xb0d9, 0xe9c6, 0x97bb, 0x1, 0x0);
        gbc.writeMem(0x10a0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8fee);
        EXPECT(gbc.pc(), 0x10a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0237
        gbc.setState(0x3855, 0xdf92, 0xc080, 0x152e, 0xbf30, 0xa10c, 0x0, 0x1);
        gbc.writeMem(0x3855, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xdf92);
        EXPECT(gbc.pc(), 0x3856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0238
        gbc.setState(0x4f76, 0x4de8, 0x1f90, 0xc69f, 0x3c9f, 0xccc, 0x1, 0x0);
        gbc.writeMem(0x4f76, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4de8);
        EXPECT(gbc.pc(), 0x4f77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0239
        gbc.setState(0x468e, 0x9fe5, 0xe4f0, 0x5da7, 0x1352, 0x63e9, 0x1, 0x1);
        gbc.writeMem(0x468e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9fe5);
        EXPECT(gbc.pc(), 0x468f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 023A
        gbc.setState(0x7e09, 0xfdb2, 0xd040, 0x7886, 0x9d19, 0x53f5, 0x1, 0x1);
        gbc.writeMem(0x7e09, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xfdb2);
        EXPECT(gbc.pc(), 0x7e0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 023B
        gbc.setState(0x3656, 0x8fee, 0x1080, 0x181f, 0xa9cc, 0x879a, 0x1, 0x1);
        gbc.writeMem(0x3656, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8fee);
        EXPECT(gbc.pc(), 0x3657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 023C
        gbc.setState(0x9fb7, 0xe67b, 0xb2b0, 0xf21, 0x4882, 0x7877, 0x1, 0x1);
        gbc.writeMem(0x9fb7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe67b);
        EXPECT(gbc.pc(), 0x9fb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fb7), 0x17);
        // 17 023E
        gbc.setState(0x4357, 0x9657, 0x78a0, 0xf4d8, 0x42e9, 0x5d18, 0x1, 0x1);
        gbc.writeMem(0x4357, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9657);
        EXPECT(gbc.pc(), 0x4358);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 023F
        gbc.setState(0x919b, 0xf7bd, 0xbc40, 0xe480, 0x152, 0xaf6, 0x0, 0x1);
        gbc.writeMem(0x919b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf7bd);
        EXPECT(gbc.pc(), 0x919c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x919b), 0x17);
        // 17 0240
        gbc.setState(0xae8e, 0xef2c, 0x8e10, 0xb848, 0xa5b2, 0xf2fe, 0x1, 0x0);
        gbc.writeMem(0xae8e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xef2c);
        EXPECT(gbc.pc(), 0xae8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8e), 0x17);
        // 17 0241
        gbc.setState(0x118e, 0xf6bd, 0xf60, 0xd482, 0xf084, 0xa13c, 0x1, 0x0);
        gbc.writeMem(0x118e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf6bd);
        EXPECT(gbc.pc(), 0x118f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0243
        gbc.setState(0x8d9b, 0x6de7, 0xa320, 0x8b7f, 0x3b83, 0x9235, 0x1, 0x0);
        gbc.writeMem(0x8d9b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6de7);
        EXPECT(gbc.pc(), 0x8d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d9b), 0x17);
        // 17 0244
        gbc.setState(0x3d1f, 0x8535, 0xe820, 0x1a3d, 0xaa8f, 0x879d, 0x0, 0x0);
        gbc.writeMem(0x3d1f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x8535);
        EXPECT(gbc.pc(), 0x3d20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0245
        gbc.setState(0x8daa, 0x81f0, 0x3800, 0xcff9, 0x73e0, 0x2962, 0x0, 0x1);
        gbc.writeMem(0x8daa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x81f0);
        EXPECT(gbc.pc(), 0x8dab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8daa), 0x17);
        // 17 0246
        gbc.setState(0xa04e, 0xe543, 0x230, 0x6568, 0x7a6a, 0xb399, 0x1, 0x0);
        gbc.writeMem(0xa04e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe543);
        EXPECT(gbc.pc(), 0xa04f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa04e), 0x17);
        // 17 0247
        gbc.setState(0x29d0, 0x518e, 0x8450, 0xa014, 0x92bc, 0xb779, 0x0, 0x0);
        gbc.writeMem(0x29d0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x518e);
        EXPECT(gbc.pc(), 0x29d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0249
        gbc.setState(0xc2ad, 0xdfb2, 0x52e0, 0x2937, 0x3646, 0xb89f, 0x0, 0x0);
        gbc.writeMem(0xc2ad, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xdfb2);
        EXPECT(gbc.pc(), 0xc2ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ad), 0x17);
        // 17 024A
        gbc.setState(0x59bb, 0x9b75, 0x52a0, 0x6519, 0x63d2, 0xd246, 0x0, 0x1);
        gbc.writeMem(0x59bb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9b75);
        EXPECT(gbc.pc(), 0x59bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 024C
        gbc.setState(0x44a3, 0xc9d8, 0xa850, 0xb4bc, 0xbb51, 0xacf3, 0x1, 0x0);
        gbc.writeMem(0x44a3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc9d8);
        EXPECT(gbc.pc(), 0x44a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 024D
        gbc.setState(0xbee7, 0xea2c, 0xf9b0, 0x165c, 0x2e33, 0xbcf6, 0x0, 0x1);
        gbc.writeMem(0xbee7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xea2c);
        EXPECT(gbc.pc(), 0xbee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbee7), 0x17);
        // 17 024E
        gbc.setState(0x94d9, 0x8051, 0x1100, 0xb403, 0x85b5, 0x559, 0x0, 0x0);
        gbc.writeMem(0x94d9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8051);
        EXPECT(gbc.pc(), 0x94da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d9), 0x17);
        // 17 0250
        gbc.setState(0xb981, 0x8d13, 0x49a0, 0x9d4b, 0x20d4, 0xbf38, 0x1, 0x0);
        gbc.writeMem(0xb981, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8d13);
        EXPECT(gbc.pc(), 0xb982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb981), 0x17);
        // 17 0251
        gbc.setState(0xbe1c, 0xa310, 0x8980, 0xaf77, 0xfa21, 0xa9e2, 0x1, 0x0);
        gbc.writeMem(0xbe1c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa310);
        EXPECT(gbc.pc(), 0xbe1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe1c), 0x17);
        // 17 0252
        gbc.setState(0xd285, 0x6aee, 0x4aa0, 0xd99f, 0xd45c, 0x721a, 0x1, 0x0);
        gbc.writeMem(0xd285, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6aee);
        EXPECT(gbc.pc(), 0xd286);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd285), 0x17);
        // 17 0254
        gbc.setState(0x41e4, 0x8c79, 0xc500, 0x8288, 0xc545, 0x9f2b, 0x0, 0x0);
        gbc.writeMem(0x41e4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8c79);
        EXPECT(gbc.pc(), 0x41e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0255
        gbc.setState(0x4a59, 0xd354, 0x98a0, 0xf508, 0x93d5, 0x8a22, 0x1, 0x0);
        gbc.writeMem(0x4a59, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd354);
        EXPECT(gbc.pc(), 0x4a5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0256
        gbc.setState(0xc09, 0x7280, 0xf5c0, 0xc3b, 0x8510, 0xb4e8, 0x0, 0x1);
        gbc.writeMem(0xc09, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7280);
        EXPECT(gbc.pc(), 0xc0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0257
        gbc.setState(0xe784, 0x3302, 0x7100, 0x8223, 0x8a5e, 0x835b, 0x0, 0x0);
        gbc.writeMem(0xe784, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3302);
        EXPECT(gbc.pc(), 0xe785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe784), 0x17);
        // 17 0258
        gbc.setState(0x3c01, 0x3e68, 0xfe50, 0xb921, 0xe0c3, 0x32ee, 0x1, 0x0);
        gbc.writeMem(0x3c01, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3e68);
        EXPECT(gbc.pc(), 0x3c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0259
        gbc.setState(0x7c6f, 0x4fe9, 0xf6c0, 0x41bd, 0xc1b9, 0x70fc, 0x0, 0x0);
        gbc.writeMem(0x7c6f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4fe9);
        EXPECT(gbc.pc(), 0x7c70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 025A
        gbc.setState(0xbb3c, 0xc48c, 0xb6b0, 0x4560, 0x790b, 0x8188, 0x1, 0x0);
        gbc.writeMem(0xbb3c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc48c);
        EXPECT(gbc.pc(), 0xbb3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb3c), 0x17);
        // 17 025B
        gbc.setState(0x13d3, 0x9d8f, 0x4380, 0xa018, 0x4e75, 0xd33d, 0x1, 0x1);
        gbc.writeMem(0x13d3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9d8f);
        EXPECT(gbc.pc(), 0x13d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 025C
        gbc.setState(0x64f9, 0x41d8, 0x8e90, 0xd630, 0x57dd, 0x2f55, 0x1, 0x0);
        gbc.writeMem(0x64f9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x41d8);
        EXPECT(gbc.pc(), 0x64fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 025D
        gbc.setState(0x8f25, 0xdfd5, 0x5c30, 0x3d96, 0xac4c, 0xeec9, 0x1, 0x0);
        gbc.writeMem(0x8f25, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xdfd5);
        EXPECT(gbc.pc(), 0x8f26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f25), 0x17);
        // 17 025E
        gbc.setState(0xd12a, 0x7468, 0x8c50, 0xe0be, 0xe04f, 0x5859, 0x0, 0x0);
        gbc.writeMem(0xd12a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7468);
        EXPECT(gbc.pc(), 0xd12b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd12a), 0x17);
        // 17 0260
        gbc.setState(0xb917, 0x773b, 0x9bc0, 0xc42b, 0xfb7, 0x52e7, 0x0, 0x1);
        gbc.writeMem(0xb917, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x773b);
        EXPECT(gbc.pc(), 0xb918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb917), 0x17);
        // 17 0261
        gbc.setState(0xab78, 0x114e, 0x4ee0, 0x722a, 0xfe, 0x63c1, 0x1, 0x1);
        gbc.writeMem(0xab78, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x114e);
        EXPECT(gbc.pc(), 0xab79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab78), 0x17);
        // 17 0262
        gbc.setState(0x3524, 0x1bdd, 0x50b0, 0x2da5, 0x6db8, 0x8c18, 0x0, 0x0);
        gbc.writeMem(0x3524, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1bdd);
        EXPECT(gbc.pc(), 0x3525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0263
        gbc.setState(0x52aa, 0xcb3a, 0x3c00, 0x81f2, 0x8cee, 0x9085, 0x0, 0x1);
        gbc.writeMem(0x52aa, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xcb3a);
        EXPECT(gbc.pc(), 0x52ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0264
        gbc.setState(0xa3ea, 0x4fa8, 0x9880, 0x6c4b, 0x2418, 0x77c2, 0x1, 0x0);
        gbc.writeMem(0xa3ea, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4fa8);
        EXPECT(gbc.pc(), 0xa3eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ea), 0x17);
        // 17 0266
        gbc.setState(0xd570, 0x6a6, 0x3a50, 0x63b, 0x706b, 0x2ceb, 0x1, 0x0);
        gbc.writeMem(0xd570, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6a6);
        EXPECT(gbc.pc(), 0xd571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd570), 0x17);
        // 17 0267
        gbc.setState(0x1589, 0x86c6, 0x4d40, 0xc22e, 0xe381, 0xffd1, 0x0, 0x1);
        gbc.writeMem(0x1589, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x86c6);
        EXPECT(gbc.pc(), 0x158a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0268
        gbc.setState(0x2e3, 0x6b29, 0xc830, 0x8f2a, 0xd95c, 0x6b5a, 0x0, 0x0);
        gbc.writeMem(0x2e3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x6b29);
        EXPECT(gbc.pc(), 0x2e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0269
        gbc.setState(0x3b14, 0x870, 0x30f0, 0xaa8c, 0xf43, 0x7e68, 0x1, 0x1);
        gbc.writeMem(0x3b14, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x870);
        EXPECT(gbc.pc(), 0x3b15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 026A
        gbc.setState(0x91c1, 0xafd2, 0x4000, 0x982, 0xc6b1, 0xfd35, 0x1, 0x1);
        gbc.writeMem(0x91c1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xafd2);
        EXPECT(gbc.pc(), 0x91c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91c1), 0x17);
        // 17 026B
        gbc.setState(0xc4f0, 0xdfcb, 0xdf0, 0x2b84, 0x99e3, 0xda02, 0x0, 0x0);
        gbc.writeMem(0xc4f0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdfcb);
        EXPECT(gbc.pc(), 0xc4f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f0), 0x17);
        // 17 026C
        gbc.setState(0xb634, 0x267d, 0x53b0, 0x9d4f, 0xaaac, 0x4c5d, 0x0, 0x0);
        gbc.writeMem(0xb634, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x267d);
        EXPECT(gbc.pc(), 0xb635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb634), 0x17);
        // 17 026D
        gbc.setState(0xd5b1, 0xbdc2, 0x96f0, 0xb188, 0xcd7, 0x6835, 0x0, 0x1);
        gbc.writeMem(0xd5b1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xbdc2);
        EXPECT(gbc.pc(), 0xd5b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5b1), 0x17);
        // 17 026E
        gbc.setState(0x4299, 0x5376, 0x7180, 0xc030, 0x7654, 0x5c93, 0x1, 0x1);
        gbc.writeMem(0x4299, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5376);
        EXPECT(gbc.pc(), 0x429a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 026F
        gbc.setState(0xd72b, 0x6e2a, 0xeed0, 0x5f2b, 0xa43c, 0xd084, 0x0, 0x1);
        gbc.writeMem(0xd72b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6e2a);
        EXPECT(gbc.pc(), 0xd72c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd72b), 0x17);
        // 17 0270
        gbc.setState(0x2586, 0xb4de, 0x1880, 0x4301, 0x5ffd, 0xe31f, 0x1, 0x0);
        gbc.writeMem(0x2586, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb4de);
        EXPECT(gbc.pc(), 0x2587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0271
        gbc.setState(0x8e60, 0x6ca1, 0xe7d0, 0xd39d, 0x4747, 0xfe1, 0x1, 0x1);
        gbc.writeMem(0x8e60, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6ca1);
        EXPECT(gbc.pc(), 0x8e61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e60), 0x17);
        // 17 0272
        gbc.setState(0x321d, 0x1238, 0x7790, 0xdcb9, 0xf1c, 0xc8a9, 0x0, 0x1);
        gbc.writeMem(0x321d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1238);
        EXPECT(gbc.pc(), 0x321e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0273
        gbc.setState(0x19c2, 0x6852, 0xa30, 0xd21e, 0x12ba, 0x9d6e, 0x0, 0x0);
        gbc.writeMem(0x19c2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6852);
        EXPECT(gbc.pc(), 0x19c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0274
        gbc.setState(0x9996, 0x94c2, 0xee10, 0x1c80, 0x58d6, 0x29ed, 0x0, 0x1);
        gbc.writeMem(0x9996, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x94c2);
        EXPECT(gbc.pc(), 0x9997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9996), 0x17);
        // 17 0275
        gbc.setState(0x7e78, 0x73c9, 0xd920, 0xe5c7, 0xbe20, 0x3874, 0x0, 0x1);
        gbc.writeMem(0x7e78, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x73c9);
        EXPECT(gbc.pc(), 0x7e79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0276
        gbc.setState(0x2b03, 0x594b, 0x9250, 0x5949, 0x4f2b, 0x15fd, 0x1, 0x1);
        gbc.writeMem(0x2b03, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x594b);
        EXPECT(gbc.pc(), 0x2b04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0277
        gbc.setState(0x7180, 0xdbef, 0xe950, 0xcf51, 0x213f, 0xc5d5, 0x0, 0x1);
        gbc.writeMem(0x7180, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xdbef);
        EXPECT(gbc.pc(), 0x7181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0278
        gbc.setState(0x9c2d, 0xeea0, 0x72e0, 0xde3b, 0x4808, 0xd588, 0x0, 0x0);
        gbc.writeMem(0x9c2d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xeea0);
        EXPECT(gbc.pc(), 0x9c2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c2d), 0x17);
        // 17 0279
        gbc.setState(0x438a, 0x4079, 0x38d0, 0x1228, 0xff4b, 0x5b80, 0x1, 0x1);
        gbc.writeMem(0x438a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x4079);
        EXPECT(gbc.pc(), 0x438b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 027A
        gbc.setState(0xbf47, 0xa9ad, 0xee90, 0x751c, 0x22b8, 0xac5f, 0x0, 0x0);
        gbc.writeMem(0xbf47, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa9ad);
        EXPECT(gbc.pc(), 0xbf48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf47), 0x17);
        // 17 027B
        gbc.setState(0x88b0, 0x1a2e, 0x3ed0, 0x72a1, 0x7cb5, 0x1f11, 0x0, 0x1);
        gbc.writeMem(0x88b0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1a2e);
        EXPECT(gbc.pc(), 0x88b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b0), 0x17);
        // 17 027C
        gbc.setState(0xb211, 0x3b5d, 0x3590, 0xcbcd, 0x902c, 0xfa86, 0x1, 0x1);
        gbc.writeMem(0xb211, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3b5d);
        EXPECT(gbc.pc(), 0xb212);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb211), 0x17);
        // 17 027D
        gbc.setState(0xad0c, 0xf451, 0xad00, 0x193e, 0x9d8, 0x4197, 0x0, 0x1);
        gbc.writeMem(0xad0c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xf451);
        EXPECT(gbc.pc(), 0xad0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad0c), 0x17);
        // 17 027E
        gbc.setState(0xc7c9, 0x7077, 0x5570, 0x9fb8, 0x24fa, 0x7946, 0x1, 0x1);
        gbc.writeMem(0xc7c9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7077);
        EXPECT(gbc.pc(), 0xc7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c9), 0x17);
        // 17 0280
        gbc.setState(0x1eab, 0xcfa9, 0x73b0, 0x4dcc, 0x53c9, 0xb5a6, 0x0, 0x1);
        gbc.writeMem(0x1eab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xcfa9);
        EXPECT(gbc.pc(), 0x1eac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0281
        gbc.setState(0x61f1, 0xa1de, 0x760, 0xeca1, 0x6643, 0xea5a, 0x1, 0x1);
        gbc.writeMem(0x61f1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa1de);
        EXPECT(gbc.pc(), 0x61f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0282
        gbc.setState(0x3e0e, 0xc188, 0x6dc0, 0xe5e2, 0xfcd1, 0x5d96, 0x1, 0x0);
        gbc.writeMem(0x3e0e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc188);
        EXPECT(gbc.pc(), 0x3e0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0283
        gbc.setState(0xc89b, 0xf764, 0x1930, 0x7457, 0x72e4, 0xac4e, 0x1, 0x1);
        gbc.writeMem(0xc89b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf764);
        EXPECT(gbc.pc(), 0xc89c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89b), 0x17);
        // 17 0284
        gbc.setState(0x4c70, 0xd176, 0xf820, 0x3799, 0x33f5, 0xb583, 0x1, 0x0);
        gbc.writeMem(0x4c70, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd176);
        EXPECT(gbc.pc(), 0x4c71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0285
        gbc.setState(0x2767, 0xa438, 0x1af0, 0x6ae, 0xb3ba, 0x282e, 0x0, 0x0);
        gbc.writeMem(0x2767, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa438);
        EXPECT(gbc.pc(), 0x2768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0286
        gbc.setState(0xe49a, 0x649f, 0x980, 0xe1a1, 0x1fbf, 0x5d00, 0x0, 0x1);
        gbc.writeMem(0xe49a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x649f);
        EXPECT(gbc.pc(), 0xe49b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe49a), 0x17);
        // 17 0287
        gbc.setState(0xd266, 0xb673, 0xacf0, 0xb59, 0xcad, 0xdc54, 0x0, 0x1);
        gbc.writeMem(0xd266, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb673);
        EXPECT(gbc.pc(), 0xd267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd266), 0x17);
        // 17 0288
        gbc.setState(0x7dbc, 0xc61b, 0x1d30, 0xd250, 0x6662, 0x3ca8, 0x0, 0x1);
        gbc.writeMem(0x7dbc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc61b);
        EXPECT(gbc.pc(), 0x7dbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0289
        gbc.setState(0x666f, 0x1735, 0xd200, 0xa29, 0x731e, 0x8b08, 0x0, 0x0);
        gbc.writeMem(0x666f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1735);
        EXPECT(gbc.pc(), 0x6670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 028A
        gbc.setState(0xb750, 0x4ae7, 0xe940, 0xe804, 0x4f16, 0xdb55, 0x0, 0x1);
        gbc.writeMem(0xb750, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4ae7);
        EXPECT(gbc.pc(), 0xb751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb750), 0x17);
        // 17 028B
        gbc.setState(0x86fd, 0x25f7, 0xb000, 0xa633, 0x743e, 0x6d17, 0x0, 0x0);
        gbc.writeMem(0x86fd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x25f7);
        EXPECT(gbc.pc(), 0x86fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86fd), 0x17);
        // 17 028C
        gbc.setState(0x6adb, 0x1d1f, 0xa820, 0x384e, 0x27f1, 0x4e1a, 0x1, 0x1);
        gbc.writeMem(0x6adb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1d1f);
        EXPECT(gbc.pc(), 0x6adc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 028D
        gbc.setState(0xe33b, 0x3b72, 0x8850, 0x6f49, 0x7a35, 0x2a43, 0x1, 0x1);
        gbc.writeMem(0xe33b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3b72);
        EXPECT(gbc.pc(), 0xe33c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe33b), 0x17);
        // 17 028E
        gbc.setState(0x2a53, 0xad65, 0xb00, 0x6f8, 0xd26c, 0x6fac, 0x1, 0x1);
        gbc.writeMem(0x2a53, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xad65);
        EXPECT(gbc.pc(), 0x2a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 028F
        gbc.setState(0xc01, 0xefa6, 0x2e00, 0x35e3, 0x3874, 0x7f8c, 0x1, 0x1);
        gbc.writeMem(0xc01, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xefa6);
        EXPECT(gbc.pc(), 0xc02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0290
        gbc.setState(0x46f0, 0xdd63, 0xb070, 0x6166, 0x9cd1, 0x1f62, 0x0, 0x0);
        gbc.writeMem(0x46f0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xdd63);
        EXPECT(gbc.pc(), 0x46f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0291
        gbc.setState(0x1b36, 0x33d0, 0xab20, 0x5e24, 0x30c5, 0x942a, 0x1, 0x1);
        gbc.writeMem(0x1b36, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x33d0);
        EXPECT(gbc.pc(), 0x1b37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0292
        gbc.setState(0xd7ef, 0x4449, 0x1070, 0x79fe, 0x4c52, 0x588f, 0x1, 0x1);
        gbc.writeMem(0xd7ef, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4449);
        EXPECT(gbc.pc(), 0xd7f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ef), 0x17);
        // 17 0293
        gbc.setState(0x97cd, 0x8115, 0x9630, 0xae70, 0x9b29, 0xf970, 0x0, 0x0);
        gbc.writeMem(0x97cd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8115);
        EXPECT(gbc.pc(), 0x97ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97cd), 0x17);
        // 17 0296
        gbc.setState(0x11e5, 0x8d7d, 0xb550, 0xd02e, 0x1c84, 0xfc1a, 0x0, 0x1);
        gbc.writeMem(0x11e5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8d7d);
        EXPECT(gbc.pc(), 0x11e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0297
        gbc.setState(0x81f3, 0xe2f5, 0x1240, 0x3fb2, 0x1f2, 0x5ac4, 0x1, 0x0);
        gbc.writeMem(0x81f3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe2f5);
        EXPECT(gbc.pc(), 0x81f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f3), 0x17);
        // 17 0298
        gbc.setState(0xb011, 0xd014, 0x9880, 0x6004, 0x28b6, 0x88a7, 0x0, 0x0);
        gbc.writeMem(0xb011, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd014);
        EXPECT(gbc.pc(), 0xb012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb011), 0x17);
        // 17 0299
        gbc.setState(0x8f54, 0x173f, 0x9090, 0xc86b, 0x44b1, 0x46dd, 0x0, 0x1);
        gbc.writeMem(0x8f54, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x173f);
        EXPECT(gbc.pc(), 0x8f55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f54), 0x17);
        // 17 029A
        gbc.setState(0x4459, 0x3fa, 0x2ee0, 0xb7bd, 0xc80b, 0x5b5c, 0x0, 0x1);
        gbc.writeMem(0x4459, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3fa);
        EXPECT(gbc.pc(), 0x445a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 029B
        gbc.setState(0xc631, 0x8be3, 0x8360, 0xb4b7, 0x1b6, 0x9a92, 0x1, 0x1);
        gbc.writeMem(0xc631, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8be3);
        EXPECT(gbc.pc(), 0xc632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc631), 0x17);
        // 17 029C
        gbc.setState(0xc2be, 0xb70d, 0x4ef0, 0xb6b8, 0x7ca8, 0x13c0, 0x0, 0x1);
        gbc.writeMem(0xc2be, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb70d);
        EXPECT(gbc.pc(), 0xc2bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2be), 0x17);
        // 17 029D
        gbc.setState(0x940b, 0xa8b, 0xc370, 0xf4c8, 0xc29, 0x8518, 0x0, 0x1);
        gbc.writeMem(0x940b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa8b);
        EXPECT(gbc.pc(), 0x940c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x940b), 0x17);
        // 17 029E
        gbc.setState(0x235a, 0x6753, 0x3570, 0x55c0, 0xfb4f, 0x6547, 0x1, 0x1);
        gbc.writeMem(0x235a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6753);
        EXPECT(gbc.pc(), 0x235b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 029F
        gbc.setState(0xbf6f, 0x24b2, 0x6410, 0x2bd8, 0x75bc, 0xf996, 0x0, 0x1);
        gbc.writeMem(0xbf6f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x24b2);
        EXPECT(gbc.pc(), 0xbf70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf6f), 0x17);
        // 17 02A0
        gbc.setState(0x959f, 0x124b, 0xdc80, 0xe6f, 0x9804, 0x1a6, 0x1, 0x0);
        gbc.writeMem(0x959f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x124b);
        EXPECT(gbc.pc(), 0x95a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x959f), 0x17);
        // 17 02A1
        gbc.setState(0x7a0f, 0xc64, 0x9ed0, 0x507f, 0xcde8, 0xccf1, 0x0, 0x0);
        gbc.writeMem(0x7a0f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc64);
        EXPECT(gbc.pc(), 0x7a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02A2
        gbc.setState(0x823b, 0xbe63, 0xd60, 0x1bca, 0x496d, 0x828, 0x0, 0x0);
        gbc.writeMem(0x823b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbe63);
        EXPECT(gbc.pc(), 0x823c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x823b), 0x17);
        // 17 02A3
        gbc.setState(0x2373, 0xc4d0, 0xf430, 0x137e, 0xac56, 0xb305, 0x1, 0x1);
        gbc.writeMem(0x2373, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xc4d0);
        EXPECT(gbc.pc(), 0x2374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02A4
        gbc.setState(0x456c, 0xc63d, 0x110, 0xfd90, 0x407f, 0x1c4e, 0x1, 0x0);
        gbc.writeMem(0x456c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xc63d);
        EXPECT(gbc.pc(), 0x456d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02A5
        gbc.setState(0xaf30, 0xf409, 0xf730, 0x5acd, 0xdad6, 0x18e0, 0x0, 0x1);
        gbc.writeMem(0xaf30, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf409);
        EXPECT(gbc.pc(), 0xaf31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf30), 0x17);
        // 17 02A6
        gbc.setState(0xefab, 0x9423, 0x4600, 0x2d29, 0xbfa5, 0x144f, 0x1, 0x1);
        gbc.writeMem(0xefab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x9423);
        EXPECT(gbc.pc(), 0xefac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefab), 0x17);
        // 17 02A7
        gbc.setState(0x82bf, 0x581c, 0x6360, 0x63b4, 0x359a, 0x1956, 0x1, 0x1);
        gbc.writeMem(0x82bf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x581c);
        EXPECT(gbc.pc(), 0x82c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82bf), 0x17);
        // 17 02A8
        gbc.setState(0xd5b, 0xc575, 0x1c60, 0x4459, 0xcb86, 0x4ffb, 0x1, 0x1);
        gbc.writeMem(0xd5b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc575);
        EXPECT(gbc.pc(), 0xd5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02A9
        gbc.setState(0x4e30, 0x9bc0, 0x91e0, 0x3eb1, 0xe834, 0xd8b6, 0x0, 0x0);
        gbc.writeMem(0x4e30, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9bc0);
        EXPECT(gbc.pc(), 0x4e31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02AA
        gbc.setState(0xc1e7, 0x4d4b, 0x8ad0, 0x765a, 0xc76e, 0x50e4, 0x0, 0x1);
        gbc.writeMem(0xc1e7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4d4b);
        EXPECT(gbc.pc(), 0xc1e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1e7), 0x17);
        // 17 02AB
        gbc.setState(0x9fcf, 0xfe52, 0x19b0, 0x6dea, 0x9b5f, 0x960a, 0x1, 0x1);
        gbc.writeMem(0x9fcf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfe52);
        EXPECT(gbc.pc(), 0x9fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fcf), 0x17);
        // 17 02AC
        gbc.setState(0xe09c, 0x1464, 0x56d0, 0x5761, 0x8534, 0xd3fc, 0x1, 0x1);
        gbc.writeMem(0xe09c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1464);
        EXPECT(gbc.pc(), 0xe09d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe09c), 0x17);
        // 17 02AD
        gbc.setState(0xd701, 0x5afe, 0x2db0, 0x4de, 0xdc2e, 0x5ee2, 0x1, 0x0);
        gbc.writeMem(0xd701, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5afe);
        EXPECT(gbc.pc(), 0xd702);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd701), 0x17);
        // 17 02AE
        gbc.setState(0x24b5, 0x61a5, 0x4800, 0x2b11, 0xdfe, 0x3780, 0x0, 0x0);
        gbc.writeMem(0x24b5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x61a5);
        EXPECT(gbc.pc(), 0x24b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02AF
        gbc.setState(0xd3d6, 0xe798, 0x41a0, 0x3d58, 0xdb70, 0xaf15, 0x1, 0x0);
        gbc.writeMem(0xd3d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe798);
        EXPECT(gbc.pc(), 0xd3d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3d6), 0x17);
        // 17 02B0
        gbc.setState(0x97b2, 0x7edf, 0x8a90, 0x6345, 0x786e, 0xe241, 0x0, 0x1);
        gbc.writeMem(0x97b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7edf);
        EXPECT(gbc.pc(), 0x97b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97b2), 0x17);
        // 17 02B1
        gbc.setState(0x4f23, 0xaf84, 0x7d30, 0x3396, 0x3e11, 0x333, 0x1, 0x1);
        gbc.writeMem(0x4f23, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xaf84);
        EXPECT(gbc.pc(), 0x4f24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02B2
        gbc.setState(0x66c2, 0x5688, 0xff20, 0x40cf, 0xd7bc, 0xe6b1, 0x1, 0x0);
        gbc.writeMem(0x66c2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5688);
        EXPECT(gbc.pc(), 0x66c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02B4
        gbc.setState(0x9719, 0x22f0, 0xba50, 0x56c9, 0xb5a4, 0x8164, 0x0, 0x0);
        gbc.writeMem(0x9719, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x22f0);
        EXPECT(gbc.pc(), 0x971a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9719), 0x17);
        // 17 02B6
        gbc.setState(0x629, 0xa241, 0x6560, 0x9a5e, 0x72f3, 0x63c0, 0x1, 0x1);
        gbc.writeMem(0x629, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa241);
        EXPECT(gbc.pc(), 0x62a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02B7
        gbc.setState(0x7e39, 0x71cb, 0x5600, 0x62ad, 0x44cc, 0xbf24, 0x0, 0x1);
        gbc.writeMem(0x7e39, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x71cb);
        EXPECT(gbc.pc(), 0x7e3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02B8
        gbc.setState(0x6884, 0x4fdb, 0xde10, 0x693, 0x1b95, 0x2d9b, 0x0, 0x1);
        gbc.writeMem(0x6884, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4fdb);
        EXPECT(gbc.pc(), 0x6885);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02B9
        gbc.setState(0x8d79, 0xc4e6, 0xf920, 0x108d, 0x7d1f, 0x1bcb, 0x0, 0x0);
        gbc.writeMem(0x8d79, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xc4e6);
        EXPECT(gbc.pc(), 0x8d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d79), 0x17);
        // 17 02BA
        gbc.setState(0x77de, 0xc941, 0xd9f0, 0x4081, 0x9742, 0xd19a, 0x0, 0x1);
        gbc.writeMem(0x77de, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xc941);
        EXPECT(gbc.pc(), 0x77df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02BB
        gbc.setState(0xaac3, 0x85fd, 0x1050, 0x9196, 0x7a55, 0xe58b, 0x1, 0x0);
        gbc.writeMem(0xaac3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x85fd);
        EXPECT(gbc.pc(), 0xaac4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaac3), 0x17);
        // 17 02BC
        gbc.setState(0xba78, 0xd25d, 0x5ad0, 0x7760, 0x57a1, 0xabdb, 0x1, 0x0);
        gbc.writeMem(0xba78, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd25d);
        EXPECT(gbc.pc(), 0xba79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba78), 0x17);
        // 17 02BD
        gbc.setState(0x78c1, 0x90b7, 0x3c20, 0xb970, 0x741f, 0x263, 0x0, 0x1);
        gbc.writeMem(0x78c1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x90b7);
        EXPECT(gbc.pc(), 0x78c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02BF
        gbc.setState(0xdc8f, 0x4be6, 0xdb80, 0x6853, 0xcf85, 0x40cc, 0x1, 0x0);
        gbc.writeMem(0xdc8f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4be6);
        EXPECT(gbc.pc(), 0xdc90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc8f), 0x17);
        // 17 02C0
        gbc.setState(0x2e24, 0xe7a, 0x8210, 0xff0f, 0xe8b6, 0x72c, 0x0, 0x1);
        gbc.writeMem(0x2e24, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe7a);
        EXPECT(gbc.pc(), 0x2e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02C1
        gbc.setState(0xd72, 0x2269, 0xdc70, 0x680a, 0x891e, 0x6840, 0x0, 0x0);
        gbc.writeMem(0xd72, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2269);
        EXPECT(gbc.pc(), 0xd73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02C2
        gbc.setState(0x1ff0, 0x2c92, 0x4900, 0x71c4, 0x753a, 0x6a10, 0x1, 0x1);
        gbc.writeMem(0x1ff0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2c92);
        EXPECT(gbc.pc(), 0x1ff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02C3
        gbc.setState(0x117d, 0xc38c, 0xdee0, 0x5d23, 0xa80f, 0x8141, 0x0, 0x1);
        gbc.writeMem(0x117d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xc38c);
        EXPECT(gbc.pc(), 0x117e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02C4
        gbc.setState(0xab75, 0xa454, 0x9110, 0x85c4, 0x83e6, 0x1fef, 0x0, 0x0);
        gbc.writeMem(0xab75, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa454);
        EXPECT(gbc.pc(), 0xab76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab75), 0x17);
        // 17 02C5
        gbc.setState(0x86db, 0x37c7, 0xce40, 0x457c, 0xb825, 0x956b, 0x0, 0x1);
        gbc.writeMem(0x86db, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x37c7);
        EXPECT(gbc.pc(), 0x86dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86db), 0x17);
        // 17 02C6
        gbc.setState(0xaaf9, 0x7a96, 0xed00, 0x7c8b, 0x884c, 0x533b, 0x0, 0x0);
        gbc.writeMem(0xaaf9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7a96);
        EXPECT(gbc.pc(), 0xaafa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaf9), 0x17);
        // 17 02C7
        gbc.setState(0xed38, 0xcc1, 0xfe0, 0x2b12, 0x1df0, 0xb135, 0x0, 0x0);
        gbc.writeMem(0xed38, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xcc1);
        EXPECT(gbc.pc(), 0xed39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed38), 0x17);
        // 17 02C8
        gbc.setState(0xc38c, 0xd443, 0xf9a0, 0xe3d6, 0x6101, 0xd9d8, 0x0, 0x1);
        gbc.writeMem(0xc38c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd443);
        EXPECT(gbc.pc(), 0xc38d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc38c), 0x17);
        // 17 02C9
        gbc.setState(0xb35e, 0xdb1, 0xf740, 0x3c33, 0x2ef, 0x408e, 0x1, 0x1);
        gbc.writeMem(0xb35e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdb1);
        EXPECT(gbc.pc(), 0xb35f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb35e), 0x17);
        // 17 02CA
        gbc.setState(0x8ca3, 0xce94, 0xb2e0, 0xa279, 0xbeff, 0xf68d, 0x1, 0x0);
        gbc.writeMem(0x8ca3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xce94);
        EXPECT(gbc.pc(), 0x8ca4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ca3), 0x17);
        // 17 02CB
        gbc.setState(0x74b1, 0xce39, 0x81b0, 0xfa8c, 0xa4e5, 0xb8f, 0x1, 0x1);
        gbc.writeMem(0x74b1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xce39);
        EXPECT(gbc.pc(), 0x74b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02CC
        gbc.setState(0x8efc, 0xa08c, 0x6860, 0xaa8e, 0xe829, 0x7704, 0x1, 0x1);
        gbc.writeMem(0x8efc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa08c);
        EXPECT(gbc.pc(), 0x8efd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8efc), 0x17);
        // 17 02CD
        gbc.setState(0x96e6, 0xa9f5, 0xdb70, 0x2e36, 0x9226, 0xf16b, 0x0, 0x0);
        gbc.writeMem(0x96e6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa9f5);
        EXPECT(gbc.pc(), 0x96e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96e6), 0x17);
        // 17 02CE
        gbc.setState(0xa00f, 0xde7a, 0x6fc0, 0x2536, 0x7e94, 0xdc59, 0x1, 0x1);
        gbc.writeMem(0xa00f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xde7a);
        EXPECT(gbc.pc(), 0xa010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa00f), 0x17);
        // 17 02CF
        gbc.setState(0xe814, 0x240d, 0xa900, 0x447d, 0x2e6c, 0xcc42, 0x0, 0x1);
        gbc.writeMem(0xe814, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x240d);
        EXPECT(gbc.pc(), 0xe815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe814), 0x17);
        // 17 02D0
        gbc.setState(0x9528, 0xc380, 0x9370, 0xd1c1, 0x1dcf, 0xd1cb, 0x1, 0x0);
        gbc.writeMem(0x9528, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xc380);
        EXPECT(gbc.pc(), 0x9529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9528), 0x17);
        // 17 02D2
        gbc.setState(0x5763, 0xc29, 0xb9f0, 0x1c8, 0x32bd, 0x85d0, 0x0, 0x1);
        gbc.writeMem(0x5763, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc29);
        EXPECT(gbc.pc(), 0x5764);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02D3
        gbc.setState(0x241a, 0x7735, 0x2870, 0xbaf8, 0x35dd, 0xdb75, 0x1, 0x0);
        gbc.writeMem(0x241a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7735);
        EXPECT(gbc.pc(), 0x241b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02D4
        gbc.setState(0x3f47, 0x6a7c, 0xcc20, 0xaec0, 0x3d32, 0xa54a, 0x1, 0x0);
        gbc.writeMem(0x3f47, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x6a7c);
        EXPECT(gbc.pc(), 0x3f48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02D5
        gbc.setState(0x1aac, 0xdc73, 0x9a30, 0xc06f, 0x38e4, 0x8bb6, 0x1, 0x1);
        gbc.writeMem(0x1aac, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xdc73);
        EXPECT(gbc.pc(), 0x1aad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02D6
        gbc.setState(0x9310, 0x41d8, 0xe060, 0xd28f, 0x9792, 0xda3a, 0x1, 0x0);
        gbc.writeMem(0x9310, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x41d8);
        EXPECT(gbc.pc(), 0x9311);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9310), 0x17);
        // 17 02D7
        gbc.setState(0xcc0b, 0xc8e7, 0x3e10, 0xf7e3, 0x7889, 0x3de, 0x0, 0x1);
        gbc.writeMem(0xcc0b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc8e7);
        EXPECT(gbc.pc(), 0xcc0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc0b), 0x17);
        // 17 02D8
        gbc.setState(0x835b, 0x18d0, 0x6160, 0xd10e, 0xfbd7, 0xde39, 0x0, 0x1);
        gbc.writeMem(0x835b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x18d0);
        EXPECT(gbc.pc(), 0x835c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x835b), 0x17);
        // 17 02D9
        gbc.setState(0xea54, 0x570d, 0x41a0, 0x3825, 0xe260, 0xefda, 0x1, 0x0);
        gbc.writeMem(0xea54, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x570d);
        EXPECT(gbc.pc(), 0xea55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea54), 0x17);
        // 17 02DA
        gbc.setState(0xd55c, 0xad4, 0x1430, 0x3c8e, 0x753f, 0xa316, 0x1, 0x1);
        gbc.writeMem(0xd55c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xad4);
        EXPECT(gbc.pc(), 0xd55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd55c), 0x17);
        // 17 02DB
        gbc.setState(0x3860, 0x273d, 0x3020, 0xb28b, 0xe6d, 0x94e6, 0x0, 0x0);
        gbc.writeMem(0x3860, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x273d);
        EXPECT(gbc.pc(), 0x3861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02DD
        gbc.setState(0xc82b, 0x9aa8, 0xe830, 0xf245, 0x4210, 0xdf92, 0x1, 0x1);
        gbc.writeMem(0xc82b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9aa8);
        EXPECT(gbc.pc(), 0xc82c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc82b), 0x17);
        // 17 02DE
        gbc.setState(0xbdce, 0xcab3, 0x70f0, 0x70f9, 0xc53d, 0x6c3f, 0x0, 0x1);
        gbc.writeMem(0xbdce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xcab3);
        EXPECT(gbc.pc(), 0xbdcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdce), 0x17);
        // 17 02DF
        gbc.setState(0x22cb, 0x2649, 0x8060, 0x968b, 0xf061, 0x8a1, 0x1, 0x1);
        gbc.writeMem(0x22cb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2649);
        EXPECT(gbc.pc(), 0x22cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02E0
        gbc.setState(0x8971, 0x85c6, 0xaf70, 0xaee, 0x69de, 0x6d04, 0x1, 0x1);
        gbc.writeMem(0x8971, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x85c6);
        EXPECT(gbc.pc(), 0x8972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8971), 0x17);
        // 17 02E1
        gbc.setState(0x3156, 0xb82d, 0xb2d0, 0xc87e, 0x8845, 0xd0dd, 0x1, 0x0);
        gbc.writeMem(0x3156, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb82d);
        EXPECT(gbc.pc(), 0x3157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02E2
        gbc.setState(0x944c, 0xc007, 0xe620, 0xfccd, 0xd5bb, 0x9d63, 0x0, 0x1);
        gbc.writeMem(0x944c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc007);
        EXPECT(gbc.pc(), 0x944d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x944c), 0x17);
        // 17 02E3
        gbc.setState(0xcc8f, 0xa81e, 0xc120, 0x85de, 0x883e, 0xfedc, 0x0, 0x1);
        gbc.writeMem(0xcc8f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa81e);
        EXPECT(gbc.pc(), 0xcc90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc8f), 0x17);
        // 17 02E4
        gbc.setState(0xb471, 0xd7cd, 0x65b0, 0xfb4c, 0xe426, 0x5ca5, 0x0, 0x1);
        gbc.writeMem(0xb471, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd7cd);
        EXPECT(gbc.pc(), 0xb472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb471), 0x17);
        // 17 02E5
        gbc.setState(0xebc1, 0xf4a6, 0xbc00, 0x7ea8, 0xc43a, 0x69cf, 0x0, 0x0);
        gbc.writeMem(0xebc1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xf4a6);
        EXPECT(gbc.pc(), 0xebc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebc1), 0x17);
        // 17 02E6
        gbc.setState(0xce31, 0x3e0, 0x1950, 0x3a8, 0xd277, 0x5a82, 0x1, 0x0);
        gbc.writeMem(0xce31, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3e0);
        EXPECT(gbc.pc(), 0xce32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce31), 0x17);
        // 17 02E7
        gbc.setState(0xbf3d, 0xf3c6, 0x6630, 0x7b87, 0x714c, 0x5d90, 0x1, 0x0);
        gbc.writeMem(0xbf3d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xf3c6);
        EXPECT(gbc.pc(), 0xbf3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf3d), 0x17);
        // 17 02E8
        gbc.setState(0x3f88, 0x3d14, 0x2050, 0x3879, 0x6168, 0x73c3, 0x1, 0x1);
        gbc.writeMem(0x3f88, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3d14);
        EXPECT(gbc.pc(), 0x3f89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02E9
        gbc.setState(0xd727, 0xca78, 0x4570, 0xd85c, 0x6cfa, 0xffdb, 0x0, 0x1);
        gbc.writeMem(0xd727, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xca78);
        EXPECT(gbc.pc(), 0xd728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd727), 0x17);
        // 17 02EB
        gbc.setState(0x19b5, 0x66ef, 0x9610, 0xfa41, 0xe351, 0x110, 0x1, 0x0);
        gbc.writeMem(0x19b5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x66ef);
        EXPECT(gbc.pc(), 0x19b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02EC
        gbc.setState(0x3b92, 0xa10e, 0xac90, 0x1975, 0x1e06, 0x6828, 0x1, 0x0);
        gbc.writeMem(0x3b92, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa10e);
        EXPECT(gbc.pc(), 0x3b93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02ED
        gbc.setState(0x3c27, 0xd608, 0x32a0, 0xd8e9, 0x4c40, 0x6c95, 0x1, 0x0);
        gbc.writeMem(0x3c27, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd608);
        EXPECT(gbc.pc(), 0x3c28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02EE
        gbc.setState(0x7f0f, 0x40c4, 0xf8b0, 0x4837, 0xefd3, 0xbb0b, 0x1, 0x0);
        gbc.writeMem(0x7f0f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x40c4);
        EXPECT(gbc.pc(), 0x7f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02EF
        gbc.setState(0xd826, 0x804f, 0xbc20, 0x7f55, 0x9d09, 0x7727, 0x0, 0x0);
        gbc.writeMem(0xd826, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x804f);
        EXPECT(gbc.pc(), 0xd827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd826), 0x17);
        // 17 02F0
        gbc.setState(0x9f1c, 0x1400, 0x4d20, 0xe39d, 0x7dba, 0xc5c, 0x0, 0x1);
        gbc.writeMem(0x9f1c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1400);
        EXPECT(gbc.pc(), 0x9f1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f1c), 0x17);
        // 17 02F1
        gbc.setState(0x3ffe, 0x10fa, 0xa960, 0x40ec, 0x6b1, 0xcf53, 0x0, 0x0);
        gbc.writeMem(0x3ffe, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x10fa);
        EXPECT(gbc.pc(), 0x3fff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02F2
        gbc.setState(0xd17, 0x6525, 0x69c0, 0xf3f3, 0x6a1c, 0xab61, 0x0, 0x0);
        gbc.writeMem(0xd17, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6525);
        EXPECT(gbc.pc(), 0xd18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02F3
        gbc.setState(0xc323, 0xb6fc, 0x9870, 0x340f, 0xbe, 0xbf4f, 0x0, 0x1);
        gbc.writeMem(0xc323, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xb6fc);
        EXPECT(gbc.pc(), 0xc324);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc323), 0x17);
        // 17 02F4
        gbc.setState(0x7f2e, 0x954, 0xd9c0, 0x6633, 0x4788, 0x4e6, 0x1, 0x0);
        gbc.writeMem(0x7f2e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x954);
        EXPECT(gbc.pc(), 0x7f2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02F5
        gbc.setState(0x6f39, 0xa84b, 0xadd0, 0xbe3d, 0xe2db, 0x8586, 0x1, 0x1);
        gbc.writeMem(0x6f39, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa84b);
        EXPECT(gbc.pc(), 0x6f3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02F6
        gbc.setState(0x3a1e, 0x5110, 0x72e0, 0xd333, 0x8782, 0x255a, 0x1, 0x0);
        gbc.writeMem(0x3a1e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5110);
        EXPECT(gbc.pc(), 0x3a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 02F8
        gbc.setState(0x8f1d, 0xad84, 0xeeb0, 0x7d5b, 0x2078, 0x2b03, 0x1, 0x1);
        gbc.writeMem(0x8f1d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xad84);
        EXPECT(gbc.pc(), 0x8f1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f1d), 0x17);
        // 17 02F9
        gbc.setState(0x2b71, 0x8170, 0xce10, 0x7e62, 0xe12a, 0xd97b, 0x1, 0x0);
        gbc.writeMem(0x2b71, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x8170);
        EXPECT(gbc.pc(), 0x2b72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02FA
        gbc.setState(0x8b5d, 0x83ab, 0x7bf0, 0x1164, 0x47b6, 0x1906, 0x0, 0x1);
        gbc.writeMem(0x8b5d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x83ab);
        EXPECT(gbc.pc(), 0x8b5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b5d), 0x17);
        // 17 02FB
        gbc.setState(0xc9f9, 0x7a43, 0xd170, 0xbdb9, 0x8105, 0x8109, 0x1, 0x1);
        gbc.writeMem(0xc9f9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7a43);
        EXPECT(gbc.pc(), 0xc9fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9f9), 0x17);
        // 17 02FC
        gbc.setState(0x524f, 0xded9, 0xf600, 0x1198, 0x8331, 0xe56c, 0x1, 0x1);
        gbc.writeMem(0x524f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xded9);
        EXPECT(gbc.pc(), 0x5250);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 02FD
        gbc.setState(0xc31a, 0xf572, 0x7210, 0x5971, 0xc697, 0x6708, 0x0, 0x1);
        gbc.writeMem(0xc31a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf572);
        EXPECT(gbc.pc(), 0xc31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc31a), 0x17);
        // 17 02FE
        gbc.setState(0x895f, 0x6311, 0x9c0, 0x6ae7, 0xef3a, 0x61d4, 0x1, 0x0);
        gbc.writeMem(0x895f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x6311);
        EXPECT(gbc.pc(), 0x8960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x895f), 0x17);
        // 17 02FF
        gbc.setState(0x5a26, 0x86db, 0x3690, 0x13cb, 0xf996, 0x10bf, 0x0, 0x0);
        gbc.writeMem(0x5a26, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x86db);
        EXPECT(gbc.pc(), 0x5a27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0300
        gbc.setState(0xd902, 0xd27b, 0xbb80, 0xbec9, 0xb195, 0x1cb, 0x1, 0x1);
        gbc.writeMem(0xd902, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd27b);
        EXPECT(gbc.pc(), 0xd903);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd902), 0x17);
        // 17 0301
        gbc.setState(0x6cba, 0x65eb, 0x43c0, 0x92c0, 0x2d00, 0xe323, 0x1, 0x1);
        gbc.writeMem(0x6cba, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x65eb);
        EXPECT(gbc.pc(), 0x6cbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0302
        gbc.setState(0xb4e3, 0xd77, 0x2800, 0xb8ea, 0x2083, 0xe495, 0x0, 0x1);
        gbc.writeMem(0xb4e3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd77);
        EXPECT(gbc.pc(), 0xb4e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e3), 0x17);
        // 17 0303
        gbc.setState(0x75b2, 0x8ee3, 0x2e90, 0xf5a0, 0x2877, 0xcc94, 0x0, 0x1);
        gbc.writeMem(0x75b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8ee3);
        EXPECT(gbc.pc(), 0x75b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0304
        gbc.setState(0x625f, 0x6478, 0xc8b0, 0x1705, 0x49c6, 0x16a2, 0x1, 0x0);
        gbc.writeMem(0x625f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6478);
        EXPECT(gbc.pc(), 0x6260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0305
        gbc.setState(0x5609, 0x20c5, 0x3500, 0x212a, 0x385f, 0x844e, 0x1, 0x0);
        gbc.writeMem(0x5609, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x20c5);
        EXPECT(gbc.pc(), 0x560a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0306
        gbc.setState(0x661b, 0xf875, 0x6b00, 0x1123, 0x38a2, 0xae5e, 0x1, 0x1);
        gbc.writeMem(0x661b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf875);
        EXPECT(gbc.pc(), 0x661c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0307
        gbc.setState(0xdc90, 0x1c24, 0xf140, 0x2d57, 0x2931, 0x1a13, 0x1, 0x0);
        gbc.writeMem(0xdc90, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1c24);
        EXPECT(gbc.pc(), 0xdc91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc90), 0x17);
        // 17 0308
        gbc.setState(0xa396, 0xb3f1, 0x5b10, 0xc4b1, 0x260a, 0x768b, 0x1, 0x1);
        gbc.writeMem(0xa396, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xb3f1);
        EXPECT(gbc.pc(), 0xa397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa396), 0x17);
        // 17 030A
        gbc.setState(0xc833, 0x7506, 0xc870, 0xf06f, 0x56cf, 0x7a11, 0x1, 0x0);
        gbc.writeMem(0xc833, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7506);
        EXPECT(gbc.pc(), 0xc834);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc833), 0x17);
        // 17 030B
        gbc.setState(0x9f2a, 0xc819, 0xd8f0, 0xbec9, 0xfa3d, 0xc5ef, 0x1, 0x0);
        gbc.writeMem(0x9f2a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xc819);
        EXPECT(gbc.pc(), 0x9f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f2a), 0x17);
        // 17 030C
        gbc.setState(0x3352, 0x97ee, 0xdf50, 0x5191, 0x34f5, 0x5b33, 0x1, 0x1);
        gbc.writeMem(0x3352, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x97ee);
        EXPECT(gbc.pc(), 0x3353);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 030D
        gbc.setState(0x56c, 0x7739, 0x6f50, 0xfc9f, 0xe6c3, 0x83a7, 0x1, 0x1);
        gbc.writeMem(0x56c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7739);
        EXPECT(gbc.pc(), 0x56d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 030E
        gbc.setState(0x861b, 0x3338, 0x88d0, 0x6039, 0xbce8, 0x289c, 0x1, 0x0);
        gbc.writeMem(0x861b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3338);
        EXPECT(gbc.pc(), 0x861c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x861b), 0x17);
        // 17 030F
        gbc.setState(0xd009, 0x4ab4, 0xbe90, 0xf834, 0xdd33, 0x25ba, 0x1, 0x0);
        gbc.writeMem(0xd009, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4ab4);
        EXPECT(gbc.pc(), 0xd00a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd009), 0x17);
        // 17 0310
        gbc.setState(0x34b4, 0x4c92, 0x8830, 0x673a, 0xdaf7, 0x4193, 0x1, 0x0);
        gbc.writeMem(0x34b4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4c92);
        EXPECT(gbc.pc(), 0x34b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0311
        gbc.setState(0xb3d0, 0x3232, 0xc5a0, 0x1a68, 0x7641, 0xd86, 0x0, 0x1);
        gbc.writeMem(0xb3d0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3232);
        EXPECT(gbc.pc(), 0xb3d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3d0), 0x17);
        // 17 0312
        gbc.setState(0x4a1b, 0xdc18, 0xfe40, 0x28ec, 0xb4e1, 0xc0c0, 0x0, 0x1);
        gbc.writeMem(0x4a1b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xdc18);
        EXPECT(gbc.pc(), 0x4a1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0313
        gbc.setState(0xe742, 0x9fe, 0x40b0, 0xe9d5, 0xcd07, 0xac98, 0x1, 0x1);
        gbc.writeMem(0xe742, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9fe);
        EXPECT(gbc.pc(), 0xe743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe742), 0x17);
        // 17 0314
        gbc.setState(0x479f, 0xddeb, 0xf610, 0x41cd, 0x2196, 0xc993, 0x1, 0x0);
        gbc.writeMem(0x479f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xddeb);
        EXPECT(gbc.pc(), 0x47a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0315
        gbc.setState(0x993f, 0xd094, 0x6f00, 0x9e91, 0x9a50, 0x20d8, 0x1, 0x0);
        gbc.writeMem(0x993f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd094);
        EXPECT(gbc.pc(), 0x9940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x993f), 0x17);
        // 17 0316
        gbc.setState(0xd32c, 0x5c, 0x3ee0, 0x48df, 0x9250, 0x51a, 0x0, 0x1);
        gbc.writeMem(0xd32c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5c);
        EXPECT(gbc.pc(), 0xd32d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd32c), 0x17);
        // 17 0317
        gbc.setState(0xdcbd, 0x56f8, 0xc520, 0x5adc, 0x37f, 0x6d2b, 0x1, 0x0);
        gbc.writeMem(0xdcbd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x56f8);
        EXPECT(gbc.pc(), 0xdcbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcbd), 0x17);
        // 17 0318
        gbc.setState(0xbe6d, 0xbb11, 0x4ef0, 0xf56b, 0xde7e, 0x1c50, 0x1, 0x0);
        gbc.writeMem(0xbe6d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xbb11);
        EXPECT(gbc.pc(), 0xbe6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6d), 0x17);
        // 17 0319
        gbc.setState(0x3825, 0x5b3d, 0x6060, 0x923a, 0x7ef9, 0xa176, 0x1, 0x1);
        gbc.writeMem(0x3825, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5b3d);
        EXPECT(gbc.pc(), 0x3826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 031A
        gbc.setState(0x8d57, 0x29d, 0x97e0, 0x6e54, 0x4853, 0x589f, 0x1, 0x0);
        gbc.writeMem(0x8d57, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x29d);
        EXPECT(gbc.pc(), 0x8d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d57), 0x17);
        // 17 031C
        gbc.setState(0xd835, 0xad13, 0x4c00, 0x6e6f, 0x42ce, 0x895c, 0x0, 0x1);
        gbc.writeMem(0xd835, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xad13);
        EXPECT(gbc.pc(), 0xd836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd835), 0x17);
        // 17 031D
        gbc.setState(0x3f3b, 0xcf74, 0x65e0, 0x6e8b, 0x397e, 0x2552, 0x0, 0x0);
        gbc.writeMem(0x3f3b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xcf74);
        EXPECT(gbc.pc(), 0x3f3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 031E
        gbc.setState(0xeddd, 0x8acc, 0x2900, 0x7045, 0xf272, 0x5e40, 0x1, 0x1);
        gbc.writeMem(0xeddd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8acc);
        EXPECT(gbc.pc(), 0xedde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeddd), 0x17);
        // 17 031F
        gbc.setState(0x8726, 0x5562, 0xd730, 0xa910, 0x34f6, 0xde30, 0x1, 0x1);
        gbc.writeMem(0x8726, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5562);
        EXPECT(gbc.pc(), 0x8727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8726), 0x17);
        // 17 0320
        gbc.setState(0x12c5, 0x9871, 0xf370, 0x1769, 0x3f38, 0xfbeb, 0x1, 0x0);
        gbc.writeMem(0x12c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9871);
        EXPECT(gbc.pc(), 0x12c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0321
        gbc.setState(0xd8fd, 0x9aec, 0xd370, 0x9112, 0xa42f, 0x6cda, 0x0, 0x1);
        gbc.writeMem(0xd8fd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9aec);
        EXPECT(gbc.pc(), 0xd8fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8fd), 0x17);
        // 17 0322
        gbc.setState(0x1525, 0xdc7, 0xbc90, 0x20f4, 0x8470, 0xc940, 0x0, 0x1);
        gbc.writeMem(0x1525, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdc7);
        EXPECT(gbc.pc(), 0x1526);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0323
        gbc.setState(0xd93a, 0x96b, 0x6ec0, 0x1b1c, 0x97d7, 0x3313, 0x1, 0x0);
        gbc.writeMem(0xd93a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x96b);
        EXPECT(gbc.pc(), 0xd93b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd93a), 0x17);
        // 17 0325
        gbc.setState(0x3527, 0x45d2, 0xb190, 0x42e7, 0x67ac, 0x919c, 0x0, 0x1);
        gbc.writeMem(0x3527, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x45d2);
        EXPECT(gbc.pc(), 0x3528);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0326
        gbc.setState(0x77f0, 0x1f66, 0x4540, 0x73ab, 0xf998, 0xf342, 0x1, 0x0);
        gbc.writeMem(0x77f0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1f66);
        EXPECT(gbc.pc(), 0x77f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0327
        gbc.setState(0x7d73, 0x5b33, 0x5e80, 0x210c, 0x935, 0x50a0, 0x0, 0x1);
        gbc.writeMem(0x7d73, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5b33);
        EXPECT(gbc.pc(), 0x7d74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0328
        gbc.setState(0x73ff, 0x736b, 0xecf0, 0x31ff, 0x8742, 0xf5ed, 0x0, 0x0);
        gbc.writeMem(0x73ff, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x736b);
        EXPECT(gbc.pc(), 0x7400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0329
        gbc.setState(0xa63, 0x41ac, 0xa490, 0xfb12, 0xab51, 0x52ed, 0x0, 0x1);
        gbc.writeMem(0xa63, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x41ac);
        EXPECT(gbc.pc(), 0xa64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 032A
        gbc.setState(0x17c5, 0xcafd, 0x5e0, 0x5996, 0xb761, 0x4d1b, 0x1, 0x0);
        gbc.writeMem(0x17c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xcafd);
        EXPECT(gbc.pc(), 0x17c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 032B
        gbc.setState(0x765e, 0x26e3, 0xb810, 0x7cc8, 0xecf8, 0x8938, 0x1, 0x1);
        gbc.writeMem(0x765e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x26e3);
        EXPECT(gbc.pc(), 0x765f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 032C
        gbc.setState(0x1ba4, 0xbf7c, 0x690, 0xa8fa, 0xe686, 0x81e, 0x0, 0x0);
        gbc.writeMem(0x1ba4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xbf7c);
        EXPECT(gbc.pc(), 0x1ba5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 032D
        gbc.setState(0x39cd, 0x7f87, 0x2a30, 0xba2a, 0x2d86, 0xb3f6, 0x0, 0x1);
        gbc.writeMem(0x39cd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7f87);
        EXPECT(gbc.pc(), 0x39ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 032E
        gbc.setState(0xda5, 0xf640, 0xe430, 0x43ed, 0x8ca5, 0x39b4, 0x1, 0x0);
        gbc.writeMem(0xda5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf640);
        EXPECT(gbc.pc(), 0xda6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 032F
        gbc.setState(0x6bbc, 0xa3e5, 0xd630, 0x86c3, 0xc727, 0xe81e, 0x0, 0x1);
        gbc.writeMem(0x6bbc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa3e5);
        EXPECT(gbc.pc(), 0x6bbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0330
        gbc.setState(0xa3c5, 0x60f6, 0x5c60, 0x790a, 0x97d7, 0x8324, 0x0, 0x0);
        gbc.writeMem(0xa3c5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x60f6);
        EXPECT(gbc.pc(), 0xa3c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3c5), 0x17);
        // 17 0331
        gbc.setState(0x84e9, 0x9da6, 0xc240, 0xb2d6, 0x5b5c, 0xf385, 0x0, 0x0);
        gbc.writeMem(0x84e9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9da6);
        EXPECT(gbc.pc(), 0x84ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e9), 0x17);
        // 17 0332
        gbc.setState(0x21bd, 0xcfb9, 0xfb70, 0x172a, 0x6718, 0xab7c, 0x1, 0x0);
        gbc.writeMem(0x21bd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xcfb9);
        EXPECT(gbc.pc(), 0x21be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0333
        gbc.setState(0x384a, 0x3ef7, 0x2b40, 0xfb5b, 0x8418, 0x4f87, 0x1, 0x0);
        gbc.writeMem(0x384a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x3ef7);
        EXPECT(gbc.pc(), 0x384b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0334
        gbc.setState(0x1d9, 0x1023, 0xaee0, 0x94bb, 0xe835, 0xac75, 0x0, 0x1);
        gbc.writeMem(0x1d9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x1023);
        EXPECT(gbc.pc(), 0x1da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0335
        gbc.setState(0x2a93, 0xd469, 0x8a20, 0xb99f, 0x57c0, 0x50ac, 0x0, 0x1);
        gbc.writeMem(0x2a93, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd469);
        EXPECT(gbc.pc(), 0x2a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0336
        gbc.setState(0x71, 0x4d6e, 0xf4d0, 0x7ddc, 0xd78d, 0xa428, 0x0, 0x0);
        gbc.writeMem(0x71, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4d6e);
        EXPECT(gbc.pc(), 0x72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0337
        gbc.setState(0x473, 0x29c9, 0xddd0, 0xc9d6, 0x9056, 0xc55f, 0x0, 0x0);
        gbc.writeMem(0x473, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x29c9);
        EXPECT(gbc.pc(), 0x474);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0338
        gbc.setState(0x46f, 0xd50a, 0x2860, 0x339d, 0x64e, 0xe240, 0x0, 0x1);
        gbc.writeMem(0x46f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xd50a);
        EXPECT(gbc.pc(), 0x470);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0339
        gbc.setState(0x8d4e, 0x99e7, 0xf390, 0xace2, 0xd927, 0xfea7, 0x0, 0x0);
        gbc.writeMem(0x8d4e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x99e7);
        EXPECT(gbc.pc(), 0x8d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d4e), 0x17);
        // 17 033A
        gbc.setState(0xdffb, 0xad0f, 0x97d0, 0xeb72, 0xebf1, 0x4d1c, 0x1, 0x0);
        gbc.writeMem(0xdffb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xad0f);
        EXPECT(gbc.pc(), 0xdffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdffb), 0x17);
        // 17 033B
        gbc.setState(0x45f9, 0x6529, 0x2430, 0x9a5c, 0xf30e, 0x30ac, 0x1, 0x0);
        gbc.writeMem(0x45f9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6529);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 033C
        gbc.setState(0xb874, 0xaa83, 0x9d00, 0xa9fa, 0x87f9, 0x9726, 0x0, 0x1);
        gbc.writeMem(0xb874, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xaa83);
        EXPECT(gbc.pc(), 0xb875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb874), 0x17);
        // 17 033D
        gbc.setState(0xa5ef, 0xf507, 0xb060, 0xf4cd, 0x4018, 0xb4e6, 0x1, 0x1);
        gbc.writeMem(0xa5ef, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf507);
        EXPECT(gbc.pc(), 0xa5f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5ef), 0x17);
        // 17 033E
        gbc.setState(0xd153, 0xd7fb, 0x4330, 0x6a7d, 0xee6d, 0x8b49, 0x0, 0x0);
        gbc.writeMem(0xd153, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd7fb);
        EXPECT(gbc.pc(), 0xd154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd153), 0x17);
        // 17 033F
        gbc.setState(0x665, 0x3a35, 0x3c70, 0x4d28, 0xe80e, 0xee5b, 0x1, 0x0);
        gbc.writeMem(0x665, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3a35);
        EXPECT(gbc.pc(), 0x666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0340
        gbc.setState(0xc829, 0xe652, 0x1b20, 0xef5d, 0x3787, 0xf21c, 0x1, 0x1);
        gbc.writeMem(0xc829, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe652);
        EXPECT(gbc.pc(), 0xc82a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc829), 0x17);
        // 17 0341
        gbc.setState(0xe5b9, 0x4da6, 0x2300, 0x54d0, 0xea37, 0x1a96, 0x0, 0x0);
        gbc.writeMem(0xe5b9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4da6);
        EXPECT(gbc.pc(), 0xe5ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b9), 0x17);
        // 17 0342
        gbc.setState(0xa3ce, 0xc1c1, 0x8930, 0x239a, 0x5c3, 0x3f28, 0x1, 0x0);
        gbc.writeMem(0xa3ce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc1c1);
        EXPECT(gbc.pc(), 0xa3cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3ce), 0x17);
        // 17 0343
        gbc.setState(0xa6bd, 0x34f, 0x7370, 0x43fd, 0x7253, 0x3bc9, 0x0, 0x1);
        gbc.writeMem(0xa6bd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x34f);
        EXPECT(gbc.pc(), 0xa6be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6bd), 0x17);
        // 17 0344
        gbc.setState(0xe968, 0x40fc, 0xcf60, 0xbb0e, 0x37ea, 0x90fa, 0x0, 0x1);
        gbc.writeMem(0xe968, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x40fc);
        EXPECT(gbc.pc(), 0xe969);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe968), 0x17);
        // 17 0345
        gbc.setState(0x41fb, 0xa89d, 0xb060, 0x4c8d, 0x8215, 0xe8ca, 0x0, 0x0);
        gbc.writeMem(0x41fb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xa89d);
        EXPECT(gbc.pc(), 0x41fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0346
        gbc.setState(0x1160, 0xfc67, 0xf6d0, 0x1b9, 0xda, 0xce1e, 0x1, 0x1);
        gbc.writeMem(0x1160, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xfc67);
        EXPECT(gbc.pc(), 0x1161);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0347
        gbc.setState(0x5d33, 0x67ac, 0xde20, 0xaf2d, 0x422c, 0x9510, 0x0, 0x0);
        gbc.writeMem(0x5d33, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x67ac);
        EXPECT(gbc.pc(), 0x5d34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0348
        gbc.setState(0x6ed, 0x9a4f, 0x1c30, 0xbb15, 0xb3d1, 0xf158, 0x1, 0x0);
        gbc.writeMem(0x6ed, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9a4f);
        EXPECT(gbc.pc(), 0x6ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0349
        gbc.setState(0x2630, 0x130b, 0x93b0, 0x5bf, 0xa908, 0x26f5, 0x0, 0x0);
        gbc.writeMem(0x2630, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x130b);
        EXPECT(gbc.pc(), 0x2631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 034A
        gbc.setState(0x27bf, 0x1bbd, 0x44d0, 0xc5de, 0xf6ab, 0xf107, 0x1, 0x0);
        gbc.writeMem(0x27bf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1bbd);
        EXPECT(gbc.pc(), 0x27c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 034B
        gbc.setState(0x7ebc, 0xb4ec, 0xedf0, 0xc502, 0x70c9, 0xff41, 0x0, 0x0);
        gbc.writeMem(0x7ebc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb4ec);
        EXPECT(gbc.pc(), 0x7ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 034C
        gbc.setState(0xa040, 0x686f, 0x7b20, 0x6e3b, 0x3d0a, 0x1854, 0x1, 0x0);
        gbc.writeMem(0xa040, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x686f);
        EXPECT(gbc.pc(), 0xa041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa040), 0x17);
        // 17 034D
        gbc.setState(0xea15, 0x36b1, 0x7ff0, 0x3e02, 0x8c2d, 0x67eb, 0x1, 0x0);
        gbc.writeMem(0xea15, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x36b1);
        EXPECT(gbc.pc(), 0xea16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea15), 0x17);
        // 17 034E
        gbc.setState(0xc4c8, 0x95b8, 0xbb10, 0x6ec, 0x1900, 0xd30f, 0x0, 0x1);
        gbc.writeMem(0xc4c8, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x95b8);
        EXPECT(gbc.pc(), 0xc4c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c8), 0x17);
        // 17 034F
        gbc.setState(0x5040, 0x9db2, 0xf1e0, 0x543d, 0x8c4, 0x496e, 0x1, 0x0);
        gbc.writeMem(0x5040, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9db2);
        EXPECT(gbc.pc(), 0x5041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0350
        gbc.setState(0xadca, 0x2a6f, 0x5e00, 0x686f, 0x49f, 0x70c, 0x1, 0x0);
        gbc.writeMem(0xadca, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2a6f);
        EXPECT(gbc.pc(), 0xadcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadca), 0x17);
        // 17 0351
        gbc.setState(0xd362, 0x3860, 0x3400, 0x5c46, 0xdc42, 0xd622, 0x1, 0x1);
        gbc.writeMem(0xd362, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3860);
        EXPECT(gbc.pc(), 0xd363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd362), 0x17);
        // 17 0352
        gbc.setState(0x3e4f, 0xf1b0, 0xd6a0, 0xed83, 0x9f36, 0x2149, 0x1, 0x0);
        gbc.writeMem(0x3e4f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf1b0);
        EXPECT(gbc.pc(), 0x3e50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0353
        gbc.setState(0x571f, 0x1ff3, 0xd3a0, 0x8271, 0x40ae, 0x32a5, 0x1, 0x1);
        gbc.writeMem(0x571f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x1ff3);
        EXPECT(gbc.pc(), 0x5720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0354
        gbc.setState(0xb429, 0xf480, 0x4c00, 0x116c, 0xbdd, 0xb6af, 0x1, 0x1);
        gbc.writeMem(0xb429, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xf480);
        EXPECT(gbc.pc(), 0xb42a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb429), 0x17);
        // 17 0355
        gbc.setState(0x9813, 0xe126, 0xb840, 0xd7a, 0x1d85, 0x9d4a, 0x0, 0x0);
        gbc.writeMem(0x9813, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe126);
        EXPECT(gbc.pc(), 0x9814);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9813), 0x17);
        // 17 0356
        gbc.setState(0xf68, 0x231b, 0xe4d0, 0x292f, 0xe64b, 0x1384, 0x0, 0x1);
        gbc.writeMem(0xf68, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x231b);
        EXPECT(gbc.pc(), 0xf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0357
        gbc.setState(0x9b72, 0xcc32, 0xb730, 0x1c16, 0x41df, 0xd81e, 0x1, 0x1);
        gbc.writeMem(0x9b72, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xcc32);
        EXPECT(gbc.pc(), 0x9b73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b72), 0x17);
        // 17 0358
        gbc.setState(0xace4, 0xee99, 0xc170, 0x868c, 0xb42b, 0x5088, 0x1, 0x1);
        gbc.writeMem(0xace4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xee99);
        EXPECT(gbc.pc(), 0xace5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace4), 0x17);
        // 17 0359
        gbc.setState(0xf8a, 0x914c, 0xee80, 0x23b6, 0xd98, 0x5d45, 0x1, 0x1);
        gbc.writeMem(0xf8a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x914c);
        EXPECT(gbc.pc(), 0xf8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 035A
        gbc.setState(0x82d2, 0xd446, 0x2e20, 0x9fe7, 0x860d, 0x909e, 0x0, 0x1);
        gbc.writeMem(0x82d2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd446);
        EXPECT(gbc.pc(), 0x82d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82d2), 0x17);
        // 17 035B
        gbc.setState(0xafe4, 0x5e9f, 0x1ca0, 0x43d3, 0xfc5a, 0x4803, 0x1, 0x1);
        gbc.writeMem(0xafe4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5e9f);
        EXPECT(gbc.pc(), 0xafe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafe4), 0x17);
        // 17 035C
        gbc.setState(0xcb19, 0xbedb, 0xb1f0, 0x916c, 0xe0a3, 0xe57f, 0x1, 0x1);
        gbc.writeMem(0xcb19, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xbedb);
        EXPECT(gbc.pc(), 0xcb1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb19), 0x17);
        // 17 035D
        gbc.setState(0xc472, 0xc1c7, 0x5c10, 0x94f, 0xb4af, 0xfe53, 0x1, 0x0);
        gbc.writeMem(0xc472, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xc1c7);
        EXPECT(gbc.pc(), 0xc473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc472), 0x17);
        // 17 035E
        gbc.setState(0x31cf, 0xbdd7, 0x6bf0, 0x1954, 0x71d9, 0x4196, 0x0, 0x1);
        gbc.writeMem(0x31cf, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xbdd7);
        EXPECT(gbc.pc(), 0x31d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 035F
        gbc.setState(0x1b58, 0x86ed, 0xc650, 0xa5e3, 0x1a03, 0xb78c, 0x1, 0x0);
        gbc.writeMem(0x1b58, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x86ed);
        EXPECT(gbc.pc(), 0x1b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0360
        gbc.setState(0x32f, 0x134e, 0x640, 0x6b5e, 0xdb2, 0x4c92, 0x0, 0x1);
        gbc.writeMem(0x32f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x134e);
        EXPECT(gbc.pc(), 0x330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0361
        gbc.setState(0x73c9, 0xf935, 0x4050, 0xe0dd, 0xcdce, 0x89f9, 0x0, 0x1);
        gbc.writeMem(0x73c9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf935);
        EXPECT(gbc.pc(), 0x73ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0362
        gbc.setState(0x6b2f, 0xb588, 0xb1f0, 0x9e9, 0xb91c, 0x6b89, 0x0, 0x1);
        gbc.writeMem(0x6b2f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb588);
        EXPECT(gbc.pc(), 0x6b30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0363
        gbc.setState(0x6270, 0x77e1, 0xfb0, 0x8f1f, 0xf2bd, 0x74d4, 0x0, 0x1);
        gbc.writeMem(0x6270, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x77e1);
        EXPECT(gbc.pc(), 0x6271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0364
        gbc.setState(0x1059, 0x3ab0, 0x8190, 0x3ea5, 0x9eec, 0xfa90, 0x1, 0x0);
        gbc.writeMem(0x1059, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x3ab0);
        EXPECT(gbc.pc(), 0x105a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0365
        gbc.setState(0x6655, 0xe890, 0x85f0, 0x3d82, 0xceb7, 0x39cf, 0x0, 0x0);
        gbc.writeMem(0x6655, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe890);
        EXPECT(gbc.pc(), 0x6656);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0366
        gbc.setState(0x5b6a, 0x93ff, 0x4760, 0xb60d, 0x841d, 0x99e6, 0x1, 0x1);
        gbc.writeMem(0x5b6a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x93ff);
        EXPECT(gbc.pc(), 0x5b6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0367
        gbc.setState(0x62ad, 0xa60, 0x9540, 0x289c, 0xd14f, 0xa5b5, 0x1, 0x1);
        gbc.writeMem(0x62ad, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa60);
        EXPECT(gbc.pc(), 0x62ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0368
        gbc.setState(0x9508, 0xf28f, 0x3150, 0xe53e, 0x2630, 0x7cbe, 0x1, 0x1);
        gbc.writeMem(0x9508, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xf28f);
        EXPECT(gbc.pc(), 0x9509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9508), 0x17);
        // 17 0369
        gbc.setState(0x9131, 0x792, 0x3c30, 0x7131, 0x97ac, 0x9749, 0x0, 0x1);
        gbc.writeMem(0x9131, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x792);
        EXPECT(gbc.pc(), 0x9132);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9131), 0x17);
        // 17 036A
        gbc.setState(0x5eac, 0xf9ca, 0xb330, 0x1788, 0x8f8b, 0x7e52, 0x1, 0x1);
        gbc.writeMem(0x5eac, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf9ca);
        EXPECT(gbc.pc(), 0x5ead);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 036B
        gbc.setState(0xb3e0, 0x16f2, 0xe550, 0x1327, 0x507a, 0x2605, 0x0, 0x1);
        gbc.writeMem(0xb3e0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x16f2);
        EXPECT(gbc.pc(), 0xb3e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3e0), 0x17);
        // 17 036C
        gbc.setState(0x3ea2, 0x21ed, 0x310, 0xdd3f, 0x2371, 0x4657, 0x0, 0x0);
        gbc.writeMem(0x3ea2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x21ed);
        EXPECT(gbc.pc(), 0x3ea3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 036F
        gbc.setState(0xc801, 0xf262, 0x47a0, 0x5ecd, 0x6c67, 0xbf17, 0x1, 0x0);
        gbc.writeMem(0xc801, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf262);
        EXPECT(gbc.pc(), 0xc802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc801), 0x17);
        // 17 0370
        gbc.setState(0xad6a, 0x357a, 0xeb60, 0xfcf9, 0x9079, 0x8a1e, 0x1, 0x0);
        gbc.writeMem(0xad6a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x357a);
        EXPECT(gbc.pc(), 0xad6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad6a), 0x17);
        // 17 0371
        gbc.setState(0x41ba, 0x6e2a, 0x31e0, 0x13d0, 0xbb7, 0x86ad, 0x0, 0x1);
        gbc.writeMem(0x41ba, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x6e2a);
        EXPECT(gbc.pc(), 0x41bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0372
        gbc.setState(0x9455, 0xce2f, 0x8a70, 0x2304, 0xd56b, 0xe1c6, 0x1, 0x1);
        gbc.writeMem(0x9455, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xce2f);
        EXPECT(gbc.pc(), 0x9456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9455), 0x17);
        // 17 0373
        gbc.setState(0x1bce, 0xd750, 0x9e60, 0x39d2, 0x7217, 0x8381, 0x0, 0x1);
        gbc.writeMem(0x1bce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd750);
        EXPECT(gbc.pc(), 0x1bcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0374
        gbc.setState(0xbc06, 0x7fb3, 0x9de0, 0x9a0, 0xd074, 0x37f4, 0x0, 0x1);
        gbc.writeMem(0xbc06, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7fb3);
        EXPECT(gbc.pc(), 0xbc07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc06), 0x17);
        // 17 0375
        gbc.setState(0x1b82, 0xad0a, 0xa750, 0x2402, 0xcf2, 0x5a5e, 0x1, 0x0);
        gbc.writeMem(0x1b82, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xad0a);
        EXPECT(gbc.pc(), 0x1b83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0377
        gbc.setState(0x49da, 0x434b, 0xe0d0, 0xc7b4, 0xba46, 0x3e96, 0x0, 0x1);
        gbc.writeMem(0x49da, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x434b);
        EXPECT(gbc.pc(), 0x49db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0378
        gbc.setState(0x70e3, 0x1550, 0xc450, 0xa6f, 0xfee5, 0x7410, 0x0, 0x1);
        gbc.writeMem(0x70e3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1550);
        EXPECT(gbc.pc(), 0x70e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0379
        gbc.setState(0x989a, 0xa7d6, 0x89a0, 0x75fe, 0x1469, 0x31b7, 0x0, 0x1);
        gbc.writeMem(0x989a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa7d6);
        EXPECT(gbc.pc(), 0x989b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x989a), 0x17);
        // 17 037B
        gbc.setState(0x5bb3, 0x52e9, 0x8cc0, 0xa937, 0xdab8, 0x299a, 0x0, 0x0);
        gbc.writeMem(0x5bb3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x52e9);
        EXPECT(gbc.pc(), 0x5bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 037C
        gbc.setState(0xd71b, 0xa530, 0x8140, 0x3608, 0xfde2, 0xe42c, 0x1, 0x0);
        gbc.writeMem(0xd71b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa530);
        EXPECT(gbc.pc(), 0xd71c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd71b), 0x17);
        // 17 037D
        gbc.setState(0x3153, 0x1ca7, 0x3ed0, 0xc3ab, 0xde89, 0xadb0, 0x0, 0x0);
        gbc.writeMem(0x3153, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x1ca7);
        EXPECT(gbc.pc(), 0x3154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 037E
        gbc.setState(0xc514, 0xc74c, 0x73e0, 0xd499, 0x7395, 0x680a, 0x0, 0x0);
        gbc.writeMem(0xc514, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc74c);
        EXPECT(gbc.pc(), 0xc515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc514), 0x17);
        // 17 037F
        gbc.setState(0xdc14, 0x4801, 0x5de0, 0xf16e, 0xe838, 0x86d2, 0x0, 0x0);
        gbc.writeMem(0xdc14, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4801);
        EXPECT(gbc.pc(), 0xdc15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc14), 0x17);
        // 17 0380
        gbc.setState(0x18a5, 0xd0be, 0xebb0, 0x9c4, 0x6a8b, 0x8d6, 0x0, 0x1);
        gbc.writeMem(0x18a5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd0be);
        EXPECT(gbc.pc(), 0x18a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0381
        gbc.setState(0xda60, 0x33f7, 0x53a0, 0x3ab2, 0x119, 0x87c6, 0x0, 0x0);
        gbc.writeMem(0xda60, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x33f7);
        EXPECT(gbc.pc(), 0xda61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda60), 0x17);
        // 17 0382
        gbc.setState(0x799d, 0x6d09, 0xcc40, 0xf93, 0xffec, 0xdd1f, 0x1, 0x0);
        gbc.writeMem(0x799d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6d09);
        EXPECT(gbc.pc(), 0x799e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0383
        gbc.setState(0xbeea, 0x6d, 0xee0, 0x2458, 0xf765, 0xf232, 0x1, 0x0);
        gbc.writeMem(0xbeea, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6d);
        EXPECT(gbc.pc(), 0xbeeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeea), 0x17);
        // 17 0384
        gbc.setState(0x3ab, 0xee61, 0x8a10, 0xd432, 0x7089, 0x4335, 0x0, 0x0);
        gbc.writeMem(0x3ab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xee61);
        EXPECT(gbc.pc(), 0x3ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0385
        gbc.setState(0x6bce, 0x21e1, 0x99b0, 0x16bb, 0xb959, 0x3b98, 0x0, 0x0);
        gbc.writeMem(0x6bce, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x21e1);
        EXPECT(gbc.pc(), 0x6bcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0386
        gbc.setState(0x7b1, 0x9dcd, 0x9f50, 0x38b6, 0x7a8d, 0x11de, 0x1, 0x0);
        gbc.writeMem(0x7b1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x9dcd);
        EXPECT(gbc.pc(), 0x7b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0387
        gbc.setState(0xb5f1, 0xc509, 0xd950, 0xf8d9, 0x4060, 0x2774, 0x1, 0x1);
        gbc.writeMem(0xb5f1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc509);
        EXPECT(gbc.pc(), 0xb5f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5f1), 0x17);
        // 17 0388
        gbc.setState(0xe2b7, 0x5851, 0xc8c0, 0xe776, 0x28d1, 0x6caa, 0x0, 0x1);
        gbc.writeMem(0xe2b7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5851);
        EXPECT(gbc.pc(), 0xe2b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2b7), 0x17);
        // 17 0389
        gbc.setState(0x4af0, 0x2fcd, 0xdc20, 0xa608, 0x519b, 0xc4e7, 0x0, 0x0);
        gbc.writeMem(0x4af0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2fcd);
        EXPECT(gbc.pc(), 0x4af1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 038A
        gbc.setState(0x4b2, 0x41b8, 0xec70, 0x582d, 0xe609, 0x7681, 0x1, 0x1);
        gbc.writeMem(0x4b2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x41b8);
        EXPECT(gbc.pc(), 0x4b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 038B
        gbc.setState(0x684a, 0x245d, 0x69b0, 0xfaee, 0x196d, 0xbef9, 0x1, 0x1);
        gbc.writeMem(0x684a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x245d);
        EXPECT(gbc.pc(), 0x684b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 038C
        gbc.setState(0x69f5, 0xcd47, 0x910, 0xd374, 0x1b10, 0xf143, 0x0, 0x0);
        gbc.writeMem(0x69f5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcd47);
        EXPECT(gbc.pc(), 0x69f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 038D
        gbc.setState(0x2866, 0x1e29, 0x88c0, 0xc3ee, 0x3cf2, 0xea30, 0x0, 0x1);
        gbc.writeMem(0x2866, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1e29);
        EXPECT(gbc.pc(), 0x2867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 038E
        gbc.setState(0x5dd7, 0xa4b7, 0x3cf0, 0x608a, 0x3f74, 0xef23, 0x1, 0x1);
        gbc.writeMem(0x5dd7, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa4b7);
        EXPECT(gbc.pc(), 0x5dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 038F
        gbc.setState(0x6f51, 0xa1df, 0xcae0, 0x51a6, 0x66de, 0x9acc, 0x0, 0x0);
        gbc.writeMem(0x6f51, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa1df);
        EXPECT(gbc.pc(), 0x6f52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 0390
        gbc.setState(0xa78c, 0x775e, 0x17a0, 0x839f, 0xfbe4, 0x62c4, 0x1, 0x0);
        gbc.writeMem(0xa78c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x775e);
        EXPECT(gbc.pc(), 0xa78d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa78c), 0x17);
        // 17 0392
        gbc.setState(0xb27f, 0x4afb, 0xd4f0, 0x6a7f, 0xa792, 0x7f73, 0x0, 0x1);
        gbc.writeMem(0xb27f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x4afb);
        EXPECT(gbc.pc(), 0xb280);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb27f), 0x17);
        // 17 0393
        gbc.setState(0xcbf4, 0xbd07, 0xad0, 0x3fb1, 0x11a4, 0xf49a, 0x0, 0x0);
        gbc.writeMem(0xcbf4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xbd07);
        EXPECT(gbc.pc(), 0xcbf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf4), 0x17);
        // 17 0394
        gbc.setState(0xda64, 0x9539, 0x65b0, 0x5cd4, 0x558f, 0x17d0, 0x1, 0x0);
        gbc.writeMem(0xda64, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9539);
        EXPECT(gbc.pc(), 0xda65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda64), 0x17);
        // 17 0395
        gbc.setState(0xe8cc, 0xa573, 0x63a0, 0x885e, 0x8c68, 0x7824, 0x1, 0x0);
        gbc.writeMem(0xe8cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa573);
        EXPECT(gbc.pc(), 0xe8cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8cc), 0x17);
        // 17 0396
        gbc.setState(0x9d0b, 0x5b30, 0x8100, 0xfb08, 0xed7, 0x9586, 0x1, 0x0);
        gbc.writeMem(0x9d0b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x5b30);
        EXPECT(gbc.pc(), 0x9d0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d0b), 0x17);
        // 17 0397
        gbc.setState(0x113b, 0xfcad, 0x29f0, 0xd55e, 0xc7c1, 0x27bc, 0x0, 0x1);
        gbc.writeMem(0x113b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xfcad);
        EXPECT(gbc.pc(), 0x113c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0398
        gbc.setState(0x50cc, 0x1ac8, 0x57e0, 0xe04a, 0x206e, 0xe0b4, 0x0, 0x1);
        gbc.writeMem(0x50cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1ac8);
        EXPECT(gbc.pc(), 0x50cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 0399
        gbc.setState(0x6251, 0x4558, 0x7e50, 0xa9ef, 0xeb11, 0x94fc, 0x0, 0x1);
        gbc.writeMem(0x6251, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4558);
        EXPECT(gbc.pc(), 0x6252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 039A
        gbc.setState(0x1aa9, 0x8119, 0x9f40, 0x1475, 0x48aa, 0xcfcb, 0x1, 0x0);
        gbc.writeMem(0x1aa9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8119);
        EXPECT(gbc.pc(), 0x1aaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 039B
        gbc.setState(0x32d6, 0xaba, 0x6310, 0x5ef5, 0xfa92, 0x9472, 0x1, 0x1);
        gbc.writeMem(0x32d6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xaba);
        EXPECT(gbc.pc(), 0x32d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 039C
        gbc.setState(0x2a59, 0x5d17, 0x5220, 0x2e0a, 0x122f, 0x9249, 0x1, 0x0);
        gbc.writeMem(0x2a59, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5d17);
        EXPECT(gbc.pc(), 0x2a5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 039D
        gbc.setState(0x4bfd, 0xe64, 0x2aa0, 0x1540, 0x69b0, 0x69cb, 0x0, 0x1);
        gbc.writeMem(0x4bfd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe64);
        EXPECT(gbc.pc(), 0x4bfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 039E
        gbc.setState(0x24f9, 0xc8ee, 0xc3a0, 0x9b13, 0x8c07, 0x7672, 0x1, 0x1);
        gbc.writeMem(0x24f9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc8ee);
        EXPECT(gbc.pc(), 0x24fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 039F
        gbc.setState(0x2edb, 0x2212, 0x8ad0, 0x507f, 0x7486, 0x2a52, 0x0, 0x0);
        gbc.writeMem(0x2edb, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2212);
        EXPECT(gbc.pc(), 0x2edc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A0
        gbc.setState(0x748a, 0x9162, 0x4df0, 0xde41, 0x18e7, 0xd084, 0x0, 0x1);
        gbc.writeMem(0x748a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9162);
        EXPECT(gbc.pc(), 0x748b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03A1
        gbc.setState(0x5fdc, 0x26d3, 0xc4e0, 0xd1a, 0x7063, 0xae0f, 0x1, 0x0);
        gbc.writeMem(0x5fdc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x26d3);
        EXPECT(gbc.pc(), 0x5fdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A2
        gbc.setState(0x75d1, 0x1a73, 0xf480, 0x442, 0xfe3c, 0xcbe0, 0x0, 0x1);
        gbc.writeMem(0x75d1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1a73);
        EXPECT(gbc.pc(), 0x75d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A3
        gbc.setState(0x4376, 0x9af4, 0x81a0, 0x4776, 0x9718, 0x8205, 0x0, 0x1);
        gbc.writeMem(0x4376, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9af4);
        EXPECT(gbc.pc(), 0x4377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A4
        gbc.setState(0x9839, 0x252c, 0x5f60, 0xa839, 0xf94a, 0xb4d1, 0x0, 0x1);
        gbc.writeMem(0x9839, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x252c);
        EXPECT(gbc.pc(), 0x983a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9839), 0x17);
        // 17 03A5
        gbc.setState(0x60ab, 0xfa3c, 0xfd10, 0x8f26, 0x61b2, 0x6f98, 0x0, 0x1);
        gbc.writeMem(0x60ab, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfa3c);
        EXPECT(gbc.pc(), 0x60ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A6
        gbc.setState(0x34b0, 0x48c4, 0xbfc0, 0x8849, 0xf127, 0xa6f7, 0x1, 0x0);
        gbc.writeMem(0x34b0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x48c4);
        EXPECT(gbc.pc(), 0x34b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A7
        gbc.setState(0x70ca, 0x8e1f, 0x80b0, 0x16a9, 0x7c31, 0x4c2b, 0x1, 0x0);
        gbc.writeMem(0x70ca, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8e1f);
        EXPECT(gbc.pc(), 0x70cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03A8
        gbc.setState(0x97e9, 0x185b, 0x8b70, 0x6a73, 0x66eb, 0xece9, 0x1, 0x0);
        gbc.writeMem(0x97e9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x185b);
        EXPECT(gbc.pc(), 0x97ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e9), 0x17);
        // 17 03A9
        gbc.setState(0x8a13, 0xebd9, 0x2350, 0xc564, 0xd2c9, 0xa2fb, 0x0, 0x1);
        gbc.writeMem(0x8a13, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xebd9);
        EXPECT(gbc.pc(), 0x8a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a13), 0x17);
        // 17 03AB
        gbc.setState(0xb769, 0xf0df, 0x8e00, 0x1ca5, 0xd456, 0x64ab, 0x1, 0x1);
        gbc.writeMem(0xb769, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf0df);
        EXPECT(gbc.pc(), 0xb76a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb769), 0x17);
        // 17 03AC
        gbc.setState(0xe05f, 0x6a3c, 0x3d00, 0xfad5, 0x344d, 0xfb9c, 0x1, 0x0);
        gbc.writeMem(0xe05f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6a3c);
        EXPECT(gbc.pc(), 0xe060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe05f), 0x17);
        // 17 03AD
        gbc.setState(0x4489, 0xaccb, 0xb740, 0x9805, 0xe3b3, 0xae5b, 0x0, 0x1);
        gbc.writeMem(0x4489, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xaccb);
        EXPECT(gbc.pc(), 0x448a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03AE
        gbc.setState(0x2459, 0x7828, 0xba40, 0xce18, 0x1eb2, 0xc7e7, 0x0, 0x1);
        gbc.writeMem(0x2459, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7828);
        EXPECT(gbc.pc(), 0x245a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03AF
        gbc.setState(0x2f54, 0x2ee9, 0x2da0, 0x40e6, 0xaef1, 0x2ffc, 0x1, 0x0);
        gbc.writeMem(0x2f54, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2ee9);
        EXPECT(gbc.pc(), 0x2f55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03B0
        gbc.setState(0x533f, 0x8450, 0xfc10, 0x29b0, 0x51bd, 0xd0ef, 0x1, 0x1);
        gbc.writeMem(0x533f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x8450);
        EXPECT(gbc.pc(), 0x5340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03B1
        gbc.setState(0x1221, 0xbd6c, 0x87f0, 0xd9f3, 0x41d2, 0x4f15, 0x1, 0x1);
        gbc.writeMem(0x1221, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xbd6c);
        EXPECT(gbc.pc(), 0x1222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03B2
        gbc.setState(0x19cc, 0xf09c, 0x1c00, 0x93c8, 0xb9bb, 0x270b, 0x1, 0x0);
        gbc.writeMem(0x19cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf09c);
        EXPECT(gbc.pc(), 0x19cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03B3
        gbc.setState(0x1b4e, 0xf83, 0x4cc0, 0x31ff, 0xe3b2, 0xe593, 0x0, 0x0);
        gbc.writeMem(0x1b4e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf83);
        EXPECT(gbc.pc(), 0x1b4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03B4
        gbc.setState(0x2aee, 0xd436, 0x8530, 0xedbf, 0xb6c8, 0x1f38, 0x1, 0x1);
        gbc.writeMem(0x2aee, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd436);
        EXPECT(gbc.pc(), 0x2aef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03B5
        gbc.setState(0x21c4, 0x5565, 0xb9a0, 0x210d, 0xd9e0, 0xa1ad, 0x0, 0x1);
        gbc.writeMem(0x21c4, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5565);
        EXPECT(gbc.pc(), 0x21c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03B6
        gbc.setState(0x4dbd, 0xd063, 0x1ab0, 0x10f, 0x924f, 0x4230, 0x0, 0x0);
        gbc.writeMem(0x4dbd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd063);
        EXPECT(gbc.pc(), 0x4dbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03B7
        gbc.setState(0x40f5, 0x4811, 0xc780, 0xe9d3, 0x6ad7, 0xb9dc, 0x0, 0x1);
        gbc.writeMem(0x40f5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4811);
        EXPECT(gbc.pc(), 0x40f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03B8
        gbc.setState(0x9360, 0x3977, 0x28d0, 0xb204, 0x23ea, 0xf07c, 0x1, 0x1);
        gbc.writeMem(0x9360, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x3977);
        EXPECT(gbc.pc(), 0x9361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9360), 0x17);
        // 17 03B9
        gbc.setState(0x3b92, 0x8c14, 0x2460, 0x548, 0x59c5, 0x36bb, 0x1, 0x1);
        gbc.writeMem(0x3b92, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8c14);
        EXPECT(gbc.pc(), 0x3b93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03BA
        gbc.setState(0x2ec0, 0x80aa, 0x7e0, 0xc9ee, 0x92ef, 0xb63e, 0x1, 0x0);
        gbc.writeMem(0x2ec0, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x80aa);
        EXPECT(gbc.pc(), 0x2ec1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03BB
        gbc.setState(0xe12a, 0x204, 0x9fd0, 0xed1f, 0xdbf5, 0x6732, 0x0, 0x1);
        gbc.writeMem(0xe12a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x204);
        EXPECT(gbc.pc(), 0xe12b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12a), 0x17);
        // 17 03BC
        gbc.setState(0x1aa6, 0xc820, 0xfaf0, 0xe533, 0x50da, 0xacf8, 0x1, 0x1);
        gbc.writeMem(0x1aa6, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xc820);
        EXPECT(gbc.pc(), 0x1aa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03BD
        gbc.setState(0x1456, 0xea04, 0xedb0, 0xa3b5, 0x23bc, 0x1590, 0x1, 0x0);
        gbc.writeMem(0x1456, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xea04);
        EXPECT(gbc.pc(), 0x1457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03BE
        gbc.setState(0x5220, 0xaa3a, 0xcac0, 0x94f7, 0xcd7c, 0xe73d, 0x1, 0x0);
        gbc.writeMem(0x5220, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xaa3a);
        EXPECT(gbc.pc(), 0x5221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03BF
        gbc.setState(0xc0cc, 0x7b94, 0x1fb0, 0x9d6f, 0xb4e, 0x1e24, 0x0, 0x1);
        gbc.writeMem(0xc0cc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x7b94);
        EXPECT(gbc.pc(), 0xc0cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0cc), 0x17);
        // 17 03C0
        gbc.setState(0xc9ae, 0xb14d, 0x73a0, 0xb536, 0x3ccd, 0x5018, 0x0, 0x1);
        gbc.writeMem(0xc9ae, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb14d);
        EXPECT(gbc.pc(), 0xc9af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ae), 0x17);
        // 17 03C1
        gbc.setState(0x64, 0xa875, 0xc7e0, 0x8263, 0x278a, 0x8613, 0x1, 0x0);
        gbc.writeMem(0x64, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa875);
        EXPECT(gbc.pc(), 0x65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03C2
        gbc.setState(0x32ee, 0xba19, 0x66d0, 0xfcb6, 0xfb26, 0x1faa, 0x1, 0x1);
        gbc.writeMem(0x32ee, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xba19);
        EXPECT(gbc.pc(), 0x32ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03C3
        gbc.setState(0xa753, 0x7770, 0xba70, 0xace0, 0xe08, 0x16e8, 0x1, 0x0);
        gbc.writeMem(0xa753, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7770);
        EXPECT(gbc.pc(), 0xa754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa753), 0x17);
        // 17 03C5
        gbc.setState(0xbe58, 0x637e, 0xae20, 0x8049, 0x2eb1, 0x44d9, 0x0, 0x1);
        gbc.writeMem(0xbe58, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x637e);
        EXPECT(gbc.pc(), 0xbe59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe58), 0x17);
        // 17 03C6
        gbc.setState(0x38e5, 0x3542, 0xb3d0, 0x1eab, 0xe640, 0xdb0, 0x0, 0x0);
        gbc.writeMem(0x38e5, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3542);
        EXPECT(gbc.pc(), 0x38e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03C7
        gbc.setState(0x4043, 0xbb85, 0x70, 0x531, 0x71a8, 0x9ce3, 0x0, 0x0);
        gbc.writeMem(0x4043, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbb85);
        EXPECT(gbc.pc(), 0x4044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03C8
        gbc.setState(0x9b69, 0xbea0, 0xf310, 0x4237, 0x95ad, 0x62b7, 0x0, 0x1);
        gbc.writeMem(0x9b69, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xbea0);
        EXPECT(gbc.pc(), 0x9b6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b69), 0x17);
        // 17 03CA
        gbc.setState(0x9251, 0x5b1c, 0xd5d0, 0x3bff, 0x7ef4, 0x434c, 0x1, 0x0);
        gbc.writeMem(0x9251, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5b1c);
        EXPECT(gbc.pc(), 0x9252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9251), 0x17);
        // 17 03CB
        gbc.setState(0xcb53, 0x9a57, 0x7880, 0xa872, 0xe9f7, 0xb79, 0x0, 0x0);
        gbc.writeMem(0xcb53, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9a57);
        EXPECT(gbc.pc(), 0xcb54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb53), 0x17);
        // 17 03CC
        gbc.setState(0x66dc, 0xfe4a, 0x5450, 0x20a0, 0x8941, 0x5822, 0x0, 0x1);
        gbc.writeMem(0x66dc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xfe4a);
        EXPECT(gbc.pc(), 0x66dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03CD
        gbc.setState(0x71cd, 0xfa38, 0xa2b0, 0xa102, 0x164, 0x1919, 0x1, 0x1);
        gbc.writeMem(0x71cd, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xfa38);
        EXPECT(gbc.pc(), 0x71ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03CE
        gbc.setState(0xcc2b, 0xb7fc, 0x3740, 0x13a2, 0xfd85, 0x6cc3, 0x0, 0x0);
        gbc.writeMem(0xcc2b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb7fc);
        EXPECT(gbc.pc(), 0xcc2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc2b), 0x17);
        // 17 03CF
        gbc.setState(0x45e, 0x4243, 0x4470, 0x4e81, 0xbafe, 0x7058, 0x1, 0x1);
        gbc.writeMem(0x45e, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4243);
        EXPECT(gbc.pc(), 0x45f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03D0
        gbc.setState(0x4a05, 0x122e, 0xb250, 0xd1ca, 0x1a5e, 0xc55f, 0x0, 0x0);
        gbc.writeMem(0x4a05, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x122e);
        EXPECT(gbc.pc(), 0x4a06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03D1
        gbc.setState(0x4f5d, 0xcc33, 0x6830, 0x450d, 0x969f, 0xc19b, 0x0, 0x1);
        gbc.writeMem(0x4f5d, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcc33);
        EXPECT(gbc.pc(), 0x4f5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03D2
        gbc.setState(0x3ce3, 0x20b8, 0xf0a0, 0x6a93, 0x6d6c, 0x6be7, 0x0, 0x1);
        gbc.writeMem(0x3ce3, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x20b8);
        EXPECT(gbc.pc(), 0x3ce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03D3
        gbc.setState(0x4fff, 0xdf61, 0xc500, 0x435, 0x8fd1, 0x3156, 0x0, 0x0);
        gbc.writeMem(0x4fff, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xdf61);
        EXPECT(gbc.pc(), 0x5000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03D4
        gbc.setState(0xd3c1, 0xe5c, 0x8a0, 0x9ef4, 0xd5a2, 0xc666, 0x0, 0x1);
        gbc.writeMem(0xd3c1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe5c);
        EXPECT(gbc.pc(), 0xd3c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c1), 0x17);
        // 17 03D5
        gbc.setState(0xa00f, 0xf758, 0x1960, 0x3703, 0x4fa9, 0xd10c, 0x0, 0x1);
        gbc.writeMem(0xa00f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf758);
        EXPECT(gbc.pc(), 0xa010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa00f), 0x17);
        // 17 03D6
        gbc.setState(0x76b, 0x8dcd, 0xacc0, 0xdfd5, 0xbad7, 0xf4a, 0x1, 0x0);
        gbc.writeMem(0x76b, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x8dcd);
        EXPECT(gbc.pc(), 0x76c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03D7
        gbc.setState(0xc6b1, 0xab9a, 0x9960, 0xf209, 0x7ae, 0x9983, 0x0, 0x0);
        gbc.writeMem(0xc6b1, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xab9a);
        EXPECT(gbc.pc(), 0xc6b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6b1), 0x17);
        // 17 03D8
        gbc.setState(0x3935, 0x84a, 0x7120, 0x28b0, 0xedb1, 0xfd2d, 0x0, 0x1);
        gbc.writeMem(0x3935, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x84a);
        EXPECT(gbc.pc(), 0x3936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03D9
        gbc.setState(0x3546, 0x5b00, 0x6110, 0xeaaf, 0x54e4, 0x13e6, 0x0, 0x1);
        gbc.writeMem(0x3546, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5b00);
        EXPECT(gbc.pc(), 0x3547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03DA
        gbc.setState(0x7126, 0xa05c, 0x58a0, 0x9a5b, 0xdb26, 0xcb71, 0x1, 0x0);
        gbc.writeMem(0x7126, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa05c);
        EXPECT(gbc.pc(), 0x7127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03DB
        gbc.setState(0xb101, 0x7218, 0x38e0, 0x4cd2, 0x742, 0x1e27, 0x0, 0x1);
        gbc.writeMem(0xb101, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7218);
        EXPECT(gbc.pc(), 0xb102);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb101), 0x17);
        // 17 03DC
        gbc.setState(0xbf3f, 0x616b, 0xed40, 0x5006, 0xdd60, 0xfb21, 0x1, 0x1);
        gbc.writeMem(0xbf3f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x616b);
        EXPECT(gbc.pc(), 0xbf40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf3f), 0x17);
        // 17 03DD
        gbc.setState(0x12c, 0xc963, 0xf560, 0xa7d2, 0xca63, 0x1bf5, 0x1, 0x0);
        gbc.writeMem(0x12c, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc963);
        EXPECT(gbc.pc(), 0x12d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03DE
        gbc.setState(0xe8fc, 0x5ab2, 0x3660, 0xb9a9, 0x36a4, 0x98d, 0x1, 0x0);
        gbc.writeMem(0xe8fc, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5ab2);
        EXPECT(gbc.pc(), 0xe8fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8fc), 0x17);
        // 17 03E0
        gbc.setState(0x3e7a, 0x5664, 0x10f0, 0x9900, 0x771f, 0x90ef, 0x1, 0x1);
        gbc.writeMem(0x3e7a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5664);
        EXPECT(gbc.pc(), 0x3e7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03E1
        gbc.setState(0xb229, 0xeea3, 0x2a00, 0x8621, 0xc058, 0x4547, 0x0, 0x0);
        gbc.writeMem(0xb229, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xeea3);
        EXPECT(gbc.pc(), 0xb22a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb229), 0x17);
        // 17 03E2
        gbc.setState(0x8d2f, 0xf8a2, 0x970, 0xb233, 0xd6ba, 0x527a, 0x1, 0x0);
        gbc.writeMem(0x8d2f, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf8a2);
        EXPECT(gbc.pc(), 0x8d30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d2f), 0x17);
        // 17 03E3
        gbc.setState(0x50f2, 0x5459, 0x8080, 0x6dd, 0xbdc0, 0x9034, 0x1, 0x0);
        gbc.writeMem(0x50f2, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5459);
        EXPECT(gbc.pc(), 0x50f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 17 03E4
        gbc.setState(0x173a, 0xb1ed, 0x4850, 0xce49, 0x67c8, 0xc16, 0x0, 0x0);
        gbc.writeMem(0x173a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb1ed);
        EXPECT(gbc.pc(), 0x173b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 17 03E5
        gbc.setState(0xe73a, 0xf608, 0x93d0, 0xb30c, 0xc55d, 0x2bf, 0x1, 0x1);
        gbc.writeMem(0xe73a, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf608);
        EXPECT(gbc.pc(), 0xe73b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe73a), 0x17);
        // 17 03E6
        gbc.setState(0xd3c9, 0xaa49, 0x5f30, 0xa740, 0xd848, 0x3b40, 0x0, 0x1);
        gbc.writeMem(0xd3c9, { 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xaa49);
        EXPECT(gbc.pc(), 0xd3ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c9), 0x17);
    }
