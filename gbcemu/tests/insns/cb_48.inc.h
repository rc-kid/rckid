    TEST(gbcemu, opcode_cb_48) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 48 0000
        gbc.setState(0x7297, 0x1f1, 0x8bb0, 0xcff1, 0x2827, 0xc002, 0x0, 0x1);
        gbc.writeMem(0x7297, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1f1);
        EXPECT(gbc.pc(), 0x7299);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0001
        gbc.setState(0x14f2, 0x8e67, 0x9560, 0xccd5, 0xeab6, 0xea4b, 0x0, 0x1);
        gbc.writeMem(0x14f2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8e67);
        EXPECT(gbc.pc(), 0x14f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0002
        gbc.setState(0xe2a5, 0x51df, 0x17c0, 0x2942, 0x93c1, 0x4057, 0x0, 0x1);
        gbc.writeMem(0xe2a5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x51df);
        EXPECT(gbc.pc(), 0xe2a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a5), 0xcb);
        EXPECT(gbc.readMem(0xe2a6), 0x48);
        // CB 48 0003
        gbc.setState(0x6472, 0xe335, 0x46d0, 0x84df, 0xb51c, 0xe257, 0x1, 0x1);
        gbc.writeMem(0x6472, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe335);
        EXPECT(gbc.pc(), 0x6474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0004
        gbc.setState(0x76bb, 0x2f46, 0x7220, 0x1e0d, 0x9913, 0xd9ee, 0x0, 0x1);
        gbc.writeMem(0x76bb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2f46);
        EXPECT(gbc.pc(), 0x76bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0005
        gbc.setState(0x86f4, 0xf81d, 0x5ba0, 0x1d09, 0xfbbf, 0x69de, 0x1, 0x0);
        gbc.writeMem(0x86f4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf81d);
        EXPECT(gbc.pc(), 0x86f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f4), 0xcb);
        EXPECT(gbc.readMem(0x86f5), 0x48);
        // CB 48 0006
        gbc.setState(0xe24, 0x5890, 0x3240, 0x455b, 0x294f, 0x9720, 0x0, 0x0);
        gbc.writeMem(0xe24, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x5890);
        EXPECT(gbc.pc(), 0xe26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0007
        gbc.setState(0xc771, 0xfe55, 0xeeb0, 0x1060, 0x3cc8, 0xab08, 0x1, 0x0);
        gbc.writeMem(0xc771, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xfe55);
        EXPECT(gbc.pc(), 0xc773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc771), 0xcb);
        EXPECT(gbc.readMem(0xc772), 0x48);
        // CB 48 0008
        gbc.setState(0x69d8, 0x4ad4, 0xe0d0, 0xdd47, 0x60ef, 0xbd82, 0x0, 0x1);
        gbc.writeMem(0x69d8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4ad4);
        EXPECT(gbc.pc(), 0x69da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0009
        gbc.setState(0xe0ab, 0x7c07, 0x2780, 0x7b4, 0x3f39, 0xa1a4, 0x1, 0x1);
        gbc.writeMem(0xe0ab, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7c07);
        EXPECT(gbc.pc(), 0xe0ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ab), 0xcb);
        EXPECT(gbc.readMem(0xe0ac), 0x48);
        // CB 48 000A
        gbc.setState(0xad03, 0x2927, 0x5360, 0x79e5, 0xc8cf, 0x2913, 0x1, 0x1);
        gbc.writeMem(0xad03, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x2927);
        EXPECT(gbc.pc(), 0xad05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad03), 0xcb);
        EXPECT(gbc.readMem(0xad04), 0x48);
        // CB 48 000B
        gbc.setState(0x642d, 0xa632, 0x6c40, 0xed77, 0x1a33, 0x4bba, 0x1, 0x0);
        gbc.writeMem(0x642d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa632);
        EXPECT(gbc.pc(), 0x642f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 000C
        gbc.setState(0xab8f, 0xaa77, 0x5d0, 0xdab1, 0xfce4, 0x466, 0x1, 0x1);
        gbc.writeMem(0xab8f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xaa77);
        EXPECT(gbc.pc(), 0xab91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab8f), 0xcb);
        EXPECT(gbc.readMem(0xab90), 0x48);
        // CB 48 000D
        gbc.setState(0xef8c, 0xbb34, 0xb50, 0xf7, 0xf7a7, 0xf3e3, 0x0, 0x0);
        gbc.writeMem(0xef8c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbb34);
        EXPECT(gbc.pc(), 0xef8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef8c), 0xcb);
        EXPECT(gbc.readMem(0xef8d), 0x48);
        // CB 48 000E
        gbc.setState(0xaef2, 0xbacf, 0x8c70, 0xe988, 0x9285, 0xd7a3, 0x0, 0x0);
        gbc.writeMem(0xaef2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xbacf);
        EXPECT(gbc.pc(), 0xaef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaef2), 0xcb);
        EXPECT(gbc.readMem(0xaef3), 0x48);
        // CB 48 000F
        gbc.setState(0x8038, 0x4d6a, 0x19f0, 0x3bc, 0x8e58, 0x8e8f, 0x1, 0x1);
        gbc.writeMem(0x8038, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4d6a);
        EXPECT(gbc.pc(), 0x803a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8038), 0xcb);
        EXPECT(gbc.readMem(0x8039), 0x48);
        // CB 48 0010
        gbc.setState(0x4204, 0xb6d5, 0x4540, 0x88cd, 0xab36, 0x73cd, 0x1, 0x1);
        gbc.writeMem(0x4204, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb6d5);
        EXPECT(gbc.pc(), 0x4206);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0011
        gbc.setState(0x5e92, 0x57de, 0xb850, 0xf5ee, 0x1e77, 0xf584, 0x0, 0x1);
        gbc.writeMem(0x5e92, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x57de);
        EXPECT(gbc.pc(), 0x5e94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0012
        gbc.setState(0x981d, 0x8ec1, 0x9100, 0x4738, 0x5183, 0xdb75, 0x0, 0x1);
        gbc.writeMem(0x981d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8ec1);
        EXPECT(gbc.pc(), 0x981f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x981d), 0xcb);
        EXPECT(gbc.readMem(0x981e), 0x48);
        // CB 48 0013
        gbc.setState(0x6a94, 0xa965, 0xb860, 0xdff8, 0xe847, 0xcb44, 0x1, 0x0);
        gbc.writeMem(0x6a94, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa965);
        EXPECT(gbc.pc(), 0x6a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0015
        gbc.setState(0x8de1, 0x871d, 0x5580, 0x5446, 0x136a, 0x71a4, 0x1, 0x1);
        gbc.writeMem(0x8de1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x871d);
        EXPECT(gbc.pc(), 0x8de3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de1), 0xcb);
        EXPECT(gbc.readMem(0x8de2), 0x48);
        // CB 48 0016
        gbc.setState(0x1d8, 0x12a, 0xec00, 0xc8d3, 0x4ba2, 0xa31c, 0x1, 0x0);
        gbc.writeMem(0x1d8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x12a);
        EXPECT(gbc.pc(), 0x1da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0017
        gbc.setState(0x14e9, 0x3d4, 0x56d0, 0x546b, 0xded2, 0x26dd, 0x1, 0x1);
        gbc.writeMem(0x14e9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3d4);
        EXPECT(gbc.pc(), 0x14eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0018
        gbc.setState(0x15c4, 0xb5b, 0x2a90, 0x5ecb, 0xe65, 0x884a, 0x0, 0x1);
        gbc.writeMem(0x15c4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb5b);
        EXPECT(gbc.pc(), 0x15c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0019
        gbc.setState(0x45ca, 0x9d38, 0xec60, 0x7b60, 0x5bb3, 0x4a2e, 0x0, 0x0);
        gbc.writeMem(0x45ca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9d38);
        EXPECT(gbc.pc(), 0x45cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 001A
        gbc.setState(0x286f, 0xc06e, 0xba70, 0x844a, 0xd1ea, 0x133a, 0x0, 0x0);
        gbc.writeMem(0x286f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc06e);
        EXPECT(gbc.pc(), 0x2871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 001B
        gbc.setState(0x77f7, 0xedbf, 0xb040, 0x6abd, 0xc151, 0x845, 0x1, 0x1);
        gbc.writeMem(0x77f7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xedbf);
        EXPECT(gbc.pc(), 0x77f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 001C
        gbc.setState(0x42f6, 0x5c75, 0xdc00, 0x6117, 0x1e88, 0x239, 0x1, 0x1);
        gbc.writeMem(0x42f6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5c75);
        EXPECT(gbc.pc(), 0x42f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 001D
        gbc.setState(0x4fc8, 0xcbf8, 0x5320, 0x9e0d, 0x9cd4, 0xf31d, 0x1, 0x0);
        gbc.writeMem(0x4fc8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcbf8);
        EXPECT(gbc.pc(), 0x4fca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 001E
        gbc.setState(0x1f81, 0x95e1, 0x7be0, 0x889e, 0xc292, 0x72b6, 0x0, 0x1);
        gbc.writeMem(0x1f81, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x95e1);
        EXPECT(gbc.pc(), 0x1f83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 001F
        gbc.setState(0xdf3a, 0x11c1, 0x3620, 0xdd9e, 0x2a68, 0x6f5, 0x1, 0x0);
        gbc.writeMem(0xdf3a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x11c1);
        EXPECT(gbc.pc(), 0xdf3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf3a), 0xcb);
        EXPECT(gbc.readMem(0xdf3b), 0x48);
        // CB 48 0020
        gbc.setState(0x55b4, 0xa24e, 0x5020, 0xa05f, 0xd489, 0xbe9b, 0x1, 0x0);
        gbc.writeMem(0x55b4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa24e);
        EXPECT(gbc.pc(), 0x55b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0021
        gbc.setState(0x1bd0, 0xb134, 0xa370, 0x89b8, 0x8c04, 0xfa92, 0x0, 0x1);
        gbc.writeMem(0x1bd0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb134);
        EXPECT(gbc.pc(), 0x1bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0022
        gbc.setState(0xebdf, 0x65b, 0x6210, 0x78d0, 0x5267, 0xb04c, 0x1, 0x1);
        gbc.writeMem(0xebdf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x65b);
        EXPECT(gbc.pc(), 0xebe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebdf), 0xcb);
        EXPECT(gbc.readMem(0xebe0), 0x48);
        // CB 48 0023
        gbc.setState(0x122f, 0xc24c, 0x4160, 0x18c2, 0x90f0, 0xd648, 0x0, 0x0);
        gbc.writeMem(0x122f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc24c);
        EXPECT(gbc.pc(), 0x1231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0024
        gbc.setState(0x2a4f, 0x7600, 0xbe60, 0x821e, 0x5e3e, 0x627f, 0x1, 0x1);
        gbc.writeMem(0x2a4f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7600);
        EXPECT(gbc.pc(), 0x2a51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0025
        gbc.setState(0xa45b, 0xb504, 0x4040, 0x39b4, 0x8db0, 0x278, 0x0, 0x1);
        gbc.writeMem(0xa45b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xb504);
        EXPECT(gbc.pc(), 0xa45d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa45b), 0xcb);
        EXPECT(gbc.readMem(0xa45c), 0x48);
        // CB 48 0027
        gbc.setState(0x3b46, 0x4ad6, 0x3150, 0x943a, 0xdb4, 0xd1f6, 0x1, 0x0);
        gbc.writeMem(0x3b46, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4ad6);
        EXPECT(gbc.pc(), 0x3b48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0028
        gbc.setState(0x44b2, 0xab34, 0x80e0, 0x8d27, 0xac94, 0x2dd3, 0x1, 0x1);
        gbc.writeMem(0x44b2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xab34);
        EXPECT(gbc.pc(), 0x44b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0029
        gbc.setState(0xb9b6, 0x67eb, 0xb4c0, 0x325c, 0xaecc, 0xeb80, 0x0, 0x0);
        gbc.writeMem(0xb9b6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x67eb);
        EXPECT(gbc.pc(), 0xb9b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9b6), 0xcb);
        EXPECT(gbc.readMem(0xb9b7), 0x48);
        // CB 48 002A
        gbc.setState(0x1da8, 0xe0cf, 0x9fb0, 0x831b, 0x6e59, 0x637b, 0x1, 0x0);
        gbc.writeMem(0x1da8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe0cf);
        EXPECT(gbc.pc(), 0x1daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 002B
        gbc.setState(0x5e4f, 0x8ef9, 0x9590, 0x8f6f, 0x5cd8, 0x4478, 0x1, 0x0);
        gbc.writeMem(0x5e4f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8ef9);
        EXPECT(gbc.pc(), 0x5e51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 002C
        gbc.setState(0xa06e, 0xa357, 0x19b0, 0x2ead, 0xcf0a, 0xf4ba, 0x0, 0x0);
        gbc.writeMem(0xa06e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa357);
        EXPECT(gbc.pc(), 0xa070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa06e), 0xcb);
        EXPECT(gbc.readMem(0xa06f), 0x48);
        // CB 48 002D
        gbc.setState(0x90a5, 0x60ff, 0xda20, 0x6f46, 0x67b6, 0xabae, 0x1, 0x1);
        gbc.writeMem(0x90a5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x60ff);
        EXPECT(gbc.pc(), 0x90a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90a5), 0xcb);
        EXPECT(gbc.readMem(0x90a6), 0x48);
        // CB 48 002E
        gbc.setState(0x40fd, 0xd0c4, 0x170, 0x8b3c, 0x6df5, 0xc729, 0x1, 0x0);
        gbc.writeMem(0x40fd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd0c4);
        EXPECT(gbc.pc(), 0x40ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0030
        gbc.setState(0x93d1, 0x228e, 0x2790, 0x6174, 0x8ecd, 0xe8c5, 0x1, 0x1);
        gbc.writeMem(0x93d1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x228e);
        EXPECT(gbc.pc(), 0x93d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d1), 0xcb);
        EXPECT(gbc.readMem(0x93d2), 0x48);
        // CB 48 0031
        gbc.setState(0x226f, 0x43b9, 0xe1e0, 0x908f, 0x7aa3, 0x728c, 0x0, 0x0);
        gbc.writeMem(0x226f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x43b9);
        EXPECT(gbc.pc(), 0x2271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0032
        gbc.setState(0x4d05, 0x5478, 0x7660, 0xa524, 0x983, 0x4a2e, 0x0, 0x1);
        gbc.writeMem(0x4d05, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5478);
        EXPECT(gbc.pc(), 0x4d07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0033
        gbc.setState(0xde37, 0x73c2, 0x8c60, 0xc9ef, 0x3643, 0xf86f, 0x1, 0x0);
        gbc.writeMem(0xde37, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x73c2);
        EXPECT(gbc.pc(), 0xde39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde37), 0xcb);
        EXPECT(gbc.readMem(0xde38), 0x48);
        // CB 48 0034
        gbc.setState(0x4440, 0x41bb, 0xe730, 0xda2c, 0x505c, 0xcc03, 0x0, 0x1);
        gbc.writeMem(0x4440, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x41bb);
        EXPECT(gbc.pc(), 0x4442);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0035
        gbc.setState(0x98fd, 0xc032, 0x2910, 0xd168, 0xad4c, 0xc2de, 0x1, 0x1);
        gbc.writeMem(0x98fd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc032);
        EXPECT(gbc.pc(), 0x98ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98fd), 0xcb);
        EXPECT(gbc.readMem(0x98fe), 0x48);
        // CB 48 0036
        gbc.setState(0x8392, 0x4437, 0x960, 0x8d7f, 0xbc73, 0x5c9f, 0x0, 0x1);
        gbc.writeMem(0x8392, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4437);
        EXPECT(gbc.pc(), 0x8394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8392), 0xcb);
        EXPECT(gbc.readMem(0x8393), 0x48);
        // CB 48 0037
        gbc.setState(0x27b5, 0x628b, 0x7710, 0x570c, 0xfee9, 0x719b, 0x0, 0x1);
        gbc.writeMem(0x27b5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x628b);
        EXPECT(gbc.pc(), 0x27b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0038
        gbc.setState(0x7b28, 0xf768, 0xb780, 0xa975, 0xad64, 0x6d06, 0x1, 0x1);
        gbc.writeMem(0x7b28, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf768);
        EXPECT(gbc.pc(), 0x7b2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0039
        gbc.setState(0x5bc2, 0xd152, 0xd720, 0xf76b, 0xbfc9, 0xdc45, 0x0, 0x1);
        gbc.writeMem(0x5bc2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xd152);
        EXPECT(gbc.pc(), 0x5bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 003A
        gbc.setState(0x2a95, 0xfe4c, 0x60d0, 0xa34d, 0x168e, 0x9785, 0x1, 0x1);
        gbc.writeMem(0x2a95, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xfe4c);
        EXPECT(gbc.pc(), 0x2a97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 003B
        gbc.setState(0x96b5, 0x7530, 0x81c0, 0x31d9, 0x9898, 0x7d5b, 0x1, 0x0);
        gbc.writeMem(0x96b5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7530);
        EXPECT(gbc.pc(), 0x96b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96b5), 0xcb);
        EXPECT(gbc.readMem(0x96b6), 0x48);
        // CB 48 003C
        gbc.setState(0x2f4, 0x2b62, 0x90f0, 0x5ce9, 0x8f69, 0xd3d8, 0x1, 0x0);
        gbc.writeMem(0x2f4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2b62);
        EXPECT(gbc.pc(), 0x2f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 003D
        gbc.setState(0x128b, 0x17e8, 0xf6c0, 0x1a94, 0xa762, 0xf328, 0x1, 0x1);
        gbc.writeMem(0x128b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x17e8);
        EXPECT(gbc.pc(), 0x128d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 003E
        gbc.setState(0x8930, 0x9c13, 0x8f10, 0x69d9, 0xf776, 0x9177, 0x0, 0x0);
        gbc.writeMem(0x8930, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x9c13);
        EXPECT(gbc.pc(), 0x8932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8930), 0xcb);
        EXPECT(gbc.readMem(0x8931), 0x48);
        // CB 48 003F
        gbc.setState(0xea18, 0x28ba, 0x9280, 0xf92b, 0x171e, 0xa5ef, 0x1, 0x0);
        gbc.writeMem(0xea18, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x28ba);
        EXPECT(gbc.pc(), 0xea1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea18), 0xcb);
        EXPECT(gbc.readMem(0xea19), 0x48);
        // CB 48 0040
        gbc.setState(0x7d58, 0xf329, 0x1380, 0x3433, 0xab25, 0xc143, 0x0, 0x0);
        gbc.writeMem(0x7d58, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf329);
        EXPECT(gbc.pc(), 0x7d5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0041
        gbc.setState(0x4ece, 0x2b83, 0x8e70, 0x837b, 0xd21, 0x76b7, 0x0, 0x1);
        gbc.writeMem(0x4ece, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2b83);
        EXPECT(gbc.pc(), 0x4ed0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0043
        gbc.setState(0xbb34, 0xd83, 0x5660, 0xc702, 0x490f, 0x82a8, 0x0, 0x1);
        gbc.writeMem(0xbb34, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd83);
        EXPECT(gbc.pc(), 0xbb36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb34), 0xcb);
        EXPECT(gbc.readMem(0xbb35), 0x48);
        // CB 48 0044
        gbc.setState(0x2464, 0xc738, 0x2340, 0xdc3d, 0x7a60, 0x2730, 0x0, 0x1);
        gbc.writeMem(0x2464, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc738);
        EXPECT(gbc.pc(), 0x2466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0045
        gbc.setState(0x36e6, 0xb6df, 0x5260, 0xa63a, 0x7258, 0x9b39, 0x0, 0x1);
        gbc.writeMem(0x36e6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb6df);
        EXPECT(gbc.pc(), 0x36e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0046
        gbc.setState(0x260, 0x25c4, 0x7b10, 0x5ccb, 0x1cb3, 0xb0bd, 0x0, 0x1);
        gbc.writeMem(0x260, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x25c4);
        EXPECT(gbc.pc(), 0x262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0047
        gbc.setState(0xcc3b, 0xbbda, 0xe30, 0x9e4d, 0x9246, 0xe0c6, 0x0, 0x1);
        gbc.writeMem(0xcc3b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbbda);
        EXPECT(gbc.pc(), 0xcc3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc3b), 0xcb);
        EXPECT(gbc.readMem(0xcc3c), 0x48);
        // CB 48 0048
        gbc.setState(0x42bb, 0x14cf, 0x5070, 0xed23, 0xc2f4, 0x3a76, 0x1, 0x1);
        gbc.writeMem(0x42bb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x14cf);
        EXPECT(gbc.pc(), 0x42bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0049
        gbc.setState(0x226, 0x45f3, 0x8540, 0xf1f3, 0xf84a, 0xecf, 0x0, 0x0);
        gbc.writeMem(0x226, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x45f3);
        EXPECT(gbc.pc(), 0x228);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 004B
        gbc.setState(0x6e0a, 0x108a, 0xf40, 0x5dcf, 0x1916, 0xdceb, 0x0, 0x1);
        gbc.writeMem(0x6e0a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x108a);
        EXPECT(gbc.pc(), 0x6e0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 004C
        gbc.setState(0x140f, 0xbce3, 0xe3a0, 0xf117, 0x4a63, 0xdec8, 0x1, 0x0);
        gbc.writeMem(0x140f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xbce3);
        EXPECT(gbc.pc(), 0x1411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 004D
        gbc.setState(0x3f2e, 0x2f4d, 0x37e0, 0x6422, 0xfaa4, 0xbb55, 0x0, 0x1);
        gbc.writeMem(0x3f2e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2f4d);
        EXPECT(gbc.pc(), 0x3f30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 004E
        gbc.setState(0xcbeb, 0x928e, 0x4930, 0x7d57, 0x60fd, 0xb8a5, 0x1, 0x1);
        gbc.writeMem(0xcbeb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x928e);
        EXPECT(gbc.pc(), 0xcbed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbeb), 0xcb);
        EXPECT(gbc.readMem(0xcbec), 0x48);
        // CB 48 004F
        gbc.setState(0x97f0, 0xe443, 0x2ee0, 0x546d, 0x43a9, 0x5145, 0x1, 0x1);
        gbc.writeMem(0x97f0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe443);
        EXPECT(gbc.pc(), 0x97f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f0), 0xcb);
        EXPECT(gbc.readMem(0x97f1), 0x48);
        // CB 48 0050
        gbc.setState(0x966d, 0x2ae3, 0x7f90, 0xb19e, 0xfa5a, 0x3817, 0x1, 0x1);
        gbc.writeMem(0x966d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2ae3);
        EXPECT(gbc.pc(), 0x966f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x966d), 0xcb);
        EXPECT(gbc.readMem(0x966e), 0x48);
        // CB 48 0051
        gbc.setState(0x17e9, 0xf8d1, 0xf730, 0x1a42, 0xf831, 0xdf4d, 0x1, 0x1);
        gbc.writeMem(0x17e9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xf8d1);
        EXPECT(gbc.pc(), 0x17eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0052
        gbc.setState(0x8f40, 0xd6c, 0xa6e0, 0x1a61, 0x769d, 0x3589, 0x1, 0x1);
        gbc.writeMem(0x8f40, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xd6c);
        EXPECT(gbc.pc(), 0x8f42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f40), 0xcb);
        EXPECT(gbc.readMem(0x8f41), 0x48);
        // CB 48 0053
        gbc.setState(0x6021, 0x8ee2, 0x4940, 0x2eb3, 0xd251, 0xbc1, 0x0, 0x0);
        gbc.writeMem(0x6021, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8ee2);
        EXPECT(gbc.pc(), 0x6023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0054
        gbc.setState(0x4ebb, 0xbd20, 0xf020, 0xb6b6, 0xf426, 0xbcf9, 0x0, 0x0);
        gbc.writeMem(0x4ebb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xbd20);
        EXPECT(gbc.pc(), 0x4ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0055
        gbc.setState(0x759c, 0x57ce, 0x3760, 0x4471, 0xc11c, 0xeab6, 0x1, 0x1);
        gbc.writeMem(0x759c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x57ce);
        EXPECT(gbc.pc(), 0x759e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0057
        gbc.setState(0x57fa, 0x8afb, 0x580, 0xfd13, 0x7131, 0x88fe, 0x0, 0x1);
        gbc.writeMem(0x57fa, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8afb);
        EXPECT(gbc.pc(), 0x57fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0058
        gbc.setState(0xb554, 0x27f3, 0x50a0, 0xc82b, 0xa5a7, 0x76e1, 0x0, 0x0);
        gbc.writeMem(0xb554, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x27f3);
        EXPECT(gbc.pc(), 0xb556);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb554), 0xcb);
        EXPECT(gbc.readMem(0xb555), 0x48);
        // CB 48 0059
        gbc.setState(0xec61, 0xc5f, 0x88b0, 0x1b1f, 0x65c6, 0xef93, 0x1, 0x0);
        gbc.writeMem(0xec61, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc5f);
        EXPECT(gbc.pc(), 0xec63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec61), 0xcb);
        EXPECT(gbc.readMem(0xec62), 0x48);
        // CB 48 005A
        gbc.setState(0xe6e0, 0x499d, 0xdd10, 0x1e90, 0xbea8, 0xbe94, 0x1, 0x0);
        gbc.writeMem(0xe6e0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x499d);
        EXPECT(gbc.pc(), 0xe6e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6e0), 0xcb);
        EXPECT(gbc.readMem(0xe6e1), 0x48);
        // CB 48 005B
        gbc.setState(0xab3d, 0x93e1, 0xd0a0, 0x509a, 0xa8df, 0x9f2d, 0x0, 0x1);
        gbc.writeMem(0xab3d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x93e1);
        EXPECT(gbc.pc(), 0xab3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab3d), 0xcb);
        EXPECT(gbc.readMem(0xab3e), 0x48);
        // CB 48 005C
        gbc.setState(0xc80, 0x4313, 0xb160, 0x9dd8, 0x908d, 0x2765, 0x1, 0x1);
        gbc.writeMem(0xc80, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4313);
        EXPECT(gbc.pc(), 0xc82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 005D
        gbc.setState(0x7d47, 0xa851, 0xf340, 0x6e53, 0x307f, 0x3564, 0x0, 0x1);
        gbc.writeMem(0x7d47, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa851);
        EXPECT(gbc.pc(), 0x7d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 005E
        gbc.setState(0xefd9, 0xfeb1, 0x5650, 0x1b72, 0x420c, 0x554d, 0x0, 0x0);
        gbc.writeMem(0xefd9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xfeb1);
        EXPECT(gbc.pc(), 0xefdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefd9), 0xcb);
        EXPECT(gbc.readMem(0xefda), 0x48);
        // CB 48 005F
        gbc.setState(0x1971, 0xe598, 0xb740, 0x40c4, 0x4c5a, 0x44a6, 0x0, 0x1);
        gbc.writeMem(0x1971, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe598);
        EXPECT(gbc.pc(), 0x1973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0060
        gbc.setState(0x593f, 0x679f, 0xc950, 0x5cfc, 0x5274, 0xc6a7, 0x0, 0x1);
        gbc.writeMem(0x593f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x679f);
        EXPECT(gbc.pc(), 0x5941);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0061
        gbc.setState(0x1f29, 0x98e1, 0xaa0, 0x5844, 0xd64a, 0xfbf7, 0x0, 0x0);
        gbc.writeMem(0x1f29, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x98e1);
        EXPECT(gbc.pc(), 0x1f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0062
        gbc.setState(0xd752, 0x936a, 0x57b0, 0xcdf0, 0x67b6, 0xa17d, 0x1, 0x0);
        gbc.writeMem(0xd752, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x936a);
        EXPECT(gbc.pc(), 0xd754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd752), 0xcb);
        EXPECT(gbc.readMem(0xd753), 0x48);
        // CB 48 0063
        gbc.setState(0xd2c3, 0x949b, 0xddd0, 0xf022, 0x16a, 0xe006, 0x1, 0x0);
        gbc.writeMem(0xd2c3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x949b);
        EXPECT(gbc.pc(), 0xd2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2c3), 0xcb);
        EXPECT(gbc.readMem(0xd2c4), 0x48);
        // CB 48 0064
        gbc.setState(0x172c, 0x41e5, 0x98a0, 0xaa07, 0x3d53, 0x7f91, 0x1, 0x1);
        gbc.writeMem(0x172c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x41e5);
        EXPECT(gbc.pc(), 0x172e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0065
        gbc.setState(0x2fb1, 0xfe3c, 0x2b50, 0xeb6c, 0xcf52, 0xd20f, 0x0, 0x1);
        gbc.writeMem(0x2fb1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfe3c);
        EXPECT(gbc.pc(), 0x2fb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0066
        gbc.setState(0xb832, 0xfff9, 0xd190, 0x77c1, 0x8436, 0x17e1, 0x1, 0x1);
        gbc.writeMem(0xb832, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xfff9);
        EXPECT(gbc.pc(), 0xb834);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb832), 0xcb);
        EXPECT(gbc.readMem(0xb833), 0x48);
        // CB 48 0067
        gbc.setState(0x10aa, 0x8c93, 0xfa30, 0xdbf7, 0x1c7a, 0x4e30, 0x1, 0x1);
        gbc.writeMem(0x10aa, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8c93);
        EXPECT(gbc.pc(), 0x10ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0068
        gbc.setState(0x1e2, 0x92de, 0x2f90, 0x8443, 0x51c9, 0x3782, 0x1, 0x1);
        gbc.writeMem(0x1e2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x92de);
        EXPECT(gbc.pc(), 0x1e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 006A
        gbc.setState(0xa20b, 0x125e, 0xc70, 0xfde2, 0x130d, 0x1062, 0x0, 0x0);
        gbc.writeMem(0xa20b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x125e);
        EXPECT(gbc.pc(), 0xa20d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa20b), 0xcb);
        EXPECT(gbc.readMem(0xa20c), 0x48);
        // CB 48 006B
        gbc.setState(0xe27e, 0x7a5a, 0x1fe0, 0x6a72, 0x20e5, 0xd526, 0x1, 0x1);
        gbc.writeMem(0xe27e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7a5a);
        EXPECT(gbc.pc(), 0xe280);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe27e), 0xcb);
        EXPECT(gbc.readMem(0xe27f), 0x48);
        // CB 48 006C
        gbc.setState(0x5480, 0x8c21, 0x3210, 0x8584, 0x9f44, 0x4fd1, 0x0, 0x0);
        gbc.writeMem(0x5480, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8c21);
        EXPECT(gbc.pc(), 0x5482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 006D
        gbc.setState(0x706b, 0x2acf, 0x31e0, 0xab22, 0xde64, 0x1e76, 0x0, 0x1);
        gbc.writeMem(0x706b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2acf);
        EXPECT(gbc.pc(), 0x706d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 006E
        gbc.setState(0x3a7c, 0x2f5e, 0xfe80, 0x65ac, 0x5113, 0x1d2e, 0x1, 0x1);
        gbc.writeMem(0x3a7c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2f5e);
        EXPECT(gbc.pc(), 0x3a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 006F
        gbc.setState(0x1d0d, 0xca1d, 0x59f0, 0xbba9, 0xfc3e, 0x6b22, 0x1, 0x0);
        gbc.writeMem(0x1d0d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xca1d);
        EXPECT(gbc.pc(), 0x1d0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0070
        gbc.setState(0x8520, 0x5f9, 0x9160, 0xad7f, 0x1042, 0x14fc, 0x1, 0x0);
        gbc.writeMem(0x8520, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5f9);
        EXPECT(gbc.pc(), 0x8522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8520), 0xcb);
        EXPECT(gbc.readMem(0x8521), 0x48);
        // CB 48 0071
        gbc.setState(0x71c8, 0xe2a4, 0x4010, 0x4ac8, 0xc848, 0x5109, 0x1, 0x0);
        gbc.writeMem(0x71c8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe2a4);
        EXPECT(gbc.pc(), 0x71ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0072
        gbc.setState(0x5566, 0x684d, 0xf160, 0x8e8f, 0x79e1, 0x65b5, 0x1, 0x1);
        gbc.writeMem(0x5566, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x684d);
        EXPECT(gbc.pc(), 0x5568);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0073
        gbc.setState(0xa00f, 0x2adb, 0x810, 0x502d, 0xd17, 0xa4d1, 0x1, 0x0);
        gbc.writeMem(0xa00f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2adb);
        EXPECT(gbc.pc(), 0xa011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa00f), 0xcb);
        EXPECT(gbc.readMem(0xa010), 0x48);
        // CB 48 0074
        gbc.setState(0x4a8b, 0x6ed7, 0xdd30, 0x3581, 0x6e83, 0xbd9f, 0x1, 0x0);
        gbc.writeMem(0x4a8b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6ed7);
        EXPECT(gbc.pc(), 0x4a8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0075
        gbc.setState(0xfe9, 0x21d5, 0xa4c0, 0xffc5, 0x1e8a, 0x28, 0x0, 0x0);
        gbc.writeMem(0xfe9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x21d5);
        EXPECT(gbc.pc(), 0xfeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0076
        gbc.setState(0x92fa, 0x6588, 0x12a0, 0xffa2, 0xaacf, 0xfe85, 0x0, 0x0);
        gbc.writeMem(0x92fa, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6588);
        EXPECT(gbc.pc(), 0x92fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92fa), 0xcb);
        EXPECT(gbc.readMem(0x92fb), 0x48);
        // CB 48 0077
        gbc.setState(0xe409, 0x1555, 0x9bf0, 0x39b4, 0x18a, 0x8501, 0x1, 0x0);
        gbc.writeMem(0xe409, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x1555);
        EXPECT(gbc.pc(), 0xe40b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe409), 0xcb);
        EXPECT(gbc.readMem(0xe40a), 0x48);
        // CB 48 0078
        gbc.setState(0x370c, 0xfbbe, 0x1750, 0xfdac, 0xef09, 0xb5a2, 0x1, 0x1);
        gbc.writeMem(0x370c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xfbbe);
        EXPECT(gbc.pc(), 0x370e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0079
        gbc.setState(0xe2c8, 0xac2e, 0x4ee0, 0xa15e, 0x6273, 0xd97e, 0x0, 0x0);
        gbc.writeMem(0xe2c8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xac2e);
        EXPECT(gbc.pc(), 0xe2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c8), 0xcb);
        EXPECT(gbc.readMem(0xe2c9), 0x48);
        // CB 48 007A
        gbc.setState(0x9fa6, 0xdcfd, 0x2bd0, 0xfbbb, 0xabbc, 0xdf6e, 0x0, 0x0);
        gbc.writeMem(0x9fa6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xdcfd);
        EXPECT(gbc.pc(), 0x9fa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fa6), 0xcb);
        EXPECT(gbc.readMem(0x9fa7), 0x48);
        // CB 48 007B
        gbc.setState(0x4e90, 0x5051, 0x9e80, 0xb6cb, 0x47cb, 0xb022, 0x0, 0x1);
        gbc.writeMem(0x4e90, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x5051);
        EXPECT(gbc.pc(), 0x4e92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 007C
        gbc.setState(0x3cfb, 0xb2ee, 0x7970, 0xe83e, 0xfbc6, 0x9b55, 0x1, 0x0);
        gbc.writeMem(0x3cfb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb2ee);
        EXPECT(gbc.pc(), 0x3cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 007D
        gbc.setState(0x5e8b, 0xedf2, 0x5920, 0x7d3e, 0xa92e, 0x866c, 0x0, 0x0);
        gbc.writeMem(0x5e8b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xedf2);
        EXPECT(gbc.pc(), 0x5e8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 007E
        gbc.setState(0xcdeb, 0xa22f, 0xbcc0, 0x993f, 0xa15f, 0x3ad2, 0x0, 0x1);
        gbc.writeMem(0xcdeb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa22f);
        EXPECT(gbc.pc(), 0xcded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdeb), 0xcb);
        EXPECT(gbc.readMem(0xcdec), 0x48);
        // CB 48 007F
        gbc.setState(0x671f, 0x2a91, 0xd20, 0x87b1, 0x64db, 0xddab, 0x0, 0x1);
        gbc.writeMem(0x671f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2a91);
        EXPECT(gbc.pc(), 0x6721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0080
        gbc.setState(0x83be, 0x2f53, 0xc030, 0x6bef, 0x3fb6, 0xfa2c, 0x0, 0x1);
        gbc.writeMem(0x83be, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2f53);
        EXPECT(gbc.pc(), 0x83c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83be), 0xcb);
        EXPECT(gbc.readMem(0x83bf), 0x48);
        // CB 48 0081
        gbc.setState(0x393f, 0x8c7e, 0x7370, 0x8cf8, 0xc4b5, 0xa180, 0x1, 0x0);
        gbc.writeMem(0x393f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8c7e);
        EXPECT(gbc.pc(), 0x3941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0082
        gbc.setState(0x7255, 0x5d28, 0xc9e0, 0x8348, 0x7ca2, 0x5ed9, 0x0, 0x1);
        gbc.writeMem(0x7255, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5d28);
        EXPECT(gbc.pc(), 0x7257);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0083
        gbc.setState(0x1fb7, 0x7e4, 0xc10, 0x5cd4, 0x26ba, 0x30a4, 0x1, 0x1);
        gbc.writeMem(0x1fb7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7e4);
        EXPECT(gbc.pc(), 0x1fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0084
        gbc.setState(0x97c0, 0xa20b, 0x23c0, 0x8960, 0x7474, 0xfedf, 0x1, 0x0);
        gbc.writeMem(0x97c0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa20b);
        EXPECT(gbc.pc(), 0x97c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c0), 0xcb);
        EXPECT(gbc.readMem(0x97c1), 0x48);
        // CB 48 0085
        gbc.setState(0x248, 0x8bb0, 0xf900, 0x3532, 0xa3fd, 0xe519, 0x1, 0x1);
        gbc.writeMem(0x248, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8bb0);
        EXPECT(gbc.pc(), 0x24a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0086
        gbc.setState(0x6932, 0xd9d4, 0x4570, 0x5cf6, 0x915, 0x5aed, 0x0, 0x0);
        gbc.writeMem(0x6932, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd9d4);
        EXPECT(gbc.pc(), 0x6934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0087
        gbc.setState(0xb3b9, 0xe0f3, 0x13e0, 0xae00, 0x4971, 0xa99f, 0x0, 0x1);
        gbc.writeMem(0xb3b9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe0f3);
        EXPECT(gbc.pc(), 0xb3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b9), 0xcb);
        EXPECT(gbc.readMem(0xb3ba), 0x48);
        // CB 48 0088
        gbc.setState(0x9e65, 0x67cc, 0xac70, 0x6738, 0x1d21, 0x4c2, 0x0, 0x0);
        gbc.writeMem(0x9e65, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x67cc);
        EXPECT(gbc.pc(), 0x9e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e65), 0xcb);
        EXPECT(gbc.readMem(0x9e66), 0x48);
        // CB 48 0089
        gbc.setState(0xa80a, 0x31dd, 0x8360, 0x2b6d, 0xddb9, 0x7b29, 0x0, 0x1);
        gbc.writeMem(0xa80a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x31dd);
        EXPECT(gbc.pc(), 0xa80c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa80a), 0xcb);
        EXPECT(gbc.readMem(0xa80b), 0x48);
        // CB 48 008A
        gbc.setState(0x1899, 0xcdd5, 0x3970, 0xdb42, 0xd1dd, 0x9764, 0x1, 0x0);
        gbc.writeMem(0x1899, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xcdd5);
        EXPECT(gbc.pc(), 0x189b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 008B
        gbc.setState(0x82b9, 0x754a, 0xb810, 0x3358, 0x8cd7, 0x5778, 0x0, 0x0);
        gbc.writeMem(0x82b9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x754a);
        EXPECT(gbc.pc(), 0x82bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b9), 0xcb);
        EXPECT(gbc.readMem(0x82ba), 0x48);
        // CB 48 008C
        gbc.setState(0x53fa, 0x68a8, 0xc290, 0x62a8, 0xf95, 0x7da2, 0x1, 0x1);
        gbc.writeMem(0x53fa, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x68a8);
        EXPECT(gbc.pc(), 0x53fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 008D
        gbc.setState(0xe042, 0x3b93, 0xf970, 0x1266, 0x1d63, 0x1ad7, 0x0, 0x1);
        gbc.writeMem(0xe042, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3b93);
        EXPECT(gbc.pc(), 0xe044);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe042), 0xcb);
        EXPECT(gbc.readMem(0xe043), 0x48);
        // CB 48 008E
        gbc.setState(0x7b0c, 0x5578, 0x7670, 0x31c7, 0x2948, 0xdc6c, 0x0, 0x0);
        gbc.writeMem(0x7b0c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5578);
        EXPECT(gbc.pc(), 0x7b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 008F
        gbc.setState(0x3a2f, 0xaa98, 0x9f20, 0x37a1, 0x745, 0x1b04, 0x0, 0x0);
        gbc.writeMem(0x3a2f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xaa98);
        EXPECT(gbc.pc(), 0x3a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0090
        gbc.setState(0xdb29, 0x60eb, 0x9a10, 0xc9d7, 0x2627, 0x3b37, 0x0, 0x1);
        gbc.writeMem(0xdb29, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x60eb);
        EXPECT(gbc.pc(), 0xdb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb29), 0xcb);
        EXPECT(gbc.readMem(0xdb2a), 0x48);
        // CB 48 0091
        gbc.setState(0x8045, 0xd4fb, 0xf9e0, 0xd74, 0x9419, 0x6559, 0x1, 0x1);
        gbc.writeMem(0x8045, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd4fb);
        EXPECT(gbc.pc(), 0x8047);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8045), 0xcb);
        EXPECT(gbc.readMem(0x8046), 0x48);
        // CB 48 0092
        gbc.setState(0xe8da, 0x51ee, 0x79d0, 0xa0a8, 0x8c34, 0xa258, 0x0, 0x0);
        gbc.writeMem(0xe8da, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x51ee);
        EXPECT(gbc.pc(), 0xe8dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8da), 0xcb);
        EXPECT(gbc.readMem(0xe8db), 0x48);
        // CB 48 0093
        gbc.setState(0xd895, 0x5f41, 0x12a0, 0x6080, 0x1b03, 0x999e, 0x0, 0x0);
        gbc.writeMem(0xd895, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5f41);
        EXPECT(gbc.pc(), 0xd897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd895), 0xcb);
        EXPECT(gbc.readMem(0xd896), 0x48);
        // CB 48 0094
        gbc.setState(0x27c6, 0x491b, 0x3460, 0xfeff, 0xb0db, 0xe404, 0x1, 0x1);
        gbc.writeMem(0x27c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x491b);
        EXPECT(gbc.pc(), 0x27c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0095
        gbc.setState(0x6b53, 0x4ade, 0x2170, 0xfc86, 0x7198, 0x1ba, 0x1, 0x1);
        gbc.writeMem(0x6b53, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4ade);
        EXPECT(gbc.pc(), 0x6b55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0096
        gbc.setState(0xd20d, 0x936, 0x7130, 0x44fb, 0x8f87, 0x52d8, 0x0, 0x1);
        gbc.writeMem(0xd20d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x936);
        EXPECT(gbc.pc(), 0xd20f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd20d), 0xcb);
        EXPECT(gbc.readMem(0xd20e), 0x48);
        // CB 48 0097
        gbc.setState(0xea7e, 0xf16f, 0xc990, 0xbcda, 0x81ec, 0x9c5, 0x1, 0x0);
        gbc.writeMem(0xea7e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf16f);
        EXPECT(gbc.pc(), 0xea80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea7e), 0xcb);
        EXPECT(gbc.readMem(0xea7f), 0x48);
        // CB 48 0098
        gbc.setState(0x7a2d, 0x5924, 0x16a0, 0xd908, 0x82e0, 0xf306, 0x0, 0x0);
        gbc.writeMem(0x7a2d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5924);
        EXPECT(gbc.pc(), 0x7a2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 009A
        gbc.setState(0xbea6, 0x1496, 0x1a30, 0x10dd, 0x7931, 0xf4fd, 0x1, 0x1);
        gbc.writeMem(0xbea6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1496);
        EXPECT(gbc.pc(), 0xbea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbea6), 0xcb);
        EXPECT(gbc.readMem(0xbea7), 0x48);
        // CB 48 009B
        gbc.setState(0x69b0, 0x58bd, 0x5ad0, 0xdf9, 0x1a5d, 0xbf86, 0x1, 0x0);
        gbc.writeMem(0x69b0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x58bd);
        EXPECT(gbc.pc(), 0x69b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 009C
        gbc.setState(0x5953, 0x73de, 0xacb0, 0x656a, 0x6239, 0xef15, 0x1, 0x0);
        gbc.writeMem(0x5953, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x73de);
        EXPECT(gbc.pc(), 0x5955);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 009E
        gbc.setState(0x912f, 0x6192, 0xed10, 0xff8d, 0xa8a9, 0x9964, 0x0, 0x0);
        gbc.writeMem(0x912f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6192);
        EXPECT(gbc.pc(), 0x9131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x912f), 0xcb);
        EXPECT(gbc.readMem(0x9130), 0x48);
        // CB 48 009F
        gbc.setState(0xbd5a, 0x5998, 0xae10, 0x94d7, 0xb04b, 0x9651, 0x0, 0x0);
        gbc.writeMem(0xbd5a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x5998);
        EXPECT(gbc.pc(), 0xbd5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd5a), 0xcb);
        EXPECT(gbc.readMem(0xbd5b), 0x48);
        // CB 48 00A0
        gbc.setState(0xd23c, 0x7a13, 0xf60, 0xea88, 0x4fee, 0x5c76, 0x1, 0x1);
        gbc.writeMem(0xd23c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x7a13);
        EXPECT(gbc.pc(), 0xd23e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd23c), 0xcb);
        EXPECT(gbc.readMem(0xd23d), 0x48);
        // CB 48 00A1
        gbc.setState(0xa77f, 0x1848, 0xe020, 0x4d5, 0x1904, 0xc45d, 0x0, 0x0);
        gbc.writeMem(0xa77f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1848);
        EXPECT(gbc.pc(), 0xa781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa77f), 0xcb);
        EXPECT(gbc.readMem(0xa780), 0x48);
        // CB 48 00A2
        gbc.setState(0x7935, 0x54bf, 0x5880, 0x2122, 0x279, 0xc28f, 0x0, 0x0);
        gbc.writeMem(0x7935, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x54bf);
        EXPECT(gbc.pc(), 0x7937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00A3
        gbc.setState(0x195c, 0x2af7, 0x10b0, 0xd9cc, 0x3a1b, 0xcc2b, 0x0, 0x0);
        gbc.writeMem(0x195c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x2af7);
        EXPECT(gbc.pc(), 0x195e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00A4
        gbc.setState(0x879a, 0x5da6, 0x2eb0, 0x662f, 0xa6b5, 0x953e, 0x1, 0x0);
        gbc.writeMem(0x879a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x5da6);
        EXPECT(gbc.pc(), 0x879c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x879a), 0xcb);
        EXPECT(gbc.readMem(0x879b), 0x48);
        // CB 48 00A5
        gbc.setState(0x85c1, 0x273d, 0xf8b0, 0x64b9, 0x81a5, 0xef1, 0x1, 0x1);
        gbc.writeMem(0x85c1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x273d);
        EXPECT(gbc.pc(), 0x85c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85c1), 0xcb);
        EXPECT(gbc.readMem(0x85c2), 0x48);
        // CB 48 00A6
        gbc.setState(0x540, 0xdfcd, 0xa660, 0xd2f8, 0x7e08, 0x5b07, 0x0, 0x1);
        gbc.writeMem(0x540, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdfcd);
        EXPECT(gbc.pc(), 0x542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00A7
        gbc.setState(0xbc9e, 0x6fb5, 0x3520, 0xcc85, 0xa9c0, 0x14ad, 0x0, 0x1);
        gbc.writeMem(0xbc9e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x6fb5);
        EXPECT(gbc.pc(), 0xbca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc9e), 0xcb);
        EXPECT(gbc.readMem(0xbc9f), 0x48);
        // CB 48 00A8
        gbc.setState(0xe649, 0x9b9d, 0xb6a0, 0x8063, 0xdc85, 0xd42f, 0x0, 0x1);
        gbc.writeMem(0xe649, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9b9d);
        EXPECT(gbc.pc(), 0xe64b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe649), 0xcb);
        EXPECT(gbc.readMem(0xe64a), 0x48);
        // CB 48 00A9
        gbc.setState(0x2729, 0xb1f6, 0xfbe0, 0xcbbc, 0x9e6e, 0xf75, 0x0, 0x1);
        gbc.writeMem(0x2729, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xb1f6);
        EXPECT(gbc.pc(), 0x272b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00AA
        gbc.setState(0xba26, 0x21bd, 0x23d0, 0x8b39, 0xfdb1, 0x5107, 0x1, 0x0);
        gbc.writeMem(0xba26, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x21bd);
        EXPECT(gbc.pc(), 0xba28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba26), 0xcb);
        EXPECT(gbc.readMem(0xba27), 0x48);
        // CB 48 00AB
        gbc.setState(0xaaa8, 0x4597, 0x4470, 0x67d4, 0xb30a, 0x28b, 0x0, 0x0);
        gbc.writeMem(0xaaa8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4597);
        EXPECT(gbc.pc(), 0xaaaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa8), 0xcb);
        EXPECT(gbc.readMem(0xaaa9), 0x48);
        // CB 48 00AC
        gbc.setState(0x17f5, 0x5027, 0x9600, 0x8737, 0xa99d, 0x60b9, 0x0, 0x1);
        gbc.writeMem(0x17f5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5027);
        EXPECT(gbc.pc(), 0x17f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00AD
        gbc.setState(0xc513, 0xb3c3, 0xfa00, 0xa613, 0x8852, 0xb1f6, 0x1, 0x0);
        gbc.writeMem(0xc513, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb3c3);
        EXPECT(gbc.pc(), 0xc515);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc513), 0xcb);
        EXPECT(gbc.readMem(0xc514), 0x48);
        // CB 48 00AE
        gbc.setState(0x6eb6, 0x5558, 0x80e0, 0x17be, 0xd246, 0xd248, 0x0, 0x1);
        gbc.writeMem(0x6eb6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5558);
        EXPECT(gbc.pc(), 0x6eb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00AF
        gbc.setState(0x37, 0xfc8e, 0x31a0, 0xa8c4, 0x8f41, 0x8f28, 0x0, 0x0);
        gbc.writeMem(0x37, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xfc8e);
        EXPECT(gbc.pc(), 0x39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00B0
        gbc.setState(0x3c15, 0x9eeb, 0x6510, 0x9322, 0x9dc7, 0xeb05, 0x0, 0x0);
        gbc.writeMem(0x3c15, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9eeb);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00B1
        gbc.setState(0xa579, 0x84a5, 0x1980, 0x3d05, 0x5be6, 0x5a55, 0x0, 0x0);
        gbc.writeMem(0xa579, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x84a5);
        EXPECT(gbc.pc(), 0xa57b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa579), 0xcb);
        EXPECT(gbc.readMem(0xa57a), 0x48);
        // CB 48 00B2
        gbc.setState(0xc088, 0x1467, 0xc2c0, 0x6778, 0x3e31, 0x1fe8, 0x0, 0x1);
        gbc.writeMem(0xc088, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1467);
        EXPECT(gbc.pc(), 0xc08a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc088), 0xcb);
        EXPECT(gbc.readMem(0xc089), 0x48);
        // CB 48 00B3
        gbc.setState(0x6925, 0x3d4d, 0x9490, 0xd09a, 0x7d1e, 0x2ae8, 0x0, 0x1);
        gbc.writeMem(0x6925, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3d4d);
        EXPECT(gbc.pc(), 0x6927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00B4
        gbc.setState(0xd1a9, 0xec21, 0x68e0, 0x711d, 0x4c92, 0x850a, 0x0, 0x1);
        gbc.writeMem(0xd1a9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xec21);
        EXPECT(gbc.pc(), 0xd1ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1a9), 0xcb);
        EXPECT(gbc.readMem(0xd1aa), 0x48);
        // CB 48 00B5
        gbc.setState(0x1fe8, 0x83b2, 0x9f10, 0x671, 0xc29, 0x9265, 0x1, 0x1);
        gbc.writeMem(0x1fe8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x83b2);
        EXPECT(gbc.pc(), 0x1fea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00B6
        gbc.setState(0x1816, 0xe010, 0xf940, 0xf470, 0x923c, 0x7f25, 0x0, 0x0);
        gbc.writeMem(0x1816, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe010);
        EXPECT(gbc.pc(), 0x1818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00B7
        gbc.setState(0x21ca, 0xbbef, 0xa960, 0x2792, 0xad75, 0x653c, 0x1, 0x1);
        gbc.writeMem(0x21ca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xbbef);
        EXPECT(gbc.pc(), 0x21cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00B8
        gbc.setState(0x9a31, 0x23b7, 0xeae0, 0xfb89, 0xe71e, 0x293c, 0x0, 0x0);
        gbc.writeMem(0x9a31, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x23b7);
        EXPECT(gbc.pc(), 0x9a33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a31), 0xcb);
        EXPECT(gbc.readMem(0x9a32), 0x48);
        // CB 48 00B9
        gbc.setState(0x965c, 0x25c, 0x7bf0, 0x190d, 0xd520, 0x9f1a, 0x1, 0x1);
        gbc.writeMem(0x965c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x25c);
        EXPECT(gbc.pc(), 0x965e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x965c), 0xcb);
        EXPECT(gbc.readMem(0x965d), 0x48);
        // CB 48 00BA
        gbc.setState(0xa0cc, 0x61d7, 0x37c0, 0x4a59, 0xb88f, 0x3f26, 0x1, 0x1);
        gbc.writeMem(0xa0cc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x61d7);
        EXPECT(gbc.pc(), 0xa0ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0cc), 0xcb);
        EXPECT(gbc.readMem(0xa0cd), 0x48);
        // CB 48 00BB
        gbc.setState(0x57c4, 0xcdc8, 0x3690, 0x47db, 0x62c3, 0xba51, 0x0, 0x1);
        gbc.writeMem(0x57c4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcdc8);
        EXPECT(gbc.pc(), 0x57c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00BC
        gbc.setState(0x12a8, 0x803c, 0xdf90, 0xbe4a, 0x2aec, 0x56a1, 0x0, 0x0);
        gbc.writeMem(0x12a8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x803c);
        EXPECT(gbc.pc(), 0x12aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00BD
        gbc.setState(0x1295, 0x867e, 0x8410, 0xdbd0, 0x2b61, 0xeefc, 0x0, 0x0);
        gbc.writeMem(0x1295, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x867e);
        EXPECT(gbc.pc(), 0x1297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00BE
        gbc.setState(0x480c, 0x175f, 0xf8f0, 0xd71e, 0x3585, 0x714, 0x1, 0x1);
        gbc.writeMem(0x480c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x175f);
        EXPECT(gbc.pc(), 0x480e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00BF
        gbc.setState(0xa3c2, 0xd13d, 0x3870, 0xede, 0x2a42, 0x96d8, 0x1, 0x1);
        gbc.writeMem(0xa3c2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd13d);
        EXPECT(gbc.pc(), 0xa3c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3c2), 0xcb);
        EXPECT(gbc.readMem(0xa3c3), 0x48);
        // CB 48 00C0
        gbc.setState(0x3fa9, 0xec59, 0x72d0, 0x55b9, 0x7967, 0x6068, 0x0, 0x0);
        gbc.writeMem(0x3fa9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xec59);
        EXPECT(gbc.pc(), 0x3fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00C1
        gbc.setState(0xc9a3, 0x25b7, 0xe760, 0x7ca0, 0x44ee, 0xd26, 0x1, 0x0);
        gbc.writeMem(0xc9a3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x25b7);
        EXPECT(gbc.pc(), 0xc9a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a3), 0xcb);
        EXPECT(gbc.readMem(0xc9a4), 0x48);
        // CB 48 00C2
        gbc.setState(0xdf3, 0x752e, 0x9120, 0x563, 0xf0c0, 0x882d, 0x1, 0x0);
        gbc.writeMem(0xdf3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x752e);
        EXPECT(gbc.pc(), 0xdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00C3
        gbc.setState(0xdc51, 0xf318, 0x3de0, 0x351f, 0x2eee, 0x4b8d, 0x1, 0x1);
        gbc.writeMem(0xdc51, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf318);
        EXPECT(gbc.pc(), 0xdc53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc51), 0xcb);
        EXPECT(gbc.readMem(0xdc52), 0x48);
        // CB 48 00C4
        gbc.setState(0x1100, 0xabe4, 0x22d0, 0x42f9, 0x9f9b, 0x612f, 0x1, 0x1);
        gbc.writeMem(0x1100, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xabe4);
        EXPECT(gbc.pc(), 0x1102);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00C5
        gbc.setState(0xd59e, 0xcfea, 0xff50, 0xb58a, 0xd3fb, 0x9d1a, 0x1, 0x1);
        gbc.writeMem(0xd59e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xcfea);
        EXPECT(gbc.pc(), 0xd5a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd59e), 0xcb);
        EXPECT(gbc.readMem(0xd59f), 0x48);
        // CB 48 00C7
        gbc.setState(0xb78, 0xa540, 0xaab0, 0x3dc0, 0xe0aa, 0xf4dc, 0x0, 0x0);
        gbc.writeMem(0xb78, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa540);
        EXPECT(gbc.pc(), 0xb7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00C8
        gbc.setState(0xbcd7, 0x9729, 0xeb10, 0x9daa, 0x9dff, 0xf73e, 0x0, 0x0);
        gbc.writeMem(0xbcd7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9729);
        EXPECT(gbc.pc(), 0xbcd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcd7), 0xcb);
        EXPECT(gbc.readMem(0xbcd8), 0x48);
        // CB 48 00C9
        gbc.setState(0xb0fd, 0xee2d, 0xb4f0, 0xd7d, 0xb6db, 0x8d89, 0x1, 0x0);
        gbc.writeMem(0xb0fd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xee2d);
        EXPECT(gbc.pc(), 0xb0ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0fd), 0xcb);
        EXPECT(gbc.readMem(0xb0fe), 0x48);
        // CB 48 00CA
        gbc.setState(0x1e31, 0x4da1, 0x9450, 0xd2b1, 0xe9e0, 0xd195, 0x1, 0x0);
        gbc.writeMem(0x1e31, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4da1);
        EXPECT(gbc.pc(), 0x1e33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00CB
        gbc.setState(0xd348, 0x5f8c, 0x26b0, 0x6494, 0xe476, 0x1fb7, 0x1, 0x1);
        gbc.writeMem(0xd348, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5f8c);
        EXPECT(gbc.pc(), 0xd34a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd348), 0xcb);
        EXPECT(gbc.readMem(0xd349), 0x48);
        // CB 48 00CC
        gbc.setState(0x565e, 0xa444, 0xe5e0, 0x6bcc, 0xdd2, 0xdbe0, 0x1, 0x1);
        gbc.writeMem(0x565e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa444);
        EXPECT(gbc.pc(), 0x5660);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00CD
        gbc.setState(0x9b5, 0xc8bd, 0xc0f0, 0x4a17, 0x47c5, 0x5b5f, 0x1, 0x1);
        gbc.writeMem(0x9b5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc8bd);
        EXPECT(gbc.pc(), 0x9b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00CE
        gbc.setState(0x1022, 0x827f, 0xc340, 0x69ad, 0xb90, 0x6239, 0x1, 0x1);
        gbc.writeMem(0x1022, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x827f);
        EXPECT(gbc.pc(), 0x1024);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00CF
        gbc.setState(0x93ee, 0xc784, 0x4b0, 0xab9b, 0x7b1d, 0x99d9, 0x1, 0x0);
        gbc.writeMem(0x93ee, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc784);
        EXPECT(gbc.pc(), 0x93f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ee), 0xcb);
        EXPECT(gbc.readMem(0x93ef), 0x48);
        // CB 48 00D0
        gbc.setState(0x2a78, 0x37b5, 0x3390, 0xda9a, 0x94b4, 0xb6af, 0x1, 0x0);
        gbc.writeMem(0x2a78, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x37b5);
        EXPECT(gbc.pc(), 0x2a7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00D1
        gbc.setState(0x1e13, 0xc34e, 0x23f0, 0xe92a, 0x9297, 0xa4fc, 0x1, 0x1);
        gbc.writeMem(0x1e13, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc34e);
        EXPECT(gbc.pc(), 0x1e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00D2
        gbc.setState(0x3de6, 0x84e7, 0x7970, 0xe168, 0x985, 0x4822, 0x0, 0x0);
        gbc.writeMem(0x3de6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x84e7);
        EXPECT(gbc.pc(), 0x3de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00D3
        gbc.setState(0xe330, 0x527b, 0x9c90, 0x5f5d, 0x9e66, 0xa6cc, 0x0, 0x1);
        gbc.writeMem(0xe330, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x527b);
        EXPECT(gbc.pc(), 0xe332);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe330), 0xcb);
        EXPECT(gbc.readMem(0xe331), 0x48);
        // CB 48 00D4
        gbc.setState(0x8fb2, 0x8cb0, 0xff50, 0x4110, 0x31c9, 0x34df, 0x0, 0x0);
        gbc.writeMem(0x8fb2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8cb0);
        EXPECT(gbc.pc(), 0x8fb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fb2), 0xcb);
        EXPECT(gbc.readMem(0x8fb3), 0x48);
        // CB 48 00D5
        gbc.setState(0xd4c9, 0x21db, 0x8e90, 0xaac1, 0xa7c9, 0xdab3, 0x1, 0x0);
        gbc.writeMem(0xd4c9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x21db);
        EXPECT(gbc.pc(), 0xd4cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4c9), 0xcb);
        EXPECT(gbc.readMem(0xd4ca), 0x48);
        // CB 48 00D6
        gbc.setState(0x8036, 0x3ba8, 0x4b0, 0x8e9a, 0xb93d, 0xbef, 0x1, 0x1);
        gbc.writeMem(0x8036, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3ba8);
        EXPECT(gbc.pc(), 0x8038);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8036), 0xcb);
        EXPECT(gbc.readMem(0x8037), 0x48);
        // CB 48 00D7
        gbc.setState(0xce2, 0x8411, 0x7180, 0x3a9f, 0xbce1, 0xea89, 0x0, 0x1);
        gbc.writeMem(0xce2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8411);
        EXPECT(gbc.pc(), 0xce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00D8
        gbc.setState(0xd5d2, 0x9c73, 0xb5b0, 0x31cc, 0xc54, 0x10f1, 0x1, 0x1);
        gbc.writeMem(0xd5d2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9c73);
        EXPECT(gbc.pc(), 0xd5d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5d2), 0xcb);
        EXPECT(gbc.readMem(0xd5d3), 0x48);
        // CB 48 00D9
        gbc.setState(0xabe1, 0x8760, 0x3300, 0x99d2, 0xdb9e, 0xb4be, 0x0, 0x1);
        gbc.writeMem(0xabe1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8760);
        EXPECT(gbc.pc(), 0xabe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabe1), 0xcb);
        EXPECT(gbc.readMem(0xabe2), 0x48);
        // CB 48 00DA
        gbc.setState(0x3932, 0xa042, 0x43a0, 0xa246, 0x11e4, 0x9500, 0x0, 0x0);
        gbc.writeMem(0x3932, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xa042);
        EXPECT(gbc.pc(), 0x3934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00DB
        gbc.setState(0x500c, 0xa405, 0xcc60, 0x8c56, 0x8102, 0xd20f, 0x1, 0x1);
        gbc.writeMem(0x500c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa405);
        EXPECT(gbc.pc(), 0x500e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00DC
        gbc.setState(0xeca4, 0x35a7, 0x4fb0, 0x9627, 0x116, 0xbc0, 0x1, 0x1);
        gbc.writeMem(0xeca4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x35a7);
        EXPECT(gbc.pc(), 0xeca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeca4), 0xcb);
        EXPECT(gbc.readMem(0xeca5), 0x48);
        // CB 48 00DD
        gbc.setState(0xb6de, 0x3345, 0x68c0, 0x97a1, 0xa174, 0xb86a, 0x1, 0x0);
        gbc.writeMem(0xb6de, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x3345);
        EXPECT(gbc.pc(), 0xb6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6de), 0xcb);
        EXPECT(gbc.readMem(0xb6df), 0x48);
        // CB 48 00DE
        gbc.setState(0xa3ae, 0xb63b, 0xdbc0, 0x4fba, 0x85cb, 0xfc64, 0x1, 0x0);
        gbc.writeMem(0xa3ae, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb63b);
        EXPECT(gbc.pc(), 0xa3b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3ae), 0xcb);
        EXPECT(gbc.readMem(0xa3af), 0x48);
        // CB 48 00DF
        gbc.setState(0x236d, 0x16d6, 0x6cc0, 0x1b70, 0x5a2b, 0xb148, 0x1, 0x1);
        gbc.writeMem(0x236d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x16d6);
        EXPECT(gbc.pc(), 0x236f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00E0
        gbc.setState(0xc328, 0xd31f, 0x6740, 0x32a0, 0xdc2c, 0x3d94, 0x1, 0x0);
        gbc.writeMem(0xc328, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd31f);
        EXPECT(gbc.pc(), 0xc32a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc328), 0xcb);
        EXPECT(gbc.readMem(0xc329), 0x48);
        // CB 48 00E1
        gbc.setState(0xb9f3, 0x8665, 0xe7f0, 0x7756, 0x163, 0x6c85, 0x0, 0x0);
        gbc.writeMem(0xb9f3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x8665);
        EXPECT(gbc.pc(), 0xb9f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9f3), 0xcb);
        EXPECT(gbc.readMem(0xb9f4), 0x48);
        // CB 48 00E2
        gbc.setState(0xd4d6, 0x5939, 0xf820, 0x40a3, 0x16e1, 0x2116, 0x1, 0x1);
        gbc.writeMem(0xd4d6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5939);
        EXPECT(gbc.pc(), 0xd4d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d6), 0xcb);
        EXPECT(gbc.readMem(0xd4d7), 0x48);
        // CB 48 00E3
        gbc.setState(0x1448, 0xf61d, 0xb4e0, 0x4d8, 0xf900, 0xe901, 0x1, 0x0);
        gbc.writeMem(0x1448, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf61d);
        EXPECT(gbc.pc(), 0x144a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00E4
        gbc.setState(0x4c27, 0x2d80, 0x15f0, 0x3a2b, 0x884, 0xd8cd, 0x0, 0x1);
        gbc.writeMem(0x4c27, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x2d80);
        EXPECT(gbc.pc(), 0x4c29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00E5
        gbc.setState(0xaa52, 0xff5f, 0xa880, 0xb50c, 0x4afa, 0x1fb0, 0x1, 0x0);
        gbc.writeMem(0xaa52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xff5f);
        EXPECT(gbc.pc(), 0xaa54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa52), 0xcb);
        EXPECT(gbc.readMem(0xaa53), 0x48);
        // CB 48 00E6
        gbc.setState(0xb77a, 0xd5f4, 0xc580, 0x427c, 0x4104, 0x69ff, 0x0, 0x0);
        gbc.writeMem(0xb77a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd5f4);
        EXPECT(gbc.pc(), 0xb77c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb77a), 0xcb);
        EXPECT(gbc.readMem(0xb77b), 0x48);
        // CB 48 00E7
        gbc.setState(0x3420, 0x444d, 0x8b10, 0xb276, 0x53f7, 0x7aa5, 0x1, 0x1);
        gbc.writeMem(0x3420, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x444d);
        EXPECT(gbc.pc(), 0x3422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00E8
        gbc.setState(0xc454, 0x37d9, 0xce70, 0xb0d7, 0xe2f1, 0x670, 0x0, 0x0);
        gbc.writeMem(0xc454, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x37d9);
        EXPECT(gbc.pc(), 0xc456);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc454), 0xcb);
        EXPECT(gbc.readMem(0xc455), 0x48);
        // CB 48 00E9
        gbc.setState(0x51e1, 0x72fb, 0xae20, 0xb0d4, 0x3422, 0x191b, 0x1, 0x0);
        gbc.writeMem(0x51e1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x72fb);
        EXPECT(gbc.pc(), 0x51e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00EA
        gbc.setState(0xc437, 0x1a52, 0x3e60, 0x723e, 0xdeb2, 0x92af, 0x1, 0x0);
        gbc.writeMem(0xc437, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x1a52);
        EXPECT(gbc.pc(), 0xc439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc437), 0xcb);
        EXPECT(gbc.readMem(0xc438), 0x48);
        // CB 48 00EB
        gbc.setState(0x4592, 0x623f, 0xded0, 0x8612, 0x6a6a, 0x27b3, 0x1, 0x0);
        gbc.writeMem(0x4592, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x623f);
        EXPECT(gbc.pc(), 0x4594);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00EC
        gbc.setState(0xa5c6, 0x8bd, 0x20b0, 0x9357, 0x6644, 0x67fa, 0x1, 0x0);
        gbc.writeMem(0xa5c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8bd);
        EXPECT(gbc.pc(), 0xa5c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5c6), 0xcb);
        EXPECT(gbc.readMem(0xa5c7), 0x48);
        // CB 48 00ED
        gbc.setState(0x6224, 0xec1, 0x3340, 0xc54b, 0x5b65, 0xe2dc, 0x1, 0x0);
        gbc.writeMem(0x6224, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xec1);
        EXPECT(gbc.pc(), 0x6226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00EE
        gbc.setState(0xeb47, 0xa404, 0xb3f0, 0xa4a3, 0x23e, 0xa49a, 0x1, 0x1);
        gbc.writeMem(0xeb47, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa404);
        EXPECT(gbc.pc(), 0xeb49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb47), 0xcb);
        EXPECT(gbc.readMem(0xeb48), 0x48);
        // CB 48 00EF
        gbc.setState(0x7247, 0xe5da, 0xf9b0, 0xe4d, 0x71c, 0x6156, 0x1, 0x1);
        gbc.writeMem(0x7247, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe5da);
        EXPECT(gbc.pc(), 0x7249);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00F0
        gbc.setState(0x3d5b, 0x78c7, 0x93f0, 0x85fc, 0xe198, 0x7789, 0x0, 0x1);
        gbc.writeMem(0x3d5b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x78c7);
        EXPECT(gbc.pc(), 0x3d5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00F1
        gbc.setState(0x494c, 0xad6c, 0xd6b0, 0x7900, 0xf98, 0x2864, 0x0, 0x0);
        gbc.writeMem(0x494c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xad6c);
        EXPECT(gbc.pc(), 0x494e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00F2
        gbc.setState(0xdaf6, 0x9fb9, 0xda80, 0x6a56, 0x3eca, 0x811d, 0x1, 0x0);
        gbc.writeMem(0xdaf6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9fb9);
        EXPECT(gbc.pc(), 0xdaf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf6), 0xcb);
        EXPECT(gbc.readMem(0xdaf7), 0x48);
        // CB 48 00F3
        gbc.setState(0xbe02, 0x3c3c, 0x1360, 0xa647, 0xb4ad, 0x79da, 0x0, 0x0);
        gbc.writeMem(0xbe02, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3c3c);
        EXPECT(gbc.pc(), 0xbe04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe02), 0xcb);
        EXPECT(gbc.readMem(0xbe03), 0x48);
        // CB 48 00F4
        gbc.setState(0x256f, 0xd701, 0xc340, 0x6d2a, 0x5ffd, 0xcae1, 0x0, 0x1);
        gbc.writeMem(0x256f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xd701);
        EXPECT(gbc.pc(), 0x2571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00F5
        gbc.setState(0xbfd5, 0x8bc2, 0x93c0, 0x22af, 0x6187, 0xd728, 0x0, 0x0);
        gbc.writeMem(0xbfd5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8bc2);
        EXPECT(gbc.pc(), 0xbfd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfd5), 0xcb);
        EXPECT(gbc.readMem(0xbfd6), 0x48);
        // CB 48 00F6
        gbc.setState(0x2539, 0xf9b6, 0xfc40, 0xa15a, 0xae70, 0xddc9, 0x1, 0x1);
        gbc.writeMem(0x2539, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf9b6);
        EXPECT(gbc.pc(), 0x253b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00F7
        gbc.setState(0xee0, 0x4a7f, 0x51e0, 0x7ef4, 0xcf6d, 0x31f9, 0x1, 0x1);
        gbc.writeMem(0xee0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4a7f);
        EXPECT(gbc.pc(), 0xee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00F9
        gbc.setState(0x6625, 0x7d42, 0x7d20, 0x2dd2, 0x1db3, 0x5ef8, 0x1, 0x0);
        gbc.writeMem(0x6625, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x7d42);
        EXPECT(gbc.pc(), 0x6627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 00FA
        gbc.setState(0xc89b, 0x8783, 0x37a0, 0xaf43, 0x197e, 0xfab, 0x0, 0x1);
        gbc.writeMem(0xc89b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x8783);
        EXPECT(gbc.pc(), 0xc89d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc89b), 0xcb);
        EXPECT(gbc.readMem(0xc89c), 0x48);
        // CB 48 00FB
        gbc.setState(0xa6b, 0xff58, 0xb1b0, 0x8249, 0xab31, 0xbf0, 0x0, 0x1);
        gbc.writeMem(0xa6b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xff58);
        EXPECT(gbc.pc(), 0xa6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00FC
        gbc.setState(0xd0ea, 0x94a3, 0x7850, 0x5e9a, 0x3de, 0x5a6c, 0x0, 0x1);
        gbc.writeMem(0xd0ea, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x94a3);
        EXPECT(gbc.pc(), 0xd0ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ea), 0xcb);
        EXPECT(gbc.readMem(0xd0eb), 0x48);
        // CB 48 00FD
        gbc.setState(0xc28c, 0xf6, 0x3970, 0x9bba, 0x38d, 0x544f, 0x1, 0x0);
        gbc.writeMem(0xc28c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf6);
        EXPECT(gbc.pc(), 0xc28e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc28c), 0xcb);
        EXPECT(gbc.readMem(0xc28d), 0x48);
        // CB 48 00FE
        gbc.setState(0x849, 0xb17a, 0xaad0, 0x67af, 0x2c5c, 0xa6d9, 0x1, 0x0);
        gbc.writeMem(0x849, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xb17a);
        EXPECT(gbc.pc(), 0x84b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 00FF
        gbc.setState(0xdf23, 0x48dd, 0xb5a0, 0xa707, 0xf04b, 0x239f, 0x0, 0x0);
        gbc.writeMem(0xdf23, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x48dd);
        EXPECT(gbc.pc(), 0xdf25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf23), 0xcb);
        EXPECT(gbc.readMem(0xdf24), 0x48);
        // CB 48 0100
        gbc.setState(0xe35d, 0x494d, 0xf3b0, 0xce06, 0xde81, 0xdf77, 0x1, 0x1);
        gbc.writeMem(0xe35d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x494d);
        EXPECT(gbc.pc(), 0xe35f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe35d), 0xcb);
        EXPECT(gbc.readMem(0xe35e), 0x48);
        // CB 48 0102
        gbc.setState(0x5ac2, 0x6557, 0x5780, 0x7d87, 0x1518, 0x1204, 0x0, 0x0);
        gbc.writeMem(0x5ac2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6557);
        EXPECT(gbc.pc(), 0x5ac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0103
        gbc.setState(0xe729, 0x249a, 0xe7d0, 0xeff6, 0xc6e6, 0x5e2c, 0x0, 0x0);
        gbc.writeMem(0xe729, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x249a);
        EXPECT(gbc.pc(), 0xe72b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe729), 0xcb);
        EXPECT(gbc.readMem(0xe72a), 0x48);
        // CB 48 0104
        gbc.setState(0x72f5, 0xbb81, 0xd50, 0xce1d, 0x82fa, 0x5e5, 0x1, 0x1);
        gbc.writeMem(0x72f5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xbb81);
        EXPECT(gbc.pc(), 0x72f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0105
        gbc.setState(0xc995, 0x68f4, 0xc4c0, 0xcf5c, 0x439, 0x1ff6, 0x1, 0x1);
        gbc.writeMem(0xc995, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x68f4);
        EXPECT(gbc.pc(), 0xc997);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc995), 0xcb);
        EXPECT(gbc.readMem(0xc996), 0x48);
        // CB 48 0106
        gbc.setState(0xc209, 0x5e60, 0x5110, 0xad8e, 0xbec, 0x8093, 0x0, 0x0);
        gbc.writeMem(0xc209, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5e60);
        EXPECT(gbc.pc(), 0xc20b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc209), 0xcb);
        EXPECT(gbc.readMem(0xc20a), 0x48);
        // CB 48 0108
        gbc.setState(0x399d, 0xbebd, 0xe220, 0x53b, 0x7492, 0x13ec, 0x1, 0x1);
        gbc.writeMem(0x399d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xbebd);
        EXPECT(gbc.pc(), 0x399f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0109
        gbc.setState(0x1747, 0x9e70, 0xa740, 0xa328, 0x84d5, 0x79eb, 0x0, 0x1);
        gbc.writeMem(0x1747, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9e70);
        EXPECT(gbc.pc(), 0x1749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 010A
        gbc.setState(0x4bc5, 0x42bf, 0x2640, 0xbc60, 0xff6d, 0xd00f, 0x1, 0x0);
        gbc.writeMem(0x4bc5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x42bf);
        EXPECT(gbc.pc(), 0x4bc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 010B
        gbc.setState(0x3933, 0x84ec, 0x9f60, 0x9bfc, 0x8e8b, 0x98e5, 0x0, 0x1);
        gbc.writeMem(0x3933, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x84ec);
        EXPECT(gbc.pc(), 0x3935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 010C
        gbc.setState(0x5385, 0xab8, 0xc1c0, 0x3c05, 0xa711, 0x7952, 0x1, 0x0);
        gbc.writeMem(0x5385, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xab8);
        EXPECT(gbc.pc(), 0x5387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 010D
        gbc.setState(0x144a, 0x28a5, 0x5e70, 0xdf5, 0xad0d, 0x624a, 0x1, 0x1);
        gbc.writeMem(0x144a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x28a5);
        EXPECT(gbc.pc(), 0x144c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 010E
        gbc.setState(0xc014, 0x70c0, 0xe220, 0xfa2a, 0x97d, 0xe7bf, 0x1, 0x1);
        gbc.writeMem(0xc014, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x70c0);
        EXPECT(gbc.pc(), 0xc016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc014), 0xcb);
        EXPECT(gbc.readMem(0xc015), 0x48);
        // CB 48 010F
        gbc.setState(0xec12, 0x8bcc, 0xd9b0, 0x9381, 0x9c3f, 0x1b1e, 0x1, 0x1);
        gbc.writeMem(0xec12, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8bcc);
        EXPECT(gbc.pc(), 0xec14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec12), 0xcb);
        EXPECT(gbc.readMem(0xec13), 0x48);
        // CB 48 0111
        gbc.setState(0x82ea, 0x282d, 0x35c0, 0xbea2, 0xd443, 0x3f5e, 0x1, 0x0);
        gbc.writeMem(0x82ea, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x282d);
        EXPECT(gbc.pc(), 0x82ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ea), 0xcb);
        EXPECT(gbc.readMem(0x82eb), 0x48);
        // CB 48 0112
        gbc.setState(0xa6c9, 0x4357, 0x25a0, 0xdd53, 0x9c09, 0xf7cb, 0x1, 0x0);
        gbc.writeMem(0xa6c9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4357);
        EXPECT(gbc.pc(), 0xa6cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c9), 0xcb);
        EXPECT(gbc.readMem(0xa6ca), 0x48);
        // CB 48 0113
        gbc.setState(0xeaf, 0x57cd, 0x2850, 0x8652, 0x353d, 0x2646, 0x1, 0x0);
        gbc.writeMem(0xeaf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x57cd);
        EXPECT(gbc.pc(), 0xeb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0114
        gbc.setState(0x9fe4, 0xa8c9, 0xd8e0, 0xd189, 0xb0d, 0x6c5e, 0x0, 0x1);
        gbc.writeMem(0x9fe4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa8c9);
        EXPECT(gbc.pc(), 0x9fe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe4), 0xcb);
        EXPECT(gbc.readMem(0x9fe5), 0x48);
        // CB 48 0115
        gbc.setState(0xe06f, 0x8ef5, 0xa580, 0x2776, 0x287a, 0x3a32, 0x1, 0x1);
        gbc.writeMem(0xe06f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8ef5);
        EXPECT(gbc.pc(), 0xe071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe06f), 0xcb);
        EXPECT(gbc.readMem(0xe070), 0x48);
        // CB 48 0116
        gbc.setState(0x58a5, 0x5799, 0xed40, 0x7e46, 0x6015, 0x709e, 0x0, 0x1);
        gbc.writeMem(0x58a5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5799);
        EXPECT(gbc.pc(), 0x58a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0117
        gbc.setState(0xe932, 0x4cf7, 0xf050, 0x76c6, 0x4708, 0xa121, 0x0, 0x1);
        gbc.writeMem(0xe932, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4cf7);
        EXPECT(gbc.pc(), 0xe934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe932), 0xcb);
        EXPECT(gbc.readMem(0xe933), 0x48);
        // CB 48 0118
        gbc.setState(0x1c36, 0xb8c0, 0x2e40, 0x5485, 0xc5cc, 0xc25b, 0x0, 0x0);
        gbc.writeMem(0x1c36, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb8c0);
        EXPECT(gbc.pc(), 0x1c38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0119
        gbc.setState(0x8b87, 0xb046, 0xc8a0, 0xa562, 0xaaa8, 0xe813, 0x1, 0x0);
        gbc.writeMem(0x8b87, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb046);
        EXPECT(gbc.pc(), 0x8b89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b87), 0xcb);
        EXPECT(gbc.readMem(0x8b88), 0x48);
        // CB 48 011A
        gbc.setState(0x4f1e, 0x4f17, 0x4670, 0xee89, 0x7af6, 0x1ed, 0x0, 0x1);
        gbc.writeMem(0x4f1e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4f17);
        EXPECT(gbc.pc(), 0x4f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 011B
        gbc.setState(0x6c0e, 0xdc09, 0xa7a0, 0x179a, 0x95e3, 0xf0dc, 0x0, 0x0);
        gbc.writeMem(0x6c0e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xdc09);
        EXPECT(gbc.pc(), 0x6c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 011C
        gbc.setState(0x4c3e, 0x4af1, 0x3310, 0x641a, 0x5e6e, 0x4fcb, 0x1, 0x1);
        gbc.writeMem(0x4c3e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4af1);
        EXPECT(gbc.pc(), 0x4c40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 011D
        gbc.setState(0x2e5b, 0xfe3e, 0xd460, 0x2354, 0x3e62, 0x65ed, 0x0, 0x0);
        gbc.writeMem(0x2e5b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xfe3e);
        EXPECT(gbc.pc(), 0x2e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 011E
        gbc.setState(0xb09c, 0x8197, 0x3030, 0xb8de, 0x206f, 0x6616, 0x1, 0x0);
        gbc.writeMem(0xb09c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8197);
        EXPECT(gbc.pc(), 0xb09e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb09c), 0xcb);
        EXPECT(gbc.readMem(0xb09d), 0x48);
        // CB 48 011F
        gbc.setState(0x9819, 0x39e6, 0x1270, 0x84f6, 0x92e7, 0x3e41, 0x0, 0x0);
        gbc.writeMem(0x9819, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x39e6);
        EXPECT(gbc.pc(), 0x981b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9819), 0xcb);
        EXPECT(gbc.readMem(0x981a), 0x48);
        // CB 48 0120
        gbc.setState(0x444c, 0xb89a, 0xe0e0, 0x50ed, 0xb11e, 0xdfc3, 0x1, 0x1);
        gbc.writeMem(0x444c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb89a);
        EXPECT(gbc.pc(), 0x444e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0121
        gbc.setState(0x1e2d, 0xd88f, 0x5fc0, 0x36ca, 0xfc46, 0xe67c, 0x1, 0x0);
        gbc.writeMem(0x1e2d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd88f);
        EXPECT(gbc.pc(), 0x1e2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0122
        gbc.setState(0xe375, 0x944c, 0x73f0, 0x986f, 0xb4fb, 0xbd8a, 0x1, 0x1);
        gbc.writeMem(0xe375, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x944c);
        EXPECT(gbc.pc(), 0xe377);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe375), 0xcb);
        EXPECT(gbc.readMem(0xe376), 0x48);
        // CB 48 0123
        gbc.setState(0x4bac, 0x4ee3, 0xd270, 0xc1e3, 0xd40, 0x8553, 0x1, 0x0);
        gbc.writeMem(0x4bac, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4ee3);
        EXPECT(gbc.pc(), 0x4bae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0124
        gbc.setState(0x9755, 0x9f54, 0x7b00, 0xb2db, 0xac3b, 0xdaaa, 0x1, 0x0);
        gbc.writeMem(0x9755, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9f54);
        EXPECT(gbc.pc(), 0x9757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9755), 0xcb);
        EXPECT(gbc.readMem(0x9756), 0x48);
        // CB 48 0125
        gbc.setState(0x541b, 0x5853, 0xae90, 0x11fa, 0xfc71, 0x6a88, 0x0, 0x1);
        gbc.writeMem(0x541b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5853);
        EXPECT(gbc.pc(), 0x541d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0126
        gbc.setState(0x9c1d, 0xd49a, 0x8ee0, 0xa947, 0x9159, 0x93ac, 0x1, 0x0);
        gbc.writeMem(0x9c1d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd49a);
        EXPECT(gbc.pc(), 0x9c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c1d), 0xcb);
        EXPECT(gbc.readMem(0x9c1e), 0x48);
        // CB 48 0127
        gbc.setState(0xe1b0, 0x2e11, 0x1dd0, 0x341c, 0x3c8, 0x9a79, 0x0, 0x1);
        gbc.writeMem(0xe1b0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2e11);
        EXPECT(gbc.pc(), 0xe1b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1b0), 0xcb);
        EXPECT(gbc.readMem(0xe1b1), 0x48);
        // CB 48 0128
        gbc.setState(0x6af9, 0x15f4, 0xa970, 0x9886, 0x138f, 0xac74, 0x1, 0x1);
        gbc.writeMem(0x6af9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x15f4);
        EXPECT(gbc.pc(), 0x6afb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0129
        gbc.setState(0x9858, 0xb6e9, 0x8da0, 0x290a, 0x90cc, 0x828f, 0x1, 0x0);
        gbc.writeMem(0x9858, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb6e9);
        EXPECT(gbc.pc(), 0x985a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9858), 0xcb);
        EXPECT(gbc.readMem(0x9859), 0x48);
        // CB 48 012A
        gbc.setState(0xb2c8, 0x9f38, 0x89a0, 0xb259, 0x2372, 0x3e0a, 0x0, 0x1);
        gbc.writeMem(0xb2c8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9f38);
        EXPECT(gbc.pc(), 0xb2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c8), 0xcb);
        EXPECT(gbc.readMem(0xb2c9), 0x48);
        // CB 48 012B
        gbc.setState(0xddb1, 0x60d0, 0xaf70, 0x9376, 0xc170, 0x5e83, 0x1, 0x0);
        gbc.writeMem(0xddb1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x60d0);
        EXPECT(gbc.pc(), 0xddb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb1), 0xcb);
        EXPECT(gbc.readMem(0xddb2), 0x48);
        // CB 48 012E
        gbc.setState(0x1a23, 0x11a4, 0x730, 0xa75f, 0xd366, 0x52b1, 0x1, 0x1);
        gbc.writeMem(0x1a23, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x11a4);
        EXPECT(gbc.pc(), 0x1a25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 012F
        gbc.setState(0x5dc8, 0xdd5b, 0x5aa0, 0x5b63, 0x93b5, 0xd61d, 0x0, 0x0);
        gbc.writeMem(0x5dc8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xdd5b);
        EXPECT(gbc.pc(), 0x5dca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0130
        gbc.setState(0x16ba, 0xce52, 0xe840, 0x6e2d, 0xb544, 0x56f0, 0x0, 0x0);
        gbc.writeMem(0x16ba, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xce52);
        EXPECT(gbc.pc(), 0x16bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0131
        gbc.setState(0xc494, 0x9fca, 0x56b0, 0xfe09, 0xceab, 0xe063, 0x0, 0x0);
        gbc.writeMem(0xc494, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9fca);
        EXPECT(gbc.pc(), 0xc496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc494), 0xcb);
        EXPECT(gbc.readMem(0xc495), 0x48);
        // CB 48 0132
        gbc.setState(0x8958, 0x4428, 0x6ff0, 0x299b, 0xb84a, 0xec0d, 0x1, 0x0);
        gbc.writeMem(0x8958, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4428);
        EXPECT(gbc.pc(), 0x895a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8958), 0xcb);
        EXPECT(gbc.readMem(0x8959), 0x48);
        // CB 48 0133
        gbc.setState(0xc6a3, 0x8863, 0x46e0, 0xa201, 0xa15b, 0x1d64, 0x1, 0x1);
        gbc.writeMem(0xc6a3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x8863);
        EXPECT(gbc.pc(), 0xc6a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a3), 0xcb);
        EXPECT(gbc.readMem(0xc6a4), 0x48);
        // CB 48 0134
        gbc.setState(0x362f, 0x7d44, 0xd0, 0x697b, 0x98ca, 0x906b, 0x0, 0x1);
        gbc.writeMem(0x362f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7d44);
        EXPECT(gbc.pc(), 0x3631);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0135
        gbc.setState(0xccd4, 0x6639, 0x8740, 0xe214, 0x43e5, 0x57da, 0x0, 0x1);
        gbc.writeMem(0xccd4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6639);
        EXPECT(gbc.pc(), 0xccd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccd4), 0xcb);
        EXPECT(gbc.readMem(0xccd5), 0x48);
        // CB 48 0136
        gbc.setState(0x4737, 0x3b32, 0x58b0, 0xb0a8, 0x88b1, 0x363e, 0x1, 0x1);
        gbc.writeMem(0x4737, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3b32);
        EXPECT(gbc.pc(), 0x4739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0137
        gbc.setState(0xee58, 0x4680, 0x50b0, 0x1447, 0xb2d6, 0xdab, 0x1, 0x1);
        gbc.writeMem(0xee58, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4680);
        EXPECT(gbc.pc(), 0xee5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee58), 0xcb);
        EXPECT(gbc.readMem(0xee59), 0x48);
        // CB 48 0138
        gbc.setState(0x98b3, 0x3588, 0x85c0, 0xb461, 0x6222, 0x9be7, 0x1, 0x1);
        gbc.writeMem(0x98b3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3588);
        EXPECT(gbc.pc(), 0x98b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b3), 0xcb);
        EXPECT(gbc.readMem(0x98b4), 0x48);
        // CB 48 0139
        gbc.setState(0x14aa, 0x1737, 0x280, 0x268a, 0x3fa5, 0xfd23, 0x1, 0x0);
        gbc.writeMem(0x14aa, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1737);
        EXPECT(gbc.pc(), 0x14ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 013A
        gbc.setState(0xbf85, 0xd88, 0x77f0, 0xe777, 0x7591, 0xc81f, 0x0, 0x1);
        gbc.writeMem(0xbf85, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd88);
        EXPECT(gbc.pc(), 0xbf87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf85), 0xcb);
        EXPECT(gbc.readMem(0xbf86), 0x48);
        // CB 48 013B
        gbc.setState(0x4e48, 0xaf89, 0x8560, 0xe62f, 0xfa11, 0xb73a, 0x0, 0x1);
        gbc.writeMem(0x4e48, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xaf89);
        EXPECT(gbc.pc(), 0x4e4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 013C
        gbc.setState(0x57d, 0xdefa, 0x7840, 0x4536, 0xc270, 0x983c, 0x1, 0x1);
        gbc.writeMem(0x57d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xdefa);
        EXPECT(gbc.pc(), 0x57f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 013D
        gbc.setState(0x9db, 0x348e, 0x2ed0, 0x8d18, 0xaa38, 0xb9d3, 0x1, 0x1);
        gbc.writeMem(0x9db, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x348e);
        EXPECT(gbc.pc(), 0x9dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 013E
        gbc.setState(0x7d97, 0xb182, 0x47a0, 0x5020, 0x1144, 0x663, 0x0, 0x0);
        gbc.writeMem(0x7d97, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb182);
        EXPECT(gbc.pc(), 0x7d99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 013F
        gbc.setState(0xbf47, 0x1c6f, 0x2e60, 0xddf2, 0x7742, 0x5ce, 0x1, 0x0);
        gbc.writeMem(0xbf47, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x1c6f);
        EXPECT(gbc.pc(), 0xbf49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf47), 0xcb);
        EXPECT(gbc.readMem(0xbf48), 0x48);
        // CB 48 0141
        gbc.setState(0xdb26, 0xfc1f, 0x68d0, 0xacd5, 0x4d1d, 0xd4de, 0x0, 0x1);
        gbc.writeMem(0xdb26, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xfc1f);
        EXPECT(gbc.pc(), 0xdb28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb26), 0xcb);
        EXPECT(gbc.readMem(0xdb27), 0x48);
        // CB 48 0142
        gbc.setState(0xae52, 0xdd39, 0x9550, 0x304b, 0xf450, 0xeba9, 0x0, 0x1);
        gbc.writeMem(0xae52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdd39);
        EXPECT(gbc.pc(), 0xae54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae52), 0xcb);
        EXPECT(gbc.readMem(0xae53), 0x48);
        // CB 48 0143
        gbc.setState(0x155d, 0x5f10, 0xd990, 0xe9be, 0xb79f, 0x3e00, 0x1, 0x0);
        gbc.writeMem(0x155d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5f10);
        EXPECT(gbc.pc(), 0x155f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0144
        gbc.setState(0x15b7, 0x5189, 0xb30, 0xed26, 0x1253, 0x739e, 0x0, 0x1);
        gbc.writeMem(0x15b7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5189);
        EXPECT(gbc.pc(), 0x15b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0145
        gbc.setState(0xe985, 0x8c71, 0x53f0, 0x32a2, 0xf5d6, 0xe69f, 0x0, 0x1);
        gbc.writeMem(0xe985, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8c71);
        EXPECT(gbc.pc(), 0xe987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe985), 0xcb);
        EXPECT(gbc.readMem(0xe986), 0x48);
        // CB 48 0146
        gbc.setState(0xa548, 0xb3a, 0xa660, 0xea1c, 0xc267, 0x3cf4, 0x1, 0x1);
        gbc.writeMem(0xa548, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb3a);
        EXPECT(gbc.pc(), 0xa54a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa548), 0xcb);
        EXPECT(gbc.readMem(0xa549), 0x48);
        // CB 48 0147
        gbc.setState(0xd43d, 0x83e2, 0xb740, 0x68e6, 0x7dfb, 0x5a24, 0x1, 0x1);
        gbc.writeMem(0xd43d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x83e2);
        EXPECT(gbc.pc(), 0xd43f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd43d), 0xcb);
        EXPECT(gbc.readMem(0xd43e), 0x48);
        // CB 48 0148
        gbc.setState(0x4dfc, 0x32b5, 0xb4a0, 0x5769, 0xe639, 0x4097, 0x0, 0x1);
        gbc.writeMem(0x4dfc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x32b5);
        EXPECT(gbc.pc(), 0x4dfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0149
        gbc.setState(0x2d74, 0x82f2, 0xaa00, 0x186, 0x1811, 0xe787, 0x1, 0x1);
        gbc.writeMem(0x2d74, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x82f2);
        EXPECT(gbc.pc(), 0x2d76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 014A
        gbc.setState(0x2972, 0x552, 0x5a40, 0xbe8d, 0xa05e, 0xf95a, 0x1, 0x1);
        gbc.writeMem(0x2972, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x552);
        EXPECT(gbc.pc(), 0x2974);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 014B
        gbc.setState(0xa575, 0xbd6f, 0x3a0, 0xaff9, 0xe258, 0xc5bd, 0x0, 0x0);
        gbc.writeMem(0xa575, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xbd6f);
        EXPECT(gbc.pc(), 0xa577);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa575), 0xcb);
        EXPECT(gbc.readMem(0xa576), 0x48);
        // CB 48 014C
        gbc.setState(0xde75, 0xcd90, 0x6040, 0xd14, 0x3db0, 0x803, 0x0, 0x1);
        gbc.writeMem(0xde75, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xcd90);
        EXPECT(gbc.pc(), 0xde77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde75), 0xcb);
        EXPECT(gbc.readMem(0xde76), 0x48);
        // CB 48 014D
        gbc.setState(0x5c35, 0x442c, 0x6e00, 0xef5d, 0x62e0, 0xdeda, 0x0, 0x1);
        gbc.writeMem(0x5c35, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x442c);
        EXPECT(gbc.pc(), 0x5c37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 014E
        gbc.setState(0x6cd2, 0x869b, 0xe6c0, 0x9cf1, 0x5ec1, 0x676e, 0x1, 0x0);
        gbc.writeMem(0x6cd2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x869b);
        EXPECT(gbc.pc(), 0x6cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 014F
        gbc.setState(0x12e0, 0xb552, 0x2ed0, 0x1ab0, 0xafbd, 0xf97b, 0x0, 0x0);
        gbc.writeMem(0x12e0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb552);
        EXPECT(gbc.pc(), 0x12e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0150
        gbc.setState(0xd703, 0x22d, 0x2810, 0x508e, 0x6c62, 0x1019, 0x0, 0x1);
        gbc.writeMem(0xd703, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x22d);
        EXPECT(gbc.pc(), 0xd705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd703), 0xcb);
        EXPECT(gbc.readMem(0xd704), 0x48);
        // CB 48 0151
        gbc.setState(0x623d, 0x2949, 0xd950, 0xaf58, 0x85de, 0x88e1, 0x0, 0x0);
        gbc.writeMem(0x623d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2949);
        EXPECT(gbc.pc(), 0x623f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0152
        gbc.setState(0x4439, 0x7797, 0x1e60, 0xaac6, 0x3f01, 0x7fa6, 0x1, 0x1);
        gbc.writeMem(0x4439, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7797);
        EXPECT(gbc.pc(), 0x443b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0154
        gbc.setState(0xcb3, 0x284f, 0x5a60, 0xc1f1, 0x858d, 0xaf0b, 0x1, 0x0);
        gbc.writeMem(0xcb3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x284f);
        EXPECT(gbc.pc(), 0xcb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0155
        gbc.setState(0x62a4, 0x2904, 0x870, 0x7abd, 0x67f8, 0xadc2, 0x0, 0x1);
        gbc.writeMem(0x62a4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2904);
        EXPECT(gbc.pc(), 0x62a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0156
        gbc.setState(0x9fc0, 0xf622, 0x4530, 0x6fda, 0x271e, 0x802c, 0x0, 0x0);
        gbc.writeMem(0x9fc0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xf622);
        EXPECT(gbc.pc(), 0x9fc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fc0), 0xcb);
        EXPECT(gbc.readMem(0x9fc1), 0x48);
        // CB 48 0157
        gbc.setState(0x71a, 0x43bc, 0xe800, 0x105a, 0xad03, 0x36ac, 0x1, 0x1);
        gbc.writeMem(0x71a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x43bc);
        EXPECT(gbc.pc(), 0x71c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0158
        gbc.setState(0x6b68, 0x9dc, 0x9ed0, 0xad8c, 0xe53d, 0x115b, 0x1, 0x1);
        gbc.writeMem(0x6b68, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9dc);
        EXPECT(gbc.pc(), 0x6b6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0159
        gbc.setState(0xd704, 0xfac9, 0xb00, 0x19b3, 0x4090, 0x6cd8, 0x0, 0x0);
        gbc.writeMem(0xd704, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfac9);
        EXPECT(gbc.pc(), 0xd706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd704), 0xcb);
        EXPECT(gbc.readMem(0xd705), 0x48);
        // CB 48 015B
        gbc.setState(0x2593, 0xa46e, 0x5b00, 0x3418, 0x821b, 0x5f0d, 0x0, 0x0);
        gbc.writeMem(0x2593, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa46e);
        EXPECT(gbc.pc(), 0x2595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 015C
        gbc.setState(0x34df, 0x5405, 0xf950, 0x1a91, 0x44c6, 0x5554, 0x0, 0x0);
        gbc.writeMem(0x34df, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5405);
        EXPECT(gbc.pc(), 0x34e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 015D
        gbc.setState(0xead8, 0xc13f, 0x7730, 0x9115, 0x599c, 0x14d, 0x0, 0x1);
        gbc.writeMem(0xead8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc13f);
        EXPECT(gbc.pc(), 0xeada);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xead8), 0xcb);
        EXPECT(gbc.readMem(0xead9), 0x48);
        // CB 48 015E
        gbc.setState(0x1588, 0x9cf6, 0x1210, 0xb59d, 0x661d, 0x14b3, 0x0, 0x1);
        gbc.writeMem(0x1588, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9cf6);
        EXPECT(gbc.pc(), 0x158a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 015F
        gbc.setState(0x642a, 0xd9db, 0x6210, 0x4aec, 0x8f7, 0xf465, 0x0, 0x0);
        gbc.writeMem(0x642a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd9db);
        EXPECT(gbc.pc(), 0x642c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0161
        gbc.setState(0x928d, 0xf8e8, 0x9910, 0x62b9, 0xaaf6, 0x16f1, 0x1, 0x0);
        gbc.writeMem(0x928d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf8e8);
        EXPECT(gbc.pc(), 0x928f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x928d), 0xcb);
        EXPECT(gbc.readMem(0x928e), 0x48);
        // CB 48 0162
        gbc.setState(0xb679, 0x9656, 0x7a80, 0x2719, 0x5e57, 0xcb5f, 0x1, 0x1);
        gbc.writeMem(0xb679, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9656);
        EXPECT(gbc.pc(), 0xb67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb679), 0xcb);
        EXPECT(gbc.readMem(0xb67a), 0x48);
        // CB 48 0163
        gbc.setState(0x1762, 0x9a5e, 0x87e0, 0x6a58, 0x1b78, 0xdbe2, 0x1, 0x1);
        gbc.writeMem(0x1762, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x9a5e);
        EXPECT(gbc.pc(), 0x1764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0165
        gbc.setState(0xef83, 0x9b1b, 0xbae0, 0xa78a, 0x4a17, 0x6cce, 0x0, 0x1);
        gbc.writeMem(0xef83, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9b1b);
        EXPECT(gbc.pc(), 0xef85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef83), 0xcb);
        EXPECT(gbc.readMem(0xef84), 0x48);
        // CB 48 0166
        gbc.setState(0x5f98, 0xadb2, 0xcad0, 0x8c28, 0x6233, 0x7e56, 0x0, 0x1);
        gbc.writeMem(0x5f98, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xadb2);
        EXPECT(gbc.pc(), 0x5f9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0167
        gbc.setState(0xca1, 0x28ff, 0x23f0, 0xd350, 0x3cb1, 0xd1d7, 0x0, 0x0);
        gbc.writeMem(0xca1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x28ff);
        EXPECT(gbc.pc(), 0xca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0168
        gbc.setState(0x13d8, 0xc4fb, 0x350, 0xcdfb, 0xaede, 0x41d1, 0x0, 0x1);
        gbc.writeMem(0x13d8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc4fb);
        EXPECT(gbc.pc(), 0x13da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0169
        gbc.setState(0x8a7f, 0xbdfd, 0xb520, 0xba66, 0xd8df, 0x9c5b, 0x0, 0x1);
        gbc.writeMem(0x8a7f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbdfd);
        EXPECT(gbc.pc(), 0x8a81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7f), 0xcb);
        EXPECT(gbc.readMem(0x8a80), 0x48);
        // CB 48 016A
        gbc.setState(0x18bd, 0xa97a, 0x6660, 0x7633, 0x5328, 0x958e, 0x1, 0x1);
        gbc.writeMem(0x18bd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa97a);
        EXPECT(gbc.pc(), 0x18bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 016B
        gbc.setState(0xd88f, 0x7ee3, 0x8370, 0xadcb, 0x291e, 0x1107, 0x1, 0x1);
        gbc.writeMem(0xd88f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7ee3);
        EXPECT(gbc.pc(), 0xd891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd88f), 0xcb);
        EXPECT(gbc.readMem(0xd890), 0x48);
        // CB 48 016C
        gbc.setState(0x4470, 0x839b, 0x8510, 0x3fdf, 0x608b, 0x5769, 0x0, 0x0);
        gbc.writeMem(0x4470, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x839b);
        EXPECT(gbc.pc(), 0x4472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 016D
        gbc.setState(0xc4b, 0x841f, 0xef00, 0xe98d, 0xa3e5, 0x80f0, 0x0, 0x0);
        gbc.writeMem(0xc4b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x841f);
        EXPECT(gbc.pc(), 0xc4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 016E
        gbc.setState(0x6fa3, 0xc6fe, 0xe630, 0xeba9, 0x2916, 0x5a46, 0x1, 0x1);
        gbc.writeMem(0x6fa3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc6fe);
        EXPECT(gbc.pc(), 0x6fa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 016F
        gbc.setState(0xabcd, 0xbcce, 0xc3e0, 0xc3d1, 0x1e15, 0xbe64, 0x1, 0x1);
        gbc.writeMem(0xabcd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xbcce);
        EXPECT(gbc.pc(), 0xabcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabcd), 0xcb);
        EXPECT(gbc.readMem(0xabce), 0x48);
        // CB 48 0170
        gbc.setState(0xdde1, 0x1233, 0xac00, 0x97be, 0x3ae2, 0xdd9d, 0x0, 0x0);
        gbc.writeMem(0xdde1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1233);
        EXPECT(gbc.pc(), 0xdde3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdde1), 0xcb);
        EXPECT(gbc.readMem(0xdde2), 0x48);
        // CB 48 0171
        gbc.setState(0xc802, 0x1055, 0x4fb0, 0xe4f8, 0x5ac1, 0xa61e, 0x0, 0x0);
        gbc.writeMem(0xc802, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1055);
        EXPECT(gbc.pc(), 0xc804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc802), 0xcb);
        EXPECT(gbc.readMem(0xc803), 0x48);
        // CB 48 0172
        gbc.setState(0x55fd, 0xb6e5, 0xb130, 0x5753, 0xe0cb, 0x3679, 0x1, 0x1);
        gbc.writeMem(0x55fd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb6e5);
        EXPECT(gbc.pc(), 0x55ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0173
        gbc.setState(0xaf75, 0x9fd4, 0x180, 0x176b, 0x721d, 0x4fcb, 0x0, 0x1);
        gbc.writeMem(0xaf75, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9fd4);
        EXPECT(gbc.pc(), 0xaf77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf75), 0xcb);
        EXPECT(gbc.readMem(0xaf76), 0x48);
        // CB 48 0174
        gbc.setState(0x1aa7, 0xc56b, 0x4310, 0xaa81, 0xa7b3, 0x6f8f, 0x1, 0x0);
        gbc.writeMem(0x1aa7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc56b);
        EXPECT(gbc.pc(), 0x1aa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0175
        gbc.setState(0x49e2, 0xeed0, 0x6430, 0xdedf, 0x3a7c, 0xb63, 0x1, 0x0);
        gbc.writeMem(0x49e2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xeed0);
        EXPECT(gbc.pc(), 0x49e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0176
        gbc.setState(0x9f2d, 0x2991, 0x7580, 0x2129, 0x52a3, 0xe286, 0x1, 0x0);
        gbc.writeMem(0x9f2d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2991);
        EXPECT(gbc.pc(), 0x9f2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f2d), 0xcb);
        EXPECT(gbc.readMem(0x9f2e), 0x48);
        // CB 48 0177
        gbc.setState(0xf9c, 0xccf3, 0xc50, 0xf3ee, 0xc0ac, 0xfc30, 0x1, 0x1);
        gbc.writeMem(0xf9c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xccf3);
        EXPECT(gbc.pc(), 0xf9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0178
        gbc.setState(0x5167, 0xec6a, 0xcee0, 0xc1fa, 0xbe70, 0x11ca, 0x1, 0x1);
        gbc.writeMem(0x5167, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xec6a);
        EXPECT(gbc.pc(), 0x5169);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0179
        gbc.setState(0x3eae, 0xf625, 0x890, 0x834e, 0x1306, 0x44c4, 0x0, 0x1);
        gbc.writeMem(0x3eae, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf625);
        EXPECT(gbc.pc(), 0x3eb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 017A
        gbc.setState(0x47e4, 0xfc61, 0xba70, 0xb91e, 0x6b4e, 0x65ba, 0x0, 0x1);
        gbc.writeMem(0x47e4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xfc61);
        EXPECT(gbc.pc(), 0x47e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 017B
        gbc.setState(0x94cc, 0xcbdf, 0xa160, 0xf30b, 0x18cd, 0xdd52, 0x0, 0x0);
        gbc.writeMem(0x94cc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xcbdf);
        EXPECT(gbc.pc(), 0x94ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94cc), 0xcb);
        EXPECT(gbc.readMem(0x94cd), 0x48);
        // CB 48 017C
        gbc.setState(0xcc1f, 0xff1a, 0xe890, 0x5da0, 0xb9a2, 0xc5e, 0x0, 0x1);
        gbc.writeMem(0xcc1f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xff1a);
        EXPECT(gbc.pc(), 0xcc21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc1f), 0xcb);
        EXPECT(gbc.readMem(0xcc20), 0x48);
        // CB 48 017D
        gbc.setState(0x4718, 0x7dc0, 0x8870, 0x3c9c, 0x40ff, 0xdfb0, 0x1, 0x0);
        gbc.writeMem(0x4718, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7dc0);
        EXPECT(gbc.pc(), 0x471a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 017E
        gbc.setState(0x9355, 0x6812, 0xeb0, 0xbcf4, 0x8e43, 0xe4bc, 0x0, 0x1);
        gbc.writeMem(0x9355, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x6812);
        EXPECT(gbc.pc(), 0x9357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9355), 0xcb);
        EXPECT(gbc.readMem(0x9356), 0x48);
        // CB 48 017F
        gbc.setState(0x79a9, 0x6513, 0x3bf0, 0xc4ea, 0xd312, 0x6674, 0x1, 0x1);
        gbc.writeMem(0x79a9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6513);
        EXPECT(gbc.pc(), 0x79ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0180
        gbc.setState(0x1b01, 0x2f33, 0xfaf0, 0x9ed0, 0x336f, 0xe466, 0x0, 0x0);
        gbc.writeMem(0x1b01, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x2f33);
        EXPECT(gbc.pc(), 0x1b03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0181
        gbc.setState(0x260b, 0x1a0b, 0xb7d0, 0xc8bf, 0x2a83, 0x4e11, 0x1, 0x0);
        gbc.writeMem(0x260b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1a0b);
        EXPECT(gbc.pc(), 0x260d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0182
        gbc.setState(0x97dc, 0x7386, 0x7e10, 0xc3b5, 0x85af, 0x70da, 0x0, 0x0);
        gbc.writeMem(0x97dc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x7386);
        EXPECT(gbc.pc(), 0x97de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97dc), 0xcb);
        EXPECT(gbc.readMem(0x97dd), 0x48);
        // CB 48 0183
        gbc.setState(0x53af, 0xfc79, 0x5270, 0xcb5b, 0x3f7e, 0xe3e3, 0x1, 0x1);
        gbc.writeMem(0x53af, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfc79);
        EXPECT(gbc.pc(), 0x53b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0184
        gbc.setState(0x4d78, 0xb128, 0xc720, 0x690a, 0x8106, 0x6ef1, 0x1, 0x0);
        gbc.writeMem(0x4d78, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb128);
        EXPECT(gbc.pc(), 0x4d7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0185
        gbc.setState(0xe6f, 0x380d, 0x150, 0x16b8, 0x8f4b, 0x58ab, 0x0, 0x0);
        gbc.writeMem(0xe6f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x380d);
        EXPECT(gbc.pc(), 0xe71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0186
        gbc.setState(0x602e, 0xa966, 0x5e80, 0xecdc, 0x9546, 0xf8f9, 0x1, 0x0);
        gbc.writeMem(0x602e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa966);
        EXPECT(gbc.pc(), 0x6030);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0187
        gbc.setState(0xa8cf, 0x9a52, 0x3ef0, 0x1d02, 0x3255, 0xbd2c, 0x0, 0x1);
        gbc.writeMem(0xa8cf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9a52);
        EXPECT(gbc.pc(), 0xa8d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8cf), 0xcb);
        EXPECT(gbc.readMem(0xa8d0), 0x48);
        // CB 48 0188
        gbc.setState(0x7878, 0x738c, 0x2560, 0x2048, 0x650b, 0xbf60, 0x0, 0x1);
        gbc.writeMem(0x7878, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x738c);
        EXPECT(gbc.pc(), 0x787a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0189
        gbc.setState(0xb2a3, 0xd202, 0xd590, 0x36da, 0xbbb4, 0xa2c9, 0x0, 0x1);
        gbc.writeMem(0xb2a3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xd202);
        EXPECT(gbc.pc(), 0xb2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2a3), 0xcb);
        EXPECT(gbc.readMem(0xb2a4), 0x48);
        // CB 48 018A
        gbc.setState(0x5886, 0x2c99, 0x31d0, 0x604a, 0x7551, 0xd4c4, 0x0, 0x0);
        gbc.writeMem(0x5886, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2c99);
        EXPECT(gbc.pc(), 0x5888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 018B
        gbc.setState(0xcd81, 0x61d4, 0xf860, 0x1f52, 0x8322, 0x6abd, 0x0, 0x1);
        gbc.writeMem(0xcd81, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x61d4);
        EXPECT(gbc.pc(), 0xcd83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd81), 0xcb);
        EXPECT(gbc.readMem(0xcd82), 0x48);
        // CB 48 018C
        gbc.setState(0xdaad, 0xf9a8, 0x230, 0x8162, 0xaad6, 0xcdfa, 0x0, 0x0);
        gbc.writeMem(0xdaad, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf9a8);
        EXPECT(gbc.pc(), 0xdaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaad), 0xcb);
        EXPECT(gbc.readMem(0xdaae), 0x48);
        // CB 48 018D
        gbc.setState(0xe869, 0x9e93, 0x8510, 0xeb2b, 0x6191, 0x4032, 0x1, 0x0);
        gbc.writeMem(0xe869, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9e93);
        EXPECT(gbc.pc(), 0xe86b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe869), 0xcb);
        EXPECT(gbc.readMem(0xe86a), 0x48);
        // CB 48 018E
        gbc.setState(0xd6b, 0x642f, 0x7f50, 0x8ec9, 0x2ba3, 0x1c4f, 0x1, 0x0);
        gbc.writeMem(0xd6b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x642f);
        EXPECT(gbc.pc(), 0xd6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 018F
        gbc.setState(0x8e6, 0x73b9, 0x5180, 0xab87, 0xc841, 0xa603, 0x1, 0x1);
        gbc.writeMem(0x8e6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x73b9);
        EXPECT(gbc.pc(), 0x8e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0192
        gbc.setState(0x4a3, 0xb3d, 0xc810, 0xeaa5, 0xc781, 0x5809, 0x0, 0x0);
        gbc.writeMem(0x4a3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb3d);
        EXPECT(gbc.pc(), 0x4a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0193
        gbc.setState(0xb205, 0x55f4, 0x17a0, 0xc3f5, 0x1e65, 0x8fbe, 0x0, 0x1);
        gbc.writeMem(0xb205, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x55f4);
        EXPECT(gbc.pc(), 0xb207);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb205), 0xcb);
        EXPECT(gbc.readMem(0xb206), 0x48);
        // CB 48 0194
        gbc.setState(0x82f7, 0x9425, 0x1e40, 0x56e0, 0x803c, 0xfce0, 0x0, 0x0);
        gbc.writeMem(0x82f7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9425);
        EXPECT(gbc.pc(), 0x82f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82f7), 0xcb);
        EXPECT(gbc.readMem(0x82f8), 0x48);
        // CB 48 0195
        gbc.setState(0xcd8c, 0xbae0, 0xfe50, 0xa609, 0xf10f, 0x4530, 0x1, 0x0);
        gbc.writeMem(0xcd8c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xbae0);
        EXPECT(gbc.pc(), 0xcd8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd8c), 0xcb);
        EXPECT(gbc.readMem(0xcd8d), 0x48);
        // CB 48 0196
        gbc.setState(0x595c, 0x17cb, 0x2460, 0x8653, 0x587c, 0xa722, 0x1, 0x0);
        gbc.writeMem(0x595c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x17cb);
        EXPECT(gbc.pc(), 0x595e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0197
        gbc.setState(0x2484, 0xeb4f, 0x8580, 0x67de, 0xdffa, 0x519b, 0x1, 0x0);
        gbc.writeMem(0x2484, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xeb4f);
        EXPECT(gbc.pc(), 0x2486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0198
        gbc.setState(0xafdc, 0x32b8, 0xf470, 0x4231, 0xd0ef, 0xf183, 0x1, 0x0);
        gbc.writeMem(0xafdc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x32b8);
        EXPECT(gbc.pc(), 0xafde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafdc), 0xcb);
        EXPECT(gbc.readMem(0xafdd), 0x48);
        // CB 48 0199
        gbc.setState(0xa7e8, 0x59ec, 0xeb0, 0x1134, 0xeed, 0x4c8c, 0x0, 0x1);
        gbc.writeMem(0xa7e8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x59ec);
        EXPECT(gbc.pc(), 0xa7ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7e8), 0xcb);
        EXPECT(gbc.readMem(0xa7e9), 0x48);
        // CB 48 019A
        gbc.setState(0xb226, 0xf9a2, 0xace0, 0xd144, 0xad88, 0xf815, 0x0, 0x0);
        gbc.writeMem(0xb226, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xf9a2);
        EXPECT(gbc.pc(), 0xb228);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb226), 0xcb);
        EXPECT(gbc.readMem(0xb227), 0x48);
        // CB 48 019B
        gbc.setState(0x3842, 0xb85d, 0x5050, 0x93b1, 0xcbb9, 0x96ef, 0x0, 0x1);
        gbc.writeMem(0x3842, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb85d);
        EXPECT(gbc.pc(), 0x3844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 019C
        gbc.setState(0xeee1, 0x8e1b, 0x3b40, 0xd8be, 0x14cc, 0xf9c1, 0x0, 0x0);
        gbc.writeMem(0xeee1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8e1b);
        EXPECT(gbc.pc(), 0xeee3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeee1), 0xcb);
        EXPECT(gbc.readMem(0xeee2), 0x48);
        // CB 48 019D
        gbc.setState(0x28da, 0xc563, 0x3d10, 0x69b, 0x5e, 0x8acc, 0x0, 0x0);
        gbc.writeMem(0x28da, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc563);
        EXPECT(gbc.pc(), 0x28dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 019E
        gbc.setState(0x5530, 0x2ff6, 0x4280, 0x1305, 0x1f6d, 0x7288, 0x1, 0x0);
        gbc.writeMem(0x5530, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2ff6);
        EXPECT(gbc.pc(), 0x5532);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 019F
        gbc.setState(0x91fe, 0x3a1d, 0x8f80, 0x20a3, 0x585b, 0xccc2, 0x0, 0x1);
        gbc.writeMem(0x91fe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3a1d);
        EXPECT(gbc.pc(), 0x9200);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91fe), 0xcb);
        EXPECT(gbc.readMem(0x91ff), 0x48);
        // CB 48 01A0
        gbc.setState(0x4e88, 0x45a8, 0x13a0, 0x5691, 0xcb1, 0x8b23, 0x1, 0x1);
        gbc.writeMem(0x4e88, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x45a8);
        EXPECT(gbc.pc(), 0x4e8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01A1
        gbc.setState(0xe537, 0x2777, 0x3470, 0xba62, 0x8814, 0x4b99, 0x1, 0x0);
        gbc.writeMem(0xe537, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2777);
        EXPECT(gbc.pc(), 0xe539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe537), 0xcb);
        EXPECT(gbc.readMem(0xe538), 0x48);
        // CB 48 01A2
        gbc.setState(0x1346, 0x2736, 0x6bb0, 0x1072, 0x6f23, 0x4a99, 0x1, 0x0);
        gbc.writeMem(0x1346, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2736);
        EXPECT(gbc.pc(), 0x1348);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01A3
        gbc.setState(0x784b, 0x9d42, 0x2110, 0x2b3, 0x7240, 0x1413, 0x1, 0x0);
        gbc.writeMem(0x784b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9d42);
        EXPECT(gbc.pc(), 0x784d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01A4
        gbc.setState(0x1786, 0x7539, 0x6100, 0x1162, 0x3336, 0x21e, 0x1, 0x0);
        gbc.writeMem(0x1786, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7539);
        EXPECT(gbc.pc(), 0x1788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01A5
        gbc.setState(0x84e8, 0xe4af, 0x60d0, 0xa737, 0xf20b, 0x2ac2, 0x0, 0x1);
        gbc.writeMem(0x84e8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe4af);
        EXPECT(gbc.pc(), 0x84ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e8), 0xcb);
        EXPECT(gbc.readMem(0x84e9), 0x48);
        // CB 48 01A6
        gbc.setState(0xa9f2, 0xdecb, 0x3650, 0x301b, 0x9535, 0xf27c, 0x1, 0x0);
        gbc.writeMem(0xa9f2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdecb);
        EXPECT(gbc.pc(), 0xa9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f2), 0xcb);
        EXPECT(gbc.readMem(0xa9f3), 0x48);
        // CB 48 01A7
        gbc.setState(0x4099, 0x25ab, 0x8470, 0x7e3c, 0x477, 0x6b6e, 0x1, 0x1);
        gbc.writeMem(0x4099, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x25ab);
        EXPECT(gbc.pc(), 0x409b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01A8
        gbc.setState(0xe89b, 0x6274, 0x4180, 0xc901, 0x7bb3, 0x5b9e, 0x0, 0x0);
        gbc.writeMem(0xe89b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6274);
        EXPECT(gbc.pc(), 0xe89d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe89b), 0xcb);
        EXPECT(gbc.readMem(0xe89c), 0x48);
        // CB 48 01AA
        gbc.setState(0x5ca8, 0x8f71, 0x8310, 0x7445, 0x7692, 0xf477, 0x0, 0x0);
        gbc.writeMem(0x5ca8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8f71);
        EXPECT(gbc.pc(), 0x5caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01AB
        gbc.setState(0x6752, 0x6094, 0x3440, 0x23b6, 0x9883, 0x53c1, 0x1, 0x1);
        gbc.writeMem(0x6752, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6094);
        EXPECT(gbc.pc(), 0x6754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01AC
        gbc.setState(0xcc09, 0x6118, 0x53f0, 0xb0f, 0xcdbc, 0x9a66, 0x0, 0x0);
        gbc.writeMem(0xcc09, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6118);
        EXPECT(gbc.pc(), 0xcc0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc09), 0xcb);
        EXPECT(gbc.readMem(0xcc0a), 0x48);
        // CB 48 01AD
        gbc.setState(0xe930, 0x4113, 0xa0c0, 0x5c9c, 0x7f62, 0x5069, 0x0, 0x1);
        gbc.writeMem(0xe930, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x4113);
        EXPECT(gbc.pc(), 0xe932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe930), 0xcb);
        EXPECT(gbc.readMem(0xe931), 0x48);
        // CB 48 01AE
        gbc.setState(0x1a02, 0x3170, 0xd580, 0xc3f7, 0x1f47, 0x16ae, 0x0, 0x1);
        gbc.writeMem(0x1a02, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3170);
        EXPECT(gbc.pc(), 0x1a04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01AF
        gbc.setState(0x3fe1, 0x8dcc, 0xc510, 0x9484, 0xbd48, 0xc4df, 0x1, 0x0);
        gbc.writeMem(0x3fe1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8dcc);
        EXPECT(gbc.pc(), 0x3fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01B1
        gbc.setState(0xe25c, 0x391e, 0xbb10, 0x422d, 0x2cfe, 0x50c5, 0x1, 0x1);
        gbc.writeMem(0xe25c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x391e);
        EXPECT(gbc.pc(), 0xe25e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe25c), 0xcb);
        EXPECT(gbc.readMem(0xe25d), 0x48);
        // CB 48 01B2
        gbc.setState(0xe2a4, 0x1a12, 0x7ce0, 0x4aa4, 0x6650, 0x84c3, 0x1, 0x1);
        gbc.writeMem(0xe2a4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1a12);
        EXPECT(gbc.pc(), 0xe2a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a4), 0xcb);
        EXPECT(gbc.readMem(0xe2a5), 0x48);
        // CB 48 01B3
        gbc.setState(0xe45e, 0x2c95, 0x6080, 0x5062, 0x3742, 0x1795, 0x1, 0x0);
        gbc.writeMem(0xe45e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2c95);
        EXPECT(gbc.pc(), 0xe460);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45e), 0xcb);
        EXPECT(gbc.readMem(0xe45f), 0x48);
        // CB 48 01B4
        gbc.setState(0x6885, 0x2a4, 0x13d0, 0x85b1, 0x353b, 0x2630, 0x0, 0x0);
        gbc.writeMem(0x6885, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2a4);
        EXPECT(gbc.pc(), 0x6887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01B5
        gbc.setState(0x5d54, 0x725a, 0xdd70, 0xcbb6, 0x8b30, 0x4d59, 0x0, 0x1);
        gbc.writeMem(0x5d54, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x725a);
        EXPECT(gbc.pc(), 0x5d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01B6
        gbc.setState(0x507, 0xcdce, 0x3cf0, 0x4b11, 0xcc93, 0xd71b, 0x0, 0x1);
        gbc.writeMem(0x507, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xcdce);
        EXPECT(gbc.pc(), 0x509);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01B7
        gbc.setState(0xb9b6, 0xb1c, 0x85a0, 0x9c82, 0x78e, 0xa114, 0x1, 0x0);
        gbc.writeMem(0xb9b6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb1c);
        EXPECT(gbc.pc(), 0xb9b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9b6), 0xcb);
        EXPECT(gbc.readMem(0xb9b7), 0x48);
        // CB 48 01B8
        gbc.setState(0x55cf, 0x1547, 0x6010, 0x48f1, 0xd6bb, 0x5048, 0x1, 0x1);
        gbc.writeMem(0x55cf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1547);
        EXPECT(gbc.pc(), 0x55d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01B9
        gbc.setState(0x442c, 0xe952, 0x5a30, 0x49f, 0x98d3, 0xf495, 0x0, 0x0);
        gbc.writeMem(0x442c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe952);
        EXPECT(gbc.pc(), 0x442e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01BA
        gbc.setState(0xcb95, 0x4c10, 0x60b0, 0x7084, 0xc79b, 0x883b, 0x1, 0x1);
        gbc.writeMem(0xcb95, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4c10);
        EXPECT(gbc.pc(), 0xcb97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb95), 0xcb);
        EXPECT(gbc.readMem(0xcb96), 0x48);
        // CB 48 01BB
        gbc.setState(0x9d7d, 0x8056, 0x7010, 0x86d8, 0x3523, 0x68f7, 0x1, 0x0);
        gbc.writeMem(0x9d7d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8056);
        EXPECT(gbc.pc(), 0x9d7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d7d), 0xcb);
        EXPECT(gbc.readMem(0x9d7e), 0x48);
        // CB 48 01BE
        gbc.setState(0x1f44, 0xa54e, 0x8460, 0xa2c, 0x1337, 0xab23, 0x1, 0x1);
        gbc.writeMem(0x1f44, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa54e);
        EXPECT(gbc.pc(), 0x1f46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01BF
        gbc.setState(0x8654, 0x3e3b, 0x5c10, 0x368b, 0xb677, 0x1c9f, 0x1, 0x0);
        gbc.writeMem(0x8654, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3e3b);
        EXPECT(gbc.pc(), 0x8656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8654), 0xcb);
        EXPECT(gbc.readMem(0x8655), 0x48);
        // CB 48 01C1
        gbc.setState(0xcd52, 0x6137, 0x91a0, 0x8ca8, 0xec86, 0xc0b3, 0x1, 0x1);
        gbc.writeMem(0xcd52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6137);
        EXPECT(gbc.pc(), 0xcd54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd52), 0xcb);
        EXPECT(gbc.readMem(0xcd53), 0x48);
        // CB 48 01C2
        gbc.setState(0xd89b, 0x5726, 0x3f80, 0x5829, 0xd533, 0x174b, 0x1, 0x1);
        gbc.writeMem(0xd89b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5726);
        EXPECT(gbc.pc(), 0xd89d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89b), 0xcb);
        EXPECT(gbc.readMem(0xd89c), 0x48);
        // CB 48 01C3
        gbc.setState(0x3ed6, 0xe2b0, 0x73f0, 0xd89c, 0x60d1, 0xd699, 0x0, 0x1);
        gbc.writeMem(0x3ed6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xe2b0);
        EXPECT(gbc.pc(), 0x3ed8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01C4
        gbc.setState(0x40b9, 0x403c, 0xac30, 0xb4c8, 0x3b83, 0x8e19, 0x0, 0x1);
        gbc.writeMem(0x40b9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x403c);
        EXPECT(gbc.pc(), 0x40bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01C5
        gbc.setState(0x4787, 0xd639, 0x9030, 0x3ff1, 0x4300, 0xf4ed, 0x0, 0x1);
        gbc.writeMem(0x4787, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd639);
        EXPECT(gbc.pc(), 0x4789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01C6
        gbc.setState(0x9caf, 0xdf3, 0x3060, 0xd835, 0x5239, 0xcd77, 0x1, 0x0);
        gbc.writeMem(0x9caf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdf3);
        EXPECT(gbc.pc(), 0x9cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9caf), 0xcb);
        EXPECT(gbc.readMem(0x9cb0), 0x48);
        // CB 48 01C7
        gbc.setState(0xc7c6, 0x1257, 0xb380, 0xc9fa, 0x19ca, 0xb098, 0x0, 0x1);
        gbc.writeMem(0xc7c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1257);
        EXPECT(gbc.pc(), 0xc7c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c6), 0xcb);
        EXPECT(gbc.readMem(0xc7c7), 0x48);
        // CB 48 01C9
        gbc.setState(0x6933, 0xafe9, 0xc440, 0x361d, 0x5a26, 0x18c0, 0x1, 0x0);
        gbc.writeMem(0x6933, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xafe9);
        EXPECT(gbc.pc(), 0x6935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01CB
        gbc.setState(0x7a76, 0x3cec, 0x53c0, 0x5a40, 0xbab1, 0x4abe, 0x0, 0x0);
        gbc.writeMem(0x7a76, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3cec);
        EXPECT(gbc.pc(), 0x7a78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01CC
        gbc.setState(0x365, 0xe71b, 0xd100, 0xae01, 0x4ddd, 0x44fe, 0x0, 0x1);
        gbc.writeMem(0x365, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe71b);
        EXPECT(gbc.pc(), 0x367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01CD
        gbc.setState(0x4365, 0x9d8e, 0x4210, 0x4a2e, 0x7df7, 0xe357, 0x0, 0x1);
        gbc.writeMem(0x4365, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9d8e);
        EXPECT(gbc.pc(), 0x4367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01CE
        gbc.setState(0x45f6, 0xd7a6, 0xde70, 0xa0fe, 0xbfda, 0xe08a, 0x0, 0x0);
        gbc.writeMem(0x45f6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd7a6);
        EXPECT(gbc.pc(), 0x45f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01CF
        gbc.setState(0xe4ba, 0x4889, 0x4dd0, 0x5a46, 0x8624, 0x7ab7, 0x0, 0x0);
        gbc.writeMem(0xe4ba, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4889);
        EXPECT(gbc.pc(), 0xe4bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4ba), 0xcb);
        EXPECT(gbc.readMem(0xe4bb), 0x48);
        // CB 48 01D0
        gbc.setState(0x9ec1, 0x2766, 0x3a90, 0x27d8, 0x89e1, 0xcac7, 0x0, 0x0);
        gbc.writeMem(0x9ec1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2766);
        EXPECT(gbc.pc(), 0x9ec3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec1), 0xcb);
        EXPECT(gbc.readMem(0x9ec2), 0x48);
        // CB 48 01D1
        gbc.setState(0x3717, 0xe2b4, 0xf480, 0x116c, 0xa5c6, 0x582e, 0x0, 0x0);
        gbc.writeMem(0x3717, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe2b4);
        EXPECT(gbc.pc(), 0x3719);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01D2
        gbc.setState(0xf63, 0x70ca, 0xedb0, 0x216f, 0xdc31, 0x5706, 0x1, 0x1);
        gbc.writeMem(0xf63, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x70ca);
        EXPECT(gbc.pc(), 0xf65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01D3
        gbc.setState(0x1a4, 0x656d, 0x19c0, 0x6667, 0x230c, 0xd65c, 0x0, 0x0);
        gbc.writeMem(0x1a4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x656d);
        EXPECT(gbc.pc(), 0x1a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01D5
        gbc.setState(0x7da9, 0x9e11, 0x28b0, 0x6afa, 0x9b17, 0x891b, 0x1, 0x0);
        gbc.writeMem(0x7da9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9e11);
        EXPECT(gbc.pc(), 0x7dab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01D6
        gbc.setState(0x1c6, 0x94a8, 0x7d80, 0xc748, 0x5ab8, 0x3ca5, 0x1, 0x0);
        gbc.writeMem(0x1c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x94a8);
        EXPECT(gbc.pc(), 0x1c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01D7
        gbc.setState(0x504e, 0xeebe, 0x9730, 0x6006, 0xac03, 0x64f5, 0x1, 0x1);
        gbc.writeMem(0x504e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xeebe);
        EXPECT(gbc.pc(), 0x5050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01D8
        gbc.setState(0xa4d, 0xa357, 0xedf0, 0x82ce, 0x769b, 0xddc3, 0x1, 0x1);
        gbc.writeMem(0xa4d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa357);
        EXPECT(gbc.pc(), 0xa4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01D9
        gbc.setState(0x3395, 0xc619, 0x5ba0, 0x1936, 0xdb64, 0xcee6, 0x1, 0x0);
        gbc.writeMem(0x3395, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc619);
        EXPECT(gbc.pc(), 0x3397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01DA
        gbc.setState(0x8485, 0xc4d4, 0x1320, 0xbed, 0x7568, 0x6e51, 0x1, 0x0);
        gbc.writeMem(0x8485, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc4d4);
        EXPECT(gbc.pc(), 0x8487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8485), 0xcb);
        EXPECT(gbc.readMem(0x8486), 0x48);
        // CB 48 01DB
        gbc.setState(0xc366, 0xcd2f, 0xde00, 0xfaea, 0xad20, 0xc6fb, 0x0, 0x1);
        gbc.writeMem(0xc366, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcd2f);
        EXPECT(gbc.pc(), 0xc368);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc366), 0xcb);
        EXPECT(gbc.readMem(0xc367), 0x48);
        // CB 48 01DC
        gbc.setState(0x3909, 0x3850, 0x6f50, 0xf83f, 0x3752, 0x9c46, 0x0, 0x0);
        gbc.writeMem(0x3909, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3850);
        EXPECT(gbc.pc(), 0x390b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01DD
        gbc.setState(0x117b, 0x8b57, 0xac90, 0x4f1e, 0x8d65, 0x371c, 0x1, 0x0);
        gbc.writeMem(0x117b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x8b57);
        EXPECT(gbc.pc(), 0x117d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01DE
        gbc.setState(0xb005, 0x644b, 0xe200, 0x1871, 0xa43f, 0xe013, 0x0, 0x0);
        gbc.writeMem(0xb005, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x644b);
        EXPECT(gbc.pc(), 0xb007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb005), 0xcb);
        EXPECT(gbc.readMem(0xb006), 0x48);
        // CB 48 01DF
        gbc.setState(0xc537, 0x7375, 0xc3a0, 0xe958, 0xd365, 0x9348, 0x0, 0x1);
        gbc.writeMem(0xc537, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7375);
        EXPECT(gbc.pc(), 0xc539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc537), 0xcb);
        EXPECT(gbc.readMem(0xc538), 0x48);
        // CB 48 01E0
        gbc.setState(0x1ebe, 0x35, 0xff80, 0x14bd, 0x5d8, 0x2df9, 0x0, 0x1);
        gbc.writeMem(0x1ebe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x35);
        EXPECT(gbc.pc(), 0x1ec0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01E2
        gbc.setState(0x5c66, 0x93f9, 0xd9e0, 0x31a3, 0x5f2c, 0x39aa, 0x1, 0x0);
        gbc.writeMem(0x5c66, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x93f9);
        EXPECT(gbc.pc(), 0x5c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01E3
        gbc.setState(0x1484, 0x1b86, 0x6eb0, 0x13e8, 0x22f1, 0xc7ac, 0x1, 0x1);
        gbc.writeMem(0x1484, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x1b86);
        EXPECT(gbc.pc(), 0x1486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01E4
        gbc.setState(0x47bd, 0x8a52, 0xd510, 0xdc85, 0x5967, 0xe7f9, 0x1, 0x1);
        gbc.writeMem(0x47bd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8a52);
        EXPECT(gbc.pc(), 0x47bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01E5
        gbc.setState(0x695e, 0xd9a0, 0x39d0, 0x826, 0xb56c, 0x524a, 0x1, 0x0);
        gbc.writeMem(0x695e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd9a0);
        EXPECT(gbc.pc(), 0x6960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01E6
        gbc.setState(0x5218, 0x83ba, 0x9820, 0x35fe, 0x9c14, 0xf98c, 0x0, 0x1);
        gbc.writeMem(0x5218, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x83ba);
        EXPECT(gbc.pc(), 0x521a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01E7
        gbc.setState(0x4070, 0x1df9, 0xc600, 0x20f2, 0xc3c9, 0x8bb2, 0x1, 0x1);
        gbc.writeMem(0x4070, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1df9);
        EXPECT(gbc.pc(), 0x4072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01E8
        gbc.setState(0x8bb6, 0x9e95, 0x8560, 0xd932, 0x5198, 0xc81a, 0x0, 0x1);
        gbc.writeMem(0x8bb6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9e95);
        EXPECT(gbc.pc(), 0x8bb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bb6), 0xcb);
        EXPECT(gbc.readMem(0x8bb7), 0x48);
        // CB 48 01E9
        gbc.setState(0x30df, 0x8d38, 0x39e0, 0x99f9, 0xd616, 0xe45a, 0x0, 0x1);
        gbc.writeMem(0x30df, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8d38);
        EXPECT(gbc.pc(), 0x30e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01EA
        gbc.setState(0xcbf4, 0x5b27, 0xa20, 0x4c40, 0x4018, 0xcf6b, 0x0, 0x0);
        gbc.writeMem(0xcbf4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5b27);
        EXPECT(gbc.pc(), 0xcbf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf4), 0xcb);
        EXPECT(gbc.readMem(0xcbf5), 0x48);
        // CB 48 01EB
        gbc.setState(0xe73d, 0x6eeb, 0x7850, 0xdc46, 0xe417, 0x4d32, 0x0, 0x0);
        gbc.writeMem(0xe73d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6eeb);
        EXPECT(gbc.pc(), 0xe73f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe73d), 0xcb);
        EXPECT(gbc.readMem(0xe73e), 0x48);
        // CB 48 01EC
        gbc.setState(0x9ce0, 0xd780, 0xd010, 0x47e, 0x3ec2, 0xc8bc, 0x0, 0x0);
        gbc.writeMem(0x9ce0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd780);
        EXPECT(gbc.pc(), 0x9ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce0), 0xcb);
        EXPECT(gbc.readMem(0x9ce1), 0x48);
        // CB 48 01ED
        gbc.setState(0x5fd1, 0x4eeb, 0xca50, 0xa84f, 0xe043, 0x7ce7, 0x1, 0x0);
        gbc.writeMem(0x5fd1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4eeb);
        EXPECT(gbc.pc(), 0x5fd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01EE
        gbc.setState(0x407b, 0x6e0f, 0x44e0, 0xe03, 0x85d, 0x29c7, 0x0, 0x1);
        gbc.writeMem(0x407b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x6e0f);
        EXPECT(gbc.pc(), 0x407d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01EF
        gbc.setState(0xd786, 0x487f, 0x48d0, 0xf311, 0xfe0e, 0xc27d, 0x1, 0x1);
        gbc.writeMem(0xd786, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x487f);
        EXPECT(gbc.pc(), 0xd788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd786), 0xcb);
        EXPECT(gbc.readMem(0xd787), 0x48);
        // CB 48 01F1
        gbc.setState(0x6a1c, 0xf485, 0xba70, 0xc070, 0xeeb6, 0x40e9, 0x0, 0x0);
        gbc.writeMem(0x6a1c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf485);
        EXPECT(gbc.pc(), 0x6a1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01F2
        gbc.setState(0x5f8e, 0x9d69, 0x81e0, 0x2d88, 0xb71f, 0xfdb7, 0x1, 0x1);
        gbc.writeMem(0x5f8e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9d69);
        EXPECT(gbc.pc(), 0x5f90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01F3
        gbc.setState(0xd2ec, 0x46a3, 0xed60, 0xd067, 0xf0b4, 0xfeb, 0x1, 0x1);
        gbc.writeMem(0xd2ec, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x46a3);
        EXPECT(gbc.pc(), 0xd2ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2ec), 0xcb);
        EXPECT(gbc.readMem(0xd2ed), 0x48);
        // CB 48 01F4
        gbc.setState(0x50c2, 0x4b5e, 0x5800, 0xec66, 0xbcbc, 0x7df0, 0x1, 0x0);
        gbc.writeMem(0x50c2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4b5e);
        EXPECT(gbc.pc(), 0x50c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01F6
        gbc.setState(0xe00a, 0xc55c, 0xb190, 0x7e5e, 0xdf53, 0xf6d4, 0x0, 0x0);
        gbc.writeMem(0xe00a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc55c);
        EXPECT(gbc.pc(), 0xe00c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe00a), 0xcb);
        EXPECT(gbc.readMem(0xe00b), 0x48);
        // CB 48 01F7
        gbc.setState(0x7044, 0x4543, 0xf800, 0x2dee, 0xee61, 0xd38d, 0x0, 0x1);
        gbc.writeMem(0x7044, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4543);
        EXPECT(gbc.pc(), 0x7046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01F8
        gbc.setState(0x15e0, 0x66a0, 0x0, 0xca8, 0x8197, 0x1106, 0x1, 0x1);
        gbc.writeMem(0x15e0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x66a0);
        EXPECT(gbc.pc(), 0x15e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01F9
        gbc.setState(0x6cb8, 0xe70d, 0x52c0, 0x6166, 0xb1bc, 0xd0dc, 0x1, 0x1);
        gbc.writeMem(0x6cb8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe70d);
        EXPECT(gbc.pc(), 0x6cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01FA
        gbc.setState(0x963f, 0x2da8, 0x2ba0, 0xba73, 0x121f, 0x8afc, 0x1, 0x0);
        gbc.writeMem(0x963f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2da8);
        EXPECT(gbc.pc(), 0x9641);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x963f), 0xcb);
        EXPECT(gbc.readMem(0x9640), 0x48);
        // CB 48 01FB
        gbc.setState(0x8fd, 0xea6a, 0x3950, 0xf7c4, 0x5812, 0xe903, 0x0, 0x1);
        gbc.writeMem(0x8fd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xea6a);
        EXPECT(gbc.pc(), 0x8ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01FC
        gbc.setState(0x6638, 0xbac6, 0x3260, 0xe9df, 0x4a05, 0x16d6, 0x0, 0x0);
        gbc.writeMem(0x6638, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xbac6);
        EXPECT(gbc.pc(), 0x663a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 01FD
        gbc.setState(0xd2cc, 0x2a2d, 0x5f60, 0xd32a, 0xee8, 0x29fc, 0x1, 0x0);
        gbc.writeMem(0xd2cc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2a2d);
        EXPECT(gbc.pc(), 0xd2ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2cc), 0xcb);
        EXPECT(gbc.readMem(0xd2cd), 0x48);
        // CB 48 01FE
        gbc.setState(0x39d7, 0x6f56, 0x8850, 0x882, 0x1fd7, 0x819c, 0x1, 0x1);
        gbc.writeMem(0x39d7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6f56);
        EXPECT(gbc.pc(), 0x39d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 01FF
        gbc.setState(0x8a6d, 0x640, 0xdbf0, 0xf6a8, 0x654e, 0x2e0, 0x0, 0x0);
        gbc.writeMem(0x8a6d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x640);
        EXPECT(gbc.pc(), 0x8a6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a6d), 0xcb);
        EXPECT(gbc.readMem(0x8a6e), 0x48);
        // CB 48 0200
        gbc.setState(0x9093, 0x5fc7, 0xdc70, 0xec0d, 0xaa5d, 0x3a68, 0x1, 0x0);
        gbc.writeMem(0x9093, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5fc7);
        EXPECT(gbc.pc(), 0x9095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9093), 0xcb);
        EXPECT(gbc.readMem(0x9094), 0x48);
        // CB 48 0201
        gbc.setState(0x1c8f, 0x88aa, 0xb940, 0xbe47, 0xd829, 0x7d85, 0x0, 0x0);
        gbc.writeMem(0x1c8f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x88aa);
        EXPECT(gbc.pc(), 0x1c91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0202
        gbc.setState(0xe046, 0x5839, 0x51f0, 0x9bad, 0x5fc6, 0xd898, 0x1, 0x0);
        gbc.writeMem(0xe046, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x5839);
        EXPECT(gbc.pc(), 0xe048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe046), 0xcb);
        EXPECT(gbc.readMem(0xe047), 0x48);
        // CB 48 0203
        gbc.setState(0xdd29, 0x6a2d, 0xeca0, 0xd07f, 0x4887, 0x1af2, 0x1, 0x0);
        gbc.writeMem(0xdd29, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6a2d);
        EXPECT(gbc.pc(), 0xdd2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd29), 0xcb);
        EXPECT(gbc.readMem(0xdd2a), 0x48);
        // CB 48 0204
        gbc.setState(0xc5be, 0x2147, 0x5e10, 0x2af0, 0xf223, 0x4473, 0x0, 0x1);
        gbc.writeMem(0xc5be, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2147);
        EXPECT(gbc.pc(), 0xc5c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5be), 0xcb);
        EXPECT(gbc.readMem(0xc5bf), 0x48);
        // CB 48 0205
        gbc.setState(0x5b52, 0x1896, 0x9a00, 0xf10c, 0x9cda, 0x4d42, 0x1, 0x1);
        gbc.writeMem(0x5b52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1896);
        EXPECT(gbc.pc(), 0x5b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0206
        gbc.setState(0x7efe, 0xc9eb, 0xc490, 0x6a2, 0xe66a, 0x494c, 0x1, 0x1);
        gbc.writeMem(0x7efe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc9eb);
        EXPECT(gbc.pc(), 0x7f00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0207
        gbc.setState(0xb60d, 0x8fef, 0xb2b0, 0x98a5, 0xbf71, 0x8484, 0x0, 0x1);
        gbc.writeMem(0xb60d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8fef);
        EXPECT(gbc.pc(), 0xb60f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb60d), 0xcb);
        EXPECT(gbc.readMem(0xb60e), 0x48);
        // CB 48 0208
        gbc.setState(0xb31c, 0xe98d, 0x6910, 0xf063, 0xab90, 0xcfdd, 0x0, 0x1);
        gbc.writeMem(0xb31c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe98d);
        EXPECT(gbc.pc(), 0xb31e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb31c), 0xcb);
        EXPECT(gbc.readMem(0xb31d), 0x48);
        // CB 48 0209
        gbc.setState(0x6168, 0x7e19, 0xdb70, 0xe2b6, 0x6086, 0x11a5, 0x0, 0x0);
        gbc.writeMem(0x6168, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7e19);
        EXPECT(gbc.pc(), 0x616a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 020A
        gbc.setState(0xb9a2, 0x5a82, 0xf2f0, 0x78ef, 0xa681, 0x9c14, 0x0, 0x1);
        gbc.writeMem(0xb9a2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5a82);
        EXPECT(gbc.pc(), 0xb9a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9a2), 0xcb);
        EXPECT(gbc.readMem(0xb9a3), 0x48);
        // CB 48 020B
        gbc.setState(0xa7a3, 0xb919, 0xfc00, 0xa7fb, 0x7502, 0xd8a, 0x0, 0x0);
        gbc.writeMem(0xa7a3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xb919);
        EXPECT(gbc.pc(), 0xa7a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7a3), 0xcb);
        EXPECT(gbc.readMem(0xa7a4), 0x48);
        // CB 48 020C
        gbc.setState(0x9ca1, 0xa2d, 0x6ec0, 0x61d1, 0x1d2, 0x74cd, 0x1, 0x0);
        gbc.writeMem(0x9ca1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa2d);
        EXPECT(gbc.pc(), 0x9ca3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ca1), 0xcb);
        EXPECT(gbc.readMem(0x9ca2), 0x48);
        // CB 48 020E
        gbc.setState(0x14a4, 0x2709, 0xa660, 0xcb4a, 0x6bd6, 0x94e1, 0x0, 0x1);
        gbc.writeMem(0x14a4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2709);
        EXPECT(gbc.pc(), 0x14a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 020F
        gbc.setState(0x89d2, 0xfbc3, 0xc2b0, 0xb63a, 0x5826, 0x1cf3, 0x0, 0x1);
        gbc.writeMem(0x89d2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xfbc3);
        EXPECT(gbc.pc(), 0x89d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89d2), 0xcb);
        EXPECT(gbc.readMem(0x89d3), 0x48);
        // CB 48 0211
        gbc.setState(0x7f95, 0xf10d, 0x2940, 0x9f3c, 0x7a43, 0xc206, 0x1, 0x0);
        gbc.writeMem(0x7f95, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf10d);
        EXPECT(gbc.pc(), 0x7f97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0212
        gbc.setState(0x732b, 0x1ee7, 0xb190, 0x68fd, 0xffbe, 0x723f, 0x1, 0x1);
        gbc.writeMem(0x732b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1ee7);
        EXPECT(gbc.pc(), 0x732d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0213
        gbc.setState(0x994d, 0x7d0d, 0x6d20, 0x95c6, 0x91cc, 0x636, 0x1, 0x0);
        gbc.writeMem(0x994d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7d0d);
        EXPECT(gbc.pc(), 0x994f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x994d), 0xcb);
        EXPECT(gbc.readMem(0x994e), 0x48);
        // CB 48 0214
        gbc.setState(0xcc7b, 0x6067, 0xaa60, 0x54de, 0xe6cd, 0xfdc, 0x0, 0x0);
        gbc.writeMem(0xcc7b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6067);
        EXPECT(gbc.pc(), 0xcc7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc7b), 0xcb);
        EXPECT(gbc.readMem(0xcc7c), 0x48);
        // CB 48 0215
        gbc.setState(0x6d0a, 0x845f, 0xf300, 0x1e43, 0xb2fc, 0x136e, 0x0, 0x1);
        gbc.writeMem(0x6d0a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x845f);
        EXPECT(gbc.pc(), 0x6d0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0216
        gbc.setState(0xca85, 0x3f12, 0xea80, 0x99e2, 0xed8b, 0xa79a, 0x1, 0x1);
        gbc.writeMem(0xca85, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x3f12);
        EXPECT(gbc.pc(), 0xca87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca85), 0xcb);
        EXPECT(gbc.readMem(0xca86), 0x48);
        // CB 48 0217
        gbc.setState(0x587d, 0xf6dd, 0x4630, 0x4500, 0x2b18, 0x69c2, 0x0, 0x1);
        gbc.writeMem(0x587d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf6dd);
        EXPECT(gbc.pc(), 0x587f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0218
        gbc.setState(0x1c30, 0xbf42, 0x5c30, 0xd155, 0x663e, 0x47f9, 0x1, 0x1);
        gbc.writeMem(0x1c30, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xbf42);
        EXPECT(gbc.pc(), 0x1c32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0219
        gbc.setState(0x3d8, 0x2a28, 0x1f50, 0xd2e, 0x59ec, 0x375a, 0x0, 0x1);
        gbc.writeMem(0x3d8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2a28);
        EXPECT(gbc.pc(), 0x3da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 021A
        gbc.setState(0x31b8, 0x24ca, 0xac90, 0xe9f4, 0xc651, 0xe374, 0x0, 0x1);
        gbc.writeMem(0x31b8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x24ca);
        EXPECT(gbc.pc(), 0x31ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 021B
        gbc.setState(0xe3b7, 0xc5d8, 0x2860, 0xa40f, 0x2a30, 0xe6e5, 0x0, 0x1);
        gbc.writeMem(0xe3b7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xc5d8);
        EXPECT(gbc.pc(), 0xe3b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b7), 0xcb);
        EXPECT(gbc.readMem(0xe3b8), 0x48);
        // CB 48 021C
        gbc.setState(0x3abf, 0x7715, 0x64f0, 0xa280, 0x44de, 0x46dd, 0x1, 0x0);
        gbc.writeMem(0x3abf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7715);
        EXPECT(gbc.pc(), 0x3ac1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 021D
        gbc.setState(0xae8b, 0x75ee, 0x7610, 0x99fa, 0x1ca9, 0xec60, 0x1, 0x1);
        gbc.writeMem(0xae8b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x75ee);
        EXPECT(gbc.pc(), 0xae8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8b), 0xcb);
        EXPECT(gbc.readMem(0xae8c), 0x48);
        // CB 48 021E
        gbc.setState(0x772, 0x53be, 0x2ca0, 0x180b, 0xfff1, 0x98f9, 0x1, 0x1);
        gbc.writeMem(0x772, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x53be);
        EXPECT(gbc.pc(), 0x774);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 021F
        gbc.setState(0x483b, 0x496e, 0xf090, 0x98ab, 0x3e2a, 0x5cdc, 0x1, 0x1);
        gbc.writeMem(0x483b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x496e);
        EXPECT(gbc.pc(), 0x483d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0220
        gbc.setState(0xa90e, 0x8fa5, 0x42d0, 0xb690, 0x11bd, 0x654, 0x1, 0x0);
        gbc.writeMem(0xa90e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8fa5);
        EXPECT(gbc.pc(), 0xa910);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa90e), 0xcb);
        EXPECT(gbc.readMem(0xa90f), 0x48);
        // CB 48 0221
        gbc.setState(0x9c6, 0xea6d, 0x3ab0, 0xd1ef, 0x51ea, 0xe3dd, 0x1, 0x0);
        gbc.writeMem(0x9c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xea6d);
        EXPECT(gbc.pc(), 0x9c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0222
        gbc.setState(0xdd1, 0x7e9, 0xcb60, 0x4aad, 0x6fd1, 0x45f6, 0x1, 0x0);
        gbc.writeMem(0xdd1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7e9);
        EXPECT(gbc.pc(), 0xdd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0224
        gbc.setState(0xc6b8, 0xc079, 0x8ee0, 0x93bd, 0xb869, 0x46a2, 0x1, 0x0);
        gbc.writeMem(0xc6b8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc079);
        EXPECT(gbc.pc(), 0xc6ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6b8), 0xcb);
        EXPECT(gbc.readMem(0xc6b9), 0x48);
        // CB 48 0225
        gbc.setState(0xdeb0, 0x134c, 0x90c0, 0x1a9, 0x3bd9, 0xbed5, 0x1, 0x1);
        gbc.writeMem(0xdeb0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x134c);
        EXPECT(gbc.pc(), 0xdeb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeb0), 0xcb);
        EXPECT(gbc.readMem(0xdeb1), 0x48);
        // CB 48 0226
        gbc.setState(0x4577, 0xc75, 0xe1a0, 0x7699, 0xb050, 0x626a, 0x1, 0x0);
        gbc.writeMem(0x4577, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc75);
        EXPECT(gbc.pc(), 0x4579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0227
        gbc.setState(0xa37b, 0xd17b, 0xe930, 0xb7b8, 0x7e94, 0x8b70, 0x1, 0x1);
        gbc.writeMem(0xa37b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd17b);
        EXPECT(gbc.pc(), 0xa37d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa37b), 0xcb);
        EXPECT(gbc.readMem(0xa37c), 0x48);
        // CB 48 0228
        gbc.setState(0x12e8, 0xfa0f, 0x43f0, 0xa0a5, 0xa32f, 0x436f, 0x1, 0x1);
        gbc.writeMem(0x12e8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfa0f);
        EXPECT(gbc.pc(), 0x12ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0229
        gbc.setState(0xf40, 0xe577, 0x3750, 0xe361, 0x575d, 0x6737, 0x1, 0x1);
        gbc.writeMem(0xf40, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe577);
        EXPECT(gbc.pc(), 0xf42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 022A
        gbc.setState(0x4a06, 0x84ad, 0xf90, 0x41d, 0x9236, 0x1e8c, 0x0, 0x0);
        gbc.writeMem(0x4a06, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x84ad);
        EXPECT(gbc.pc(), 0x4a08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 022B
        gbc.setState(0x5927, 0x4c7, 0xe70, 0xf2ce, 0x523c, 0x9f5d, 0x0, 0x1);
        gbc.writeMem(0x5927, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4c7);
        EXPECT(gbc.pc(), 0x5929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 022C
        gbc.setState(0xd069, 0x5921, 0x8900, 0xee2d, 0x5e67, 0xe8db, 0x1, 0x0);
        gbc.writeMem(0xd069, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5921);
        EXPECT(gbc.pc(), 0xd06b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd069), 0xcb);
        EXPECT(gbc.readMem(0xd06a), 0x48);
        // CB 48 022D
        gbc.setState(0x7d71, 0xb4f8, 0xf030, 0x39de, 0xa373, 0xced8, 0x0, 0x1);
        gbc.writeMem(0x7d71, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb4f8);
        EXPECT(gbc.pc(), 0x7d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 022E
        gbc.setState(0xbad9, 0xd017, 0x7d70, 0x30a6, 0x6d0f, 0xfc8d, 0x0, 0x1);
        gbc.writeMem(0xbad9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd017);
        EXPECT(gbc.pc(), 0xbadb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbad9), 0xcb);
        EXPECT(gbc.readMem(0xbada), 0x48);
        // CB 48 022F
        gbc.setState(0x17b5, 0xfdcc, 0xda00, 0x44b9, 0x1417, 0x65d7, 0x1, 0x0);
        gbc.writeMem(0x17b5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xfdcc);
        EXPECT(gbc.pc(), 0x17b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0230
        gbc.setState(0x5338, 0xa911, 0x4d10, 0x5509, 0x2e65, 0x2c71, 0x0, 0x0);
        gbc.writeMem(0x5338, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa911);
        EXPECT(gbc.pc(), 0x533a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0232
        gbc.setState(0x5a1c, 0x3ca8, 0xcd10, 0x95c9, 0xb3c0, 0x38c0, 0x0, 0x1);
        gbc.writeMem(0x5a1c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3ca8);
        EXPECT(gbc.pc(), 0x5a1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0233
        gbc.setState(0x539b, 0xf337, 0x4e30, 0x2b88, 0x6be7, 0xb24f, 0x1, 0x1);
        gbc.writeMem(0x539b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf337);
        EXPECT(gbc.pc(), 0x539d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0234
        gbc.setState(0x3bba, 0xc249, 0x3690, 0xefba, 0xf209, 0x2771, 0x0, 0x1);
        gbc.writeMem(0x3bba, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc249);
        EXPECT(gbc.pc(), 0x3bbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0235
        gbc.setState(0xe0ca, 0x72f9, 0xb520, 0xf5e7, 0x3357, 0xe6b7, 0x1, 0x0);
        gbc.writeMem(0xe0ca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x72f9);
        EXPECT(gbc.pc(), 0xe0cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ca), 0xcb);
        EXPECT(gbc.readMem(0xe0cb), 0x48);
        // CB 48 0236
        gbc.setState(0x9733, 0xbb15, 0x18c0, 0xd818, 0xb2cc, 0x6281, 0x1, 0x0);
        gbc.writeMem(0x9733, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbb15);
        EXPECT(gbc.pc(), 0x9735);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9733), 0xcb);
        EXPECT(gbc.readMem(0x9734), 0x48);
        // CB 48 0238
        gbc.setState(0x39b0, 0x3077, 0x48f0, 0xd4c8, 0xf887, 0x1764, 0x0, 0x0);
        gbc.writeMem(0x39b0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3077);
        EXPECT(gbc.pc(), 0x39b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0239
        gbc.setState(0xebde, 0x1a1, 0x6360, 0x9ed0, 0x4225, 0x97b6, 0x0, 0x1);
        gbc.writeMem(0xebde, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1a1);
        EXPECT(gbc.pc(), 0xebe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebde), 0xcb);
        EXPECT(gbc.readMem(0xebdf), 0x48);
        // CB 48 023A
        gbc.setState(0xa89d, 0xa650, 0xc450, 0xb9c, 0x8045, 0xf210, 0x1, 0x0);
        gbc.writeMem(0xa89d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa650);
        EXPECT(gbc.pc(), 0xa89f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa89d), 0xcb);
        EXPECT(gbc.readMem(0xa89e), 0x48);
        // CB 48 023B
        gbc.setState(0x4296, 0x9823, 0x880, 0x804c, 0xe21f, 0xf281, 0x1, 0x0);
        gbc.writeMem(0x4296, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9823);
        EXPECT(gbc.pc(), 0x4298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 023D
        gbc.setState(0x48af, 0xd4d9, 0x9080, 0xe589, 0x1f4, 0x86a, 0x1, 0x0);
        gbc.writeMem(0x48af, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd4d9);
        EXPECT(gbc.pc(), 0x48b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 023E
        gbc.setState(0x3d0f, 0x1f27, 0x4b50, 0x45a6, 0x74bc, 0x1aa2, 0x0, 0x0);
        gbc.writeMem(0x3d0f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1f27);
        EXPECT(gbc.pc(), 0x3d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 023F
        gbc.setState(0x805f, 0x46d, 0x6a20, 0x1ffa, 0x45b4, 0xeed9, 0x1, 0x1);
        gbc.writeMem(0x805f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x46d);
        EXPECT(gbc.pc(), 0x8061);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x805f), 0xcb);
        EXPECT(gbc.readMem(0x8060), 0x48);
        // CB 48 0240
        gbc.setState(0xe211, 0xb4eb, 0x7a90, 0x56f5, 0xb72c, 0x8de7, 0x1, 0x0);
        gbc.writeMem(0xe211, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb4eb);
        EXPECT(gbc.pc(), 0xe213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe211), 0xcb);
        EXPECT(gbc.readMem(0xe212), 0x48);
        // CB 48 0241
        gbc.setState(0x2be0, 0x899f, 0xc6e0, 0xbafa, 0xed14, 0x6597, 0x1, 0x1);
        gbc.writeMem(0x2be0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x899f);
        EXPECT(gbc.pc(), 0x2be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0242
        gbc.setState(0xa301, 0xccfd, 0xada0, 0x7614, 0x6fa4, 0xdab2, 0x1, 0x0);
        gbc.writeMem(0xa301, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xccfd);
        EXPECT(gbc.pc(), 0xa303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa301), 0xcb);
        EXPECT(gbc.readMem(0xa302), 0x48);
        // CB 48 0243
        gbc.setState(0xd6ff, 0x859d, 0x4160, 0x40c1, 0xcce7, 0xfc2a, 0x1, 0x1);
        gbc.writeMem(0xd6ff, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x859d);
        EXPECT(gbc.pc(), 0xd701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6ff), 0xcb);
        EXPECT(gbc.readMem(0xd700), 0x48);
        // CB 48 0244
        gbc.setState(0x210e, 0x9cf1, 0xead0, 0x6b57, 0x5c6, 0xa47e, 0x1, 0x1);
        gbc.writeMem(0x210e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x9cf1);
        EXPECT(gbc.pc(), 0x2110);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0245
        gbc.setState(0x6e53, 0xbb8b, 0xccc0, 0x5eac, 0x5738, 0xd8cf, 0x1, 0x0);
        gbc.writeMem(0x6e53, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xbb8b);
        EXPECT(gbc.pc(), 0x6e55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0246
        gbc.setState(0xbbab, 0x407f, 0xe960, 0xe7ef, 0x23b0, 0x37b6, 0x1, 0x0);
        gbc.writeMem(0xbbab, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x407f);
        EXPECT(gbc.pc(), 0xbbad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbab), 0xcb);
        EXPECT(gbc.readMem(0xbbac), 0x48);
        // CB 48 0247
        gbc.setState(0x31bc, 0xeb3f, 0xe7d0, 0x55ab, 0x10df, 0x6e98, 0x0, 0x0);
        gbc.writeMem(0x31bc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xeb3f);
        EXPECT(gbc.pc(), 0x31be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0248
        gbc.setState(0xc5db, 0x9737, 0x2e30, 0x274a, 0x6505, 0x596e, 0x0, 0x1);
        gbc.writeMem(0xc5db, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9737);
        EXPECT(gbc.pc(), 0xc5dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5db), 0xcb);
        EXPECT(gbc.readMem(0xc5dc), 0x48);
        // CB 48 0249
        gbc.setState(0xa526, 0xf6ac, 0x5da0, 0xf05e, 0xb169, 0xfcb0, 0x1, 0x0);
        gbc.writeMem(0xa526, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf6ac);
        EXPECT(gbc.pc(), 0xa528);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa526), 0xcb);
        EXPECT(gbc.readMem(0xa527), 0x48);
        // CB 48 024A
        gbc.setState(0x4430, 0xa901, 0xeed0, 0xb2b1, 0xb8a7, 0x3117, 0x0, 0x1);
        gbc.writeMem(0x4430, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa901);
        EXPECT(gbc.pc(), 0x4432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 024B
        gbc.setState(0x3af6, 0x32e0, 0x78d0, 0xfc41, 0xa9c6, 0xd28c, 0x1, 0x0);
        gbc.writeMem(0x3af6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x32e0);
        EXPECT(gbc.pc(), 0x3af8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 024C
        gbc.setState(0xb94a, 0xf1db, 0x5630, 0x2f18, 0x92a9, 0x638, 0x1, 0x0);
        gbc.writeMem(0xb94a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf1db);
        EXPECT(gbc.pc(), 0xb94c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94a), 0xcb);
        EXPECT(gbc.readMem(0xb94b), 0x48);
        // CB 48 024D
        gbc.setState(0x63a7, 0x10e0, 0x74e0, 0x6a22, 0x7355, 0x793e, 0x0, 0x1);
        gbc.writeMem(0x63a7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x10e0);
        EXPECT(gbc.pc(), 0x63a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 024E
        gbc.setState(0xefb2, 0xea08, 0xa5c0, 0x39f6, 0xac7d, 0xaa65, 0x1, 0x1);
        gbc.writeMem(0xefb2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xea08);
        EXPECT(gbc.pc(), 0xefb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb2), 0xcb);
        EXPECT(gbc.readMem(0xefb3), 0x48);
        // CB 48 024F
        gbc.setState(0xbcf0, 0x6bec, 0xe3c0, 0x96da, 0xad6e, 0x156b, 0x1, 0x0);
        gbc.writeMem(0xbcf0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6bec);
        EXPECT(gbc.pc(), 0xbcf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcf0), 0xcb);
        EXPECT(gbc.readMem(0xbcf1), 0x48);
        // CB 48 0250
        gbc.setState(0xcd13, 0x2958, 0x2b10, 0xfc36, 0x51a4, 0xfa36, 0x0, 0x0);
        gbc.writeMem(0xcd13, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2958);
        EXPECT(gbc.pc(), 0xcd15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd13), 0xcb);
        EXPECT(gbc.readMem(0xcd14), 0x48);
        // CB 48 0251
        gbc.setState(0x3cde, 0xd9df, 0x4ee0, 0x1b81, 0xe05b, 0xbc69, 0x0, 0x0);
        gbc.writeMem(0x3cde, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd9df);
        EXPECT(gbc.pc(), 0x3ce0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0252
        gbc.setState(0xec3, 0xf4bc, 0x4df0, 0x8b95, 0x3586, 0xeee0, 0x0, 0x1);
        gbc.writeMem(0xec3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf4bc);
        EXPECT(gbc.pc(), 0xec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0253
        gbc.setState(0xc22e, 0x6168, 0x6480, 0xd7c2, 0xb57d, 0x1d8f, 0x1, 0x0);
        gbc.writeMem(0xc22e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6168);
        EXPECT(gbc.pc(), 0xc230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc22e), 0xcb);
        EXPECT(gbc.readMem(0xc22f), 0x48);
        // CB 48 0254
        gbc.setState(0x4bdd, 0x19b8, 0x77a0, 0xcf60, 0xaa56, 0xc7db, 0x1, 0x1);
        gbc.writeMem(0x4bdd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x19b8);
        EXPECT(gbc.pc(), 0x4bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0255
        gbc.setState(0x7076, 0xc0c6, 0xcc50, 0x461d, 0x2a2c, 0xe78b, 0x0, 0x0);
        gbc.writeMem(0x7076, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc0c6);
        EXPECT(gbc.pc(), 0x7078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0256
        gbc.setState(0xee19, 0x777b, 0x2aa0, 0x984a, 0xf9cc, 0xfb38, 0x0, 0x1);
        gbc.writeMem(0xee19, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x777b);
        EXPECT(gbc.pc(), 0xee1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee19), 0xcb);
        EXPECT(gbc.readMem(0xee1a), 0x48);
        // CB 48 0257
        gbc.setState(0x4b1f, 0x77bb, 0x91b0, 0xfe32, 0x8039, 0xf426, 0x1, 0x0);
        gbc.writeMem(0x4b1f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x77bb);
        EXPECT(gbc.pc(), 0x4b21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0258
        gbc.setState(0x30c0, 0xdee0, 0x13a0, 0xd20a, 0xbcb5, 0xb4f4, 0x1, 0x1);
        gbc.writeMem(0x30c0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdee0);
        EXPECT(gbc.pc(), 0x30c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0259
        gbc.setState(0x4ac, 0x4dee, 0x1140, 0xa8eb, 0x4eca, 0xcafe, 0x0, 0x1);
        gbc.writeMem(0x4ac, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4dee);
        EXPECT(gbc.pc(), 0x4ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 025A
        gbc.setState(0x5c1e, 0x50a7, 0xf6a0, 0xf9f7, 0xa1f0, 0xf2e2, 0x0, 0x1);
        gbc.writeMem(0x5c1e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x50a7);
        EXPECT(gbc.pc(), 0x5c20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 025B
        gbc.setState(0x83eb, 0xf711, 0xd4b0, 0x6fd9, 0xbd77, 0x4cd0, 0x0, 0x1);
        gbc.writeMem(0x83eb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf711);
        EXPECT(gbc.pc(), 0x83ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83eb), 0xcb);
        EXPECT(gbc.readMem(0x83ec), 0x48);
        // CB 48 025C
        gbc.setState(0x463a, 0x114c, 0xb080, 0x5c95, 0xc9ad, 0xb0bb, 0x0, 0x0);
        gbc.writeMem(0x463a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x114c);
        EXPECT(gbc.pc(), 0x463c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 025D
        gbc.setState(0x1f8, 0xf520, 0xbb10, 0x3eb8, 0xf92, 0x67e1, 0x1, 0x0);
        gbc.writeMem(0x1f8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf520);
        EXPECT(gbc.pc(), 0x1fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 025E
        gbc.setState(0xbf52, 0xd1e, 0x40f0, 0x2276, 0xb84, 0x869e, 0x0, 0x1);
        gbc.writeMem(0xbf52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd1e);
        EXPECT(gbc.pc(), 0xbf54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf52), 0xcb);
        EXPECT(gbc.readMem(0xbf53), 0x48);
        // CB 48 025F
        gbc.setState(0xe8d, 0xef62, 0xc500, 0x2e91, 0xfb56, 0x760c, 0x0, 0x1);
        gbc.writeMem(0xe8d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xef62);
        EXPECT(gbc.pc(), 0xe8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0260
        gbc.setState(0x915c, 0x96d7, 0x6670, 0xb573, 0xb7e3, 0xc59b, 0x0, 0x0);
        gbc.writeMem(0x915c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x96d7);
        EXPECT(gbc.pc(), 0x915e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915c), 0xcb);
        EXPECT(gbc.readMem(0x915d), 0x48);
        // CB 48 0261
        gbc.setState(0x4703, 0xad9e, 0xd7b0, 0xae79, 0x81d4, 0xc162, 0x0, 0x1);
        gbc.writeMem(0x4703, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xad9e);
        EXPECT(gbc.pc(), 0x4705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0262
        gbc.setState(0xec1c, 0x1ac9, 0x47a0, 0xc900, 0xe216, 0xba7, 0x1, 0x0);
        gbc.writeMem(0xec1c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1ac9);
        EXPECT(gbc.pc(), 0xec1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec1c), 0xcb);
        EXPECT(gbc.readMem(0xec1d), 0x48);
        // CB 48 0263
        gbc.setState(0x33e, 0x93c0, 0x1650, 0x1633, 0x8506, 0xc415, 0x0, 0x1);
        gbc.writeMem(0x33e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x93c0);
        EXPECT(gbc.pc(), 0x340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0264
        gbc.setState(0xa42d, 0x3154, 0x2c00, 0x76e9, 0x5f8f, 0x73fc, 0x1, 0x1);
        gbc.writeMem(0xa42d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3154);
        EXPECT(gbc.pc(), 0xa42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa42d), 0xcb);
        EXPECT(gbc.readMem(0xa42e), 0x48);
        // CB 48 0265
        gbc.setState(0x6605, 0x326, 0x9e0, 0x7a8c, 0xe0cd, 0xfe86, 0x1, 0x0);
        gbc.writeMem(0x6605, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x326);
        EXPECT(gbc.pc(), 0x6607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0266
        gbc.setState(0x7dc3, 0xa740, 0xac80, 0x204b, 0xefbe, 0xe95a, 0x1, 0x1);
        gbc.writeMem(0x7dc3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa740);
        EXPECT(gbc.pc(), 0x7dc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0267
        gbc.setState(0xb160, 0xcf48, 0x9c0, 0x90a4, 0x14e7, 0x243d, 0x1, 0x0);
        gbc.writeMem(0xb160, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xcf48);
        EXPECT(gbc.pc(), 0xb162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb160), 0xcb);
        EXPECT(gbc.readMem(0xb161), 0x48);
        // CB 48 0269
        gbc.setState(0xab1c, 0xa972, 0x3170, 0x8ce6, 0x2003, 0x1afb, 0x0, 0x0);
        gbc.writeMem(0xab1c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa972);
        EXPECT(gbc.pc(), 0xab1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab1c), 0xcb);
        EXPECT(gbc.readMem(0xab1d), 0x48);
        // CB 48 026A
        gbc.setState(0x3435, 0xbe5, 0x2df0, 0xe6e5, 0x4574, 0xca7c, 0x0, 0x1);
        gbc.writeMem(0x3435, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbe5);
        EXPECT(gbc.pc(), 0x3437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 026B
        gbc.setState(0xb43, 0xacff, 0x8e0, 0x6084, 0xf691, 0xa0ee, 0x1, 0x1);
        gbc.writeMem(0xb43, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xacff);
        EXPECT(gbc.pc(), 0xb45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 026C
        gbc.setState(0x2ac0, 0xc886, 0x9220, 0x1f33, 0xc983, 0xc365, 0x1, 0x0);
        gbc.writeMem(0x2ac0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc886);
        EXPECT(gbc.pc(), 0x2ac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 026D
        gbc.setState(0x37d4, 0xb857, 0x1ef0, 0x90, 0x5813, 0x4133, 0x0, 0x0);
        gbc.writeMem(0x37d4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb857);
        EXPECT(gbc.pc(), 0x37d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 026E
        gbc.setState(0x6d30, 0x7080, 0x1d20, 0xadcc, 0x2497, 0xf2bb, 0x1, 0x1);
        gbc.writeMem(0x6d30, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7080);
        EXPECT(gbc.pc(), 0x6d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 026F
        gbc.setState(0x7590, 0x10b9, 0xa50, 0x997c, 0xfb6f, 0x8b2c, 0x0, 0x1);
        gbc.writeMem(0x7590, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x10b9);
        EXPECT(gbc.pc(), 0x7592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0271
        gbc.setState(0x645a, 0x46e8, 0x7200, 0x764, 0xa322, 0x227b, 0x0, 0x0);
        gbc.writeMem(0x645a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x46e8);
        EXPECT(gbc.pc(), 0x645c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0272
        gbc.setState(0x7691, 0xc6d7, 0xb00, 0x34e5, 0xa8db, 0x3a5e, 0x0, 0x1);
        gbc.writeMem(0x7691, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc6d7);
        EXPECT(gbc.pc(), 0x7693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0273
        gbc.setState(0x908a, 0xae74, 0x4650, 0xc8cc, 0x122d, 0xc9f6, 0x0, 0x0);
        gbc.writeMem(0x908a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xae74);
        EXPECT(gbc.pc(), 0x908c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x908a), 0xcb);
        EXPECT(gbc.readMem(0x908b), 0x48);
        // CB 48 0274
        gbc.setState(0x178b, 0x3774, 0x6150, 0xa949, 0x1a3d, 0x3cb2, 0x0, 0x1);
        gbc.writeMem(0x178b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3774);
        EXPECT(gbc.pc(), 0x178d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0275
        gbc.setState(0xc55a, 0x5734, 0x3de0, 0x2053, 0xaee1, 0x42f9, 0x0, 0x0);
        gbc.writeMem(0xc55a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5734);
        EXPECT(gbc.pc(), 0xc55c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc55a), 0xcb);
        EXPECT(gbc.readMem(0xc55b), 0x48);
        // CB 48 0276
        gbc.setState(0x746b, 0xd803, 0xcbf0, 0x9f5b, 0x93ed, 0x1efd, 0x0, 0x1);
        gbc.writeMem(0x746b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd803);
        EXPECT(gbc.pc(), 0x746d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0277
        gbc.setState(0xb064, 0xda7c, 0xa2d0, 0x9396, 0xa03b, 0xf1e, 0x1, 0x1);
        gbc.writeMem(0xb064, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xda7c);
        EXPECT(gbc.pc(), 0xb066);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb064), 0xcb);
        EXPECT(gbc.readMem(0xb065), 0x48);
        // CB 48 0278
        gbc.setState(0x53f8, 0xe9ed, 0x80c0, 0x619d, 0x2047, 0x13d5, 0x1, 0x0);
        gbc.writeMem(0x53f8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe9ed);
        EXPECT(gbc.pc(), 0x53fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0279
        gbc.setState(0x795e, 0xf2fb, 0xbc20, 0xd6d6, 0xbe58, 0xa22d, 0x1, 0x0);
        gbc.writeMem(0x795e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf2fb);
        EXPECT(gbc.pc(), 0x7960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 027A
        gbc.setState(0xbd2f, 0x6ae7, 0x2b80, 0x632d, 0x146e, 0x76a4, 0x0, 0x0);
        gbc.writeMem(0xbd2f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6ae7);
        EXPECT(gbc.pc(), 0xbd31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd2f), 0xcb);
        EXPECT(gbc.readMem(0xbd30), 0x48);
        // CB 48 027B
        gbc.setState(0x3a87, 0x96e, 0xa2c0, 0x1504, 0x9518, 0x9c39, 0x0, 0x1);
        gbc.writeMem(0x3a87, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x96e);
        EXPECT(gbc.pc(), 0x3a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 027C
        gbc.setState(0xd384, 0x2af4, 0xd350, 0xcf5, 0xe25, 0xd2f, 0x1, 0x0);
        gbc.writeMem(0xd384, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2af4);
        EXPECT(gbc.pc(), 0xd386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd384), 0xcb);
        EXPECT(gbc.readMem(0xd385), 0x48);
        // CB 48 027D
        gbc.setState(0x2023, 0x7883, 0x4560, 0x9510, 0x2e02, 0x994f, 0x0, 0x1);
        gbc.writeMem(0x2023, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x7883);
        EXPECT(gbc.pc(), 0x2025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 027F
        gbc.setState(0xbb7, 0x939, 0xa2e0, 0x8ebd, 0x96e2, 0xa74, 0x1, 0x0);
        gbc.writeMem(0xbb7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x939);
        EXPECT(gbc.pc(), 0xbb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0280
        gbc.setState(0xe18c, 0xeaf0, 0xb320, 0x663e, 0x34cb, 0xb91f, 0x0, 0x1);
        gbc.writeMem(0xe18c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xeaf0);
        EXPECT(gbc.pc(), 0xe18e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe18c), 0xcb);
        EXPECT(gbc.readMem(0xe18d), 0x48);
        // CB 48 0281
        gbc.setState(0xe1b7, 0x6be5, 0xd700, 0x292b, 0x1324, 0x39e6, 0x0, 0x1);
        gbc.writeMem(0xe1b7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6be5);
        EXPECT(gbc.pc(), 0xe1b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1b7), 0xcb);
        EXPECT(gbc.readMem(0xe1b8), 0x48);
        // CB 48 0282
        gbc.setState(0x350, 0x8f6d, 0x3ea0, 0x6fe7, 0x2e40, 0x7429, 0x0, 0x0);
        gbc.writeMem(0x350, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8f6d);
        EXPECT(gbc.pc(), 0x352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0283
        gbc.setState(0xccfb, 0xdb05, 0xc040, 0xce23, 0x86b3, 0xfe98, 0x1, 0x0);
        gbc.writeMem(0xccfb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xdb05);
        EXPECT(gbc.pc(), 0xccfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccfb), 0xcb);
        EXPECT(gbc.readMem(0xccfc), 0x48);
        // CB 48 0284
        gbc.setState(0xdcb9, 0xdc6e, 0x62b0, 0xd500, 0x4f2c, 0x7686, 0x1, 0x0);
        gbc.writeMem(0xdcb9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdc6e);
        EXPECT(gbc.pc(), 0xdcbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcb9), 0xcb);
        EXPECT(gbc.readMem(0xdcba), 0x48);
        // CB 48 0285
        gbc.setState(0x292, 0x120c, 0x1d0, 0x8410, 0x41de, 0x87e7, 0x0, 0x0);
        gbc.writeMem(0x292, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x120c);
        EXPECT(gbc.pc(), 0x294);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0286
        gbc.setState(0xa95f, 0x1425, 0x32d0, 0xa7c3, 0x9c07, 0x7581, 0x0, 0x1);
        gbc.writeMem(0xa95f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1425);
        EXPECT(gbc.pc(), 0xa961);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa95f), 0xcb);
        EXPECT(gbc.readMem(0xa960), 0x48);
        // CB 48 0287
        gbc.setState(0x642b, 0xe947, 0x60c0, 0xea91, 0x2a08, 0xf8e9, 0x0, 0x0);
        gbc.writeMem(0x642b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe947);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0288
        gbc.setState(0x1dec, 0xf07e, 0x60, 0x9cc5, 0x1a4, 0xfe30, 0x1, 0x0);
        gbc.writeMem(0x1dec, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf07e);
        EXPECT(gbc.pc(), 0x1dee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0289
        gbc.setState(0xb5b5, 0xebb, 0x5560, 0x7cf0, 0x347a, 0x9b11, 0x0, 0x0);
        gbc.writeMem(0xb5b5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xebb);
        EXPECT(gbc.pc(), 0xb5b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b5), 0xcb);
        EXPECT(gbc.readMem(0xb5b6), 0x48);
        // CB 48 028A
        gbc.setState(0x2f4e, 0x17ae, 0xd920, 0x2eaf, 0xc8ff, 0x1870, 0x0, 0x1);
        gbc.writeMem(0x2f4e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x17ae);
        EXPECT(gbc.pc(), 0x2f50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 028B
        gbc.setState(0x3f81, 0xf662, 0x3470, 0x61f8, 0x693, 0x23f, 0x1, 0x0);
        gbc.writeMem(0x3f81, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xf662);
        EXPECT(gbc.pc(), 0x3f83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 028C
        gbc.setState(0x427e, 0x57b3, 0xa510, 0xd9f2, 0x6243, 0xd7c4, 0x1, 0x0);
        gbc.writeMem(0x427e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x57b3);
        EXPECT(gbc.pc(), 0x4280);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 028D
        gbc.setState(0x3472, 0xdb20, 0x2b80, 0x9d82, 0xe6a3, 0x390b, 0x1, 0x1);
        gbc.writeMem(0x3472, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xdb20);
        EXPECT(gbc.pc(), 0x3474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 028F
        gbc.setState(0x4c18, 0x6b86, 0xb370, 0x3ff9, 0x3af8, 0x6ccf, 0x1, 0x1);
        gbc.writeMem(0x4c18, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x6b86);
        EXPECT(gbc.pc(), 0x4c1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0291
        gbc.setState(0xba61, 0x7808, 0x7a20, 0xc954, 0x9be1, 0x1e3b, 0x0, 0x1);
        gbc.writeMem(0xba61, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7808);
        EXPECT(gbc.pc(), 0xba63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba61), 0xcb);
        EXPECT(gbc.readMem(0xba62), 0x48);
        // CB 48 0292
        gbc.setState(0x75db, 0x527d, 0xa8f0, 0x8f06, 0x9fc4, 0xe87a, 0x0, 0x0);
        gbc.writeMem(0x75db, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x527d);
        EXPECT(gbc.pc(), 0x75dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0293
        gbc.setState(0xacb6, 0x8e9e, 0xf30, 0x5ff0, 0x563e, 0xa29a, 0x1, 0x0);
        gbc.writeMem(0xacb6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8e9e);
        EXPECT(gbc.pc(), 0xacb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacb6), 0xcb);
        EXPECT(gbc.readMem(0xacb7), 0x48);
        // CB 48 0294
        gbc.setState(0xc9e2, 0x72fe, 0x1250, 0x15de, 0x64d8, 0x3b9, 0x1, 0x1);
        gbc.writeMem(0xc9e2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x72fe);
        EXPECT(gbc.pc(), 0xc9e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9e2), 0xcb);
        EXPECT(gbc.readMem(0xc9e3), 0x48);
        // CB 48 0295
        gbc.setState(0xc6ea, 0xf6cd, 0xd1b0, 0xc3c1, 0xed1a, 0x84ea, 0x0, 0x0);
        gbc.writeMem(0xc6ea, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf6cd);
        EXPECT(gbc.pc(), 0xc6ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6ea), 0xcb);
        EXPECT(gbc.readMem(0xc6eb), 0x48);
        // CB 48 0296
        gbc.setState(0x4d2f, 0x78a9, 0xb000, 0xcfb8, 0xfd25, 0x7953, 0x1, 0x1);
        gbc.writeMem(0x4d2f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x78a9);
        EXPECT(gbc.pc(), 0x4d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0297
        gbc.setState(0xa527, 0xf860, 0xbdc0, 0xa839, 0x7264, 0x646e, 0x1, 0x1);
        gbc.writeMem(0xa527, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf860);
        EXPECT(gbc.pc(), 0xa529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa527), 0xcb);
        EXPECT(gbc.readMem(0xa528), 0x48);
        // CB 48 0298
        gbc.setState(0xdea1, 0xa021, 0xc140, 0x1c3, 0xfc4f, 0xbf8b, 0x1, 0x0);
        gbc.writeMem(0xdea1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa021);
        EXPECT(gbc.pc(), 0xdea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdea1), 0xcb);
        EXPECT(gbc.readMem(0xdea2), 0x48);
        // CB 48 0299
        gbc.setState(0x73d, 0x208, 0xaf70, 0x21da, 0x113f, 0x67d0, 0x1, 0x1);
        gbc.writeMem(0x73d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x208);
        EXPECT(gbc.pc(), 0x73f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 029A
        gbc.setState(0xcd3, 0x7c02, 0x46b0, 0x1312, 0xcfb4, 0x6fb0, 0x0, 0x1);
        gbc.writeMem(0xcd3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7c02);
        EXPECT(gbc.pc(), 0xcd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 029B
        gbc.setState(0xc035, 0x515, 0x3fa0, 0xa2c3, 0x6750, 0xca53, 0x1, 0x1);
        gbc.writeMem(0xc035, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x515);
        EXPECT(gbc.pc(), 0xc037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc035), 0xcb);
        EXPECT(gbc.readMem(0xc036), 0x48);
        // CB 48 029C
        gbc.setState(0xe020, 0x2f92, 0xb000, 0xbae4, 0x467f, 0x4134, 0x1, 0x1);
        gbc.writeMem(0xe020, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2f92);
        EXPECT(gbc.pc(), 0xe022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe020), 0xcb);
        EXPECT(gbc.readMem(0xe021), 0x48);
        // CB 48 029D
        gbc.setState(0x7f79, 0x408c, 0x6240, 0x88d3, 0x6e7f, 0x8479, 0x0, 0x1);
        gbc.writeMem(0x7f79, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x408c);
        EXPECT(gbc.pc(), 0x7f7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 029E
        gbc.setState(0x6b41, 0x36b8, 0x6940, 0x9e5c, 0x811d, 0xe793, 0x0, 0x1);
        gbc.writeMem(0x6b41, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x36b8);
        EXPECT(gbc.pc(), 0x6b43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 029F
        gbc.setState(0xa1c0, 0x3d56, 0x3ec0, 0x9150, 0xcfa1, 0x6562, 0x1, 0x1);
        gbc.writeMem(0xa1c0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x3d56);
        EXPECT(gbc.pc(), 0xa1c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1c0), 0xcb);
        EXPECT(gbc.readMem(0xa1c1), 0x48);
        // CB 48 02A0
        gbc.setState(0xeb05, 0x2990, 0x7c80, 0xef20, 0x82d3, 0xfb0e, 0x1, 0x0);
        gbc.writeMem(0xeb05, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2990);
        EXPECT(gbc.pc(), 0xeb07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb05), 0xcb);
        EXPECT(gbc.readMem(0xeb06), 0x48);
        // CB 48 02A1
        gbc.setState(0x86f3, 0x6016, 0xcb30, 0x90ff, 0x47f9, 0xb019, 0x0, 0x1);
        gbc.writeMem(0x86f3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6016);
        EXPECT(gbc.pc(), 0x86f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86f3), 0xcb);
        EXPECT(gbc.readMem(0x86f4), 0x48);
        // CB 48 02A2
        gbc.setState(0x3913, 0xf974, 0xfa70, 0x61b7, 0x6329, 0x7419, 0x1, 0x0);
        gbc.writeMem(0x3913, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf974);
        EXPECT(gbc.pc(), 0x3915);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02A3
        gbc.setState(0x1339, 0xbe9e, 0xe980, 0xa93a, 0x6c96, 0xd650, 0x0, 0x0);
        gbc.writeMem(0x1339, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xbe9e);
        EXPECT(gbc.pc(), 0x133b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02A5
        gbc.setState(0x9df6, 0xb795, 0xec90, 0x9378, 0x1461, 0xb5d0, 0x0, 0x1);
        gbc.writeMem(0x9df6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb795);
        EXPECT(gbc.pc(), 0x9df8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9df6), 0xcb);
        EXPECT(gbc.readMem(0x9df7), 0x48);
        // CB 48 02A6
        gbc.setState(0x5ebe, 0x2f5d, 0xde50, 0x6cbd, 0x411c, 0x5653, 0x1, 0x1);
        gbc.writeMem(0x5ebe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2f5d);
        EXPECT(gbc.pc(), 0x5ec0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02A7
        gbc.setState(0x8a33, 0x756b, 0x4a10, 0xce56, 0xf575, 0xff10, 0x0, 0x1);
        gbc.writeMem(0x8a33, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x756b);
        EXPECT(gbc.pc(), 0x8a35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a33), 0xcb);
        EXPECT(gbc.readMem(0x8a34), 0x48);
        // CB 48 02A8
        gbc.setState(0xb09d, 0x49c0, 0x7480, 0x7f96, 0x1360, 0xc3cb, 0x1, 0x1);
        gbc.writeMem(0xb09d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x49c0);
        EXPECT(gbc.pc(), 0xb09f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb09d), 0xcb);
        EXPECT(gbc.readMem(0xb09e), 0x48);
        // CB 48 02A9
        gbc.setState(0x7cd4, 0x776a, 0x63a0, 0xaaa5, 0x4d81, 0xdafc, 0x1, 0x0);
        gbc.writeMem(0x7cd4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x776a);
        EXPECT(gbc.pc(), 0x7cd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02AA
        gbc.setState(0xd1ec, 0x44d0, 0x32a0, 0xe910, 0x8d2c, 0x6173, 0x1, 0x0);
        gbc.writeMem(0xd1ec, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x44d0);
        EXPECT(gbc.pc(), 0xd1ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ec), 0xcb);
        EXPECT(gbc.readMem(0xd1ed), 0x48);
        // CB 48 02AB
        gbc.setState(0xbe62, 0xad82, 0x32f0, 0x8a15, 0xe9f3, 0xdb62, 0x1, 0x1);
        gbc.writeMem(0xbe62, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xad82);
        EXPECT(gbc.pc(), 0xbe64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe62), 0xcb);
        EXPECT(gbc.readMem(0xbe63), 0x48);
        // CB 48 02AC
        gbc.setState(0xc7af, 0xeb15, 0xa970, 0xc003, 0x6e43, 0xf4d5, 0x0, 0x0);
        gbc.writeMem(0xc7af, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xeb15);
        EXPECT(gbc.pc(), 0xc7b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7af), 0xcb);
        EXPECT(gbc.readMem(0xc7b0), 0x48);
        // CB 48 02AD
        gbc.setState(0x4e90, 0x1977, 0xed40, 0xf5a0, 0xb6eb, 0x16d5, 0x0, 0x0);
        gbc.writeMem(0x4e90, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1977);
        EXPECT(gbc.pc(), 0x4e92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02AE
        gbc.setState(0x7fe1, 0x3c79, 0x69b0, 0x20bb, 0x2575, 0xb2ee, 0x1, 0x1);
        gbc.writeMem(0x7fe1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3c79);
        EXPECT(gbc.pc(), 0x7fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02AF
        gbc.setState(0x3dfe, 0x7407, 0xbea0, 0x6b6a, 0x4bfc, 0x4e53, 0x1, 0x0);
        gbc.writeMem(0x3dfe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7407);
        EXPECT(gbc.pc(), 0x3e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02B0
        gbc.setState(0x8023, 0x4f55, 0x39b0, 0x32ae, 0x8ccb, 0x8f4c, 0x0, 0x1);
        gbc.writeMem(0x8023, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4f55);
        EXPECT(gbc.pc(), 0x8025);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8023), 0xcb);
        EXPECT(gbc.readMem(0x8024), 0x48);
        // CB 48 02B1
        gbc.setState(0xdb2e, 0x2076, 0x48e0, 0x58c4, 0x4d10, 0x2702, 0x1, 0x0);
        gbc.writeMem(0xdb2e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2076);
        EXPECT(gbc.pc(), 0xdb30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb2e), 0xcb);
        EXPECT(gbc.readMem(0xdb2f), 0x48);
        // CB 48 02B2
        gbc.setState(0x80b0, 0xfd4c, 0xa540, 0x420e, 0x5fea, 0xdb70, 0x1, 0x0);
        gbc.writeMem(0x80b0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xfd4c);
        EXPECT(gbc.pc(), 0x80b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b0), 0xcb);
        EXPECT(gbc.readMem(0x80b1), 0x48);
        // CB 48 02B3
        gbc.setState(0x9228, 0xb3ad, 0x7b90, 0x8339, 0x4b8c, 0x661b, 0x0, 0x0);
        gbc.writeMem(0x9228, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb3ad);
        EXPECT(gbc.pc(), 0x922a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9228), 0xcb);
        EXPECT(gbc.readMem(0x9229), 0x48);
        // CB 48 02B4
        gbc.setState(0x1830, 0x93ca, 0x3a60, 0xb08a, 0xd985, 0x56a4, 0x0, 0x1);
        gbc.writeMem(0x1830, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x93ca);
        EXPECT(gbc.pc(), 0x1832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02B5
        gbc.setState(0x44f8, 0x4355, 0xb4e0, 0x59a6, 0xccee, 0xa985, 0x1, 0x0);
        gbc.writeMem(0x44f8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4355);
        EXPECT(gbc.pc(), 0x44fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02B6
        gbc.setState(0x1f8, 0xb6c3, 0xea0, 0x82c, 0x1e22, 0x9e6d, 0x1, 0x0);
        gbc.writeMem(0x1f8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb6c3);
        EXPECT(gbc.pc(), 0x1fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02B7
        gbc.setState(0xaf87, 0x8a01, 0x97b0, 0x723d, 0xe6b1, 0xc729, 0x1, 0x0);
        gbc.writeMem(0xaf87, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x8a01);
        EXPECT(gbc.pc(), 0xaf89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf87), 0xcb);
        EXPECT(gbc.readMem(0xaf88), 0x48);
        // CB 48 02B8
        gbc.setState(0x2017, 0x31d, 0x6ad0, 0x5f2, 0x2f46, 0xc19b, 0x1, 0x0);
        gbc.writeMem(0x2017, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x31d);
        EXPECT(gbc.pc(), 0x2019);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02B9
        gbc.setState(0xe9f3, 0x758d, 0x8d90, 0x7630, 0x6355, 0x55bc, 0x1, 0x0);
        gbc.writeMem(0xe9f3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x758d);
        EXPECT(gbc.pc(), 0xe9f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9f3), 0xcb);
        EXPECT(gbc.readMem(0xe9f4), 0x48);
        // CB 48 02BA
        gbc.setState(0x8d7, 0x8833, 0x88f0, 0x88da, 0xbb6f, 0x7050, 0x0, 0x1);
        gbc.writeMem(0x8d7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8833);
        EXPECT(gbc.pc(), 0x8d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02BB
        gbc.setState(0x11a8, 0xcf5e, 0x6120, 0x1eae, 0xa8a, 0xdf42, 0x0, 0x0);
        gbc.writeMem(0x11a8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xcf5e);
        EXPECT(gbc.pc(), 0x11aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02BC
        gbc.setState(0x3c86, 0x4266, 0x82e0, 0x8725, 0xee83, 0xfddb, 0x1, 0x1);
        gbc.writeMem(0x3c86, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x4266);
        EXPECT(gbc.pc(), 0x3c88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02BE
        gbc.setState(0x5045, 0x8b9f, 0x5f70, 0x716a, 0xa3ad, 0xf607, 0x0, 0x0);
        gbc.writeMem(0x5045, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8b9f);
        EXPECT(gbc.pc(), 0x5047);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02BF
        gbc.setState(0x22e3, 0x299f, 0xd8c0, 0x95e3, 0xae0, 0x41f, 0x0, 0x0);
        gbc.writeMem(0x22e3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x299f);
        EXPECT(gbc.pc(), 0x22e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02C1
        gbc.setState(0x8c21, 0xe4a9, 0xbec0, 0x98e9, 0xa05c, 0xc77b, 0x0, 0x0);
        gbc.writeMem(0x8c21, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe4a9);
        EXPECT(gbc.pc(), 0x8c23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c21), 0xcb);
        EXPECT(gbc.readMem(0x8c22), 0x48);
        // CB 48 02C3
        gbc.setState(0xc310, 0xe90d, 0x3250, 0xc018, 0x9ce7, 0xbbc1, 0x0, 0x0);
        gbc.writeMem(0xc310, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe90d);
        EXPECT(gbc.pc(), 0xc312);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc310), 0xcb);
        EXPECT(gbc.readMem(0xc311), 0x48);
        // CB 48 02C4
        gbc.setState(0x2d9d, 0xdc6b, 0x9470, 0xfc27, 0xac88, 0xf08e, 0x0, 0x1);
        gbc.writeMem(0x2d9d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdc6b);
        EXPECT(gbc.pc(), 0x2d9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02C6
        gbc.setState(0x5347, 0x41a9, 0x9440, 0x520, 0xe222, 0xed9f, 0x1, 0x0);
        gbc.writeMem(0x5347, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x41a9);
        EXPECT(gbc.pc(), 0x5349);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02C7
        gbc.setState(0xe6ed, 0xb830, 0x6670, 0xf532, 0xa166, 0x441d, 0x1, 0x1);
        gbc.writeMem(0xe6ed, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb830);
        EXPECT(gbc.pc(), 0xe6ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ed), 0xcb);
        EXPECT(gbc.readMem(0xe6ee), 0x48);
        // CB 48 02C8
        gbc.setState(0x199d, 0x6b2c, 0x90e0, 0xcb11, 0xe70c, 0x2231, 0x0, 0x0);
        gbc.writeMem(0x199d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6b2c);
        EXPECT(gbc.pc(), 0x199f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02C9
        gbc.setState(0xcf34, 0xeee3, 0xba80, 0x51c9, 0x5781, 0x8f74, 0x0, 0x0);
        gbc.writeMem(0xcf34, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xeee3);
        EXPECT(gbc.pc(), 0xcf36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf34), 0xcb);
        EXPECT(gbc.readMem(0xcf35), 0x48);
        // CB 48 02CA
        gbc.setState(0xae94, 0x17c1, 0x8ea0, 0xf469, 0x7f52, 0x2b98, 0x1, 0x0);
        gbc.writeMem(0xae94, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x17c1);
        EXPECT(gbc.pc(), 0xae96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae94), 0xcb);
        EXPECT(gbc.readMem(0xae95), 0x48);
        // CB 48 02CB
        gbc.setState(0x540f, 0x56fa, 0xd700, 0x4854, 0x455b, 0xb785, 0x1, 0x1);
        gbc.writeMem(0x540f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x56fa);
        EXPECT(gbc.pc(), 0x5411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02CC
        gbc.setState(0x4f09, 0x4a08, 0xe880, 0x95d3, 0xa003, 0x57cc, 0x1, 0x1);
        gbc.writeMem(0x4f09, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4a08);
        EXPECT(gbc.pc(), 0x4f0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02CD
        gbc.setState(0xebc, 0xebe7, 0x4770, 0x39cd, 0x1b17, 0x3f69, 0x1, 0x1);
        gbc.writeMem(0xebc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xebe7);
        EXPECT(gbc.pc(), 0xebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02CE
        gbc.setState(0xd860, 0xd58d, 0xc40, 0xbbd5, 0xc02a, 0xadf2, 0x0, 0x0);
        gbc.writeMem(0xd860, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd58d);
        EXPECT(gbc.pc(), 0xd862);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd860), 0xcb);
        EXPECT(gbc.readMem(0xd861), 0x48);
        // CB 48 02CF
        gbc.setState(0x7e50, 0xb289, 0x7b80, 0x9d, 0xea86, 0x1627, 0x1, 0x0);
        gbc.writeMem(0x7e50, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xb289);
        EXPECT(gbc.pc(), 0x7e52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D0
        gbc.setState(0x756a, 0xcf55, 0xa100, 0x8340, 0x4038, 0x8178, 0x0, 0x1);
        gbc.writeMem(0x756a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcf55);
        EXPECT(gbc.pc(), 0x756c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D1
        gbc.setState(0xd0bf, 0x52e, 0x2010, 0x487b, 0x27f, 0x7e05, 0x0, 0x1);
        gbc.writeMem(0xd0bf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x52e);
        EXPECT(gbc.pc(), 0xd0c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0bf), 0xcb);
        EXPECT(gbc.readMem(0xd0c0), 0x48);
        // CB 48 02D2
        gbc.setState(0x604a, 0xfffc, 0xede0, 0x7a3f, 0xaf28, 0xad44, 0x1, 0x0);
        gbc.writeMem(0x604a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xfffc);
        EXPECT(gbc.pc(), 0x604c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D3
        gbc.setState(0xc907, 0x761c, 0x5440, 0x6dcf, 0xce41, 0xf8fe, 0x0, 0x1);
        gbc.writeMem(0xc907, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x761c);
        EXPECT(gbc.pc(), 0xc909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc907), 0xcb);
        EXPECT(gbc.readMem(0xc908), 0x48);
        // CB 48 02D4
        gbc.setState(0x34c4, 0x967e, 0x4ee0, 0x2a79, 0xdf8c, 0x9159, 0x0, 0x1);
        gbc.writeMem(0x34c4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x967e);
        EXPECT(gbc.pc(), 0x34c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D5
        gbc.setState(0x67ee, 0x2d0f, 0x9500, 0x5fac, 0x24c8, 0xf2df, 0x1, 0x1);
        gbc.writeMem(0x67ee, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x2d0f);
        EXPECT(gbc.pc(), 0x67f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D6
        gbc.setState(0x59d2, 0xab82, 0x8d00, 0xb625, 0x87cf, 0xe641, 0x1, 0x0);
        gbc.writeMem(0x59d2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xab82);
        EXPECT(gbc.pc(), 0x59d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02D7
        gbc.setState(0xc31c, 0x7a4, 0xf660, 0xd607, 0x8bee, 0xa4be, 0x1, 0x1);
        gbc.writeMem(0xc31c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7a4);
        EXPECT(gbc.pc(), 0xc31e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc31c), 0xcb);
        EXPECT(gbc.readMem(0xc31d), 0x48);
        // CB 48 02D8
        gbc.setState(0x2d3d, 0x2a2d, 0x4a40, 0x4e87, 0xb81f, 0x65fc, 0x0, 0x1);
        gbc.writeMem(0x2d3d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2a2d);
        EXPECT(gbc.pc(), 0x2d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02DA
        gbc.setState(0x1afe, 0x2232, 0x8f0, 0xd086, 0xed0b, 0xc70c, 0x1, 0x0);
        gbc.writeMem(0x1afe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2232);
        EXPECT(gbc.pc(), 0x1b00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02DB
        gbc.setState(0xed3c, 0x2d1f, 0x2c20, 0x3517, 0xf5f2, 0x869b, 0x0, 0x1);
        gbc.writeMem(0xed3c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2d1f);
        EXPECT(gbc.pc(), 0xed3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed3c), 0xcb);
        EXPECT(gbc.readMem(0xed3d), 0x48);
        // CB 48 02DC
        gbc.setState(0xa861, 0xbe90, 0xd1b0, 0x1aad, 0x6ba3, 0x8440, 0x0, 0x1);
        gbc.writeMem(0xa861, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbe90);
        EXPECT(gbc.pc(), 0xa863);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa861), 0xcb);
        EXPECT(gbc.readMem(0xa862), 0x48);
        // CB 48 02DD
        gbc.setState(0x1f7f, 0xe9de, 0x18f0, 0xfba3, 0x7aa2, 0x659c, 0x0, 0x0);
        gbc.writeMem(0x1f7f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe9de);
        EXPECT(gbc.pc(), 0x1f81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02DE
        gbc.setState(0x1292, 0x8376, 0xd300, 0x2615, 0x98b9, 0xcf72, 0x1, 0x1);
        gbc.writeMem(0x1292, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8376);
        EXPECT(gbc.pc(), 0x1294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02DF
        gbc.setState(0xdd3b, 0xa10c, 0xc160, 0x4b, 0x484d, 0xcfa0, 0x1, 0x0);
        gbc.writeMem(0xdd3b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa10c);
        EXPECT(gbc.pc(), 0xdd3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd3b), 0xcb);
        EXPECT(gbc.readMem(0xdd3c), 0x48);
        // CB 48 02E0
        gbc.setState(0x3c07, 0x8db7, 0xda90, 0x5bd6, 0x1c41, 0xf420, 0x0, 0x1);
        gbc.writeMem(0x3c07, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8db7);
        EXPECT(gbc.pc(), 0x3c09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02E2
        gbc.setState(0x457d, 0xc74c, 0x85b0, 0x3d9a, 0xf8af, 0xe8b6, 0x0, 0x0);
        gbc.writeMem(0x457d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc74c);
        EXPECT(gbc.pc(), 0x457f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02E3
        gbc.setState(0xdc09, 0xa3d1, 0x4250, 0xf553, 0xd9ae, 0xd5f7, 0x0, 0x0);
        gbc.writeMem(0xdc09, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa3d1);
        EXPECT(gbc.pc(), 0xdc0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc09), 0xcb);
        EXPECT(gbc.readMem(0xdc0a), 0x48);
        // CB 48 02E4
        gbc.setState(0xae6c, 0xd27c, 0x7080, 0xc70d, 0x51f0, 0x6126, 0x0, 0x1);
        gbc.writeMem(0xae6c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd27c);
        EXPECT(gbc.pc(), 0xae6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae6c), 0xcb);
        EXPECT(gbc.readMem(0xae6d), 0x48);
        // CB 48 02E5
        gbc.setState(0x7dca, 0x7e80, 0xafb0, 0xd4e3, 0xbc62, 0x9a8f, 0x1, 0x1);
        gbc.writeMem(0x7dca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7e80);
        EXPECT(gbc.pc(), 0x7dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02E6
        gbc.setState(0x452c, 0xeb6b, 0xf290, 0x6a3a, 0xfda8, 0x9e73, 0x1, 0x0);
        gbc.writeMem(0x452c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xeb6b);
        EXPECT(gbc.pc(), 0x452e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02E7
        gbc.setState(0x28c5, 0x3e47, 0xa0c0, 0x737d, 0x53f7, 0x8b11, 0x0, 0x1);
        gbc.writeMem(0x28c5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3e47);
        EXPECT(gbc.pc(), 0x28c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02E8
        gbc.setState(0xd144, 0xc27f, 0xef0, 0x71cb, 0x2fa, 0x21a4, 0x0, 0x1);
        gbc.writeMem(0xd144, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc27f);
        EXPECT(gbc.pc(), 0xd146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd144), 0xcb);
        EXPECT(gbc.readMem(0xd145), 0x48);
        // CB 48 02E9
        gbc.setState(0xd2d5, 0x8061, 0x5430, 0x8887, 0x53a1, 0x9e44, 0x1, 0x0);
        gbc.writeMem(0xd2d5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x8061);
        EXPECT(gbc.pc(), 0xd2d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2d5), 0xcb);
        EXPECT(gbc.readMem(0xd2d6), 0x48);
        // CB 48 02EA
        gbc.setState(0xdc25, 0xca73, 0x4640, 0xeb11, 0x78b, 0xc3, 0x1, 0x0);
        gbc.writeMem(0xdc25, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xca73);
        EXPECT(gbc.pc(), 0xdc27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc25), 0xcb);
        EXPECT(gbc.readMem(0xdc26), 0x48);
        // CB 48 02EB
        gbc.setState(0x6c03, 0x4336, 0xa350, 0xdb42, 0x1b6e, 0x61af, 0x1, 0x0);
        gbc.writeMem(0x6c03, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4336);
        EXPECT(gbc.pc(), 0x6c05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02EC
        gbc.setState(0x6561, 0x3247, 0x5550, 0xd971, 0x6d14, 0x8ae6, 0x1, 0x0);
        gbc.writeMem(0x6561, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3247);
        EXPECT(gbc.pc(), 0x6563);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02ED
        gbc.setState(0x450b, 0x6283, 0xd3d0, 0x2874, 0x8340, 0xee71, 0x1, 0x1);
        gbc.writeMem(0x450b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x6283);
        EXPECT(gbc.pc(), 0x450d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02EE
        gbc.setState(0xb0eb, 0xf46a, 0xc100, 0xc74d, 0xd172, 0xcacb, 0x1, 0x1);
        gbc.writeMem(0xb0eb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf46a);
        EXPECT(gbc.pc(), 0xb0ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0eb), 0xcb);
        EXPECT(gbc.readMem(0xb0ec), 0x48);
        // CB 48 02EF
        gbc.setState(0x9f09, 0x469e, 0xed0, 0x2caf, 0x3fc5, 0x4c12, 0x1, 0x0);
        gbc.writeMem(0x9f09, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x469e);
        EXPECT(gbc.pc(), 0x9f0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f09), 0xcb);
        EXPECT(gbc.readMem(0x9f0a), 0x48);
        // CB 48 02F0
        gbc.setState(0x1e83, 0x62a2, 0x5e20, 0xe917, 0xcb66, 0xaf74, 0x1, 0x1);
        gbc.writeMem(0x1e83, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x62a2);
        EXPECT(gbc.pc(), 0x1e85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02F1
        gbc.setState(0xa620, 0x89d7, 0xccf0, 0x782e, 0x6872, 0xb8d8, 0x1, 0x1);
        gbc.writeMem(0xa620, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x89d7);
        EXPECT(gbc.pc(), 0xa622);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa620), 0xcb);
        EXPECT(gbc.readMem(0xa621), 0x48);
        // CB 48 02F2
        gbc.setState(0x9789, 0x151e, 0x57c0, 0x3972, 0x1732, 0x83bb, 0x0, 0x1);
        gbc.writeMem(0x9789, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x151e);
        EXPECT(gbc.pc(), 0x978b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9789), 0xcb);
        EXPECT(gbc.readMem(0x978a), 0x48);
        // CB 48 02F3
        gbc.setState(0x6e57, 0xcfbb, 0xd4f0, 0x4697, 0x6010, 0xa91, 0x1, 0x0);
        gbc.writeMem(0x6e57, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xcfbb);
        EXPECT(gbc.pc(), 0x6e59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02F4
        gbc.setState(0xda70, 0x89be, 0x5720, 0xbb98, 0xa69d, 0xf729, 0x1, 0x0);
        gbc.writeMem(0xda70, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x89be);
        EXPECT(gbc.pc(), 0xda72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda70), 0xcb);
        EXPECT(gbc.readMem(0xda71), 0x48);
        // CB 48 02F5
        gbc.setState(0x8f45, 0xdefe, 0xd5b0, 0xea66, 0x1d72, 0x1a52, 0x0, 0x0);
        gbc.writeMem(0x8f45, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xdefe);
        EXPECT(gbc.pc(), 0x8f47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f45), 0xcb);
        EXPECT(gbc.readMem(0x8f46), 0x48);
        // CB 48 02F6
        gbc.setState(0xef9, 0xc69e, 0xc620, 0x352e, 0x7a9e, 0x57c4, 0x0, 0x1);
        gbc.writeMem(0xef9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc69e);
        EXPECT(gbc.pc(), 0xefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02F7
        gbc.setState(0x3695, 0xa187, 0x2850, 0xd721, 0x87c3, 0xebce, 0x1, 0x0);
        gbc.writeMem(0x3695, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa187);
        EXPECT(gbc.pc(), 0x3697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02F8
        gbc.setState(0x8027, 0xad78, 0xa140, 0x7690, 0x7abe, 0x6503, 0x1, 0x1);
        gbc.writeMem(0x8027, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xad78);
        EXPECT(gbc.pc(), 0x8029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8027), 0xcb);
        EXPECT(gbc.readMem(0x8028), 0x48);
        // CB 48 02F9
        gbc.setState(0x3759, 0x67bd, 0x98f0, 0x2d69, 0x1675, 0x43c1, 0x1, 0x0);
        gbc.writeMem(0x3759, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x67bd);
        EXPECT(gbc.pc(), 0x375b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02FA
        gbc.setState(0xfd1, 0xa5a3, 0xf720, 0x7eb8, 0xf71e, 0xc62a, 0x1, 0x0);
        gbc.writeMem(0xfd1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa5a3);
        EXPECT(gbc.pc(), 0xfd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 02FB
        gbc.setState(0x9d92, 0x6710, 0xfeb0, 0x3580, 0xad80, 0xba66, 0x1, 0x1);
        gbc.writeMem(0x9d92, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6710);
        EXPECT(gbc.pc(), 0x9d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d92), 0xcb);
        EXPECT(gbc.readMem(0x9d93), 0x48);
        // CB 48 02FC
        gbc.setState(0x7b9a, 0xcf59, 0xd470, 0xaa6d, 0x47e5, 0xb577, 0x0, 0x1);
        gbc.writeMem(0x7b9a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xcf59);
        EXPECT(gbc.pc(), 0x7b9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02FD
        gbc.setState(0x7055, 0x78a9, 0x51f0, 0x2545, 0x809f, 0x3f4a, 0x0, 0x0);
        gbc.writeMem(0x7055, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x78a9);
        EXPECT(gbc.pc(), 0x7057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 02FF
        gbc.setState(0xe032, 0x9c47, 0x1da0, 0x48c8, 0x2e00, 0xaa7, 0x0, 0x1);
        gbc.writeMem(0xe032, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9c47);
        EXPECT(gbc.pc(), 0xe034);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe032), 0xcb);
        EXPECT(gbc.readMem(0xe033), 0x48);
        // CB 48 0300
        gbc.setState(0xb445, 0x959c, 0x5150, 0xbe01, 0xa4cb, 0xc174, 0x0, 0x0);
        gbc.writeMem(0xb445, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x959c);
        EXPECT(gbc.pc(), 0xb447);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb445), 0xcb);
        EXPECT(gbc.readMem(0xb446), 0x48);
        // CB 48 0301
        gbc.setState(0xc325, 0x3b67, 0xe970, 0x5cc6, 0x49ab, 0x9ab3, 0x0, 0x0);
        gbc.writeMem(0xc325, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3b67);
        EXPECT(gbc.pc(), 0xc327);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc325), 0xcb);
        EXPECT(gbc.readMem(0xc326), 0x48);
        // CB 48 0302
        gbc.setState(0x86ed, 0xf94e, 0x4a20, 0x145, 0x9a00, 0x776c, 0x1, 0x0);
        gbc.writeMem(0x86ed, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf94e);
        EXPECT(gbc.pc(), 0x86ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ed), 0xcb);
        EXPECT(gbc.readMem(0x86ee), 0x48);
        // CB 48 0303
        gbc.setState(0xc7ba, 0x27ae, 0x5190, 0xc1e3, 0x27, 0x5074, 0x1, 0x0);
        gbc.writeMem(0xc7ba, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x27ae);
        EXPECT(gbc.pc(), 0xc7bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7ba), 0xcb);
        EXPECT(gbc.readMem(0xc7bb), 0x48);
        // CB 48 0304
        gbc.setState(0xe471, 0xad1c, 0x9140, 0x3dd8, 0xfdf6, 0x4f7, 0x0, 0x1);
        gbc.writeMem(0xe471, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xad1c);
        EXPECT(gbc.pc(), 0xe473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe471), 0xcb);
        EXPECT(gbc.readMem(0xe472), 0x48);
        // CB 48 0305
        gbc.setState(0x5c97, 0x8da4, 0xa0a0, 0x5edd, 0xdccf, 0xee4e, 0x0, 0x0);
        gbc.writeMem(0x5c97, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8da4);
        EXPECT(gbc.pc(), 0x5c99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0306
        gbc.setState(0xc9f2, 0x5ae4, 0xa7e0, 0x590, 0xcd3b, 0x184a, 0x0, 0x0);
        gbc.writeMem(0xc9f2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x5ae4);
        EXPECT(gbc.pc(), 0xc9f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9f2), 0xcb);
        EXPECT(gbc.readMem(0xc9f3), 0x48);
        // CB 48 0307
        gbc.setState(0xe12e, 0xc8ad, 0x6af0, 0x6842, 0x51a1, 0x7f7b, 0x1, 0x1);
        gbc.writeMem(0xe12e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xc8ad);
        EXPECT(gbc.pc(), 0xe130);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe12e), 0xcb);
        EXPECT(gbc.readMem(0xe12f), 0x48);
        // CB 48 0308
        gbc.setState(0x469e, 0xb9bd, 0x7730, 0x2fac, 0xb99c, 0xf84, 0x0, 0x0);
        gbc.writeMem(0x469e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb9bd);
        EXPECT(gbc.pc(), 0x46a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0309
        gbc.setState(0xcf13, 0x97df, 0x3190, 0x16ef, 0x5764, 0x2c4b, 0x1, 0x1);
        gbc.writeMem(0xcf13, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x97df);
        EXPECT(gbc.pc(), 0xcf15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf13), 0xcb);
        EXPECT(gbc.readMem(0xcf14), 0x48);
        // CB 48 030A
        gbc.setState(0x137d, 0xa7b2, 0x9b50, 0x367e, 0x2d12, 0x906b, 0x0, 0x1);
        gbc.writeMem(0x137d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa7b2);
        EXPECT(gbc.pc(), 0x137f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 030B
        gbc.setState(0x5f9e, 0xcdb3, 0x5cb0, 0x442, 0xbd94, 0x2a30, 0x0, 0x0);
        gbc.writeMem(0x5f9e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xcdb3);
        EXPECT(gbc.pc(), 0x5fa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 030C
        gbc.setState(0xb16, 0xadcf, 0x48f0, 0xfa07, 0x17f7, 0x3320, 0x0, 0x1);
        gbc.writeMem(0xb16, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xadcf);
        EXPECT(gbc.pc(), 0xb18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 030D
        gbc.setState(0x89d2, 0x49e1, 0xe9a0, 0x9b32, 0x39c5, 0x9ef0, 0x0, 0x1);
        gbc.writeMem(0x89d2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x49e1);
        EXPECT(gbc.pc(), 0x89d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89d2), 0xcb);
        EXPECT(gbc.readMem(0x89d3), 0x48);
        // CB 48 030E
        gbc.setState(0xcbd, 0xf9c8, 0xf7e0, 0xa695, 0x1749, 0xf5a2, 0x0, 0x0);
        gbc.writeMem(0xcbd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xf9c8);
        EXPECT(gbc.pc(), 0xcbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 030F
        gbc.setState(0xe0c6, 0xe672, 0xa600, 0xd4bb, 0x5748, 0x1a78, 0x1, 0x0);
        gbc.writeMem(0xe0c6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe672);
        EXPECT(gbc.pc(), 0xe0c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0c6), 0xcb);
        EXPECT(gbc.readMem(0xe0c7), 0x48);
        // CB 48 0310
        gbc.setState(0x6658, 0x7d66, 0xb370, 0x2dc3, 0x77bd, 0x829a, 0x1, 0x1);
        gbc.writeMem(0x6658, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x7d66);
        EXPECT(gbc.pc(), 0x665a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0311
        gbc.setState(0xd850, 0xebed, 0xff30, 0x1646, 0x8985, 0xc1bb, 0x1, 0x1);
        gbc.writeMem(0xd850, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xebed);
        EXPECT(gbc.pc(), 0xd852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd850), 0xcb);
        EXPECT(gbc.readMem(0xd851), 0x48);
        // CB 48 0312
        gbc.setState(0x7517, 0xa543, 0x3110, 0xb616, 0x4f61, 0xd908, 0x1, 0x0);
        gbc.writeMem(0x7517, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa543);
        EXPECT(gbc.pc(), 0x7519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0313
        gbc.setState(0xb7be, 0x7b57, 0x33c0, 0xd131, 0x39e4, 0x86b4, 0x0, 0x1);
        gbc.writeMem(0xb7be, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7b57);
        EXPECT(gbc.pc(), 0xb7c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7be), 0xcb);
        EXPECT(gbc.readMem(0xb7bf), 0x48);
        // CB 48 0314
        gbc.setState(0xd9da, 0x7c1c, 0x2650, 0xc278, 0xd2c3, 0xcacb, 0x0, 0x1);
        gbc.writeMem(0xd9da, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7c1c);
        EXPECT(gbc.pc(), 0xd9dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9da), 0xcb);
        EXPECT(gbc.readMem(0xd9db), 0x48);
        // CB 48 0316
        gbc.setState(0x8ddb, 0x83ba, 0x8070, 0x2829, 0x4f51, 0x69b6, 0x1, 0x1);
        gbc.writeMem(0x8ddb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x83ba);
        EXPECT(gbc.pc(), 0x8ddd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ddb), 0xcb);
        EXPECT(gbc.readMem(0x8ddc), 0x48);
        // CB 48 0317
        gbc.setState(0xd04c, 0x7d08, 0xb5b0, 0x2b5a, 0x1e09, 0xa5bd, 0x1, 0x1);
        gbc.writeMem(0xd04c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7d08);
        EXPECT(gbc.pc(), 0xd04e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd04c), 0xcb);
        EXPECT(gbc.readMem(0xd04d), 0x48);
        // CB 48 0318
        gbc.setState(0x428f, 0x8985, 0xc6d0, 0xfa42, 0x9119, 0x65bf, 0x0, 0x0);
        gbc.writeMem(0x428f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8985);
        EXPECT(gbc.pc(), 0x4291);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0319
        gbc.setState(0xd706, 0x5180, 0xdb10, 0x3fa, 0x46c6, 0xdc5d, 0x1, 0x1);
        gbc.writeMem(0xd706, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5180);
        EXPECT(gbc.pc(), 0xd708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd706), 0xcb);
        EXPECT(gbc.readMem(0xd707), 0x48);
        // CB 48 031A
        gbc.setState(0xcb96, 0xea7d, 0x1020, 0xd574, 0x344d, 0x8d5f, 0x1, 0x0);
        gbc.writeMem(0xcb96, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xea7d);
        EXPECT(gbc.pc(), 0xcb98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb96), 0xcb);
        EXPECT(gbc.readMem(0xcb97), 0x48);
        // CB 48 031B
        gbc.setState(0x3cc3, 0xb69d, 0x5ab0, 0x155b, 0x8f4a, 0xbb6d, 0x1, 0x1);
        gbc.writeMem(0x3cc3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb69d);
        EXPECT(gbc.pc(), 0x3cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 031C
        gbc.setState(0xc2f9, 0x2faf, 0x31f0, 0x67df, 0x433f, 0xe07d, 0x0, 0x0);
        gbc.writeMem(0xc2f9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2faf);
        EXPECT(gbc.pc(), 0xc2fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2f9), 0xcb);
        EXPECT(gbc.readMem(0xc2fa), 0x48);
        // CB 48 031D
        gbc.setState(0xc576, 0x9462, 0x60d0, 0x1a49, 0x287b, 0x8e25, 0x0, 0x0);
        gbc.writeMem(0xc576, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9462);
        EXPECT(gbc.pc(), 0xc578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc576), 0xcb);
        EXPECT(gbc.readMem(0xc577), 0x48);
        // CB 48 031E
        gbc.setState(0x51cd, 0x96f2, 0x4990, 0x9133, 0x1b41, 0xc7f4, 0x0, 0x1);
        gbc.writeMem(0x51cd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x96f2);
        EXPECT(gbc.pc(), 0x51cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 031F
        gbc.setState(0x11a, 0xec7d, 0xe280, 0x98dd, 0x76a9, 0x9c74, 0x0, 0x1);
        gbc.writeMem(0x11a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xec7d);
        EXPECT(gbc.pc(), 0x11c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0320
        gbc.setState(0x5eac, 0xc370, 0x8090, 0x7c34, 0xb2ae, 0xd9ce, 0x1, 0x0);
        gbc.writeMem(0x5eac, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc370);
        EXPECT(gbc.pc(), 0x5eae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0321
        gbc.setState(0xbeb6, 0x358d, 0xfb40, 0xe07, 0x4f25, 0xa0e7, 0x0, 0x0);
        gbc.writeMem(0xbeb6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x358d);
        EXPECT(gbc.pc(), 0xbeb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb6), 0xcb);
        EXPECT(gbc.readMem(0xbeb7), 0x48);
        // CB 48 0322
        gbc.setState(0x43f0, 0x6415, 0x8e40, 0xc1a4, 0x60, 0x3798, 0x1, 0x1);
        gbc.writeMem(0x43f0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6415);
        EXPECT(gbc.pc(), 0x43f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0323
        gbc.setState(0xa7d9, 0x801f, 0x2040, 0xd4c, 0x70f4, 0x5cca, 0x0, 0x1);
        gbc.writeMem(0xa7d9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x801f);
        EXPECT(gbc.pc(), 0xa7db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d9), 0xcb);
        EXPECT(gbc.readMem(0xa7da), 0x48);
        // CB 48 0324
        gbc.setState(0x5eb9, 0x2b34, 0xdad0, 0x9531, 0x3759, 0x9b76, 0x0, 0x0);
        gbc.writeMem(0x5eb9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2b34);
        EXPECT(gbc.pc(), 0x5ebb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0325
        gbc.setState(0x21bc, 0xa0bd, 0x9110, 0x7797, 0x384, 0xfaae, 0x1, 0x1);
        gbc.writeMem(0x21bc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa0bd);
        EXPECT(gbc.pc(), 0x21be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0327
        gbc.setState(0x9b25, 0x7007, 0x5920, 0xec0, 0x651c, 0xecc, 0x0, 0x0);
        gbc.writeMem(0x9b25, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7007);
        EXPECT(gbc.pc(), 0x9b27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b25), 0xcb);
        EXPECT(gbc.readMem(0x9b26), 0x48);
        // CB 48 0328
        gbc.setState(0xd07, 0x3ea3, 0x4a0, 0x3383, 0x84bb, 0xb195, 0x0, 0x1);
        gbc.writeMem(0xd07, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x3ea3);
        EXPECT(gbc.pc(), 0xd09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0329
        gbc.setState(0x6318, 0xc499, 0xa690, 0xb710, 0xd524, 0xf53a, 0x1, 0x0);
        gbc.writeMem(0x6318, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc499);
        EXPECT(gbc.pc(), 0x631a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 032A
        gbc.setState(0xb79e, 0x1d94, 0xa680, 0xc223, 0x7645, 0xa0a8, 0x1, 0x0);
        gbc.writeMem(0xb79e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1d94);
        EXPECT(gbc.pc(), 0xb7a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79e), 0xcb);
        EXPECT(gbc.readMem(0xb79f), 0x48);
        // CB 48 032C
        gbc.setState(0xb480, 0xc71e, 0x1c90, 0x1b4d, 0x25fe, 0xe40b, 0x1, 0x0);
        gbc.writeMem(0xb480, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc71e);
        EXPECT(gbc.pc(), 0xb482);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb480), 0xcb);
        EXPECT(gbc.readMem(0xb481), 0x48);
        // CB 48 032D
        gbc.setState(0x784a, 0xd52d, 0x2c10, 0x9d2e, 0x18a1, 0x5ba2, 0x1, 0x0);
        gbc.writeMem(0x784a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd52d);
        EXPECT(gbc.pc(), 0x784c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 032E
        gbc.setState(0xea4c, 0x5259, 0xef70, 0xbc53, 0x6875, 0x6095, 0x1, 0x1);
        gbc.writeMem(0xea4c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5259);
        EXPECT(gbc.pc(), 0xea4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea4c), 0xcb);
        EXPECT(gbc.readMem(0xea4d), 0x48);
        // CB 48 0330
        gbc.setState(0x9489, 0xc793, 0xf8b0, 0x58b1, 0x7350, 0x92c, 0x0, 0x1);
        gbc.writeMem(0x9489, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xc793);
        EXPECT(gbc.pc(), 0x948b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9489), 0xcb);
        EXPECT(gbc.readMem(0x948a), 0x48);
        // CB 48 0331
        gbc.setState(0x41f9, 0xac30, 0x6190, 0x8ec3, 0xef7, 0x76d8, 0x0, 0x1);
        gbc.writeMem(0x41f9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xac30);
        EXPECT(gbc.pc(), 0x41fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0332
        gbc.setState(0x95e5, 0xa2fe, 0x7ed0, 0x75f5, 0x927c, 0xe817, 0x1, 0x1);
        gbc.writeMem(0x95e5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa2fe);
        EXPECT(gbc.pc(), 0x95e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95e5), 0xcb);
        EXPECT(gbc.readMem(0x95e6), 0x48);
        // CB 48 0333
        gbc.setState(0xbbc, 0xf7a1, 0x4f10, 0xa456, 0x5d40, 0x7dc2, 0x0, 0x0);
        gbc.writeMem(0xbbc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf7a1);
        EXPECT(gbc.pc(), 0xbbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0334
        gbc.setState(0x5f45, 0xc2ee, 0x6020, 0xd993, 0xf7d8, 0x1f56, 0x0, 0x1);
        gbc.writeMem(0x5f45, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc2ee);
        EXPECT(gbc.pc(), 0x5f47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0335
        gbc.setState(0x7aa3, 0xf235, 0x12b0, 0x5126, 0xfaf9, 0xa3e6, 0x0, 0x1);
        gbc.writeMem(0x7aa3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf235);
        EXPECT(gbc.pc(), 0x7aa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0336
        gbc.setState(0xb10b, 0xddc3, 0xbf10, 0xa9ad, 0x678e, 0x2b92, 0x1, 0x1);
        gbc.writeMem(0xb10b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xddc3);
        EXPECT(gbc.pc(), 0xb10d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb10b), 0xcb);
        EXPECT(gbc.readMem(0xb10c), 0x48);
        // CB 48 0337
        gbc.setState(0x2be8, 0x4861, 0x84b0, 0xc734, 0x315b, 0x1a14, 0x0, 0x1);
        gbc.writeMem(0x2be8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4861);
        EXPECT(gbc.pc(), 0x2bea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0338
        gbc.setState(0xbece, 0x50e0, 0xc370, 0x7c95, 0x9cc7, 0xc14f, 0x1, 0x1);
        gbc.writeMem(0xbece, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x50e0);
        EXPECT(gbc.pc(), 0xbed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbece), 0xcb);
        EXPECT(gbc.readMem(0xbecf), 0x48);
        // CB 48 0339
        gbc.setState(0x3d69, 0x916a, 0x8b90, 0x673b, 0xe6a2, 0x7729, 0x1, 0x0);
        gbc.writeMem(0x3d69, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x916a);
        EXPECT(gbc.pc(), 0x3d6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 033A
        gbc.setState(0xdb2a, 0x1db7, 0xb510, 0x6123, 0xd0d5, 0x63d5, 0x0, 0x0);
        gbc.writeMem(0xdb2a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1db7);
        EXPECT(gbc.pc(), 0xdb2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb2a), 0xcb);
        EXPECT(gbc.readMem(0xdb2b), 0x48);
        // CB 48 033B
        gbc.setState(0xdf15, 0xab56, 0xf650, 0x6050, 0x677d, 0xb666, 0x0, 0x0);
        gbc.writeMem(0xdf15, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xab56);
        EXPECT(gbc.pc(), 0xdf17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf15), 0xcb);
        EXPECT(gbc.readMem(0xdf16), 0x48);
        // CB 48 033C
        gbc.setState(0x513f, 0x3818, 0xc010, 0x8d2e, 0x58d5, 0x427, 0x1, 0x1);
        gbc.writeMem(0x513f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3818);
        EXPECT(gbc.pc(), 0x5141);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 033D
        gbc.setState(0x6459, 0x1dab, 0x8120, 0x3cd1, 0x374e, 0x427d, 0x1, 0x1);
        gbc.writeMem(0x6459, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1dab);
        EXPECT(gbc.pc(), 0x645b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 033E
        gbc.setState(0x4761, 0xb78d, 0x2840, 0xc732, 0xf8bc, 0x14f0, 0x0, 0x1);
        gbc.writeMem(0x4761, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb78d);
        EXPECT(gbc.pc(), 0x4763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 033F
        gbc.setState(0x5d4d, 0x5cdc, 0x2d20, 0xe68c, 0x5ac3, 0x9dd3, 0x1, 0x1);
        gbc.writeMem(0x5d4d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5cdc);
        EXPECT(gbc.pc(), 0x5d4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0340
        gbc.setState(0x114, 0x581, 0x35d0, 0x830d, 0xa9d7, 0x85da, 0x0, 0x0);
        gbc.writeMem(0x114, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x581);
        EXPECT(gbc.pc(), 0x116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0341
        gbc.setState(0xb6c4, 0xb3e3, 0xeda0, 0x6c31, 0x21f1, 0xf1ce, 0x0, 0x1);
        gbc.writeMem(0xb6c4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb3e3);
        EXPECT(gbc.pc(), 0xb6c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6c4), 0xcb);
        EXPECT(gbc.readMem(0xb6c5), 0x48);
        // CB 48 0342
        gbc.setState(0x339f, 0x3947, 0xa130, 0x104, 0x5abf, 0xead9, 0x1, 0x1);
        gbc.writeMem(0x339f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3947);
        EXPECT(gbc.pc(), 0x33a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0344
        gbc.setState(0x8a2, 0x53f6, 0xf610, 0x2e3, 0xb4db, 0x65f0, 0x0, 0x1);
        gbc.writeMem(0x8a2, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x53f6);
        EXPECT(gbc.pc(), 0x8a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0345
        gbc.setState(0xd01e, 0x7429, 0xfb80, 0xd4ac, 0x63c1, 0xf9b7, 0x0, 0x1);
        gbc.writeMem(0xd01e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7429);
        EXPECT(gbc.pc(), 0xd020);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd01e), 0xcb);
        EXPECT(gbc.readMem(0xd01f), 0x48);
        // CB 48 0347
        gbc.setState(0x5490, 0x9492, 0x31c0, 0x4304, 0x8a17, 0x9e35, 0x1, 0x0);
        gbc.writeMem(0x5490, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9492);
        EXPECT(gbc.pc(), 0x5492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0348
        gbc.setState(0xc75c, 0xaa29, 0x2460, 0x857d, 0x5a9a, 0x3a5f, 0x1, 0x1);
        gbc.writeMem(0xc75c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xaa29);
        EXPECT(gbc.pc(), 0xc75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc75c), 0xcb);
        EXPECT(gbc.readMem(0xc75d), 0x48);
        // CB 48 0349
        gbc.setState(0x6bdb, 0x41ea, 0x3210, 0x8426, 0xe0b7, 0x14bd, 0x0, 0x0);
        gbc.writeMem(0x6bdb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x41ea);
        EXPECT(gbc.pc(), 0x6bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 034A
        gbc.setState(0x27e9, 0xe02, 0xfb90, 0x70ab, 0x1857, 0x8334, 0x1, 0x0);
        gbc.writeMem(0x27e9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe02);
        EXPECT(gbc.pc(), 0x27eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 034C
        gbc.setState(0x8cca, 0x917a, 0xd060, 0xd5a8, 0xbaf, 0x822f, 0x0, 0x0);
        gbc.writeMem(0x8cca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x917a);
        EXPECT(gbc.pc(), 0x8ccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cca), 0xcb);
        EXPECT(gbc.readMem(0x8ccb), 0x48);
        // CB 48 034D
        gbc.setState(0x19d7, 0x66e4, 0xc880, 0x291, 0x8942, 0x73e6, 0x1, 0x1);
        gbc.writeMem(0x19d7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x66e4);
        EXPECT(gbc.pc(), 0x19d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 034E
        gbc.setState(0x4c73, 0xe223, 0xac90, 0xfe2f, 0xb155, 0xd969, 0x1, 0x0);
        gbc.writeMem(0x4c73, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe223);
        EXPECT(gbc.pc(), 0x4c75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 034F
        gbc.setState(0x4160, 0xcaa1, 0x9730, 0x573b, 0xa152, 0x3143, 0x1, 0x1);
        gbc.writeMem(0x4160, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcaa1);
        EXPECT(gbc.pc(), 0x4162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0350
        gbc.setState(0x4ef7, 0x6db1, 0xb5a0, 0x5cac, 0x1797, 0x4e6a, 0x0, 0x1);
        gbc.writeMem(0x4ef7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6db1);
        EXPECT(gbc.pc(), 0x4ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0351
        gbc.setState(0x1de8, 0x46af, 0x8b30, 0xc186, 0xd950, 0x3b22, 0x1, 0x1);
        gbc.writeMem(0x1de8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x46af);
        EXPECT(gbc.pc(), 0x1dea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0352
        gbc.setState(0xadd3, 0xa101, 0x8900, 0x94, 0x3f3b, 0x6868, 0x0, 0x1);
        gbc.writeMem(0xadd3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa101);
        EXPECT(gbc.pc(), 0xadd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadd3), 0xcb);
        EXPECT(gbc.readMem(0xadd4), 0x48);
        // CB 48 0353
        gbc.setState(0xc45f, 0x5f8b, 0x4330, 0xd88b, 0xfcb6, 0xce10, 0x1, 0x0);
        gbc.writeMem(0xc45f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5f8b);
        EXPECT(gbc.pc(), 0xc461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc45f), 0xcb);
        EXPECT(gbc.readMem(0xc460), 0x48);
        // CB 48 0354
        gbc.setState(0x63f8, 0x44de, 0x8ca0, 0xf4bc, 0x994a, 0xa440, 0x0, 0x1);
        gbc.writeMem(0x63f8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x44de);
        EXPECT(gbc.pc(), 0x63fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0355
        gbc.setState(0x6368, 0xc52, 0x6120, 0x5e90, 0x8871, 0x460c, 0x0, 0x0);
        gbc.writeMem(0x6368, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc52);
        EXPECT(gbc.pc(), 0x636a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0356
        gbc.setState(0x8e0d, 0x26ca, 0x9290, 0xdaef, 0x1e21, 0xfe9f, 0x1, 0x0);
        gbc.writeMem(0x8e0d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x26ca);
        EXPECT(gbc.pc(), 0x8e0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e0d), 0xcb);
        EXPECT(gbc.readMem(0x8e0e), 0x48);
        // CB 48 0357
        gbc.setState(0xc51a, 0x71d1, 0xf6a0, 0xa34, 0x4878, 0x74aa, 0x1, 0x1);
        gbc.writeMem(0xc51a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x71d1);
        EXPECT(gbc.pc(), 0xc51c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc51a), 0xcb);
        EXPECT(gbc.readMem(0xc51b), 0x48);
        // CB 48 0358
        gbc.setState(0xbcb5, 0xa1e9, 0xed70, 0x3e88, 0xda2c, 0x7dc3, 0x1, 0x0);
        gbc.writeMem(0xbcb5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa1e9);
        EXPECT(gbc.pc(), 0xbcb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb5), 0xcb);
        EXPECT(gbc.readMem(0xbcb6), 0x48);
        // CB 48 0359
        gbc.setState(0xee70, 0xc9eb, 0x7860, 0xfb4f, 0x330d, 0xfa2, 0x0, 0x0);
        gbc.writeMem(0xee70, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc9eb);
        EXPECT(gbc.pc(), 0xee72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee70), 0xcb);
        EXPECT(gbc.readMem(0xee71), 0x48);
        // CB 48 035A
        gbc.setState(0xf08, 0x9d86, 0x7360, 0x9afa, 0x3043, 0x9e4a, 0x0, 0x0);
        gbc.writeMem(0xf08, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9d86);
        EXPECT(gbc.pc(), 0xf0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 035B
        gbc.setState(0x9d72, 0xcd91, 0xe000, 0x6ffc, 0xaf7b, 0x9cb0, 0x1, 0x1);
        gbc.writeMem(0x9d72, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xcd91);
        EXPECT(gbc.pc(), 0x9d74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d72), 0xcb);
        EXPECT(gbc.readMem(0x9d73), 0x48);
        // CB 48 035C
        gbc.setState(0x55b3, 0xa228, 0x44b0, 0x6289, 0xaaf7, 0xc549, 0x1, 0x1);
        gbc.writeMem(0x55b3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa228);
        EXPECT(gbc.pc(), 0x55b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 035D
        gbc.setState(0x6332, 0x30f, 0x5a30, 0x712a, 0xa1ea, 0x1485, 0x1, 0x0);
        gbc.writeMem(0x6332, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x30f);
        EXPECT(gbc.pc(), 0x6334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 035E
        gbc.setState(0x4b9a, 0x9321, 0x16d0, 0x4449, 0x858f, 0xdc55, 0x1, 0x0);
        gbc.writeMem(0x4b9a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9321);
        EXPECT(gbc.pc(), 0x4b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 035F
        gbc.setState(0x94d6, 0x7d13, 0xb540, 0x1fed, 0x4e5a, 0xa054, 0x1, 0x0);
        gbc.writeMem(0x94d6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7d13);
        EXPECT(gbc.pc(), 0x94d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d6), 0xcb);
        EXPECT(gbc.readMem(0x94d7), 0x48);
        // CB 48 0360
        gbc.setState(0x40db, 0xa148, 0xa150, 0x9d77, 0x5983, 0x89d4, 0x0, 0x1);
        gbc.writeMem(0x40db, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa148);
        EXPECT(gbc.pc(), 0x40dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0361
        gbc.setState(0x9b7d, 0x779, 0x23f0, 0x5565, 0xc716, 0xa09c, 0x1, 0x0);
        gbc.writeMem(0x9b7d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x779);
        EXPECT(gbc.pc(), 0x9b7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7d), 0xcb);
        EXPECT(gbc.readMem(0x9b7e), 0x48);
        // CB 48 0362
        gbc.setState(0x3cfd, 0xaf94, 0x1ee0, 0x78db, 0xde05, 0x7abc, 0x0, 0x0);
        gbc.writeMem(0x3cfd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xaf94);
        EXPECT(gbc.pc(), 0x3cff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0364
        gbc.setState(0xe53f, 0x6420, 0x24b0, 0x7440, 0x3061, 0x2398, 0x0, 0x1);
        gbc.writeMem(0xe53f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x6420);
        EXPECT(gbc.pc(), 0xe541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe53f), 0xcb);
        EXPECT(gbc.readMem(0xe540), 0x48);
        // CB 48 0365
        gbc.setState(0x458f, 0xafa8, 0xe930, 0x3057, 0x6a5d, 0x187f, 0x1, 0x1);
        gbc.writeMem(0x458f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xafa8);
        EXPECT(gbc.pc(), 0x4591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0366
        gbc.setState(0xc16a, 0x4f3f, 0xc7e0, 0xbfed, 0xd014, 0x9b61, 0x1, 0x1);
        gbc.writeMem(0xc16a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4f3f);
        EXPECT(gbc.pc(), 0xc16c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16a), 0xcb);
        EXPECT(gbc.readMem(0xc16b), 0x48);
        // CB 48 0367
        gbc.setState(0xc4f1, 0xeac3, 0xe6c0, 0xfa6f, 0x4508, 0xb85d, 0x1, 0x0);
        gbc.writeMem(0xc4f1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xeac3);
        EXPECT(gbc.pc(), 0xc4f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f1), 0xcb);
        EXPECT(gbc.readMem(0xc4f2), 0x48);
        // CB 48 0369
        gbc.setState(0x6bbd, 0x7eb, 0x9150, 0xfd32, 0x808, 0x943, 0x1, 0x0);
        gbc.writeMem(0x6bbd, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7eb);
        EXPECT(gbc.pc(), 0x6bbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 036A
        gbc.setState(0x3790, 0x75c4, 0x76d0, 0xbaaa, 0x1484, 0x81f1, 0x1, 0x0);
        gbc.writeMem(0x3790, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x75c4);
        EXPECT(gbc.pc(), 0x3792);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 036B
        gbc.setState(0x3b76, 0x63d7, 0x3d40, 0x1b23, 0x3be0, 0x24fa, 0x1, 0x1);
        gbc.writeMem(0x3b76, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x63d7);
        EXPECT(gbc.pc(), 0x3b78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 036C
        gbc.setState(0x38c7, 0x3bbb, 0x2760, 0x61ef, 0x27a7, 0x5168, 0x0, 0x1);
        gbc.writeMem(0x38c7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3bbb);
        EXPECT(gbc.pc(), 0x38c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 036D
        gbc.setState(0x6fe3, 0x30b6, 0x3080, 0xe7bc, 0x2d9e, 0x6833, 0x0, 0x0);
        gbc.writeMem(0x6fe3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x30b6);
        EXPECT(gbc.pc(), 0x6fe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 036E
        gbc.setState(0x8a31, 0xe2a, 0x57c0, 0xc9c, 0x9bd0, 0x4351, 0x0, 0x0);
        gbc.writeMem(0x8a31, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xe2a);
        EXPECT(gbc.pc(), 0x8a33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a31), 0xcb);
        EXPECT(gbc.readMem(0x8a32), 0x48);
        // CB 48 0370
        gbc.setState(0x3b2f, 0x7c52, 0xa950, 0x755f, 0x4842, 0xd6e8, 0x0, 0x0);
        gbc.writeMem(0x3b2f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7c52);
        EXPECT(gbc.pc(), 0x3b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0371
        gbc.setState(0xa626, 0xea80, 0xa640, 0x4e90, 0x6f2d, 0x5bce, 0x0, 0x0);
        gbc.writeMem(0xa626, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xea80);
        EXPECT(gbc.pc(), 0xa628);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa626), 0xcb);
        EXPECT(gbc.readMem(0xa627), 0x48);
        // CB 48 0372
        gbc.setState(0xb384, 0x69fc, 0x7260, 0xc101, 0x1ef3, 0x9830, 0x0, 0x0);
        gbc.writeMem(0xb384, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x69fc);
        EXPECT(gbc.pc(), 0xb386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb384), 0xcb);
        EXPECT(gbc.readMem(0xb385), 0x48);
        // CB 48 0373
        gbc.setState(0xb4a1, 0x11bd, 0x3f60, 0xc238, 0xc0fd, 0xa5e6, 0x1, 0x1);
        gbc.writeMem(0xb4a1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x11bd);
        EXPECT(gbc.pc(), 0xb4a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4a1), 0xcb);
        EXPECT(gbc.readMem(0xb4a2), 0x48);
        // CB 48 0374
        gbc.setState(0xe7e5, 0x7516, 0xae90, 0x4f55, 0x641a, 0x38aa, 0x1, 0x1);
        gbc.writeMem(0xe7e5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7516);
        EXPECT(gbc.pc(), 0xe7e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7e5), 0xcb);
        EXPECT(gbc.readMem(0xe7e6), 0x48);
        // CB 48 0376
        gbc.setState(0x6276, 0x4177, 0x8aa0, 0x94f7, 0xbbd8, 0x715f, 0x1, 0x1);
        gbc.writeMem(0x6276, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4177);
        EXPECT(gbc.pc(), 0x6278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0377
        gbc.setState(0x287c, 0x8001, 0x1d10, 0x74d0, 0x3da7, 0x4f68, 0x0, 0x1);
        gbc.writeMem(0x287c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8001);
        EXPECT(gbc.pc(), 0x287e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0378
        gbc.setState(0x124f, 0x5d67, 0xb2c0, 0x2f38, 0xff20, 0x861c, 0x1, 0x0);
        gbc.writeMem(0x124f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5d67);
        EXPECT(gbc.pc(), 0x1251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0379
        gbc.setState(0xc54b, 0xff75, 0xb90, 0x2e1f, 0x26f4, 0xb2e2, 0x0, 0x0);
        gbc.writeMem(0xc54b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xff75);
        EXPECT(gbc.pc(), 0xc54d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc54b), 0xcb);
        EXPECT(gbc.readMem(0xc54c), 0x48);
        // CB 48 037A
        gbc.setState(0xd9c7, 0x6f32, 0x2a80, 0xe0f2, 0xd225, 0x91e7, 0x1, 0x1);
        gbc.writeMem(0xd9c7, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6f32);
        EXPECT(gbc.pc(), 0xd9c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c7), 0xcb);
        EXPECT(gbc.readMem(0xd9c8), 0x48);
        // CB 48 037B
        gbc.setState(0x2521, 0x5595, 0x2d0, 0x85a8, 0x4ecb, 0xda02, 0x1, 0x0);
        gbc.writeMem(0x2521, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5595);
        EXPECT(gbc.pc(), 0x2523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 037D
        gbc.setState(0xdaef, 0x91b4, 0x4f00, 0xb9f4, 0xca0f, 0x8430, 0x1, 0x0);
        gbc.writeMem(0xdaef, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x91b4);
        EXPECT(gbc.pc(), 0xdaf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaef), 0xcb);
        EXPECT(gbc.readMem(0xdaf0), 0x48);
        // CB 48 037E
        gbc.setState(0x311c, 0xe830, 0x2dd0, 0x3334, 0x1553, 0xa038, 0x1, 0x0);
        gbc.writeMem(0x311c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xe830);
        EXPECT(gbc.pc(), 0x311e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 037F
        gbc.setState(0x4869, 0x2bf0, 0x15a0, 0xbef0, 0xac11, 0xad2c, 0x1, 0x0);
        gbc.writeMem(0x4869, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2bf0);
        EXPECT(gbc.pc(), 0x486b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0380
        gbc.setState(0x2506, 0xbbeb, 0x40d0, 0x62c, 0xfb83, 0x753a, 0x1, 0x1);
        gbc.writeMem(0x2506, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbbeb);
        EXPECT(gbc.pc(), 0x2508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0381
        gbc.setState(0x9734, 0xad86, 0xcc0, 0x4887, 0xf14a, 0xf63c, 0x0, 0x0);
        gbc.writeMem(0x9734, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xad86);
        EXPECT(gbc.pc(), 0x9736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9734), 0xcb);
        EXPECT(gbc.readMem(0x9735), 0x48);
        // CB 48 0382
        gbc.setState(0xabcc, 0xb437, 0x3e0, 0xfddb, 0xc69a, 0x77e5, 0x0, 0x1);
        gbc.writeMem(0xabcc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb437);
        EXPECT(gbc.pc(), 0xabce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabcc), 0xcb);
        EXPECT(gbc.readMem(0xabcd), 0x48);
        // CB 48 0383
        gbc.setState(0x91d9, 0xedb7, 0xe340, 0xad3, 0xb35d, 0xdd8b, 0x1, 0x1);
        gbc.writeMem(0x91d9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xedb7);
        EXPECT(gbc.pc(), 0x91db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91d9), 0xcb);
        EXPECT(gbc.readMem(0x91da), 0x48);
        // CB 48 0384
        gbc.setState(0x2c05, 0x99a2, 0xee90, 0xdd0e, 0xea8b, 0x1876, 0x1, 0x0);
        gbc.writeMem(0x2c05, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x99a2);
        EXPECT(gbc.pc(), 0x2c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0385
        gbc.setState(0x9880, 0x3ea3, 0xb00, 0x685a, 0x9902, 0x92e7, 0x0, 0x1);
        gbc.writeMem(0x9880, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3ea3);
        EXPECT(gbc.pc(), 0x9882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9880), 0xcb);
        EXPECT(gbc.readMem(0x9881), 0x48);
        // CB 48 0386
        gbc.setState(0x64ae, 0x237, 0x8650, 0x4f80, 0x27a3, 0x7e04, 0x1, 0x0);
        gbc.writeMem(0x64ae, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x237);
        EXPECT(gbc.pc(), 0x64b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0387
        gbc.setState(0x14d, 0xe847, 0xde40, 0x4fcd, 0xd7dd, 0x6bf1, 0x1, 0x0);
        gbc.writeMem(0x14d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe847);
        EXPECT(gbc.pc(), 0x14f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0388
        gbc.setState(0x6fa4, 0x5f42, 0xe450, 0xc7c5, 0x8a31, 0xee25, 0x0, 0x1);
        gbc.writeMem(0x6fa4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5f42);
        EXPECT(gbc.pc(), 0x6fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0389
        gbc.setState(0xcbac, 0xb894, 0x50f0, 0x3d1d, 0x1458, 0x2923, 0x0, 0x0);
        gbc.writeMem(0xcbac, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xb894);
        EXPECT(gbc.pc(), 0xcbae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbac), 0xcb);
        EXPECT(gbc.readMem(0xcbad), 0x48);
        // CB 48 038A
        gbc.setState(0xcc19, 0x5d5d, 0x4ac0, 0xb599, 0x8a6e, 0x1bca, 0x1, 0x1);
        gbc.writeMem(0xcc19, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x5d5d);
        EXPECT(gbc.pc(), 0xcc1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc19), 0xcb);
        EXPECT(gbc.readMem(0xcc1a), 0x48);
        // CB 48 038B
        gbc.setState(0x4a1e, 0xb2bc, 0x63b0, 0x3aa9, 0x3b67, 0x7b97, 0x0, 0x0);
        gbc.writeMem(0x4a1e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xb2bc);
        EXPECT(gbc.pc(), 0x4a20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 038C
        gbc.setState(0x2847, 0xf162, 0xbee0, 0x6f29, 0x665f, 0x1e4a, 0x1, 0x1);
        gbc.writeMem(0x2847, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf162);
        EXPECT(gbc.pc(), 0x2849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 038D
        gbc.setState(0x6d8f, 0x136f, 0xefc0, 0xae7d, 0x2458, 0x7608, 0x1, 0x0);
        gbc.writeMem(0x6d8f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x136f);
        EXPECT(gbc.pc(), 0x6d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 038E
        gbc.setState(0xab28, 0x3ef3, 0x8540, 0xb6f9, 0x3a05, 0x9e18, 0x0, 0x0);
        gbc.writeMem(0xab28, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x3ef3);
        EXPECT(gbc.pc(), 0xab2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab28), 0xcb);
        EXPECT(gbc.readMem(0xab29), 0x48);
        // CB 48 038F
        gbc.setState(0xce1a, 0xfc2f, 0x5c90, 0xcad0, 0xd354, 0xbbe9, 0x1, 0x0);
        gbc.writeMem(0xce1a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xfc2f);
        EXPECT(gbc.pc(), 0xce1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce1a), 0xcb);
        EXPECT(gbc.readMem(0xce1b), 0x48);
        // CB 48 0390
        gbc.setState(0xb0e9, 0x2f5f, 0xede0, 0xee7e, 0xf61c, 0x3fbb, 0x0, 0x1);
        gbc.writeMem(0xb0e9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2f5f);
        EXPECT(gbc.pc(), 0xb0eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e9), 0xcb);
        EXPECT(gbc.readMem(0xb0ea), 0x48);
        // CB 48 0391
        gbc.setState(0x4368, 0xad41, 0xd10, 0x5436, 0x8848, 0x765a, 0x0, 0x0);
        gbc.writeMem(0x4368, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xad41);
        EXPECT(gbc.pc(), 0x436a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 0392
        gbc.setState(0x221f, 0x759d, 0x3840, 0x31b4, 0xb34, 0xf79, 0x0, 0x1);
        gbc.writeMem(0x221f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x759d);
        EXPECT(gbc.pc(), 0x2221);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0393
        gbc.setState(0x8e52, 0xd0f3, 0x31a0, 0xc278, 0x3eca, 0x5db9, 0x1, 0x0);
        gbc.writeMem(0x8e52, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd0f3);
        EXPECT(gbc.pc(), 0x8e54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e52), 0xcb);
        EXPECT(gbc.readMem(0x8e53), 0x48);
        // CB 48 0394
        gbc.setState(0xb33b, 0xc02b, 0x6330, 0x99b9, 0xb20, 0x5617, 0x0, 0x1);
        gbc.writeMem(0xb33b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc02b);
        EXPECT(gbc.pc(), 0xb33d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb33b), 0xcb);
        EXPECT(gbc.readMem(0xb33c), 0x48);
        // CB 48 0395
        gbc.setState(0x6a3c, 0xb592, 0x9d60, 0x893a, 0x2665, 0x8b79, 0x0, 0x1);
        gbc.writeMem(0x6a3c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb592);
        EXPECT(gbc.pc(), 0x6a3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0396
        gbc.setState(0xac82, 0x7c2f, 0xdea0, 0xb095, 0xa224, 0x2db, 0x0, 0x0);
        gbc.writeMem(0xac82, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7c2f);
        EXPECT(gbc.pc(), 0xac84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac82), 0xcb);
        EXPECT(gbc.readMem(0xac83), 0x48);
        // CB 48 0397
        gbc.setState(0x592a, 0x3aef, 0x9860, 0x4061, 0x44d0, 0x8313, 0x1, 0x0);
        gbc.writeMem(0x592a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x3aef);
        EXPECT(gbc.pc(), 0x592c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 0399
        gbc.setState(0xa643, 0x8cd0, 0x7500, 0xda7, 0xd365, 0x8e02, 0x0, 0x1);
        gbc.writeMem(0xa643, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8cd0);
        EXPECT(gbc.pc(), 0xa645);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa643), 0xcb);
        EXPECT(gbc.readMem(0xa644), 0x48);
        // CB 48 039A
        gbc.setState(0x5bfe, 0x3b52, 0x3150, 0xefe9, 0x6983, 0xf146, 0x0, 0x0);
        gbc.writeMem(0x5bfe, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3b52);
        EXPECT(gbc.pc(), 0x5c00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 039B
        gbc.setState(0xdc50, 0x34a5, 0xebf0, 0x3625, 0x1f31, 0xef49, 0x1, 0x0);
        gbc.writeMem(0xdc50, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x34a5);
        EXPECT(gbc.pc(), 0xdc52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc50), 0xcb);
        EXPECT(gbc.readMem(0xdc51), 0x48);
        // CB 48 039C
        gbc.setState(0x5013, 0x21d1, 0x1d50, 0xd7f3, 0xb254, 0x3a03, 0x0, 0x1);
        gbc.writeMem(0x5013, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x21d1);
        EXPECT(gbc.pc(), 0x5015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 039D
        gbc.setState(0x150, 0x82de, 0xa5d0, 0x1c22, 0xeccb, 0xae39, 0x0, 0x1);
        gbc.writeMem(0x150, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x82de);
        EXPECT(gbc.pc(), 0x152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 039E
        gbc.setState(0xb32a, 0xce76, 0xe570, 0xb813, 0xeb89, 0x9163, 0x1, 0x0);
        gbc.writeMem(0xb32a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xce76);
        EXPECT(gbc.pc(), 0xb32c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb32a), 0xcb);
        EXPECT(gbc.readMem(0xb32b), 0x48);
        // CB 48 03A1
        gbc.setState(0xad94, 0xef15, 0x5140, 0x55b4, 0x16f, 0x41b9, 0x1, 0x0);
        gbc.writeMem(0xad94, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xef15);
        EXPECT(gbc.pc(), 0xad96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad94), 0xcb);
        EXPECT(gbc.readMem(0xad95), 0x48);
        // CB 48 03A2
        gbc.setState(0x8c69, 0xde0a, 0x3430, 0x7e80, 0xd7e8, 0x15b6, 0x0, 0x1);
        gbc.writeMem(0x8c69, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xde0a);
        EXPECT(gbc.pc(), 0x8c6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c69), 0xcb);
        EXPECT(gbc.readMem(0x8c6a), 0x48);
        // CB 48 03A3
        gbc.setState(0xb1b4, 0x316a, 0xdc50, 0x162e, 0xf7a1, 0xbb02, 0x0, 0x0);
        gbc.writeMem(0xb1b4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x316a);
        EXPECT(gbc.pc(), 0xb1b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1b4), 0xcb);
        EXPECT(gbc.readMem(0xb1b5), 0x48);
        // CB 48 03A4
        gbc.setState(0xceb5, 0x590, 0x9f60, 0xa21f, 0x30ce, 0xa7aa, 0x1, 0x1);
        gbc.writeMem(0xceb5, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x590);
        EXPECT(gbc.pc(), 0xceb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceb5), 0xcb);
        EXPECT(gbc.readMem(0xceb6), 0x48);
        // CB 48 03A5
        gbc.setState(0x2b36, 0x8d39, 0x2840, 0xaa62, 0x1c71, 0x679c, 0x1, 0x0);
        gbc.writeMem(0x2b36, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8d39);
        EXPECT(gbc.pc(), 0x2b38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03A6
        gbc.setState(0xb84d, 0x3ac, 0x1d10, 0x23ac, 0xc133, 0x5ece, 0x0, 0x1);
        gbc.writeMem(0xb84d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3ac);
        EXPECT(gbc.pc(), 0xb84f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb84d), 0xcb);
        EXPECT(gbc.readMem(0xb84e), 0x48);
        // CB 48 03A7
        gbc.setState(0x89b8, 0x1d42, 0x8c00, 0x2e0f, 0xcf04, 0xab6e, 0x1, 0x1);
        gbc.writeMem(0x89b8, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x1d42);
        EXPECT(gbc.pc(), 0x89ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89b8), 0xcb);
        EXPECT(gbc.readMem(0x89b9), 0x48);
        // CB 48 03A8
        gbc.setState(0xb24f, 0xa118, 0x2240, 0x949d, 0x9b86, 0x3310, 0x0, 0x1);
        gbc.writeMem(0xb24f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa118);
        EXPECT(gbc.pc(), 0xb251);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb24f), 0xcb);
        EXPECT(gbc.readMem(0xb250), 0x48);
        // CB 48 03AA
        gbc.setState(0x1466, 0x357e, 0x3840, 0x3783, 0x9db3, 0x7096, 0x0, 0x1);
        gbc.writeMem(0x1466, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x357e);
        EXPECT(gbc.pc(), 0x1468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03AB
        gbc.setState(0x3583, 0x51d5, 0x93b0, 0x45e1, 0x230b, 0x2f36, 0x0, 0x0);
        gbc.writeMem(0x3583, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x51d5);
        EXPECT(gbc.pc(), 0x3585);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03AC
        gbc.setState(0x5088, 0xf02e, 0x5ef0, 0x6ab, 0x67ee, 0x68ac, 0x1, 0x0);
        gbc.writeMem(0x5088, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf02e);
        EXPECT(gbc.pc(), 0x508a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03AD
        gbc.setState(0x724b, 0x6e3d, 0x6ee0, 0xfe33, 0x148, 0x556f, 0x1, 0x0);
        gbc.writeMem(0x724b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6e3d);
        EXPECT(gbc.pc(), 0x724d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03AE
        gbc.setState(0xc7ce, 0x1a49, 0x7080, 0xdad3, 0xb72, 0xc5ba, 0x0, 0x1);
        gbc.writeMem(0xc7ce, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1a49);
        EXPECT(gbc.pc(), 0xc7d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ce), 0xcb);
        EXPECT(gbc.readMem(0xc7cf), 0x48);
        // CB 48 03AF
        gbc.setState(0xe986, 0x9762, 0x7600, 0x803f, 0x42a0, 0x40bc, 0x0, 0x1);
        gbc.writeMem(0xe986, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x9762);
        EXPECT(gbc.pc(), 0xe988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe986), 0xcb);
        EXPECT(gbc.readMem(0xe987), 0x48);
        // CB 48 03B0
        gbc.setState(0x355a, 0xb652, 0x48a0, 0x3059, 0xcd48, 0x9053, 0x0, 0x0);
        gbc.writeMem(0x355a, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb652);
        EXPECT(gbc.pc(), 0x355c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03B1
        gbc.setState(0x34c3, 0xebd5, 0xa3f0, 0xc2ff, 0xefe0, 0xcca1, 0x1, 0x0);
        gbc.writeMem(0x34c3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xebd5);
        EXPECT(gbc.pc(), 0x34c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03B2
        gbc.setState(0x90ae, 0xf89a, 0xec60, 0x6ff7, 0xbc4e, 0xc5c7, 0x0, 0x0);
        gbc.writeMem(0x90ae, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf89a);
        EXPECT(gbc.pc(), 0x90b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ae), 0xcb);
        EXPECT(gbc.readMem(0x90af), 0x48);
        // CB 48 03B3
        gbc.setState(0xc433, 0x65e3, 0x3b30, 0xc385, 0x1e3e, 0x388b, 0x0, 0x1);
        gbc.writeMem(0xc433, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x65e3);
        EXPECT(gbc.pc(), 0xc435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc433), 0xcb);
        EXPECT(gbc.readMem(0xc434), 0x48);
        // CB 48 03B4
        gbc.setState(0xe732, 0x8f12, 0x4510, 0x4fbd, 0x3202, 0xbe53, 0x0, 0x0);
        gbc.writeMem(0xe732, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x8f12);
        EXPECT(gbc.pc(), 0xe734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe732), 0xcb);
        EXPECT(gbc.readMem(0xe733), 0x48);
        // CB 48 03B5
        gbc.setState(0xc9d, 0x3062, 0x430, 0x81be, 0x6553, 0x6cb8, 0x1, 0x0);
        gbc.writeMem(0xc9d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3062);
        EXPECT(gbc.pc(), 0xc9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03B6
        gbc.setState(0xcc7b, 0x7676, 0x2b00, 0x19de, 0x65a7, 0x8dbc, 0x1, 0x0);
        gbc.writeMem(0xcc7b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7676);
        EXPECT(gbc.pc(), 0xcc7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc7b), 0xcb);
        EXPECT(gbc.readMem(0xcc7c), 0x48);
        // CB 48 03B7
        gbc.setState(0x6cb4, 0xf3ac, 0x2c40, 0xb3c4, 0x9891, 0xb946, 0x1, 0x0);
        gbc.writeMem(0x6cb4, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf3ac);
        EXPECT(gbc.pc(), 0x6cb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03B8
        gbc.setState(0x9d2e, 0x133, 0xfae0, 0xffe1, 0x57aa, 0x656f, 0x0, 0x0);
        gbc.writeMem(0x9d2e, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x133);
        EXPECT(gbc.pc(), 0x9d30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d2e), 0xcb);
        EXPECT(gbc.readMem(0x9d2f), 0x48);
        // CB 48 03B9
        gbc.setState(0x5b96, 0x721e, 0x78e0, 0x7c37, 0x97f7, 0xa19b, 0x0, 0x1);
        gbc.writeMem(0x5b96, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x721e);
        EXPECT(gbc.pc(), 0x5b98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03BA
        gbc.setState(0x6ec0, 0xdd4a, 0x7e70, 0x62d8, 0xf799, 0x7e20, 0x0, 0x1);
        gbc.writeMem(0x6ec0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xdd4a);
        EXPECT(gbc.pc(), 0x6ec2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03BB
        gbc.setState(0xe8e1, 0x4139, 0x7900, 0xe875, 0x1bde, 0x668f, 0x0, 0x0);
        gbc.writeMem(0xe8e1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4139);
        EXPECT(gbc.pc(), 0xe8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e1), 0xcb);
        EXPECT(gbc.readMem(0xe8e2), 0x48);
        // CB 48 03BC
        gbc.setState(0x48d6, 0x2161, 0xf220, 0x4f54, 0x6158, 0x600b, 0x0, 0x0);
        gbc.writeMem(0x48d6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2161);
        EXPECT(gbc.pc(), 0x48d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03BD
        gbc.setState(0x5357, 0xb51b, 0x51e0, 0x2c46, 0x79c8, 0xe2ed, 0x0, 0x1);
        gbc.writeMem(0x5357, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb51b);
        EXPECT(gbc.pc(), 0x5359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03BE
        gbc.setState(0xb6c3, 0xefdf, 0x1f10, 0x4e6a, 0xab3f, 0x7e51, 0x0, 0x0);
        gbc.writeMem(0xb6c3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xefdf);
        EXPECT(gbc.pc(), 0xb6c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6c3), 0xcb);
        EXPECT(gbc.readMem(0xb6c4), 0x48);
        // CB 48 03BF
        gbc.setState(0x6fae, 0xbb6b, 0x2db0, 0x8814, 0xe6, 0xf449, 0x1, 0x1);
        gbc.writeMem(0x6fae, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbb6b);
        EXPECT(gbc.pc(), 0x6fb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03C0
        gbc.setState(0xb241, 0x672e, 0x88a0, 0xd5e4, 0x1087, 0xf8a5, 0x0, 0x0);
        gbc.writeMem(0xb241, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x672e);
        EXPECT(gbc.pc(), 0xb243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb241), 0xcb);
        EXPECT(gbc.readMem(0xb242), 0x48);
        // CB 48 03C1
        gbc.setState(0x8c4b, 0x9f8c, 0x1760, 0x6cbc, 0x15e7, 0xd0d, 0x0, 0x1);
        gbc.writeMem(0x8c4b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9f8c);
        EXPECT(gbc.pc(), 0x8c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4b), 0xcb);
        EXPECT(gbc.readMem(0x8c4c), 0x48);
        // CB 48 03C2
        gbc.setState(0xdefb, 0xe358, 0x9e60, 0xebc1, 0x74ea, 0x753d, 0x1, 0x1);
        gbc.writeMem(0xdefb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe358);
        EXPECT(gbc.pc(), 0xdefd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdefb), 0xcb);
        EXPECT(gbc.readMem(0xdefc), 0x48);
        // CB 48 03C3
        gbc.setState(0x2d5c, 0x851e, 0x7970, 0x9f0d, 0x48ec, 0xd7e, 0x1, 0x1);
        gbc.writeMem(0x2d5c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x851e);
        EXPECT(gbc.pc(), 0x2d5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03C4
        gbc.setState(0x18ca, 0x9e9b, 0xb2b0, 0x1de5, 0xa5f6, 0xfa18, 0x0, 0x1);
        gbc.writeMem(0x18ca, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9e9b);
        EXPECT(gbc.pc(), 0x18cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03C5
        gbc.setState(0x72bf, 0x7c0, 0x1e40, 0x4553, 0x9b83, 0x4be3, 0x0, 0x1);
        gbc.writeMem(0x72bf, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7c0);
        EXPECT(gbc.pc(), 0x72c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03C6
        gbc.setState(0xd835, 0x952a, 0xfbe0, 0x2782, 0xd924, 0xba50, 0x0, 0x0);
        gbc.writeMem(0xd835, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x952a);
        EXPECT(gbc.pc(), 0xd837);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd835), 0xcb);
        EXPECT(gbc.readMem(0xd836), 0x48);
        // CB 48 03C7
        gbc.setState(0xd683, 0x2e3, 0x4bd0, 0x76bb, 0x9a16, 0x2a82, 0x0, 0x0);
        gbc.writeMem(0xd683, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2e3);
        EXPECT(gbc.pc(), 0xd685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd683), 0xcb);
        EXPECT(gbc.readMem(0xd684), 0x48);
        // CB 48 03C8
        gbc.setState(0x9cd6, 0x909d, 0xe9d0, 0x636d, 0x4f85, 0xf3ad, 0x1, 0x1);
        gbc.writeMem(0x9cd6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x909d);
        EXPECT(gbc.pc(), 0x9cd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd6), 0xcb);
        EXPECT(gbc.readMem(0x9cd7), 0x48);
        // CB 48 03C9
        gbc.setState(0xbeac, 0xb273, 0xcb40, 0xf31, 0x107c, 0xd968, 0x0, 0x1);
        gbc.writeMem(0xbeac, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb273);
        EXPECT(gbc.pc(), 0xbeae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeac), 0xcb);
        EXPECT(gbc.readMem(0xbead), 0x48);
        // CB 48 03CA
        gbc.setState(0xe5cc, 0xb8b5, 0x750, 0x8e64, 0xae19, 0x54ee, 0x1, 0x0);
        gbc.writeMem(0xe5cc, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb8b5);
        EXPECT(gbc.pc(), 0xe5ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5cc), 0xcb);
        EXPECT(gbc.readMem(0xe5cd), 0x48);
        // CB 48 03CB
        gbc.setState(0xc849, 0x7c88, 0xb5d0, 0x1d61, 0x2934, 0x4805, 0x1, 0x0);
        gbc.writeMem(0xc849, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7c88);
        EXPECT(gbc.pc(), 0xc84b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc849), 0xcb);
        EXPECT(gbc.readMem(0xc84a), 0x48);
        // CB 48 03CC
        gbc.setState(0x5872, 0x2ca4, 0xb9b0, 0xc7d5, 0xe960, 0xb347, 0x0, 0x1);
        gbc.writeMem(0x5872, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2ca4);
        EXPECT(gbc.pc(), 0x5874);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03CD
        gbc.setState(0xd74b, 0xd061, 0xbb30, 0xcd60, 0x6d72, 0x5186, 0x1, 0x1);
        gbc.writeMem(0xd74b, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd061);
        EXPECT(gbc.pc(), 0xd74d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd74b), 0xcb);
        EXPECT(gbc.readMem(0xd74c), 0x48);
        // CB 48 03CE
        gbc.setState(0xb3bb, 0x7dfd, 0x64a0, 0x1a6e, 0xbe8a, 0x2338, 0x1, 0x1);
        gbc.writeMem(0xb3bb, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7dfd);
        EXPECT(gbc.pc(), 0xb3bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3bb), 0xcb);
        EXPECT(gbc.readMem(0xb3bc), 0x48);
        // CB 48 03CF
        gbc.setState(0x5e29, 0x52e5, 0xd580, 0x13fa, 0xb3eb, 0x27f5, 0x0, 0x1);
        gbc.writeMem(0x5e29, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x52e5);
        EXPECT(gbc.pc(), 0x5e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03D0
        gbc.setState(0x742c, 0x778a, 0xf580, 0xdf8a, 0x55c, 0xe09c, 0x0, 0x1);
        gbc.writeMem(0x742c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x778a);
        EXPECT(gbc.pc(), 0x742e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03D1
        gbc.setState(0x18b9, 0x2ab9, 0x8890, 0xda8b, 0x7cf5, 0x2a92, 0x0, 0x1);
        gbc.writeMem(0x18b9, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2ab9);
        EXPECT(gbc.pc(), 0x18bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03D2
        gbc.setState(0xea95, 0x6293, 0xdc60, 0xdbed, 0x1fac, 0xd93, 0x0, 0x1);
        gbc.writeMem(0xea95, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6293);
        EXPECT(gbc.pc(), 0xea97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea95), 0xcb);
        EXPECT(gbc.readMem(0xea96), 0x48);
        // CB 48 03D3
        gbc.setState(0x7995, 0x322e, 0xe340, 0x58cd, 0xc79c, 0x5af6, 0x0, 0x1);
        gbc.writeMem(0x7995, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x322e);
        EXPECT(gbc.pc(), 0x7997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03D4
        gbc.setState(0xa076, 0x5200, 0x1a40, 0x605e, 0x868e, 0xd3c, 0x1, 0x1);
        gbc.writeMem(0xa076, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5200);
        EXPECT(gbc.pc(), 0xa078);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa076), 0xcb);
        EXPECT(gbc.readMem(0xa077), 0x48);
        // CB 48 03D5
        gbc.setState(0x7754, 0xe0b8, 0xd320, 0xad80, 0xe5eb, 0x803f, 0x1, 0x0);
        gbc.writeMem(0x7754, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe0b8);
        EXPECT(gbc.pc(), 0x7756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03D6
        gbc.setState(0xcbf0, 0xac34, 0xc6d0, 0xe2b, 0x86bb, 0x99b6, 0x0, 0x0);
        gbc.writeMem(0xcbf0, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xac34);
        EXPECT(gbc.pc(), 0xcbf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbf0), 0xcb);
        EXPECT(gbc.readMem(0xcbf1), 0x48);
        // CB 48 03D7
        gbc.setState(0x331f, 0xd923, 0xb810, 0x8104, 0xb3a0, 0xc2f6, 0x1, 0x0);
        gbc.writeMem(0x331f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xd923);
        EXPECT(gbc.pc(), 0x3321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03D8
        gbc.setState(0xcf6f, 0x5006, 0x5310, 0x71ad, 0xf30, 0x1d6a, 0x1, 0x0);
        gbc.writeMem(0xcf6f, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5006);
        EXPECT(gbc.pc(), 0xcf71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf6f), 0xcb);
        EXPECT(gbc.readMem(0xcf70), 0x48);
        // CB 48 03D9
        gbc.setState(0x779c, 0x39fc, 0x7a30, 0x7440, 0xd439, 0x5725, 0x0, 0x1);
        gbc.writeMem(0x779c, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x39fc);
        EXPECT(gbc.pc(), 0x779e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03DA
        gbc.setState(0x4df1, 0x255a, 0x6b40, 0x42c1, 0xf1ef, 0x773d, 0x1, 0x0);
        gbc.writeMem(0x4df1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x255a);
        EXPECT(gbc.pc(), 0x4df3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03DB
        gbc.setState(0x2162, 0xf529, 0x4e40, 0x321, 0xe9d5, 0xa8e9, 0x1, 0x1);
        gbc.writeMem(0x2162, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf529);
        EXPECT(gbc.pc(), 0x2164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03DC
        gbc.setState(0xc4e6, 0x93df, 0x4870, 0xb3b2, 0xe1a2, 0xe812, 0x0, 0x0);
        gbc.writeMem(0xc4e6, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x93df);
        EXPECT(gbc.pc(), 0xc4e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4e6), 0xcb);
        EXPECT(gbc.readMem(0xc4e7), 0x48);
        // CB 48 03DD
        gbc.setState(0x9f8d, 0xd81e, 0xc7b0, 0x7396, 0x4315, 0x7e14, 0x1, 0x0);
        gbc.writeMem(0x9f8d, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd81e);
        EXPECT(gbc.pc(), 0x9f8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f8d), 0xcb);
        EXPECT(gbc.readMem(0x9f8e), 0x48);
        // CB 48 03DE
        gbc.setState(0x6ce1, 0x1f4b, 0xba30, 0xb6e5, 0x1693, 0x76ad, 0x1, 0x0);
        gbc.writeMem(0x6ce1, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1f4b);
        EXPECT(gbc.pc(), 0x6ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03DF
        gbc.setState(0x4f07, 0x45a5, 0xd30, 0x521d, 0xb26b, 0xf54e, 0x1, 0x1);
        gbc.writeMem(0x4f07, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x45a5);
        EXPECT(gbc.pc(), 0x4f09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03E0
        gbc.setState(0x5b50, 0xe0e8, 0x4f80, 0x4ec8, 0xaec5, 0xc45, 0x1, 0x1);
        gbc.writeMem(0x5b50, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe0e8);
        EXPECT(gbc.pc(), 0x5b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03E1
        gbc.setState(0x6697, 0x5914, 0x1130, 0x6e13, 0xbb7, 0x1784, 0x1, 0x1);
        gbc.writeMem(0x6697, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5914);
        EXPECT(gbc.pc(), 0x6699);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 48 03E2
        gbc.setState(0xeb98, 0x8c14, 0xcca0, 0xcb32, 0x96c3, 0xa049, 0x1, 0x0);
        gbc.writeMem(0xeb98, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8c14);
        EXPECT(gbc.pc(), 0xeb9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb98), 0xcb);
        EXPECT(gbc.readMem(0xeb99), 0x48);
        // CB 48 03E3
        gbc.setState(0x3ad3, 0x17eb, 0x4560, 0xabf9, 0xba11, 0x7451, 0x1, 0x0);
        gbc.writeMem(0x3ad3, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x17eb);
        EXPECT(gbc.pc(), 0x3ad5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03E4
        gbc.setState(0x5078, 0x8971, 0x1fe0, 0x85da, 0xfc65, 0xffc9, 0x0, 0x1);
        gbc.writeMem(0x5078, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8971);
        EXPECT(gbc.pc(), 0x507a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03E5
        gbc.setState(0x243, 0x9d7c, 0xf6a0, 0x9d1a, 0x14d1, 0x21c1, 0x1, 0x0);
        gbc.writeMem(0x243, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x9d7c);
        EXPECT(gbc.pc(), 0x245);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 48 03E6
        gbc.setState(0x8a74, 0xcbf4, 0x6ca0, 0x482e, 0xb39f, 0x8bf9, 0x0, 0x1);
        gbc.writeMem(0x8a74, { 0xcb, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xcbf4);
        EXPECT(gbc.pc(), 0x8a76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a74), 0xcb);
        EXPECT(gbc.readMem(0x8a75), 0x48);
    }
