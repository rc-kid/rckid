    TEST(gbcemu, opcode_f6) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // F6 0001
        gbc.setState(0x5af3, 0x5edb, 0x1260, 0x727d, 0xad2f, 0xe04a, 0x0, 0x1);
        gbc.writeMem(0x5af3, { 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x5edb);
        EXPECT(gbc.pc(), 0x5af5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0002
        gbc.setState(0x4d3d, 0xdfc3, 0x2e30, 0x5e06, 0x8e7e, 0xcdef, 0x0, 0x0);
        gbc.writeMem(0x4d3d, { 0xf6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdfc3);
        EXPECT(gbc.pc(), 0x4d3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0003
        gbc.setState(0x4be6, 0x86c6, 0x84f0, 0x3586, 0xc43d, 0x2000, 0x1, 0x1);
        gbc.writeMem(0x4be6, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x86c6);
        EXPECT(gbc.pc(), 0x4be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0004
        gbc.setState(0x6e39, 0x5ab3, 0xde30, 0x967a, 0x9dc1, 0xe237, 0x1, 0x1);
        gbc.writeMem(0x6e39, { 0xf6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5ab3);
        EXPECT(gbc.pc(), 0x6e3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0005
        gbc.setState(0x5670, 0x6c07, 0xc860, 0x7adf, 0x289f, 0x7f38, 0x0, 0x0);
        gbc.writeMem(0x5670, { 0xf6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x6c07);
        EXPECT(gbc.pc(), 0x5672);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0006
        gbc.setState(0xe158, 0x970f, 0xf940, 0xb2e6, 0xaef5, 0xbb21, 0x0, 0x0);
        gbc.writeMem(0xe158, { 0xf6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x970f);
        EXPECT(gbc.pc(), 0xe15a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe158), 0xf6);
        EXPECT(gbc.readMem(0xe159), 0xc5);
        // F6 0008
        gbc.setState(0x4cb9, 0xe045, 0xe290, 0x756c, 0x281d, 0xa6d4, 0x1, 0x1);
        gbc.writeMem(0x4cb9, { 0xf6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe045);
        EXPECT(gbc.pc(), 0x4cbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0009
        gbc.setState(0x793, 0x89cd, 0xa850, 0x20b2, 0xb813, 0x7cb1, 0x1, 0x1);
        gbc.writeMem(0x793, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x89cd);
        EXPECT(gbc.pc(), 0x795);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 000A
        gbc.setState(0xa8e6, 0x1a07, 0xa3d0, 0xe84d, 0xb9cb, 0x5014, 0x0, 0x1);
        gbc.writeMem(0xa8e6, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x1a07);
        EXPECT(gbc.pc(), 0xa8e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8e6), 0xf6);
        EXPECT(gbc.readMem(0xa8e7), 0x6c);
        // F6 000B
        gbc.setState(0x434, 0xc981, 0x41e0, 0xc99e, 0x2e55, 0x4a9d, 0x0, 0x0);
        gbc.writeMem(0x434, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xc981);
        EXPECT(gbc.pc(), 0x436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 000C
        gbc.setState(0x8142, 0xc6e6, 0x37b0, 0x7eaf, 0x23ea, 0x492f, 0x0, 0x0);
        gbc.writeMem(0x8142, { 0xf6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc6e6);
        EXPECT(gbc.pc(), 0x8144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8142), 0xf6);
        EXPECT(gbc.readMem(0x8143), 0x82);
        // F6 000D
        gbc.setState(0x85ed, 0xd45c, 0x5990, 0x1692, 0x9b05, 0x2ce2, 0x0, 0x0);
        gbc.writeMem(0x85ed, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd45c);
        EXPECT(gbc.pc(), 0x85ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ed), 0xf6);
        EXPECT(gbc.readMem(0x85ee), 0x8e);
        // F6 000E
        gbc.setState(0x8ca, 0x760e, 0xfca0, 0x1a98, 0x829c, 0x6cef, 0x0, 0x1);
        gbc.writeMem(0x8ca, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x760e);
        EXPECT(gbc.pc(), 0x8cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 000F
        gbc.setState(0xc41c, 0xb004, 0xa080, 0x4a1d, 0x74ef, 0x68e0, 0x0, 0x1);
        gbc.writeMem(0xc41c, { 0xf6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xb004);
        EXPECT(gbc.pc(), 0xc41e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc41c), 0xf6);
        EXPECT(gbc.readMem(0xc41d), 0xde);
        // F6 0010
        gbc.setState(0xaabb, 0x8326, 0x56a0, 0x491f, 0x7b71, 0x6c34, 0x0, 0x1);
        gbc.writeMem(0xaabb, { 0xf6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x8326);
        EXPECT(gbc.pc(), 0xaabd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaabb), 0xf6);
        EXPECT(gbc.readMem(0xaabc), 0xd0);
        // F6 0011
        gbc.setState(0x7c7e, 0x5a0e, 0xb4f0, 0x3a2c, 0x6ed1, 0x8650, 0x0, 0x0);
        gbc.writeMem(0x7c7e, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5a0e);
        EXPECT(gbc.pc(), 0x7c80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0012
        gbc.setState(0x6df6, 0x46ca, 0xc1b0, 0xea2e, 0x8b6b, 0x81be, 0x0, 0x0);
        gbc.writeMem(0x6df6, { 0xf6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x46ca);
        EXPECT(gbc.pc(), 0x6df8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0013
        gbc.setState(0x76b0, 0x6dfe, 0x3930, 0xd186, 0x48ae, 0xbcd8, 0x0, 0x1);
        gbc.writeMem(0x76b0, { 0xf6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6dfe);
        EXPECT(gbc.pc(), 0x76b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0014
        gbc.setState(0xa146, 0x317, 0xbaa0, 0xd25e, 0x97f8, 0x403e, 0x0, 0x1);
        gbc.writeMem(0xa146, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x317);
        EXPECT(gbc.pc(), 0xa148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa146), 0xf6);
        EXPECT(gbc.readMem(0xa147), 0xf6);
        // F6 0015
        gbc.setState(0x175b, 0x517, 0xaf60, 0x5756, 0x9bb2, 0x11d, 0x1, 0x1);
        gbc.writeMem(0x175b, { 0xf6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x517);
        EXPECT(gbc.pc(), 0x175d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0016
        gbc.setState(0x6b1, 0xcfd6, 0x8900, 0xe33f, 0xee9c, 0xd401, 0x1, 0x0);
        gbc.writeMem(0x6b1, { 0xf6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xcfd6);
        EXPECT(gbc.pc(), 0x6b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0017
        gbc.setState(0x8e3b, 0x411c, 0x3c10, 0x14c3, 0x6160, 0xed19, 0x1, 0x0);
        gbc.writeMem(0x8e3b, { 0xf6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x411c);
        EXPECT(gbc.pc(), 0x8e3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e3b), 0xf6);
        EXPECT(gbc.readMem(0x8e3c), 0xa8);
        // F6 0018
        gbc.setState(0x6ea2, 0x1572, 0x9de0, 0xd305, 0x1fa5, 0x7f42, 0x0, 0x0);
        gbc.writeMem(0x6ea2, { 0xf6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1572);
        EXPECT(gbc.pc(), 0x6ea4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0019
        gbc.setState(0x756a, 0xc099, 0x1db0, 0x9523, 0xf1b8, 0xb42f, 0x1, 0x1);
        gbc.writeMem(0x756a, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc099);
        EXPECT(gbc.pc(), 0x756c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 001A
        gbc.setState(0x78b2, 0xedac, 0x7cf0, 0x5293, 0x1673, 0xd2d7, 0x0, 0x1);
        gbc.writeMem(0x78b2, { 0xf6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xedac);
        EXPECT(gbc.pc(), 0x78b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 001B
        gbc.setState(0x1c40, 0x7ed1, 0x8350, 0x5b3b, 0xe564, 0x40b0, 0x0, 0x0);
        gbc.writeMem(0x1c40, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7ed1);
        EXPECT(gbc.pc(), 0x1c42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 001C
        gbc.setState(0x61e4, 0xd4c7, 0xc4c0, 0x5e1a, 0xab7e, 0x1b7, 0x0, 0x0);
        gbc.writeMem(0x61e4, { 0xf6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd4c7);
        EXPECT(gbc.pc(), 0x61e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 001D
        gbc.setState(0xdc5a, 0x469, 0x6690, 0xd627, 0xa715, 0x5985, 0x0, 0x0);
        gbc.writeMem(0xdc5a, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x469);
        EXPECT(gbc.pc(), 0xdc5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5a), 0xf6);
        EXPECT(gbc.readMem(0xdc5b), 0x8e);
        // F6 001E
        gbc.setState(0x9630, 0xa828, 0xdcf0, 0x9c9a, 0x519a, 0xe624, 0x1, 0x1);
        gbc.writeMem(0x9630, { 0xf6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa828);
        EXPECT(gbc.pc(), 0x9632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9630), 0xf6);
        EXPECT(gbc.readMem(0x9631), 0x13);
        // F6 001F
        gbc.setState(0x32c0, 0x3e99, 0xbe0, 0x6ca6, 0x8a60, 0x9f6b, 0x0, 0x0);
        gbc.writeMem(0x32c0, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3e99);
        EXPECT(gbc.pc(), 0x32c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0020
        gbc.setState(0x8df8, 0x19f3, 0xd5d0, 0x64e4, 0x4e15, 0x52c7, 0x1, 0x0);
        gbc.writeMem(0x8df8, { 0xf6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x19f3);
        EXPECT(gbc.pc(), 0x8dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df8), 0xf6);
        EXPECT(gbc.readMem(0x8df9), 0xf3);
        // F6 0021
        gbc.setState(0x6e87, 0x1b0d, 0xfca0, 0x6c, 0x4a4d, 0xb4a8, 0x1, 0x0);
        gbc.writeMem(0x6e87, { 0xf6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1b0d);
        EXPECT(gbc.pc(), 0x6e89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0022
        gbc.setState(0x86f3, 0xd760, 0xc290, 0xb96, 0x319b, 0x6794, 0x0, 0x0);
        gbc.writeMem(0x86f3, { 0xf6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd760);
        EXPECT(gbc.pc(), 0x86f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f3), 0xf6);
        EXPECT(gbc.readMem(0x86f4), 0x34);
        // F6 0024
        gbc.setState(0x8284, 0x2186, 0x4840, 0x528e, 0x3ae1, 0xe034, 0x0, 0x0);
        gbc.writeMem(0x8284, { 0xf6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2186);
        EXPECT(gbc.pc(), 0x8286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8284), 0xf6);
        EXPECT(gbc.readMem(0x8285), 0xce);
        // F6 0025
        gbc.setState(0xb05, 0x4f66, 0x29e0, 0xb7b4, 0x1006, 0x174, 0x0, 0x0);
        gbc.writeMem(0xb05, { 0xf6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x4f66);
        EXPECT(gbc.pc(), 0xb07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0026
        gbc.setState(0x6b3, 0xeaad, 0x2300, 0xfbef, 0xcdd6, 0x5570, 0x1, 0x1);
        gbc.writeMem(0x6b3, { 0xf6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xeaad);
        EXPECT(gbc.pc(), 0x6b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0027
        gbc.setState(0xb221, 0xa731, 0x5f90, 0x3052, 0xd4e0, 0x5e6, 0x0, 0x1);
        gbc.writeMem(0xb221, { 0xf6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xa731);
        EXPECT(gbc.pc(), 0xb223);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb221), 0xf6);
        EXPECT(gbc.readMem(0xb222), 0x23);
        // F6 0028
        gbc.setState(0x472d, 0xbffb, 0xa750, 0x60a7, 0x4b3f, 0x3c1e, 0x0, 0x1);
        gbc.writeMem(0x472d, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xbffb);
        EXPECT(gbc.pc(), 0x472f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0029
        gbc.setState(0x7771, 0xa706, 0xba0, 0x4151, 0xad12, 0xce0, 0x0, 0x1);
        gbc.writeMem(0x7771, { 0xf6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa706);
        EXPECT(gbc.pc(), 0x7773);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 002A
        gbc.setState(0x957d, 0x566d, 0xba70, 0xa4a, 0xfcf0, 0xc32c, 0x1, 0x1);
        gbc.writeMem(0x957d, { 0xf6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x566d);
        EXPECT(gbc.pc(), 0x957f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x957d), 0xf6);
        EXPECT(gbc.readMem(0x957e), 0xda);
        // F6 002B
        gbc.setState(0xba90, 0x42c8, 0x22e0, 0x4733, 0x71d2, 0xe519, 0x1, 0x1);
        gbc.writeMem(0xba90, { 0xf6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x42c8);
        EXPECT(gbc.pc(), 0xba92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba90), 0xf6);
        EXPECT(gbc.readMem(0xba91), 0x16);
        // F6 002C
        gbc.setState(0xc5aa, 0x9155, 0x5690, 0x3677, 0xa831, 0x277e, 0x0, 0x0);
        gbc.writeMem(0xc5aa, { 0xf6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x9155);
        EXPECT(gbc.pc(), 0xc5ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5aa), 0xf6);
        EXPECT(gbc.readMem(0xc5ab), 0xc6);
        // F6 002D
        gbc.setState(0xa0ed, 0xa8a6, 0x8c50, 0xfc67, 0xec8f, 0x4648, 0x0, 0x1);
        gbc.writeMem(0xa0ed, { 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa8a6);
        EXPECT(gbc.pc(), 0xa0ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ed), 0xf6);
        EXPECT(gbc.readMem(0xa0ee), 0xbc);
        // F6 002F
        gbc.setState(0xedb3, 0xa341, 0x28f0, 0x847c, 0x37e2, 0xbc87, 0x1, 0x0);
        gbc.writeMem(0xedb3, { 0xf6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa341);
        EXPECT(gbc.pc(), 0xedb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedb3), 0xf6);
        EXPECT(gbc.readMem(0xedb4), 0x61);
        // F6 0030
        gbc.setState(0x8321, 0x4821, 0x7b10, 0xd8c, 0xbbf3, 0x997e, 0x0, 0x0);
        gbc.writeMem(0x8321, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4821);
        EXPECT(gbc.pc(), 0x8323);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8321), 0xf6);
        EXPECT(gbc.readMem(0x8322), 0x75);
        // F6 0031
        gbc.setState(0x8ef7, 0xcef1, 0x2670, 0x5c5b, 0x2b8b, 0xeee3, 0x0, 0x1);
        gbc.writeMem(0x8ef7, { 0xf6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xcef1);
        EXPECT(gbc.pc(), 0x8ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ef7), 0xf6);
        EXPECT(gbc.readMem(0x8ef8), 0xbf);
        // F6 0032
        gbc.setState(0xc63a, 0xc415, 0x39d0, 0xa76e, 0x980b, 0xe66e, 0x0, 0x1);
        gbc.writeMem(0xc63a, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xc415);
        EXPECT(gbc.pc(), 0xc63c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc63a), 0xf6);
        EXPECT(gbc.readMem(0xc63b), 0x42);
        // F6 0033
        gbc.setState(0x7d4e, 0xb0b0, 0x7e30, 0xab51, 0x69a7, 0xb6d4, 0x0, 0x1);
        gbc.writeMem(0x7d4e, { 0xf6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb0b0);
        EXPECT(gbc.pc(), 0x7d50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0034
        gbc.setState(0x167f, 0x62f8, 0x4620, 0xa227, 0x68d6, 0x88cd, 0x0, 0x1);
        gbc.writeMem(0x167f, { 0xf6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x62f8);
        EXPECT(gbc.pc(), 0x1681);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0035
        gbc.setState(0x78c6, 0x3129, 0xa760, 0xbde3, 0xe21b, 0x5169, 0x0, 0x0);
        gbc.writeMem(0x78c6, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3129);
        EXPECT(gbc.pc(), 0x78c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0036
        gbc.setState(0xa698, 0x3cf6, 0xfcb0, 0x507b, 0xdf75, 0x71bc, 0x1, 0x0);
        gbc.writeMem(0xa698, { 0xf6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x3cf6);
        EXPECT(gbc.pc(), 0xa69a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa698), 0xf6);
        EXPECT(gbc.readMem(0xa699), 0xbb);
        // F6 0037
        gbc.setState(0x2a6b, 0x35b4, 0x4490, 0xed49, 0xd2a6, 0xefa2, 0x1, 0x0);
        gbc.writeMem(0x2a6b, { 0xf6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x35b4);
        EXPECT(gbc.pc(), 0x2a6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0038
        gbc.setState(0xd930, 0x5709, 0x13c0, 0x4be4, 0xdb6f, 0xa26b, 0x0, 0x1);
        gbc.writeMem(0xd930, { 0xf6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5709);
        EXPECT(gbc.pc(), 0xd932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd930), 0xf6);
        EXPECT(gbc.readMem(0xd931), 0xc9);
        // F6 0039
        gbc.setState(0x88b, 0x2f0a, 0xcf00, 0x44b3, 0xae2e, 0xad2, 0x1, 0x0);
        gbc.writeMem(0x88b, { 0xf6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2f0a);
        EXPECT(gbc.pc(), 0x88d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003A
        gbc.setState(0x4584, 0xe35e, 0x9c60, 0x4dac, 0x2541, 0x2e31, 0x1, 0x1);
        gbc.writeMem(0x4584, { 0xf6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe35e);
        EXPECT(gbc.pc(), 0x4586);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003B
        gbc.setState(0x7e08, 0x9259, 0x7650, 0xbedb, 0x154b, 0x8dbd, 0x1, 0x1);
        gbc.writeMem(0x7e08, { 0xf6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9259);
        EXPECT(gbc.pc(), 0x7e0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003C
        gbc.setState(0x550e, 0x2241, 0xa060, 0xdf3e, 0xd2c7, 0x3dea, 0x0, 0x0);
        gbc.writeMem(0x550e, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2241);
        EXPECT(gbc.pc(), 0x5510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003D
        gbc.setState(0x53b6, 0x468d, 0x2230, 0x79d5, 0x2a91, 0x4a28, 0x1, 0x0);
        gbc.writeMem(0x53b6, { 0xf6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x468d);
        EXPECT(gbc.pc(), 0x53b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003E
        gbc.setState(0x149d, 0xcbd0, 0xb9e0, 0xb911, 0x2b49, 0x4713, 0x1, 0x1);
        gbc.writeMem(0x149d, { 0xf6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcbd0);
        EXPECT(gbc.pc(), 0x149f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 003F
        gbc.setState(0xa9f4, 0x136b, 0xcf50, 0x6c8d, 0xd98a, 0xc92f, 0x0, 0x0);
        gbc.writeMem(0xa9f4, { 0xf6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x136b);
        EXPECT(gbc.pc(), 0xa9f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9f4), 0xf6);
        EXPECT(gbc.readMem(0xa9f5), 0x38);
        // F6 0040
        gbc.setState(0x80dd, 0x3f98, 0x95f0, 0xe0ae, 0x85a7, 0xd62e, 0x1, 0x0);
        gbc.writeMem(0x80dd, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3f98);
        EXPECT(gbc.pc(), 0x80df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80dd), 0xf6);
        EXPECT(gbc.readMem(0x80de), 0xe2);
        // F6 0041
        gbc.setState(0x2a33, 0x5e3b, 0x69c0, 0x5b88, 0x5f1c, 0xea82, 0x1, 0x0);
        gbc.writeMem(0x2a33, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5e3b);
        EXPECT(gbc.pc(), 0x2a35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0042
        gbc.setState(0x1db0, 0xddca, 0x3b00, 0x5dfa, 0xbf6f, 0x340c, 0x0, 0x0);
        gbc.writeMem(0x1db0, { 0xf6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xddca);
        EXPECT(gbc.pc(), 0x1db2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0043
        gbc.setState(0x872d, 0xcf64, 0x6a80, 0xae3, 0x6b17, 0xe792, 0x0, 0x0);
        gbc.writeMem(0x872d, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xcf64);
        EXPECT(gbc.pc(), 0x872f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x872d), 0xf6);
        EXPECT(gbc.readMem(0x872e), 0x1b);
        // F6 0044
        gbc.setState(0x7740, 0x251f, 0xf0e0, 0x24f2, 0x742e, 0x9be3, 0x0, 0x1);
        gbc.writeMem(0x7740, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x251f);
        EXPECT(gbc.pc(), 0x7742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0045
        gbc.setState(0x756, 0xcd17, 0xb630, 0xd146, 0x53f4, 0xb263, 0x0, 0x1);
        gbc.writeMem(0x756, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xcd17);
        EXPECT(gbc.pc(), 0x758);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0046
        gbc.setState(0x2d12, 0x5d22, 0xa160, 0x49f9, 0xbeff, 0x1e10, 0x0, 0x0);
        gbc.writeMem(0x2d12, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5d22);
        EXPECT(gbc.pc(), 0x2d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0047
        gbc.setState(0x1594, 0xc56e, 0x8380, 0x1527, 0x9601, 0x34d6, 0x0, 0x1);
        gbc.writeMem(0x1594, { 0xf6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc56e);
        EXPECT(gbc.pc(), 0x1596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0048
        gbc.setState(0x384, 0x649b, 0x1ae0, 0x1af, 0xe75d, 0xeb81, 0x0, 0x0);
        gbc.writeMem(0x384, { 0xf6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x649b);
        EXPECT(gbc.pc(), 0x386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0049
        gbc.setState(0x3e62, 0x5f73, 0x1500, 0xe244, 0x7788, 0xa81b, 0x1, 0x0);
        gbc.writeMem(0x3e62, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x5f73);
        EXPECT(gbc.pc(), 0x3e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 004A
        gbc.setState(0x505, 0x9901, 0x78d0, 0x448d, 0x9b88, 0xacee, 0x1, 0x0);
        gbc.writeMem(0x505, { 0xf6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9901);
        EXPECT(gbc.pc(), 0x507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 004B
        gbc.setState(0xa007, 0x1be4, 0x7000, 0x713, 0x65d6, 0x28fe, 0x1, 0x0);
        gbc.writeMem(0xa007, { 0xf6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1be4);
        EXPECT(gbc.pc(), 0xa009);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa007), 0xf6);
        EXPECT(gbc.readMem(0xa008), 0xe0);
        // F6 004C
        gbc.setState(0x2a67, 0xcf58, 0xe40, 0xa5ef, 0xd79c, 0x9f21, 0x1, 0x1);
        gbc.writeMem(0x2a67, { 0xf6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xcf58);
        EXPECT(gbc.pc(), 0x2a69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 004D
        gbc.setState(0x523d, 0x9dba, 0xdb60, 0xc210, 0x202f, 0x5c04, 0x1, 0x1);
        gbc.writeMem(0x523d, { 0xf6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9dba);
        EXPECT(gbc.pc(), 0x523f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 004E
        gbc.setState(0x4cae, 0x4f1e, 0x7710, 0xa742, 0x3b4a, 0xbdb2, 0x1, 0x0);
        gbc.writeMem(0x4cae, { 0xf6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4f1e);
        EXPECT(gbc.pc(), 0x4cb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 004F
        gbc.setState(0x33c4, 0xb439, 0x7230, 0x3f9f, 0x828f, 0x892e, 0x1, 0x1);
        gbc.writeMem(0x33c4, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb439);
        EXPECT(gbc.pc(), 0x33c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0050
        gbc.setState(0x439e, 0x28d2, 0x9a10, 0x1943, 0xd81, 0x77f0, 0x1, 0x0);
        gbc.writeMem(0x439e, { 0xf6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x28d2);
        EXPECT(gbc.pc(), 0x43a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0051
        gbc.setState(0xb147, 0x3ade, 0xe3d0, 0x26c2, 0x9108, 0x2ef7, 0x0, 0x0);
        gbc.writeMem(0xb147, { 0xf6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3ade);
        EXPECT(gbc.pc(), 0xb149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb147), 0xf6);
        EXPECT(gbc.readMem(0xb148), 0x83);
        // F6 0052
        gbc.setState(0xdbe6, 0xf4b, 0x8cf0, 0xe216, 0x19ba, 0x70bb, 0x0, 0x1);
        gbc.writeMem(0xdbe6, { 0xf6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf4b);
        EXPECT(gbc.pc(), 0xdbe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbe6), 0xf6);
        EXPECT(gbc.readMem(0xdbe7), 0x53);
        // F6 0053
        gbc.setState(0x6de7, 0x6f59, 0xa970, 0xdebd, 0xd858, 0xb556, 0x0, 0x0);
        gbc.writeMem(0x6de7, { 0xf6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6f59);
        EXPECT(gbc.pc(), 0x6de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0054
        gbc.setState(0xcc2, 0x62bf, 0x1640, 0xfe17, 0x4bea, 0x87f5, 0x1, 0x0);
        gbc.writeMem(0xcc2, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x62bf);
        EXPECT(gbc.pc(), 0xcc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0056
        gbc.setState(0x1da9, 0xad1b, 0xfac0, 0x4489, 0x6def, 0xdff0, 0x1, 0x1);
        gbc.writeMem(0x1da9, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xad1b);
        EXPECT(gbc.pc(), 0x1dab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0057
        gbc.setState(0x4657, 0xa4bc, 0xdba0, 0xb4c4, 0xf72e, 0x8fc1, 0x1, 0x1);
        gbc.writeMem(0x4657, { 0xf6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa4bc);
        EXPECT(gbc.pc(), 0x4659);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0058
        gbc.setState(0x62a, 0xfb30, 0xacf0, 0xae87, 0x894b, 0xe24, 0x0, 0x1);
        gbc.writeMem(0x62a, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfb30);
        EXPECT(gbc.pc(), 0x62c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0059
        gbc.setState(0xb7db, 0x30fc, 0xdbb0, 0xe35c, 0x5d75, 0x6b0, 0x1, 0x0);
        gbc.writeMem(0xb7db, { 0xf6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x30fc);
        EXPECT(gbc.pc(), 0xb7dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7db), 0xf6);
        EXPECT(gbc.readMem(0xb7dc), 0x6f);
        // F6 005A
        gbc.setState(0x95d9, 0xd438, 0x4610, 0xeabd, 0xa38c, 0xb3d7, 0x0, 0x0);
        gbc.writeMem(0x95d9, { 0xf6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd438);
        EXPECT(gbc.pc(), 0x95db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95d9), 0xf6);
        EXPECT(gbc.readMem(0x95da), 0xc3);
        // F6 005B
        gbc.setState(0x670a, 0xe2b4, 0xf1c0, 0x9ecd, 0xeea8, 0xddf5, 0x0, 0x0);
        gbc.writeMem(0x670a, { 0xf6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe2b4);
        EXPECT(gbc.pc(), 0x670c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 005C
        gbc.setState(0x2f00, 0xb1de, 0xdbe0, 0xcb99, 0x41f5, 0x1f6d, 0x1, 0x0);
        gbc.writeMem(0x2f00, { 0xf6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb1de);
        EXPECT(gbc.pc(), 0x2f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 005D
        gbc.setState(0x8888, 0xc779, 0x6d10, 0x6945, 0x16c9, 0xe690, 0x0, 0x0);
        gbc.writeMem(0x8888, { 0xf6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc779);
        EXPECT(gbc.pc(), 0x888a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8888), 0xf6);
        EXPECT(gbc.readMem(0x8889), 0x35);
        // F6 005E
        gbc.setState(0x8889, 0xeee2, 0x9880, 0x9e7, 0x1280, 0x956b, 0x1, 0x1);
        gbc.writeMem(0x8889, { 0xf6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xeee2);
        EXPECT(gbc.pc(), 0x888b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8889), 0xf6);
        EXPECT(gbc.readMem(0x888a), 0x5d);
        // F6 005F
        gbc.setState(0x4d9e, 0x2af5, 0x370, 0x291, 0x846f, 0xa161, 0x1, 0x0);
        gbc.writeMem(0x4d9e, { 0xf6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x2af5);
        EXPECT(gbc.pc(), 0x4da0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0060
        gbc.setState(0x7394, 0x395e, 0xa720, 0xa6d6, 0x2aac, 0xe294, 0x0, 0x1);
        gbc.writeMem(0x7394, { 0xf6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x395e);
        EXPECT(gbc.pc(), 0x7396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0061
        gbc.setState(0x6c24, 0x6c1a, 0xcc90, 0x58bf, 0xc332, 0x6b73, 0x0, 0x1);
        gbc.writeMem(0x6c24, { 0xf6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6c1a);
        EXPECT(gbc.pc(), 0x6c26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0062
        gbc.setState(0xad28, 0x7e0d, 0x7700, 0x8f25, 0x9c9d, 0x400a, 0x1, 0x0);
        gbc.writeMem(0xad28, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7e0d);
        EXPECT(gbc.pc(), 0xad2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad28), 0xf6);
        EXPECT(gbc.readMem(0xad29), 0x52);
        // F6 0063
        gbc.setState(0x2e7c, 0x6e1c, 0xc920, 0x2a69, 0x7080, 0xfb86, 0x1, 0x0);
        gbc.writeMem(0x2e7c, { 0xf6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6e1c);
        EXPECT(gbc.pc(), 0x2e7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0064
        gbc.setState(0xe4cb, 0x3418, 0x6960, 0xa3f4, 0x9126, 0x44cf, 0x1, 0x1);
        gbc.writeMem(0xe4cb, { 0xf6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3418);
        EXPECT(gbc.pc(), 0xe4cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4cb), 0xf6);
        EXPECT(gbc.readMem(0xe4cc), 0x11);
        // F6 0066
        gbc.setState(0x3a40, 0x9758, 0x7230, 0x5ff6, 0x8d50, 0x37d0, 0x0, 0x0);
        gbc.writeMem(0x3a40, { 0xf6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9758);
        EXPECT(gbc.pc(), 0x3a42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0067
        gbc.setState(0x1537, 0x7155, 0x3720, 0x14f9, 0x47a4, 0x2f18, 0x1, 0x1);
        gbc.writeMem(0x1537, { 0xf6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x7155);
        EXPECT(gbc.pc(), 0x1539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0068
        gbc.setState(0x825c, 0xbc92, 0xec40, 0x7055, 0x7834, 0x8909, 0x1, 0x0);
        gbc.writeMem(0x825c, { 0xf6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xbc92);
        EXPECT(gbc.pc(), 0x825e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x825c), 0xf6);
        EXPECT(gbc.readMem(0x825d), 0x15);
        // F6 0069
        gbc.setState(0xcac2, 0x7c3c, 0xbe10, 0x95e8, 0xaab2, 0x875d, 0x1, 0x0);
        gbc.writeMem(0xcac2, { 0xf6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7c3c);
        EXPECT(gbc.pc(), 0xcac4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcac2), 0xf6);
        EXPECT(gbc.readMem(0xcac3), 0x5b);
        // F6 006B
        gbc.setState(0x858b, 0xf7ad, 0x2040, 0x9a3b, 0xdd1e, 0x1356, 0x1, 0x0);
        gbc.writeMem(0x858b, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf7ad);
        EXPECT(gbc.pc(), 0x858d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x858b), 0xf6);
        EXPECT(gbc.readMem(0x858c), 0x1b);
        // F6 006C
        gbc.setState(0xa09c, 0x90cf, 0xc240, 0xcc60, 0x420, 0x127b, 0x1, 0x0);
        gbc.writeMem(0xa09c, { 0xf6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x90cf);
        EXPECT(gbc.pc(), 0xa09e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa09c), 0xf6);
        EXPECT(gbc.readMem(0xa09d), 0xf);
        // F6 006D
        gbc.setState(0x4c51, 0x3ebe, 0xc760, 0x9221, 0xec7, 0x77fd, 0x0, 0x0);
        gbc.writeMem(0x4c51, { 0xf6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3ebe);
        EXPECT(gbc.pc(), 0x4c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 006E
        gbc.setState(0x9a1f, 0x3d4b, 0x2e80, 0xba1e, 0xfa3a, 0xf576, 0x1, 0x1);
        gbc.writeMem(0x9a1f, { 0xf6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3d4b);
        EXPECT(gbc.pc(), 0x9a21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a1f), 0xf6);
        EXPECT(gbc.readMem(0x9a20), 0x4b);
        // F6 006F
        gbc.setState(0x1774, 0xab94, 0x8000, 0x7a8a, 0x991b, 0x9183, 0x0, 0x0);
        gbc.writeMem(0x1774, { 0xf6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xab94);
        EXPECT(gbc.pc(), 0x1776);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0070
        gbc.setState(0x40d, 0x411a, 0xd640, 0x55a0, 0x26ca, 0x22a, 0x0, 0x0);
        gbc.writeMem(0x40d, { 0xf6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x411a);
        EXPECT(gbc.pc(), 0x40f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0071
        gbc.setState(0x3f2, 0x2a0e, 0x2210, 0x7637, 0x4b46, 0x21fe, 0x0, 0x0);
        gbc.writeMem(0x3f2, { 0xf6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x2a0e);
        EXPECT(gbc.pc(), 0x3f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0072
        gbc.setState(0xaf23, 0x5a9d, 0x8620, 0x1cd7, 0xe74d, 0x25f0, 0x1, 0x0);
        gbc.writeMem(0xaf23, { 0xf6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5a9d);
        EXPECT(gbc.pc(), 0xaf25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf23), 0xf6);
        EXPECT(gbc.readMem(0xaf24), 0xef);
        // F6 0073
        gbc.setState(0xa70b, 0x8c8e, 0x8150, 0x5fe9, 0xab20, 0x4684, 0x0, 0x1);
        gbc.writeMem(0xa70b, { 0xf6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8c8e);
        EXPECT(gbc.pc(), 0xa70d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa70b), 0xf6);
        EXPECT(gbc.readMem(0xa70c), 0x1f);
        // F6 0074
        gbc.setState(0x8006, 0x96b3, 0x39e0, 0x532b, 0x8a2d, 0x40ad, 0x0, 0x1);
        gbc.writeMem(0x8006, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x96b3);
        EXPECT(gbc.pc(), 0x8008);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8006), 0xf6);
        EXPECT(gbc.readMem(0x8007), 0x88);
        // F6 0075
        gbc.setState(0xb171, 0xfcde, 0x4b00, 0x5a1a, 0xf382, 0x3bfa, 0x1, 0x0);
        gbc.writeMem(0xb171, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfcde);
        EXPECT(gbc.pc(), 0xb173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb171), 0xf6);
        EXPECT(gbc.readMem(0xb172), 0x4f);
        // F6 0076
        gbc.setState(0xd1e5, 0x5503, 0x7a20, 0x2628, 0xc5ec, 0xa64b, 0x0, 0x0);
        gbc.writeMem(0xd1e5, { 0xf6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5503);
        EXPECT(gbc.pc(), 0xd1e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1e5), 0xf6);
        EXPECT(gbc.readMem(0xd1e6), 0x5);
        // F6 0077
        gbc.setState(0xb747, 0x2f12, 0x3900, 0x402d, 0x653f, 0x93b6, 0x1, 0x0);
        gbc.writeMem(0xb747, { 0xf6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2f12);
        EXPECT(gbc.pc(), 0xb749);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb747), 0xf6);
        EXPECT(gbc.readMem(0xb748), 0x86);
        // F6 0078
        gbc.setState(0xcc6f, 0xbdb9, 0xb150, 0x8112, 0xa6aa, 0xa25b, 0x0, 0x0);
        gbc.writeMem(0xcc6f, { 0xf6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbdb9);
        EXPECT(gbc.pc(), 0xcc71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc6f), 0xf6);
        EXPECT(gbc.readMem(0xcc70), 0x1e);
        // F6 0079
        gbc.setState(0x868d, 0x32f0, 0x4770, 0x7597, 0x67f1, 0x83f7, 0x1, 0x0);
        gbc.writeMem(0x868d, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x32f0);
        EXPECT(gbc.pc(), 0x868f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868d), 0xf6);
        EXPECT(gbc.readMem(0x868e), 0x27);
        // F6 007A
        gbc.setState(0x99a5, 0x4060, 0xea0, 0xc4e, 0xde12, 0x780b, 0x0, 0x1);
        gbc.writeMem(0x99a5, { 0xf6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x4060);
        EXPECT(gbc.pc(), 0x99a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99a5), 0xf6);
        EXPECT(gbc.readMem(0x99a6), 0xe8);
        // F6 007B
        gbc.setState(0xaf27, 0x6004, 0x9960, 0x40da, 0xcae7, 0x745f, 0x0, 0x1);
        gbc.writeMem(0xaf27, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6004);
        EXPECT(gbc.pc(), 0xaf29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf27), 0xf6);
        EXPECT(gbc.readMem(0xaf28), 0x79);
        // F6 007C
        gbc.setState(0xd3c8, 0x9039, 0x580, 0xfebc, 0xb3e6, 0xe658, 0x1, 0x1);
        gbc.writeMem(0xd3c8, { 0xf6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9039);
        EXPECT(gbc.pc(), 0xd3ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c8), 0xf6);
        EXPECT(gbc.readMem(0xd3c9), 0xd9);
        // F6 007D
        gbc.setState(0x9fba, 0xeedf, 0x7e30, 0x1bbd, 0xe678, 0x376d, 0x0, 0x1);
        gbc.writeMem(0x9fba, { 0xf6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xeedf);
        EXPECT(gbc.pc(), 0x9fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fba), 0xf6);
        EXPECT(gbc.readMem(0x9fbb), 0x9c);
        // F6 007F
        gbc.setState(0x39e0, 0x6762, 0x5540, 0xbfbb, 0x259f, 0xa7a3, 0x1, 0x1);
        gbc.writeMem(0x39e0, { 0xf6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6762);
        EXPECT(gbc.pc(), 0x39e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0080
        gbc.setState(0x2b8b, 0xc271, 0x9b00, 0x819, 0xc4ec, 0x790, 0x1, 0x0);
        gbc.writeMem(0x2b8b, { 0xf6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc271);
        EXPECT(gbc.pc(), 0x2b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0081
        gbc.setState(0x326f, 0xca5d, 0x9450, 0x17fa, 0xb386, 0x5031, 0x1, 0x1);
        gbc.writeMem(0x326f, { 0xf6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xca5d);
        EXPECT(gbc.pc(), 0x3271);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0082
        gbc.setState(0x5218, 0x9733, 0xe500, 0x4479, 0xd84, 0xa825, 0x0, 0x1);
        gbc.writeMem(0x5218, { 0xf6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9733);
        EXPECT(gbc.pc(), 0x521a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0083
        gbc.setState(0x14b2, 0x9e0d, 0xd550, 0x87c4, 0xc384, 0x2a17, 0x0, 0x0);
        gbc.writeMem(0x14b2, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9e0d);
        EXPECT(gbc.pc(), 0x14b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0084
        gbc.setState(0xc740, 0x5b47, 0xbbd0, 0xa99f, 0x1050, 0x4f9a, 0x0, 0x1);
        gbc.writeMem(0xc740, { 0xf6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5b47);
        EXPECT(gbc.pc(), 0xc742);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc740), 0xf6);
        EXPECT(gbc.readMem(0xc741), 0x9d);
        // F6 0085
        gbc.setState(0x2701, 0x3e5, 0x7720, 0xa455, 0x20bb, 0xf891, 0x0, 0x0);
        gbc.writeMem(0x2701, { 0xf6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3e5);
        EXPECT(gbc.pc(), 0x2703);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0086
        gbc.setState(0xada8, 0xf265, 0x8f80, 0xb4ce, 0xf31e, 0x8370, 0x0, 0x1);
        gbc.writeMem(0xada8, { 0xf6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf265);
        EXPECT(gbc.pc(), 0xadaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xada8), 0xf6);
        EXPECT(gbc.readMem(0xada9), 0x7f);
        // F6 0087
        gbc.setState(0xeaaf, 0xc82d, 0x9570, 0x4437, 0x2267, 0x30f, 0x1, 0x1);
        gbc.writeMem(0xeaaf, { 0xf6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc82d);
        EXPECT(gbc.pc(), 0xeab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaaf), 0xf6);
        EXPECT(gbc.readMem(0xeab0), 0x33);
        // F6 0088
        gbc.setState(0x7261, 0x6c29, 0x1470, 0x9820, 0x79fb, 0x9, 0x0, 0x1);
        gbc.writeMem(0x7261, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6c29);
        EXPECT(gbc.pc(), 0x7263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0089
        gbc.setState(0x3115, 0x6f6f, 0xd4d0, 0x7b51, 0x22e, 0x1156, 0x0, 0x1);
        gbc.writeMem(0x3115, { 0xf6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6f6f);
        EXPECT(gbc.pc(), 0x3117);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 008A
        gbc.setState(0xc647, 0x31c0, 0xd9e0, 0xd7a2, 0xfa7c, 0x9e82, 0x0, 0x1);
        gbc.writeMem(0xc647, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x31c0);
        EXPECT(gbc.pc(), 0xc649);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc647), 0xf6);
        EXPECT(gbc.readMem(0xc648), 0x88);
        // F6 008B
        gbc.setState(0xd705, 0x60c9, 0x7880, 0x514e, 0xe1ff, 0xe9d9, 0x0, 0x0);
        gbc.writeMem(0xd705, { 0xf6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x60c9);
        EXPECT(gbc.pc(), 0xd707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd705), 0xf6);
        EXPECT(gbc.readMem(0xd706), 0xf8);
        // F6 008C
        gbc.setState(0x2a78, 0x2214, 0xd7a0, 0xe963, 0x4f66, 0x7c92, 0x1, 0x0);
        gbc.writeMem(0x2a78, { 0xf6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2214);
        EXPECT(gbc.pc(), 0x2a7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 008D
        gbc.setState(0xcb56, 0x4387, 0x1530, 0xf239, 0x1aa0, 0xbb30, 0x1, 0x0);
        gbc.writeMem(0xcb56, { 0xf6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4387);
        EXPECT(gbc.pc(), 0xcb58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb56), 0xf6);
        EXPECT(gbc.readMem(0xcb57), 0x36);
        // F6 008E
        gbc.setState(0x5535, 0xab3a, 0x5b70, 0xb51c, 0x6ec4, 0x47eb, 0x1, 0x0);
        gbc.writeMem(0x5535, { 0xf6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xab3a);
        EXPECT(gbc.pc(), 0x5537);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 008F
        gbc.setState(0x5a18, 0x5632, 0xd580, 0xf912, 0xd11a, 0xfdbd, 0x1, 0x1);
        gbc.writeMem(0x5a18, { 0xf6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x5632);
        EXPECT(gbc.pc(), 0x5a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0090
        gbc.setState(0x3c1d, 0x8d25, 0x3930, 0x6782, 0x97dd, 0x9810, 0x1, 0x1);
        gbc.writeMem(0x3c1d, { 0xf6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8d25);
        EXPECT(gbc.pc(), 0x3c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0091
        gbc.setState(0x5a6b, 0xb4b1, 0xcd0, 0xc8bf, 0xf13b, 0x72c, 0x1, 0x1);
        gbc.writeMem(0x5a6b, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb4b1);
        EXPECT(gbc.pc(), 0x5a6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0092
        gbc.setState(0x1113, 0xcd59, 0x8630, 0x6681, 0x58ea, 0x7199, 0x1, 0x0);
        gbc.writeMem(0x1113, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xcd59);
        EXPECT(gbc.pc(), 0x1115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0093
        gbc.setState(0x5d4a, 0x6da4, 0x2850, 0x199e, 0x86, 0x8b08, 0x1, 0x0);
        gbc.writeMem(0x5d4a, { 0xf6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6da4);
        EXPECT(gbc.pc(), 0x5d4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0094
        gbc.setState(0x1457, 0x9c1, 0x2800, 0x97ca, 0x9658, 0x830a, 0x0, 0x1);
        gbc.writeMem(0x1457, { 0xf6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9c1);
        EXPECT(gbc.pc(), 0x1459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0095
        gbc.setState(0x8969, 0xca2d, 0xc340, 0x924a, 0xe7e0, 0x340f, 0x0, 0x0);
        gbc.writeMem(0x8969, { 0xf6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xca2d);
        EXPECT(gbc.pc(), 0x896b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8969), 0xf6);
        EXPECT(gbc.readMem(0x896a), 0x2e);
        // F6 0096
        gbc.setState(0x8400, 0x4efa, 0xe5b0, 0xbd8d, 0x763c, 0x7691, 0x1, 0x1);
        gbc.writeMem(0x8400, { 0xf6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4efa);
        EXPECT(gbc.pc(), 0x8402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8400), 0xf6);
        EXPECT(gbc.readMem(0x8401), 0x86);
        // F6 0097
        gbc.setState(0xa439, 0xa5ec, 0xf740, 0xac50, 0xe86c, 0xe97d, 0x0, 0x0);
        gbc.writeMem(0xa439, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa5ec);
        EXPECT(gbc.pc(), 0xa43b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa439), 0xf6);
        EXPECT(gbc.readMem(0xa43a), 0x71);
        // F6 0098
        gbc.setState(0xd90f, 0xc566, 0x2730, 0xe9f6, 0x9ae3, 0xaff3, 0x0, 0x0);
        gbc.writeMem(0xd90f, { 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc566);
        EXPECT(gbc.pc(), 0xd911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd90f), 0xf6);
        EXPECT(gbc.readMem(0xd910), 0xbc);
        // F6 0099
        gbc.setState(0x23ea, 0xa6ac, 0x3e50, 0xf9d, 0xeac6, 0x1a66, 0x1, 0x0);
        gbc.writeMem(0x23ea, { 0xf6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa6ac);
        EXPECT(gbc.pc(), 0x23ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 009A
        gbc.setState(0x2c5c, 0xc8d9, 0xd210, 0x3af2, 0x9ec6, 0xd339, 0x0, 0x1);
        gbc.writeMem(0x2c5c, { 0xf6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc8d9);
        EXPECT(gbc.pc(), 0x2c5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 009B
        gbc.setState(0x524b, 0x74a4, 0xf520, 0x4326, 0x2c8b, 0xfe1e, 0x0, 0x0);
        gbc.writeMem(0x524b, { 0xf6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x74a4);
        EXPECT(gbc.pc(), 0x524d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 009C
        gbc.setState(0xc976, 0xbd9f, 0x5c20, 0x7425, 0xb500, 0x8e80, 0x1, 0x1);
        gbc.writeMem(0xc976, { 0xf6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbd9f);
        EXPECT(gbc.pc(), 0xc978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc976), 0xf6);
        EXPECT(gbc.readMem(0xc977), 0xe5);
        // F6 009D
        gbc.setState(0xa1e5, 0x1f65, 0x13c0, 0xcf91, 0x9fd0, 0x7ce0, 0x0, 0x1);
        gbc.writeMem(0xa1e5, { 0xf6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1f65);
        EXPECT(gbc.pc(), 0xa1e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e5), 0xf6);
        EXPECT(gbc.readMem(0xa1e6), 0xd0);
        // F6 009E
        gbc.setState(0xccea, 0x938f, 0x87d0, 0x5277, 0x9841, 0x5e5, 0x0, 0x1);
        gbc.writeMem(0xccea, { 0xf6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x938f);
        EXPECT(gbc.pc(), 0xccec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccea), 0xf6);
        EXPECT(gbc.readMem(0xcceb), 0xcf);
        // F6 009F
        gbc.setState(0x65af, 0x4597, 0x2cd0, 0x3e9a, 0x8784, 0x9515, 0x1, 0x1);
        gbc.writeMem(0x65af, { 0xf6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4597);
        EXPECT(gbc.pc(), 0x65b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A1
        gbc.setState(0xc2e2, 0xe329, 0xee80, 0x6cd, 0x39e1, 0xc736, 0x0, 0x1);
        gbc.writeMem(0xc2e2, { 0xf6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe329);
        EXPECT(gbc.pc(), 0xc2e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2e2), 0xf6);
        EXPECT(gbc.readMem(0xc2e3), 0xdf);
        // F6 00A2
        gbc.setState(0x7e8c, 0x8dcb, 0x6110, 0xdda, 0x7855, 0x6304, 0x0, 0x0);
        gbc.writeMem(0x7e8c, { 0xf6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8dcb);
        EXPECT(gbc.pc(), 0x7e8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A4
        gbc.setState(0x5f1a, 0xc1a0, 0xe20, 0x868b, 0x5a76, 0x3b95, 0x1, 0x0);
        gbc.writeMem(0x5f1a, { 0xf6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc1a0);
        EXPECT(gbc.pc(), 0x5f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A5
        gbc.setState(0x41cd, 0x2666, 0xe590, 0x7fa2, 0xfb8a, 0xad60, 0x1, 0x1);
        gbc.writeMem(0x41cd, { 0xf6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2666);
        EXPECT(gbc.pc(), 0x41cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A6
        gbc.setState(0x35fd, 0x7a8c, 0xfb10, 0x4591, 0x80b4, 0x9968, 0x0, 0x1);
        gbc.writeMem(0x35fd, { 0xf6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7a8c);
        EXPECT(gbc.pc(), 0x35ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A7
        gbc.setState(0x526a, 0x4e07, 0x950, 0x9563, 0xa730, 0xbe6c, 0x1, 0x0);
        gbc.writeMem(0x526a, { 0xf6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4e07);
        EXPECT(gbc.pc(), 0x526c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00A8
        gbc.setState(0xe5b2, 0x7c9b, 0xfeb0, 0xa63d, 0x65d3, 0x1eee, 0x1, 0x1);
        gbc.writeMem(0xe5b2, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x7c9b);
        EXPECT(gbc.pc(), 0xe5b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b2), 0xf6);
        EXPECT(gbc.readMem(0xe5b3), 0x95);
        // F6 00A9
        gbc.setState(0xe498, 0xd04a, 0x3f10, 0xfaf6, 0x8e6c, 0xc3b3, 0x0, 0x0);
        gbc.writeMem(0xe498, { 0xf6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd04a);
        EXPECT(gbc.pc(), 0xe49a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe498), 0xf6);
        EXPECT(gbc.readMem(0xe499), 0x7);
        // F6 00AA
        gbc.setState(0xb48e, 0xf744, 0xf930, 0x3af2, 0x5693, 0x6876, 0x0, 0x0);
        gbc.writeMem(0xb48e, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xf744);
        EXPECT(gbc.pc(), 0xb490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb48e), 0xf6);
        EXPECT(gbc.readMem(0xb48f), 0x8d);
        // F6 00AC
        gbc.setState(0xc52a, 0xd2b9, 0x63b0, 0xd4a4, 0x82ef, 0xd24f, 0x0, 0x1);
        gbc.writeMem(0xc52a, { 0xf6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xd2b9);
        EXPECT(gbc.pc(), 0xc52c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc52a), 0xf6);
        EXPECT(gbc.readMem(0xc52b), 0x44);
        // F6 00AD
        gbc.setState(0xd520, 0x582f, 0x35b0, 0xba0f, 0x57af, 0xda25, 0x0, 0x0);
        gbc.writeMem(0xd520, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x582f);
        EXPECT(gbc.pc(), 0xd522);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd520), 0xf6);
        EXPECT(gbc.readMem(0xd521), 0xcc);
        // F6 00AF
        gbc.setState(0x8553, 0x1e5e, 0x9630, 0xfb3b, 0x3461, 0xbc84, 0x1, 0x0);
        gbc.writeMem(0x8553, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1e5e);
        EXPECT(gbc.pc(), 0x8555);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8553), 0xf6);
        EXPECT(gbc.readMem(0x8554), 0x51);
        // F6 00B0
        gbc.setState(0x45fe, 0xaa6d, 0xaae0, 0xf011, 0xa506, 0x87d6, 0x1, 0x0);
        gbc.writeMem(0x45fe, { 0xf6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xaa6d);
        EXPECT(gbc.pc(), 0x4600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00B1
        gbc.setState(0x22ef, 0x5fbc, 0x5460, 0xda5, 0x687d, 0x2960, 0x0, 0x0);
        gbc.writeMem(0x22ef, { 0xf6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5fbc);
        EXPECT(gbc.pc(), 0x22f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00B2
        gbc.setState(0x19eb, 0xf6a9, 0x840, 0xbd37, 0xccd7, 0xb472, 0x0, 0x1);
        gbc.writeMem(0x19eb, { 0xf6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xf6a9);
        EXPECT(gbc.pc(), 0x19ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00B3
        gbc.setState(0x8fc7, 0x4c52, 0x5230, 0x7f94, 0xb1d6, 0xa6a7, 0x0, 0x0);
        gbc.writeMem(0x8fc7, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4c52);
        EXPECT(gbc.pc(), 0x8fc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc7), 0xf6);
        EXPECT(gbc.readMem(0x8fc8), 0xfe);
        // F6 00B4
        gbc.setState(0x8754, 0x2d43, 0x6c20, 0x1d6b, 0xadee, 0x497e, 0x1, 0x0);
        gbc.writeMem(0x8754, { 0xf6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x2d43);
        EXPECT(gbc.pc(), 0x8756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8754), 0xf6);
        EXPECT(gbc.readMem(0x8755), 0x5f);
        // F6 00B5
        gbc.setState(0x6809, 0x4d69, 0x79d0, 0xe1b6, 0xf703, 0xff52, 0x1, 0x1);
        gbc.writeMem(0x6809, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x4d69);
        EXPECT(gbc.pc(), 0x680b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00B7
        gbc.setState(0xb5c1, 0x8670, 0xb50, 0x157c, 0xd363, 0x2203, 0x1, 0x0);
        gbc.writeMem(0xb5c1, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8670);
        EXPECT(gbc.pc(), 0xb5c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5c1), 0xf6);
        EXPECT(gbc.readMem(0xb5c2), 0x0);
        // F6 00B8
        gbc.setState(0xc82, 0xeb99, 0xe150, 0x419c, 0x62d1, 0x1ee9, 0x1, 0x1);
        gbc.writeMem(0xc82, { 0xf6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xeb99);
        EXPECT(gbc.pc(), 0xc84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00B9
        gbc.setState(0x7556, 0x1d54, 0xde70, 0x7ca5, 0x22e9, 0xf545, 0x0, 0x0);
        gbc.writeMem(0x7556, { 0xf6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1d54);
        EXPECT(gbc.pc(), 0x7558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00BA
        gbc.setState(0x80df, 0xba5f, 0x4500, 0x8a3c, 0xc18a, 0x37a3, 0x1, 0x1);
        gbc.writeMem(0x80df, { 0xf6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xba5f);
        EXPECT(gbc.pc(), 0x80e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80df), 0xf6);
        EXPECT(gbc.readMem(0x80e0), 0x78);
        // F6 00BB
        gbc.setState(0x6034, 0x11ba, 0x1bc0, 0x8645, 0xfc60, 0x4794, 0x1, 0x1);
        gbc.writeMem(0x6034, { 0xf6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x11ba);
        EXPECT(gbc.pc(), 0x6036);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00BC
        gbc.setState(0xe471, 0x832e, 0x190, 0x3810, 0xe09, 0x5689, 0x1, 0x1);
        gbc.writeMem(0xe471, { 0xf6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x832e);
        EXPECT(gbc.pc(), 0xe473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe471), 0xf6);
        EXPECT(gbc.readMem(0xe472), 0x63);
        // F6 00BD
        gbc.setState(0xd968, 0xfe2b, 0xf410, 0xb20d, 0xaeef, 0xd76e, 0x1, 0x1);
        gbc.writeMem(0xd968, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfe2b);
        EXPECT(gbc.pc(), 0xd96a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd968), 0xf6);
        EXPECT(gbc.readMem(0xd969), 0x8);
        // F6 00BE
        gbc.setState(0x4d2c, 0x8c65, 0xb2b0, 0x1d98, 0xa4f5, 0x3708, 0x0, 0x1);
        gbc.writeMem(0x4d2c, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x8c65);
        EXPECT(gbc.pc(), 0x4d2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00BF
        gbc.setState(0xbe4c, 0xc548, 0xf430, 0xd0df, 0xc29f, 0xb81, 0x0, 0x1);
        gbc.writeMem(0xbe4c, { 0xf6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc548);
        EXPECT(gbc.pc(), 0xbe4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4c), 0xf6);
        EXPECT(gbc.readMem(0xbe4d), 0xce);
        // F6 00C0
        gbc.setState(0x50a, 0x80f1, 0x1d00, 0xae9e, 0x3a0d, 0x65e2, 0x0, 0x0);
        gbc.writeMem(0x50a, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x80f1);
        EXPECT(gbc.pc(), 0x50c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00C1
        gbc.setState(0xd06c, 0xa190, 0x2080, 0x6c13, 0x8ef7, 0x55e2, 0x1, 0x1);
        gbc.writeMem(0xd06c, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xa190);
        EXPECT(gbc.pc(), 0xd06e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd06c), 0xf6);
        EXPECT(gbc.readMem(0xd06d), 0xe6);
        // F6 00C2
        gbc.setState(0x2067, 0xb479, 0x530, 0x5b47, 0x4eef, 0x20c6, 0x1, 0x1);
        gbc.writeMem(0x2067, { 0xf6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xb479);
        EXPECT(gbc.pc(), 0x2069);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00C3
        gbc.setState(0x24b3, 0x1e43, 0x5fe0, 0xe4c4, 0x3cb4, 0x5123, 0x1, 0x1);
        gbc.writeMem(0x24b3, { 0xf6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1e43);
        EXPECT(gbc.pc(), 0x24b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00C4
        gbc.setState(0x5494, 0xdfa8, 0xe6f0, 0x17fa, 0x4823, 0x84e7, 0x1, 0x0);
        gbc.writeMem(0x5494, { 0xf6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xdfa8);
        EXPECT(gbc.pc(), 0x5496);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00C5
        gbc.setState(0xcd8a, 0x5b00, 0x4ad0, 0xbcd, 0x233f, 0xd58d, 0x1, 0x0);
        gbc.writeMem(0xcd8a, { 0xf6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5b00);
        EXPECT(gbc.pc(), 0xcd8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8a), 0xf6);
        EXPECT(gbc.readMem(0xcd8b), 0x72);
        // F6 00C6
        gbc.setState(0xd1cb, 0x55b4, 0x8740, 0xc3cd, 0xefb9, 0x1e69, 0x1, 0x0);
        gbc.writeMem(0xd1cb, { 0xf6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x55b4);
        EXPECT(gbc.pc(), 0xd1cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1cb), 0xf6);
        EXPECT(gbc.readMem(0xd1cc), 0x3);
        // F6 00C7
        gbc.setState(0xb1a3, 0x9d21, 0x910, 0xfa2d, 0xe7a7, 0xc490, 0x1, 0x1);
        gbc.writeMem(0xb1a3, { 0xf6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9d21);
        EXPECT(gbc.pc(), 0xb1a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1a3), 0xf6);
        EXPECT(gbc.readMem(0xb1a4), 0x84);
        // F6 00C8
        gbc.setState(0x5162, 0x2c2c, 0x73f0, 0x6a05, 0x66fd, 0x43ad, 0x1, 0x1);
        gbc.writeMem(0x5162, { 0xf6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x2c2c);
        EXPECT(gbc.pc(), 0x5164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00C9
        gbc.setState(0x2371, 0xd5bd, 0xa150, 0x3bf4, 0x94f2, 0xf521, 0x1, 0x1);
        gbc.writeMem(0x2371, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd5bd);
        EXPECT(gbc.pc(), 0x2373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00CA
        gbc.setState(0xd30d, 0xd63d, 0xfa80, 0xd5c1, 0xcd35, 0x8852, 0x0, 0x1);
        gbc.writeMem(0xd30d, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd63d);
        EXPECT(gbc.pc(), 0xd30f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd30d), 0xf6);
        EXPECT(gbc.readMem(0xd30e), 0x9e);
        // F6 00CB
        gbc.setState(0x3aaa, 0x9967, 0xa710, 0x855a, 0x2da4, 0x26ac, 0x0, 0x1);
        gbc.writeMem(0x3aaa, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9967);
        EXPECT(gbc.pc(), 0x3aac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00CC
        gbc.setState(0xe574, 0xc1f7, 0x3990, 0x64d4, 0x30d, 0x9497, 0x0, 0x0);
        gbc.writeMem(0xe574, { 0xf6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc1f7);
        EXPECT(gbc.pc(), 0xe576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe574), 0xf6);
        EXPECT(gbc.readMem(0xe575), 0xf5);
        // F6 00CD
        gbc.setState(0xebbf, 0x28d9, 0xe9b0, 0x55ab, 0x98a5, 0xcb4b, 0x0, 0x0);
        gbc.writeMem(0xebbf, { 0xf6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x28d9);
        EXPECT(gbc.pc(), 0xebc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbf), 0xf6);
        EXPECT(gbc.readMem(0xebc0), 0x2a);
        // F6 00CF
        gbc.setState(0xc94b, 0xf7fc, 0x4190, 0xbcba, 0x45a8, 0xac8, 0x0, 0x1);
        gbc.writeMem(0xc94b, { 0xf6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xf7fc);
        EXPECT(gbc.pc(), 0xc94d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc94b), 0xf6);
        EXPECT(gbc.readMem(0xc94c), 0x92);
        // F6 00D0
        gbc.setState(0xa887, 0x5805, 0xb750, 0x2b6d, 0x9d08, 0x2cf2, 0x1, 0x1);
        gbc.writeMem(0xa887, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5805);
        EXPECT(gbc.pc(), 0xa889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa887), 0xf6);
        EXPECT(gbc.readMem(0xa888), 0xcc);
        // F6 00D1
        gbc.setState(0xdcd3, 0x5efb, 0x5b90, 0xa5c, 0x433e, 0x8748, 0x0, 0x1);
        gbc.writeMem(0xdcd3, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5efb);
        EXPECT(gbc.pc(), 0xdcd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd3), 0xf6);
        EXPECT(gbc.readMem(0xdcd4), 0x94);
        // F6 00D2
        gbc.setState(0x266d, 0x10da, 0xb6e0, 0x9ba2, 0x65b3, 0x728a, 0x0, 0x1);
        gbc.writeMem(0x266d, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x10da);
        EXPECT(gbc.pc(), 0x266f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00D3
        gbc.setState(0xaea9, 0xc86f, 0x9e40, 0xe521, 0x94c2, 0x875b, 0x1, 0x0);
        gbc.writeMem(0xaea9, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc86f);
        EXPECT(gbc.pc(), 0xaeab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaea9), 0xf6);
        EXPECT(gbc.readMem(0xaeaa), 0x1);
        // F6 00D4
        gbc.setState(0x3678, 0x5a78, 0xc310, 0xe241, 0x6ed1, 0x4f9, 0x0, 0x1);
        gbc.writeMem(0x3678, { 0xf6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5a78);
        EXPECT(gbc.pc(), 0x367a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00D5
        gbc.setState(0x1ea2, 0xa8da, 0xb730, 0x869d, 0x8ea8, 0xeee7, 0x1, 0x0);
        gbc.writeMem(0x1ea2, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa8da);
        EXPECT(gbc.pc(), 0x1ea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00D6
        gbc.setState(0x8e70, 0x6f41, 0x57d0, 0x6d24, 0xa775, 0x27, 0x1, 0x0);
        gbc.writeMem(0x8e70, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x6f41);
        EXPECT(gbc.pc(), 0x8e72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e70), 0xf6);
        EXPECT(gbc.readMem(0x8e71), 0xcd);
        // F6 00D7
        gbc.setState(0x8d67, 0x77ec, 0x5160, 0xdb07, 0x72e2, 0x7e5c, 0x1, 0x1);
        gbc.writeMem(0x8d67, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x77ec);
        EXPECT(gbc.pc(), 0x8d69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d67), 0xf6);
        EXPECT(gbc.readMem(0x8d68), 0x98);
        // F6 00D8
        gbc.setState(0xcdb9, 0x2e, 0xf780, 0x54cc, 0xdd2e, 0xab9c, 0x0, 0x0);
        gbc.writeMem(0xcdb9, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2e);
        EXPECT(gbc.pc(), 0xcdbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdb9), 0xf6);
        EXPECT(gbc.readMem(0xcdba), 0xfe);
        // F6 00D9
        gbc.setState(0x1a1a, 0x6e65, 0xdb50, 0x14a2, 0x7ac6, 0x5c85, 0x0, 0x0);
        gbc.writeMem(0x1a1a, { 0xf6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6e65);
        EXPECT(gbc.pc(), 0x1a1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00DA
        gbc.setState(0x5326, 0xf67a, 0x8670, 0x121c, 0xe944, 0x542d, 0x0, 0x1);
        gbc.writeMem(0x5326, { 0xf6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf67a);
        EXPECT(gbc.pc(), 0x5328);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00DB
        gbc.setState(0x8a4b, 0x1818, 0xe3d0, 0x6f2e, 0x6261, 0xe61d, 0x0, 0x0);
        gbc.writeMem(0x8a4b, { 0xf6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1818);
        EXPECT(gbc.pc(), 0x8a4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a4b), 0xf6);
        EXPECT(gbc.readMem(0x8a4c), 0xd2);
        // F6 00DC
        gbc.setState(0x26b2, 0x4f4c, 0x4da0, 0x7c40, 0x9b96, 0xa135, 0x0, 0x1);
        gbc.writeMem(0x26b2, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4f4c);
        EXPECT(gbc.pc(), 0x26b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00DD
        gbc.setState(0xd4f3, 0x1369, 0x1c00, 0x8589, 0xde43, 0xc58e, 0x0, 0x0);
        gbc.writeMem(0xd4f3, { 0xf6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1369);
        EXPECT(gbc.pc(), 0xd4f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4f3), 0xf6);
        EXPECT(gbc.readMem(0xd4f4), 0x17);
        // F6 00DE
        gbc.setState(0x6b9a, 0x515e, 0xc150, 0x20ad, 0xfc16, 0x782a, 0x1, 0x1);
        gbc.writeMem(0x6b9a, { 0xf6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x515e);
        EXPECT(gbc.pc(), 0x6b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E0
        gbc.setState(0x48d6, 0x565e, 0x73e0, 0x6d55, 0xf634, 0x3689, 0x1, 0x1);
        gbc.writeMem(0x48d6, { 0xf6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x565e);
        EXPECT(gbc.pc(), 0x48d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E1
        gbc.setState(0xc9a8, 0x8c06, 0xc910, 0x58a2, 0x439b, 0xa217, 0x0, 0x0);
        gbc.writeMem(0xc9a8, { 0xf6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8c06);
        EXPECT(gbc.pc(), 0xc9aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9a8), 0xf6);
        EXPECT(gbc.readMem(0xc9a9), 0x7a);
        // F6 00E2
        gbc.setState(0x3a51, 0x4d1e, 0xb640, 0x49f9, 0xe708, 0x3efd, 0x0, 0x0);
        gbc.writeMem(0x3a51, { 0xf6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4d1e);
        EXPECT(gbc.pc(), 0x3a53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E3
        gbc.setState(0xa287, 0x13ba, 0xf540, 0x8aae, 0x80d8, 0x9fba, 0x0, 0x0);
        gbc.writeMem(0xa287, { 0xf6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x13ba);
        EXPECT(gbc.pc(), 0xa289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa287), 0xf6);
        EXPECT(gbc.readMem(0xa288), 0x25);
        // F6 00E4
        gbc.setState(0x617a, 0xc9c2, 0xfc10, 0xa229, 0xea3d, 0x380f, 0x0, 0x0);
        gbc.writeMem(0x617a, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc9c2);
        EXPECT(gbc.pc(), 0x617c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E5
        gbc.setState(0xef70, 0x64ca, 0xbea0, 0xe403, 0x7af1, 0xb8eb, 0x1, 0x1);
        gbc.writeMem(0xef70, { 0xf6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x64ca);
        EXPECT(gbc.pc(), 0xef72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef70), 0xf6);
        EXPECT(gbc.readMem(0xef71), 0xd6);
        // F6 00E6
        gbc.setState(0x177b, 0x4f53, 0x3780, 0xf330, 0x2b87, 0x3fe0, 0x1, 0x1);
        gbc.writeMem(0x177b, { 0xf6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4f53);
        EXPECT(gbc.pc(), 0x177d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E7
        gbc.setState(0xaccd, 0xd30d, 0xb4c0, 0x4e9d, 0x7e8e, 0x4a4b, 0x1, 0x0);
        gbc.writeMem(0xaccd, { 0xf6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd30d);
        EXPECT(gbc.pc(), 0xaccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaccd), 0xf6);
        EXPECT(gbc.readMem(0xacce), 0x4e);
        // F6 00E8
        gbc.setState(0x45c8, 0x7f51, 0x9e40, 0x2c05, 0x11cd, 0xfa57, 0x0, 0x0);
        gbc.writeMem(0x45c8, { 0xf6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7f51);
        EXPECT(gbc.pc(), 0x45ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00E9
        gbc.setState(0x3667, 0x3391, 0xba30, 0x5598, 0xd903, 0x728f, 0x0, 0x1);
        gbc.writeMem(0x3667, { 0xf6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3391);
        EXPECT(gbc.pc(), 0x3669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00EA
        gbc.setState(0x3fd1, 0x4228, 0x30f0, 0x6a4e, 0x9e75, 0x29e1, 0x1, 0x1);
        gbc.writeMem(0x3fd1, { 0xf6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4228);
        EXPECT(gbc.pc(), 0x3fd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00EB
        gbc.setState(0x460b, 0x9a03, 0xd000, 0xe702, 0xc898, 0xbb3f, 0x1, 0x0);
        gbc.writeMem(0x460b, { 0xf6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9a03);
        EXPECT(gbc.pc(), 0x460d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00EC
        gbc.setState(0xab05, 0x5dd8, 0x1aa0, 0x5b75, 0xa274, 0xf034, 0x1, 0x0);
        gbc.writeMem(0xab05, { 0xf6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5dd8);
        EXPECT(gbc.pc(), 0xab07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab05), 0xf6);
        EXPECT(gbc.readMem(0xab06), 0x58);
        // F6 00ED
        gbc.setState(0x261d, 0x8485, 0x6050, 0x79bc, 0x5de1, 0x2c7a, 0x0, 0x0);
        gbc.writeMem(0x261d, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x8485);
        EXPECT(gbc.pc(), 0x261f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00EE
        gbc.setState(0xdf1c, 0xf75b, 0x69b0, 0x24b8, 0x76e2, 0x396, 0x0, 0x0);
        gbc.writeMem(0xdf1c, { 0xf6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf75b);
        EXPECT(gbc.pc(), 0xdf1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf1c), 0xf6);
        EXPECT(gbc.readMem(0xdf1d), 0x2d);
        // F6 00EF
        gbc.setState(0x20e3, 0x553c, 0xccd0, 0xc84c, 0x19f4, 0xc13f, 0x0, 0x0);
        gbc.writeMem(0x20e3, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x553c);
        EXPECT(gbc.pc(), 0x20e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00F0
        gbc.setState(0xa23a, 0xd7ea, 0xffc0, 0x27dd, 0x7592, 0x5161, 0x0, 0x1);
        gbc.writeMem(0xa23a, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd7ea);
        EXPECT(gbc.pc(), 0xa23c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23a), 0xf6);
        EXPECT(gbc.readMem(0xa23b), 0x6c);
        // F6 00F2
        gbc.setState(0xdefd, 0xc65, 0xeed0, 0xf6f2, 0xe344, 0x6eb9, 0x1, 0x1);
        gbc.writeMem(0xdefd, { 0xf6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xc65);
        EXPECT(gbc.pc(), 0xdeff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdefd), 0xf6);
        EXPECT(gbc.readMem(0xdefe), 0x64);
        // F6 00F3
        gbc.setState(0xce5c, 0x889a, 0x3040, 0x2b70, 0x7255, 0x29bf, 0x1, 0x0);
        gbc.writeMem(0xce5c, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x889a);
        EXPECT(gbc.pc(), 0xce5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce5c), 0xf6);
        EXPECT(gbc.readMem(0xce5d), 0x6);
        // F6 00F4
        gbc.setState(0xc493, 0xe5f6, 0xa030, 0x626, 0xebda, 0xf39e, 0x1, 0x1);
        gbc.writeMem(0xc493, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe5f6);
        EXPECT(gbc.pc(), 0xc495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc493), 0xf6);
        EXPECT(gbc.readMem(0xc494), 0x8e);
        // F6 00F5
        gbc.setState(0x43b9, 0x389e, 0xa000, 0x3af1, 0xd7ae, 0xb161, 0x1, 0x1);
        gbc.writeMem(0x43b9, { 0xf6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x389e);
        EXPECT(gbc.pc(), 0x43bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00F6
        gbc.setState(0x9c44, 0x334d, 0x56b0, 0x6649, 0x9ed3, 0xc50e, 0x0, 0x0);
        gbc.writeMem(0x9c44, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x334d);
        EXPECT(gbc.pc(), 0x9c46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c44), 0xf6);
        EXPECT(gbc.readMem(0x9c45), 0x6);
        // F6 00F7
        gbc.setState(0x8f51, 0x98f1, 0xbec0, 0xc01d, 0x81d0, 0xe3ca, 0x1, 0x0);
        gbc.writeMem(0x8f51, { 0xf6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x98f1);
        EXPECT(gbc.pc(), 0x8f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f51), 0xf6);
        EXPECT(gbc.readMem(0x8f52), 0x37);
        // F6 00F8
        gbc.setState(0x19c, 0x4eec, 0x1530, 0xa1bc, 0xdd8c, 0x5ef1, 0x1, 0x1);
        gbc.writeMem(0x19c, { 0xf6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x4eec);
        EXPECT(gbc.pc(), 0x19e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00F9
        gbc.setState(0x441f, 0x6995, 0x9930, 0x3c65, 0xd1b5, 0x7af7, 0x1, 0x1);
        gbc.writeMem(0x441f, { 0xf6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x6995);
        EXPECT(gbc.pc(), 0x4421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00FB
        gbc.setState(0xc681, 0x4308, 0xb9a0, 0xf9bb, 0x4741, 0x1077, 0x1, 0x0);
        gbc.writeMem(0xc681, { 0xf6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x4308);
        EXPECT(gbc.pc(), 0xc683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc681), 0xf6);
        EXPECT(gbc.readMem(0xc682), 0x4b);
        // F6 00FD
        gbc.setState(0x3c08, 0x604f, 0xa4d0, 0xffe1, 0x61ae, 0xf0a8, 0x0, 0x0);
        gbc.writeMem(0x3c08, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x604f);
        EXPECT(gbc.pc(), 0x3c0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 00FF
        gbc.setState(0x59f3, 0x2489, 0xd6b0, 0xd508, 0x439d, 0x2f6a, 0x1, 0x1);
        gbc.writeMem(0x59f3, { 0xf6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2489);
        EXPECT(gbc.pc(), 0x59f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0100
        gbc.setState(0xca55, 0xdbf9, 0x8bc0, 0xfc1f, 0x8558, 0x4b48, 0x1, 0x1);
        gbc.writeMem(0xca55, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xdbf9);
        EXPECT(gbc.pc(), 0xca57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca55), 0xf6);
        EXPECT(gbc.readMem(0xca56), 0x52);
        // F6 0101
        gbc.setState(0x8097, 0x69c5, 0x8ba0, 0x5fec, 0x98a1, 0x88a7, 0x1, 0x1);
        gbc.writeMem(0x8097, { 0xf6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x69c5);
        EXPECT(gbc.pc(), 0x8099);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8097), 0xf6);
        EXPECT(gbc.readMem(0x8098), 0x76);
        // F6 0102
        gbc.setState(0x8028, 0xbe98, 0xcbe0, 0x2b32, 0xb499, 0xc477, 0x0, 0x0);
        gbc.writeMem(0x8028, { 0xf6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbe98);
        EXPECT(gbc.pc(), 0x802a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8028), 0xf6);
        EXPECT(gbc.readMem(0x8029), 0x31);
        // F6 0103
        gbc.setState(0x3525, 0xa278, 0xeeb0, 0xb30e, 0x6f1e, 0xec06, 0x1, 0x0);
        gbc.writeMem(0x3525, { 0xf6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa278);
        EXPECT(gbc.pc(), 0x3527);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0104
        gbc.setState(0xd746, 0x1bdf, 0x4fd0, 0x3476, 0x9349, 0x3fb6, 0x0, 0x0);
        gbc.writeMem(0xd746, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1bdf);
        EXPECT(gbc.pc(), 0xd748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd746), 0xf6);
        EXPECT(gbc.readMem(0xd747), 0x42);
        // F6 0105
        gbc.setState(0x5bab, 0x10eb, 0x9560, 0x44d3, 0xa127, 0x1e52, 0x0, 0x1);
        gbc.writeMem(0x5bab, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x10eb);
        EXPECT(gbc.pc(), 0x5bad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0106
        gbc.setState(0xa796, 0x2bc6, 0x2ff0, 0xc6d1, 0x30f3, 0x2df, 0x0, 0x1);
        gbc.writeMem(0xa796, { 0xf6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x2bc6);
        EXPECT(gbc.pc(), 0xa798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa796), 0xf6);
        EXPECT(gbc.readMem(0xa797), 0x5e);
        // F6 0107
        gbc.setState(0xc8fd, 0xa9c1, 0xb920, 0xb076, 0x2ba3, 0xad01, 0x1, 0x1);
        gbc.writeMem(0xc8fd, { 0xf6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xa9c1);
        EXPECT(gbc.pc(), 0xc8ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8fd), 0xf6);
        EXPECT(gbc.readMem(0xc8fe), 0xa);
        // F6 0108
        gbc.setState(0x1540, 0x4667, 0x5120, 0x2ea4, 0xd776, 0x53eb, 0x0, 0x0);
        gbc.writeMem(0x1540, { 0xf6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4667);
        EXPECT(gbc.pc(), 0x1542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0109
        gbc.setState(0x255, 0xb574, 0xf520, 0x20c8, 0x4e51, 0x52da, 0x0, 0x1);
        gbc.writeMem(0x255, { 0xf6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb574);
        EXPECT(gbc.pc(), 0x257);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 010B
        gbc.setState(0x16a3, 0x1771, 0x7040, 0x8468, 0xeed9, 0x1d03, 0x1, 0x1);
        gbc.writeMem(0x16a3, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1771);
        EXPECT(gbc.pc(), 0x16a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 010C
        gbc.setState(0x419c, 0xa4e2, 0xc4e0, 0x5f93, 0xff1a, 0x4f14, 0x1, 0x1);
        gbc.writeMem(0x419c, { 0xf6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa4e2);
        EXPECT(gbc.pc(), 0x419e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 010E
        gbc.setState(0xdc78, 0x153b, 0x1fe0, 0xe6b4, 0x4846, 0x9eae, 0x1, 0x0);
        gbc.writeMem(0xdc78, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x153b);
        EXPECT(gbc.pc(), 0xdc7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc78), 0xf6);
        EXPECT(gbc.readMem(0xdc79), 0x4f);
        // F6 010F
        gbc.setState(0x81f4, 0x1bee, 0xf0e0, 0xeabb, 0xa5c, 0xe1ff, 0x1, 0x0);
        gbc.writeMem(0x81f4, { 0xf6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1bee);
        EXPECT(gbc.pc(), 0x81f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81f4), 0xf6);
        EXPECT(gbc.readMem(0x81f5), 0x18);
        // F6 0110
        gbc.setState(0x2ffa, 0x16e5, 0xd190, 0x80c3, 0x8b57, 0x6b30, 0x1, 0x0);
        gbc.writeMem(0x2ffa, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x16e5);
        EXPECT(gbc.pc(), 0x2ffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0111
        gbc.setState(0xe603, 0x53f2, 0x34f0, 0x92b2, 0x71e4, 0x4c24, 0x1, 0x0);
        gbc.writeMem(0xe603, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x53f2);
        EXPECT(gbc.pc(), 0xe605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe603), 0xf6);
        EXPECT(gbc.readMem(0xe604), 0x94);
        // F6 0112
        gbc.setState(0xa4ed, 0x18f4, 0x3920, 0x2813, 0xbd9c, 0x9d06, 0x0, 0x0);
        gbc.writeMem(0xa4ed, { 0xf6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x18f4);
        EXPECT(gbc.pc(), 0xa4ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4ed), 0xf6);
        EXPECT(gbc.readMem(0xa4ee), 0x2);
        // F6 0113
        gbc.setState(0x4383, 0xaf51, 0x8070, 0x9ad3, 0x26d1, 0xd3e8, 0x1, 0x1);
        gbc.writeMem(0x4383, { 0xf6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xaf51);
        EXPECT(gbc.pc(), 0x4385);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0114
        gbc.setState(0xa791, 0x7332, 0xa1b0, 0x4450, 0xd19d, 0x7fc2, 0x0, 0x1);
        gbc.writeMem(0xa791, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7332);
        EXPECT(gbc.pc(), 0xa793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa791), 0xf6);
        EXPECT(gbc.readMem(0xa792), 0x46);
        // F6 0115
        gbc.setState(0x3161, 0x4ff4, 0xd4f0, 0x5b18, 0xd380, 0xa9f3, 0x0, 0x0);
        gbc.writeMem(0x3161, { 0xf6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4ff4);
        EXPECT(gbc.pc(), 0x3163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0116
        gbc.setState(0x8bd3, 0xd15e, 0xdff0, 0x9942, 0x83f4, 0x81d1, 0x0, 0x1);
        gbc.writeMem(0x8bd3, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xd15e);
        EXPECT(gbc.pc(), 0x8bd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bd3), 0xf6);
        EXPECT(gbc.readMem(0x8bd4), 0xf6);
        // F6 0117
        gbc.setState(0x2aac, 0xcead, 0x4780, 0xcf59, 0xd45d, 0xadf4, 0x0, 0x0);
        gbc.writeMem(0x2aac, { 0xf6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xcead);
        EXPECT(gbc.pc(), 0x2aae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0118
        gbc.setState(0x880f, 0x6e1a, 0xcae0, 0xc972, 0xb849, 0xfa7e, 0x1, 0x1);
        gbc.writeMem(0x880f, { 0xf6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6e1a);
        EXPECT(gbc.pc(), 0x8811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x880f), 0xf6);
        EXPECT(gbc.readMem(0x8810), 0x84);
        // F6 0119
        gbc.setState(0x45e8, 0xb029, 0x7ca0, 0xe63e, 0xcaac, 0xa1bd, 0x0, 0x1);
        gbc.writeMem(0x45e8, { 0xf6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb029);
        EXPECT(gbc.pc(), 0x45ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 011A
        gbc.setState(0x727, 0x82d4, 0x68f0, 0xdd09, 0xe08c, 0xf65b, 0x0, 0x1);
        gbc.writeMem(0x727, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x82d4);
        EXPECT(gbc.pc(), 0x729);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 011B
        gbc.setState(0x6f12, 0x4573, 0x7e20, 0x3118, 0x5bb8, 0xb0, 0x1, 0x1);
        gbc.writeMem(0x6f12, { 0xf6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4573);
        EXPECT(gbc.pc(), 0x6f14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 011C
        gbc.setState(0xca5a, 0x425a, 0xf3d0, 0x33ba, 0xc525, 0x86a5, 0x0, 0x0);
        gbc.writeMem(0xca5a, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x425a);
        EXPECT(gbc.pc(), 0xca5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca5a), 0xf6);
        EXPECT(gbc.readMem(0xca5b), 0xd5);
        // F6 011D
        gbc.setState(0xe967, 0x657a, 0x1960, 0x539f, 0x4d7b, 0x7292, 0x0, 0x0);
        gbc.writeMem(0xe967, { 0xf6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x657a);
        EXPECT(gbc.pc(), 0xe969);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe967), 0xf6);
        EXPECT(gbc.readMem(0xe968), 0x38);
        // F6 011F
        gbc.setState(0x622, 0xdfff, 0xbf80, 0x7ac0, 0x8e10, 0x57a5, 0x1, 0x0);
        gbc.writeMem(0x622, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xdfff);
        EXPECT(gbc.pc(), 0x624);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0120
        gbc.setState(0x4245, 0xc5e2, 0xd380, 0x51f5, 0x2b7e, 0xaedf, 0x0, 0x0);
        gbc.writeMem(0x4245, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc5e2);
        EXPECT(gbc.pc(), 0x4247);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0121
        gbc.setState(0x7d2f, 0x79dc, 0xd4f0, 0xf158, 0x35bd, 0xd5d8, 0x0, 0x1);
        gbc.writeMem(0x7d2f, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x79dc);
        EXPECT(gbc.pc(), 0x7d31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0122
        gbc.setState(0xeda2, 0xc2d3, 0xd200, 0xd7ec, 0xf35e, 0xa3e4, 0x0, 0x1);
        gbc.writeMem(0xeda2, { 0xf6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc2d3);
        EXPECT(gbc.pc(), 0xeda4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeda2), 0xf6);
        EXPECT(gbc.readMem(0xeda3), 0x4a);
        // F6 0123
        gbc.setState(0x3b9f, 0x2516, 0xd820, 0x210e, 0x3f6e, 0xa6ff, 0x0, 0x0);
        gbc.writeMem(0x3b9f, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2516);
        EXPECT(gbc.pc(), 0x3ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0124
        gbc.setState(0x1aa, 0xb635, 0xdd80, 0x1bb2, 0x27ef, 0x2c8a, 0x1, 0x0);
        gbc.writeMem(0x1aa, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xb635);
        EXPECT(gbc.pc(), 0x1ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0125
        gbc.setState(0x90a9, 0xbc08, 0xc310, 0xb5c9, 0x8e3f, 0x1296, 0x0, 0x0);
        gbc.writeMem(0x90a9, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xbc08);
        EXPECT(gbc.pc(), 0x90ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90a9), 0xf6);
        EXPECT(gbc.readMem(0x90aa), 0x6e);
        // F6 0126
        gbc.setState(0x5363, 0x200c, 0xed50, 0x490f, 0x594f, 0xbf17, 0x0, 0x0);
        gbc.writeMem(0x5363, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x200c);
        EXPECT(gbc.pc(), 0x5365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0127
        gbc.setState(0xeef, 0x8fe7, 0x1ad0, 0x6c6b, 0x7cbb, 0xdefe, 0x1, 0x0);
        gbc.writeMem(0xeef, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8fe7);
        EXPECT(gbc.pc(), 0xef1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0128
        gbc.setState(0x4f4d, 0x2874, 0x8f80, 0x79e7, 0x359b, 0xf695, 0x0, 0x0);
        gbc.writeMem(0x4f4d, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2874);
        EXPECT(gbc.pc(), 0x4f4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0129
        gbc.setState(0x120a, 0x470d, 0x6400, 0x1ae9, 0x81cf, 0xc4f2, 0x0, 0x0);
        gbc.writeMem(0x120a, { 0xf6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x470d);
        EXPECT(gbc.pc(), 0x120c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 012B
        gbc.setState(0x596b, 0x1ad8, 0xe800, 0xeca8, 0x147c, 0x70d3, 0x0, 0x0);
        gbc.writeMem(0x596b, { 0xf6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x1ad8);
        EXPECT(gbc.pc(), 0x596d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 012C
        gbc.setState(0xb3e, 0x280b, 0xaf30, 0xf4de, 0x591b, 0x9485, 0x1, 0x1);
        gbc.writeMem(0xb3e, { 0xf6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x280b);
        EXPECT(gbc.pc(), 0xb40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 012D
        gbc.setState(0xe7d5, 0x6fe9, 0x660, 0xb76, 0xaf, 0xe5c5, 0x1, 0x0);
        gbc.writeMem(0xe7d5, { 0xf6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6fe9);
        EXPECT(gbc.pc(), 0xe7d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7d5), 0xf6);
        EXPECT(gbc.readMem(0xe7d6), 0x61);
        // F6 012F
        gbc.setState(0x1544, 0x9a03, 0x9670, 0x7c7e, 0x7c6a, 0x8f9a, 0x0, 0x1);
        gbc.writeMem(0x1544, { 0xf6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9a03);
        EXPECT(gbc.pc(), 0x1546);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0130
        gbc.setState(0x80ae, 0x53d0, 0x47d0, 0xf6b9, 0xec27, 0x4e65, 0x0, 0x0);
        gbc.writeMem(0x80ae, { 0xf6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x53d0);
        EXPECT(gbc.pc(), 0x80b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80ae), 0xf6);
        EXPECT(gbc.readMem(0x80af), 0x1e);
        // F6 0131
        gbc.setState(0x67c, 0x9b41, 0xaa90, 0xb8dd, 0x91f1, 0x231e, 0x0, 0x0);
        gbc.writeMem(0x67c, { 0xf6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x9b41);
        EXPECT(gbc.pc(), 0x67e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0132
        gbc.setState(0x9b9, 0x9dda, 0x97b0, 0x8ed8, 0x48af, 0x8efe, 0x1, 0x1);
        gbc.writeMem(0x9b9, { 0xf6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9dda);
        EXPECT(gbc.pc(), 0x9bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0133
        gbc.setState(0x2108, 0x7520, 0xa280, 0x938f, 0x86a0, 0xab20, 0x0, 0x0);
        gbc.writeMem(0x2108, { 0xf6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7520);
        EXPECT(gbc.pc(), 0x210a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0134
        gbc.setState(0x2a35, 0x86f1, 0xd530, 0x726f, 0xdc93, 0x39fd, 0x1, 0x1);
        gbc.writeMem(0x2a35, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x86f1);
        EXPECT(gbc.pc(), 0x2a37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0135
        gbc.setState(0xc97e, 0xdc1e, 0x9cb0, 0xbd7f, 0x58b6, 0x5b3b, 0x0, 0x0);
        gbc.writeMem(0xc97e, { 0xf6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xdc1e);
        EXPECT(gbc.pc(), 0xc980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc97e), 0xf6);
        EXPECT(gbc.readMem(0xc97f), 0xbf);
        // F6 0136
        gbc.setState(0x12e3, 0x3e8e, 0x40a0, 0x106a, 0x3c, 0x746f, 0x0, 0x1);
        gbc.writeMem(0x12e3, { 0xf6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3e8e);
        EXPECT(gbc.pc(), 0x12e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0137
        gbc.setState(0xda5a, 0xf96c, 0x8760, 0x2fa4, 0x90d6, 0x37d3, 0x0, 0x1);
        gbc.writeMem(0xda5a, { 0xf6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xf96c);
        EXPECT(gbc.pc(), 0xda5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda5a), 0xf6);
        EXPECT(gbc.readMem(0xda5b), 0x11);
        // F6 0138
        gbc.setState(0xefbd, 0xcf94, 0x45d0, 0x42b4, 0x77e6, 0x9b6c, 0x1, 0x0);
        gbc.writeMem(0xefbd, { 0xf6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xcf94);
        EXPECT(gbc.pc(), 0xefbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefbd), 0xf6);
        EXPECT(gbc.readMem(0xefbe), 0x1f);
        // F6 0139
        gbc.setState(0xd335, 0x1ae6, 0x9540, 0x7a34, 0x3819, 0xe78b, 0x0, 0x1);
        gbc.writeMem(0xd335, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1ae6);
        EXPECT(gbc.pc(), 0xd337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd335), 0xf6);
        EXPECT(gbc.readMem(0xd336), 0x27);
        // F6 013A
        gbc.setState(0x1ba1, 0xd8a6, 0x7f20, 0xaf7e, 0x496c, 0xbd32, 0x0, 0x1);
        gbc.writeMem(0x1ba1, { 0xf6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd8a6);
        EXPECT(gbc.pc(), 0x1ba3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 013B
        gbc.setState(0x2ac2, 0x7156, 0x7da0, 0xb58b, 0x87f9, 0x36ef, 0x0, 0x1);
        gbc.writeMem(0x2ac2, { 0xf6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x7156);
        EXPECT(gbc.pc(), 0x2ac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 013C
        gbc.setState(0x6f0b, 0xade, 0xb560, 0x41c9, 0x5e56, 0x3f7f, 0x0, 0x0);
        gbc.writeMem(0x6f0b, { 0xf6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xade);
        EXPECT(gbc.pc(), 0x6f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 013D
        gbc.setState(0x266e, 0x2b1e, 0xa220, 0xff39, 0xa9b6, 0xdc72, 0x1, 0x0);
        gbc.writeMem(0x266e, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2b1e);
        EXPECT(gbc.pc(), 0x2670);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 013E
        gbc.setState(0x7bc3, 0x87e, 0x1690, 0x591e, 0xb5f, 0xb381, 0x1, 0x0);
        gbc.writeMem(0x7bc3, { 0xf6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x87e);
        EXPECT(gbc.pc(), 0x7bc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0140
        gbc.setState(0xda4e, 0xd26d, 0x8430, 0x2130, 0xbd, 0x73cd, 0x0, 0x1);
        gbc.writeMem(0xda4e, { 0xf6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd26d);
        EXPECT(gbc.pc(), 0xda50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda4e), 0xf6);
        EXPECT(gbc.readMem(0xda4f), 0x4a);
        // F6 0141
        gbc.setState(0x6c2e, 0x64f0, 0x6f60, 0xed15, 0x1cde, 0x8b9b, 0x1, 0x0);
        gbc.writeMem(0x6c2e, { 0xf6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x64f0);
        EXPECT(gbc.pc(), 0x6c30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0142
        gbc.setState(0x4272, 0x893e, 0xf60, 0x828, 0xa5dd, 0xcacc, 0x1, 0x0);
        gbc.writeMem(0x4272, { 0xf6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x893e);
        EXPECT(gbc.pc(), 0x4274);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0143
        gbc.setState(0x8c, 0xf75e, 0xb7f0, 0xb7cc, 0x2178, 0xbbc2, 0x0, 0x1);
        gbc.writeMem(0x8c, { 0xf6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf75e);
        EXPECT(gbc.pc(), 0x8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0144
        gbc.setState(0xd42d, 0xd3e9, 0xf930, 0x2a64, 0x49c1, 0x2f7f, 0x1, 0x0);
        gbc.writeMem(0xd42d, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd3e9);
        EXPECT(gbc.pc(), 0xd42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd42d), 0xf6);
        EXPECT(gbc.readMem(0xd42e), 0x88);
        // F6 0145
        gbc.setState(0x3080, 0x1ace, 0xc740, 0x2060, 0x2f2c, 0x70f7, 0x0, 0x1);
        gbc.writeMem(0x3080, { 0xf6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1ace);
        EXPECT(gbc.pc(), 0x3082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0146
        gbc.setState(0xa212, 0x8c30, 0xcc90, 0xae81, 0x8efb, 0x25d8, 0x1, 0x1);
        gbc.writeMem(0xa212, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8c30);
        EXPECT(gbc.pc(), 0xa214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa212), 0xf6);
        EXPECT(gbc.readMem(0xa213), 0xca);
        // F6 0147
        gbc.setState(0x22cf, 0x1211, 0xdcd0, 0x1a70, 0xfac1, 0x39ec, 0x1, 0x1);
        gbc.writeMem(0x22cf, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1211);
        EXPECT(gbc.pc(), 0x22d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0148
        gbc.setState(0xb144, 0xcae1, 0xfec0, 0x17d1, 0x666, 0xe0c9, 0x1, 0x1);
        gbc.writeMem(0xb144, { 0xf6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xcae1);
        EXPECT(gbc.pc(), 0xb146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb144), 0xf6);
        EXPECT(gbc.readMem(0xb145), 0xb2);
        // F6 0149
        gbc.setState(0x389c, 0x1fec, 0x22a0, 0x1df3, 0x31c7, 0x5a2e, 0x0, 0x0);
        gbc.writeMem(0x389c, { 0xf6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1fec);
        EXPECT(gbc.pc(), 0x389e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 014A
        gbc.setState(0xb81d, 0x5ded, 0x8620, 0xbaab, 0x960, 0xb382, 0x1, 0x1);
        gbc.writeMem(0xb81d, { 0xf6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5ded);
        EXPECT(gbc.pc(), 0xb81f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb81d), 0xf6);
        EXPECT(gbc.readMem(0xb81e), 0x6d);
        // F6 014B
        gbc.setState(0x5904, 0x688, 0x9570, 0x98e2, 0x4d15, 0x1c67, 0x0, 0x0);
        gbc.writeMem(0x5904, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x688);
        EXPECT(gbc.pc(), 0x5906);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 014C
        gbc.setState(0x76d5, 0x9610, 0x3100, 0xe517, 0xda0a, 0x928f, 0x1, 0x0);
        gbc.writeMem(0x76d5, { 0xf6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9610);
        EXPECT(gbc.pc(), 0x76d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 014D
        gbc.setState(0x53fb, 0x8b55, 0xf320, 0x7d77, 0xce7d, 0xb0d1, 0x0, 0x1);
        gbc.writeMem(0x53fb, { 0xf6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8b55);
        EXPECT(gbc.pc(), 0x53fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 014E
        gbc.setState(0x10eb, 0x39f6, 0x76f0, 0x562f, 0x4fb4, 0xfd4b, 0x0, 0x1);
        gbc.writeMem(0x10eb, { 0xf6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x39f6);
        EXPECT(gbc.pc(), 0x10ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 014F
        gbc.setState(0x4c09, 0xe322, 0x10b0, 0x1d7e, 0x3a53, 0x75a9, 0x1, 0x0);
        gbc.writeMem(0x4c09, { 0xf6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe322);
        EXPECT(gbc.pc(), 0x4c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0150
        gbc.setState(0x536f, 0x30af, 0x94e0, 0xeba8, 0xb187, 0x8732, 0x1, 0x0);
        gbc.writeMem(0x536f, { 0xf6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x30af);
        EXPECT(gbc.pc(), 0x5371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0151
        gbc.setState(0xbd67, 0x2840, 0x980, 0x8e96, 0xcf1f, 0x1e27, 0x0, 0x0);
        gbc.writeMem(0xbd67, { 0xf6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2840);
        EXPECT(gbc.pc(), 0xbd69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd67), 0xf6);
        EXPECT(gbc.readMem(0xbd68), 0xba);
        // F6 0153
        gbc.setState(0x5fa9, 0xf3b5, 0x2e10, 0x409, 0x5df, 0xca62, 0x0, 0x0);
        gbc.writeMem(0x5fa9, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf3b5);
        EXPECT(gbc.pc(), 0x5fab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0154
        gbc.setState(0x8e64, 0x61ac, 0x32b0, 0xb217, 0xdb3f, 0x9a3a, 0x0, 0x1);
        gbc.writeMem(0x8e64, { 0xf6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x61ac);
        EXPECT(gbc.pc(), 0x8e66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e64), 0xf6);
        EXPECT(gbc.readMem(0x8e65), 0x99);
        // F6 0155
        gbc.setState(0xec18, 0xbe78, 0xcc60, 0xe5d5, 0x5fb8, 0xc05c, 0x1, 0x1);
        gbc.writeMem(0xec18, { 0xf6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbe78);
        EXPECT(gbc.pc(), 0xec1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec18), 0xf6);
        EXPECT(gbc.readMem(0xec19), 0x35);
        // F6 0156
        gbc.setState(0x16ea, 0x6077, 0xdce0, 0x3d62, 0xcbab, 0x202d, 0x1, 0x0);
        gbc.writeMem(0x16ea, { 0xf6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6077);
        EXPECT(gbc.pc(), 0x16ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0157
        gbc.setState(0x5fd8, 0xaf9, 0x9430, 0xcdf4, 0x9ede, 0x79a, 0x0, 0x1);
        gbc.writeMem(0x5fd8, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xaf9);
        EXPECT(gbc.pc(), 0x5fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0158
        gbc.setState(0x4621, 0xfbb1, 0xdbe0, 0x702c, 0xd46b, 0x593, 0x1, 0x1);
        gbc.writeMem(0x4621, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xfbb1);
        EXPECT(gbc.pc(), 0x4623);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0159
        gbc.setState(0xdfe, 0xc266, 0xa160, 0x880f, 0x1da2, 0xac7f, 0x0, 0x0);
        gbc.writeMem(0xdfe, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc266);
        EXPECT(gbc.pc(), 0xe00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 015A
        gbc.setState(0xa9a4, 0xda7c, 0x1370, 0x975e, 0xb806, 0x1d54, 0x0, 0x0);
        gbc.writeMem(0xa9a4, { 0xf6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xda7c);
        EXPECT(gbc.pc(), 0xa9a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9a4), 0xf6);
        EXPECT(gbc.readMem(0xa9a5), 0xeb);
        // F6 015B
        gbc.setState(0x87e4, 0xf638, 0xc400, 0xa572, 0x3e4b, 0x8b8f, 0x1, 0x1);
        gbc.writeMem(0x87e4, { 0xf6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf638);
        EXPECT(gbc.pc(), 0x87e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e4), 0xf6);
        EXPECT(gbc.readMem(0x87e5), 0x8a);
        // F6 015C
        gbc.setState(0x48ff, 0xffa7, 0xc510, 0x33bd, 0x3f05, 0xf749, 0x1, 0x0);
        gbc.writeMem(0x48ff, { 0xf6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xffa7);
        EXPECT(gbc.pc(), 0x4901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 015D
        gbc.setState(0x2f9b, 0x4e08, 0xbad0, 0x6cd, 0x1f90, 0x94ae, 0x1, 0x0);
        gbc.writeMem(0x2f9b, { 0xf6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x4e08);
        EXPECT(gbc.pc(), 0x2f9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 015E
        gbc.setState(0x5b83, 0xe4f0, 0x3a90, 0x99ab, 0x43e0, 0x2386, 0x1, 0x0);
        gbc.writeMem(0x5b83, { 0xf6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe4f0);
        EXPECT(gbc.pc(), 0x5b85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 015F
        gbc.setState(0xbe0b, 0x434a, 0xeb20, 0xe52d, 0x7529, 0x8055, 0x0, 0x1);
        gbc.writeMem(0xbe0b, { 0xf6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x434a);
        EXPECT(gbc.pc(), 0xbe0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe0b), 0xf6);
        EXPECT(gbc.readMem(0xbe0c), 0x97);
        // F6 0160
        gbc.setState(0xa35a, 0x2358, 0xc4d0, 0x1ca3, 0x4dc4, 0xabd, 0x1, 0x0);
        gbc.writeMem(0xa35a, { 0xf6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2358);
        EXPECT(gbc.pc(), 0xa35c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa35a), 0xf6);
        EXPECT(gbc.readMem(0xa35b), 0xd2);
        // F6 0161
        gbc.setState(0x80b5, 0x2017, 0x2ec0, 0x242b, 0x1455, 0xe156, 0x0, 0x1);
        gbc.writeMem(0x80b5, { 0xf6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x2017);
        EXPECT(gbc.pc(), 0x80b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b5), 0xf6);
        EXPECT(gbc.readMem(0x80b6), 0x65);
        // F6 0162
        gbc.setState(0x63a1, 0x8c7, 0x2fc0, 0xa459, 0x28ec, 0x3ca5, 0x0, 0x1);
        gbc.writeMem(0x63a1, { 0xf6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8c7);
        EXPECT(gbc.pc(), 0x63a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0163
        gbc.setState(0x3b95, 0x9aab, 0x84c0, 0x5544, 0x1dd6, 0xeab5, 0x1, 0x0);
        gbc.writeMem(0x3b95, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9aab);
        EXPECT(gbc.pc(), 0x3b97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0165
        gbc.setState(0xb632, 0xbbc2, 0xed50, 0x74c5, 0x41f3, 0xcac6, 0x1, 0x1);
        gbc.writeMem(0xb632, { 0xf6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbbc2);
        EXPECT(gbc.pc(), 0xb634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb632), 0xf6);
        EXPECT(gbc.readMem(0xb633), 0x2c);
        // F6 0167
        gbc.setState(0x9ab7, 0xf3ba, 0x1280, 0xde48, 0x29e0, 0xe2cd, 0x0, 0x0);
        gbc.writeMem(0x9ab7, { 0xf6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf3ba);
        EXPECT(gbc.pc(), 0x9ab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ab7), 0xf6);
        EXPECT(gbc.readMem(0x9ab8), 0xa0);
        // F6 0168
        gbc.setState(0x7289, 0xb0cf, 0x5670, 0x823e, 0x1a81, 0x4428, 0x1, 0x0);
        gbc.writeMem(0x7289, { 0xf6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb0cf);
        EXPECT(gbc.pc(), 0x728b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0169
        gbc.setState(0xa639, 0xa25d, 0x78f0, 0xa8a2, 0xb9d4, 0x573, 0x1, 0x0);
        gbc.writeMem(0xa639, { 0xf6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xa25d);
        EXPECT(gbc.pc(), 0xa63b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa639), 0xf6);
        EXPECT(gbc.readMem(0xa63a), 0x78);
        // F6 016B
        gbc.setState(0xe68b, 0x6b0d, 0x1960, 0xa84b, 0x7e3c, 0xd8ca, 0x0, 0x0);
        gbc.writeMem(0xe68b, { 0xf6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6b0d);
        EXPECT(gbc.pc(), 0xe68d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe68b), 0xf6);
        EXPECT(gbc.readMem(0xe68c), 0xd4);
        // F6 016C
        gbc.setState(0xbfcd, 0xbf14, 0x8bf0, 0xfc54, 0x4f89, 0xe42f, 0x0, 0x0);
        gbc.writeMem(0xbfcd, { 0xf6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xbf14);
        EXPECT(gbc.pc(), 0xbfcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfcd), 0xf6);
        EXPECT(gbc.readMem(0xbfce), 0x34);
        // F6 016D
        gbc.setState(0x7fc, 0x43a7, 0x100, 0x6c2c, 0x675b, 0x13df, 0x1, 0x0);
        gbc.writeMem(0x7fc, { 0xf6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x43a7);
        EXPECT(gbc.pc(), 0x7fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 016E
        gbc.setState(0x851, 0xc8cf, 0xc00, 0x1f9a, 0x572e, 0x6b97, 0x0, 0x0);
        gbc.writeMem(0x851, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc8cf);
        EXPECT(gbc.pc(), 0x853);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 016F
        gbc.setState(0x22ba, 0x3dc3, 0x7e40, 0xfc5d, 0xe94c, 0x4c46, 0x0, 0x0);
        gbc.writeMem(0x22ba, { 0xf6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3dc3);
        EXPECT(gbc.pc(), 0x22bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0170
        gbc.setState(0x96e2, 0xd07c, 0xfce0, 0xabfb, 0x232, 0xc02, 0x1, 0x0);
        gbc.writeMem(0x96e2, { 0xf6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd07c);
        EXPECT(gbc.pc(), 0x96e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96e2), 0xf6);
        EXPECT(gbc.readMem(0x96e3), 0x22);
        // F6 0171
        gbc.setState(0xdd96, 0x9c43, 0x9b70, 0xedd8, 0x78d2, 0x3cab, 0x0, 0x0);
        gbc.writeMem(0xdd96, { 0xf6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9c43);
        EXPECT(gbc.pc(), 0xdd98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd96), 0xf6);
        EXPECT(gbc.readMem(0xdd97), 0xba);
        // F6 0172
        gbc.setState(0xb1f0, 0x8df8, 0xb820, 0xc200, 0x8a2d, 0x674f, 0x0, 0x0);
        gbc.writeMem(0xb1f0, { 0xf6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x8df8);
        EXPECT(gbc.pc(), 0xb1f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1f0), 0xf6);
        EXPECT(gbc.readMem(0xb1f1), 0x7f);
        // F6 0173
        gbc.setState(0x79cb, 0x3e50, 0xc260, 0xdb50, 0xfb45, 0x228c, 0x1, 0x1);
        gbc.writeMem(0x79cb, { 0xf6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x3e50);
        EXPECT(gbc.pc(), 0x79cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0174
        gbc.setState(0x8d75, 0x20be, 0x7670, 0x498a, 0xd95a, 0xadcf, 0x0, 0x0);
        gbc.writeMem(0x8d75, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x20be);
        EXPECT(gbc.pc(), 0x8d77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d75), 0xf6);
        EXPECT(gbc.readMem(0x8d76), 0xd5);
        // F6 0175
        gbc.setState(0x6e86, 0xfcf5, 0x23b0, 0x1d8d, 0xe2d9, 0x6ef3, 0x0, 0x0);
        gbc.writeMem(0x6e86, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xfcf5);
        EXPECT(gbc.pc(), 0x6e88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0176
        gbc.setState(0xe6a, 0x7aef, 0x1ab0, 0x9b22, 0xb0c7, 0xcc65, 0x0, 0x0);
        gbc.writeMem(0xe6a, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7aef);
        EXPECT(gbc.pc(), 0xe6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0177
        gbc.setState(0x129, 0x1102, 0xf700, 0x2e7, 0xf9c6, 0xb4ed, 0x0, 0x1);
        gbc.writeMem(0x129, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1102);
        EXPECT(gbc.pc(), 0x12b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0178
        gbc.setState(0x7334, 0xe342, 0xdde0, 0x94f2, 0xf2bd, 0xe959, 0x1, 0x0);
        gbc.writeMem(0x7334, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe342);
        EXPECT(gbc.pc(), 0x7336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0179
        gbc.setState(0xab07, 0x3cb, 0x2a40, 0xd696, 0x17d7, 0x985a, 0x1, 0x1);
        gbc.writeMem(0xab07, { 0xf6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x3cb);
        EXPECT(gbc.pc(), 0xab09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab07), 0xf6);
        EXPECT(gbc.readMem(0xab08), 0x65);
        // F6 017A
        gbc.setState(0x5147, 0xce50, 0x2f50, 0x49be, 0xb2b, 0xcb66, 0x0, 0x0);
        gbc.writeMem(0x5147, { 0xf6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xce50);
        EXPECT(gbc.pc(), 0x5149);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 017B
        gbc.setState(0xe75c, 0xa5bc, 0xfc60, 0x9b35, 0x3dd5, 0xf71b, 0x1, 0x1);
        gbc.writeMem(0xe75c, { 0xf6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa5bc);
        EXPECT(gbc.pc(), 0xe75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe75c), 0xf6);
        EXPECT(gbc.readMem(0xe75d), 0x9);
        // F6 017C
        gbc.setState(0xcbae, 0xfbe4, 0xe640, 0x8859, 0xeaf3, 0x7504, 0x0, 0x1);
        gbc.writeMem(0xcbae, { 0xf6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xfbe4);
        EXPECT(gbc.pc(), 0xcbb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbae), 0xf6);
        EXPECT(gbc.readMem(0xcbaf), 0xee);
        // F6 017D
        gbc.setState(0x46e1, 0x50a, 0xb5b0, 0x37d4, 0x4c3b, 0x4bce, 0x1, 0x0);
        gbc.writeMem(0x46e1, { 0xf6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x50a);
        EXPECT(gbc.pc(), 0x46e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 017E
        gbc.setState(0xe0fa, 0x4e21, 0x57c0, 0x3493, 0xf7a5, 0xe71c, 0x0, 0x1);
        gbc.writeMem(0xe0fa, { 0xf6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x4e21);
        EXPECT(gbc.pc(), 0xe0fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0fa), 0xf6);
        EXPECT(gbc.readMem(0xe0fb), 0xb8);
        // F6 017F
        gbc.setState(0xe147, 0xd56f, 0xd200, 0x6c18, 0x818e, 0x2cc0, 0x1, 0x1);
        gbc.writeMem(0xe147, { 0xf6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd56f);
        EXPECT(gbc.pc(), 0xe149);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe147), 0xf6);
        EXPECT(gbc.readMem(0xe148), 0x7d);
        // F6 0180
        gbc.setState(0x8b50, 0x4eec, 0x4430, 0x9eef, 0x4b13, 0xd3ab, 0x1, 0x1);
        gbc.writeMem(0x8b50, { 0xf6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4eec);
        EXPECT(gbc.pc(), 0x8b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b50), 0xf6);
        EXPECT(gbc.readMem(0x8b51), 0xa2);
        // F6 0181
        gbc.setState(0xe73d, 0x8b48, 0xe4e0, 0xc325, 0x47ae, 0xe497, 0x0, 0x0);
        gbc.writeMem(0xe73d, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x8b48);
        EXPECT(gbc.pc(), 0xe73f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe73d), 0xf6);
        EXPECT(gbc.readMem(0xe73e), 0x6e);
        // F6 0182
        gbc.setState(0xa5ec, 0xd334, 0x8f80, 0x1c37, 0x286f, 0xa049, 0x1, 0x0);
        gbc.writeMem(0xa5ec, { 0xf6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd334);
        EXPECT(gbc.pc(), 0xa5ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ec), 0xf6);
        EXPECT(gbc.readMem(0xa5ed), 0xce);
        // F6 0183
        gbc.setState(0x3b5a, 0x928e, 0xcf90, 0xa204, 0x33d5, 0x2140, 0x1, 0x1);
        gbc.writeMem(0x3b5a, { 0xf6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x928e);
        EXPECT(gbc.pc(), 0x3b5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0184
        gbc.setState(0xc756, 0x23b, 0x57b0, 0xce77, 0x80fe, 0x83e, 0x1, 0x0);
        gbc.writeMem(0xc756, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x23b);
        EXPECT(gbc.pc(), 0xc758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc756), 0xf6);
        EXPECT(gbc.readMem(0xc757), 0xf6);
        // F6 0185
        gbc.setState(0xb9f4, 0x9158, 0x88c0, 0x4d5d, 0x7a6f, 0x7c24, 0x1, 0x0);
        gbc.writeMem(0xb9f4, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9158);
        EXPECT(gbc.pc(), 0xb9f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9f4), 0xf6);
        EXPECT(gbc.readMem(0xb9f5), 0x6b);
        // F6 0186
        gbc.setState(0xd37e, 0xdaa6, 0x6060, 0xd57f, 0xd992, 0xf30d, 0x0, 0x1);
        gbc.writeMem(0xd37e, { 0xf6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdaa6);
        EXPECT(gbc.pc(), 0xd380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd37e), 0xf6);
        EXPECT(gbc.readMem(0xd37f), 0xb6);
        // F6 0187
        gbc.setState(0x5cbd, 0x4d9d, 0xc9b0, 0x67f6, 0x3284, 0x25b6, 0x0, 0x0);
        gbc.writeMem(0x5cbd, { 0xf6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4d9d);
        EXPECT(gbc.pc(), 0x5cbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0188
        gbc.setState(0x726, 0xafdc, 0xc9e0, 0xa18c, 0x1cff, 0xb939, 0x0, 0x1);
        gbc.writeMem(0x726, { 0xf6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xafdc);
        EXPECT(gbc.pc(), 0x728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0189
        gbc.setState(0x840f, 0xce7e, 0x64c0, 0xcf69, 0x48c6, 0xbd7d, 0x0, 0x0);
        gbc.writeMem(0x840f, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xce7e);
        EXPECT(gbc.pc(), 0x8411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840f), 0xf6);
        EXPECT(gbc.readMem(0x8410), 0xca);
        // F6 018A
        gbc.setState(0x2d56, 0x811b, 0xa540, 0x5057, 0x6a51, 0x2e66, 0x0, 0x1);
        gbc.writeMem(0x2d56, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x811b);
        EXPECT(gbc.pc(), 0x2d58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 018B
        gbc.setState(0x5f39, 0x46b8, 0x4c00, 0xae97, 0x72db, 0x79e4, 0x1, 0x0);
        gbc.writeMem(0x5f39, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x46b8);
        EXPECT(gbc.pc(), 0x5f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 018C
        gbc.setState(0x140e, 0x17b7, 0x2640, 0x594d, 0x3767, 0x8ecc, 0x1, 0x0);
        gbc.writeMem(0x140e, { 0xf6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x17b7);
        EXPECT(gbc.pc(), 0x1410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 018F
        gbc.setState(0xe157, 0xf5dc, 0xe7d0, 0x9839, 0x8c32, 0x4071, 0x1, 0x1);
        gbc.writeMem(0xe157, { 0xf6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf5dc);
        EXPECT(gbc.pc(), 0xe159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe157), 0xf6);
        EXPECT(gbc.readMem(0xe158), 0x4c);
        // F6 0190
        gbc.setState(0x79b6, 0xc5d, 0x8220, 0xaea5, 0x5c7d, 0x95a2, 0x0, 0x1);
        gbc.writeMem(0x79b6, { 0xf6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc5d);
        EXPECT(gbc.pc(), 0x79b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0191
        gbc.setState(0xeb44, 0x4b6, 0xb430, 0x3b06, 0xbb4a, 0x28d1, 0x1, 0x1);
        gbc.writeMem(0xeb44, { 0xf6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4b6);
        EXPECT(gbc.pc(), 0xeb46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb44), 0xf6);
        EXPECT(gbc.readMem(0xeb45), 0x81);
        // F6 0192
        gbc.setState(0x3fa5, 0x420c, 0x2f10, 0xa946, 0xed3e, 0x318c, 0x1, 0x1);
        gbc.writeMem(0x3fa5, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x420c);
        EXPECT(gbc.pc(), 0x3fa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0193
        gbc.setState(0xba48, 0xb30e, 0xef90, 0xbf78, 0x84fc, 0x1c6d, 0x0, 0x1);
        gbc.writeMem(0xba48, { 0xf6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb30e);
        EXPECT(gbc.pc(), 0xba4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba48), 0xf6);
        EXPECT(gbc.readMem(0xba49), 0x33);
        // F6 0194
        gbc.setState(0x7219, 0xcffd, 0xfd70, 0x3618, 0x2704, 0xb8b8, 0x1, 0x0);
        gbc.writeMem(0x7219, { 0xf6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xcffd);
        EXPECT(gbc.pc(), 0x721b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0195
        gbc.setState(0x48c6, 0x1c5d, 0x6060, 0x5950, 0xf92e, 0xa97e, 0x0, 0x1);
        gbc.writeMem(0x48c6, { 0xf6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1c5d);
        EXPECT(gbc.pc(), 0x48c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0196
        gbc.setState(0x523, 0x832c, 0x33a0, 0x7fb6, 0xc189, 0x2422, 0x1, 0x1);
        gbc.writeMem(0x523, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x832c);
        EXPECT(gbc.pc(), 0x525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0197
        gbc.setState(0x60a1, 0x529b, 0xf270, 0x20bc, 0x245, 0x1766, 0x0, 0x1);
        gbc.writeMem(0x60a1, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x529b);
        EXPECT(gbc.pc(), 0x60a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0198
        gbc.setState(0x4d8d, 0xc43c, 0x2ed0, 0x5d1d, 0xbe57, 0xf27d, 0x1, 0x1);
        gbc.writeMem(0x4d8d, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc43c);
        EXPECT(gbc.pc(), 0x4d8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0199
        gbc.setState(0x5207, 0x3d10, 0xd0f0, 0x3751, 0xfa84, 0x4608, 0x1, 0x1);
        gbc.writeMem(0x5207, { 0xf6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3d10);
        EXPECT(gbc.pc(), 0x5209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 019A
        gbc.setState(0xa8be, 0xbb8b, 0xf700, 0x6d51, 0xd739, 0xf453, 0x1, 0x0);
        gbc.writeMem(0xa8be, { 0xf6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xbb8b);
        EXPECT(gbc.pc(), 0xa8c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8be), 0xf6);
        EXPECT(gbc.readMem(0xa8bf), 0x4a);
        // F6 019B
        gbc.setState(0x5f5e, 0xf793, 0x22b0, 0x5c14, 0xe97b, 0xaf7b, 0x0, 0x0);
        gbc.writeMem(0x5f5e, { 0xf6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf793);
        EXPECT(gbc.pc(), 0x5f60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 019C
        gbc.setState(0xdd77, 0x8d68, 0xac50, 0xcfdd, 0x8cee, 0x4cc0, 0x0, 0x0);
        gbc.writeMem(0xdd77, { 0xf6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8d68);
        EXPECT(gbc.pc(), 0xdd79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd77), 0xf6);
        EXPECT(gbc.readMem(0xdd78), 0x5e);
        // F6 019D
        gbc.setState(0x7845, 0xe84d, 0xd1b0, 0x4e66, 0x58d7, 0x2f0f, 0x0, 0x0);
        gbc.writeMem(0x7845, { 0xf6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe84d);
        EXPECT(gbc.pc(), 0x7847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 019E
        gbc.setState(0x76ce, 0x570d, 0xcb90, 0x19a5, 0x604c, 0x86c2, 0x0, 0x0);
        gbc.writeMem(0x76ce, { 0xf6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x570d);
        EXPECT(gbc.pc(), 0x76d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 019F
        gbc.setState(0x2b5d, 0x7e94, 0x34c0, 0xe1be, 0x84bf, 0xea34, 0x0, 0x1);
        gbc.writeMem(0x2b5d, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7e94);
        EXPECT(gbc.pc(), 0x2b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01A0
        gbc.setState(0xe26c, 0x5331, 0x84a0, 0xd031, 0xa218, 0xff85, 0x0, 0x1);
        gbc.writeMem(0xe26c, { 0xf6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5331);
        EXPECT(gbc.pc(), 0xe26e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe26c), 0xf6);
        EXPECT(gbc.readMem(0xe26d), 0xff);
        // F6 01A1
        gbc.setState(0xb320, 0xef41, 0xb950, 0xf5d1, 0x58ae, 0x6028, 0x1, 0x1);
        gbc.writeMem(0xb320, { 0xf6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xef41);
        EXPECT(gbc.pc(), 0xb322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb320), 0xf6);
        EXPECT(gbc.readMem(0xb321), 0x7d);
        // F6 01A2
        gbc.setState(0x3c4b, 0x1102, 0x6660, 0x6d4, 0x4a7b, 0x418a, 0x0, 0x1);
        gbc.writeMem(0x3c4b, { 0xf6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1102);
        EXPECT(gbc.pc(), 0x3c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01A3
        gbc.setState(0x4106, 0x86af, 0x2250, 0xd2cc, 0x26de, 0x3670, 0x0, 0x0);
        gbc.writeMem(0x4106, { 0xf6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x86af);
        EXPECT(gbc.pc(), 0x4108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01A4
        gbc.setState(0xa936, 0x1d2b, 0xf810, 0x7585, 0xc311, 0x740d, 0x0, 0x0);
        gbc.writeMem(0xa936, { 0xf6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1d2b);
        EXPECT(gbc.pc(), 0xa938);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa936), 0xf6);
        EXPECT(gbc.readMem(0xa937), 0xc1);
        // F6 01A5
        gbc.setState(0xda98, 0x54c, 0x74d0, 0xc1b2, 0x4760, 0x8d9a, 0x1, 0x0);
        gbc.writeMem(0xda98, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x54c);
        EXPECT(gbc.pc(), 0xda9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda98), 0xf6);
        EXPECT(gbc.readMem(0xda99), 0x0);
        // F6 01A6
        gbc.setState(0x8473, 0x9d42, 0x6640, 0xfd99, 0x4d7f, 0xad1c, 0x1, 0x0);
        gbc.writeMem(0x8473, { 0xf6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9d42);
        EXPECT(gbc.pc(), 0x8475);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8473), 0xf6);
        EXPECT(gbc.readMem(0x8474), 0x5c);
        // F6 01A7
        gbc.setState(0xe26c, 0x5d8d, 0x3b10, 0xabd, 0x5479, 0x1d53, 0x0, 0x1);
        gbc.writeMem(0xe26c, { 0xf6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5d8d);
        EXPECT(gbc.pc(), 0xe26e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe26c), 0xf6);
        EXPECT(gbc.readMem(0xe26d), 0xff);
        // F6 01A8
        gbc.setState(0x5e83, 0xe8c, 0x5920, 0x8a67, 0xd134, 0xd687, 0x0, 0x0);
        gbc.writeMem(0x5e83, { 0xf6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe8c);
        EXPECT(gbc.pc(), 0x5e85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01A9
        gbc.setState(0x3a91, 0xc845, 0xb3f0, 0xe0f9, 0x5af5, 0x245e, 0x1, 0x0);
        gbc.writeMem(0x3a91, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc845);
        EXPECT(gbc.pc(), 0x3a93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01AA
        gbc.setState(0x9ffa, 0x2728, 0xf3b0, 0xc8fa, 0xd1ac, 0xa5e5, 0x1, 0x0);
        gbc.writeMem(0x9ffa, { 0xf6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x2728);
        EXPECT(gbc.pc(), 0x9ffc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ffa), 0xf6);
        EXPECT(gbc.readMem(0x9ffb), 0x89);
        // F6 01AB
        gbc.setState(0xa123, 0xcea3, 0xf980, 0x975, 0x4a2e, 0xdc97, 0x0, 0x1);
        gbc.writeMem(0xa123, { 0xf6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xcea3);
        EXPECT(gbc.pc(), 0xa125);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa123), 0xf6);
        EXPECT(gbc.readMem(0xa124), 0xa5);
        // F6 01AC
        gbc.setState(0x9ad4, 0xe453, 0xebb0, 0xfec4, 0x3173, 0xf00d, 0x0, 0x0);
        gbc.writeMem(0x9ad4, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe453);
        EXPECT(gbc.pc(), 0x9ad6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ad4), 0xf6);
        EXPECT(gbc.readMem(0x9ad5), 0x85);
        // F6 01AD
        gbc.setState(0xc15d, 0x9204, 0x97f0, 0x8c7e, 0xe00, 0x86ea, 0x1, 0x0);
        gbc.writeMem(0xc15d, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9204);
        EXPECT(gbc.pc(), 0xc15f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc15d), 0xf6);
        EXPECT(gbc.readMem(0xc15e), 0x8e);
        // F6 01AE
        gbc.setState(0x8ffa, 0x7cb, 0x1ec0, 0x9b89, 0xa921, 0x7a4a, 0x0, 0x1);
        gbc.writeMem(0x8ffa, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7cb);
        EXPECT(gbc.pc(), 0x8ffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ffa), 0xf6);
        EXPECT(gbc.readMem(0x8ffb), 0x95);
        // F6 01AF
        gbc.setState(0xa1a5, 0xf892, 0xc130, 0xa0db, 0x4471, 0x7360, 0x1, 0x0);
        gbc.writeMem(0xa1a5, { 0xf6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf892);
        EXPECT(gbc.pc(), 0xa1a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1a5), 0xf6);
        EXPECT(gbc.readMem(0xa1a6), 0xd0);
        // F6 01B0
        gbc.setState(0x5dea, 0x9ea2, 0x4d70, 0xfa5, 0xacc5, 0x915a, 0x0, 0x1);
        gbc.writeMem(0x5dea, { 0xf6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9ea2);
        EXPECT(gbc.pc(), 0x5dec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01B1
        gbc.setState(0xd8f1, 0x8685, 0xb3a0, 0xa47f, 0xe27b, 0x1f04, 0x1, 0x1);
        gbc.writeMem(0xd8f1, { 0xf6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8685);
        EXPECT(gbc.pc(), 0xd8f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f1), 0xf6);
        EXPECT(gbc.readMem(0xd8f2), 0x97);
        // F6 01B2
        gbc.setState(0xb4e3, 0x3a06, 0x3f20, 0xbb6f, 0x2305, 0xab86, 0x0, 0x0);
        gbc.writeMem(0xb4e3, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3a06);
        EXPECT(gbc.pc(), 0xb4e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e3), 0xf6);
        EXPECT(gbc.readMem(0xb4e4), 0xea);
        // F6 01B3
        gbc.setState(0x308a, 0x9a8a, 0x8520, 0xc5dd, 0x5365, 0xed87, 0x1, 0x1);
        gbc.writeMem(0x308a, { 0xf6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9a8a);
        EXPECT(gbc.pc(), 0x308c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01B4
        gbc.setState(0x7075, 0x62a7, 0xda10, 0xfc87, 0xdb5, 0x7f97, 0x1, 0x1);
        gbc.writeMem(0x7075, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x62a7);
        EXPECT(gbc.pc(), 0x7077);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01B5
        gbc.setState(0x8ae7, 0x6aa9, 0xdb50, 0x4583, 0x9d58, 0xac21, 0x0, 0x1);
        gbc.writeMem(0x8ae7, { 0xf6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6aa9);
        EXPECT(gbc.pc(), 0x8ae9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae7), 0xf6);
        EXPECT(gbc.readMem(0x8ae8), 0x2f);
        // F6 01B6
        gbc.setState(0x2545, 0x91d7, 0xfb50, 0xb7ec, 0x4429, 0x4538, 0x0, 0x1);
        gbc.writeMem(0x2545, { 0xf6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x91d7);
        EXPECT(gbc.pc(), 0x2547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01B7
        gbc.setState(0xbb89, 0xeab4, 0x5880, 0xcceb, 0xe917, 0x8195, 0x0, 0x1);
        gbc.writeMem(0xbb89, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xeab4);
        EXPECT(gbc.pc(), 0xbb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb89), 0xf6);
        EXPECT(gbc.readMem(0xbb8a), 0x51);
        // F6 01B8
        gbc.setState(0xd1ca, 0x2dc1, 0x6d0, 0xed9d, 0xbe69, 0x56bf, 0x1, 0x0);
        gbc.writeMem(0xd1ca, { 0xf6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2dc1);
        EXPECT(gbc.pc(), 0xd1cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ca), 0xf6);
        EXPECT(gbc.readMem(0xd1cb), 0x89);
        // F6 01B9
        gbc.setState(0x57a9, 0x9d42, 0x2460, 0x4458, 0xb4f8, 0x4aed, 0x0, 0x1);
        gbc.writeMem(0x57a9, { 0xf6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x9d42);
        EXPECT(gbc.pc(), 0x57ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BA
        gbc.setState(0x7b7, 0x67ab, 0xc430, 0xf753, 0xe201, 0x1ff4, 0x0, 0x0);
        gbc.writeMem(0x7b7, { 0xf6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x67ab);
        EXPECT(gbc.pc(), 0x7b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BB
        gbc.setState(0x4c67, 0x1a4a, 0x53a0, 0xd81b, 0x9575, 0x55f8, 0x1, 0x1);
        gbc.writeMem(0x4c67, { 0xf6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1a4a);
        EXPECT(gbc.pc(), 0x4c69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BC
        gbc.setState(0x4672, 0x7cfc, 0xccb0, 0xc5fe, 0xe6d9, 0xbe80, 0x0, 0x0);
        gbc.writeMem(0x4672, { 0xf6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7cfc);
        EXPECT(gbc.pc(), 0x4674);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BD
        gbc.setState(0x4cac, 0xe17b, 0xc860, 0x9d37, 0xde88, 0xe281, 0x0, 0x1);
        gbc.writeMem(0x4cac, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe17b);
        EXPECT(gbc.pc(), 0x4cae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BE
        gbc.setState(0x6964, 0xf222, 0xdf60, 0xa87c, 0xd7d4, 0x9cac, 0x1, 0x1);
        gbc.writeMem(0x6964, { 0xf6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf222);
        EXPECT(gbc.pc(), 0x6966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01BF
        gbc.setState(0x793a, 0xd232, 0x66b0, 0x42aa, 0x2fce, 0x584b, 0x0, 0x1);
        gbc.writeMem(0x793a, { 0xf6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd232);
        EXPECT(gbc.pc(), 0x793c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C0
        gbc.setState(0x7669, 0x7eab, 0x88d0, 0x9f33, 0x2d30, 0xa4f3, 0x1, 0x0);
        gbc.writeMem(0x7669, { 0xf6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7eab);
        EXPECT(gbc.pc(), 0x766b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C1
        gbc.setState(0x4b44, 0xd94a, 0x6cd0, 0x62f8, 0xbdb3, 0x8321, 0x1, 0x0);
        gbc.writeMem(0x4b44, { 0xf6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd94a);
        EXPECT(gbc.pc(), 0x4b46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C2
        gbc.setState(0xc4, 0xe5c7, 0x5d80, 0xcec0, 0xc85d, 0xc121, 0x0, 0x1);
        gbc.writeMem(0xc4, { 0xf6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe5c7);
        EXPECT(gbc.pc(), 0xc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C3
        gbc.setState(0xd127, 0x301c, 0xd170, 0xf59e, 0xa12a, 0x62f5, 0x0, 0x1);
        gbc.writeMem(0xd127, { 0xf6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x301c);
        EXPECT(gbc.pc(), 0xd129);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd127), 0xf6);
        EXPECT(gbc.readMem(0xd128), 0x8b);
        // F6 01C4
        gbc.setState(0xb501, 0x2fbe, 0x5a90, 0x3caa, 0xba22, 0x4c5, 0x1, 0x1);
        gbc.writeMem(0xb501, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2fbe);
        EXPECT(gbc.pc(), 0xb503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb501), 0xf6);
        EXPECT(gbc.readMem(0xb502), 0xc7);
        // F6 01C5
        gbc.setState(0x3c15, 0xc191, 0xe6a0, 0x8ec9, 0x64ea, 0x6481, 0x0, 0x0);
        gbc.writeMem(0x3c15, { 0xf6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc191);
        EXPECT(gbc.pc(), 0x3c17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C6
        gbc.setState(0xe176, 0x229e, 0x25e0, 0xfb98, 0x2784, 0xb8f2, 0x1, 0x0);
        gbc.writeMem(0xe176, { 0xf6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x229e);
        EXPECT(gbc.pc(), 0xe178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe176), 0xf6);
        EXPECT(gbc.readMem(0xe177), 0x55);
        // F6 01C7
        gbc.setState(0x48d1, 0x27a4, 0x61e0, 0xf843, 0x693e, 0xffc, 0x1, 0x0);
        gbc.writeMem(0x48d1, { 0xf6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x27a4);
        EXPECT(gbc.pc(), 0x48d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01C8
        gbc.setState(0x8080, 0x56b1, 0x4e30, 0xea06, 0x2cce, 0x7c34, 0x1, 0x0);
        gbc.writeMem(0x8080, { 0xf6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x56b1);
        EXPECT(gbc.pc(), 0x8082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8080), 0xf6);
        EXPECT(gbc.readMem(0x8081), 0x23);
        // F6 01C9
        gbc.setState(0x9252, 0x7f62, 0x18b0, 0xf631, 0xbc9, 0x2e1f, 0x1, 0x0);
        gbc.writeMem(0x9252, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x7f62);
        EXPECT(gbc.pc(), 0x9254);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9252), 0xf6);
        EXPECT(gbc.readMem(0x9253), 0x8c);
        // F6 01CA
        gbc.setState(0x3a6f, 0x15ed, 0x7660, 0xe9e5, 0xaba4, 0x869d, 0x1, 0x0);
        gbc.writeMem(0x3a6f, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x15ed);
        EXPECT(gbc.pc(), 0x3a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01CB
        gbc.setState(0x4a58, 0xadf8, 0x7100, 0xd3d, 0xb8fa, 0xb0a8, 0x1, 0x0);
        gbc.writeMem(0x4a58, { 0xf6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xadf8);
        EXPECT(gbc.pc(), 0x4a5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01CC
        gbc.setState(0x8a3d, 0x2aee, 0x8880, 0x9802, 0x57ee, 0xc92d, 0x0, 0x1);
        gbc.writeMem(0x8a3d, { 0xf6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2aee);
        EXPECT(gbc.pc(), 0x8a3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a3d), 0xf6);
        EXPECT(gbc.readMem(0x8a3e), 0xe2);
        // F6 01CD
        gbc.setState(0x2a4f, 0xdb5f, 0x21b0, 0xcb00, 0x6985, 0x4816, 0x1, 0x0);
        gbc.writeMem(0x2a4f, { 0xf6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xdb5f);
        EXPECT(gbc.pc(), 0x2a51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01CE
        gbc.setState(0x7b85, 0x818b, 0x2cb0, 0x444e, 0xa7b9, 0x323c, 0x1, 0x1);
        gbc.writeMem(0x7b85, { 0xf6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x818b);
        EXPECT(gbc.pc(), 0x7b87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01CF
        gbc.setState(0x12e2, 0x3b22, 0xb60, 0x1f9e, 0x64b7, 0x2e47, 0x0, 0x1);
        gbc.writeMem(0x12e2, { 0xf6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x3b22);
        EXPECT(gbc.pc(), 0x12e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01D0
        gbc.setState(0xe8e1, 0x929a, 0x3310, 0x6127, 0x8271, 0xb172, 0x0, 0x1);
        gbc.writeMem(0xe8e1, { 0xf6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x929a);
        EXPECT(gbc.pc(), 0xe8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e1), 0xf6);
        EXPECT(gbc.readMem(0xe8e2), 0xb5);
        // F6 01D1
        gbc.setState(0x4a83, 0xd954, 0x58a0, 0x873b, 0xea64, 0xa18a, 0x0, 0x0);
        gbc.writeMem(0x4a83, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd954);
        EXPECT(gbc.pc(), 0x4a85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01D2
        gbc.setState(0xbc91, 0x32f6, 0x8180, 0xa17b, 0x4f0d, 0xb6f1, 0x1, 0x0);
        gbc.writeMem(0xbc91, { 0xf6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x32f6);
        EXPECT(gbc.pc(), 0xbc93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc91), 0xf6);
        EXPECT(gbc.readMem(0xbc92), 0xb0);
        // F6 01D3
        gbc.setState(0xe8bf, 0x9319, 0x80, 0x99ed, 0x1e2e, 0x7c04, 0x1, 0x1);
        gbc.writeMem(0xe8bf, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9319);
        EXPECT(gbc.pc(), 0xe8c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8bf), 0xf6);
        EXPECT(gbc.readMem(0xe8c0), 0xea);
        // F6 01D4
        gbc.setState(0xb42, 0x77c2, 0xc560, 0xc16d, 0xa127, 0x4d5a, 0x0, 0x1);
        gbc.writeMem(0xb42, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x77c2);
        EXPECT(gbc.pc(), 0xb44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01D5
        gbc.setState(0xb6d1, 0xdf30, 0x4430, 0xda57, 0xcd81, 0xb25, 0x1, 0x1);
        gbc.writeMem(0xb6d1, { 0xf6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xdf30);
        EXPECT(gbc.pc(), 0xb6d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6d1), 0xf6);
        EXPECT(gbc.readMem(0xb6d2), 0x36);
        // F6 01D6
        gbc.setState(0x1087, 0xef60, 0x1110, 0x6bae, 0x527f, 0xf0a6, 0x1, 0x1);
        gbc.writeMem(0x1087, { 0xf6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xef60);
        EXPECT(gbc.pc(), 0x1089);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01D7
        gbc.setState(0x8782, 0xed2, 0x7500, 0xbee7, 0x1d2a, 0xbc78, 0x1, 0x0);
        gbc.writeMem(0x8782, { 0xf6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xed2);
        EXPECT(gbc.pc(), 0x8784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8782), 0xf6);
        EXPECT(gbc.readMem(0x8783), 0xf3);
        // F6 01D8
        gbc.setState(0xeabd, 0xc78b, 0xb0d0, 0x8897, 0xddaa, 0xa5e8, 0x0, 0x0);
        gbc.writeMem(0xeabd, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc78b);
        EXPECT(gbc.pc(), 0xeabf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeabd), 0xf6);
        EXPECT(gbc.readMem(0xeabe), 0x85);
        // F6 01D9
        gbc.setState(0xacf, 0x8e2a, 0x6a00, 0x9b20, 0xabd0, 0x5f07, 0x0, 0x1);
        gbc.writeMem(0xacf, { 0xf6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8e2a);
        EXPECT(gbc.pc(), 0xad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01DA
        gbc.setState(0x36a4, 0x2ebb, 0x7920, 0x77df, 0xade3, 0x264a, 0x1, 0x1);
        gbc.writeMem(0x36a4, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2ebb);
        EXPECT(gbc.pc(), 0x36a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01DB
        gbc.setState(0x44f1, 0x504a, 0xdfa0, 0x82b4, 0x96af, 0x1f74, 0x0, 0x0);
        gbc.writeMem(0x44f1, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x504a);
        EXPECT(gbc.pc(), 0x44f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01DC
        gbc.setState(0x1eb5, 0x96f1, 0xa9a0, 0x3a93, 0x4d7, 0xc36c, 0x0, 0x1);
        gbc.writeMem(0x1eb5, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x96f1);
        EXPECT(gbc.pc(), 0x1eb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01DD
        gbc.setState(0xe982, 0x965e, 0x77d0, 0xe2f3, 0x514, 0xadf5, 0x1, 0x1);
        gbc.writeMem(0xe982, { 0xf6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x965e);
        EXPECT(gbc.pc(), 0xe984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe982), 0xf6);
        EXPECT(gbc.readMem(0xe983), 0x60);
        // F6 01DE
        gbc.setState(0x8f8d, 0xb62, 0xd530, 0x327e, 0x6f18, 0x9b78, 0x0, 0x0);
        gbc.writeMem(0x8f8d, { 0xf6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xb62);
        EXPECT(gbc.pc(), 0x8f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f8d), 0xf6);
        EXPECT(gbc.readMem(0x8f8e), 0x90);
        // F6 01DF
        gbc.setState(0x6705, 0x1542, 0x92f0, 0x7c60, 0x8d25, 0x72e0, 0x0, 0x1);
        gbc.writeMem(0x6705, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1542);
        EXPECT(gbc.pc(), 0x6707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E0
        gbc.setState(0x27c0, 0xcd8f, 0xd640, 0x2002, 0x429f, 0x738f, 0x1, 0x0);
        gbc.writeMem(0x27c0, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xcd8f);
        EXPECT(gbc.pc(), 0x27c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E1
        gbc.setState(0x3534, 0x4380, 0x48a0, 0x53c0, 0x7bce, 0xa958, 0x1, 0x0);
        gbc.writeMem(0x3534, { 0xf6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4380);
        EXPECT(gbc.pc(), 0x3536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E2
        gbc.setState(0x941f, 0x6d1c, 0xc90, 0xcd8e, 0x5106, 0xdbe8, 0x1, 0x0);
        gbc.writeMem(0x941f, { 0xf6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6d1c);
        EXPECT(gbc.pc(), 0x9421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941f), 0xf6);
        EXPECT(gbc.readMem(0x9420), 0xd8);
        // F6 01E3
        gbc.setState(0x5e99, 0xf83f, 0x4910, 0x2092, 0xba30, 0xaefb, 0x1, 0x1);
        gbc.writeMem(0x5e99, { 0xf6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf83f);
        EXPECT(gbc.pc(), 0x5e9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E4
        gbc.setState(0x2938, 0xf9b6, 0x1e40, 0xc34b, 0xff38, 0x729c, 0x0, 0x1);
        gbc.writeMem(0x2938, { 0xf6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf9b6);
        EXPECT(gbc.pc(), 0x293a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E5
        gbc.setState(0xdbaa, 0x889d, 0x3640, 0x316b, 0xbc32, 0xd93c, 0x0, 0x1);
        gbc.writeMem(0xdbaa, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x889d);
        EXPECT(gbc.pc(), 0xdbac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbaa), 0xf6);
        EXPECT(gbc.readMem(0xdbab), 0x46);
        // F6 01E6
        gbc.setState(0x2fc7, 0x5db2, 0xfe30, 0x7388, 0xd2b1, 0x98a1, 0x1, 0x0);
        gbc.writeMem(0x2fc7, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x5db2);
        EXPECT(gbc.pc(), 0x2fc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E7
        gbc.setState(0x2379, 0x3bd9, 0x6340, 0x80f5, 0x2358, 0xe25b, 0x0, 0x0);
        gbc.writeMem(0x2379, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3bd9);
        EXPECT(gbc.pc(), 0x237b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01E8
        gbc.setState(0x23c9, 0x277c, 0x8760, 0x22f, 0x52da, 0xbc79, 0x1, 0x1);
        gbc.writeMem(0x23c9, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x277c);
        EXPECT(gbc.pc(), 0x23cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01EA
        gbc.setState(0x6462, 0x5ca4, 0x2400, 0xd818, 0x860b, 0xeac2, 0x1, 0x1);
        gbc.writeMem(0x6462, { 0xf6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5ca4);
        EXPECT(gbc.pc(), 0x6464);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01EB
        gbc.setState(0x2fc1, 0x382c, 0x5f10, 0x13bb, 0xdfda, 0xb91, 0x1, 0x1);
        gbc.writeMem(0x2fc1, { 0xf6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x382c);
        EXPECT(gbc.pc(), 0x2fc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01EC
        gbc.setState(0x92cf, 0xfee9, 0x40c0, 0xf944, 0xa541, 0x6f01, 0x0, 0x0);
        gbc.writeMem(0x92cf, { 0xf6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xfee9);
        EXPECT(gbc.pc(), 0x92d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92cf), 0xf6);
        EXPECT(gbc.readMem(0x92d0), 0xf7);
        // F6 01ED
        gbc.setState(0x55ce, 0x4572, 0xc540, 0xb84c, 0x1962, 0x8e7a, 0x1, 0x1);
        gbc.writeMem(0x55ce, { 0xf6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4572);
        EXPECT(gbc.pc(), 0x55d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01EE
        gbc.setState(0x3570, 0x7556, 0x2530, 0x5cff, 0xac9d, 0x3fb2, 0x0, 0x1);
        gbc.writeMem(0x3570, { 0xf6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7556);
        EXPECT(gbc.pc(), 0x3572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01EF
        gbc.setState(0x4edb, 0xe7a6, 0x25b0, 0x4561, 0xa914, 0x39fb, 0x0, 0x0);
        gbc.writeMem(0x4edb, { 0xf6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe7a6);
        EXPECT(gbc.pc(), 0x4edd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01F0
        gbc.setState(0xe0cc, 0x51c7, 0xd730, 0x3ec1, 0x9bd8, 0x2f77, 0x0, 0x1);
        gbc.writeMem(0xe0cc, { 0xf6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x51c7);
        EXPECT(gbc.pc(), 0xe0ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0cc), 0xf6);
        EXPECT(gbc.readMem(0xe0cd), 0x37);
        // F6 01F1
        gbc.setState(0x9599, 0x717a, 0xe100, 0xec3e, 0xc703, 0x6dcb, 0x1, 0x1);
        gbc.writeMem(0x9599, { 0xf6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x717a);
        EXPECT(gbc.pc(), 0x959b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9599), 0xf6);
        EXPECT(gbc.readMem(0x959a), 0xa8);
        // F6 01F2
        gbc.setState(0x9f98, 0x55f6, 0x7b70, 0x5053, 0x4b81, 0xfa4b, 0x1, 0x1);
        gbc.writeMem(0x9f98, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x55f6);
        EXPECT(gbc.pc(), 0x9f9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f98), 0xf6);
        EXPECT(gbc.readMem(0x9f99), 0x9e);
        // F6 01F4
        gbc.setState(0xc889, 0x35c1, 0x35b0, 0x38e4, 0x3458, 0xa474, 0x0, 0x0);
        gbc.writeMem(0xc889, { 0xf6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x35c1);
        EXPECT(gbc.pc(), 0xc88b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc889), 0xf6);
        EXPECT(gbc.readMem(0xc88a), 0xc9);
        // F6 01F5
        gbc.setState(0xcb9a, 0x5c36, 0x6800, 0xb3bf, 0xaba4, 0xefc8, 0x0, 0x1);
        gbc.writeMem(0xcb9a, { 0xf6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5c36);
        EXPECT(gbc.pc(), 0xcb9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb9a), 0xf6);
        EXPECT(gbc.readMem(0xcb9b), 0x54);
        // F6 01F6
        gbc.setState(0x2fec, 0x62f6, 0x5bf0, 0x1d5d, 0x7b8a, 0x274f, 0x1, 0x1);
        gbc.writeMem(0x2fec, { 0xf6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x62f6);
        EXPECT(gbc.pc(), 0x2fee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01F7
        gbc.setState(0x176e, 0x1b7e, 0xd370, 0xe8d1, 0x389d, 0xa49b, 0x0, 0x1);
        gbc.writeMem(0x176e, { 0xf6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1b7e);
        EXPECT(gbc.pc(), 0x1770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01F8
        gbc.setState(0x142f, 0x554d, 0xd790, 0x11c6, 0x2704, 0xec1a, 0x0, 0x0);
        gbc.writeMem(0x142f, { 0xf6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x554d);
        EXPECT(gbc.pc(), 0x1431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01F9
        gbc.setState(0x47f7, 0x3414, 0x9520, 0xd0b0, 0x7640, 0x691a, 0x1, 0x0);
        gbc.writeMem(0x47f7, { 0xf6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3414);
        EXPECT(gbc.pc(), 0x47f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01FA
        gbc.setState(0x9e5b, 0xf833, 0x6260, 0x2f1a, 0xadd5, 0xcf1d, 0x0, 0x0);
        gbc.writeMem(0x9e5b, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf833);
        EXPECT(gbc.pc(), 0x9e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e5b), 0xf6);
        EXPECT(gbc.readMem(0x9e5c), 0xcd);
        // F6 01FB
        gbc.setState(0xa8f8, 0x5989, 0x6de0, 0xa748, 0x5d42, 0xb523, 0x0, 0x0);
        gbc.writeMem(0xa8f8, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x5989);
        EXPECT(gbc.pc(), 0xa8fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8f8), 0xf6);
        EXPECT(gbc.readMem(0xa8f9), 0xa4);
        // F6 01FC
        gbc.setState(0x9b7b, 0x407, 0xcf90, 0x2a6d, 0x27c6, 0xc4bf, 0x0, 0x0);
        gbc.writeMem(0x9b7b, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x407);
        EXPECT(gbc.pc(), 0x9b7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b7b), 0xf6);
        EXPECT(gbc.readMem(0x9b7c), 0x8);
        // F6 01FD
        gbc.setState(0x7144, 0x44d8, 0x8200, 0x9281, 0xddfd, 0x27b3, 0x1, 0x1);
        gbc.writeMem(0x7144, { 0xf6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x44d8);
        EXPECT(gbc.pc(), 0x7146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 01FE
        gbc.setState(0xbf3d, 0x1b59, 0x4830, 0x5c27, 0x73c1, 0x4e16, 0x0, 0x0);
        gbc.writeMem(0xbf3d, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1b59);
        EXPECT(gbc.pc(), 0xbf3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf3d), 0xf6);
        EXPECT(gbc.readMem(0xbf3e), 0x6e);
        // F6 01FF
        gbc.setState(0xc951, 0xf93f, 0xdfe0, 0xad8d, 0x981a, 0x227b, 0x1, 0x0);
        gbc.writeMem(0xc951, { 0xf6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf93f);
        EXPECT(gbc.pc(), 0xc953);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc951), 0xf6);
        EXPECT(gbc.readMem(0xc952), 0x4c);
        // F6 0200
        gbc.setState(0xd615, 0x3be, 0x9670, 0x5afc, 0x45b3, 0x2575, 0x0, 0x1);
        gbc.writeMem(0xd615, { 0xf6, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3be);
        EXPECT(gbc.pc(), 0xd617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd615), 0xf6);
        EXPECT(gbc.readMem(0xd616), 0x53);
        // F6 0201
        gbc.setState(0x43ee, 0xca24, 0x860, 0x36c1, 0x4e2d, 0xab1e, 0x1, 0x1);
        gbc.writeMem(0x43ee, { 0xf6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xca24);
        EXPECT(gbc.pc(), 0x43f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0202
        gbc.setState(0xd1a2, 0xe12a, 0x1660, 0x16d0, 0x9ae3, 0xdc0c, 0x0, 0x1);
        gbc.writeMem(0xd1a2, { 0xf6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe12a);
        EXPECT(gbc.pc(), 0xd1a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1a2), 0xf6);
        EXPECT(gbc.readMem(0xd1a3), 0x78);
        // F6 0203
        gbc.setState(0x4a62, 0xf6f, 0xc30, 0xb8f, 0x754b, 0x31ac, 0x0, 0x1);
        gbc.writeMem(0x4a62, { 0xf6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf6f);
        EXPECT(gbc.pc(), 0x4a64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0204
        gbc.setState(0x6206, 0x9dbe, 0x3fc0, 0x2b19, 0xd22d, 0x2fd0, 0x0, 0x0);
        gbc.writeMem(0x6206, { 0xf6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9dbe);
        EXPECT(gbc.pc(), 0x6208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0205
        gbc.setState(0x1411, 0x8d08, 0xe390, 0xa099, 0xfbe7, 0x80f4, 0x0, 0x1);
        gbc.writeMem(0x1411, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8d08);
        EXPECT(gbc.pc(), 0x1413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0206
        gbc.setState(0x50b0, 0xcefc, 0x9830, 0xfed3, 0x6c27, 0x87fb, 0x1, 0x1);
        gbc.writeMem(0x50b0, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcefc);
        EXPECT(gbc.pc(), 0x50b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0207
        gbc.setState(0x1116, 0xd39a, 0x6050, 0x1cf9, 0xc986, 0xbf53, 0x0, 0x1);
        gbc.writeMem(0x1116, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xd39a);
        EXPECT(gbc.pc(), 0x1118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0208
        gbc.setState(0x8be3, 0xe26e, 0x79f0, 0x249e, 0x7efe, 0x2f2d, 0x0, 0x0);
        gbc.writeMem(0x8be3, { 0xf6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe26e);
        EXPECT(gbc.pc(), 0x8be5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be3), 0xf6);
        EXPECT(gbc.readMem(0x8be4), 0x4e);
        // F6 0209
        gbc.setState(0xcc68, 0x3b96, 0xc000, 0xbd55, 0x41f5, 0x3c72, 0x0, 0x1);
        gbc.writeMem(0xcc68, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x3b96);
        EXPECT(gbc.pc(), 0xcc6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc68), 0xf6);
        EXPECT(gbc.readMem(0xcc69), 0xb4);
        // F6 020A
        gbc.setState(0xa989, 0xdf96, 0xf230, 0x7b2, 0x9afc, 0x36fa, 0x1, 0x1);
        gbc.writeMem(0xa989, { 0xf6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xdf96);
        EXPECT(gbc.pc(), 0xa98b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa989), 0xf6);
        EXPECT(gbc.readMem(0xa98a), 0x5c);
        // F6 020B
        gbc.setState(0xd2a0, 0x4587, 0xc590, 0xa9a, 0x5d3, 0x4b50, 0x0, 0x1);
        gbc.writeMem(0xd2a0, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4587);
        EXPECT(gbc.pc(), 0xd2a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a0), 0xf6);
        EXPECT(gbc.readMem(0xd2a1), 0xc7);
        // F6 020C
        gbc.setState(0x9cc6, 0xca0b, 0x7480, 0x9535, 0x3cb6, 0xbd60, 0x0, 0x0);
        gbc.writeMem(0x9cc6, { 0xf6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xca0b);
        EXPECT(gbc.pc(), 0x9cc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cc6), 0xf6);
        EXPECT(gbc.readMem(0x9cc7), 0xe0);
        // F6 020D
        gbc.setState(0x257a, 0x553e, 0xa670, 0x5ccc, 0x8f58, 0xbb2a, 0x1, 0x1);
        gbc.writeMem(0x257a, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x553e);
        EXPECT(gbc.pc(), 0x257c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 020E
        gbc.setState(0xa15f, 0xb9da, 0x5c50, 0x6e8c, 0xdca6, 0xbb6c, 0x1, 0x1);
        gbc.writeMem(0xa15f, { 0xf6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb9da);
        EXPECT(gbc.pc(), 0xa161);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa15f), 0xf6);
        EXPECT(gbc.readMem(0xa160), 0xc6);
        // F6 020F
        gbc.setState(0x45ef, 0x59a3, 0x8cb0, 0x8af6, 0x7011, 0xb565, 0x1, 0x0);
        gbc.writeMem(0x45ef, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x59a3);
        EXPECT(gbc.pc(), 0x45f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0210
        gbc.setState(0xcc15, 0x928e, 0x43f0, 0x9480, 0xa942, 0x1e87, 0x1, 0x0);
        gbc.writeMem(0xcc15, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x928e);
        EXPECT(gbc.pc(), 0xcc17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc15), 0xf6);
        EXPECT(gbc.readMem(0xcc16), 0x4f);
        // F6 0211
        gbc.setState(0x84da, 0xcb80, 0x4950, 0x62f6, 0x2376, 0xbed4, 0x1, 0x1);
        gbc.writeMem(0x84da, { 0xf6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xcb80);
        EXPECT(gbc.pc(), 0x84dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84da), 0xf6);
        EXPECT(gbc.readMem(0x84db), 0x9);
        // F6 0212
        gbc.setState(0x238e, 0x6c0e, 0xce20, 0x77f5, 0x56b6, 0xb3ac, 0x1, 0x1);
        gbc.writeMem(0x238e, { 0xf6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6c0e);
        EXPECT(gbc.pc(), 0x2390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0213
        gbc.setState(0xe505, 0xb1e5, 0xf510, 0xd035, 0xd4d6, 0xfa28, 0x0, 0x1);
        gbc.writeMem(0xe505, { 0xf6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb1e5);
        EXPECT(gbc.pc(), 0xe507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe505), 0xf6);
        EXPECT(gbc.readMem(0xe506), 0xb5);
        // F6 0214
        gbc.setState(0xb36b, 0xad3d, 0xccc0, 0x27ef, 0x9210, 0x36d4, 0x0, 0x1);
        gbc.writeMem(0xb36b, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xad3d);
        EXPECT(gbc.pc(), 0xb36d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb36b), 0xf6);
        EXPECT(gbc.readMem(0xb36c), 0x79);
        // F6 0215
        gbc.setState(0xe297, 0x3db7, 0x9420, 0xefd4, 0x5bb9, 0xb17e, 0x0, 0x0);
        gbc.writeMem(0xe297, { 0xf6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3db7);
        EXPECT(gbc.pc(), 0xe299);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe297), 0xf6);
        EXPECT(gbc.readMem(0xe298), 0x17);
        // F6 0216
        gbc.setState(0xd7f7, 0xc420, 0xf820, 0xa6ba, 0xd9ce, 0x53b5, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc420);
        EXPECT(gbc.pc(), 0xd7f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f7), 0xf6);
        EXPECT(gbc.readMem(0xd7f8), 0x42);
        // F6 0217
        gbc.setState(0x3e32, 0xad9b, 0x3420, 0x7502, 0xcdc8, 0xa866, 0x0, 0x1);
        gbc.writeMem(0x3e32, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xad9b);
        EXPECT(gbc.pc(), 0x3e34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0219
        gbc.setState(0x593e, 0xa63d, 0x67e0, 0xf3d4, 0x2bf0, 0xc8d6, 0x0, 0x0);
        gbc.writeMem(0x593e, { 0xf6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa63d);
        EXPECT(gbc.pc(), 0x5940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 021A
        gbc.setState(0x4b57, 0x6560, 0xe250, 0x7ba2, 0x8da9, 0x6bb9, 0x1, 0x0);
        gbc.writeMem(0x4b57, { 0xf6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6560);
        EXPECT(gbc.pc(), 0x4b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 021B
        gbc.setState(0xb1dd, 0xbf50, 0xa2c0, 0x159e, 0xd930, 0x330b, 0x1, 0x0);
        gbc.writeMem(0xb1dd, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xbf50);
        EXPECT(gbc.pc(), 0xb1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1dd), 0xf6);
        EXPECT(gbc.readMem(0xb1de), 0x85);
        // F6 021C
        gbc.setState(0xd1c4, 0x149d, 0x2a00, 0xc256, 0xc0a9, 0x18b2, 0x1, 0x1);
        gbc.writeMem(0xd1c4, { 0xf6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x149d);
        EXPECT(gbc.pc(), 0xd1c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1c4), 0xf6);
        EXPECT(gbc.readMem(0xd1c5), 0x5b);
        // F6 021D
        gbc.setState(0xa133, 0xc24b, 0x1350, 0x2cd2, 0x58bd, 0x3f96, 0x0, 0x0);
        gbc.writeMem(0xa133, { 0xf6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc24b);
        EXPECT(gbc.pc(), 0xa135);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa133), 0xf6);
        EXPECT(gbc.readMem(0xa134), 0x81);
        // F6 021E
        gbc.setState(0xaa39, 0x2098, 0xce50, 0x12ec, 0xef0e, 0x5706, 0x0, 0x1);
        gbc.writeMem(0xaa39, { 0xf6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x2098);
        EXPECT(gbc.pc(), 0xaa3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa39), 0xf6);
        EXPECT(gbc.readMem(0xaa3a), 0x4e);
        // F6 021F
        gbc.setState(0x4464, 0xe9a7, 0x1a30, 0x1e00, 0x9f23, 0xd72, 0x0, 0x1);
        gbc.writeMem(0x4464, { 0xf6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe9a7);
        EXPECT(gbc.pc(), 0x4466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0220
        gbc.setState(0x9418, 0x25b6, 0x53c0, 0xbc01, 0x1e3b, 0x5ae5, 0x0, 0x1);
        gbc.writeMem(0x9418, { 0xf6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x25b6);
        EXPECT(gbc.pc(), 0x941a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9418), 0xf6);
        EXPECT(gbc.readMem(0x9419), 0x1c);
        // F6 0221
        gbc.setState(0x7be6, 0x29fb, 0xb560, 0xe3d5, 0xad7d, 0x94a9, 0x0, 0x1);
        gbc.writeMem(0x7be6, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x29fb);
        EXPECT(gbc.pc(), 0x7be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0222
        gbc.setState(0xdbfc, 0xcf8b, 0xc2b0, 0x8d5d, 0x58c6, 0x842c, 0x1, 0x1);
        gbc.writeMem(0xdbfc, { 0xf6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcf8b);
        EXPECT(gbc.pc(), 0xdbfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbfc), 0xf6);
        EXPECT(gbc.readMem(0xdbfd), 0x64);
        // F6 0224
        gbc.setState(0x1d16, 0x4a60, 0x2680, 0xccc9, 0x9696, 0x469a, 0x1, 0x1);
        gbc.writeMem(0x1d16, { 0xf6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4a60);
        EXPECT(gbc.pc(), 0x1d18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0225
        gbc.setState(0x6dae, 0x8493, 0x52d0, 0xb2f4, 0x6bf6, 0xc95c, 0x1, 0x1);
        gbc.writeMem(0x6dae, { 0xf6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8493);
        EXPECT(gbc.pc(), 0x6db0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0226
        gbc.setState(0xcb35, 0x5737, 0x29c0, 0xa0b2, 0x16b2, 0xa2ee, 0x0, 0x1);
        gbc.writeMem(0xcb35, { 0xf6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5737);
        EXPECT(gbc.pc(), 0xcb37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb35), 0xf6);
        EXPECT(gbc.readMem(0xcb36), 0x5c);
        // F6 0227
        gbc.setState(0x70d3, 0xe111, 0x4da0, 0x99be, 0xb5c9, 0x52dd, 0x1, 0x0);
        gbc.writeMem(0x70d3, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe111);
        EXPECT(gbc.pc(), 0x70d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0228
        gbc.setState(0xf3, 0x8d0c, 0xa870, 0x9bc, 0x11d6, 0x5795, 0x1, 0x0);
        gbc.writeMem(0xf3, { 0xf6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8d0c);
        EXPECT(gbc.pc(), 0xf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0229
        gbc.setState(0xc754, 0xad6d, 0x2f80, 0xdcb4, 0xb6d7, 0x12db, 0x1, 0x0);
        gbc.writeMem(0xc754, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xad6d);
        EXPECT(gbc.pc(), 0xc756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc754), 0xf6);
        EXPECT(gbc.readMem(0xc755), 0x88);
        // F6 022A
        gbc.setState(0xa5f5, 0x9749, 0x75e0, 0xbe0d, 0x3dff, 0x4fe5, 0x0, 0x1);
        gbc.writeMem(0xa5f5, { 0xf6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x9749);
        EXPECT(gbc.pc(), 0xa5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5f5), 0xf6);
        EXPECT(gbc.readMem(0xa5f6), 0x9);
        // F6 022B
        gbc.setState(0x2704, 0x2744, 0x73e0, 0xe6bd, 0x4e95, 0xaebb, 0x1, 0x1);
        gbc.writeMem(0x2704, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2744);
        EXPECT(gbc.pc(), 0x2706);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 022C
        gbc.setState(0xa3b5, 0x184, 0xbc70, 0xa42c, 0x1d35, 0x6ab8, 0x1, 0x0);
        gbc.writeMem(0xa3b5, { 0xf6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x184);
        EXPECT(gbc.pc(), 0xa3b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b5), 0xf6);
        EXPECT(gbc.readMem(0xa3b6), 0xf2);
        // F6 022D
        gbc.setState(0xeea4, 0xfaf8, 0x3470, 0xa022, 0xcf26, 0xe95b, 0x1, 0x1);
        gbc.writeMem(0xeea4, { 0xf6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xfaf8);
        EXPECT(gbc.pc(), 0xeea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeea4), 0xf6);
        EXPECT(gbc.readMem(0xeea5), 0x5);
        // F6 022E
        gbc.setState(0x5c45, 0x8f3a, 0x8060, 0x4187, 0xf7b6, 0xaff9, 0x1, 0x0);
        gbc.writeMem(0x5c45, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8f3a);
        EXPECT(gbc.pc(), 0x5c47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 022F
        gbc.setState(0x9681, 0xbf02, 0x1560, 0xfde7, 0xb785, 0x769e, 0x0, 0x0);
        gbc.writeMem(0x9681, { 0xf6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xbf02);
        EXPECT(gbc.pc(), 0x9683);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9681), 0xf6);
        EXPECT(gbc.readMem(0x9682), 0xbd);
        // F6 0230
        gbc.setState(0xee23, 0xe68, 0x1720, 0x4f7d, 0xb2b2, 0xf2e4, 0x0, 0x0);
        gbc.writeMem(0xee23, { 0xf6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xe68);
        EXPECT(gbc.pc(), 0xee25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee23), 0xf6);
        EXPECT(gbc.readMem(0xee24), 0xf4);
        // F6 0231
        gbc.setState(0x3342, 0xc675, 0x8f50, 0xfb57, 0x4f17, 0x52b8, 0x1, 0x0);
        gbc.writeMem(0x3342, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc675);
        EXPECT(gbc.pc(), 0x3344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0232
        gbc.setState(0x5cab, 0xf807, 0x6c30, 0x7cde, 0x1bc4, 0x5273, 0x1, 0x0);
        gbc.writeMem(0x5cab, { 0xf6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf807);
        EXPECT(gbc.pc(), 0x5cad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0233
        gbc.setState(0x3837, 0xf8b8, 0xd2b0, 0x4458, 0x32b2, 0xe9b6, 0x0, 0x1);
        gbc.writeMem(0x3837, { 0xf6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf8b8);
        EXPECT(gbc.pc(), 0x3839);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0234
        gbc.setState(0x48b2, 0x746d, 0x65f0, 0x3ce8, 0xbbd2, 0xfe2, 0x0, 0x1);
        gbc.writeMem(0x48b2, { 0xf6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x746d);
        EXPECT(gbc.pc(), 0x48b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0235
        gbc.setState(0x3560, 0x280e, 0xb820, 0x9fa8, 0x7127, 0x89, 0x0, 0x1);
        gbc.writeMem(0x3560, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x280e);
        EXPECT(gbc.pc(), 0x3562);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0236
        gbc.setState(0xb5d3, 0xbadf, 0x7280, 0xba5, 0x6ae2, 0x2740, 0x0, 0x0);
        gbc.writeMem(0xb5d3, { 0xf6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbadf);
        EXPECT(gbc.pc(), 0xb5d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d3), 0xf6);
        EXPECT(gbc.readMem(0xb5d4), 0x99);
        // F6 0237
        gbc.setState(0x8d21, 0xd431, 0x48e0, 0x432b, 0x8cb2, 0x49b3, 0x0, 0x0);
        gbc.writeMem(0x8d21, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd431);
        EXPECT(gbc.pc(), 0x8d23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d21), 0xf6);
        EXPECT(gbc.readMem(0x8d22), 0x77);
        // F6 0238
        gbc.setState(0x59c0, 0xd3e3, 0xcef0, 0xbb21, 0x7c4, 0xaee1, 0x1, 0x1);
        gbc.writeMem(0x59c0, { 0xf6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xd3e3);
        EXPECT(gbc.pc(), 0x59c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0239
        gbc.setState(0x86c2, 0xd56e, 0xe010, 0xcfd9, 0xe396, 0x63ab, 0x0, 0x0);
        gbc.writeMem(0x86c2, { 0xf6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd56e);
        EXPECT(gbc.pc(), 0x86c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c2), 0xf6);
        EXPECT(gbc.readMem(0x86c3), 0xbd);
        // F6 023A
        gbc.setState(0xb8f7, 0xdf31, 0xf4c0, 0xa7d4, 0x9a49, 0x818e, 0x0, 0x0);
        gbc.writeMem(0xb8f7, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdf31);
        EXPECT(gbc.pc(), 0xb8f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f7), 0xf6);
        EXPECT(gbc.readMem(0xb8f8), 0x98);
        // F6 023B
        gbc.setState(0xbee, 0x6a67, 0x2aa0, 0xd8ca, 0x70da, 0x77c7, 0x0, 0x1);
        gbc.writeMem(0xbee, { 0xf6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x6a67);
        EXPECT(gbc.pc(), 0xbf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 023C
        gbc.setState(0x443f, 0x142a, 0xcca0, 0x59dd, 0xb488, 0xf543, 0x1, 0x0);
        gbc.writeMem(0x443f, { 0xf6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x142a);
        EXPECT(gbc.pc(), 0x4441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 023D
        gbc.setState(0x6bd5, 0x5f1b, 0xb4e0, 0x6981, 0x597e, 0x96de, 0x0, 0x1);
        gbc.writeMem(0x6bd5, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5f1b);
        EXPECT(gbc.pc(), 0x6bd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 023E
        gbc.setState(0x6138, 0xe89e, 0x8380, 0x96c6, 0x8d4f, 0x3f3, 0x0, 0x0);
        gbc.writeMem(0x6138, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe89e);
        EXPECT(gbc.pc(), 0x613a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 023F
        gbc.setState(0xc2d4, 0x2111, 0x6c0, 0x2e09, 0xe4cf, 0x1241, 0x1, 0x0);
        gbc.writeMem(0xc2d4, { 0xf6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2111);
        EXPECT(gbc.pc(), 0xc2d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2d4), 0xf6);
        EXPECT(gbc.readMem(0xc2d5), 0x9d);
        // F6 0242
        gbc.setState(0xb7b9, 0xf8a4, 0xbf10, 0xf0eb, 0x8173, 0x2da2, 0x1, 0x0);
        gbc.writeMem(0xb7b9, { 0xf6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xf8a4);
        EXPECT(gbc.pc(), 0xb7bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b9), 0xf6);
        EXPECT(gbc.readMem(0xb7ba), 0x66);
        // F6 0243
        gbc.setState(0x9b78, 0x8937, 0x62c0, 0x8d4b, 0x6edb, 0xdab5, 0x0, 0x1);
        gbc.writeMem(0x9b78, { 0xf6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8937);
        EXPECT(gbc.pc(), 0x9b7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b78), 0xf6);
        EXPECT(gbc.readMem(0x9b79), 0x26);
        // F6 0244
        gbc.setState(0x5e9b, 0xeca3, 0xddd0, 0xac15, 0x68c3, 0x3cac, 0x0, 0x1);
        gbc.writeMem(0x5e9b, { 0xf6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xeca3);
        EXPECT(gbc.pc(), 0x5e9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0245
        gbc.setState(0xc620, 0x843a, 0xd90, 0xb522, 0x5fc0, 0xaf5, 0x1, 0x0);
        gbc.writeMem(0xc620, { 0xf6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x843a);
        EXPECT(gbc.pc(), 0xc622);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc620), 0xf6);
        EXPECT(gbc.readMem(0xc621), 0x65);
        // F6 0247
        gbc.setState(0x6723, 0x2b9e, 0xfa10, 0xf2cd, 0x3430, 0xb7c6, 0x1, 0x1);
        gbc.writeMem(0x6723, { 0xf6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2b9e);
        EXPECT(gbc.pc(), 0x6725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0248
        gbc.setState(0x58ac, 0xa708, 0xa3e0, 0x647c, 0xf353, 0x9df0, 0x1, 0x0);
        gbc.writeMem(0x58ac, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa708);
        EXPECT(gbc.pc(), 0x58ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0249
        gbc.setState(0x9c5, 0xb564, 0x90c0, 0xf44d, 0xd43, 0x6f48, 0x0, 0x1);
        gbc.writeMem(0x9c5, { 0xf6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xb564);
        EXPECT(gbc.pc(), 0x9c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 024A
        gbc.setState(0x1d27, 0x5378, 0xb390, 0x9c68, 0xfa9f, 0xb206, 0x0, 0x1);
        gbc.writeMem(0x1d27, { 0xf6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5378);
        EXPECT(gbc.pc(), 0x1d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 024B
        gbc.setState(0x7212, 0xf8f6, 0x47b0, 0x6cc4, 0x86fa, 0xdd5c, 0x0, 0x0);
        gbc.writeMem(0x7212, { 0xf6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf8f6);
        EXPECT(gbc.pc(), 0x7214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 024C
        gbc.setState(0x9a05, 0x26f3, 0x480, 0xcf33, 0x2e1d, 0x1255, 0x0, 0x1);
        gbc.writeMem(0x9a05, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x26f3);
        EXPECT(gbc.pc(), 0x9a07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a05), 0xf6);
        EXPECT(gbc.readMem(0x9a06), 0xe7);
        // F6 024D
        gbc.setState(0x15e3, 0x9d19, 0x88d0, 0x3c14, 0x5e2b, 0x7468, 0x0, 0x0);
        gbc.writeMem(0x15e3, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x9d19);
        EXPECT(gbc.pc(), 0x15e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 024E
        gbc.setState(0xcb9, 0x7027, 0xd320, 0x1118, 0x6fdd, 0xeb84, 0x0, 0x0);
        gbc.writeMem(0xcb9, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7027);
        EXPECT(gbc.pc(), 0xcbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 024F
        gbc.setState(0x2829, 0x6607, 0x6ae0, 0x1e35, 0x2dc4, 0x4f77, 0x0, 0x0);
        gbc.writeMem(0x2829, { 0xf6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6607);
        EXPECT(gbc.pc(), 0x282b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0250
        gbc.setState(0x951, 0xc4d2, 0xee40, 0x93da, 0x2fee, 0xf1bf, 0x1, 0x0);
        gbc.writeMem(0x951, { 0xf6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xc4d2);
        EXPECT(gbc.pc(), 0x953);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0251
        gbc.setState(0x25fb, 0x2861, 0xd6d0, 0xfa7c, 0xbd6f, 0xa0c1, 0x1, 0x0);
        gbc.writeMem(0x25fb, { 0xf6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x2861);
        EXPECT(gbc.pc(), 0x25fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0252
        gbc.setState(0x3436, 0x8db0, 0xdf80, 0x2b71, 0x9782, 0x6fa6, 0x1, 0x1);
        gbc.writeMem(0x3436, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8db0);
        EXPECT(gbc.pc(), 0x3438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0253
        gbc.setState(0x8a68, 0xd050, 0xe250, 0xcae7, 0x6d47, 0x59a0, 0x0, 0x0);
        gbc.writeMem(0x8a68, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd050);
        EXPECT(gbc.pc(), 0x8a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a68), 0xf6);
        EXPECT(gbc.readMem(0x8a69), 0x8);
        // F6 0254
        gbc.setState(0xb605, 0x22b9, 0xfcb0, 0x44f7, 0x1b37, 0x98ac, 0x1, 0x0);
        gbc.writeMem(0xb605, { 0xf6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x22b9);
        EXPECT(gbc.pc(), 0xb607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb605), 0xf6);
        EXPECT(gbc.readMem(0xb606), 0x9d);
        // F6 0255
        gbc.setState(0xabac, 0xc427, 0xae80, 0x6822, 0xee49, 0x573c, 0x0, 0x1);
        gbc.writeMem(0xabac, { 0xf6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc427);
        EXPECT(gbc.pc(), 0xabae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabac), 0xf6);
        EXPECT(gbc.readMem(0xabad), 0x81);
        // F6 0256
        gbc.setState(0x594c, 0x4e84, 0x92a0, 0x7bc5, 0x3a2, 0x9fb2, 0x0, 0x1);
        gbc.writeMem(0x594c, { 0xf6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4e84);
        EXPECT(gbc.pc(), 0x594e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0257
        gbc.setState(0x7161, 0xe053, 0x4710, 0x92df, 0x5a5e, 0x6f8c, 0x0, 0x1);
        gbc.writeMem(0x7161, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe053);
        EXPECT(gbc.pc(), 0x7163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0258
        gbc.setState(0xda45, 0x9c82, 0xd60, 0xc3f0, 0x9c41, 0x3b23, 0x1, 0x0);
        gbc.writeMem(0xda45, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9c82);
        EXPECT(gbc.pc(), 0xda47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda45), 0xf6);
        EXPECT(gbc.readMem(0xda46), 0xcd);
        // F6 0259
        gbc.setState(0x3c9, 0x5089, 0x2990, 0x8821, 0xf1c5, 0xb2fe, 0x1, 0x0);
        gbc.writeMem(0x3c9, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5089);
        EXPECT(gbc.pc(), 0x3cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 025A
        gbc.setState(0x803e, 0x1b74, 0x20b0, 0xe306, 0x651d, 0xefec, 0x0, 0x1);
        gbc.writeMem(0x803e, { 0xf6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x1b74);
        EXPECT(gbc.pc(), 0x8040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x803e), 0xf6);
        EXPECT(gbc.readMem(0x803f), 0x28);
        // F6 025B
        gbc.setState(0xbb11, 0xc97c, 0x1020, 0x5e95, 0x41b6, 0xcf84, 0x1, 0x1);
        gbc.writeMem(0xbb11, { 0xf6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc97c);
        EXPECT(gbc.pc(), 0xbb13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb11), 0xf6);
        EXPECT(gbc.readMem(0xbb12), 0x49);
        // F6 025C
        gbc.setState(0x449a, 0xa28b, 0xa950, 0x33f0, 0x2fe3, 0x53b3, 0x0, 0x1);
        gbc.writeMem(0x449a, { 0xf6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa28b);
        EXPECT(gbc.pc(), 0x449c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 025D
        gbc.setState(0xc429, 0x420, 0x6a20, 0x3023, 0x9189, 0xd4df, 0x1, 0x0);
        gbc.writeMem(0xc429, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x420);
        EXPECT(gbc.pc(), 0xc42b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc429), 0xf6);
        EXPECT(gbc.readMem(0xc42a), 0x42);
        // F6 025E
        gbc.setState(0x50d9, 0x6667, 0x8440, 0x7e91, 0xecf3, 0x8870, 0x0, 0x1);
        gbc.writeMem(0x50d9, { 0xf6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6667);
        EXPECT(gbc.pc(), 0x50db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 025F
        gbc.setState(0x330e, 0xe5e9, 0xd400, 0x77ac, 0xe8e0, 0xcd1b, 0x1, 0x1);
        gbc.writeMem(0x330e, { 0xf6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe5e9);
        EXPECT(gbc.pc(), 0x3310);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0260
        gbc.setState(0xab4f, 0x5da3, 0xad00, 0x39ec, 0x2d2b, 0x4e06, 0x0, 0x1);
        gbc.writeMem(0xab4f, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5da3);
        EXPECT(gbc.pc(), 0xab51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab4f), 0xf6);
        EXPECT(gbc.readMem(0xab50), 0x6);
        // F6 0261
        gbc.setState(0x37, 0x1393, 0x9b70, 0x99c1, 0xa49c, 0x45fa, 0x1, 0x1);
        gbc.writeMem(0x37, { 0xf6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1393);
        EXPECT(gbc.pc(), 0x39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0262
        gbc.setState(0xc4f3, 0xdc73, 0x430, 0x1e0, 0xfb85, 0x5412, 0x1, 0x0);
        gbc.writeMem(0xc4f3, { 0xf6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xdc73);
        EXPECT(gbc.pc(), 0xc4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f3), 0xf6);
        EXPECT(gbc.readMem(0xc4f4), 0x56);
        // F6 0263
        gbc.setState(0x9bbc, 0x489e, 0x6f10, 0x988b, 0xa7d3, 0x260e, 0x1, 0x0);
        gbc.writeMem(0x9bbc, { 0xf6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x489e);
        EXPECT(gbc.pc(), 0x9bbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bbc), 0xf6);
        EXPECT(gbc.readMem(0x9bbd), 0x89);
        // F6 0264
        gbc.setState(0x5d52, 0xcf14, 0xa960, 0x4f7f, 0xb24d, 0x6cef, 0x0, 0x1);
        gbc.writeMem(0x5d52, { 0xf6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xcf14);
        EXPECT(gbc.pc(), 0x5d54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0265
        gbc.setState(0x2bc1, 0xbb70, 0x9880, 0x2c3, 0xa5dd, 0xd28c, 0x1, 0x1);
        gbc.writeMem(0x2bc1, { 0xf6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xbb70);
        EXPECT(gbc.pc(), 0x2bc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0266
        gbc.setState(0x6fe8, 0x2aeb, 0x8160, 0x989b, 0xa991, 0xcc4a, 0x0, 0x1);
        gbc.writeMem(0x6fe8, { 0xf6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2aeb);
        EXPECT(gbc.pc(), 0x6fea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0267
        gbc.setState(0x7e86, 0xcbc5, 0xc330, 0x25b0, 0x31c8, 0xad90, 0x0, 0x0);
        gbc.writeMem(0x7e86, { 0xf6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcbc5);
        EXPECT(gbc.pc(), 0x7e88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0268
        gbc.setState(0xef46, 0x5b34, 0xa80, 0xf32d, 0xb856, 0x37f9, 0x0, 0x0);
        gbc.writeMem(0xef46, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5b34);
        EXPECT(gbc.pc(), 0xef48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef46), 0xf6);
        EXPECT(gbc.readMem(0xef47), 0x6b);
        // F6 0269
        gbc.setState(0xce8c, 0xb893, 0xefd0, 0x9e63, 0xe032, 0x3028, 0x0, 0x0);
        gbc.writeMem(0xce8c, { 0xf6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb893);
        EXPECT(gbc.pc(), 0xce8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8c), 0xf6);
        EXPECT(gbc.readMem(0xce8d), 0x6a);
        // F6 026A
        gbc.setState(0x71ea, 0x8d64, 0x9ba0, 0xe335, 0x5356, 0xd6b5, 0x1, 0x0);
        gbc.writeMem(0x71ea, { 0xf6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8d64);
        EXPECT(gbc.pc(), 0x71ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 026B
        gbc.setState(0xfc, 0xa02f, 0xce00, 0x67a1, 0x524b, 0x1375, 0x1, 0x1);
        gbc.writeMem(0xfc, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa02f);
        EXPECT(gbc.pc(), 0xfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 026C
        gbc.setState(0x6dce, 0xc50e, 0xdaa0, 0x3490, 0xe613, 0xe9f, 0x0, 0x1);
        gbc.writeMem(0x6dce, { 0xf6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc50e);
        EXPECT(gbc.pc(), 0x6dd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 026D
        gbc.setState(0x8235, 0x1d0c, 0xf4a0, 0x52de, 0x5355, 0xa3b7, 0x0, 0x0);
        gbc.writeMem(0x8235, { 0xf6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1d0c);
        EXPECT(gbc.pc(), 0x8237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8235), 0xf6);
        EXPECT(gbc.readMem(0x8236), 0x7e);
        // F6 026E
        gbc.setState(0x5e10, 0x8ac5, 0xd860, 0x38c1, 0x6374, 0x6b50, 0x1, 0x1);
        gbc.writeMem(0x5e10, { 0xf6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8ac5);
        EXPECT(gbc.pc(), 0x5e12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 026F
        gbc.setState(0xacb6, 0xc022, 0xd0c0, 0xc46b, 0x591e, 0xd699, 0x1, 0x0);
        gbc.writeMem(0xacb6, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc022);
        EXPECT(gbc.pc(), 0xacb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacb6), 0xf6);
        EXPECT(gbc.readMem(0xacb7), 0x77);
        // F6 0270
        gbc.setState(0x37d5, 0x7cd5, 0x2250, 0x763b, 0xe5b9, 0xc490, 0x0, 0x0);
        gbc.writeMem(0x37d5, { 0xf6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7cd5);
        EXPECT(gbc.pc(), 0x37d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0271
        gbc.setState(0x5418, 0xba09, 0xc0e0, 0x27c4, 0x6330, 0xc949, 0x0, 0x1);
        gbc.writeMem(0x5418, { 0xf6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xba09);
        EXPECT(gbc.pc(), 0x541a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0272
        gbc.setState(0x920a, 0x8bcb, 0xffc0, 0x972e, 0x3438, 0xc503, 0x1, 0x0);
        gbc.writeMem(0x920a, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8bcb);
        EXPECT(gbc.pc(), 0x920c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x920a), 0xf6);
        EXPECT(gbc.readMem(0x920b), 0xb4);
        // F6 0273
        gbc.setState(0xa5d5, 0xb522, 0x56f0, 0x8833, 0x6444, 0x626f, 0x0, 0x0);
        gbc.writeMem(0xa5d5, { 0xf6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb522);
        EXPECT(gbc.pc(), 0xa5d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5d5), 0xf6);
        EXPECT(gbc.readMem(0xa5d6), 0xbe);
        // F6 0274
        gbc.setState(0x306d, 0xcb9, 0x31b0, 0x5bc1, 0x4368, 0x70af, 0x0, 0x1);
        gbc.writeMem(0x306d, { 0xf6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcb9);
        EXPECT(gbc.pc(), 0x306f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0275
        gbc.setState(0xa20a, 0x1227, 0x6a70, 0xaf40, 0x69b4, 0xcc22, 0x0, 0x0);
        gbc.writeMem(0xa20a, { 0xf6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1227);
        EXPECT(gbc.pc(), 0xa20c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa20a), 0xf6);
        EXPECT(gbc.readMem(0xa20b), 0x67);
        // F6 0276
        gbc.setState(0x699a, 0x9b44, 0xdfb0, 0x9b14, 0x5907, 0xe574, 0x1, 0x1);
        gbc.writeMem(0x699a, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9b44);
        EXPECT(gbc.pc(), 0x699c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0277
        gbc.setState(0x9b55, 0x7275, 0xb230, 0x70d6, 0x3cfc, 0xb7ec, 0x1, 0x1);
        gbc.writeMem(0x9b55, { 0xf6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7275);
        EXPECT(gbc.pc(), 0x9b57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b55), 0xf6);
        EXPECT(gbc.readMem(0x9b56), 0x2c);
        // F6 0278
        gbc.setState(0xd2b2, 0xbe85, 0xf960, 0xe792, 0xe457, 0xe0c3, 0x0, 0x0);
        gbc.writeMem(0xd2b2, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xbe85);
        EXPECT(gbc.pc(), 0xd2b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2b2), 0xf6);
        EXPECT(gbc.readMem(0xd2b3), 0x71);
        // F6 0279
        gbc.setState(0x721a, 0xdb9f, 0xbf50, 0x3b97, 0x4658, 0x5e8e, 0x1, 0x1);
        gbc.writeMem(0x721a, { 0xf6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdb9f);
        EXPECT(gbc.pc(), 0x721c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 027A
        gbc.setState(0xeee0, 0x8fc6, 0x4ec0, 0xb18f, 0x4967, 0xd3a9, 0x1, 0x0);
        gbc.writeMem(0xeee0, { 0xf6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8fc6);
        EXPECT(gbc.pc(), 0xeee2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeee0), 0xf6);
        EXPECT(gbc.readMem(0xeee1), 0x45);
        // F6 027B
        gbc.setState(0xaed5, 0xf754, 0xa4b0, 0xe18a, 0x5d25, 0x106e, 0x1, 0x1);
        gbc.writeMem(0xaed5, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf754);
        EXPECT(gbc.pc(), 0xaed7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaed5), 0xf6);
        EXPECT(gbc.readMem(0xaed6), 0x8e);
        // F6 027C
        gbc.setState(0x6a95, 0xcea4, 0x1f00, 0x8eff, 0xf5b8, 0x3d32, 0x0, 0x1);
        gbc.writeMem(0x6a95, { 0xf6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xcea4);
        EXPECT(gbc.pc(), 0x6a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 027D
        gbc.setState(0x4f49, 0x3cf1, 0xee70, 0x704d, 0x93c8, 0x6947, 0x1, 0x1);
        gbc.writeMem(0x4f49, { 0xf6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x3cf1);
        EXPECT(gbc.pc(), 0x4f4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 027E
        gbc.setState(0xe61b, 0x1c87, 0x70f0, 0x80a5, 0x6771, 0x7a6e, 0x1, 0x0);
        gbc.writeMem(0xe61b, { 0xf6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x1c87);
        EXPECT(gbc.pc(), 0xe61d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe61b), 0xf6);
        EXPECT(gbc.readMem(0xe61c), 0xae);
        // F6 027F
        gbc.setState(0x7763, 0xfedc, 0x4b00, 0x8d68, 0xafac, 0x2c3b, 0x1, 0x1);
        gbc.writeMem(0x7763, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xfedc);
        EXPECT(gbc.pc(), 0x7765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0280
        gbc.setState(0x6999, 0x11b5, 0x97f0, 0xc104, 0xb128, 0x92bf, 0x1, 0x1);
        gbc.writeMem(0x6999, { 0xf6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x11b5);
        EXPECT(gbc.pc(), 0x699b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0281
        gbc.setState(0xcbed, 0x2862, 0x7fc0, 0x2888, 0xe454, 0xa9f4, 0x0, 0x1);
        gbc.writeMem(0xcbed, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2862);
        EXPECT(gbc.pc(), 0xcbef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbed), 0xf6);
        EXPECT(gbc.readMem(0xcbee), 0xc7);
        // F6 0282
        gbc.setState(0x8118, 0x5dc0, 0x41e0, 0x38fd, 0x201c, 0x3e33, 0x0, 0x1);
        gbc.writeMem(0x8118, { 0xf6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5dc0);
        EXPECT(gbc.pc(), 0x811a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8118), 0xf6);
        EXPECT(gbc.readMem(0x8119), 0xab);
        // F6 0283
        gbc.setState(0xe101, 0xf3a4, 0x4250, 0xcc07, 0xc6ce, 0x5d05, 0x0, 0x1);
        gbc.writeMem(0xe101, { 0xf6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf3a4);
        EXPECT(gbc.pc(), 0xe103);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe101), 0xf6);
        EXPECT(gbc.readMem(0xe102), 0xfa);
        // F6 0284
        gbc.setState(0x424a, 0x60e, 0x1e60, 0xaefc, 0xe2e6, 0xe59b, 0x1, 0x0);
        gbc.writeMem(0x424a, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x60e);
        EXPECT(gbc.pc(), 0x424c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0285
        gbc.setState(0x5d14, 0x1034, 0xe8b0, 0xe399, 0x6a40, 0xaf3f, 0x0, 0x0);
        gbc.writeMem(0x5d14, { 0xf6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1034);
        EXPECT(gbc.pc(), 0x5d16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0286
        gbc.setState(0x652e, 0xd0fb, 0x9640, 0xda26, 0x2688, 0x26f6, 0x1, 0x0);
        gbc.writeMem(0x652e, { 0xf6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xd0fb);
        EXPECT(gbc.pc(), 0x6530);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0287
        gbc.setState(0xb7d8, 0x8406, 0x2660, 0xba55, 0xec68, 0x57be, 0x1, 0x0);
        gbc.writeMem(0xb7d8, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8406);
        EXPECT(gbc.pc(), 0xb7da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d8), 0xf6);
        EXPECT(gbc.readMem(0xb7d9), 0xea);
        // F6 0288
        gbc.setState(0xca60, 0x7e4, 0x5d30, 0x924e, 0x79a6, 0x69b9, 0x0, 0x0);
        gbc.writeMem(0xca60, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7e4);
        EXPECT(gbc.pc(), 0xca62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca60), 0xf6);
        EXPECT(gbc.readMem(0xca61), 0x79);
        // F6 0289
        gbc.setState(0x1d9f, 0x1dd9, 0x63c0, 0x9694, 0x4a52, 0xb102, 0x0, 0x0);
        gbc.writeMem(0x1d9f, { 0xf6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1dd9);
        EXPECT(gbc.pc(), 0x1da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 028A
        gbc.setState(0x1dab, 0x5c31, 0x510, 0x695d, 0x6801, 0xbebc, 0x1, 0x0);
        gbc.writeMem(0x1dab, { 0xf6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5c31);
        EXPECT(gbc.pc(), 0x1dad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 028B
        gbc.setState(0x6e8b, 0x5ba6, 0x6600, 0xa8c, 0xfbf5, 0x8c85, 0x0, 0x1);
        gbc.writeMem(0x6e8b, { 0xf6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5ba6);
        EXPECT(gbc.pc(), 0x6e8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 028C
        gbc.setState(0xe140, 0x6018, 0x38c0, 0xadb2, 0x19a7, 0xab39, 0x0, 0x0);
        gbc.writeMem(0xe140, { 0xf6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6018);
        EXPECT(gbc.pc(), 0xe142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe140), 0xf6);
        EXPECT(gbc.readMem(0xe141), 0xa3);
        // F6 028D
        gbc.setState(0x1136, 0xd060, 0x24a0, 0x4d78, 0x255c, 0xef75, 0x0, 0x1);
        gbc.writeMem(0x1136, { 0xf6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd060);
        EXPECT(gbc.pc(), 0x1138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 028F
        gbc.setState(0x7cb0, 0x5496, 0x7030, 0xb7bb, 0xf19f, 0x513a, 0x1, 0x1);
        gbc.writeMem(0x7cb0, { 0xf6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5496);
        EXPECT(gbc.pc(), 0x7cb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0290
        gbc.setState(0xd790, 0x7a62, 0x38e0, 0x25e, 0x7ee1, 0x68d, 0x1, 0x1);
        gbc.writeMem(0xd790, { 0xf6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x7a62);
        EXPECT(gbc.pc(), 0xd792);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd790), 0xf6);
        EXPECT(gbc.readMem(0xd791), 0xa7);
        // F6 0292
        gbc.setState(0x3bd3, 0xbbfb, 0x270, 0x366c, 0xbeef, 0xde56, 0x0, 0x0);
        gbc.writeMem(0x3bd3, { 0xf6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xbbfb);
        EXPECT(gbc.pc(), 0x3bd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0293
        gbc.setState(0xedf3, 0xe181, 0x3800, 0x6cab, 0x9156, 0x90d6, 0x1, 0x0);
        gbc.writeMem(0xedf3, { 0xf6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe181);
        EXPECT(gbc.pc(), 0xedf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedf3), 0xf6);
        EXPECT(gbc.readMem(0xedf4), 0x2);
        // F6 0294
        gbc.setState(0x8d37, 0xb429, 0x350, 0xa60d, 0xaa9d, 0xa9e3, 0x1, 0x1);
        gbc.writeMem(0x8d37, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb429);
        EXPECT(gbc.pc(), 0x8d39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d37), 0xf6);
        EXPECT(gbc.readMem(0x8d38), 0xe6);
        // F6 0295
        gbc.setState(0x5cd5, 0xb396, 0xd380, 0x50b8, 0xc734, 0x7a6f, 0x0, 0x1);
        gbc.writeMem(0x5cd5, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xb396);
        EXPECT(gbc.pc(), 0x5cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0296
        gbc.setState(0x404c, 0x2210, 0x4640, 0x89b9, 0xa8f3, 0xd838, 0x0, 0x1);
        gbc.writeMem(0x404c, { 0xf6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2210);
        EXPECT(gbc.pc(), 0x404e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0297
        gbc.setState(0xe8f3, 0xe84f, 0x67b0, 0x69d7, 0x7c3a, 0xc9b7, 0x0, 0x0);
        gbc.writeMem(0xe8f3, { 0xf6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe84f);
        EXPECT(gbc.pc(), 0xe8f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8f3), 0xf6);
        EXPECT(gbc.readMem(0xe8f4), 0xa);
        // F6 0298
        gbc.setState(0xdf60, 0x5571, 0x3020, 0x52c1, 0x9f79, 0x1a0c, 0x1, 0x1);
        gbc.writeMem(0xdf60, { 0xf6, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5571);
        EXPECT(gbc.pc(), 0xdf62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf60), 0xf6);
        EXPECT(gbc.readMem(0xdf61), 0x9b);
        // F6 0299
        gbc.setState(0x6343, 0x7d35, 0xff00, 0x3cad, 0xde94, 0xc559, 0x1, 0x1);
        gbc.writeMem(0x6343, { 0xf6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7d35);
        EXPECT(gbc.pc(), 0x6345);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 029A
        gbc.setState(0xe55f, 0xd8eb, 0x5eb0, 0x7dcf, 0x78b5, 0x4750, 0x0, 0x1);
        gbc.writeMem(0xe55f, { 0xf6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xd8eb);
        EXPECT(gbc.pc(), 0xe561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe55f), 0xf6);
        EXPECT(gbc.readMem(0xe560), 0xf7);
        // F6 029B
        gbc.setState(0x1a2e, 0xc2ae, 0x6560, 0x84ef, 0xa90b, 0x2d5b, 0x1, 0x0);
        gbc.writeMem(0x1a2e, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc2ae);
        EXPECT(gbc.pc(), 0x1a30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 029C
        gbc.setState(0x1b17, 0x7c5, 0xb930, 0x4a29, 0x665, 0x72ab, 0x0, 0x1);
        gbc.writeMem(0x1b17, { 0xf6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7c5);
        EXPECT(gbc.pc(), 0x1b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 029D
        gbc.setState(0xd1e4, 0xf24d, 0x2b10, 0x28dd, 0x5b58, 0xd918, 0x0, 0x0);
        gbc.writeMem(0xd1e4, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf24d);
        EXPECT(gbc.pc(), 0xd1e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1e4), 0xf6);
        EXPECT(gbc.readMem(0xd1e5), 0x85);
        // F6 029E
        gbc.setState(0xcd06, 0xafef, 0x5b10, 0xff08, 0x1b65, 0xa553, 0x0, 0x0);
        gbc.writeMem(0xcd06, { 0xf6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xafef);
        EXPECT(gbc.pc(), 0xcd08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd06), 0xf6);
        EXPECT(gbc.readMem(0xcd07), 0xaf);
        // F6 029F
        gbc.setState(0x7f0a, 0xc055, 0x8410, 0xf2f5, 0x98f6, 0x556f, 0x1, 0x1);
        gbc.writeMem(0x7f0a, { 0xf6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc055);
        EXPECT(gbc.pc(), 0x7f0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02A0
        gbc.setState(0xa47, 0x107d, 0x9380, 0xa9e4, 0x413e, 0x1259, 0x1, 0x1);
        gbc.writeMem(0xa47, { 0xf6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x107d);
        EXPECT(gbc.pc(), 0xa49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02A1
        gbc.setState(0xcb0b, 0xcaac, 0xce10, 0xdfbc, 0xa65e, 0x5783, 0x1, 0x1);
        gbc.writeMem(0xcb0b, { 0xf6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xcaac);
        EXPECT(gbc.pc(), 0xcb0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb0b), 0xf6);
        EXPECT(gbc.readMem(0xcb0c), 0x37);
        // F6 02A2
        gbc.setState(0x8be7, 0xb270, 0xefa0, 0xcb4e, 0x941c, 0x60a6, 0x0, 0x0);
        gbc.writeMem(0x8be7, { 0xf6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb270);
        EXPECT(gbc.pc(), 0x8be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be7), 0xf6);
        EXPECT(gbc.readMem(0x8be8), 0x48);
        // F6 02A3
        gbc.setState(0xa030, 0x60e3, 0x3470, 0xaf6b, 0x3c5c, 0xbc11, 0x1, 0x0);
        gbc.writeMem(0xa030, { 0xf6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x60e3);
        EXPECT(gbc.pc(), 0xa032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa030), 0xf6);
        EXPECT(gbc.readMem(0xa031), 0xdb);
        // F6 02A4
        gbc.setState(0xbefb, 0x5a4f, 0x8cb0, 0x8b3d, 0x59b, 0xc298, 0x0, 0x0);
        gbc.writeMem(0xbefb, { 0xf6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x5a4f);
        EXPECT(gbc.pc(), 0xbefd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbefb), 0xf6);
        EXPECT(gbc.readMem(0xbefc), 0x8);
        // F6 02A5
        gbc.setState(0x4677, 0xab4, 0x6f10, 0x83ce, 0x3c2f, 0xe3ed, 0x0, 0x0);
        gbc.writeMem(0x4677, { 0xf6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xab4);
        EXPECT(gbc.pc(), 0x4679);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02A6
        gbc.setState(0x881b, 0x48ef, 0xb8a0, 0x55e6, 0x44b0, 0x6e50, 0x0, 0x1);
        gbc.writeMem(0x881b, { 0xf6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x48ef);
        EXPECT(gbc.pc(), 0x881d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x881b), 0xf6);
        EXPECT(gbc.readMem(0x881c), 0xb2);
        // F6 02A7
        gbc.setState(0x227, 0x8efa, 0x4200, 0x2808, 0x3efb, 0x9b77, 0x0, 0x1);
        gbc.writeMem(0x227, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8efa);
        EXPECT(gbc.pc(), 0x229);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02A8
        gbc.setState(0x8a45, 0xfc45, 0x1ac0, 0x8fe2, 0xd7cd, 0xf8a8, 0x0, 0x1);
        gbc.writeMem(0x8a45, { 0xf6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xfc45);
        EXPECT(gbc.pc(), 0x8a47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a45), 0xf6);
        EXPECT(gbc.readMem(0x8a46), 0xa5);
        // F6 02A9
        gbc.setState(0xd003, 0x9f7d, 0x8730, 0x3db6, 0x3a4, 0x931a, 0x0, 0x0);
        gbc.writeMem(0xd003, { 0xf6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9f7d);
        EXPECT(gbc.pc(), 0xd005);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd003), 0xf6);
        EXPECT(gbc.readMem(0xd004), 0xf7);
        // F6 02AA
        gbc.setState(0x2e92, 0xfa0a, 0xd5c0, 0x826d, 0x72dc, 0xaa00, 0x1, 0x0);
        gbc.writeMem(0x2e92, { 0xf6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xfa0a);
        EXPECT(gbc.pc(), 0x2e94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02AB
        gbc.setState(0x40b0, 0x87ee, 0xca50, 0x1777, 0xa903, 0x61f1, 0x1, 0x0);
        gbc.writeMem(0x40b0, { 0xf6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x87ee);
        EXPECT(gbc.pc(), 0x40b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02AC
        gbc.setState(0x972d, 0x58b2, 0xe290, 0x305a, 0xb010, 0x420e, 0x1, 0x0);
        gbc.writeMem(0x972d, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x58b2);
        EXPECT(gbc.pc(), 0x972f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972d), 0xf6);
        EXPECT(gbc.readMem(0x972e), 0x94);
        // F6 02AD
        gbc.setState(0x9229, 0x4603, 0xaa40, 0xc90, 0xdea3, 0x495e, 0x0, 0x1);
        gbc.writeMem(0x9229, { 0xf6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4603);
        EXPECT(gbc.pc(), 0x922b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9229), 0xf6);
        EXPECT(gbc.readMem(0x922a), 0x92);
        // F6 02AE
        gbc.setState(0xbaa0, 0xf107, 0x3860, 0xe435, 0x66fa, 0x89d5, 0x1, 0x1);
        gbc.writeMem(0xbaa0, { 0xf6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf107);
        EXPECT(gbc.pc(), 0xbaa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaa0), 0xf6);
        EXPECT(gbc.readMem(0xbaa1), 0xf7);
        // F6 02AF
        gbc.setState(0xdb8b, 0x179b, 0xaa50, 0x5e3f, 0x8e8c, 0x8aee, 0x1, 0x0);
        gbc.writeMem(0xdb8b, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x179b);
        EXPECT(gbc.pc(), 0xdb8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb8b), 0xf6);
        EXPECT(gbc.readMem(0xdb8c), 0x42);
        // F6 02B0
        gbc.setState(0x1e1d, 0xbe9a, 0x35f0, 0x993, 0x9be, 0x78a7, 0x1, 0x0);
        gbc.writeMem(0x1e1d, { 0xf6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xbe9a);
        EXPECT(gbc.pc(), 0x1e1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B1
        gbc.setState(0xef36, 0x7a91, 0xa900, 0x128d, 0xe481, 0x1299, 0x0, 0x0);
        gbc.writeMem(0xef36, { 0xf6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7a91);
        EXPECT(gbc.pc(), 0xef38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef36), 0xf6);
        EXPECT(gbc.readMem(0xef37), 0xb6);
        // F6 02B2
        gbc.setState(0x4643, 0xb799, 0x4de0, 0x9e34, 0x7b34, 0xa630, 0x1, 0x0);
        gbc.writeMem(0x4643, { 0xf6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb799);
        EXPECT(gbc.pc(), 0x4645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B3
        gbc.setState(0x29c5, 0x1446, 0xd470, 0x6f81, 0xe58c, 0x6434, 0x0, 0x1);
        gbc.writeMem(0x29c5, { 0xf6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1446);
        EXPECT(gbc.pc(), 0x29c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B5
        gbc.setState(0x7952, 0x94f8, 0x9d30, 0x8cde, 0xaee9, 0xac22, 0x1, 0x0);
        gbc.writeMem(0x7952, { 0xf6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x94f8);
        EXPECT(gbc.pc(), 0x7954);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B6
        gbc.setState(0x466b, 0xe6c9, 0xf440, 0x6345, 0xc249, 0x2e1d, 0x0, 0x1);
        gbc.writeMem(0x466b, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe6c9);
        EXPECT(gbc.pc(), 0x466d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B7
        gbc.setState(0x25a2, 0x2d55, 0xa810, 0x5fe9, 0x5ef4, 0x5b7d, 0x1, 0x0);
        gbc.writeMem(0x25a2, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2d55);
        EXPECT(gbc.pc(), 0x25a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B8
        gbc.setState(0x3739, 0x3a3a, 0x8460, 0x7c28, 0x5d10, 0x12bb, 0x0, 0x0);
        gbc.writeMem(0x3739, { 0xf6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3a3a);
        EXPECT(gbc.pc(), 0x373b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02B9
        gbc.setState(0x52e5, 0x931b, 0x65d0, 0x9a90, 0xdc24, 0x2428, 0x0, 0x0);
        gbc.writeMem(0x52e5, { 0xf6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x931b);
        EXPECT(gbc.pc(), 0x52e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02BA
        gbc.setState(0x8a3, 0x46f0, 0xfa60, 0x5454, 0x229d, 0x2a8, 0x1, 0x0);
        gbc.writeMem(0x8a3, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x46f0);
        EXPECT(gbc.pc(), 0x8a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02BB
        gbc.setState(0x991a, 0xdf7c, 0x7db0, 0xe7a0, 0x3d54, 0x797f, 0x0, 0x0);
        gbc.writeMem(0x991a, { 0xf6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xdf7c);
        EXPECT(gbc.pc(), 0x991c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x991a), 0xf6);
        EXPECT(gbc.readMem(0x991b), 0xa8);
        // F6 02BC
        gbc.setState(0x141c, 0xacd0, 0xe5e0, 0xa6bf, 0xd96b, 0x1d7c, 0x0, 0x1);
        gbc.writeMem(0x141c, { 0xf6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xacd0);
        EXPECT(gbc.pc(), 0x141e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02BD
        gbc.setState(0x3d2c, 0xe697, 0x52f0, 0xaaa1, 0xcb2b, 0x39f2, 0x1, 0x0);
        gbc.writeMem(0x3d2c, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe697);
        EXPECT(gbc.pc(), 0x3d2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02BE
        gbc.setState(0x8ae5, 0x79a8, 0xf680, 0xddfe, 0x204e, 0xe1c5, 0x0, 0x0);
        gbc.writeMem(0x8ae5, { 0xf6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x79a8);
        EXPECT(gbc.pc(), 0x8ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae5), 0xf6);
        EXPECT(gbc.readMem(0x8ae6), 0xbb);
        // F6 02C0
        gbc.setState(0x61a2, 0xd59f, 0x5e40, 0xfd58, 0xb3d4, 0xd8d6, 0x1, 0x1);
        gbc.writeMem(0x61a2, { 0xf6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd59f);
        EXPECT(gbc.pc(), 0x61a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02C1
        gbc.setState(0x97e7, 0x5cf3, 0x93a0, 0x76cd, 0xd909, 0xca2e, 0x1, 0x0);
        gbc.writeMem(0x97e7, { 0xf6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5cf3);
        EXPECT(gbc.pc(), 0x97e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97e7), 0xf6);
        EXPECT(gbc.readMem(0x97e8), 0x10);
        // F6 02C2
        gbc.setState(0xc882, 0x4438, 0x4b40, 0xc746, 0x5739, 0xcdcc, 0x1, 0x0);
        gbc.writeMem(0xc882, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4438);
        EXPECT(gbc.pc(), 0xc884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc882), 0xf6);
        EXPECT(gbc.readMem(0xc883), 0x6e);
        // F6 02C4
        gbc.setState(0x1156, 0x3857, 0xcd60, 0xc9e6, 0xd114, 0x7c82, 0x0, 0x1);
        gbc.writeMem(0x1156, { 0xf6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3857);
        EXPECT(gbc.pc(), 0x1158);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02C5
        gbc.setState(0x4910, 0xcfc3, 0xac30, 0x5281, 0xcd48, 0x95ab, 0x1, 0x0);
        gbc.writeMem(0x4910, { 0xf6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xcfc3);
        EXPECT(gbc.pc(), 0x4912);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02C6
        gbc.setState(0x4940, 0x11c8, 0x1340, 0x8a00, 0xafab, 0x6333, 0x0, 0x0);
        gbc.writeMem(0x4940, { 0xf6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x11c8);
        EXPECT(gbc.pc(), 0x4942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02C7
        gbc.setState(0x5c96, 0x9718, 0xd510, 0x5a4, 0x810b, 0x1b52, 0x1, 0x1);
        gbc.writeMem(0x5c96, { 0xf6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x9718);
        EXPECT(gbc.pc(), 0x5c98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02C8
        gbc.setState(0x8d9d, 0x3f5e, 0x7a90, 0x5352, 0x5737, 0xafd6, 0x1, 0x1);
        gbc.writeMem(0x8d9d, { 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3f5e);
        EXPECT(gbc.pc(), 0x8d9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9d), 0xf6);
        EXPECT(gbc.readMem(0x8d9e), 0xbc);
        // F6 02C9
        gbc.setState(0x560e, 0x1ba1, 0xad20, 0xb031, 0x715, 0x9b7a, 0x0, 0x0);
        gbc.writeMem(0x560e, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1ba1);
        EXPECT(gbc.pc(), 0x5610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02CC
        gbc.setState(0xab7, 0xdeb, 0x7da0, 0xdf91, 0x8d4a, 0xf740, 0x1, 0x0);
        gbc.writeMem(0xab7, { 0xf6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdeb);
        EXPECT(gbc.pc(), 0xab9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02CD
        gbc.setState(0x47c3, 0xb8c9, 0xda80, 0xc60a, 0xda8f, 0x7e3d, 0x1, 0x0);
        gbc.writeMem(0x47c3, { 0xf6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb8c9);
        EXPECT(gbc.pc(), 0x47c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02CE
        gbc.setState(0x8a3, 0x2c1e, 0x9700, 0x35ec, 0xdec8, 0x5b51, 0x1, 0x1);
        gbc.writeMem(0x8a3, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2c1e);
        EXPECT(gbc.pc(), 0x8a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02CF
        gbc.setState(0x8ae6, 0x5231, 0x96b0, 0xb3ae, 0xa141, 0x2200, 0x1, 0x1);
        gbc.writeMem(0x8ae6, { 0xf6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5231);
        EXPECT(gbc.pc(), 0x8ae8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ae6), 0xf6);
        EXPECT(gbc.readMem(0x8ae7), 0xcd);
        // F6 02D0
        gbc.setState(0x5390, 0x3aa3, 0x9a60, 0x3adc, 0xb8f, 0x67b3, 0x1, 0x0);
        gbc.writeMem(0x5390, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3aa3);
        EXPECT(gbc.pc(), 0x5392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02D1
        gbc.setState(0xb2ad, 0x59c7, 0x9500, 0xdf9, 0x3b4a, 0x7aaf, 0x1, 0x1);
        gbc.writeMem(0xb2ad, { 0xf6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x59c7);
        EXPECT(gbc.pc(), 0xb2af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ad), 0xf6);
        EXPECT(gbc.readMem(0xb2ae), 0xd6);
        // F6 02D2
        gbc.setState(0xe19b, 0xebaa, 0xf4f0, 0xac31, 0x9ae8, 0xdf83, 0x0, 0x1);
        gbc.writeMem(0xe19b, { 0xf6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xebaa);
        EXPECT(gbc.pc(), 0xe19d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe19b), 0xf6);
        EXPECT(gbc.readMem(0xe19c), 0x63);
        // F6 02D3
        gbc.setState(0x85f8, 0x632d, 0x87e0, 0x153c, 0xd26, 0xf6f3, 0x0, 0x0);
        gbc.writeMem(0x85f8, { 0xf6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x632d);
        EXPECT(gbc.pc(), 0x85fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85f8), 0xf6);
        EXPECT(gbc.readMem(0x85f9), 0x5d);
        // F6 02D4
        gbc.setState(0xa840, 0x9dc8, 0x350, 0x2d2, 0x8654, 0x9f8a, 0x0, 0x1);
        gbc.writeMem(0xa840, { 0xf6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x9dc8);
        EXPECT(gbc.pc(), 0xa842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa840), 0xf6);
        EXPECT(gbc.readMem(0xa841), 0xdd);
        // F6 02D5
        gbc.setState(0x41eb, 0x22a2, 0xb620, 0x22ad, 0xce43, 0xe0ce, 0x1, 0x1);
        gbc.writeMem(0x41eb, { 0xf6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x22a2);
        EXPECT(gbc.pc(), 0x41ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02D6
        gbc.setState(0xc3aa, 0x2e88, 0xb40, 0x4f19, 0xe164, 0x9788, 0x1, 0x0);
        gbc.writeMem(0xc3aa, { 0xf6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2e88);
        EXPECT(gbc.pc(), 0xc3ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3aa), 0xf6);
        EXPECT(gbc.readMem(0xc3ab), 0x6e);
        // F6 02D7
        gbc.setState(0xb953, 0xc3a5, 0xf2b0, 0x2bcc, 0x81a8, 0xc387, 0x1, 0x0);
        gbc.writeMem(0xb953, { 0xf6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc3a5);
        EXPECT(gbc.pc(), 0xb955);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb953), 0xf6);
        EXPECT(gbc.readMem(0xb954), 0xc1);
        // F6 02D8
        gbc.setState(0xc1e4, 0x735e, 0x6d70, 0xaf18, 0xad24, 0x1b90, 0x0, 0x0);
        gbc.writeMem(0xc1e4, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x735e);
        EXPECT(gbc.pc(), 0xc1e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e4), 0xf6);
        EXPECT(gbc.readMem(0xc1e5), 0x79);
        // F6 02D9
        gbc.setState(0x8d0e, 0x3e87, 0x2630, 0xec7, 0x863, 0xac41, 0x0, 0x1);
        gbc.writeMem(0x8d0e, { 0xf6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3e87);
        EXPECT(gbc.pc(), 0x8d10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d0e), 0xf6);
        EXPECT(gbc.readMem(0x8d0f), 0x4d);
        // F6 02DA
        gbc.setState(0x8f4a, 0x8820, 0x7100, 0xa021, 0x5f37, 0xabf3, 0x1, 0x0);
        gbc.writeMem(0x8f4a, { 0xf6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8820);
        EXPECT(gbc.pc(), 0x8f4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f4a), 0xf6);
        EXPECT(gbc.readMem(0x8f4b), 0x26);
        // F6 02DB
        gbc.setState(0xa726, 0xf0e1, 0xbb90, 0x3554, 0x3d67, 0xe8, 0x1, 0x1);
        gbc.writeMem(0xa726, { 0xf6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf0e1);
        EXPECT(gbc.pc(), 0xa728);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa726), 0xf6);
        EXPECT(gbc.readMem(0xa727), 0xe9);
        // F6 02DC
        gbc.setState(0x1fdb, 0xdc8d, 0x2700, 0x523f, 0x9ad4, 0x27fb, 0x0, 0x0);
        gbc.writeMem(0x1fdb, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xdc8d);
        EXPECT(gbc.pc(), 0x1fdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02DD
        gbc.setState(0xd2e3, 0xf1eb, 0xaf60, 0x7af4, 0x264b, 0xc684, 0x0, 0x1);
        gbc.writeMem(0xd2e3, { 0xf6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf1eb);
        EXPECT(gbc.pc(), 0xd2e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e3), 0xf6);
        EXPECT(gbc.readMem(0xd2e4), 0xd1);
        // F6 02DE
        gbc.setState(0x8821, 0x124a, 0xdbd0, 0x1970, 0x5c4f, 0x5964, 0x1, 0x0);
        gbc.writeMem(0x8821, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x124a);
        EXPECT(gbc.pc(), 0x8823);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8821), 0xf6);
        EXPECT(gbc.readMem(0x8822), 0xea);
        // F6 02DF
        gbc.setState(0xd591, 0xe549, 0xc480, 0x71e, 0x8fcb, 0xcf51, 0x0, 0x0);
        gbc.writeMem(0xd591, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xe549);
        EXPECT(gbc.pc(), 0xd593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd591), 0xf6);
        EXPECT(gbc.readMem(0xd592), 0x8c);
        // F6 02E0
        gbc.setState(0x1d66, 0x3408, 0x8610, 0x1137, 0xc602, 0xe0d6, 0x0, 0x1);
        gbc.writeMem(0x1d66, { 0xf6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3408);
        EXPECT(gbc.pc(), 0x1d68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E1
        gbc.setState(0xa923, 0xa5cc, 0xfac0, 0x134b, 0x7506, 0x3669, 0x1, 0x1);
        gbc.writeMem(0xa923, { 0xf6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xa5cc);
        EXPECT(gbc.pc(), 0xa925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa923), 0xf6);
        EXPECT(gbc.readMem(0xa924), 0x2a);
        // F6 02E2
        gbc.setState(0x8fba, 0x863b, 0x9a80, 0xfeb2, 0xea75, 0x274a, 0x0, 0x0);
        gbc.writeMem(0x8fba, { 0xf6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x863b);
        EXPECT(gbc.pc(), 0x8fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fba), 0xf6);
        EXPECT(gbc.readMem(0x8fbb), 0x8a);
        // F6 02E3
        gbc.setState(0x18c6, 0x62e1, 0x5da0, 0x5867, 0x485a, 0x82c4, 0x0, 0x0);
        gbc.writeMem(0x18c6, { 0xf6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x62e1);
        EXPECT(gbc.pc(), 0x18c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E4
        gbc.setState(0x64bf, 0xa6ff, 0x9870, 0x9670, 0x72e5, 0xc2f2, 0x1, 0x0);
        gbc.writeMem(0x64bf, { 0xf6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa6ff);
        EXPECT(gbc.pc(), 0x64c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E5
        gbc.setState(0x6494, 0xcb6, 0x70e0, 0xcd63, 0x7418, 0x95b1, 0x1, 0x0);
        gbc.writeMem(0x6494, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xcb6);
        EXPECT(gbc.pc(), 0x6496);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E6
        gbc.setState(0x42a8, 0xe9e2, 0xbde0, 0xc94, 0x8caa, 0xa828, 0x1, 0x0);
        gbc.writeMem(0x42a8, { 0xf6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe9e2);
        EXPECT(gbc.pc(), 0x42aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E7
        gbc.setState(0x5e28, 0xdd20, 0xd8d0, 0x9681, 0x8b92, 0xf896, 0x1, 0x1);
        gbc.writeMem(0x5e28, { 0xf6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xdd20);
        EXPECT(gbc.pc(), 0x5e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02E8
        gbc.setState(0xec71, 0x7682, 0x9b10, 0x4ee5, 0xfc07, 0x6dc4, 0x0, 0x0);
        gbc.writeMem(0xec71, { 0xf6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7682);
        EXPECT(gbc.pc(), 0xec73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec71), 0xf6);
        EXPECT(gbc.readMem(0xec72), 0xe5);
        // F6 02E9
        gbc.setState(0x8ab4, 0x2eaf, 0x47c0, 0x320, 0x30ee, 0xdb27, 0x1, 0x0);
        gbc.writeMem(0x8ab4, { 0xf6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2eaf);
        EXPECT(gbc.pc(), 0x8ab6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ab4), 0xf6);
        EXPECT(gbc.readMem(0x8ab5), 0x7a);
        // F6 02EA
        gbc.setState(0x63fe, 0x381d, 0x4f0, 0xaa9e, 0xa4e8, 0x7f5f, 0x0, 0x1);
        gbc.writeMem(0x63fe, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x381d);
        EXPECT(gbc.pc(), 0x6400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02EB
        gbc.setState(0x79af, 0x8cf1, 0xc6a0, 0x7d18, 0xa3ab, 0x3956, 0x0, 0x0);
        gbc.writeMem(0x79af, { 0xf6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8cf1);
        EXPECT(gbc.pc(), 0x79b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02EC
        gbc.setState(0x4b77, 0x1591, 0x70b0, 0xdc73, 0x7091, 0x23aa, 0x0, 0x1);
        gbc.writeMem(0x4b77, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x1591);
        EXPECT(gbc.pc(), 0x4b79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02ED
        gbc.setState(0xe8fb, 0x4959, 0x3880, 0x7b63, 0x66e, 0xbbaa, 0x0, 0x1);
        gbc.writeMem(0xe8fb, { 0xf6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x4959);
        EXPECT(gbc.pc(), 0xe8fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8fb), 0xf6);
        EXPECT(gbc.readMem(0xe8fc), 0xe9);
        // F6 02EE
        gbc.setState(0xacf3, 0xabed, 0x5150, 0x3412, 0x6399, 0xc066, 0x1, 0x1);
        gbc.writeMem(0xacf3, { 0xf6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xabed);
        EXPECT(gbc.pc(), 0xacf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf3), 0xf6);
        EXPECT(gbc.readMem(0xacf4), 0x82);
        // F6 02EF
        gbc.setState(0xf95, 0x7ac9, 0x7140, 0x4797, 0xffef, 0x83a9, 0x1, 0x0);
        gbc.writeMem(0xf95, { 0xf6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7ac9);
        EXPECT(gbc.pc(), 0xf97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F0
        gbc.setState(0x4a74, 0x22ab, 0x9dd0, 0x94c, 0xbb6, 0x4bf, 0x0, 0x0);
        gbc.writeMem(0x4a74, { 0xf6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x22ab);
        EXPECT(gbc.pc(), 0x4a76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F1
        gbc.setState(0x3134, 0xc925, 0x8b60, 0x3930, 0x7ccc, 0x3994, 0x1, 0x1);
        gbc.writeMem(0x3134, { 0xf6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc925);
        EXPECT(gbc.pc(), 0x3136);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F2
        gbc.setState(0x871b, 0xae0, 0xace0, 0xe09, 0x5534, 0xb74a, 0x1, 0x1);
        gbc.writeMem(0x871b, { 0xf6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xae0);
        EXPECT(gbc.pc(), 0x871d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x871b), 0xf6);
        EXPECT(gbc.readMem(0x871c), 0x69);
        // F6 02F3
        gbc.setState(0xd5d2, 0xcf0d, 0xf2c0, 0x8ee6, 0x6689, 0x1afd, 0x0, 0x0);
        gbc.writeMem(0xd5d2, { 0xf6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xcf0d);
        EXPECT(gbc.pc(), 0xd5d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d2), 0xf6);
        EXPECT(gbc.readMem(0xd5d3), 0x2c);
        // F6 02F4
        gbc.setState(0x57e6, 0x2b13, 0xac00, 0x9341, 0x16f4, 0x3198, 0x1, 0x1);
        gbc.writeMem(0x57e6, { 0xf6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2b13);
        EXPECT(gbc.pc(), 0x57e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F5
        gbc.setState(0xbb44, 0x9cd6, 0x62d0, 0x67b8, 0xa583, 0xa310, 0x0, 0x0);
        gbc.writeMem(0xbb44, { 0xf6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9cd6);
        EXPECT(gbc.pc(), 0xbb46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb44), 0xf6);
        EXPECT(gbc.readMem(0xbb45), 0x8e);
        // F6 02F6
        gbc.setState(0x4a10, 0x74f8, 0x9cb0, 0x7da8, 0x70b2, 0xbf28, 0x0, 0x1);
        gbc.writeMem(0x4a10, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x74f8);
        EXPECT(gbc.pc(), 0x4a12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F7
        gbc.setState(0x5531, 0x1f7d, 0xc0e0, 0x1f18, 0xd43a, 0xcb82, 0x1, 0x1);
        gbc.writeMem(0x5531, { 0xf6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1f7d);
        EXPECT(gbc.pc(), 0x5533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02F8
        gbc.setState(0x8feb, 0xec44, 0x3bb0, 0xc2ad, 0xf071, 0xb38d, 0x0, 0x1);
        gbc.writeMem(0x8feb, { 0xf6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xec44);
        EXPECT(gbc.pc(), 0x8fed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8feb), 0xf6);
        EXPECT(gbc.readMem(0x8fec), 0x50);
        // F6 02F9
        gbc.setState(0x24cf, 0x86ee, 0xd1b0, 0x5019, 0xf22a, 0x3650, 0x0, 0x0);
        gbc.writeMem(0x24cf, { 0xf6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x86ee);
        EXPECT(gbc.pc(), 0x24d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02FA
        gbc.setState(0x554d, 0x8cae, 0x4f30, 0xd470, 0x6e19, 0x7916, 0x1, 0x1);
        gbc.writeMem(0x554d, { 0xf6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8cae);
        EXPECT(gbc.pc(), 0x554f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02FB
        gbc.setState(0x4490, 0x70a4, 0x2dc0, 0xca09, 0xcebc, 0xdbe9, 0x1, 0x1);
        gbc.writeMem(0x4490, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x70a4);
        EXPECT(gbc.pc(), 0x4492);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02FC
        gbc.setState(0x7998, 0x62b5, 0x7b0, 0x74bb, 0xe2c2, 0x5891, 0x1, 0x1);
        gbc.writeMem(0x7998, { 0xf6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x62b5);
        EXPECT(gbc.pc(), 0x799a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 02FD
        gbc.setState(0xac37, 0xb6a1, 0xb530, 0xaa77, 0x5f26, 0xdcd5, 0x1, 0x1);
        gbc.writeMem(0xac37, { 0xf6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb6a1);
        EXPECT(gbc.pc(), 0xac39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac37), 0xf6);
        EXPECT(gbc.readMem(0xac38), 0x16);
        // F6 02FE
        gbc.setState(0xc12e, 0xb13a, 0xb210, 0xe80c, 0x7025, 0x2ed0, 0x0, 0x1);
        gbc.writeMem(0xc12e, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb13a);
        EXPECT(gbc.pc(), 0xc130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc12e), 0xf6);
        EXPECT(gbc.readMem(0xc12f), 0x52);
        // F6 02FF
        gbc.setState(0x8361, 0xf65f, 0x14b0, 0xe6d1, 0xed21, 0x521f, 0x1, 0x0);
        gbc.writeMem(0x8361, { 0xf6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf65f);
        EXPECT(gbc.pc(), 0x8363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8361), 0xf6);
        EXPECT(gbc.readMem(0x8362), 0x7e);
        // F6 0300
        gbc.setState(0x2849, 0x28af, 0x47f0, 0x334b, 0x2945, 0x172f, 0x0, 0x1);
        gbc.writeMem(0x2849, { 0xf6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x28af);
        EXPECT(gbc.pc(), 0x284b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0301
        gbc.setState(0x618e, 0x73b0, 0xe200, 0x3960, 0xb74d, 0xcf3f, 0x1, 0x0);
        gbc.writeMem(0x618e, { 0xf6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x73b0);
        EXPECT(gbc.pc(), 0x6190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0302
        gbc.setState(0x114d, 0xb10, 0x5c70, 0x585f, 0xea5d, 0xf195, 0x0, 0x0);
        gbc.writeMem(0x114d, { 0xf6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb10);
        EXPECT(gbc.pc(), 0x114f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0304
        gbc.setState(0x5aef, 0xf02c, 0xab40, 0xe289, 0x8025, 0x128f, 0x0, 0x1);
        gbc.writeMem(0x5aef, { 0xf6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf02c);
        EXPECT(gbc.pc(), 0x5af1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0305
        gbc.setState(0x734f, 0xbb46, 0x61a0, 0xecb6, 0xac18, 0xded2, 0x0, 0x0);
        gbc.writeMem(0x734f, { 0xf6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xbb46);
        EXPECT(gbc.pc(), 0x7351);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0307
        gbc.setState(0x596a, 0x9c9e, 0xe410, 0xde1b, 0x6d5a, 0xba47, 0x1, 0x0);
        gbc.writeMem(0x596a, { 0xf6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9c9e);
        EXPECT(gbc.pc(), 0x596c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0308
        gbc.setState(0x942a, 0x2c42, 0xe3a0, 0x7dd8, 0xdd03, 0x69f7, 0x0, 0x0);
        gbc.writeMem(0x942a, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2c42);
        EXPECT(gbc.pc(), 0x942c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x942a), 0xf6);
        EXPECT(gbc.readMem(0x942b), 0x77);
        // F6 030A
        gbc.setState(0x759d, 0x9525, 0x2d40, 0x9282, 0x6633, 0x37da, 0x1, 0x0);
        gbc.writeMem(0x759d, { 0xf6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9525);
        EXPECT(gbc.pc(), 0x759f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 030B
        gbc.setState(0xafce, 0x8790, 0x90d0, 0xb28c, 0x3d9a, 0x76f1, 0x0, 0x1);
        gbc.writeMem(0xafce, { 0xf6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8790);
        EXPECT(gbc.pc(), 0xafd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafce), 0xf6);
        EXPECT(gbc.readMem(0xafcf), 0x10);
        // F6 030C
        gbc.setState(0xd410, 0x9cd, 0x3f00, 0x3d58, 0x6b71, 0x7c33, 0x0, 0x0);
        gbc.writeMem(0xd410, { 0xf6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9cd);
        EXPECT(gbc.pc(), 0xd412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd410), 0xf6);
        EXPECT(gbc.readMem(0xd411), 0xb0);
        // F6 030D
        gbc.setState(0x4618, 0xafb8, 0xb4a0, 0x8259, 0xe9c4, 0xc2e0, 0x1, 0x0);
        gbc.writeMem(0x4618, { 0xf6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xafb8);
        EXPECT(gbc.pc(), 0x461a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 030E
        gbc.setState(0xd257, 0xe750, 0x8e00, 0x4fda, 0x49fa, 0x6c64, 0x1, 0x1);
        gbc.writeMem(0xd257, { 0xf6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe750);
        EXPECT(gbc.pc(), 0xd259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd257), 0xf6);
        EXPECT(gbc.readMem(0xd258), 0x59);
        // F6 030F
        gbc.setState(0x6344, 0x70c2, 0xd7c0, 0xd388, 0x7598, 0xf8f9, 0x0, 0x0);
        gbc.writeMem(0x6344, { 0xf6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x70c2);
        EXPECT(gbc.pc(), 0x6346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0310
        gbc.setState(0x83d4, 0x3093, 0xf950, 0x6dd8, 0x2717, 0x7a06, 0x0, 0x0);
        gbc.writeMem(0x83d4, { 0xf6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3093);
        EXPECT(gbc.pc(), 0x83d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d4), 0xf6);
        EXPECT(gbc.readMem(0x83d5), 0xf0);
        // F6 0311
        gbc.setState(0xb28b, 0x49fc, 0xec30, 0x67d6, 0x9a69, 0xcc67, 0x1, 0x1);
        gbc.writeMem(0xb28b, { 0xf6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x49fc);
        EXPECT(gbc.pc(), 0xb28d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb28b), 0xf6);
        EXPECT(gbc.readMem(0xb28c), 0x40);
        // F6 0312
        gbc.setState(0xe542, 0xce40, 0x3510, 0x8133, 0xd40, 0x25f7, 0x1, 0x1);
        gbc.writeMem(0xe542, { 0xf6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xce40);
        EXPECT(gbc.pc(), 0xe544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe542), 0xf6);
        EXPECT(gbc.readMem(0xe543), 0xa7);
        // F6 0313
        gbc.setState(0x6d3c, 0x102d, 0x1770, 0xae78, 0x43cc, 0xd6f, 0x1, 0x0);
        gbc.writeMem(0x6d3c, { 0xf6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x102d);
        EXPECT(gbc.pc(), 0x6d3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0314
        gbc.setState(0x2ec5, 0xfd9a, 0x33b0, 0x74ae, 0xd1c6, 0x103f, 0x0, 0x0);
        gbc.writeMem(0x2ec5, { 0xf6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xfd9a);
        EXPECT(gbc.pc(), 0x2ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0316
        gbc.setState(0x1d9b, 0xe3dd, 0xa1e0, 0xcbbf, 0xa719, 0xac9d, 0x0, 0x1);
        gbc.writeMem(0x1d9b, { 0xf6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xe3dd);
        EXPECT(gbc.pc(), 0x1d9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0317
        gbc.setState(0xcc66, 0xb5b9, 0xc6f0, 0xe53a, 0x8412, 0x9fed, 0x1, 0x1);
        gbc.writeMem(0xcc66, { 0xf6, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xb5b9);
        EXPECT(gbc.pc(), 0xcc68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc66), 0xf6);
        EXPECT(gbc.readMem(0xcc67), 0x48);
        // F6 0318
        gbc.setState(0x82cd, 0xb7f8, 0x12e0, 0x6c92, 0xb6bd, 0x98a6, 0x1, 0x1);
        gbc.writeMem(0x82cd, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb7f8);
        EXPECT(gbc.pc(), 0x82cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82cd), 0xf6);
        EXPECT(gbc.readMem(0x82ce), 0xb4);
        // F6 0319
        gbc.setState(0x9b6a, 0xfddd, 0xd3a0, 0xbe51, 0x1e48, 0x90f2, 0x1, 0x0);
        gbc.writeMem(0x9b6a, { 0xf6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xfddd);
        EXPECT(gbc.pc(), 0x9b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b6a), 0xf6);
        EXPECT(gbc.readMem(0x9b6b), 0xa);
        // F6 031A
        gbc.setState(0xe327, 0xf4e, 0xce0, 0x4476, 0x129f, 0xc82f, 0x1, 0x0);
        gbc.writeMem(0xe327, { 0xf6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf4e);
        EXPECT(gbc.pc(), 0xe329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe327), 0xf6);
        EXPECT(gbc.readMem(0xe328), 0x67);
        // F6 031B
        gbc.setState(0xb70d, 0xe63, 0x880, 0x5347, 0x139d, 0xec3, 0x0, 0x1);
        gbc.writeMem(0xb70d, { 0xf6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe63);
        EXPECT(gbc.pc(), 0xb70f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb70d), 0xf6);
        EXPECT(gbc.readMem(0xb70e), 0xf);
        // F6 031C
        gbc.setState(0xbb67, 0x8b42, 0x6ff0, 0x1252, 0x1ccd, 0xdfa3, 0x1, 0x1);
        gbc.writeMem(0xbb67, { 0xf6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8b42);
        EXPECT(gbc.pc(), 0xbb69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb67), 0xf6);
        EXPECT(gbc.readMem(0xbb68), 0xe1);
        // F6 031E
        gbc.setState(0xce8c, 0x6755, 0x3410, 0x3305, 0xdbc8, 0xe5c2, 0x0, 0x0);
        gbc.writeMem(0xce8c, { 0xf6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6755);
        EXPECT(gbc.pc(), 0xce8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce8c), 0xf6);
        EXPECT(gbc.readMem(0xce8d), 0x6a);
        // F6 031F
        gbc.setState(0xb0d6, 0xed2a, 0xfe0, 0x40c4, 0x1f76, 0xb606, 0x1, 0x0);
        gbc.writeMem(0xb0d6, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xed2a);
        EXPECT(gbc.pc(), 0xb0d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0d6), 0xf6);
        EXPECT(gbc.readMem(0xb0d7), 0x8d);
        // F6 0320
        gbc.setState(0xb18f, 0xdd41, 0x5aa0, 0x5daa, 0x369f, 0x8462, 0x1, 0x0);
        gbc.writeMem(0xb18f, { 0xf6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xdd41);
        EXPECT(gbc.pc(), 0xb191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb18f), 0xf6);
        EXPECT(gbc.readMem(0xb190), 0xc3);
        // F6 0321
        gbc.setState(0x3e4a, 0xebfe, 0xa9e0, 0xbd41, 0x6d9, 0x425a, 0x1, 0x1);
        gbc.writeMem(0x3e4a, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xebfe);
        EXPECT(gbc.pc(), 0x3e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0322
        gbc.setState(0x3acc, 0xbaf7, 0x1810, 0x21e4, 0xdfd6, 0x757a, 0x0, 0x1);
        gbc.writeMem(0x3acc, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xbaf7);
        EXPECT(gbc.pc(), 0x3ace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0323
        gbc.setState(0xb762, 0x45e8, 0x9300, 0x6e9b, 0x5886, 0x5e87, 0x1, 0x0);
        gbc.writeMem(0xb762, { 0xf6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x45e8);
        EXPECT(gbc.pc(), 0xb764);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb762), 0xf6);
        EXPECT(gbc.readMem(0xb763), 0xf1);
        // F6 0324
        gbc.setState(0x4b8b, 0x7d7e, 0xc100, 0x1d3, 0x5617, 0x70cf, 0x1, 0x0);
        gbc.writeMem(0x4b8b, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7d7e);
        EXPECT(gbc.pc(), 0x4b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0325
        gbc.setState(0xa8ef, 0x8611, 0xd070, 0xa2de, 0xf96d, 0xbc55, 0x1, 0x0);
        gbc.writeMem(0xa8ef, { 0xf6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x8611);
        EXPECT(gbc.pc(), 0xa8f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ef), 0xf6);
        EXPECT(gbc.readMem(0xa8f0), 0xb2);
        // F6 0326
        gbc.setState(0xb81, 0x6a22, 0xea50, 0xe107, 0xf54e, 0x6c9, 0x0, 0x0);
        gbc.writeMem(0xb81, { 0xf6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6a22);
        EXPECT(gbc.pc(), 0xb83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0328
        gbc.setState(0xe993, 0x406b, 0xc430, 0xd5a1, 0x4a6, 0x5ae1, 0x1, 0x0);
        gbc.writeMem(0xe993, { 0xf6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x406b);
        EXPECT(gbc.pc(), 0xe995);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe993), 0xf6);
        EXPECT(gbc.readMem(0xe994), 0xff);
        // F6 0329
        gbc.setState(0x3f9c, 0xc33, 0x75f0, 0xbd05, 0xc004, 0xadd9, 0x1, 0x1);
        gbc.writeMem(0x3f9c, { 0xf6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc33);
        EXPECT(gbc.pc(), 0x3f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 032A
        gbc.setState(0x1d1e, 0x5427, 0x8520, 0x5b16, 0x1c1f, 0xd02, 0x0, 0x0);
        gbc.writeMem(0x1d1e, { 0xf6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5427);
        EXPECT(gbc.pc(), 0x1d20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 032B
        gbc.setState(0xba76, 0xa6ed, 0x6fc0, 0x9189, 0x227a, 0xf8f3, 0x1, 0x1);
        gbc.writeMem(0xba76, { 0xf6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa6ed);
        EXPECT(gbc.pc(), 0xba78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba76), 0xf6);
        EXPECT(gbc.readMem(0xba77), 0xdc);
        // F6 032C
        gbc.setState(0xba50, 0x9df5, 0x5430, 0x75f2, 0xbc59, 0xe150, 0x0, 0x1);
        gbc.writeMem(0xba50, { 0xf6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9df5);
        EXPECT(gbc.pc(), 0xba52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba50), 0xf6);
        EXPECT(gbc.readMem(0xba51), 0x87);
        // F6 032D
        gbc.setState(0x11ac, 0xf46b, 0xe690, 0xf397, 0xac8d, 0x48de, 0x0, 0x1);
        gbc.writeMem(0x11ac, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf46b);
        EXPECT(gbc.pc(), 0x11ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 032E
        gbc.setState(0x8e0d, 0x1df3, 0xff50, 0x96a, 0x812f, 0x7873, 0x1, 0x1);
        gbc.writeMem(0x8e0d, { 0xf6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x1df3);
        EXPECT(gbc.pc(), 0x8e0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e0d), 0xf6);
        EXPECT(gbc.readMem(0x8e0e), 0x69);
        // F6 032F
        gbc.setState(0x5812, 0x5f3b, 0x6250, 0x368a, 0xb4b6, 0x1ce3, 0x0, 0x0);
        gbc.writeMem(0x5812, { 0xf6, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5f3b);
        EXPECT(gbc.pc(), 0x5814);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0330
        gbc.setState(0x762a, 0xfed1, 0xc230, 0x3426, 0x12b1, 0x5292, 0x0, 0x1);
        gbc.writeMem(0x762a, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xfed1);
        EXPECT(gbc.pc(), 0x762c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0332
        gbc.setState(0xebf5, 0x316a, 0x9d90, 0xe1d5, 0x7a25, 0x7c12, 0x1, 0x1);
        gbc.writeMem(0xebf5, { 0xf6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x316a);
        EXPECT(gbc.pc(), 0xebf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebf5), 0xf6);
        EXPECT(gbc.readMem(0xebf6), 0x13);
        // F6 0333
        gbc.setState(0x4952, 0xd3d0, 0x6c60, 0x72a4, 0xc468, 0x74aa, 0x0, 0x0);
        gbc.writeMem(0x4952, { 0xf6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd3d0);
        EXPECT(gbc.pc(), 0x4954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0334
        gbc.setState(0xd878, 0x542b, 0x7750, 0x106f, 0xfdd5, 0x8f27, 0x1, 0x1);
        gbc.writeMem(0xd878, { 0xf6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x542b);
        EXPECT(gbc.pc(), 0xd87a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd878), 0xf6);
        EXPECT(gbc.readMem(0xd879), 0x2f);
        // F6 0335
        gbc.setState(0x43d4, 0x218f, 0x4530, 0xe206, 0x51c1, 0x27c0, 0x0, 0x0);
        gbc.writeMem(0x43d4, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x218f);
        EXPECT(gbc.pc(), 0x43d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0336
        gbc.setState(0xad94, 0x5e1, 0xb9d0, 0x7d5d, 0x2555, 0xd634, 0x0, 0x0);
        gbc.writeMem(0xad94, { 0xf6, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5e1);
        EXPECT(gbc.pc(), 0xad96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad94), 0xf6);
        EXPECT(gbc.readMem(0xad95), 0x87);
        // F6 0337
        gbc.setState(0x51bc, 0x2a5e, 0x4300, 0x206b, 0xfa98, 0xf182, 0x0, 0x0);
        gbc.writeMem(0x51bc, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2a5e);
        EXPECT(gbc.pc(), 0x51be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0338
        gbc.setState(0xcba6, 0x27a5, 0xe580, 0xc031, 0x493a, 0x9f9c, 0x1, 0x1);
        gbc.writeMem(0xcba6, { 0xf6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x27a5);
        EXPECT(gbc.pc(), 0xcba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcba6), 0xf6);
        EXPECT(gbc.readMem(0xcba7), 0xde);
        // F6 0339
        gbc.setState(0x65b4, 0xf658, 0x9a80, 0x5705, 0xcccd, 0x5965, 0x0, 0x1);
        gbc.writeMem(0x65b4, { 0xf6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf658);
        EXPECT(gbc.pc(), 0x65b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 033A
        gbc.setState(0x4e21, 0x6761, 0xaec0, 0xe106, 0x8880, 0x4460, 0x0, 0x0);
        gbc.writeMem(0x4e21, { 0xf6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6761);
        EXPECT(gbc.pc(), 0x4e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 033B
        gbc.setState(0x7c7b, 0xf3cb, 0xae50, 0x1d7a, 0x546b, 0x4f, 0x0, 0x1);
        gbc.writeMem(0x7c7b, { 0xf6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf3cb);
        EXPECT(gbc.pc(), 0x7c7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 033C
        gbc.setState(0x8791, 0x2811, 0x2010, 0xaeca, 0xe745, 0xa836, 0x0, 0x0);
        gbc.writeMem(0x8791, { 0xf6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2811);
        EXPECT(gbc.pc(), 0x8793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8791), 0xf6);
        EXPECT(gbc.readMem(0x8792), 0x4d);
        // F6 033E
        gbc.setState(0x737c, 0xd40d, 0xe7f0, 0xe21d, 0xa043, 0x124b, 0x1, 0x0);
        gbc.writeMem(0x737c, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd40d);
        EXPECT(gbc.pc(), 0x737e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 033F
        gbc.setState(0xd630, 0xf8d8, 0xfa70, 0x58a0, 0xb5d6, 0xd2f1, 0x1, 0x0);
        gbc.writeMem(0xd630, { 0xf6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf8d8);
        EXPECT(gbc.pc(), 0xd632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd630), 0xf6);
        EXPECT(gbc.readMem(0xd631), 0x5d);
        // F6 0340
        gbc.setState(0x3454, 0x6abf, 0xbed0, 0x7e24, 0xfa0e, 0x49e3, 0x1, 0x1);
        gbc.writeMem(0x3454, { 0xf6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x6abf);
        EXPECT(gbc.pc(), 0x3456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0341
        gbc.setState(0x4a74, 0x2d90, 0x7370, 0x3933, 0x2ddb, 0x23ac, 0x1, 0x1);
        gbc.writeMem(0x4a74, { 0xf6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2d90);
        EXPECT(gbc.pc(), 0x4a76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0342
        gbc.setState(0xac3c, 0xfea2, 0x2710, 0x9f2, 0xac36, 0xbc7, 0x1, 0x1);
        gbc.writeMem(0xac3c, { 0xf6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xfea2);
        EXPECT(gbc.pc(), 0xac3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac3c), 0xf6);
        EXPECT(gbc.readMem(0xac3d), 0x5e);
        // F6 0343
        gbc.setState(0xc9c8, 0xdb61, 0x1dd0, 0xdc79, 0x6a38, 0x357e, 0x0, 0x0);
        gbc.writeMem(0xc9c8, { 0xf6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xdb61);
        EXPECT(gbc.pc(), 0xc9ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9c8), 0xf6);
        EXPECT(gbc.readMem(0xc9c9), 0x25);
        // F6 0344
        gbc.setState(0x11d2, 0x1111, 0x6e30, 0xb4d4, 0x434f, 0x32c6, 0x0, 0x0);
        gbc.writeMem(0x11d2, { 0xf6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x1111);
        EXPECT(gbc.pc(), 0x11d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0345
        gbc.setState(0x256c, 0x5e05, 0x760, 0xf644, 0x5d74, 0xad17, 0x1, 0x0);
        gbc.writeMem(0x256c, { 0xf6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x5e05);
        EXPECT(gbc.pc(), 0x256e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0346
        gbc.setState(0x675f, 0xdafa, 0x6750, 0x47a3, 0x73ea, 0x3531, 0x1, 0x1);
        gbc.writeMem(0x675f, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xdafa);
        EXPECT(gbc.pc(), 0x6761);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0347
        gbc.setState(0xcc22, 0xa80e, 0xf2c0, 0x35f9, 0xd897, 0x9ab2, 0x1, 0x1);
        gbc.writeMem(0xcc22, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xa80e);
        EXPECT(gbc.pc(), 0xcc24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc22), 0xf6);
        EXPECT(gbc.readMem(0xcc23), 0xca);
        // F6 0348
        gbc.setState(0x269a, 0xb160, 0x4f50, 0x3884, 0xc736, 0xc012, 0x1, 0x0);
        gbc.writeMem(0x269a, { 0xf6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb160);
        EXPECT(gbc.pc(), 0x269c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0349
        gbc.setState(0x166c, 0xa831, 0x8e50, 0x417, 0x6b55, 0x9b4a, 0x0, 0x0);
        gbc.writeMem(0x166c, { 0xf6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa831);
        EXPECT(gbc.pc(), 0x166e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 034A
        gbc.setState(0x32be, 0xfc47, 0xec00, 0x975, 0x1972, 0x4bdb, 0x0, 0x0);
        gbc.writeMem(0x32be, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xfc47);
        EXPECT(gbc.pc(), 0x32c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 034C
        gbc.setState(0x7207, 0x3511, 0xbe40, 0xbcb, 0x7d3b, 0xa0cf, 0x1, 0x1);
        gbc.writeMem(0x7207, { 0xf6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x3511);
        EXPECT(gbc.pc(), 0x7209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 034D
        gbc.setState(0xd01d, 0x6c0f, 0x27e0, 0xa0e2, 0x3509, 0x89b7, 0x0, 0x0);
        gbc.writeMem(0xd01d, { 0xf6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6c0f);
        EXPECT(gbc.pc(), 0xd01f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd01d), 0xf6);
        EXPECT(gbc.readMem(0xd01e), 0x2d);
        // F6 034E
        gbc.setState(0x57d2, 0x294c, 0xea0, 0x985c, 0x6bf1, 0xd583, 0x0, 0x1);
        gbc.writeMem(0x57d2, { 0xf6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x294c);
        EXPECT(gbc.pc(), 0x57d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 034F
        gbc.setState(0x1c41, 0x4555, 0xc860, 0xfa0e, 0x3e49, 0x268d, 0x0, 0x0);
        gbc.writeMem(0x1c41, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4555);
        EXPECT(gbc.pc(), 0x1c43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0350
        gbc.setState(0xa585, 0xe127, 0x1fd0, 0x9c2c, 0xb88c, 0x6e8e, 0x0, 0x0);
        gbc.writeMem(0xa585, { 0xf6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe127);
        EXPECT(gbc.pc(), 0xa587);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa585), 0xf6);
        EXPECT(gbc.readMem(0xa586), 0xd3);
        // F6 0351
        gbc.setState(0xd409, 0x1039, 0xb4e0, 0x4b9e, 0xd902, 0x2c3f, 0x1, 0x1);
        gbc.writeMem(0xd409, { 0xf6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1039);
        EXPECT(gbc.pc(), 0xd40b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd409), 0xf6);
        EXPECT(gbc.readMem(0xd40a), 0x11);
        // F6 0352
        gbc.setState(0x7525, 0x44b7, 0x6b10, 0xda03, 0x9683, 0x467f, 0x0, 0x0);
        gbc.writeMem(0x7525, { 0xf6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x44b7);
        EXPECT(gbc.pc(), 0x7527);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0353
        gbc.setState(0x88b0, 0xc9f1, 0x8d80, 0xca90, 0xb1f3, 0xfd75, 0x1, 0x1);
        gbc.writeMem(0x88b0, { 0xf6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc9f1);
        EXPECT(gbc.pc(), 0x88b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b0), 0xf6);
        EXPECT(gbc.readMem(0x88b1), 0xed);
        // F6 0354
        gbc.setState(0xecda, 0x8b13, 0x9dc0, 0xc2f5, 0x5d3a, 0x983f, 0x1, 0x1);
        gbc.writeMem(0xecda, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8b13);
        EXPECT(gbc.pc(), 0xecdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecda), 0xf6);
        EXPECT(gbc.readMem(0xecdb), 0x75);
        // F6 0355
        gbc.setState(0xb4f5, 0xcc0f, 0x5060, 0xc457, 0x13f0, 0xea65, 0x0, 0x0);
        gbc.writeMem(0xb4f5, { 0xf6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xcc0f);
        EXPECT(gbc.pc(), 0xb4f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f5), 0xf6);
        EXPECT(gbc.readMem(0xb4f6), 0x51);
        // F6 0356
        gbc.setState(0xc5dc, 0x721f, 0xb600, 0xf776, 0xe20e, 0x89c9, 0x1, 0x0);
        gbc.writeMem(0xc5dc, { 0xf6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x721f);
        EXPECT(gbc.pc(), 0xc5de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5dc), 0xf6);
        EXPECT(gbc.readMem(0xc5dd), 0xb0);
        // F6 0357
        gbc.setState(0x96d3, 0x6517, 0xa3c0, 0x1d3f, 0xb12b, 0xf32b, 0x1, 0x0);
        gbc.writeMem(0x96d3, { 0xf6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6517);
        EXPECT(gbc.pc(), 0x96d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d3), 0xf6);
        EXPECT(gbc.readMem(0x96d4), 0x9);
        // F6 0358
        gbc.setState(0x45bd, 0xb0f4, 0x4d60, 0x6fcc, 0x9d9d, 0x1504, 0x0, 0x0);
        gbc.writeMem(0x45bd, { 0xf6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xb0f4);
        EXPECT(gbc.pc(), 0x45bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0359
        gbc.setState(0x770f, 0x7068, 0xb470, 0x95bc, 0x9e3e, 0xffee, 0x1, 0x0);
        gbc.writeMem(0x770f, { 0xf6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x7068);
        EXPECT(gbc.pc(), 0x7711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 035B
        gbc.setState(0x52e8, 0xb0c8, 0x5a80, 0xc9b, 0x1dbf, 0xdb7d, 0x1, 0x1);
        gbc.writeMem(0x52e8, { 0xf6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb0c8);
        EXPECT(gbc.pc(), 0x52ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 035C
        gbc.setState(0x3ba9, 0xcde4, 0xe30, 0xe845, 0x6b66, 0xf8c2, 0x1, 0x1);
        gbc.writeMem(0x3ba9, { 0xf6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xcde4);
        EXPECT(gbc.pc(), 0x3bab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 035D
        gbc.setState(0x84a2, 0x2a62, 0x120, 0xffeb, 0xf496, 0x3046, 0x0, 0x1);
        gbc.writeMem(0x84a2, { 0xf6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x2a62);
        EXPECT(gbc.pc(), 0x84a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84a2), 0xf6);
        EXPECT(gbc.readMem(0x84a3), 0xa6);
        // F6 035E
        gbc.setState(0xa228, 0xc5a0, 0xbe40, 0x2c8b, 0x3540, 0x256d, 0x1, 0x0);
        gbc.writeMem(0xa228, { 0xf6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xc5a0);
        EXPECT(gbc.pc(), 0xa22a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa228), 0xf6);
        EXPECT(gbc.readMem(0xa229), 0xac);
        // F6 0360
        gbc.setState(0xe614, 0xf678, 0x9b00, 0xe0df, 0x170e, 0x698c, 0x0, 0x0);
        gbc.writeMem(0xe614, { 0xf6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf678);
        EXPECT(gbc.pc(), 0xe616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe614), 0xf6);
        EXPECT(gbc.readMem(0xe615), 0x22);
        // F6 0361
        gbc.setState(0x4215, 0x5b4d, 0x1170, 0xf41d, 0x666, 0xef1c, 0x1, 0x0);
        gbc.writeMem(0x4215, { 0xf6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x5b4d);
        EXPECT(gbc.pc(), 0x4217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0362
        gbc.setState(0xe07b, 0xb75c, 0xde10, 0x5a64, 0xd149, 0xf5ce, 0x0, 0x0);
        gbc.writeMem(0xe07b, { 0xf6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb75c);
        EXPECT(gbc.pc(), 0xe07d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe07b), 0xf6);
        EXPECT(gbc.readMem(0xe07c), 0xda);
        // F6 0363
        gbc.setState(0xa90a, 0x6da6, 0xd480, 0xaf21, 0xcc1c, 0x4976, 0x0, 0x0);
        gbc.writeMem(0xa90a, { 0xf6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6da6);
        EXPECT(gbc.pc(), 0xa90c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa90a), 0xf6);
        EXPECT(gbc.readMem(0xa90b), 0x43);
        // F6 0364
        gbc.setState(0x82ff, 0xdfff, 0x7380, 0xd424, 0x6125, 0x31e8, 0x1, 0x1);
        gbc.writeMem(0x82ff, { 0xf6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xdfff);
        EXPECT(gbc.pc(), 0x8301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ff), 0xf6);
        EXPECT(gbc.readMem(0x8300), 0xd9);
        // F6 0365
        gbc.setState(0x4649, 0x8341, 0x6000, 0x6e84, 0x1573, 0xeaf1, 0x0, 0x0);
        gbc.writeMem(0x4649, { 0xf6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8341);
        EXPECT(gbc.pc(), 0x464b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0366
        gbc.setState(0x2da6, 0xf596, 0x4430, 0x6c66, 0x5a39, 0xda3e, 0x0, 0x0);
        gbc.writeMem(0x2da6, { 0xf6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf596);
        EXPECT(gbc.pc(), 0x2da8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0367
        gbc.setState(0x74d1, 0x1d13, 0x7670, 0xce82, 0x520, 0x8142, 0x1, 0x0);
        gbc.writeMem(0x74d1, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1d13);
        EXPECT(gbc.pc(), 0x74d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0368
        gbc.setState(0x795a, 0xdcdf, 0x7e70, 0x39f1, 0x65a8, 0xaeea, 0x0, 0x0);
        gbc.writeMem(0x795a, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xdcdf);
        EXPECT(gbc.pc(), 0x795c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0369
        gbc.setState(0xb630, 0xa1c2, 0x3360, 0xb2ee, 0x9886, 0xab03, 0x0, 0x0);
        gbc.writeMem(0xb630, { 0xf6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa1c2);
        EXPECT(gbc.pc(), 0xb632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb630), 0xf6);
        EXPECT(gbc.readMem(0xb631), 0x4a);
        // F6 036A
        gbc.setState(0x5451, 0xafee, 0x1f00, 0x1f98, 0x44ea, 0x6f96, 0x1, 0x0);
        gbc.writeMem(0x5451, { 0xf6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xafee);
        EXPECT(gbc.pc(), 0x5453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 036B
        gbc.setState(0x5c, 0xa1c3, 0x6e70, 0xdfc1, 0x98dd, 0xfb1, 0x1, 0x0);
        gbc.writeMem(0x5c, { 0xf6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xa1c3);
        EXPECT(gbc.pc(), 0x5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 036C
        gbc.setState(0x5e91, 0x3a0b, 0xb540, 0x9147, 0xc1ee, 0x5be9, 0x1, 0x1);
        gbc.writeMem(0x5e91, { 0xf6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3a0b);
        EXPECT(gbc.pc(), 0x5e93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 036D
        gbc.setState(0x69d9, 0xb34e, 0xc610, 0x17e2, 0x744e, 0xf36e, 0x0, 0x0);
        gbc.writeMem(0x69d9, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb34e);
        EXPECT(gbc.pc(), 0x69db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 036E
        gbc.setState(0xcbce, 0xe090, 0xa950, 0x1aeb, 0xfe04, 0x698c, 0x0, 0x1);
        gbc.writeMem(0xcbce, { 0xf6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe090);
        EXPECT(gbc.pc(), 0xcbd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbce), 0xf6);
        EXPECT(gbc.readMem(0xcbcf), 0x6a);
        // F6 036F
        gbc.setState(0xc28a, 0x9bdf, 0xcd40, 0xd099, 0xb3f6, 0xdcaf, 0x0, 0x1);
        gbc.writeMem(0xc28a, { 0xf6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9bdf);
        EXPECT(gbc.pc(), 0xc28c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc28a), 0xf6);
        EXPECT(gbc.readMem(0xc28b), 0xc7);
        // F6 0370
        gbc.setState(0x5cdb, 0xfb04, 0x1c30, 0xf48d, 0xb58d, 0xe081, 0x0, 0x0);
        gbc.writeMem(0x5cdb, { 0xf6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xfb04);
        EXPECT(gbc.pc(), 0x5cdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0371
        gbc.setState(0xaadd, 0x516, 0xb10, 0xd54f, 0x9bd4, 0xf9e, 0x1, 0x1);
        gbc.writeMem(0xaadd, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x516);
        EXPECT(gbc.pc(), 0xaadf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaadd), 0xf6);
        EXPECT(gbc.readMem(0xaade), 0xca);
        // F6 0372
        gbc.setState(0xaba4, 0xc5b9, 0xab90, 0x6f5f, 0xdd32, 0x42d0, 0x1, 0x0);
        gbc.writeMem(0xaba4, { 0xf6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc5b9);
        EXPECT(gbc.pc(), 0xaba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba4), 0xf6);
        EXPECT(gbc.readMem(0xaba5), 0x5f);
        // F6 0373
        gbc.setState(0x11ba, 0x3d04, 0x93d0, 0xfea6, 0x8d6b, 0x1b61, 0x1, 0x1);
        gbc.writeMem(0x11ba, { 0xf6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3d04);
        EXPECT(gbc.pc(), 0x11bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0374
        gbc.setState(0x811d, 0x2cca, 0x3490, 0x1ea4, 0x5523, 0x1303, 0x0, 0x0);
        gbc.writeMem(0x811d, { 0xf6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2cca);
        EXPECT(gbc.pc(), 0x811f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x811d), 0xf6);
        EXPECT(gbc.readMem(0x811e), 0x16);
        // F6 0375
        gbc.setState(0x7399, 0x71d0, 0xfa10, 0xcb24, 0x1d34, 0x4b4a, 0x0, 0x0);
        gbc.writeMem(0x7399, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x71d0);
        EXPECT(gbc.pc(), 0x739b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0376
        gbc.setState(0x9619, 0x7d6, 0xe210, 0xac76, 0xfcfb, 0x22be, 0x1, 0x1);
        gbc.writeMem(0x9619, { 0xf6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7d6);
        EXPECT(gbc.pc(), 0x961b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9619), 0xf6);
        EXPECT(gbc.readMem(0x961a), 0xe7);
        // F6 0377
        gbc.setState(0xd2eb, 0xa5c6, 0x8c80, 0xfb3, 0x7ceb, 0x7415, 0x1, 0x1);
        gbc.writeMem(0xd2eb, { 0xf6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa5c6);
        EXPECT(gbc.pc(), 0xd2ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2eb), 0xf6);
        EXPECT(gbc.readMem(0xd2ec), 0xdf);
        // F6 0378
        gbc.setState(0x539f, 0xc8af, 0x9dd0, 0xb87f, 0xbb83, 0xbe07, 0x0, 0x0);
        gbc.writeMem(0x539f, { 0xf6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc8af);
        EXPECT(gbc.pc(), 0x53a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0379
        gbc.setState(0xdf0d, 0x7c03, 0xf3e0, 0xc466, 0xd22f, 0xd78, 0x0, 0x1);
        gbc.writeMem(0xdf0d, { 0xf6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7c03);
        EXPECT(gbc.pc(), 0xdf0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf0d), 0xf6);
        EXPECT(gbc.readMem(0xdf0e), 0xab);
        // F6 037A
        gbc.setState(0x50b5, 0x31c6, 0xcc10, 0xc711, 0x8eb1, 0x2f2, 0x0, 0x0);
        gbc.writeMem(0x50b5, { 0xf6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x31c6);
        EXPECT(gbc.pc(), 0x50b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 037B
        gbc.setState(0x1e57, 0x5b59, 0x9b60, 0xc0b7, 0x444, 0xa70f, 0x0, 0x1);
        gbc.writeMem(0x1e57, { 0xf6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5b59);
        EXPECT(gbc.pc(), 0x1e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 037C
        gbc.setState(0x4a38, 0x465a, 0xee30, 0x5749, 0x99e9, 0x5a7d, 0x0, 0x1);
        gbc.writeMem(0x4a38, { 0xf6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x465a);
        EXPECT(gbc.pc(), 0x4a3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 037D
        gbc.setState(0x3cef, 0xe224, 0x57a0, 0xf282, 0x85c1, 0xfcb3, 0x1, 0x1);
        gbc.writeMem(0x3cef, { 0xf6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe224);
        EXPECT(gbc.pc(), 0x3cf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 037E
        gbc.setState(0x8664, 0x52a6, 0x8890, 0xa4de, 0x524e, 0x309f, 0x0, 0x0);
        gbc.writeMem(0x8664, { 0xf6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x52a6);
        EXPECT(gbc.pc(), 0x8666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8664), 0xf6);
        EXPECT(gbc.readMem(0x8665), 0x3e);
        // F6 0380
        gbc.setState(0xd72c, 0x1dbd, 0x7e50, 0x6a9c, 0x1cba, 0x5d2e, 0x0, 0x0);
        gbc.writeMem(0xd72c, { 0xf6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1dbd);
        EXPECT(gbc.pc(), 0xd72e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd72c), 0xf6);
        EXPECT(gbc.readMem(0xd72d), 0xab);
        // F6 0381
        gbc.setState(0x1567, 0x3339, 0x7620, 0x3576, 0x60d8, 0xcff9, 0x1, 0x0);
        gbc.writeMem(0x1567, { 0xf6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3339);
        EXPECT(gbc.pc(), 0x1569);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0382
        gbc.setState(0x6313, 0xbde0, 0x14f0, 0x3768, 0x8f23, 0xac3a, 0x1, 0x0);
        gbc.writeMem(0x6313, { 0xf6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbde0);
        EXPECT(gbc.pc(), 0x6315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0383
        gbc.setState(0x9758, 0xb511, 0xd9a0, 0x9b36, 0x5e7a, 0xbfba, 0x0, 0x0);
        gbc.writeMem(0x9758, { 0xf6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb511);
        EXPECT(gbc.pc(), 0x975a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9758), 0xf6);
        EXPECT(gbc.readMem(0x9759), 0x0);
        // F6 0384
        gbc.setState(0x2485, 0xea05, 0xdbd0, 0x671c, 0x10be, 0x959e, 0x0, 0x0);
        gbc.writeMem(0x2485, { 0xf6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xea05);
        EXPECT(gbc.pc(), 0x2487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0385
        gbc.setState(0x4e5b, 0xb9fa, 0x64b0, 0x60e7, 0x90c6, 0x5760, 0x0, 0x1);
        gbc.writeMem(0x4e5b, { 0xf6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb9fa);
        EXPECT(gbc.pc(), 0x4e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0386
        gbc.setState(0x6794, 0x6820, 0x96f0, 0xa2ae, 0x78d4, 0x849f, 0x0, 0x0);
        gbc.writeMem(0x6794, { 0xf6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6820);
        EXPECT(gbc.pc(), 0x6796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0387
        gbc.setState(0x1ccb, 0xbdd8, 0x4b30, 0xf4be, 0xf6ed, 0x9bf2, 0x1, 0x1);
        gbc.writeMem(0x1ccb, { 0xf6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbdd8);
        EXPECT(gbc.pc(), 0x1ccd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0388
        gbc.setState(0x110c, 0xf1c, 0xc4c0, 0xb2e7, 0xe214, 0x1318, 0x1, 0x0);
        gbc.writeMem(0x110c, { 0xf6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf1c);
        EXPECT(gbc.pc(), 0x110e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0389
        gbc.setState(0x1671, 0x46b8, 0xd460, 0x6197, 0x9fc7, 0x3bea, 0x1, 0x0);
        gbc.writeMem(0x1671, { 0xf6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x46b8);
        EXPECT(gbc.pc(), 0x1673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 038A
        gbc.setState(0x78cc, 0xcbc1, 0xf810, 0xe8e6, 0x45f4, 0x7c23, 0x0, 0x0);
        gbc.writeMem(0x78cc, { 0xf6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xcbc1);
        EXPECT(gbc.pc(), 0x78ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 038B
        gbc.setState(0xd787, 0x9ad5, 0xc800, 0x1722, 0x51fe, 0x7d67, 0x1, 0x0);
        gbc.writeMem(0xd787, { 0xf6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9ad5);
        EXPECT(gbc.pc(), 0xd789);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd787), 0xf6);
        EXPECT(gbc.readMem(0xd788), 0x5b);
        // F6 038C
        gbc.setState(0x1183, 0x5c1d, 0x7c30, 0xd2cc, 0xe4f0, 0xab69, 0x1, 0x1);
        gbc.writeMem(0x1183, { 0xf6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5c1d);
        EXPECT(gbc.pc(), 0x1185);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 038E
        gbc.setState(0x49b0, 0x9f0f, 0xf50, 0x21d6, 0x3f2f, 0xc681, 0x0, 0x0);
        gbc.writeMem(0x49b0, { 0xf6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x9f0f);
        EXPECT(gbc.pc(), 0x49b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 038F
        gbc.setState(0x3d04, 0xabfd, 0x4750, 0x7534, 0xe76e, 0x5872, 0x1, 0x0);
        gbc.writeMem(0x3d04, { 0xf6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xabfd);
        EXPECT(gbc.pc(), 0x3d06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0391
        gbc.setState(0x9649, 0xf0a, 0x4940, 0xfd71, 0x9085, 0x3153, 0x1, 0x1);
        gbc.writeMem(0x9649, { 0xf6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xf0a);
        EXPECT(gbc.pc(), 0x964b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9649), 0xf6);
        EXPECT(gbc.readMem(0x964a), 0x20);
        // F6 0392
        gbc.setState(0x152e, 0x1d8, 0xdb0, 0x36a7, 0xc4b2, 0x817a, 0x0, 0x1);
        gbc.writeMem(0x152e, { 0xf6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1d8);
        EXPECT(gbc.pc(), 0x1530);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0393
        gbc.setState(0x3677, 0xa247, 0x7c50, 0xd168, 0xcc2d, 0x3b3, 0x1, 0x1);
        gbc.writeMem(0x3677, { 0xf6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa247);
        EXPECT(gbc.pc(), 0x3679);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0394
        gbc.setState(0x3742, 0x2fce, 0x3100, 0x8506, 0x1449, 0x7756, 0x0, 0x1);
        gbc.writeMem(0x3742, { 0xf6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x2fce);
        EXPECT(gbc.pc(), 0x3744);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0395
        gbc.setState(0x789b, 0xe090, 0x77f0, 0x3408, 0x847e, 0x59a, 0x0, 0x0);
        gbc.writeMem(0x789b, { 0xf6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xe090);
        EXPECT(gbc.pc(), 0x789d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0396
        gbc.setState(0xae34, 0x1708, 0xe480, 0x13a3, 0xc706, 0x4070, 0x0, 0x0);
        gbc.writeMem(0xae34, { 0xf6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1708);
        EXPECT(gbc.pc(), 0xae36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae34), 0xf6);
        EXPECT(gbc.readMem(0xae35), 0x80);
        // F6 0397
        gbc.setState(0x8b17, 0x5d05, 0x2a10, 0x896e, 0x77b5, 0x7608, 0x0, 0x1);
        gbc.writeMem(0x8b17, { 0xf6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5d05);
        EXPECT(gbc.pc(), 0x8b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b17), 0xf6);
        EXPECT(gbc.readMem(0x8b18), 0xbb);
        // F6 0398
        gbc.setState(0xcaa, 0xee1e, 0x1ec0, 0xe7e7, 0xb1df, 0x9ce4, 0x0, 0x0);
        gbc.writeMem(0xcaa, { 0xf6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xee1e);
        EXPECT(gbc.pc(), 0xcac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 0399
        gbc.setState(0xc0e0, 0x549a, 0xd320, 0x4d4b, 0xc142, 0x316c, 0x0, 0x0);
        gbc.writeMem(0xc0e0, { 0xf6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x549a);
        EXPECT(gbc.pc(), 0xc0e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0e0), 0xf6);
        EXPECT(gbc.readMem(0xc0e1), 0x6a);
        // F6 039A
        gbc.setState(0xe8b, 0x66ef, 0x4620, 0x3e61, 0x1dc, 0x852b, 0x1, 0x1);
        gbc.writeMem(0xe8b, { 0xf6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x66ef);
        EXPECT(gbc.pc(), 0xe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 039B
        gbc.setState(0x6963, 0xc0, 0x55e0, 0xf134, 0x23f7, 0xbf41, 0x1, 0x1);
        gbc.writeMem(0x6963, { 0xf6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xc0);
        EXPECT(gbc.pc(), 0x6965);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 039C
        gbc.setState(0xd63a, 0x8598, 0xf6a0, 0xda29, 0x50c3, 0x1bd8, 0x1, 0x1);
        gbc.writeMem(0xd63a, { 0xf6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8598);
        EXPECT(gbc.pc(), 0xd63c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd63a), 0xf6);
        EXPECT(gbc.readMem(0xd63b), 0x6c);
        // F6 039D
        gbc.setState(0x731d, 0x3d42, 0xf710, 0x12f4, 0x4bca, 0x7e5e, 0x0, 0x0);
        gbc.writeMem(0x731d, { 0xf6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3d42);
        EXPECT(gbc.pc(), 0x731f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 039E
        gbc.setState(0xe8c5, 0xd5e6, 0x5ca0, 0xa261, 0xda9e, 0xd6a6, 0x0, 0x1);
        gbc.writeMem(0xe8c5, { 0xf6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xd5e6);
        EXPECT(gbc.pc(), 0xe8c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c5), 0xf6);
        EXPECT(gbc.readMem(0xe8c6), 0x8b);
        // F6 039F
        gbc.setState(0x28ac, 0x8bf3, 0x5700, 0x9381, 0xebf, 0xc0a2, 0x0, 0x1);
        gbc.writeMem(0x28ac, { 0xf6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8bf3);
        EXPECT(gbc.pc(), 0x28ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A0
        gbc.setState(0x5d2, 0x3211, 0xe790, 0xc4b1, 0xe51f, 0x1b2e, 0x0, 0x0);
        gbc.writeMem(0x5d2, { 0xf6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3211);
        EXPECT(gbc.pc(), 0x5d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A1
        gbc.setState(0xa9f2, 0x90ab, 0xe8d0, 0x7ff1, 0xbce0, 0x60a8, 0x1, 0x0);
        gbc.writeMem(0xa9f2, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x90ab);
        EXPECT(gbc.pc(), 0xa9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9f2), 0xf6);
        EXPECT(gbc.readMem(0xa9f3), 0x98);
        // F6 03A2
        gbc.setState(0x6e74, 0x2d0d, 0x8540, 0x1514, 0xe2cc, 0x9d56, 0x0, 0x1);
        gbc.writeMem(0x6e74, { 0xf6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x2d0d);
        EXPECT(gbc.pc(), 0x6e76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A3
        gbc.setState(0xa61, 0xd9b2, 0xcc10, 0x9cb2, 0xc46d, 0xd887, 0x1, 0x0);
        gbc.writeMem(0xa61, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd9b2);
        EXPECT(gbc.pc(), 0xa63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A4
        gbc.setState(0x19f4, 0x4daf, 0x4f80, 0xcd3, 0x82a1, 0xd654, 0x1, 0x0);
        gbc.writeMem(0x19f4, { 0xf6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4daf);
        EXPECT(gbc.pc(), 0x19f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A5
        gbc.setState(0x953b, 0x3593, 0xe6c0, 0xa5e, 0x85a0, 0x7237, 0x0, 0x1);
        gbc.writeMem(0x953b, { 0xf6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3593);
        EXPECT(gbc.pc(), 0x953d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x953b), 0xf6);
        EXPECT(gbc.readMem(0x953c), 0x7c);
        // F6 03A6
        gbc.setState(0xaedd, 0x5313, 0x6be0, 0x29f8, 0x592f, 0x48fc, 0x0, 0x1);
        gbc.writeMem(0xaedd, { 0xf6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5313);
        EXPECT(gbc.pc(), 0xaedf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaedd), 0xf6);
        EXPECT(gbc.readMem(0xaede), 0x9e);
        // F6 03A7
        gbc.setState(0x623b, 0xb921, 0x8600, 0x83e0, 0xd1f6, 0x9d39, 0x1, 0x1);
        gbc.writeMem(0x623b, { 0xf6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb921);
        EXPECT(gbc.pc(), 0x623d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03A8
        gbc.setState(0x5f4c, 0x8223, 0x7170, 0x3c36, 0xb585, 0x9d70, 0x0, 0x1);
        gbc.writeMem(0x5f4c, { 0xf6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8223);
        EXPECT(gbc.pc(), 0x5f4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03AA
        gbc.setState(0x72a9, 0x324a, 0xc000, 0xc302, 0x5f3, 0x6109, 0x1, 0x0);
        gbc.writeMem(0x72a9, { 0xf6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x324a);
        EXPECT(gbc.pc(), 0x72ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03AB
        gbc.setState(0xa317, 0xc5c6, 0x6820, 0x65bb, 0x1bfc, 0x534d, 0x1, 0x1);
        gbc.writeMem(0xa317, { 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc5c6);
        EXPECT(gbc.pc(), 0xa319);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa317), 0xf6);
        EXPECT(gbc.readMem(0xa318), 0xcc);
        // F6 03AC
        gbc.setState(0x644, 0xdea8, 0xc9b0, 0x5dc4, 0x623e, 0xb5f, 0x1, 0x0);
        gbc.writeMem(0x644, { 0xf6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdea8);
        EXPECT(gbc.pc(), 0x646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03AE
        gbc.setState(0x7d9b, 0x4e52, 0xdc00, 0x768b, 0x789a, 0xedae, 0x1, 0x1);
        gbc.writeMem(0x7d9b, { 0xf6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x4e52);
        EXPECT(gbc.pc(), 0x7d9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03AF
        gbc.setState(0x41c8, 0xbd01, 0x8290, 0xdd53, 0x4abe, 0x176f, 0x0, 0x0);
        gbc.writeMem(0x41c8, { 0xf6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbd01);
        EXPECT(gbc.pc(), 0x41ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B0
        gbc.setState(0xae1c, 0xf9a, 0x24a0, 0x7fcc, 0x7c00, 0x99a4, 0x0, 0x0);
        gbc.writeMem(0xae1c, { 0xf6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf9a);
        EXPECT(gbc.pc(), 0xae1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae1c), 0xf6);
        EXPECT(gbc.readMem(0xae1d), 0xe9);
        // F6 03B1
        gbc.setState(0x3c8b, 0x9947, 0xfb20, 0x63e3, 0xa388, 0x53df, 0x1, 0x1);
        gbc.writeMem(0x3c8b, { 0xf6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9947);
        EXPECT(gbc.pc(), 0x3c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B3
        gbc.setState(0x20a0, 0x54fe, 0xa230, 0xad8e, 0xea2, 0xc54d, 0x1, 0x1);
        gbc.writeMem(0x20a0, { 0xf6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x54fe);
        EXPECT(gbc.pc(), 0x20a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B4
        gbc.setState(0x26eb, 0x34ec, 0xe150, 0xb1bd, 0xe7ec, 0x44e, 0x0, 0x1);
        gbc.writeMem(0x26eb, { 0xf6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x34ec);
        EXPECT(gbc.pc(), 0x26ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B5
        gbc.setState(0x5ee4, 0x396d, 0xca80, 0xf3f0, 0x9433, 0xca95, 0x0, 0x1);
        gbc.writeMem(0x5ee4, { 0xf6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x396d);
        EXPECT(gbc.pc(), 0x5ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B6
        gbc.setState(0x6937, 0xaccb, 0xbf0, 0x6868, 0x7797, 0x9d49, 0x0, 0x1);
        gbc.writeMem(0x6937, { 0xf6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xaccb);
        EXPECT(gbc.pc(), 0x6939);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B7
        gbc.setState(0x8a64, 0xebfb, 0x1b00, 0x820c, 0x2e27, 0xf35c, 0x1, 0x1);
        gbc.writeMem(0x8a64, { 0xf6, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xebfb);
        EXPECT(gbc.pc(), 0x8a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a64), 0xf6);
        EXPECT(gbc.readMem(0x8a65), 0x9f);
        // F6 03B8
        gbc.setState(0x3305, 0xb6c0, 0x3070, 0xb47a, 0xb873, 0xd73d, 0x1, 0x0);
        gbc.writeMem(0x3305, { 0xf6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb6c0);
        EXPECT(gbc.pc(), 0x3307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03B9
        gbc.setState(0xa632, 0x845a, 0xe150, 0x95cf, 0xc03e, 0x1bd5, 0x0, 0x1);
        gbc.writeMem(0xa632, { 0xf6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x845a);
        EXPECT(gbc.pc(), 0xa634);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa632), 0xf6);
        EXPECT(gbc.readMem(0xa633), 0xb1);
        // F6 03BA
        gbc.setState(0xd05f, 0x8a15, 0xfe70, 0x6d2f, 0x1977, 0xaa7f, 0x1, 0x0);
        gbc.writeMem(0xd05f, { 0xf6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8a15);
        EXPECT(gbc.pc(), 0xd061);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd05f), 0xf6);
        EXPECT(gbc.readMem(0xd060), 0x63);
        // F6 03BB
        gbc.setState(0x703b, 0xc879, 0xe730, 0xe6c, 0x78e8, 0x176a, 0x1, 0x1);
        gbc.writeMem(0x703b, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xc879);
        EXPECT(gbc.pc(), 0x703d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03BC
        gbc.setState(0xa12d, 0x72f2, 0x40e0, 0x6d15, 0xf900, 0xcba6, 0x1, 0x1);
        gbc.writeMem(0xa12d, { 0xf6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x72f2);
        EXPECT(gbc.pc(), 0xa12f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa12d), 0xf6);
        EXPECT(gbc.readMem(0xa12e), 0xce);
        // F6 03BD
        gbc.setState(0x3cb2, 0x40ec, 0xf240, 0x542a, 0xc339, 0xe061, 0x0, 0x0);
        gbc.writeMem(0x3cb2, { 0xf6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x40ec);
        EXPECT(gbc.pc(), 0x3cb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03BF
        gbc.setState(0x334e, 0xb345, 0x13f0, 0x3168, 0xdd9b, 0x5f3, 0x1, 0x0);
        gbc.writeMem(0x334e, { 0xf6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb345);
        EXPECT(gbc.pc(), 0x3350);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03C0
        gbc.setState(0x56cb, 0x809a, 0x47e0, 0xe54, 0x6cbe, 0x4885, 0x1, 0x0);
        gbc.writeMem(0x56cb, { 0xf6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x809a);
        EXPECT(gbc.pc(), 0x56cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03C2
        gbc.setState(0x4623, 0x972a, 0x2370, 0x67b1, 0xf45b, 0x1d86, 0x0, 0x1);
        gbc.writeMem(0x4623, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x972a);
        EXPECT(gbc.pc(), 0x4625);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03C3
        gbc.setState(0xb90d, 0x573b, 0x65d0, 0x68e6, 0xd541, 0xf229, 0x1, 0x1);
        gbc.writeMem(0xb90d, { 0xf6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x573b);
        EXPECT(gbc.pc(), 0xb90f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb90d), 0xf6);
        EXPECT(gbc.readMem(0xb90e), 0x6d);
        // F6 03C4
        gbc.setState(0x673d, 0x154a, 0xce60, 0x9dcf, 0xd5a4, 0x5513, 0x0, 0x0);
        gbc.writeMem(0x673d, { 0xf6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x154a);
        EXPECT(gbc.pc(), 0x673f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03C5
        gbc.setState(0xe2c3, 0x29ad, 0xd9f0, 0xc01b, 0xac71, 0x7c44, 0x1, 0x0);
        gbc.writeMem(0xe2c3, { 0xf6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x29ad);
        EXPECT(gbc.pc(), 0xe2c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c3), 0xf6);
        EXPECT(gbc.readMem(0xe2c4), 0xa8);
        // F6 03C6
        gbc.setState(0xa0c0, 0x765f, 0x4340, 0x315d, 0xa482, 0x9b1f, 0x1, 0x0);
        gbc.writeMem(0xa0c0, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x765f);
        EXPECT(gbc.pc(), 0xa0c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c0), 0xf6);
        EXPECT(gbc.readMem(0xa0c1), 0xe6);
        // F6 03C7
        gbc.setState(0x41b7, 0x881d, 0xe920, 0x1545, 0xc579, 0x50c5, 0x0, 0x1);
        gbc.writeMem(0x41b7, { 0xf6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x881d);
        EXPECT(gbc.pc(), 0x41b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03C8
        gbc.setState(0xb7ce, 0xccbb, 0x9a0, 0x77ee, 0x5942, 0x2656, 0x0, 0x0);
        gbc.writeMem(0xb7ce, { 0xf6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xccbb);
        EXPECT(gbc.pc(), 0xb7d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7ce), 0xf6);
        EXPECT(gbc.readMem(0xb7cf), 0xca);
        // F6 03C9
        gbc.setState(0x1efc, 0xca44, 0xe6a0, 0xcee7, 0xefa1, 0x9005, 0x1, 0x0);
        gbc.writeMem(0x1efc, { 0xf6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xca44);
        EXPECT(gbc.pc(), 0x1efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03CA
        gbc.setState(0x9ef6, 0x8932, 0x9680, 0x2d08, 0xfe04, 0xd413, 0x0, 0x0);
        gbc.writeMem(0x9ef6, { 0xf6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8932);
        EXPECT(gbc.pc(), 0x9ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ef6), 0xf6);
        EXPECT(gbc.readMem(0x9ef7), 0xc);
        // F6 03CB
        gbc.setState(0x88e8, 0xa9b8, 0x5d10, 0x2a0, 0x5a5e, 0x5ef1, 0x1, 0x1);
        gbc.writeMem(0x88e8, { 0xf6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa9b8);
        EXPECT(gbc.pc(), 0x88ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e8), 0xf6);
        EXPECT(gbc.readMem(0x88e9), 0x98);
        // F6 03CC
        gbc.setState(0x8b2f, 0x8bc0, 0x8cf0, 0x2a74, 0x49f0, 0xe5f4, 0x1, 0x0);
        gbc.writeMem(0x8b2f, { 0xf6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8bc0);
        EXPECT(gbc.pc(), 0x8b31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b2f), 0xf6);
        EXPECT(gbc.readMem(0x8b30), 0xef);
        // F6 03CD
        gbc.setState(0x77d3, 0xf11b, 0x10, 0x87c, 0xea3e, 0x6ee5, 0x0, 0x1);
        gbc.writeMem(0x77d3, { 0xf6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xf11b);
        EXPECT(gbc.pc(), 0x77d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03CE
        gbc.setState(0xb390, 0x14fb, 0xab30, 0xeab, 0x8081, 0x6bfc, 0x1, 0x1);
        gbc.writeMem(0xb390, { 0xf6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x14fb);
        EXPECT(gbc.pc(), 0xb392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb390), 0xf6);
        EXPECT(gbc.readMem(0xb391), 0x77);
        // F6 03CF
        gbc.setState(0xde3c, 0x675e, 0x1260, 0xdd0c, 0x5429, 0x19af, 0x0, 0x1);
        gbc.writeMem(0xde3c, { 0xf6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x675e);
        EXPECT(gbc.pc(), 0xde3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde3c), 0xf6);
        EXPECT(gbc.readMem(0xde3d), 0x42);
        // F6 03D0
        gbc.setState(0xc21d, 0xa9af, 0x560, 0x3c3c, 0x147d, 0xe520, 0x0, 0x0);
        gbc.writeMem(0xc21d, { 0xf6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa9af);
        EXPECT(gbc.pc(), 0xc21f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc21d), 0xf6);
        EXPECT(gbc.readMem(0xc21e), 0x19);
        // F6 03D1
        gbc.setState(0x6a9f, 0x7eb7, 0xbe00, 0x78d, 0x48e9, 0xa780, 0x0, 0x0);
        gbc.writeMem(0x6a9f, { 0xf6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7eb7);
        EXPECT(gbc.pc(), 0x6aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03D2
        gbc.setState(0x86ac, 0x2d08, 0xbfa0, 0x1c18, 0x99ee, 0xc11a, 0x1, 0x0);
        gbc.writeMem(0x86ac, { 0xf6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2d08);
        EXPECT(gbc.pc(), 0x86ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86ac), 0xf6);
        EXPECT(gbc.readMem(0x86ad), 0xbb);
        // F6 03D3
        gbc.setState(0x5246, 0x7796, 0x6bf0, 0xba94, 0x2363, 0x7632, 0x1, 0x1);
        gbc.writeMem(0x5246, { 0xf6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7796);
        EXPECT(gbc.pc(), 0x5248);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03D4
        gbc.setState(0xe131, 0x6582, 0x560, 0x3290, 0x3136, 0x7b1e, 0x1, 0x0);
        gbc.writeMem(0xe131, { 0xf6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6582);
        EXPECT(gbc.pc(), 0xe133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe131), 0xf6);
        EXPECT(gbc.readMem(0xe132), 0x79);
        // F6 03D5
        gbc.setState(0x8585, 0x13f2, 0x44a0, 0x4825, 0x982e, 0xa4d8, 0x1, 0x0);
        gbc.writeMem(0x8585, { 0xf6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x13f2);
        EXPECT(gbc.pc(), 0x8587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8585), 0xf6);
        EXPECT(gbc.readMem(0x8586), 0x43);
        // F6 03D6
        gbc.setState(0x86f6, 0xd0a6, 0xa740, 0x9fc5, 0xedcf, 0x43dc, 0x1, 0x1);
        gbc.writeMem(0x86f6, { 0xf6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xd0a6);
        EXPECT(gbc.pc(), 0x86f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f6), 0xf6);
        EXPECT(gbc.readMem(0x86f7), 0x1);
        // F6 03D7
        gbc.setState(0x925f, 0xb3bc, 0x7ee0, 0x62aa, 0x700e, 0x399c, 0x1, 0x1);
        gbc.writeMem(0x925f, { 0xf6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb3bc);
        EXPECT(gbc.pc(), 0x9261);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x925f), 0xf6);
        EXPECT(gbc.readMem(0x9260), 0x72);
        // F6 03D9
        gbc.setState(0xa7fb, 0x2bd5, 0x7c30, 0x7048, 0xc97c, 0xd203, 0x0, 0x0);
        gbc.writeMem(0xa7fb, { 0xf6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2bd5);
        EXPECT(gbc.pc(), 0xa7fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7fb), 0xf6);
        EXPECT(gbc.readMem(0xa7fc), 0xa6);
        // F6 03DA
        gbc.setState(0x9933, 0x6560, 0xb720, 0x71a8, 0xb32c, 0x93f3, 0x1, 0x1);
        gbc.writeMem(0x9933, { 0xf6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x6560);
        EXPECT(gbc.pc(), 0x9935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9933), 0xf6);
        EXPECT(gbc.readMem(0x9934), 0xb7);
        // F6 03DB
        gbc.setState(0xada1, 0xb000, 0xd020, 0xffd, 0x5761, 0xcb31, 0x0, 0x0);
        gbc.writeMem(0xada1, { 0xf6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb000);
        EXPECT(gbc.pc(), 0xada3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xada1), 0xf6);
        EXPECT(gbc.readMem(0xada2), 0x20);
        // F6 03DC
        gbc.setState(0x57d0, 0x58ab, 0x2220, 0x3179, 0x661a, 0xeb18, 0x0, 0x0);
        gbc.writeMem(0x57d0, { 0xf6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x58ab);
        EXPECT(gbc.pc(), 0x57d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03DD
        gbc.setState(0x979c, 0x3d29, 0xd920, 0x26c5, 0x9438, 0x8e91, 0x0, 0x1);
        gbc.writeMem(0x979c, { 0xf6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3d29);
        EXPECT(gbc.pc(), 0x979e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x979c), 0xf6);
        EXPECT(gbc.readMem(0x979d), 0x3c);
        // F6 03DE
        gbc.setState(0xef69, 0x40f7, 0xe6e0, 0x96e6, 0xa6d9, 0x99e0, 0x1, 0x1);
        gbc.writeMem(0xef69, { 0xf6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x40f7);
        EXPECT(gbc.pc(), 0xef6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef69), 0xf6);
        EXPECT(gbc.readMem(0xef6a), 0xe6);
        // F6 03DF
        gbc.setState(0x948e, 0xbcf0, 0xb240, 0xc2a5, 0xaa2c, 0xebba, 0x0, 0x1);
        gbc.writeMem(0x948e, { 0xf6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbcf0);
        EXPECT(gbc.pc(), 0x9490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x948e), 0xf6);
        EXPECT(gbc.readMem(0x948f), 0xc5);
        // F6 03E0
        gbc.setState(0x4f32, 0xd406, 0x8ff0, 0x361c, 0xf7fb, 0x8433, 0x0, 0x0);
        gbc.writeMem(0x4f32, { 0xf6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd406);
        EXPECT(gbc.pc(), 0x4f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03E1
        gbc.setState(0xce00, 0xf5b, 0x78b0, 0x47b7, 0xff01, 0x73f3, 0x1, 0x1);
        gbc.writeMem(0xce00, { 0xf6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf5b);
        EXPECT(gbc.pc(), 0xce02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce00), 0xf6);
        EXPECT(gbc.readMem(0xce01), 0xd5);
        // F6 03E2
        gbc.setState(0x5e71, 0x2299, 0x6590, 0x2374, 0xe643, 0xff4d, 0x1, 0x1);
        gbc.writeMem(0x5e71, { 0xf6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2299);
        EXPECT(gbc.pc(), 0x5e73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // F6 03E3
        gbc.setState(0x9e21, 0x5c6, 0xbf50, 0x165b, 0x91a2, 0x459d, 0x1, 0x1);
        gbc.writeMem(0x9e21, { 0xf6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5c6);
        EXPECT(gbc.pc(), 0x9e23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e21), 0xf6);
        EXPECT(gbc.readMem(0x9e22), 0x96);
        // F6 03E4
        gbc.setState(0xe298, 0xe726, 0xeb90, 0x7d21, 0xdba, 0x52ab, 0x0, 0x0);
        gbc.writeMem(0xe298, { 0xf6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe726);
        EXPECT(gbc.pc(), 0xe29a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe298), 0xf6);
        EXPECT(gbc.readMem(0xe299), 0x28);
        // F6 03E6
        gbc.setState(0xae4a, 0xcd07, 0xc1d0, 0xc5ea, 0x8847, 0x11d5, 0x0, 0x0);
        gbc.writeMem(0xae4a, { 0xf6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcd07);
        EXPECT(gbc.pc(), 0xae4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae4a), 0xf6);
        EXPECT(gbc.readMem(0xae4b), 0x46);
        // F6 03E7
        gbc.setState(0x2374, 0x506c, 0xffb0, 0x34ac, 0x6000, 0x905d, 0x0, 0x0);
        gbc.writeMem(0x2374, { 0xf6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x506c);
        EXPECT(gbc.pc(), 0x2376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
