    TEST(gbcemu, opcode_cb_f2) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB F2 0000
        gbc.setState(0x9fd, 0x9bd5, 0x4df0, 0xe9c9, 0xf2a, 0x9d68, 0x0, 0x0);
        gbc.writeMem(0x9fd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x9bd5);
        EXPECT(gbc.pc(), 0x9ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0001
        gbc.setState(0xbd4d, 0x7c4f, 0x6ac0, 0xfb85, 0x3ebc, 0x762f, 0x1, 0x1);
        gbc.writeMem(0xbd4d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7c4f);
        EXPECT(gbc.pc(), 0xbd4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd4d), 0xcb);
        EXPECT(gbc.readMem(0xbd4e), 0xf2);
        // CB F2 0002
        gbc.setState(0x7052, 0x987e, 0x860, 0x3586, 0x2391, 0x8d07, 0x1, 0x1);
        gbc.writeMem(0x7052, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x987e);
        EXPECT(gbc.pc(), 0x7054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0003
        gbc.setState(0x8e82, 0xb969, 0xcb10, 0xc4ca, 0x6164, 0xd8b5, 0x1, 0x0);
        gbc.writeMem(0x8e82, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb969);
        EXPECT(gbc.pc(), 0x8e84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e82), 0xcb);
        EXPECT(gbc.readMem(0x8e83), 0xf2);
        // CB F2 0004
        gbc.setState(0xbc5c, 0xfc50, 0x8a60, 0xc105, 0xd944, 0x8336, 0x0, 0x0);
        gbc.writeMem(0xbc5c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfc50);
        EXPECT(gbc.pc(), 0xbc5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc5c), 0xcb);
        EXPECT(gbc.readMem(0xbc5d), 0xf2);
        // CB F2 0005
        gbc.setState(0x160e, 0x5875, 0x3bb0, 0xa44, 0xee1b, 0x683c, 0x1, 0x0);
        gbc.writeMem(0x160e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5875);
        EXPECT(gbc.pc(), 0x1610);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0006
        gbc.setState(0xa32e, 0x1e76, 0xb7b0, 0xc9b5, 0xd4f2, 0x48be, 0x1, 0x0);
        gbc.writeMem(0xa32e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1e76);
        EXPECT(gbc.pc(), 0xa330);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa32e), 0xcb);
        EXPECT(gbc.readMem(0xa32f), 0xf2);
        // CB F2 0007
        gbc.setState(0x9fd3, 0x8dcc, 0x58b0, 0x3b80, 0x23fd, 0xe668, 0x0, 0x0);
        gbc.writeMem(0x9fd3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8dcc);
        EXPECT(gbc.pc(), 0x9fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd3), 0xcb);
        EXPECT(gbc.readMem(0x9fd4), 0xf2);
        // CB F2 0008
        gbc.setState(0xb448, 0xdb53, 0x1f0, 0x3227, 0x222b, 0x8e3d, 0x0, 0x1);
        gbc.writeMem(0xb448, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xdb53);
        EXPECT(gbc.pc(), 0xb44a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb448), 0xcb);
        EXPECT(gbc.readMem(0xb449), 0xf2);
        // CB F2 0009
        gbc.setState(0xc677, 0x3100, 0xe9f0, 0x5a21, 0x981e, 0x7480, 0x1, 0x1);
        gbc.writeMem(0xc677, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3100);
        EXPECT(gbc.pc(), 0xc679);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc677), 0xcb);
        EXPECT(gbc.readMem(0xc678), 0xf2);
        // CB F2 000A
        gbc.setState(0xb9e5, 0x1ec5, 0x370, 0x89e0, 0xb138, 0x5ab5, 0x0, 0x0);
        gbc.writeMem(0xb9e5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1ec5);
        EXPECT(gbc.pc(), 0xb9e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9e5), 0xcb);
        EXPECT(gbc.readMem(0xb9e6), 0xf2);
        // CB F2 000B
        gbc.setState(0x2b92, 0x8cda, 0x5580, 0x8672, 0xb5d5, 0xdd14, 0x1, 0x1);
        gbc.writeMem(0x2b92, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8cda);
        EXPECT(gbc.pc(), 0x2b94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 000C
        gbc.setState(0xe9a1, 0xa029, 0xfa0, 0x7a36, 0x515a, 0x7936, 0x1, 0x0);
        gbc.writeMem(0xe9a1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa029);
        EXPECT(gbc.pc(), 0xe9a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9a1), 0xcb);
        EXPECT(gbc.readMem(0xe9a2), 0xf2);
        // CB F2 000D
        gbc.setState(0xa2cf, 0xfba7, 0x8210, 0xc4f9, 0x4ebc, 0xc87b, 0x1, 0x0);
        gbc.writeMem(0xa2cf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfba7);
        EXPECT(gbc.pc(), 0xa2d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2cf), 0xcb);
        EXPECT(gbc.readMem(0xa2d0), 0xf2);
        // CB F2 000E
        gbc.setState(0xb0f2, 0x6f3b, 0x6d0, 0x764e, 0x9ad1, 0xd61, 0x1, 0x0);
        gbc.writeMem(0xb0f2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6f3b);
        EXPECT(gbc.pc(), 0xb0f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0f2), 0xcb);
        EXPECT(gbc.readMem(0xb0f3), 0xf2);
        // CB F2 000F
        gbc.setState(0xead7, 0xfb61, 0xbde0, 0x38e4, 0x5cfe, 0x811a, 0x1, 0x1);
        gbc.writeMem(0xead7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfb61);
        EXPECT(gbc.pc(), 0xead9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xead7), 0xcb);
        EXPECT(gbc.readMem(0xead8), 0xf2);
        // CB F2 0010
        gbc.setState(0xb17, 0xca73, 0x6a80, 0x7838, 0x9c73, 0x23cc, 0x0, 0x0);
        gbc.writeMem(0xb17, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xca73);
        EXPECT(gbc.pc(), 0xb19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0011
        gbc.setState(0x92e5, 0x4aa8, 0x8510, 0xa683, 0x66a1, 0xc5ac, 0x1, 0x0);
        gbc.writeMem(0x92e5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4aa8);
        EXPECT(gbc.pc(), 0x92e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92e5), 0xcb);
        EXPECT(gbc.readMem(0x92e6), 0xf2);
        // CB F2 0012
        gbc.setState(0x1003, 0xf21, 0xb670, 0x9064, 0xf43d, 0x224a, 0x1, 0x0);
        gbc.writeMem(0x1003, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf21);
        EXPECT(gbc.pc(), 0x1005);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0014
        gbc.setState(0x96bb, 0xe587, 0xe970, 0x2fe9, 0x2ef9, 0x6536, 0x1, 0x1);
        gbc.writeMem(0x96bb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe587);
        EXPECT(gbc.pc(), 0x96bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96bb), 0xcb);
        EXPECT(gbc.readMem(0x96bc), 0xf2);
        // CB F2 0015
        gbc.setState(0xcb08, 0x4288, 0x3240, 0x913b, 0xf001, 0x823c, 0x0, 0x0);
        gbc.writeMem(0xcb08, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4288);
        EXPECT(gbc.pc(), 0xcb0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb08), 0xcb);
        EXPECT(gbc.readMem(0xcb09), 0xf2);
        // CB F2 0016
        gbc.setState(0xc7b6, 0xd156, 0xb6c0, 0x99e4, 0x4699, 0x598f, 0x1, 0x0);
        gbc.writeMem(0xc7b6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd156);
        EXPECT(gbc.pc(), 0xc7b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b6), 0xcb);
        EXPECT(gbc.readMem(0xc7b7), 0xf2);
        // CB F2 0017
        gbc.setState(0xb2cc, 0x86ba, 0xb7c0, 0x75f2, 0x26f3, 0x8399, 0x1, 0x0);
        gbc.writeMem(0xb2cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x86ba);
        EXPECT(gbc.pc(), 0xb2ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2cc), 0xcb);
        EXPECT(gbc.readMem(0xb2cd), 0xf2);
        // CB F2 0018
        gbc.setState(0xe9cb, 0x796a, 0x9440, 0x8747, 0x6015, 0xf90, 0x0, 0x0);
        gbc.writeMem(0xe9cb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x796a);
        EXPECT(gbc.pc(), 0xe9cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9cb), 0xcb);
        EXPECT(gbc.readMem(0xe9cc), 0xf2);
        // CB F2 0019
        gbc.setState(0x791d, 0x231e, 0xb020, 0xee8f, 0xcdf7, 0x1ac9, 0x1, 0x1);
        gbc.writeMem(0x791d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x231e);
        EXPECT(gbc.pc(), 0x791f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 001B
        gbc.setState(0xc884, 0x28d9, 0x1910, 0x70a7, 0xd4a4, 0x6612, 0x0, 0x1);
        gbc.writeMem(0xc884, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x28d9);
        EXPECT(gbc.pc(), 0xc886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc884), 0xcb);
        EXPECT(gbc.readMem(0xc885), 0xf2);
        // CB F2 001C
        gbc.setState(0x5eb8, 0x7858, 0x3470, 0xbd83, 0xab65, 0x5690, 0x1, 0x0);
        gbc.writeMem(0x5eb8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7858);
        EXPECT(gbc.pc(), 0x5eba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 001D
        gbc.setState(0xedc2, 0xa2e7, 0x4150, 0xe596, 0x9663, 0xefd5, 0x0, 0x1);
        gbc.writeMem(0xedc2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xa2e7);
        EXPECT(gbc.pc(), 0xedc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc2), 0xcb);
        EXPECT(gbc.readMem(0xedc3), 0xf2);
        // CB F2 001E
        gbc.setState(0x8a4b, 0xc804, 0x4ee0, 0xd92f, 0x5ec0, 0xbf45, 0x1, 0x0);
        gbc.writeMem(0x8a4b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc804);
        EXPECT(gbc.pc(), 0x8a4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a4b), 0xcb);
        EXPECT(gbc.readMem(0x8a4c), 0xf2);
        // CB F2 001F
        gbc.setState(0xb569, 0x9515, 0xec20, 0x2db0, 0x214d, 0xc5d0, 0x1, 0x1);
        gbc.writeMem(0xb569, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9515);
        EXPECT(gbc.pc(), 0xb56b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb569), 0xcb);
        EXPECT(gbc.readMem(0xb56a), 0xf2);
        // CB F2 0020
        gbc.setState(0xab3c, 0xead2, 0xe1f0, 0xb97b, 0xb5e7, 0x7f6c, 0x1, 0x0);
        gbc.writeMem(0xab3c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xead2);
        EXPECT(gbc.pc(), 0xab3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab3c), 0xcb);
        EXPECT(gbc.readMem(0xab3d), 0xf2);
        // CB F2 0021
        gbc.setState(0x3486, 0x38e9, 0xe100, 0x4de0, 0x7c9a, 0x2a4, 0x0, 0x1);
        gbc.writeMem(0x3486, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x38e9);
        EXPECT(gbc.pc(), 0x3488);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0022
        gbc.setState(0x5d90, 0xc906, 0xf510, 0x5de5, 0x8b8, 0xb817, 0x1, 0x1);
        gbc.writeMem(0x5d90, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc906);
        EXPECT(gbc.pc(), 0x5d92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0023
        gbc.setState(0x3064, 0x46e9, 0x8640, 0x604b, 0x99dd, 0x7263, 0x1, 0x0);
        gbc.writeMem(0x3064, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x46e9);
        EXPECT(gbc.pc(), 0x3066);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0024
        gbc.setState(0x9a6d, 0xb748, 0x7fb0, 0x84c5, 0xb8c3, 0xbd2, 0x0, 0x0);
        gbc.writeMem(0x9a6d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb748);
        EXPECT(gbc.pc(), 0x9a6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a6d), 0xcb);
        EXPECT(gbc.readMem(0x9a6e), 0xf2);
        // CB F2 0025
        gbc.setState(0x9bd4, 0xf565, 0x82c0, 0xdfcd, 0xa04b, 0x11ab, 0x0, 0x1);
        gbc.writeMem(0x9bd4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf565);
        EXPECT(gbc.pc(), 0x9bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bd4), 0xcb);
        EXPECT(gbc.readMem(0x9bd5), 0xf2);
        // CB F2 0026
        gbc.setState(0x33c3, 0x832b, 0xea00, 0xff3d, 0x7b27, 0x1da6, 0x1, 0x0);
        gbc.writeMem(0x33c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x832b);
        EXPECT(gbc.pc(), 0x33c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0027
        gbc.setState(0x4844, 0x6215, 0xbff0, 0xff0c, 0x66a9, 0x998b, 0x1, 0x1);
        gbc.writeMem(0x4844, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6215);
        EXPECT(gbc.pc(), 0x4846);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0028
        gbc.setState(0x8119, 0xb73e, 0x1840, 0x2cd4, 0xf830, 0xb34b, 0x0, 0x0);
        gbc.writeMem(0x8119, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb73e);
        EXPECT(gbc.pc(), 0x811b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8119), 0xcb);
        EXPECT(gbc.readMem(0x811a), 0xf2);
        // CB F2 0029
        gbc.setState(0x799a, 0x4c11, 0xa620, 0x5126, 0xefc8, 0xf04d, 0x1, 0x0);
        gbc.writeMem(0x799a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4c11);
        EXPECT(gbc.pc(), 0x799c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 002A
        gbc.setState(0x195a, 0xe457, 0x69b0, 0x21fe, 0xb8bb, 0x2dac, 0x1, 0x0);
        gbc.writeMem(0x195a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe457);
        EXPECT(gbc.pc(), 0x195c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 002B
        gbc.setState(0x4d63, 0xa43d, 0x9040, 0x81b5, 0x3fa0, 0xb5b, 0x1, 0x0);
        gbc.writeMem(0x4d63, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa43d);
        EXPECT(gbc.pc(), 0x4d65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 002C
        gbc.setState(0xb9b, 0xdd11, 0xae60, 0x68b3, 0x4886, 0x3b09, 0x0, 0x1);
        gbc.writeMem(0xb9b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdd11);
        EXPECT(gbc.pc(), 0xb9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 002D
        gbc.setState(0x2351, 0xd74c, 0x8610, 0xd32a, 0x3d31, 0x9b25, 0x1, 0x0);
        gbc.writeMem(0x2351, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd74c);
        EXPECT(gbc.pc(), 0x2353);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 002E
        gbc.setState(0x709c, 0xd0d9, 0x3e80, 0x5096, 0x5eef, 0xbaca, 0x0, 0x0);
        gbc.writeMem(0x709c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xd0d9);
        EXPECT(gbc.pc(), 0x709e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 002F
        gbc.setState(0xdba0, 0x6c75, 0xaf30, 0x216, 0x335, 0x6e0, 0x1, 0x0);
        gbc.writeMem(0xdba0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6c75);
        EXPECT(gbc.pc(), 0xdba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdba0), 0xcb);
        EXPECT(gbc.readMem(0xdba1), 0xf2);
        // CB F2 0030
        gbc.setState(0xc3be, 0xb879, 0x5060, 0x12d5, 0x83e0, 0x5c9d, 0x1, 0x1);
        gbc.writeMem(0xc3be, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb879);
        EXPECT(gbc.pc(), 0xc3c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3be), 0xcb);
        EXPECT(gbc.readMem(0xc3bf), 0xf2);
        // CB F2 0032
        gbc.setState(0x8f55, 0xb0ff, 0x160, 0x86fc, 0xa698, 0xba99, 0x1, 0x1);
        gbc.writeMem(0x8f55, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xb0ff);
        EXPECT(gbc.pc(), 0x8f57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f55), 0xcb);
        EXPECT(gbc.readMem(0x8f56), 0xf2);
        // CB F2 0033
        gbc.setState(0xd16d, 0xfd36, 0x8c40, 0x649e, 0x5344, 0x8c0a, 0x1, 0x1);
        gbc.writeMem(0xd16d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfd36);
        EXPECT(gbc.pc(), 0xd16f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd16d), 0xcb);
        EXPECT(gbc.readMem(0xd16e), 0xf2);
        // CB F2 0034
        gbc.setState(0x79f4, 0xc128, 0x56c0, 0xa1d7, 0xe818, 0x389f, 0x1, 0x1);
        gbc.writeMem(0x79f4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc128);
        EXPECT(gbc.pc(), 0x79f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0035
        gbc.setState(0x28e0, 0xc427, 0x1d80, 0x967b, 0xb460, 0x6b6c, 0x0, 0x0);
        gbc.writeMem(0x28e0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xc427);
        EXPECT(gbc.pc(), 0x28e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0036
        gbc.setState(0x123a, 0x39eb, 0x6d80, 0x271b, 0xce59, 0xf3a6, 0x1, 0x1);
        gbc.writeMem(0x123a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x39eb);
        EXPECT(gbc.pc(), 0x123c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0037
        gbc.setState(0x20ca, 0x4e0a, 0x7820, 0xe014, 0xb483, 0xaaa2, 0x0, 0x0);
        gbc.writeMem(0x20ca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4e0a);
        EXPECT(gbc.pc(), 0x20cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0038
        gbc.setState(0x457f, 0x97ee, 0x5470, 0xcbcf, 0xc1ae, 0x92ee, 0x1, 0x0);
        gbc.writeMem(0x457f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x97ee);
        EXPECT(gbc.pc(), 0x4581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0039
        gbc.setState(0xb55b, 0xb036, 0x3320, 0xc5d2, 0x9e04, 0xc2dc, 0x1, 0x0);
        gbc.writeMem(0xb55b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb036);
        EXPECT(gbc.pc(), 0xb55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb55b), 0xcb);
        EXPECT(gbc.readMem(0xb55c), 0xf2);
        // CB F2 003A
        gbc.setState(0xe865, 0x29a4, 0x9a40, 0xe398, 0x8353, 0x226b, 0x0, 0x1);
        gbc.writeMem(0xe865, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x29a4);
        EXPECT(gbc.pc(), 0xe867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe865), 0xcb);
        EXPECT(gbc.readMem(0xe866), 0xf2);
        // CB F2 003B
        gbc.setState(0xd7c3, 0x7ae3, 0x50c0, 0x2aa, 0xbfdc, 0x796f, 0x0, 0x1);
        gbc.writeMem(0xd7c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7ae3);
        EXPECT(gbc.pc(), 0xd7c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c3), 0xcb);
        EXPECT(gbc.readMem(0xd7c4), 0xf2);
        // CB F2 003C
        gbc.setState(0x29b8, 0x21dc, 0x16a0, 0x598, 0x5280, 0xe878, 0x1, 0x0);
        gbc.writeMem(0x29b8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x21dc);
        EXPECT(gbc.pc(), 0x29ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 003D
        gbc.setState(0x86eb, 0xe4d4, 0x8c90, 0x2248, 0xb172, 0xeb6f, 0x0, 0x0);
        gbc.writeMem(0x86eb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe4d4);
        EXPECT(gbc.pc(), 0x86ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86eb), 0xcb);
        EXPECT(gbc.readMem(0x86ec), 0xf2);
        // CB F2 003E
        gbc.setState(0x4964, 0x3eec, 0x8bb0, 0xd422, 0xb162, 0xe25, 0x0, 0x1);
        gbc.writeMem(0x4964, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x3eec);
        EXPECT(gbc.pc(), 0x4966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 003F
        gbc.setState(0x5daf, 0x859a, 0x84b0, 0x9f7f, 0x2bd0, 0xf305, 0x0, 0x0);
        gbc.writeMem(0x5daf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x859a);
        EXPECT(gbc.pc(), 0x5db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0040
        gbc.setState(0x9593, 0x8edd, 0x4e80, 0x2e18, 0x81b1, 0x1b58, 0x0, 0x1);
        gbc.writeMem(0x9593, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8edd);
        EXPECT(gbc.pc(), 0x9595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9593), 0xcb);
        EXPECT(gbc.readMem(0x9594), 0xf2);
        // CB F2 0041
        gbc.setState(0x845e, 0xe51e, 0x5600, 0x7774, 0xcd6e, 0xd55b, 0x0, 0x0);
        gbc.writeMem(0x845e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe51e);
        EXPECT(gbc.pc(), 0x8460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x845e), 0xcb);
        EXPECT(gbc.readMem(0x845f), 0xf2);
        // CB F2 0043
        gbc.setState(0x5ee3, 0xdf7c, 0x8a20, 0xe1d2, 0xdfb7, 0xfe48, 0x0, 0x1);
        gbc.writeMem(0x5ee3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xdf7c);
        EXPECT(gbc.pc(), 0x5ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0045
        gbc.setState(0xa956, 0x5611, 0x4f20, 0xbad5, 0xd7ed, 0x4c63, 0x1, 0x0);
        gbc.writeMem(0xa956, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5611);
        EXPECT(gbc.pc(), 0xa958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa956), 0xcb);
        EXPECT(gbc.readMem(0xa957), 0xf2);
        // CB F2 0046
        gbc.setState(0x7fca, 0x3220, 0x7800, 0xa4d8, 0x36ab, 0xea7f, 0x1, 0x1);
        gbc.writeMem(0x7fca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3220);
        EXPECT(gbc.pc(), 0x7fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0047
        gbc.setState(0xb432, 0x480e, 0xe4f0, 0xd6a6, 0xed8, 0x4320, 0x0, 0x1);
        gbc.writeMem(0xb432, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x480e);
        EXPECT(gbc.pc(), 0xb434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb432), 0xcb);
        EXPECT(gbc.readMem(0xb433), 0xf2);
        // CB F2 0048
        gbc.setState(0xaf2a, 0xeb2e, 0xb6c0, 0x907d, 0x6e3b, 0xa252, 0x0, 0x1);
        gbc.writeMem(0xaf2a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xeb2e);
        EXPECT(gbc.pc(), 0xaf2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf2a), 0xcb);
        EXPECT(gbc.readMem(0xaf2b), 0xf2);
        // CB F2 0049
        gbc.setState(0x5110, 0x42c0, 0x1210, 0x67c3, 0xabd4, 0x8653, 0x0, 0x0);
        gbc.writeMem(0x5110, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x42c0);
        EXPECT(gbc.pc(), 0x5112);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 004A
        gbc.setState(0xce71, 0x5ed7, 0xa490, 0x477e, 0x8666, 0xa121, 0x0, 0x1);
        gbc.writeMem(0xce71, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5ed7);
        EXPECT(gbc.pc(), 0xce73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce71), 0xcb);
        EXPECT(gbc.readMem(0xce72), 0xf2);
        // CB F2 004B
        gbc.setState(0x9ecb, 0x3a1b, 0xff20, 0x41ab, 0xefe9, 0x6eb9, 0x1, 0x1);
        gbc.writeMem(0x9ecb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3a1b);
        EXPECT(gbc.pc(), 0x9ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ecb), 0xcb);
        EXPECT(gbc.readMem(0x9ecc), 0xf2);
        // CB F2 004C
        gbc.setState(0xb279, 0xe993, 0xb550, 0xa6ce, 0xe7a8, 0x8ec1, 0x1, 0x1);
        gbc.writeMem(0xb279, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe993);
        EXPECT(gbc.pc(), 0xb27b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb279), 0xcb);
        EXPECT(gbc.readMem(0xb27a), 0xf2);
        // CB F2 004D
        gbc.setState(0xb68f, 0x5614, 0x2340, 0x2054, 0x40c4, 0x70b3, 0x1, 0x1);
        gbc.writeMem(0xb68f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5614);
        EXPECT(gbc.pc(), 0xb691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68f), 0xcb);
        EXPECT(gbc.readMem(0xb690), 0xf2);
        // CB F2 004E
        gbc.setState(0xe86, 0x202, 0x4ea0, 0x1e5f, 0x9cab, 0x4eed, 0x0, 0x0);
        gbc.writeMem(0xe86, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x202);
        EXPECT(gbc.pc(), 0xe88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 004F
        gbc.setState(0xcddc, 0xc262, 0x1770, 0xb79e, 0x43c4, 0x3577, 0x1, 0x0);
        gbc.writeMem(0xcddc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc262);
        EXPECT(gbc.pc(), 0xcdde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcddc), 0xcb);
        EXPECT(gbc.readMem(0xcddd), 0xf2);
        // CB F2 0050
        gbc.setState(0xda5b, 0x6b4c, 0x5f40, 0xd158, 0x5c31, 0x2136, 0x1, 0x0);
        gbc.writeMem(0xda5b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6b4c);
        EXPECT(gbc.pc(), 0xda5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda5b), 0xcb);
        EXPECT(gbc.readMem(0xda5c), 0xf2);
        // CB F2 0051
        gbc.setState(0x133c, 0x3602, 0xf910, 0xd16e, 0x40df, 0x6778, 0x1, 0x1);
        gbc.writeMem(0x133c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x3602);
        EXPECT(gbc.pc(), 0x133e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0052
        gbc.setState(0xea03, 0xe7e0, 0xb320, 0x1e5c, 0xba8f, 0xb3af, 0x1, 0x0);
        gbc.writeMem(0xea03, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe7e0);
        EXPECT(gbc.pc(), 0xea05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea03), 0xcb);
        EXPECT(gbc.readMem(0xea04), 0xf2);
        // CB F2 0053
        gbc.setState(0x78c4, 0x1afc, 0xc360, 0x5a48, 0xcbda, 0x35b9, 0x1, 0x0);
        gbc.writeMem(0x78c4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1afc);
        EXPECT(gbc.pc(), 0x78c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0054
        gbc.setState(0x6102, 0x4a99, 0x9110, 0x286, 0x8c5a, 0xba4b, 0x0, 0x1);
        gbc.writeMem(0x6102, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x4a99);
        EXPECT(gbc.pc(), 0x6104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0055
        gbc.setState(0x6198, 0x5856, 0xf570, 0x7b97, 0x3c5c, 0xc1ad, 0x0, 0x0);
        gbc.writeMem(0x6198, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5856);
        EXPECT(gbc.pc(), 0x619a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0056
        gbc.setState(0xafda, 0x4622, 0xa780, 0x6f33, 0x18fc, 0xb551, 0x1, 0x0);
        gbc.writeMem(0xafda, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4622);
        EXPECT(gbc.pc(), 0xafdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafda), 0xcb);
        EXPECT(gbc.readMem(0xafdb), 0xf2);
        // CB F2 0057
        gbc.setState(0x710f, 0x169c, 0x86b0, 0x57eb, 0xb7c3, 0xde09, 0x1, 0x1);
        gbc.writeMem(0x710f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x169c);
        EXPECT(gbc.pc(), 0x7111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0058
        gbc.setState(0x51a, 0xd5f7, 0x640, 0x41c3, 0xc037, 0x36b4, 0x1, 0x1);
        gbc.writeMem(0x51a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd5f7);
        EXPECT(gbc.pc(), 0x51c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0059
        gbc.setState(0xe5d6, 0xa59e, 0xa420, 0xff92, 0x4778, 0x6ab2, 0x1, 0x1);
        gbc.writeMem(0xe5d6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xa59e);
        EXPECT(gbc.pc(), 0xe5d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d6), 0xcb);
        EXPECT(gbc.readMem(0xe5d7), 0xf2);
        // CB F2 005A
        gbc.setState(0x7796, 0x5d9c, 0x7ac0, 0xd389, 0x1d26, 0xb1b9, 0x0, 0x1);
        gbc.writeMem(0x7796, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x5d9c);
        EXPECT(gbc.pc(), 0x7798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 005B
        gbc.setState(0xef11, 0x18c1, 0xdf00, 0x47b0, 0x9e6a, 0xc103, 0x0, 0x1);
        gbc.writeMem(0xef11, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x18c1);
        EXPECT(gbc.pc(), 0xef13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef11), 0xcb);
        EXPECT(gbc.readMem(0xef12), 0xf2);
        // CB F2 005D
        gbc.setState(0xa976, 0x2c20, 0x9f80, 0x4d68, 0xd2d, 0xdd67, 0x1, 0x1);
        gbc.writeMem(0xa976, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x2c20);
        EXPECT(gbc.pc(), 0xa978);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa976), 0xcb);
        EXPECT(gbc.readMem(0xa977), 0xf2);
        // CB F2 005E
        gbc.setState(0xa8f1, 0xedab, 0x50e0, 0xbd28, 0x9804, 0xc773, 0x0, 0x0);
        gbc.writeMem(0xa8f1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xedab);
        EXPECT(gbc.pc(), 0xa8f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8f1), 0xcb);
        EXPECT(gbc.readMem(0xa8f2), 0xf2);
        // CB F2 005F
        gbc.setState(0x758b, 0x5497, 0xd980, 0x48f4, 0x2d5b, 0x97b8, 0x1, 0x1);
        gbc.writeMem(0x758b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5497);
        EXPECT(gbc.pc(), 0x758d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0060
        gbc.setState(0xed61, 0xd977, 0x81e0, 0x6566, 0xef18, 0x9ebb, 0x0, 0x0);
        gbc.writeMem(0xed61, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd977);
        EXPECT(gbc.pc(), 0xed63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed61), 0xcb);
        EXPECT(gbc.readMem(0xed62), 0xf2);
        // CB F2 0061
        gbc.setState(0x5353, 0xe2b3, 0x6900, 0x883f, 0x3258, 0xa0e, 0x0, 0x1);
        gbc.writeMem(0x5353, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xe2b3);
        EXPECT(gbc.pc(), 0x5355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0062
        gbc.setState(0x2eea, 0x2244, 0xa280, 0x5227, 0x4172, 0x50eb, 0x1, 0x1);
        gbc.writeMem(0x2eea, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2244);
        EXPECT(gbc.pc(), 0x2eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0063
        gbc.setState(0xef99, 0x6c91, 0xeb80, 0x1940, 0x9d76, 0xe86c, 0x1, 0x1);
        gbc.writeMem(0xef99, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6c91);
        EXPECT(gbc.pc(), 0xef9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef99), 0xcb);
        EXPECT(gbc.readMem(0xef9a), 0xf2);
        // CB F2 0064
        gbc.setState(0xac97, 0xb008, 0xf9c0, 0xd80c, 0x363e, 0x74d9, 0x1, 0x1);
        gbc.writeMem(0xac97, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xb008);
        EXPECT(gbc.pc(), 0xac99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac97), 0xcb);
        EXPECT(gbc.readMem(0xac98), 0xf2);
        // CB F2 0065
        gbc.setState(0xb5de, 0x6840, 0x5980, 0xded0, 0xaf, 0xdb3f, 0x0, 0x0);
        gbc.writeMem(0xb5de, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x6840);
        EXPECT(gbc.pc(), 0xb5e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5de), 0xcb);
        EXPECT(gbc.readMem(0xb5df), 0xf2);
        // CB F2 0066
        gbc.setState(0x8541, 0xa67c, 0x85d0, 0x20f5, 0x216c, 0x615e, 0x0, 0x0);
        gbc.writeMem(0x8541, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa67c);
        EXPECT(gbc.pc(), 0x8543);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8541), 0xcb);
        EXPECT(gbc.readMem(0x8542), 0xf2);
        // CB F2 0067
        gbc.setState(0x2e07, 0x6006, 0x1f80, 0xb220, 0x671, 0x9ea1, 0x1, 0x1);
        gbc.writeMem(0x2e07, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6006);
        EXPECT(gbc.pc(), 0x2e09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0068
        gbc.setState(0x91f3, 0xf59c, 0xde10, 0xe0c8, 0x7817, 0xb00d, 0x0, 0x1);
        gbc.writeMem(0x91f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf59c);
        EXPECT(gbc.pc(), 0x91f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91f3), 0xcb);
        EXPECT(gbc.readMem(0x91f4), 0xf2);
        // CB F2 0069
        gbc.setState(0x7e8, 0x7b3b, 0x52e0, 0x9a38, 0x6b16, 0xe8d8, 0x1, 0x1);
        gbc.writeMem(0x7e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x7b3b);
        EXPECT(gbc.pc(), 0x7ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 006A
        gbc.setState(0x4aa4, 0x84b6, 0x2570, 0xf781, 0xe5c4, 0x7fd2, 0x1, 0x1);
        gbc.writeMem(0x4aa4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x84b6);
        EXPECT(gbc.pc(), 0x4aa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 006B
        gbc.setState(0x8f10, 0x6b74, 0xe290, 0x41b, 0xb5c9, 0xc8c1, 0x0, 0x0);
        gbc.writeMem(0x8f10, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6b74);
        EXPECT(gbc.pc(), 0x8f12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f10), 0xcb);
        EXPECT(gbc.readMem(0x8f11), 0xf2);
        // CB F2 006C
        gbc.setState(0x4cd8, 0x3cd9, 0x9350, 0xba18, 0xe6d1, 0xdaa1, 0x1, 0x0);
        gbc.writeMem(0x4cd8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3cd9);
        EXPECT(gbc.pc(), 0x4cda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 006D
        gbc.setState(0xbd49, 0xf2e3, 0xd900, 0xc450, 0xb683, 0x5cae, 0x0, 0x1);
        gbc.writeMem(0xbd49, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf2e3);
        EXPECT(gbc.pc(), 0xbd4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd49), 0xcb);
        EXPECT(gbc.readMem(0xbd4a), 0xf2);
        // CB F2 006E
        gbc.setState(0x1dcf, 0x5b50, 0x3760, 0xfdd1, 0x6bd7, 0x4c2e, 0x0, 0x0);
        gbc.writeMem(0x1dcf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5b50);
        EXPECT(gbc.pc(), 0x1dd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 006F
        gbc.setState(0x1e00, 0xf2ef, 0x8600, 0x279b, 0xac70, 0x5608, 0x0, 0x0);
        gbc.writeMem(0x1e00, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf2ef);
        EXPECT(gbc.pc(), 0x1e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0070
        gbc.setState(0xea9e, 0x2b39, 0xe170, 0x664b, 0x21e8, 0x238e, 0x0, 0x0);
        gbc.writeMem(0xea9e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2b39);
        EXPECT(gbc.pc(), 0xeaa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea9e), 0xcb);
        EXPECT(gbc.readMem(0xea9f), 0xf2);
        // CB F2 0071
        gbc.setState(0x9337, 0x3b1f, 0x2be0, 0x674a, 0x9c17, 0x7d9e, 0x0, 0x1);
        gbc.writeMem(0x9337, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3b1f);
        EXPECT(gbc.pc(), 0x9339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9337), 0xcb);
        EXPECT(gbc.readMem(0x9338), 0xf2);
        // CB F2 0072
        gbc.setState(0x295b, 0x4eb2, 0xe7b0, 0x5942, 0x74af, 0xf3a0, 0x0, 0x0);
        gbc.writeMem(0x295b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4eb2);
        EXPECT(gbc.pc(), 0x295d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0073
        gbc.setState(0x7141, 0xbc4f, 0xdcc0, 0xe3de, 0x9fdf, 0xbc8e, 0x1, 0x1);
        gbc.writeMem(0x7141, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbc4f);
        EXPECT(gbc.pc(), 0x7143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0074
        gbc.setState(0x9442, 0xbe28, 0xdb40, 0xe72a, 0xf6b4, 0x7e41, 0x0, 0x1);
        gbc.writeMem(0x9442, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbe28);
        EXPECT(gbc.pc(), 0x9444);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9442), 0xcb);
        EXPECT(gbc.readMem(0x9443), 0xf2);
        // CB F2 0075
        gbc.setState(0xbde4, 0x998f, 0x4870, 0xd901, 0xe46d, 0x8627, 0x0, 0x1);
        gbc.writeMem(0xbde4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x998f);
        EXPECT(gbc.pc(), 0xbde6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde4), 0xcb);
        EXPECT(gbc.readMem(0xbde5), 0xf2);
        // CB F2 0076
        gbc.setState(0xb4c1, 0x5aa9, 0x7e20, 0x17e1, 0xd373, 0x412f, 0x1, 0x1);
        gbc.writeMem(0xb4c1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5aa9);
        EXPECT(gbc.pc(), 0xb4c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4c1), 0xcb);
        EXPECT(gbc.readMem(0xb4c2), 0xf2);
        // CB F2 0077
        gbc.setState(0xdf95, 0x9b00, 0xda00, 0xd585, 0x149, 0x18b4, 0x1, 0x1);
        gbc.writeMem(0xdf95, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9b00);
        EXPECT(gbc.pc(), 0xdf97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf95), 0xcb);
        EXPECT(gbc.readMem(0xdf96), 0xf2);
        // CB F2 0078
        gbc.setState(0x1111, 0x4242, 0xc2d0, 0x643a, 0x5c5e, 0x3af, 0x0, 0x1);
        gbc.writeMem(0x1111, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4242);
        EXPECT(gbc.pc(), 0x1113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0079
        gbc.setState(0xdc55, 0xe7, 0xba50, 0x5936, 0xaea2, 0xe306, 0x0, 0x1);
        gbc.writeMem(0xdc55, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe7);
        EXPECT(gbc.pc(), 0xdc57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc55), 0xcb);
        EXPECT(gbc.readMem(0xdc56), 0xf2);
        // CB F2 007A
        gbc.setState(0x96e, 0x88dd, 0xbc10, 0xa3bc, 0xdab3, 0xcdea, 0x0, 0x0);
        gbc.writeMem(0x96e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x88dd);
        EXPECT(gbc.pc(), 0x970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 007B
        gbc.setState(0xa02c, 0x312f, 0x2e0, 0x3c74, 0x946e, 0x9224, 0x1, 0x0);
        gbc.writeMem(0xa02c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x312f);
        EXPECT(gbc.pc(), 0xa02e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa02c), 0xcb);
        EXPECT(gbc.readMem(0xa02d), 0xf2);
        // CB F2 007C
        gbc.setState(0x7b78, 0x4147, 0xd0c0, 0x4f40, 0xda87, 0x64e9, 0x0, 0x1);
        gbc.writeMem(0x7b78, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4147);
        EXPECT(gbc.pc(), 0x7b7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 007D
        gbc.setState(0x22c, 0x3354, 0xd360, 0xa4b4, 0xa45a, 0x5104, 0x0, 0x1);
        gbc.writeMem(0x22c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3354);
        EXPECT(gbc.pc(), 0x22e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 007E
        gbc.setState(0xc161, 0xe27c, 0x75f0, 0xa295, 0x63b4, 0x7220, 0x0, 0x1);
        gbc.writeMem(0xc161, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe27c);
        EXPECT(gbc.pc(), 0xc163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc161), 0xcb);
        EXPECT(gbc.readMem(0xc162), 0xf2);
        // CB F2 007F
        gbc.setState(0x7a8b, 0x3445, 0xd3e0, 0x2961, 0xbaa9, 0xf808, 0x1, 0x1);
        gbc.writeMem(0x7a8b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3445);
        EXPECT(gbc.pc(), 0x7a8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0080
        gbc.setState(0x6284, 0x7562, 0xfd40, 0xef58, 0xa1de, 0x1924, 0x0, 0x1);
        gbc.writeMem(0x6284, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x7562);
        EXPECT(gbc.pc(), 0x6286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0081
        gbc.setState(0x3dfa, 0x5bd6, 0x22d0, 0x19f8, 0x7145, 0xd815, 0x0, 0x1);
        gbc.writeMem(0x3dfa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x5bd6);
        EXPECT(gbc.pc(), 0x3dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0082
        gbc.setState(0x8952, 0xc289, 0xa490, 0xdad1, 0xb7d3, 0x65f6, 0x0, 0x0);
        gbc.writeMem(0x8952, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc289);
        EXPECT(gbc.pc(), 0x8954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8952), 0xcb);
        EXPECT(gbc.readMem(0x8953), 0xf2);
        // CB F2 0083
        gbc.setState(0xdef7, 0x1b99, 0x410, 0xba92, 0xfbcf, 0xd955, 0x0, 0x1);
        gbc.writeMem(0xdef7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1b99);
        EXPECT(gbc.pc(), 0xdef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdef7), 0xcb);
        EXPECT(gbc.readMem(0xdef8), 0xf2);
        // CB F2 0084
        gbc.setState(0x2f08, 0xb898, 0x8b70, 0x160b, 0x8133, 0xae5b, 0x1, 0x0);
        gbc.writeMem(0x2f08, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb898);
        EXPECT(gbc.pc(), 0x2f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0085
        gbc.setState(0xab5b, 0xf450, 0x39f0, 0x730e, 0xd84b, 0x8a46, 0x0, 0x0);
        gbc.writeMem(0xab5b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf450);
        EXPECT(gbc.pc(), 0xab5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab5b), 0xcb);
        EXPECT(gbc.readMem(0xab5c), 0xf2);
        // CB F2 0086
        gbc.setState(0x3467, 0xdd24, 0x9c50, 0x7cfb, 0xa3fc, 0xcdc4, 0x1, 0x0);
        gbc.writeMem(0x3467, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xdd24);
        EXPECT(gbc.pc(), 0x3469);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0087
        gbc.setState(0xed0f, 0xe63f, 0x2e00, 0xfea2, 0xd629, 0xa2c1, 0x1, 0x1);
        gbc.writeMem(0xed0f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe63f);
        EXPECT(gbc.pc(), 0xed11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed0f), 0xcb);
        EXPECT(gbc.readMem(0xed10), 0xf2);
        // CB F2 0088
        gbc.setState(0x3809, 0xe38c, 0x11d0, 0x3f84, 0x9d93, 0xb8d1, 0x1, 0x1);
        gbc.writeMem(0x3809, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe38c);
        EXPECT(gbc.pc(), 0x380b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0089
        gbc.setState(0x33ca, 0xee70, 0x22d0, 0xfea9, 0x7663, 0x7bda, 0x0, 0x1);
        gbc.writeMem(0x33ca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xee70);
        EXPECT(gbc.pc(), 0x33cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 008A
        gbc.setState(0x9c3a, 0xeae3, 0x5ec0, 0x4bad, 0x4e67, 0xacc3, 0x1, 0x0);
        gbc.writeMem(0x9c3a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xeae3);
        EXPECT(gbc.pc(), 0x9c3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c3a), 0xcb);
        EXPECT(gbc.readMem(0x9c3b), 0xf2);
        // CB F2 008B
        gbc.setState(0xe32e, 0x5a02, 0x770, 0x679c, 0xbcc1, 0x3ec0, 0x0, 0x0);
        gbc.writeMem(0xe32e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5a02);
        EXPECT(gbc.pc(), 0xe330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe32e), 0xcb);
        EXPECT(gbc.readMem(0xe32f), 0xf2);
        // CB F2 008C
        gbc.setState(0xe96f, 0x7616, 0xe460, 0x23ff, 0xef77, 0xa1b5, 0x0, 0x0);
        gbc.writeMem(0xe96f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7616);
        EXPECT(gbc.pc(), 0xe971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe96f), 0xcb);
        EXPECT(gbc.readMem(0xe970), 0xf2);
        // CB F2 008D
        gbc.setState(0x58d5, 0x1463, 0xea80, 0xe73a, 0x717, 0xd894, 0x1, 0x1);
        gbc.writeMem(0x58d5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1463);
        EXPECT(gbc.pc(), 0x58d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 008E
        gbc.setState(0x82c3, 0x57e7, 0xcc70, 0x83e9, 0xebe4, 0xc5df, 0x1, 0x1);
        gbc.writeMem(0x82c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x57e7);
        EXPECT(gbc.pc(), 0x82c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c3), 0xcb);
        EXPECT(gbc.readMem(0x82c4), 0xf2);
        // CB F2 008F
        gbc.setState(0x5fe2, 0x34b3, 0x670, 0x2d24, 0x1033, 0xb59d, 0x0, 0x0);
        gbc.writeMem(0x5fe2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x34b3);
        EXPECT(gbc.pc(), 0x5fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0090
        gbc.setState(0x7c34, 0x6270, 0x7620, 0x77d4, 0xe2c6, 0xea9d, 0x1, 0x1);
        gbc.writeMem(0x7c34, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6270);
        EXPECT(gbc.pc(), 0x7c36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0091
        gbc.setState(0xc7f2, 0x8b94, 0x2a0, 0xb3dc, 0x58b9, 0xb4bb, 0x1, 0x1);
        gbc.writeMem(0xc7f2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8b94);
        EXPECT(gbc.pc(), 0xc7f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7f2), 0xcb);
        EXPECT(gbc.readMem(0xc7f3), 0xf2);
        // CB F2 0092
        gbc.setState(0x92cd, 0xc2e4, 0x9cc0, 0x227a, 0xa619, 0xe5c6, 0x1, 0x1);
        gbc.writeMem(0x92cd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc2e4);
        EXPECT(gbc.pc(), 0x92cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92cd), 0xcb);
        EXPECT(gbc.readMem(0x92ce), 0xf2);
        // CB F2 0093
        gbc.setState(0x4ad6, 0x3dd6, 0x33d0, 0x8f38, 0x3959, 0xe7d7, 0x1, 0x1);
        gbc.writeMem(0x4ad6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3dd6);
        EXPECT(gbc.pc(), 0x4ad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0095
        gbc.setState(0x5b4c, 0x61f3, 0xa790, 0x9961, 0x5d41, 0x6e4b, 0x0, 0x0);
        gbc.writeMem(0x5b4c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x61f3);
        EXPECT(gbc.pc(), 0x5b4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0096
        gbc.setState(0x65f9, 0x7a10, 0xea20, 0xb826, 0xf318, 0x5b02, 0x0, 0x1);
        gbc.writeMem(0x65f9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7a10);
        EXPECT(gbc.pc(), 0x65fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0098
        gbc.setState(0xc4c1, 0x55cf, 0xf4b0, 0x911, 0x1f17, 0x1b09, 0x0, 0x1);
        gbc.writeMem(0xc4c1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x55cf);
        EXPECT(gbc.pc(), 0xc4c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c1), 0xcb);
        EXPECT(gbc.readMem(0xc4c2), 0xf2);
        // CB F2 0099
        gbc.setState(0x471, 0x70b3, 0xd8b0, 0x5732, 0x2f58, 0x193e, 0x1, 0x0);
        gbc.writeMem(0x471, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x70b3);
        EXPECT(gbc.pc(), 0x473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 009A
        gbc.setState(0x2ab3, 0x1d60, 0x50, 0x568, 0xb6ec, 0x4ecb, 0x1, 0x1);
        gbc.writeMem(0x2ab3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1d60);
        EXPECT(gbc.pc(), 0x2ab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 009B
        gbc.setState(0xc12b, 0x1411, 0xd940, 0x1a1b, 0x2c08, 0x5e8e, 0x0, 0x0);
        gbc.writeMem(0xc12b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x1411);
        EXPECT(gbc.pc(), 0xc12d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc12b), 0xcb);
        EXPECT(gbc.readMem(0xc12c), 0xf2);
        // CB F2 009C
        gbc.setState(0xd6e1, 0x466f, 0x35c0, 0x1c96, 0xcb43, 0x672d, 0x1, 0x1);
        gbc.writeMem(0xd6e1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x466f);
        EXPECT(gbc.pc(), 0xd6e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e1), 0xcb);
        EXPECT(gbc.readMem(0xd6e2), 0xf2);
        // CB F2 009D
        gbc.setState(0x4ab, 0x6fbb, 0x7960, 0x4257, 0x21f6, 0x61ed, 0x1, 0x0);
        gbc.writeMem(0x4ab, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x6fbb);
        EXPECT(gbc.pc(), 0x4ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 009E
        gbc.setState(0xa4c6, 0xb798, 0x79b0, 0x34d4, 0x4ba0, 0x6676, 0x0, 0x0);
        gbc.writeMem(0xa4c6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb798);
        EXPECT(gbc.pc(), 0xa4c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4c6), 0xcb);
        EXPECT(gbc.readMem(0xa4c7), 0xf2);
        // CB F2 009F
        gbc.setState(0xb806, 0x62c0, 0xba60, 0x8b55, 0xfd8e, 0xffa1, 0x0, 0x1);
        gbc.writeMem(0xb806, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x62c0);
        EXPECT(gbc.pc(), 0xb808);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb806), 0xcb);
        EXPECT(gbc.readMem(0xb807), 0xf2);
        // CB F2 00A0
        gbc.setState(0xa737, 0x826d, 0x310, 0x5b82, 0xae2d, 0x57b0, 0x1, 0x1);
        gbc.writeMem(0xa737, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x826d);
        EXPECT(gbc.pc(), 0xa739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa737), 0xcb);
        EXPECT(gbc.readMem(0xa738), 0xf2);
        // CB F2 00A1
        gbc.setState(0x1697, 0xa6f7, 0x2450, 0xe385, 0x3efe, 0x93b5, 0x1, 0x1);
        gbc.writeMem(0x1697, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa6f7);
        EXPECT(gbc.pc(), 0x1699);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00A2
        gbc.setState(0xce71, 0xbbd7, 0x9910, 0x8747, 0x6b65, 0xd745, 0x0, 0x0);
        gbc.writeMem(0xce71, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbbd7);
        EXPECT(gbc.pc(), 0xce73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce71), 0xcb);
        EXPECT(gbc.readMem(0xce72), 0xf2);
        // CB F2 00A3
        gbc.setState(0x521c, 0x5fc7, 0xbf40, 0xae40, 0x5057, 0xfc7a, 0x1, 0x0);
        gbc.writeMem(0x521c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5fc7);
        EXPECT(gbc.pc(), 0x521e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00A4
        gbc.setState(0xc937, 0xac8d, 0x8820, 0x8c25, 0xe01c, 0xba29, 0x0, 0x1);
        gbc.writeMem(0xc937, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xac8d);
        EXPECT(gbc.pc(), 0xc939);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc937), 0xcb);
        EXPECT(gbc.readMem(0xc938), 0xf2);
        // CB F2 00A5
        gbc.setState(0x2a9c, 0xc430, 0xd500, 0x6dc0, 0xd00, 0x90eb, 0x0, 0x1);
        gbc.writeMem(0x2a9c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xc430);
        EXPECT(gbc.pc(), 0x2a9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00A6
        gbc.setState(0xbd93, 0x36d0, 0x3e0, 0x3bc1, 0xa874, 0x88c7, 0x0, 0x1);
        gbc.writeMem(0xbd93, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x36d0);
        EXPECT(gbc.pc(), 0xbd95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd93), 0xcb);
        EXPECT(gbc.readMem(0xbd94), 0xf2);
        // CB F2 00A7
        gbc.setState(0x2f7, 0xcff8, 0x49f0, 0xdadc, 0x45ee, 0xb4c, 0x0, 0x0);
        gbc.writeMem(0x2f7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcff8);
        EXPECT(gbc.pc(), 0x2f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00A8
        gbc.setState(0xe7b3, 0xb0bc, 0x4a90, 0xbfdc, 0xbd79, 0xf10a, 0x0, 0x0);
        gbc.writeMem(0xe7b3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xb0bc);
        EXPECT(gbc.pc(), 0xe7b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7b3), 0xcb);
        EXPECT(gbc.readMem(0xe7b4), 0xf2);
        // CB F2 00A9
        gbc.setState(0x748, 0xf5f, 0xf20, 0x3bd5, 0xfd85, 0x7163, 0x1, 0x1);
        gbc.writeMem(0x748, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf5f);
        EXPECT(gbc.pc(), 0x74a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00AA
        gbc.setState(0xa6cc, 0xf9b, 0x6e30, 0xa170, 0x2ae3, 0xa3c9, 0x0, 0x0);
        gbc.writeMem(0xa6cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf9b);
        EXPECT(gbc.pc(), 0xa6ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6cc), 0xcb);
        EXPECT(gbc.readMem(0xa6cd), 0xf2);
        // CB F2 00AB
        gbc.setState(0x439c, 0x42ec, 0xceb0, 0x702f, 0x86ea, 0x4646, 0x1, 0x1);
        gbc.writeMem(0x439c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x42ec);
        EXPECT(gbc.pc(), 0x439e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00AC
        gbc.setState(0x9a66, 0xb4a3, 0x8bf0, 0x12b4, 0xe5a7, 0x1fa1, 0x1, 0x1);
        gbc.writeMem(0x9a66, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xb4a3);
        EXPECT(gbc.pc(), 0x9a68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a66), 0xcb);
        EXPECT(gbc.readMem(0x9a67), 0xf2);
        // CB F2 00AD
        gbc.setState(0xbc39, 0x8b66, 0xe5b0, 0xf80, 0x6baf, 0x7d0e, 0x0, 0x1);
        gbc.writeMem(0xbc39, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8b66);
        EXPECT(gbc.pc(), 0xbc3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc39), 0xcb);
        EXPECT(gbc.readMem(0xbc3a), 0xf2);
        // CB F2 00AE
        gbc.setState(0xf29, 0xca5, 0x13a0, 0xc3c3, 0x1ff2, 0x77a6, 0x0, 0x0);
        gbc.writeMem(0xf29, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xca5);
        EXPECT(gbc.pc(), 0xf2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00B1
        gbc.setState(0xb83, 0x95c3, 0x6cb0, 0xb686, 0xbddd, 0x8b2e, 0x1, 0x1);
        gbc.writeMem(0xb83, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x95c3);
        EXPECT(gbc.pc(), 0xb85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00B2
        gbc.setState(0x4edc, 0x11a4, 0xc4d0, 0xed82, 0x7a93, 0x8671, 0x0, 0x1);
        gbc.writeMem(0x4edc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x11a4);
        EXPECT(gbc.pc(), 0x4ede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00B3
        gbc.setState(0x4f33, 0x6459, 0x89f0, 0x1702, 0xe5f9, 0xfe8f, 0x0, 0x0);
        gbc.writeMem(0x4f33, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6459);
        EXPECT(gbc.pc(), 0x4f35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00B4
        gbc.setState(0x9e5c, 0xddc9, 0xc840, 0x6431, 0xba5, 0xfa4, 0x0, 0x0);
        gbc.writeMem(0x9e5c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xddc9);
        EXPECT(gbc.pc(), 0x9e5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e5c), 0xcb);
        EXPECT(gbc.readMem(0x9e5d), 0xf2);
        // CB F2 00B5
        gbc.setState(0x8de2, 0x487, 0x5ad0, 0x57f7, 0x7d3d, 0x7d32, 0x1, 0x1);
        gbc.writeMem(0x8de2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x487);
        EXPECT(gbc.pc(), 0x8de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de2), 0xcb);
        EXPECT(gbc.readMem(0x8de3), 0xf2);
        // CB F2 00B6
        gbc.setState(0x6c3, 0xda8c, 0xd930, 0x7ea9, 0x32ca, 0x7e81, 0x0, 0x1);
        gbc.writeMem(0x6c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xda8c);
        EXPECT(gbc.pc(), 0x6c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00B7
        gbc.setState(0xdb9, 0x9140, 0x6540, 0x9349, 0x6389, 0xa760, 0x1, 0x0);
        gbc.writeMem(0xdb9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x9140);
        EXPECT(gbc.pc(), 0xdbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00B8
        gbc.setState(0xcf1e, 0xf14e, 0x2280, 0x84db, 0x2a7f, 0x29e3, 0x1, 0x0);
        gbc.writeMem(0xcf1e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf14e);
        EXPECT(gbc.pc(), 0xcf20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf1e), 0xcb);
        EXPECT(gbc.readMem(0xcf1f), 0xf2);
        // CB F2 00B9
        gbc.setState(0xb39b, 0x33e9, 0xada0, 0x5914, 0xdbca, 0x86af, 0x1, 0x1);
        gbc.writeMem(0xb39b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x33e9);
        EXPECT(gbc.pc(), 0xb39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb39b), 0xcb);
        EXPECT(gbc.readMem(0xb39c), 0xf2);
        // CB F2 00BA
        gbc.setState(0x2005, 0xc8d9, 0x89f0, 0x5f9b, 0x48da, 0x1686, 0x1, 0x1);
        gbc.writeMem(0x2005, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc8d9);
        EXPECT(gbc.pc(), 0x2007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00BB
        gbc.setState(0xcbbc, 0x5a5c, 0x66a0, 0xb580, 0xe5a, 0xbd77, 0x1, 0x0);
        gbc.writeMem(0xcbbc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5a5c);
        EXPECT(gbc.pc(), 0xcbbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbbc), 0xcb);
        EXPECT(gbc.readMem(0xcbbd), 0xf2);
        // CB F2 00BC
        gbc.setState(0x340e, 0x9ca3, 0x330, 0xc95f, 0x286d, 0xe93c, 0x0, 0x0);
        gbc.writeMem(0x340e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9ca3);
        EXPECT(gbc.pc(), 0x3410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00BD
        gbc.setState(0x623e, 0x7018, 0x1e00, 0xda7d, 0x937e, 0xabeb, 0x0, 0x1);
        gbc.writeMem(0x623e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7018);
        EXPECT(gbc.pc(), 0x6240);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00BE
        gbc.setState(0xc505, 0xad49, 0x8740, 0xa42, 0x10e1, 0x65ee, 0x0, 0x0);
        gbc.writeMem(0xc505, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xad49);
        EXPECT(gbc.pc(), 0xc507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc505), 0xcb);
        EXPECT(gbc.readMem(0xc506), 0xf2);
        // CB F2 00BF
        gbc.setState(0x5a83, 0xbbb7, 0xb200, 0x545d, 0xd9b9, 0x54a5, 0x1, 0x1);
        gbc.writeMem(0x5a83, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xbbb7);
        EXPECT(gbc.pc(), 0x5a85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00C0
        gbc.setState(0x34ea, 0xa436, 0xa370, 0x6b8c, 0x230e, 0x3cf1, 0x0, 0x1);
        gbc.writeMem(0x34ea, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa436);
        EXPECT(gbc.pc(), 0x34ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00C1
        gbc.setState(0x6918, 0x3724, 0xfb0, 0x46c0, 0xcc41, 0x8a30, 0x1, 0x1);
        gbc.writeMem(0x6918, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3724);
        EXPECT(gbc.pc(), 0x691a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00C2
        gbc.setState(0x51e8, 0x462f, 0xfb40, 0x960d, 0xddd6, 0xf015, 0x1, 0x0);
        gbc.writeMem(0x51e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x462f);
        EXPECT(gbc.pc(), 0x51ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00C3
        gbc.setState(0xefc3, 0x628a, 0x7700, 0x54aa, 0xc299, 0x1c46, 0x0, 0x0);
        gbc.writeMem(0xefc3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x628a);
        EXPECT(gbc.pc(), 0xefc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc3), 0xcb);
        EXPECT(gbc.readMem(0xefc4), 0xf2);
        // CB F2 00C4
        gbc.setState(0x7d9d, 0x2522, 0x8040, 0xe81c, 0xbe50, 0xc54a, 0x1, 0x1);
        gbc.writeMem(0x7d9d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2522);
        EXPECT(gbc.pc(), 0x7d9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00C5
        gbc.setState(0xcbbe, 0xbb2, 0xcf40, 0x3006, 0xca4f, 0x710f, 0x1, 0x0);
        gbc.writeMem(0xcbbe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xbb2);
        EXPECT(gbc.pc(), 0xcbc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbbe), 0xcb);
        EXPECT(gbc.readMem(0xcbbf), 0xf2);
        // CB F2 00C6
        gbc.setState(0x9788, 0xad10, 0x1ae0, 0x6229, 0xd0af, 0x2f50, 0x0, 0x0);
        gbc.writeMem(0x9788, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xad10);
        EXPECT(gbc.pc(), 0x978a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9788), 0xcb);
        EXPECT(gbc.readMem(0x9789), 0xf2);
        // CB F2 00C7
        gbc.setState(0x8d88, 0x7973, 0xa320, 0x4c67, 0xaedc, 0x2be1, 0x0, 0x0);
        gbc.writeMem(0x8d88, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7973);
        EXPECT(gbc.pc(), 0x8d8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d88), 0xcb);
        EXPECT(gbc.readMem(0x8d89), 0xf2);
        // CB F2 00C8
        gbc.setState(0x6bf3, 0xabc7, 0x47e0, 0x43f7, 0x6c7, 0x2382, 0x1, 0x1);
        gbc.writeMem(0x6bf3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xabc7);
        EXPECT(gbc.pc(), 0x6bf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00C9
        gbc.setState(0x1ac8, 0xa405, 0x3650, 0x548d, 0x30e, 0xb9d7, 0x1, 0x1);
        gbc.writeMem(0x1ac8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa405);
        EXPECT(gbc.pc(), 0x1aca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00CA
        gbc.setState(0xebc1, 0xf47e, 0x68b0, 0xce0d, 0xe200, 0x51d0, 0x0, 0x0);
        gbc.writeMem(0xebc1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf47e);
        EXPECT(gbc.pc(), 0xebc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebc1), 0xcb);
        EXPECT(gbc.readMem(0xebc2), 0xf2);
        // CB F2 00CB
        gbc.setState(0x52e9, 0xdc79, 0x63f0, 0xf01d, 0x8e59, 0xbfa4, 0x1, 0x0);
        gbc.writeMem(0x52e9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdc79);
        EXPECT(gbc.pc(), 0x52eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00CC
        gbc.setState(0xe3b7, 0xcd78, 0xc560, 0xd29d, 0x8cb9, 0x45b8, 0x0, 0x0);
        gbc.writeMem(0xe3b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xcd78);
        EXPECT(gbc.pc(), 0xe3b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b7), 0xcb);
        EXPECT(gbc.readMem(0xe3b8), 0xf2);
        // CB F2 00CD
        gbc.setState(0x4fc7, 0xe8f8, 0xda00, 0x8e15, 0xb566, 0xa22, 0x0, 0x0);
        gbc.writeMem(0x4fc7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe8f8);
        EXPECT(gbc.pc(), 0x4fc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00CE
        gbc.setState(0xe8b5, 0xe2a1, 0x2940, 0xc1b6, 0xe207, 0x8b, 0x1, 0x0);
        gbc.writeMem(0xe8b5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe2a1);
        EXPECT(gbc.pc(), 0xe8b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8b5), 0xcb);
        EXPECT(gbc.readMem(0xe8b6), 0xf2);
        // CB F2 00CF
        gbc.setState(0x377, 0xa8be, 0xf3c0, 0xe7d2, 0xa234, 0x19b3, 0x1, 0x0);
        gbc.writeMem(0x377, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa8be);
        EXPECT(gbc.pc(), 0x379);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00D0
        gbc.setState(0xd841, 0x7df2, 0xc680, 0xe45a, 0x5b54, 0x4256, 0x1, 0x1);
        gbc.writeMem(0xd841, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x7df2);
        EXPECT(gbc.pc(), 0xd843);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd841), 0xcb);
        EXPECT(gbc.readMem(0xd842), 0xf2);
        // CB F2 00D1
        gbc.setState(0x69c8, 0x891c, 0x5a50, 0xd6ac, 0xe794, 0x59b6, 0x1, 0x0);
        gbc.writeMem(0x69c8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x891c);
        EXPECT(gbc.pc(), 0x69ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00D2
        gbc.setState(0x7ab2, 0x36cc, 0xf150, 0xb0b7, 0x8097, 0xb508, 0x0, 0x1);
        gbc.writeMem(0x7ab2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x36cc);
        EXPECT(gbc.pc(), 0x7ab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00D3
        gbc.setState(0x53e7, 0x2468, 0x6c50, 0xcf5b, 0x68a2, 0xc3d9, 0x1, 0x0);
        gbc.writeMem(0x53e7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x2468);
        EXPECT(gbc.pc(), 0x53e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00D4
        gbc.setState(0xd940, 0x475c, 0xa160, 0x61ef, 0x5ddf, 0xa9fc, 0x1, 0x1);
        gbc.writeMem(0xd940, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x475c);
        EXPECT(gbc.pc(), 0xd942);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd940), 0xcb);
        EXPECT(gbc.readMem(0xd941), 0xf2);
        // CB F2 00D5
        gbc.setState(0x2460, 0x3d37, 0x5ac0, 0x7d73, 0x1dd2, 0x4d96, 0x1, 0x0);
        gbc.writeMem(0x2460, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3d37);
        EXPECT(gbc.pc(), 0x2462);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00D6
        gbc.setState(0xb264, 0x794a, 0x4be0, 0xe3b9, 0xd36b, 0x389d, 0x1, 0x1);
        gbc.writeMem(0xb264, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x794a);
        EXPECT(gbc.pc(), 0xb266);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb264), 0xcb);
        EXPECT(gbc.readMem(0xb265), 0xf2);
        // CB F2 00D7
        gbc.setState(0x803a, 0x3169, 0x7ca0, 0x4b6, 0xdf48, 0x30c6, 0x0, 0x1);
        gbc.writeMem(0x803a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3169);
        EXPECT(gbc.pc(), 0x803c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x803a), 0xcb);
        EXPECT(gbc.readMem(0x803b), 0xf2);
        // CB F2 00D8
        gbc.setState(0xd12e, 0xac88, 0x93c0, 0x813d, 0x14b3, 0x5720, 0x0, 0x0);
        gbc.writeMem(0xd12e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xac88);
        EXPECT(gbc.pc(), 0xd130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12e), 0xcb);
        EXPECT(gbc.readMem(0xd12f), 0xf2);
        // CB F2 00D9
        gbc.setState(0xd4c7, 0x49d, 0x11a0, 0x562b, 0x53c6, 0xf520, 0x1, 0x1);
        gbc.writeMem(0xd4c7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x49d);
        EXPECT(gbc.pc(), 0xd4c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4c7), 0xcb);
        EXPECT(gbc.readMem(0xd4c8), 0xf2);
        // CB F2 00DA
        gbc.setState(0x3f1c, 0x627a, 0x44e0, 0x8cb, 0xc50e, 0xb864, 0x0, 0x1);
        gbc.writeMem(0x3f1c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x627a);
        EXPECT(gbc.pc(), 0x3f1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00DB
        gbc.setState(0x1101, 0x608, 0x5520, 0x4038, 0xe06, 0x294f, 0x1, 0x0);
        gbc.writeMem(0x1101, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x608);
        EXPECT(gbc.pc(), 0x1103);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00DC
        gbc.setState(0x59b2, 0x163a, 0xbf20, 0x7983, 0x18f8, 0xc0d5, 0x0, 0x0);
        gbc.writeMem(0x59b2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x163a);
        EXPECT(gbc.pc(), 0x59b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00DD
        gbc.setState(0x81d4, 0xb91e, 0xc1a0, 0x448a, 0xc431, 0xa10, 0x1, 0x1);
        gbc.writeMem(0x81d4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb91e);
        EXPECT(gbc.pc(), 0x81d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d4), 0xcb);
        EXPECT(gbc.readMem(0x81d5), 0xf2);
        // CB F2 00DE
        gbc.setState(0xdbbe, 0x6d45, 0x45b0, 0xb8d2, 0xfed1, 0xbd90, 0x0, 0x0);
        gbc.writeMem(0xdbbe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6d45);
        EXPECT(gbc.pc(), 0xdbc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbbe), 0xcb);
        EXPECT(gbc.readMem(0xdbbf), 0xf2);
        // CB F2 00DF
        gbc.setState(0xe528, 0x90e0, 0x5080, 0xfec4, 0x17d5, 0xe49a, 0x0, 0x0);
        gbc.writeMem(0xe528, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x90e0);
        EXPECT(gbc.pc(), 0xe52a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe528), 0xcb);
        EXPECT(gbc.readMem(0xe529), 0xf2);
        // CB F2 00E0
        gbc.setState(0xb1cc, 0xb0d7, 0x7ea0, 0xa1f, 0x4ea8, 0xd210, 0x1, 0x1);
        gbc.writeMem(0xb1cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb0d7);
        EXPECT(gbc.pc(), 0xb1ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1cc), 0xcb);
        EXPECT(gbc.readMem(0xb1cd), 0xf2);
        // CB F2 00E1
        gbc.setState(0x97e5, 0x6924, 0xe620, 0xde0a, 0x66f0, 0x42b5, 0x0, 0x1);
        gbc.writeMem(0x97e5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6924);
        EXPECT(gbc.pc(), 0x97e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97e5), 0xcb);
        EXPECT(gbc.readMem(0x97e6), 0xf2);
        // CB F2 00E2
        gbc.setState(0x789c, 0xc6ff, 0x3b60, 0xad74, 0xa8c5, 0x6ba0, 0x1, 0x0);
        gbc.writeMem(0x789c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc6ff);
        EXPECT(gbc.pc(), 0x789e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00E3
        gbc.setState(0xcab8, 0x504c, 0xa520, 0x5aef, 0xf3a2, 0x3040, 0x0, 0x0);
        gbc.writeMem(0xcab8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x504c);
        EXPECT(gbc.pc(), 0xcaba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcab8), 0xcb);
        EXPECT(gbc.readMem(0xcab9), 0xf2);
        // CB F2 00E4
        gbc.setState(0xc37c, 0x91c9, 0x7a30, 0x17d5, 0xf507, 0xa29, 0x0, 0x0);
        gbc.writeMem(0xc37c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x91c9);
        EXPECT(gbc.pc(), 0xc37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc37c), 0xcb);
        EXPECT(gbc.readMem(0xc37d), 0xf2);
        // CB F2 00E5
        gbc.setState(0x32ac, 0xd915, 0xbaf0, 0x3d5, 0xc554, 0xe929, 0x0, 0x0);
        gbc.writeMem(0x32ac, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd915);
        EXPECT(gbc.pc(), 0x32ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00E6
        gbc.setState(0x3cdf, 0x5b5, 0xaf90, 0xefeb, 0x1b53, 0x6f9a, 0x0, 0x0);
        gbc.writeMem(0x3cdf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5b5);
        EXPECT(gbc.pc(), 0x3ce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00E7
        gbc.setState(0x9df4, 0x74a8, 0xe10, 0x72e3, 0x1122, 0x2df6, 0x1, 0x0);
        gbc.writeMem(0x9df4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x74a8);
        EXPECT(gbc.pc(), 0x9df6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9df4), 0xcb);
        EXPECT(gbc.readMem(0x9df5), 0xf2);
        // CB F2 00E8
        gbc.setState(0x9f79, 0x6ed2, 0x6ee0, 0x3e32, 0x1f50, 0xaf9e, 0x1, 0x0);
        gbc.writeMem(0x9f79, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6ed2);
        EXPECT(gbc.pc(), 0x9f7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f79), 0xcb);
        EXPECT(gbc.readMem(0x9f7a), 0xf2);
        // CB F2 00E9
        gbc.setState(0x769b, 0x103, 0xebf0, 0x5cbb, 0x598, 0x53e7, 0x0, 0x0);
        gbc.writeMem(0x769b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x103);
        EXPECT(gbc.pc(), 0x769d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00EA
        gbc.setState(0x73e2, 0x68af, 0xb50, 0x3cd8, 0xa4b1, 0xb358, 0x1, 0x0);
        gbc.writeMem(0x73e2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x68af);
        EXPECT(gbc.pc(), 0x73e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00EB
        gbc.setState(0x70fa, 0xeca1, 0x61c0, 0x61b9, 0x4087, 0x45d4, 0x1, 0x0);
        gbc.writeMem(0x70fa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xeca1);
        EXPECT(gbc.pc(), 0x70fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00EC
        gbc.setState(0x212a, 0xe19f, 0x82b0, 0xf74d, 0xc8fe, 0x344d, 0x1, 0x0);
        gbc.writeMem(0x212a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xe19f);
        EXPECT(gbc.pc(), 0x212c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00ED
        gbc.setState(0x427a, 0x9d80, 0xfbd0, 0xa23b, 0x29f4, 0x344a, 0x1, 0x1);
        gbc.writeMem(0x427a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9d80);
        EXPECT(gbc.pc(), 0x427c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00EE
        gbc.setState(0x45c8, 0x1ab0, 0xf30, 0x6c3b, 0x8a15, 0xeac1, 0x1, 0x0);
        gbc.writeMem(0x45c8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1ab0);
        EXPECT(gbc.pc(), 0x45ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00EF
        gbc.setState(0xdf10, 0x71b1, 0xebe0, 0xff88, 0x7e67, 0xa1f0, 0x0, 0x1);
        gbc.writeMem(0xdf10, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x71b1);
        EXPECT(gbc.pc(), 0xdf12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf10), 0xcb);
        EXPECT(gbc.readMem(0xdf11), 0xf2);
        // CB F2 00F0
        gbc.setState(0x42b3, 0xd729, 0x26d0, 0x8871, 0x65e0, 0xfca7, 0x0, 0x1);
        gbc.writeMem(0x42b3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd729);
        EXPECT(gbc.pc(), 0x42b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00F1
        gbc.setState(0xdf11, 0x892c, 0x5cd0, 0xdbaf, 0x23ca, 0x2637, 0x1, 0x0);
        gbc.writeMem(0xdf11, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x892c);
        EXPECT(gbc.pc(), 0xdf13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf11), 0xcb);
        EXPECT(gbc.readMem(0xdf12), 0xf2);
        // CB F2 00F2
        gbc.setState(0x1116, 0x22d7, 0x3d00, 0xd9d, 0x8104, 0x6230, 0x1, 0x0);
        gbc.writeMem(0x1116, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x22d7);
        EXPECT(gbc.pc(), 0x1118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00F3
        gbc.setState(0x9d45, 0x9443, 0x3c50, 0x7456, 0xf49c, 0xd737, 0x1, 0x1);
        gbc.writeMem(0x9d45, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9443);
        EXPECT(gbc.pc(), 0x9d47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d45), 0xcb);
        EXPECT(gbc.readMem(0x9d46), 0xf2);
        // CB F2 00F4
        gbc.setState(0xedf, 0xdf66, 0x34b0, 0x8ed3, 0x71fd, 0x4aec, 0x0, 0x0);
        gbc.writeMem(0xedf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdf66);
        EXPECT(gbc.pc(), 0xee1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00F5
        gbc.setState(0x9140, 0xe897, 0xa170, 0xdc7e, 0x747e, 0xa1f, 0x1, 0x0);
        gbc.writeMem(0x9140, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe897);
        EXPECT(gbc.pc(), 0x9142);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9140), 0xcb);
        EXPECT(gbc.readMem(0x9141), 0xf2);
        // CB F2 00F6
        gbc.setState(0xc60f, 0x3eb3, 0x15d0, 0xe504, 0x6b06, 0x9ab5, 0x0, 0x1);
        gbc.writeMem(0xc60f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3eb3);
        EXPECT(gbc.pc(), 0xc611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc60f), 0xcb);
        EXPECT(gbc.readMem(0xc610), 0xf2);
        // CB F2 00F7
        gbc.setState(0x3070, 0xf8b5, 0xe1e0, 0xbd58, 0xe2bc, 0x2767, 0x1, 0x1);
        gbc.writeMem(0x3070, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf8b5);
        EXPECT(gbc.pc(), 0x3072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00F8
        gbc.setState(0xafe4, 0x1e74, 0xb210, 0x756a, 0x8f43, 0x604e, 0x0, 0x1);
        gbc.writeMem(0xafe4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1e74);
        EXPECT(gbc.pc(), 0xafe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafe4), 0xcb);
        EXPECT(gbc.readMem(0xafe5), 0xf2);
        // CB F2 00F9
        gbc.setState(0x751b, 0x1a5e, 0xf0d0, 0xec65, 0x1071, 0x1e24, 0x1, 0x1);
        gbc.writeMem(0x751b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x1a5e);
        EXPECT(gbc.pc(), 0x751d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00FB
        gbc.setState(0xc3a8, 0xb2b7, 0xe9c0, 0x55e5, 0x7447, 0xc074, 0x0, 0x1);
        gbc.writeMem(0xc3a8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb2b7);
        EXPECT(gbc.pc(), 0xc3aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3a8), 0xcb);
        EXPECT(gbc.readMem(0xc3a9), 0xf2);
        // CB F2 00FC
        gbc.setState(0x92fb, 0x497f, 0xb530, 0x9db1, 0xb594, 0x6102, 0x1, 0x1);
        gbc.writeMem(0x92fb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x497f);
        EXPECT(gbc.pc(), 0x92fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92fb), 0xcb);
        EXPECT(gbc.readMem(0x92fc), 0xf2);
        // CB F2 00FD
        gbc.setState(0x391f, 0xdcd3, 0x4180, 0x6f38, 0x7085, 0xf3c3, 0x0, 0x0);
        gbc.writeMem(0x391f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdcd3);
        EXPECT(gbc.pc(), 0x3921);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 00FE
        gbc.setState(0x16d0, 0x19b, 0x87d0, 0xbc01, 0x7356, 0xd825, 0x1, 0x1);
        gbc.writeMem(0x16d0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x19b);
        EXPECT(gbc.pc(), 0x16d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 00FF
        gbc.setState(0x2691, 0xfe59, 0xb450, 0xd127, 0x1cbd, 0xf03, 0x1, 0x0);
        gbc.writeMem(0x2691, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfe59);
        EXPECT(gbc.pc(), 0x2693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0100
        gbc.setState(0x6a50, 0x704c, 0x250, 0x8ec9, 0x1083, 0x7ac8, 0x1, 0x1);
        gbc.writeMem(0x6a50, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x704c);
        EXPECT(gbc.pc(), 0x6a52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0101
        gbc.setState(0x6d2e, 0xde64, 0x450, 0xbd85, 0x3c2a, 0x5ea1, 0x0, 0x0);
        gbc.writeMem(0x6d2e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xde64);
        EXPECT(gbc.pc(), 0x6d30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0102
        gbc.setState(0xed9a, 0xfddd, 0xa090, 0xa059, 0x140c, 0xf70a, 0x1, 0x1);
        gbc.writeMem(0xed9a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfddd);
        EXPECT(gbc.pc(), 0xed9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed9a), 0xcb);
        EXPECT(gbc.readMem(0xed9b), 0xf2);
        // CB F2 0103
        gbc.setState(0x18f9, 0x5406, 0x79f0, 0x3aa4, 0x95ca, 0xc98d, 0x1, 0x1);
        gbc.writeMem(0x18f9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5406);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0104
        gbc.setState(0xe299, 0x5b47, 0x5d60, 0x8beb, 0x499e, 0x876d, 0x0, 0x1);
        gbc.writeMem(0xe299, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x5b47);
        EXPECT(gbc.pc(), 0xe29b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe299), 0xcb);
        EXPECT(gbc.readMem(0xe29a), 0xf2);
        // CB F2 0105
        gbc.setState(0x9a2e, 0x1b5b, 0x2470, 0x756f, 0x9ff8, 0xda97, 0x0, 0x0);
        gbc.writeMem(0x9a2e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x1b5b);
        EXPECT(gbc.pc(), 0x9a30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a2e), 0xcb);
        EXPECT(gbc.readMem(0x9a2f), 0xf2);
        // CB F2 0106
        gbc.setState(0x6715, 0x32c, 0xc960, 0x1bfc, 0x37c9, 0x822f, 0x0, 0x0);
        gbc.writeMem(0x6715, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x32c);
        EXPECT(gbc.pc(), 0x6717);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0107
        gbc.setState(0x4dd0, 0x4895, 0x2ce0, 0x13aa, 0x9e3c, 0xd423, 0x0, 0x1);
        gbc.writeMem(0x4dd0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4895);
        EXPECT(gbc.pc(), 0x4dd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0108
        gbc.setState(0x5f59, 0xe1f8, 0x3580, 0x6e4b, 0xcd33, 0x33f6, 0x1, 0x1);
        gbc.writeMem(0x5f59, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xe1f8);
        EXPECT(gbc.pc(), 0x5f5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0109
        gbc.setState(0xac67, 0x1967, 0xb310, 0xf239, 0x1329, 0x900a, 0x0, 0x0);
        gbc.writeMem(0xac67, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1967);
        EXPECT(gbc.pc(), 0xac69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac67), 0xcb);
        EXPECT(gbc.readMem(0xac68), 0xf2);
        // CB F2 010A
        gbc.setState(0xaafa, 0x613f, 0xa950, 0x5a06, 0xd471, 0x609e, 0x1, 0x1);
        gbc.writeMem(0xaafa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x613f);
        EXPECT(gbc.pc(), 0xaafc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaafa), 0xcb);
        EXPECT(gbc.readMem(0xaafb), 0xf2);
        // CB F2 010B
        gbc.setState(0xc809, 0x234b, 0xcad0, 0x1586, 0x740c, 0x6ad1, 0x0, 0x1);
        gbc.writeMem(0xc809, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x234b);
        EXPECT(gbc.pc(), 0xc80b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc809), 0xcb);
        EXPECT(gbc.readMem(0xc80a), 0xf2);
        // CB F2 010C
        gbc.setState(0x7961, 0xba7, 0x6a00, 0x748a, 0x52, 0xa01f, 0x0, 0x0);
        gbc.writeMem(0x7961, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xba7);
        EXPECT(gbc.pc(), 0x7963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 010D
        gbc.setState(0x727d, 0xc1d4, 0xb850, 0x95b4, 0xd39d, 0x74d6, 0x1, 0x0);
        gbc.writeMem(0x727d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc1d4);
        EXPECT(gbc.pc(), 0x727f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 010E
        gbc.setState(0xd20f, 0x4bd8, 0xa70, 0x8c47, 0xfbcd, 0x661e, 0x1, 0x0);
        gbc.writeMem(0xd20f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4bd8);
        EXPECT(gbc.pc(), 0xd211);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd20f), 0xcb);
        EXPECT(gbc.readMem(0xd210), 0xf2);
        // CB F2 010F
        gbc.setState(0x6717, 0xbb5e, 0xa280, 0x50c5, 0x614f, 0x2dfe, 0x1, 0x1);
        gbc.writeMem(0x6717, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xbb5e);
        EXPECT(gbc.pc(), 0x6719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0110
        gbc.setState(0x1c2d, 0x792f, 0xc370, 0xc112, 0x4c0a, 0xc491, 0x1, 0x0);
        gbc.writeMem(0x1c2d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x792f);
        EXPECT(gbc.pc(), 0x1c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0111
        gbc.setState(0x1b9a, 0x52fe, 0xc980, 0x933c, 0x5235, 0x405a, 0x0, 0x1);
        gbc.writeMem(0x1b9a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x52fe);
        EXPECT(gbc.pc(), 0x1b9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0112
        gbc.setState(0x6439, 0x8416, 0xd430, 0xc50e, 0x824e, 0x3854, 0x0, 0x0);
        gbc.writeMem(0x6439, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8416);
        EXPECT(gbc.pc(), 0x643b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0113
        gbc.setState(0xb5f0, 0xceaf, 0xe120, 0x2079, 0x8414, 0x5d8b, 0x1, 0x0);
        gbc.writeMem(0xb5f0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xceaf);
        EXPECT(gbc.pc(), 0xb5f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5f0), 0xcb);
        EXPECT(gbc.readMem(0xb5f1), 0xf2);
        // CB F2 0115
        gbc.setState(0x4c2b, 0x2dd8, 0xb780, 0x3157, 0xf9fd, 0x894d, 0x1, 0x1);
        gbc.writeMem(0x4c2b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2dd8);
        EXPECT(gbc.pc(), 0x4c2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0116
        gbc.setState(0x6df6, 0x1746, 0x5620, 0xd7b6, 0xd69a, 0xfa00, 0x1, 0x1);
        gbc.writeMem(0x6df6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1746);
        EXPECT(gbc.pc(), 0x6df8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0117
        gbc.setState(0xbbfa, 0xf4c7, 0x28e0, 0x6a0b, 0x86fa, 0xf24, 0x1, 0x1);
        gbc.writeMem(0xbbfa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf4c7);
        EXPECT(gbc.pc(), 0xbbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbfa), 0xcb);
        EXPECT(gbc.readMem(0xbbfb), 0xf2);
        // CB F2 0118
        gbc.setState(0xa2e4, 0xf709, 0x5c10, 0xf52e, 0x2e55, 0xe824, 0x0, 0x1);
        gbc.writeMem(0xa2e4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf709);
        EXPECT(gbc.pc(), 0xa2e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2e4), 0xcb);
        EXPECT(gbc.readMem(0xa2e5), 0xf2);
        // CB F2 0119
        gbc.setState(0xa86b, 0xc42, 0x7b50, 0xdd80, 0x3d3, 0x3c34, 0x1, 0x1);
        gbc.writeMem(0xa86b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc42);
        EXPECT(gbc.pc(), 0xa86d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa86b), 0xcb);
        EXPECT(gbc.readMem(0xa86c), 0xf2);
        // CB F2 011A
        gbc.setState(0x7477, 0x9c36, 0xa970, 0x1f14, 0x8298, 0xeeaa, 0x1, 0x0);
        gbc.writeMem(0x7477, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x9c36);
        EXPECT(gbc.pc(), 0x7479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 011B
        gbc.setState(0x4fb3, 0xea9b, 0xd4e0, 0x293f, 0x3d98, 0xd0b1, 0x0, 0x0);
        gbc.writeMem(0x4fb3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xea9b);
        EXPECT(gbc.pc(), 0x4fb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 011C
        gbc.setState(0x4047, 0xe408, 0x20f0, 0x889d, 0xc75e, 0x20ec, 0x0, 0x1);
        gbc.writeMem(0x4047, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe408);
        EXPECT(gbc.pc(), 0x4049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 011D
        gbc.setState(0xacb9, 0x396a, 0x3360, 0xec35, 0xc266, 0x551d, 0x1, 0x1);
        gbc.writeMem(0xacb9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x396a);
        EXPECT(gbc.pc(), 0xacbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacb9), 0xcb);
        EXPECT(gbc.readMem(0xacba), 0xf2);
        // CB F2 011E
        gbc.setState(0x1c73, 0x67f1, 0x5870, 0x7272, 0x8906, 0xe6f, 0x0, 0x0);
        gbc.writeMem(0x1c73, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x67f1);
        EXPECT(gbc.pc(), 0x1c75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 011F
        gbc.setState(0x93dc, 0x3f85, 0xfc00, 0x9336, 0xbd2a, 0x59a8, 0x1, 0x1);
        gbc.writeMem(0x93dc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3f85);
        EXPECT(gbc.pc(), 0x93de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93dc), 0xcb);
        EXPECT(gbc.readMem(0x93dd), 0xf2);
        // CB F2 0120
        gbc.setState(0xa4b8, 0x4e60, 0xdd50, 0xc0e8, 0xf706, 0x4c27, 0x1, 0x0);
        gbc.writeMem(0xa4b8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4e60);
        EXPECT(gbc.pc(), 0xa4ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4b8), 0xcb);
        EXPECT(gbc.readMem(0xa4b9), 0xf2);
        // CB F2 0121
        gbc.setState(0x888d, 0x10d7, 0x1340, 0xfd17, 0x70f7, 0xfe6, 0x1, 0x0);
        gbc.writeMem(0x888d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x10d7);
        EXPECT(gbc.pc(), 0x888f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x888d), 0xcb);
        EXPECT(gbc.readMem(0x888e), 0xf2);
        // CB F2 0122
        gbc.setState(0x7e23, 0x50fd, 0xa3f0, 0x4353, 0xd072, 0x65a, 0x0, 0x0);
        gbc.writeMem(0x7e23, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x50fd);
        EXPECT(gbc.pc(), 0x7e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0123
        gbc.setState(0x8ad9, 0x70b5, 0x4df0, 0xc54a, 0xe0fe, 0xd4a6, 0x0, 0x1);
        gbc.writeMem(0x8ad9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x70b5);
        EXPECT(gbc.pc(), 0x8adb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ad9), 0xcb);
        EXPECT(gbc.readMem(0x8ada), 0xf2);
        // CB F2 0124
        gbc.setState(0x71e6, 0xcc64, 0xd090, 0x7c06, 0x84b9, 0x1d45, 0x1, 0x0);
        gbc.writeMem(0x71e6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xcc64);
        EXPECT(gbc.pc(), 0x71e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0125
        gbc.setState(0x5811, 0x9e07, 0x6ae0, 0xa3e, 0x4148, 0x63c6, 0x0, 0x1);
        gbc.writeMem(0x5811, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x9e07);
        EXPECT(gbc.pc(), 0x5813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0126
        gbc.setState(0x1287, 0x49df, 0xa4a0, 0x9d3c, 0x3f43, 0xab07, 0x1, 0x1);
        gbc.writeMem(0x1287, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x49df);
        EXPECT(gbc.pc(), 0x1289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0127
        gbc.setState(0x9cbc, 0x50ae, 0x7350, 0x1e85, 0xb71f, 0xcb94, 0x1, 0x1);
        gbc.writeMem(0x9cbc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x50ae);
        EXPECT(gbc.pc(), 0x9cbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cbc), 0xcb);
        EXPECT(gbc.readMem(0x9cbd), 0xf2);
        // CB F2 0128
        gbc.setState(0x1529, 0x1a0c, 0xc9a0, 0x76d8, 0x2647, 0x78a0, 0x1, 0x0);
        gbc.writeMem(0x1529, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1a0c);
        EXPECT(gbc.pc(), 0x152b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0129
        gbc.setState(0x7966, 0xe681, 0x9010, 0x54e0, 0x1f, 0x7443, 0x0, 0x0);
        gbc.writeMem(0x7966, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe681);
        EXPECT(gbc.pc(), 0x7968);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 012A
        gbc.setState(0x9499, 0x84fc, 0x9e0, 0x4565, 0x7576, 0x760e, 0x1, 0x0);
        gbc.writeMem(0x9499, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x84fc);
        EXPECT(gbc.pc(), 0x949b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9499), 0xcb);
        EXPECT(gbc.readMem(0x949a), 0xf2);
        // CB F2 012C
        gbc.setState(0xb806, 0xac3, 0x85b0, 0xf4d5, 0x26a7, 0xb94e, 0x1, 0x1);
        gbc.writeMem(0xb806, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xac3);
        EXPECT(gbc.pc(), 0xb808);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb806), 0xcb);
        EXPECT(gbc.readMem(0xb807), 0xf2);
        // CB F2 012D
        gbc.setState(0x88c6, 0xe552, 0xc3d0, 0x7e16, 0xbb60, 0xb1a1, 0x1, 0x1);
        gbc.writeMem(0x88c6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe552);
        EXPECT(gbc.pc(), 0x88c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88c6), 0xcb);
        EXPECT(gbc.readMem(0x88c7), 0xf2);
        // CB F2 012E
        gbc.setState(0xcdd6, 0x928, 0xaef0, 0x6b32, 0xa831, 0xa27b, 0x1, 0x1);
        gbc.writeMem(0xcdd6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x928);
        EXPECT(gbc.pc(), 0xcdd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdd6), 0xcb);
        EXPECT(gbc.readMem(0xcdd7), 0xf2);
        // CB F2 012F
        gbc.setState(0xa40, 0xf089, 0xc080, 0xe697, 0xe16b, 0x6ce, 0x0, 0x0);
        gbc.writeMem(0xa40, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf089);
        EXPECT(gbc.pc(), 0xa42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0130
        gbc.setState(0x4c38, 0x7cb1, 0xb590, 0x7661, 0xdeb4, 0xd9e6, 0x0, 0x1);
        gbc.writeMem(0x4c38, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x7cb1);
        EXPECT(gbc.pc(), 0x4c3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0131
        gbc.setState(0xeb2f, 0x10b2, 0x73d0, 0x42ba, 0x586c, 0xbe1e, 0x1, 0x0);
        gbc.writeMem(0xeb2f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x10b2);
        EXPECT(gbc.pc(), 0xeb31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb2f), 0xcb);
        EXPECT(gbc.readMem(0xeb30), 0xf2);
        // CB F2 0132
        gbc.setState(0x6aad, 0x43f3, 0xdbb0, 0xcaf2, 0xa154, 0x5bf7, 0x0, 0x0);
        gbc.writeMem(0x6aad, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x43f3);
        EXPECT(gbc.pc(), 0x6aaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0133
        gbc.setState(0x1b7b, 0x9e3e, 0x1ab0, 0xf172, 0xe5a7, 0xe85, 0x1, 0x0);
        gbc.writeMem(0x1b7b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9e3e);
        EXPECT(gbc.pc(), 0x1b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0134
        gbc.setState(0x56e5, 0x875a, 0xfc20, 0xd525, 0x3974, 0x45af, 0x1, 0x1);
        gbc.writeMem(0x56e5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x875a);
        EXPECT(gbc.pc(), 0x56e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0135
        gbc.setState(0x5ca5, 0xfc68, 0x1120, 0xf995, 0xf6ef, 0x2963, 0x0, 0x0);
        gbc.writeMem(0x5ca5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xfc68);
        EXPECT(gbc.pc(), 0x5ca7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0136
        gbc.setState(0x83ce, 0x4ef8, 0x7810, 0xd0c0, 0xe8c5, 0x6059, 0x0, 0x0);
        gbc.writeMem(0x83ce, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4ef8);
        EXPECT(gbc.pc(), 0x83d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ce), 0xcb);
        EXPECT(gbc.readMem(0x83cf), 0xf2);
        // CB F2 0137
        gbc.setState(0x2378, 0x220, 0x32f0, 0x8168, 0xdc2f, 0xd0f3, 0x0, 0x1);
        gbc.writeMem(0x2378, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x220);
        EXPECT(gbc.pc(), 0x237a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0138
        gbc.setState(0x3bd1, 0xd6db, 0x4800, 0xf853, 0xc16, 0xcfed, 0x1, 0x1);
        gbc.writeMem(0x3bd1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd6db);
        EXPECT(gbc.pc(), 0x3bd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0139
        gbc.setState(0x7396, 0x40a7, 0x22a0, 0x9ea6, 0xb060, 0x36ef, 0x1, 0x1);
        gbc.writeMem(0x7396, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x40a7);
        EXPECT(gbc.pc(), 0x7398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 013A
        gbc.setState(0x4669, 0xea0d, 0x6a90, 0x4bb1, 0x765b, 0x19f0, 0x0, 0x0);
        gbc.writeMem(0x4669, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xea0d);
        EXPECT(gbc.pc(), 0x466b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 013B
        gbc.setState(0x8dcc, 0x85cb, 0xb110, 0x999b, 0xe081, 0xed9b, 0x0, 0x1);
        gbc.writeMem(0x8dcc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x85cb);
        EXPECT(gbc.pc(), 0x8dce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dcc), 0xcb);
        EXPECT(gbc.readMem(0x8dcd), 0xf2);
        // CB F2 013C
        gbc.setState(0xa54b, 0xce6d, 0x1730, 0x4abd, 0xfdba, 0xdfac, 0x0, 0x1);
        gbc.writeMem(0xa54b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xce6d);
        EXPECT(gbc.pc(), 0xa54d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa54b), 0xcb);
        EXPECT(gbc.readMem(0xa54c), 0xf2);
        // CB F2 013D
        gbc.setState(0xe983, 0xc43d, 0x2fd0, 0xfbfe, 0x231, 0x6d34, 0x1, 0x0);
        gbc.writeMem(0xe983, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc43d);
        EXPECT(gbc.pc(), 0xe985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe983), 0xcb);
        EXPECT(gbc.readMem(0xe984), 0xf2);
        // CB F2 013E
        gbc.setState(0x52e0, 0x788c, 0x4be0, 0xe55b, 0x264f, 0x541d, 0x0, 0x0);
        gbc.writeMem(0x52e0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x788c);
        EXPECT(gbc.pc(), 0x52e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 013F
        gbc.setState(0xcaf2, 0x6c0d, 0x9b50, 0x239a, 0xc241, 0x9670, 0x1, 0x1);
        gbc.writeMem(0xcaf2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6c0d);
        EXPECT(gbc.pc(), 0xcaf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaf2), 0xcb);
        EXPECT(gbc.readMem(0xcaf3), 0xf2);
        // CB F2 0140
        gbc.setState(0x83a1, 0x916a, 0x9860, 0xd872, 0xd8, 0xb376, 0x1, 0x0);
        gbc.writeMem(0x83a1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x916a);
        EXPECT(gbc.pc(), 0x83a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83a1), 0xcb);
        EXPECT(gbc.readMem(0x83a2), 0xf2);
        // CB F2 0141
        gbc.setState(0x3f61, 0x3f0f, 0x75d0, 0xe00a, 0x94e3, 0xc687, 0x1, 0x1);
        gbc.writeMem(0x3f61, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x3f0f);
        EXPECT(gbc.pc(), 0x3f63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0142
        gbc.setState(0x3a99, 0x401a, 0xebe0, 0x2ad4, 0xa980, 0xaf63, 0x1, 0x1);
        gbc.writeMem(0x3a99, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x401a);
        EXPECT(gbc.pc(), 0x3a9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0144
        gbc.setState(0x2da6, 0x366, 0xc130, 0x78a8, 0x68bf, 0x7c6, 0x1, 0x1);
        gbc.writeMem(0x2da6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x366);
        EXPECT(gbc.pc(), 0x2da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0145
        gbc.setState(0x93f9, 0x9a01, 0xd450, 0x8115, 0x81a5, 0x7710, 0x1, 0x0);
        gbc.writeMem(0x93f9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9a01);
        EXPECT(gbc.pc(), 0x93fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93f9), 0xcb);
        EXPECT(gbc.readMem(0x93fa), 0xf2);
        // CB F2 0146
        gbc.setState(0xccdf, 0xafa7, 0xacc0, 0x7ac2, 0x54c4, 0xee0d, 0x0, 0x1);
        gbc.writeMem(0xccdf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xafa7);
        EXPECT(gbc.pc(), 0xcce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccdf), 0xcb);
        EXPECT(gbc.readMem(0xcce0), 0xf2);
        // CB F2 0147
        gbc.setState(0x2147, 0xf631, 0xb1f0, 0xb724, 0x1327, 0x5cfa, 0x1, 0x0);
        gbc.writeMem(0x2147, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf631);
        EXPECT(gbc.pc(), 0x2149);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0148
        gbc.setState(0x32c3, 0xe2ba, 0x3e30, 0xa0c5, 0x92f4, 0x3a7e, 0x0, 0x1);
        gbc.writeMem(0x32c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe2ba);
        EXPECT(gbc.pc(), 0x32c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0149
        gbc.setState(0x3bc0, 0xf810, 0xbd80, 0x14ec, 0x358b, 0xdfc3, 0x0, 0x0);
        gbc.writeMem(0x3bc0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf810);
        EXPECT(gbc.pc(), 0x3bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 014A
        gbc.setState(0x442c, 0x4fc3, 0x0, 0xfe59, 0x5f35, 0xab7, 0x0, 0x1);
        gbc.writeMem(0x442c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4fc3);
        EXPECT(gbc.pc(), 0x442e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 014B
        gbc.setState(0x3fc4, 0x3bf6, 0x7b70, 0xe2f3, 0xc49c, 0xd686, 0x1, 0x0);
        gbc.writeMem(0x3fc4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3bf6);
        EXPECT(gbc.pc(), 0x3fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 014C
        gbc.setState(0xb018, 0x4ba8, 0x4930, 0xae9e, 0x8d6a, 0xab62, 0x1, 0x1);
        gbc.writeMem(0xb018, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x4ba8);
        EXPECT(gbc.pc(), 0xb01a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb018), 0xcb);
        EXPECT(gbc.readMem(0xb019), 0xf2);
        // CB F2 014D
        gbc.setState(0x43f2, 0x3034, 0x6900, 0x2022, 0xa803, 0x7da9, 0x0, 0x0);
        gbc.writeMem(0x43f2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3034);
        EXPECT(gbc.pc(), 0x43f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 014E
        gbc.setState(0xce50, 0x8215, 0xdcf0, 0x1ff, 0x6ba8, 0x6cf8, 0x0, 0x0);
        gbc.writeMem(0xce50, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8215);
        EXPECT(gbc.pc(), 0xce52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce50), 0xcb);
        EXPECT(gbc.readMem(0xce51), 0xf2);
        // CB F2 014F
        gbc.setState(0x9438, 0xa193, 0xd250, 0x4a77, 0x4909, 0x5c31, 0x1, 0x1);
        gbc.writeMem(0x9438, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa193);
        EXPECT(gbc.pc(), 0x943a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9438), 0xcb);
        EXPECT(gbc.readMem(0x9439), 0xf2);
        // CB F2 0150
        gbc.setState(0x8c4b, 0x6976, 0xd4c0, 0x757, 0x2818, 0xedc3, 0x1, 0x1);
        gbc.writeMem(0x8c4b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6976);
        EXPECT(gbc.pc(), 0x8c4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c4b), 0xcb);
        EXPECT(gbc.readMem(0x8c4c), 0xf2);
        // CB F2 0151
        gbc.setState(0x190, 0xce56, 0x5a60, 0x244, 0x5547, 0xad36, 0x1, 0x1);
        gbc.writeMem(0x190, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xce56);
        EXPECT(gbc.pc(), 0x192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0152
        gbc.setState(0x80f3, 0x6a28, 0x1860, 0x6e5a, 0xf625, 0x10b2, 0x1, 0x0);
        gbc.writeMem(0x80f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6a28);
        EXPECT(gbc.pc(), 0x80f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80f3), 0xcb);
        EXPECT(gbc.readMem(0x80f4), 0xf2);
        // CB F2 0153
        gbc.setState(0x7eca, 0xaf7b, 0xee20, 0x9734, 0x23e5, 0x3227, 0x0, 0x0);
        gbc.writeMem(0x7eca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xaf7b);
        EXPECT(gbc.pc(), 0x7ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0154
        gbc.setState(0xcc4c, 0x5d26, 0x9ad0, 0x56b1, 0xb91e, 0x386c, 0x0, 0x0);
        gbc.writeMem(0xcc4c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5d26);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc4c), 0xcb);
        EXPECT(gbc.readMem(0xcc4d), 0xf2);
        // CB F2 0155
        gbc.setState(0x61df, 0x2383, 0x6e70, 0x7481, 0x6c7f, 0x4b1f, 0x1, 0x1);
        gbc.writeMem(0x61df, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2383);
        EXPECT(gbc.pc(), 0x61e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0156
        gbc.setState(0x95e, 0x2674, 0x9350, 0x42b3, 0x386d, 0xa805, 0x0, 0x1);
        gbc.writeMem(0x95e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x2674);
        EXPECT(gbc.pc(), 0x960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0157
        gbc.setState(0x7ca0, 0x3a1c, 0xd350, 0x800e, 0x3096, 0x1f94, 0x1, 0x0);
        gbc.writeMem(0x7ca0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x3a1c);
        EXPECT(gbc.pc(), 0x7ca2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0158
        gbc.setState(0xa69, 0xec98, 0x7170, 0x8e74, 0xba15, 0x4a46, 0x1, 0x0);
        gbc.writeMem(0xa69, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xec98);
        EXPECT(gbc.pc(), 0xa6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0159
        gbc.setState(0x2ea3, 0x365f, 0xd480, 0x8621, 0x26fb, 0x6d59, 0x0, 0x1);
        gbc.writeMem(0x2ea3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x365f);
        EXPECT(gbc.pc(), 0x2ea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 015A
        gbc.setState(0x37f8, 0xdff7, 0x8110, 0x2a24, 0x502c, 0x135a, 0x1, 0x0);
        gbc.writeMem(0x37f8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xdff7);
        EXPECT(gbc.pc(), 0x37fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 015B
        gbc.setState(0x796d, 0xb81d, 0x3940, 0xddde, 0x315f, 0x30f4, 0x1, 0x1);
        gbc.writeMem(0x796d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb81d);
        EXPECT(gbc.pc(), 0x796f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 015C
        gbc.setState(0xfd2, 0x7b1c, 0xee80, 0x7643, 0xafdf, 0x1c8d, 0x1, 0x0);
        gbc.writeMem(0xfd2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x7b1c);
        EXPECT(gbc.pc(), 0xfd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 015D
        gbc.setState(0xb1dd, 0xafac, 0x2ba0, 0x7367, 0x8161, 0x934c, 0x0, 0x0);
        gbc.writeMem(0xb1dd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xafac);
        EXPECT(gbc.pc(), 0xb1df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1dd), 0xcb);
        EXPECT(gbc.readMem(0xb1de), 0xf2);
        // CB F2 015E
        gbc.setState(0xd002, 0x8c3b, 0x1510, 0xf188, 0x1dd7, 0xe5a2, 0x1, 0x0);
        gbc.writeMem(0xd002, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8c3b);
        EXPECT(gbc.pc(), 0xd004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd002), 0xcb);
        EXPECT(gbc.readMem(0xd003), 0xf2);
        // CB F2 015F
        gbc.setState(0xeec2, 0xb239, 0x69e0, 0xa8c0, 0xd399, 0xcea, 0x0, 0x1);
        gbc.writeMem(0xeec2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb239);
        EXPECT(gbc.pc(), 0xeec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeec2), 0xcb);
        EXPECT(gbc.readMem(0xeec3), 0xf2);
        // CB F2 0160
        gbc.setState(0xd5e2, 0xec5e, 0x7de0, 0x488a, 0x700f, 0xc8d5, 0x0, 0x0);
        gbc.writeMem(0xd5e2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xec5e);
        EXPECT(gbc.pc(), 0xd5e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5e2), 0xcb);
        EXPECT(gbc.readMem(0xd5e3), 0xf2);
        // CB F2 0161
        gbc.setState(0x2caf, 0x324, 0xd150, 0x4ff5, 0x4984, 0x38b2, 0x0, 0x1);
        gbc.writeMem(0x2caf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x324);
        EXPECT(gbc.pc(), 0x2cb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0162
        gbc.setState(0x9252, 0xa057, 0xfb10, 0x28e9, 0xcb44, 0x25f7, 0x0, 0x0);
        gbc.writeMem(0x9252, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa057);
        EXPECT(gbc.pc(), 0x9254);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9252), 0xcb);
        EXPECT(gbc.readMem(0x9253), 0xf2);
        // CB F2 0163
        gbc.setState(0x184b, 0xa173, 0xe610, 0xa933, 0x2e96, 0x9c92, 0x1, 0x0);
        gbc.writeMem(0x184b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa173);
        EXPECT(gbc.pc(), 0x184d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0164
        gbc.setState(0x3763, 0x4ef8, 0x1a80, 0xa46b, 0xe14f, 0x27ea, 0x1, 0x1);
        gbc.writeMem(0x3763, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4ef8);
        EXPECT(gbc.pc(), 0x3765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0165
        gbc.setState(0x36c4, 0xc6f6, 0x25c0, 0x12a6, 0xfa0d, 0xd2e9, 0x0, 0x1);
        gbc.writeMem(0x36c4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc6f6);
        EXPECT(gbc.pc(), 0x36c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0166
        gbc.setState(0x16e0, 0xb557, 0x3660, 0x95f, 0xf91d, 0xbcbd, 0x1, 0x1);
        gbc.writeMem(0x16e0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb557);
        EXPECT(gbc.pc(), 0x16e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0167
        gbc.setState(0x21dd, 0xe084, 0x9c40, 0xdec1, 0xe2ae, 0x9b42, 0x1, 0x0);
        gbc.writeMem(0x21dd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe084);
        EXPECT(gbc.pc(), 0x21df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0168
        gbc.setState(0xbbc6, 0x8d38, 0x99b0, 0x8c51, 0x8af6, 0xb7df, 0x0, 0x0);
        gbc.writeMem(0xbbc6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8d38);
        EXPECT(gbc.pc(), 0xbbc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbc6), 0xcb);
        EXPECT(gbc.readMem(0xbbc7), 0xf2);
        // CB F2 0169
        gbc.setState(0x35fc, 0x9a0d, 0x2fd0, 0x5afe, 0x9cb, 0x2e80, 0x0, 0x0);
        gbc.writeMem(0x35fc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9a0d);
        EXPECT(gbc.pc(), 0x35fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 016A
        gbc.setState(0x92a5, 0xb54d, 0x1700, 0x797d, 0xb65b, 0xd2c1, 0x0, 0x1);
        gbc.writeMem(0x92a5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb54d);
        EXPECT(gbc.pc(), 0x92a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92a5), 0xcb);
        EXPECT(gbc.readMem(0x92a6), 0xf2);
        // CB F2 016B
        gbc.setState(0x4e4, 0x1fca, 0x7c70, 0x62f, 0x6e70, 0xfb9e, 0x0, 0x0);
        gbc.writeMem(0x4e4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x1fca);
        EXPECT(gbc.pc(), 0x4e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 016C
        gbc.setState(0xce, 0x86bd, 0x4fb0, 0xc9a3, 0xdbd1, 0x72d9, 0x1, 0x1);
        gbc.writeMem(0xce, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x86bd);
        EXPECT(gbc.pc(), 0xd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 016D
        gbc.setState(0x3430, 0xae41, 0xb180, 0x51f0, 0x5517, 0xb3de, 0x0, 0x1);
        gbc.writeMem(0x3430, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xae41);
        EXPECT(gbc.pc(), 0x3432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 016E
        gbc.setState(0x7470, 0x128c, 0xc0f0, 0x3dbb, 0x87ef, 0xee55, 0x1, 0x0);
        gbc.writeMem(0x7470, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x128c);
        EXPECT(gbc.pc(), 0x7472);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 016F
        gbc.setState(0x7ab, 0xf756, 0x9a80, 0x42a4, 0xc6b3, 0x1b98, 0x1, 0x0);
        gbc.writeMem(0x7ab, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf756);
        EXPECT(gbc.pc(), 0x7ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0170
        gbc.setState(0xa3e2, 0xb28f, 0xc0f0, 0x52c0, 0x773a, 0x7d1f, 0x0, 0x1);
        gbc.writeMem(0xa3e2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb28f);
        EXPECT(gbc.pc(), 0xa3e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e2), 0xcb);
        EXPECT(gbc.readMem(0xa3e3), 0xf2);
        // CB F2 0171
        gbc.setState(0x71e7, 0x57d2, 0xb40, 0xfca9, 0x2b37, 0x2ff5, 0x0, 0x0);
        gbc.writeMem(0x71e7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x57d2);
        EXPECT(gbc.pc(), 0x71e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0172
        gbc.setState(0x4f2f, 0xc0e3, 0x7b80, 0xec8f, 0xaf70, 0x993, 0x1, 0x1);
        gbc.writeMem(0x4f2f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc0e3);
        EXPECT(gbc.pc(), 0x4f31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0173
        gbc.setState(0xe51a, 0x25d5, 0xb200, 0xe89c, 0x41d2, 0x5e, 0x1, 0x1);
        gbc.writeMem(0xe51a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x25d5);
        EXPECT(gbc.pc(), 0xe51c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51a), 0xcb);
        EXPECT(gbc.readMem(0xe51b), 0xf2);
        // CB F2 0174
        gbc.setState(0xb600, 0x4eda, 0xfa50, 0xdb99, 0xe21f, 0xf123, 0x0, 0x1);
        gbc.writeMem(0xb600, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x4eda);
        EXPECT(gbc.pc(), 0xb602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb600), 0xcb);
        EXPECT(gbc.readMem(0xb601), 0xf2);
        // CB F2 0175
        gbc.setState(0x9022, 0x9e1c, 0x7a50, 0x9713, 0x52da, 0x3f84, 0x0, 0x1);
        gbc.writeMem(0x9022, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9e1c);
        EXPECT(gbc.pc(), 0x9024);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9022), 0xcb);
        EXPECT(gbc.readMem(0x9023), 0xf2);
        // CB F2 0176
        gbc.setState(0xb790, 0xf25d, 0xf5f0, 0x6914, 0x9936, 0x597b, 0x1, 0x1);
        gbc.writeMem(0xb790, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf25d);
        EXPECT(gbc.pc(), 0xb792);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb790), 0xcb);
        EXPECT(gbc.readMem(0xb791), 0xf2);
        // CB F2 0177
        gbc.setState(0x89d3, 0xc8d6, 0xbbf0, 0xbf48, 0x8161, 0xfda0, 0x1, 0x1);
        gbc.writeMem(0x89d3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc8d6);
        EXPECT(gbc.pc(), 0x89d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89d3), 0xcb);
        EXPECT(gbc.readMem(0x89d4), 0xf2);
        // CB F2 0179
        gbc.setState(0x9e21, 0xe1cd, 0xc150, 0xa8ea, 0xbdb2, 0x15d4, 0x0, 0x1);
        gbc.writeMem(0x9e21, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe1cd);
        EXPECT(gbc.pc(), 0x9e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e21), 0xcb);
        EXPECT(gbc.readMem(0x9e22), 0xf2);
        // CB F2 017A
        gbc.setState(0xab48, 0x22f3, 0x9560, 0x84f2, 0x7361, 0x83f7, 0x0, 0x0);
        gbc.writeMem(0xab48, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x22f3);
        EXPECT(gbc.pc(), 0xab4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab48), 0xcb);
        EXPECT(gbc.readMem(0xab49), 0xf2);
        // CB F2 017B
        gbc.setState(0xb8de, 0x5e21, 0xe090, 0xb7ac, 0xc723, 0x33e6, 0x1, 0x0);
        gbc.writeMem(0xb8de, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5e21);
        EXPECT(gbc.pc(), 0xb8e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8de), 0xcb);
        EXPECT(gbc.readMem(0xb8df), 0xf2);
        // CB F2 017C
        gbc.setState(0xdcc5, 0x11a2, 0xc620, 0xa986, 0xe3d5, 0x8227, 0x0, 0x0);
        gbc.writeMem(0xdcc5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x11a2);
        EXPECT(gbc.pc(), 0xdcc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcc5), 0xcb);
        EXPECT(gbc.readMem(0xdcc6), 0xf2);
        // CB F2 017D
        gbc.setState(0x4408, 0xfec2, 0x9800, 0xb5ee, 0x9d51, 0xc505, 0x1, 0x0);
        gbc.writeMem(0x4408, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xfec2);
        EXPECT(gbc.pc(), 0x440a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 017E
        gbc.setState(0x893e, 0xab9f, 0x81c0, 0xc50d, 0xdc4b, 0x9003, 0x1, 0x0);
        gbc.writeMem(0x893e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xab9f);
        EXPECT(gbc.pc(), 0x8940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x893e), 0xcb);
        EXPECT(gbc.readMem(0x893f), 0xf2);
        // CB F2 017F
        gbc.setState(0xe15, 0x768, 0x6c90, 0xaacc, 0x94fb, 0x7f6b, 0x1, 0x1);
        gbc.writeMem(0xe15, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x768);
        EXPECT(gbc.pc(), 0xe17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0180
        gbc.setState(0x19f3, 0x9f76, 0x210, 0x5a23, 0xed7, 0x2d86, 0x1, 0x0);
        gbc.writeMem(0x19f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9f76);
        EXPECT(gbc.pc(), 0x19f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0181
        gbc.setState(0x4803, 0xeece, 0x32f0, 0x54ca, 0x34f8, 0xe9b, 0x0, 0x0);
        gbc.writeMem(0x4803, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xeece);
        EXPECT(gbc.pc(), 0x4805);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0182
        gbc.setState(0x9884, 0x7ff, 0x9d50, 0x8f10, 0x2e33, 0x7827, 0x0, 0x0);
        gbc.writeMem(0x9884, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7ff);
        EXPECT(gbc.pc(), 0x9886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9884), 0xcb);
        EXPECT(gbc.readMem(0x9885), 0xf2);
        // CB F2 0183
        gbc.setState(0xbf9e, 0x97da, 0xfcf0, 0xf42a, 0x8777, 0xd9b3, 0x0, 0x0);
        gbc.writeMem(0xbf9e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x97da);
        EXPECT(gbc.pc(), 0xbfa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf9e), 0xcb);
        EXPECT(gbc.readMem(0xbf9f), 0xf2);
        // CB F2 0184
        gbc.setState(0x60c, 0x3449, 0x3020, 0x9e5a, 0xbb35, 0x97ce, 0x1, 0x1);
        gbc.writeMem(0x60c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3449);
        EXPECT(gbc.pc(), 0x60e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0185
        gbc.setState(0x69fe, 0x43c8, 0xed70, 0xe6a6, 0x14ff, 0x517f, 0x0, 0x0);
        gbc.writeMem(0x69fe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x43c8);
        EXPECT(gbc.pc(), 0x6a00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0186
        gbc.setState(0x6969, 0xc021, 0x6150, 0x4942, 0x1c72, 0x926b, 0x0, 0x1);
        gbc.writeMem(0x6969, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc021);
        EXPECT(gbc.pc(), 0x696b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0187
        gbc.setState(0x63cb, 0x2e9a, 0xb700, 0x26b7, 0xc05a, 0x644c, 0x1, 0x0);
        gbc.writeMem(0x63cb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2e9a);
        EXPECT(gbc.pc(), 0x63cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0188
        gbc.setState(0x87e3, 0x7624, 0x39c0, 0x55e3, 0xac21, 0x8b57, 0x1, 0x1);
        gbc.writeMem(0x87e3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7624);
        EXPECT(gbc.pc(), 0x87e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e3), 0xcb);
        EXPECT(gbc.readMem(0x87e4), 0xf2);
        // CB F2 0189
        gbc.setState(0x78b6, 0xb14, 0x82c0, 0x3638, 0xdc5a, 0xb029, 0x0, 0x0);
        gbc.writeMem(0x78b6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb14);
        EXPECT(gbc.pc(), 0x78b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 018A
        gbc.setState(0x4cc9, 0x39d2, 0x2e00, 0xbecc, 0xdc36, 0x81c2, 0x1, 0x0);
        gbc.writeMem(0x4cc9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x39d2);
        EXPECT(gbc.pc(), 0x4ccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 018B
        gbc.setState(0xa65f, 0x4d70, 0x8f60, 0xcc49, 0xe387, 0xa153, 0x1, 0x1);
        gbc.writeMem(0xa65f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4d70);
        EXPECT(gbc.pc(), 0xa661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa65f), 0xcb);
        EXPECT(gbc.readMem(0xa660), 0xf2);
        // CB F2 018D
        gbc.setState(0xa222, 0x5cd7, 0x8da0, 0x1a17, 0x3385, 0xc5de, 0x0, 0x0);
        gbc.writeMem(0xa222, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5cd7);
        EXPECT(gbc.pc(), 0xa224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa222), 0xcb);
        EXPECT(gbc.readMem(0xa223), 0xf2);
        // CB F2 018E
        gbc.setState(0x1271, 0xa342, 0x2650, 0x6cb4, 0xf426, 0x3f87, 0x1, 0x1);
        gbc.writeMem(0x1271, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa342);
        EXPECT(gbc.pc(), 0x1273);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 018F
        gbc.setState(0x4862, 0xf2e6, 0xfaf0, 0x48f3, 0x6bf3, 0x5c7f, 0x1, 0x1);
        gbc.writeMem(0x4862, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf2e6);
        EXPECT(gbc.pc(), 0x4864);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0190
        gbc.setState(0xbd05, 0xa419, 0x20d0, 0xf68f, 0x1f6b, 0xb90c, 0x0, 0x0);
        gbc.writeMem(0xbd05, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa419);
        EXPECT(gbc.pc(), 0xbd07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd05), 0xcb);
        EXPECT(gbc.readMem(0xbd06), 0xf2);
        // CB F2 0191
        gbc.setState(0x4284, 0x4a9a, 0xfc80, 0x3f8d, 0xcbd0, 0x95bb, 0x1, 0x1);
        gbc.writeMem(0x4284, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4a9a);
        EXPECT(gbc.pc(), 0x4286);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0192
        gbc.setState(0xca5a, 0xa4eb, 0xc4e0, 0x434e, 0x68fa, 0xda4a, 0x1, 0x0);
        gbc.writeMem(0xca5a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa4eb);
        EXPECT(gbc.pc(), 0xca5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca5a), 0xcb);
        EXPECT(gbc.readMem(0xca5b), 0xf2);
        // CB F2 0193
        gbc.setState(0x5b46, 0x33bb, 0x1150, 0x1a62, 0x321, 0xe30f, 0x0, 0x1);
        gbc.writeMem(0x5b46, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x33bb);
        EXPECT(gbc.pc(), 0x5b48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0194
        gbc.setState(0x3773, 0x20b4, 0x9d80, 0x1c11, 0xb0b2, 0xfd7b, 0x0, 0x0);
        gbc.writeMem(0x3773, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x20b4);
        EXPECT(gbc.pc(), 0x3775);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0195
        gbc.setState(0xab4e, 0x1b0d, 0x2a90, 0xb0b4, 0x320b, 0x7541, 0x0, 0x1);
        gbc.writeMem(0xab4e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1b0d);
        EXPECT(gbc.pc(), 0xab50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab4e), 0xcb);
        EXPECT(gbc.readMem(0xab4f), 0xf2);
        // CB F2 0196
        gbc.setState(0xc1c7, 0xcb51, 0xc2b0, 0x4075, 0x7e8e, 0x2f85, 0x0, 0x1);
        gbc.writeMem(0xc1c7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xcb51);
        EXPECT(gbc.pc(), 0xc1c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1c7), 0xcb);
        EXPECT(gbc.readMem(0xc1c8), 0xf2);
        // CB F2 0197
        gbc.setState(0x284a, 0x999a, 0x3e80, 0x8c, 0xfaed, 0x7260, 0x1, 0x0);
        gbc.writeMem(0x284a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x999a);
        EXPECT(gbc.pc(), 0x284c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0198
        gbc.setState(0xb9e8, 0x355, 0x4340, 0x7635, 0xfda1, 0xb8ea, 0x1, 0x0);
        gbc.writeMem(0xb9e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x355);
        EXPECT(gbc.pc(), 0xb9ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9e8), 0xcb);
        EXPECT(gbc.readMem(0xb9e9), 0xf2);
        // CB F2 0199
        gbc.setState(0x6f7f, 0x3a15, 0x6330, 0xcfe5, 0x7d2f, 0x4b6b, 0x1, 0x1);
        gbc.writeMem(0x6f7f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3a15);
        EXPECT(gbc.pc(), 0x6f81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 019A
        gbc.setState(0xd730, 0x89fd, 0xb8b0, 0x3581, 0x2c42, 0x4159, 0x1, 0x1);
        gbc.writeMem(0xd730, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x89fd);
        EXPECT(gbc.pc(), 0xd732);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd730), 0xcb);
        EXPECT(gbc.readMem(0xd731), 0xf2);
        // CB F2 019B
        gbc.setState(0xb860, 0xcb0a, 0x5bb0, 0xb63c, 0x2c59, 0x9543, 0x0, 0x1);
        gbc.writeMem(0xb860, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcb0a);
        EXPECT(gbc.pc(), 0xb862);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb860), 0xcb);
        EXPECT(gbc.readMem(0xb861), 0xf2);
        // CB F2 019C
        gbc.setState(0x178f, 0x2cbf, 0x4b90, 0x5c56, 0x69f5, 0xc3e9, 0x1, 0x0);
        gbc.writeMem(0x178f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2cbf);
        EXPECT(gbc.pc(), 0x1791);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 019D
        gbc.setState(0x7dc2, 0x8b59, 0x1060, 0x756b, 0x3a04, 0xc53b, 0x1, 0x0);
        gbc.writeMem(0x7dc2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8b59);
        EXPECT(gbc.pc(), 0x7dc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 019E
        gbc.setState(0x59da, 0x9061, 0xa190, 0x7fc6, 0xf02f, 0x5dc0, 0x0, 0x0);
        gbc.writeMem(0x59da, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9061);
        EXPECT(gbc.pc(), 0x59dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 019F
        gbc.setState(0xb8ba, 0x524c, 0xbab0, 0xf643, 0xa52f, 0x9892, 0x1, 0x0);
        gbc.writeMem(0xb8ba, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x524c);
        EXPECT(gbc.pc(), 0xb8bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ba), 0xcb);
        EXPECT(gbc.readMem(0xb8bb), 0xf2);
        // CB F2 01A0
        gbc.setState(0x2388, 0xd2f6, 0x9380, 0x5ad3, 0x2e65, 0xcd09, 0x0, 0x0);
        gbc.writeMem(0x2388, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd2f6);
        EXPECT(gbc.pc(), 0x238a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01A1
        gbc.setState(0x9559, 0xaa4a, 0xdc20, 0x1af1, 0x9d0f, 0x957a, 0x1, 0x1);
        gbc.writeMem(0x9559, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xaa4a);
        EXPECT(gbc.pc(), 0x955b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9559), 0xcb);
        EXPECT(gbc.readMem(0x955a), 0xf2);
        // CB F2 01A2
        gbc.setState(0x6b23, 0x10ce, 0x5410, 0xfd7c, 0xf0fc, 0x6e72, 0x1, 0x0);
        gbc.writeMem(0x6b23, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x10ce);
        EXPECT(gbc.pc(), 0x6b25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01A4
        gbc.setState(0x8d74, 0x46a7, 0x700, 0x31ac, 0x619, 0xe7d5, 0x0, 0x0);
        gbc.writeMem(0x8d74, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x46a7);
        EXPECT(gbc.pc(), 0x8d76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d74), 0xcb);
        EXPECT(gbc.readMem(0x8d75), 0xf2);
        // CB F2 01A5
        gbc.setState(0x644, 0x248d, 0x8d60, 0xd11c, 0xca70, 0xa65a, 0x1, 0x0);
        gbc.writeMem(0x644, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x248d);
        EXPECT(gbc.pc(), 0x646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01A6
        gbc.setState(0x3ed2, 0x8d48, 0x2660, 0xfcef, 0x56f0, 0x1f72, 0x1, 0x1);
        gbc.writeMem(0x3ed2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8d48);
        EXPECT(gbc.pc(), 0x3ed4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01A7
        gbc.setState(0xaa0f, 0xfb1b, 0x1b80, 0xc8e1, 0xaa81, 0x6f6b, 0x0, 0x1);
        gbc.writeMem(0xaa0f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xfb1b);
        EXPECT(gbc.pc(), 0xaa11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa0f), 0xcb);
        EXPECT(gbc.readMem(0xaa10), 0xf2);
        // CB F2 01A8
        gbc.setState(0x38bc, 0x93a1, 0x73f0, 0xed18, 0xe03a, 0xa08a, 0x1, 0x1);
        gbc.writeMem(0x38bc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x93a1);
        EXPECT(gbc.pc(), 0x38be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01A9
        gbc.setState(0x23bd, 0xb5c8, 0x31d0, 0x1ccd, 0xa6ec, 0xb3be, 0x1, 0x0);
        gbc.writeMem(0x23bd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb5c8);
        EXPECT(gbc.pc(), 0x23bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01AA
        gbc.setState(0xb57f, 0xb649, 0x9ea0, 0x7d84, 0xf3c4, 0xdffa, 0x0, 0x0);
        gbc.writeMem(0xb57f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb649);
        EXPECT(gbc.pc(), 0xb581);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb57f), 0xcb);
        EXPECT(gbc.readMem(0xb580), 0xf2);
        // CB F2 01AB
        gbc.setState(0xd8c4, 0x4379, 0x9120, 0x8235, 0x551b, 0xe93d, 0x1, 0x1);
        gbc.writeMem(0xd8c4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x4379);
        EXPECT(gbc.pc(), 0xd8c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8c4), 0xcb);
        EXPECT(gbc.readMem(0xd8c5), 0xf2);
        // CB F2 01AC
        gbc.setState(0xdbd7, 0x24cf, 0xf600, 0xabf5, 0xca88, 0xad24, 0x1, 0x0);
        gbc.writeMem(0xdbd7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x24cf);
        EXPECT(gbc.pc(), 0xdbd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd7), 0xcb);
        EXPECT(gbc.readMem(0xdbd8), 0xf2);
        // CB F2 01AD
        gbc.setState(0x1604, 0xb08d, 0x4b50, 0x842d, 0x19f7, 0x1f90, 0x1, 0x0);
        gbc.writeMem(0x1604, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb08d);
        EXPECT(gbc.pc(), 0x1606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01AE
        gbc.setState(0xe03, 0x205f, 0x8950, 0xd29, 0x899a, 0x18e5, 0x1, 0x0);
        gbc.writeMem(0xe03, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x205f);
        EXPECT(gbc.pc(), 0xe05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01AF
        gbc.setState(0xc55b, 0xd687, 0x7960, 0xd042, 0x5440, 0x3fbc, 0x0, 0x1);
        gbc.writeMem(0xc55b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd687);
        EXPECT(gbc.pc(), 0xc55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc55b), 0xcb);
        EXPECT(gbc.readMem(0xc55c), 0xf2);
        // CB F2 01B0
        gbc.setState(0x99e8, 0x12c, 0x1100, 0x9c2, 0x6b3a, 0x53bf, 0x1, 0x1);
        gbc.writeMem(0x99e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x12c);
        EXPECT(gbc.pc(), 0x99ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99e8), 0xcb);
        EXPECT(gbc.readMem(0x99e9), 0xf2);
        // CB F2 01B1
        gbc.setState(0x2236, 0xc696, 0x8330, 0xa5e3, 0x650f, 0x636, 0x0, 0x1);
        gbc.writeMem(0x2236, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc696);
        EXPECT(gbc.pc(), 0x2238);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01B2
        gbc.setState(0x59cd, 0xf084, 0x9cc0, 0x6a61, 0xba38, 0x10c9, 0x0, 0x0);
        gbc.writeMem(0x59cd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf084);
        EXPECT(gbc.pc(), 0x59cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01B3
        gbc.setState(0x6e16, 0x75a6, 0x9b40, 0xa42f, 0x94f, 0x8f14, 0x1, 0x0);
        gbc.writeMem(0x6e16, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x75a6);
        EXPECT(gbc.pc(), 0x6e18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01B4
        gbc.setState(0x8509, 0x9caf, 0x6400, 0xda03, 0x898c, 0x643c, 0x0, 0x1);
        gbc.writeMem(0x8509, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9caf);
        EXPECT(gbc.pc(), 0x850b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8509), 0xcb);
        EXPECT(gbc.readMem(0x850a), 0xf2);
        // CB F2 01B5
        gbc.setState(0xe5d, 0x909f, 0x6c70, 0xe8d0, 0x372a, 0x2689, 0x0, 0x0);
        gbc.writeMem(0xe5d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x909f);
        EXPECT(gbc.pc(), 0xe5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01B6
        gbc.setState(0x3a2e, 0x3ace, 0xdca0, 0xbc93, 0x77f0, 0xc06e, 0x0, 0x0);
        gbc.writeMem(0x3a2e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3ace);
        EXPECT(gbc.pc(), 0x3a30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01B7
        gbc.setState(0x92d9, 0x8d4a, 0xcc50, 0x42f0, 0xdfd4, 0x93ce, 0x0, 0x1);
        gbc.writeMem(0x92d9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8d4a);
        EXPECT(gbc.pc(), 0x92db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d9), 0xcb);
        EXPECT(gbc.readMem(0x92da), 0xf2);
        // CB F2 01B8
        gbc.setState(0xcf42, 0x7ea5, 0x4c80, 0xcfdc, 0x8c06, 0x7185, 0x1, 0x1);
        gbc.writeMem(0xcf42, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x7ea5);
        EXPECT(gbc.pc(), 0xcf44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf42), 0xcb);
        EXPECT(gbc.readMem(0xcf43), 0xf2);
        // CB F2 01B9
        gbc.setState(0xc116, 0xa8cc, 0xddb0, 0x2550, 0xc709, 0xb097, 0x1, 0x1);
        gbc.writeMem(0xc116, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa8cc);
        EXPECT(gbc.pc(), 0xc118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc116), 0xcb);
        EXPECT(gbc.readMem(0xc117), 0xf2);
        // CB F2 01BA
        gbc.setState(0xcbd6, 0x7631, 0x54b0, 0x1df8, 0x7161, 0x6565, 0x0, 0x0);
        gbc.writeMem(0xcbd6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7631);
        EXPECT(gbc.pc(), 0xcbd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbd6), 0xcb);
        EXPECT(gbc.readMem(0xcbd7), 0xf2);
        // CB F2 01BB
        gbc.setState(0xbb4e, 0x68e7, 0xd170, 0x40e8, 0x4c38, 0x909e, 0x0, 0x1);
        gbc.writeMem(0xbb4e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x68e7);
        EXPECT(gbc.pc(), 0xbb50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb4e), 0xcb);
        EXPECT(gbc.readMem(0xbb4f), 0xf2);
        // CB F2 01BD
        gbc.setState(0x8662, 0xc9d8, 0xea40, 0x7b6b, 0xe6ff, 0xa0f8, 0x0, 0x1);
        gbc.writeMem(0x8662, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xc9d8);
        EXPECT(gbc.pc(), 0x8664);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8662), 0xcb);
        EXPECT(gbc.readMem(0x8663), 0xf2);
        // CB F2 01BE
        gbc.setState(0x92df, 0x2b25, 0x9be0, 0xfc8c, 0xcfa4, 0xcd1e, 0x0, 0x0);
        gbc.writeMem(0x92df, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x2b25);
        EXPECT(gbc.pc(), 0x92e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92df), 0xcb);
        EXPECT(gbc.readMem(0x92e0), 0xf2);
        // CB F2 01BF
        gbc.setState(0x44e, 0xdad2, 0x8f60, 0x54eb, 0x6740, 0x2ef8, 0x1, 0x0);
        gbc.writeMem(0x44e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xdad2);
        EXPECT(gbc.pc(), 0x450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01C0
        gbc.setState(0xd0eb, 0x1607, 0x230, 0x1757, 0xffab, 0x299b, 0x1, 0x1);
        gbc.writeMem(0xd0eb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1607);
        EXPECT(gbc.pc(), 0xd0ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0eb), 0xcb);
        EXPECT(gbc.readMem(0xd0ec), 0xf2);
        // CB F2 01C3
        gbc.setState(0x474b, 0x3b20, 0xa700, 0xa7e9, 0x75a, 0x76e4, 0x1, 0x1);
        gbc.writeMem(0x474b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3b20);
        EXPECT(gbc.pc(), 0x474d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01C4
        gbc.setState(0x9935, 0x2ae8, 0xf0b0, 0x4513, 0x841f, 0x7a6a, 0x0, 0x1);
        gbc.writeMem(0x9935, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2ae8);
        EXPECT(gbc.pc(), 0x9937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9935), 0xcb);
        EXPECT(gbc.readMem(0x9936), 0xf2);
        // CB F2 01C5
        gbc.setState(0xe6c5, 0xd322, 0x44d0, 0x5f33, 0xdc2c, 0x70cd, 0x0, 0x0);
        gbc.writeMem(0xe6c5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd322);
        EXPECT(gbc.pc(), 0xe6c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c5), 0xcb);
        EXPECT(gbc.readMem(0xe6c6), 0xf2);
        // CB F2 01C7
        gbc.setState(0xd013, 0x35cc, 0xcbf0, 0x1bcc, 0x565f, 0x6e0a, 0x0, 0x1);
        gbc.writeMem(0xd013, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x35cc);
        EXPECT(gbc.pc(), 0xd015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd013), 0xcb);
        EXPECT(gbc.readMem(0xd014), 0xf2);
        // CB F2 01C8
        gbc.setState(0x96b9, 0x7814, 0x8750, 0x823f, 0x58f8, 0x1681, 0x0, 0x1);
        gbc.writeMem(0x96b9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7814);
        EXPECT(gbc.pc(), 0x96bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96b9), 0xcb);
        EXPECT(gbc.readMem(0x96ba), 0xf2);
        // CB F2 01C9
        gbc.setState(0x3041, 0x9ba1, 0xdfa0, 0x89f, 0xbaf0, 0x3825, 0x1, 0x0);
        gbc.writeMem(0x3041, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9ba1);
        EXPECT(gbc.pc(), 0x3043);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01CA
        gbc.setState(0xbd1c, 0x7f26, 0x32b0, 0x54a1, 0xcb63, 0xcdaa, 0x0, 0x0);
        gbc.writeMem(0xbd1c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7f26);
        EXPECT(gbc.pc(), 0xbd1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd1c), 0xcb);
        EXPECT(gbc.readMem(0xbd1d), 0xf2);
        // CB F2 01CB
        gbc.setState(0xfd8, 0xc288, 0xd510, 0xed03, 0x77f4, 0xc24a, 0x1, 0x0);
        gbc.writeMem(0xfd8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc288);
        EXPECT(gbc.pc(), 0xfda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01CC
        gbc.setState(0xd7f1, 0x82b, 0xc290, 0x9608, 0x14b5, 0xecf2, 0x1, 0x0);
        gbc.writeMem(0xd7f1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x82b);
        EXPECT(gbc.pc(), 0xd7f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7f1), 0xcb);
        EXPECT(gbc.readMem(0xd7f2), 0xf2);
        // CB F2 01CE
        gbc.setState(0xd5d8, 0x70b9, 0x9760, 0x9245, 0x62ba, 0x2ad4, 0x1, 0x0);
        gbc.writeMem(0xd5d8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x70b9);
        EXPECT(gbc.pc(), 0xd5da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d8), 0xcb);
        EXPECT(gbc.readMem(0xd5d9), 0xf2);
        // CB F2 01CF
        gbc.setState(0xcec, 0xea77, 0xa4b0, 0x7456, 0x21d4, 0xb3c7, 0x1, 0x0);
        gbc.writeMem(0xcec, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xea77);
        EXPECT(gbc.pc(), 0xcee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01D0
        gbc.setState(0x2958, 0x3a4a, 0x4d0, 0xbaa4, 0xfae7, 0xb8e3, 0x1, 0x0);
        gbc.writeMem(0x2958, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3a4a);
        EXPECT(gbc.pc(), 0x295a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01D1
        gbc.setState(0xd88c, 0x66a6, 0x4920, 0x303e, 0x30f0, 0x695, 0x1, 0x1);
        gbc.writeMem(0xd88c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x66a6);
        EXPECT(gbc.pc(), 0xd88e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd88c), 0xcb);
        EXPECT(gbc.readMem(0xd88d), 0xf2);
        // CB F2 01D2
        gbc.setState(0xc00d, 0x92a9, 0x9600, 0x1fbf, 0x1adc, 0x9417, 0x0, 0x1);
        gbc.writeMem(0xc00d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x92a9);
        EXPECT(gbc.pc(), 0xc00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc00d), 0xcb);
        EXPECT(gbc.readMem(0xc00e), 0xf2);
        // CB F2 01D3
        gbc.setState(0xd58a, 0x86ee, 0x71a0, 0x2499, 0xbfeb, 0x9bd7, 0x0, 0x1);
        gbc.writeMem(0xd58a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x86ee);
        EXPECT(gbc.pc(), 0xd58c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd58a), 0xcb);
        EXPECT(gbc.readMem(0xd58b), 0xf2);
        // CB F2 01D4
        gbc.setState(0x1600, 0x8d04, 0xd340, 0x25d5, 0x25cf, 0xc83d, 0x0, 0x0);
        gbc.writeMem(0x1600, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8d04);
        EXPECT(gbc.pc(), 0x1602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01D5
        gbc.setState(0x7343, 0x8f98, 0x7440, 0x9959, 0x5163, 0x96d2, 0x0, 0x1);
        gbc.writeMem(0x7343, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8f98);
        EXPECT(gbc.pc(), 0x7345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01D7
        gbc.setState(0x9a1e, 0x491a, 0xf830, 0x493, 0x9dd7, 0x96f, 0x1, 0x0);
        gbc.writeMem(0x9a1e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x491a);
        EXPECT(gbc.pc(), 0x9a20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a1e), 0xcb);
        EXPECT(gbc.readMem(0x9a1f), 0xf2);
        // CB F2 01D8
        gbc.setState(0x9dda, 0x38d5, 0x6110, 0xc8c5, 0xe3e3, 0x4773, 0x0, 0x1);
        gbc.writeMem(0x9dda, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x38d5);
        EXPECT(gbc.pc(), 0x9ddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dda), 0xcb);
        EXPECT(gbc.readMem(0x9ddb), 0xf2);
        // CB F2 01D9
        gbc.setState(0xccfb, 0x7d5d, 0x55c0, 0x65c5, 0x4063, 0x8705, 0x0, 0x0);
        gbc.writeMem(0xccfb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7d5d);
        EXPECT(gbc.pc(), 0xccfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccfb), 0xcb);
        EXPECT(gbc.readMem(0xccfc), 0xf2);
        // CB F2 01DA
        gbc.setState(0x784, 0xc880, 0x1420, 0x4cd3, 0x39ab, 0x8836, 0x0, 0x0);
        gbc.writeMem(0x784, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc880);
        EXPECT(gbc.pc(), 0x786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01DB
        gbc.setState(0x38f4, 0xf8f4, 0x5ba0, 0x1a56, 0x810b, 0xd949, 0x0, 0x0);
        gbc.writeMem(0x38f4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf8f4);
        EXPECT(gbc.pc(), 0x38f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01DC
        gbc.setState(0x9379, 0x2ef0, 0xb690, 0xb6d2, 0x3b95, 0xa1d6, 0x1, 0x1);
        gbc.writeMem(0x9379, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2ef0);
        EXPECT(gbc.pc(), 0x937b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9379), 0xcb);
        EXPECT(gbc.readMem(0x937a), 0xf2);
        // CB F2 01DD
        gbc.setState(0x1c32, 0x32db, 0x9700, 0x8297, 0x42e6, 0xa718, 0x1, 0x0);
        gbc.writeMem(0x1c32, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x32db);
        EXPECT(gbc.pc(), 0x1c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01DE
        gbc.setState(0x5fb9, 0xeecc, 0x47c0, 0x94, 0xe439, 0x90c5, 0x1, 0x1);
        gbc.writeMem(0x5fb9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xeecc);
        EXPECT(gbc.pc(), 0x5fbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01DF
        gbc.setState(0x8470, 0x7ef5, 0x3b70, 0xbfd0, 0x53f7, 0x9734, 0x0, 0x0);
        gbc.writeMem(0x8470, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7ef5);
        EXPECT(gbc.pc(), 0x8472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8470), 0xcb);
        EXPECT(gbc.readMem(0x8471), 0xf2);
        // CB F2 01E0
        gbc.setState(0xbe77, 0x6654, 0xc000, 0x6a05, 0x9946, 0xb063, 0x1, 0x1);
        gbc.writeMem(0xbe77, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6654);
        EXPECT(gbc.pc(), 0xbe79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe77), 0xcb);
        EXPECT(gbc.readMem(0xbe78), 0xf2);
        // CB F2 01E1
        gbc.setState(0x1cf1, 0xc6f4, 0x1cf0, 0x4e6f, 0xbf13, 0xf084, 0x0, 0x1);
        gbc.writeMem(0x1cf1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xc6f4);
        EXPECT(gbc.pc(), 0x1cf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01E2
        gbc.setState(0x868b, 0xb17a, 0x8090, 0x56a3, 0x3867, 0x4bca, 0x1, 0x1);
        gbc.writeMem(0x868b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb17a);
        EXPECT(gbc.pc(), 0x868d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x868b), 0xcb);
        EXPECT(gbc.readMem(0x868c), 0xf2);
        // CB F2 01E3
        gbc.setState(0xa912, 0xa6f3, 0xdc60, 0x3570, 0x6e85, 0x8d56, 0x1, 0x1);
        gbc.writeMem(0xa912, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xa6f3);
        EXPECT(gbc.pc(), 0xa914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa912), 0xcb);
        EXPECT(gbc.readMem(0xa913), 0xf2);
        // CB F2 01E4
        gbc.setState(0x2b01, 0x8b1c, 0x5f30, 0xf7e5, 0xe6e4, 0xdc11, 0x0, 0x1);
        gbc.writeMem(0x2b01, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x8b1c);
        EXPECT(gbc.pc(), 0x2b03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01E5
        gbc.setState(0xbf42, 0x44a3, 0x8400, 0x66b7, 0x6fe6, 0xc6c9, 0x0, 0x1);
        gbc.writeMem(0xbf42, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x44a3);
        EXPECT(gbc.pc(), 0xbf44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf42), 0xcb);
        EXPECT(gbc.readMem(0xbf43), 0xf2);
        // CB F2 01E6
        gbc.setState(0xdba2, 0xcb96, 0x1060, 0x16c4, 0xed4b, 0xbaae, 0x1, 0x0);
        gbc.writeMem(0xdba2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xcb96);
        EXPECT(gbc.pc(), 0xdba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdba2), 0xcb);
        EXPECT(gbc.readMem(0xdba3), 0xf2);
        // CB F2 01E7
        gbc.setState(0x87fa, 0x4410, 0xe010, 0x1926, 0x6cb3, 0x9071, 0x1, 0x0);
        gbc.writeMem(0x87fa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4410);
        EXPECT(gbc.pc(), 0x87fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87fa), 0xcb);
        EXPECT(gbc.readMem(0x87fb), 0xf2);
        // CB F2 01E8
        gbc.setState(0x4947, 0x653c, 0x6150, 0x1d56, 0x192a, 0x5525, 0x0, 0x1);
        gbc.writeMem(0x4947, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x653c);
        EXPECT(gbc.pc(), 0x4949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01E9
        gbc.setState(0x1b9c, 0x2abc, 0x5c60, 0x6e75, 0x4230, 0x35e0, 0x0, 0x1);
        gbc.writeMem(0x1b9c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2abc);
        EXPECT(gbc.pc(), 0x1b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01EA
        gbc.setState(0xbe6b, 0xb3df, 0xaa60, 0xeb52, 0xcab6, 0xff9e, 0x1, 0x0);
        gbc.writeMem(0xbe6b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb3df);
        EXPECT(gbc.pc(), 0xbe6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6b), 0xcb);
        EXPECT(gbc.readMem(0xbe6c), 0xf2);
        // CB F2 01ED
        gbc.setState(0x3a4c, 0x8eec, 0x5500, 0x6c76, 0xa215, 0x7f47, 0x0, 0x0);
        gbc.writeMem(0x3a4c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8eec);
        EXPECT(gbc.pc(), 0x3a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01EE
        gbc.setState(0xecbb, 0x815, 0xd0f0, 0x74d3, 0xce9a, 0xb244, 0x1, 0x1);
        gbc.writeMem(0xecbb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x815);
        EXPECT(gbc.pc(), 0xecbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecbb), 0xcb);
        EXPECT(gbc.readMem(0xecbc), 0xf2);
        // CB F2 01EF
        gbc.setState(0xd092, 0x26c3, 0xed90, 0xfe27, 0xd97e, 0x66ef, 0x0, 0x1);
        gbc.writeMem(0xd092, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x26c3);
        EXPECT(gbc.pc(), 0xd094);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd092), 0xcb);
        EXPECT(gbc.readMem(0xd093), 0xf2);
        // CB F2 01F0
        gbc.setState(0x2585, 0x43a2, 0x9de0, 0x66db, 0xf0d5, 0xfe17, 0x1, 0x1);
        gbc.writeMem(0x2585, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x43a2);
        EXPECT(gbc.pc(), 0x2587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01F1
        gbc.setState(0x6462, 0x5dba, 0x7770, 0x52fd, 0x176, 0xaec2, 0x0, 0x1);
        gbc.writeMem(0x6462, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5dba);
        EXPECT(gbc.pc(), 0x6464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01F2
        gbc.setState(0xd22d, 0xb026, 0xed10, 0x8d07, 0x798b, 0x4e88, 0x0, 0x0);
        gbc.writeMem(0xd22d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb026);
        EXPECT(gbc.pc(), 0xd22f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd22d), 0xcb);
        EXPECT(gbc.readMem(0xd22e), 0xf2);
        // CB F2 01F3
        gbc.setState(0x7c3e, 0xc860, 0xf630, 0x7e89, 0x1e28, 0x2b8b, 0x1, 0x1);
        gbc.writeMem(0x7c3e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc860);
        EXPECT(gbc.pc(), 0x7c40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01F4
        gbc.setState(0x12b0, 0x74f2, 0xd320, 0x37d8, 0x686, 0x5914, 0x1, 0x0);
        gbc.writeMem(0x12b0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x74f2);
        EXPECT(gbc.pc(), 0x12b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01F5
        gbc.setState(0xe1ec, 0x5494, 0xe420, 0xb05f, 0x3813, 0xbd14, 0x0, 0x1);
        gbc.writeMem(0xe1ec, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5494);
        EXPECT(gbc.pc(), 0xe1ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ec), 0xcb);
        EXPECT(gbc.readMem(0xe1ed), 0xf2);
        // CB F2 01F6
        gbc.setState(0x9185, 0x2d47, 0xb2b0, 0xa866, 0xf101, 0x9bd8, 0x0, 0x0);
        gbc.writeMem(0x9185, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2d47);
        EXPECT(gbc.pc(), 0x9187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9185), 0xcb);
        EXPECT(gbc.readMem(0x9186), 0xf2);
        // CB F2 01F7
        gbc.setState(0x79e2, 0x58ee, 0x9ff0, 0xa243, 0x3e10, 0x2b65, 0x0, 0x1);
        gbc.writeMem(0x79e2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x58ee);
        EXPECT(gbc.pc(), 0x79e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01F8
        gbc.setState(0x28ad, 0x8fbc, 0x9d10, 0x29d1, 0x22ac, 0x196a, 0x0, 0x0);
        gbc.writeMem(0x28ad, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8fbc);
        EXPECT(gbc.pc(), 0x28af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01F9
        gbc.setState(0xa4c6, 0x949b, 0x65b0, 0x79bc, 0x21b2, 0x18e5, 0x1, 0x0);
        gbc.writeMem(0xa4c6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x949b);
        EXPECT(gbc.pc(), 0xa4c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4c6), 0xcb);
        EXPECT(gbc.readMem(0xa4c7), 0xf2);
        // CB F2 01FA
        gbc.setState(0x8a93, 0x7cfc, 0xe550, 0x8272, 0xff29, 0x2431, 0x0, 0x0);
        gbc.writeMem(0x8a93, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7cfc);
        EXPECT(gbc.pc(), 0x8a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a93), 0xcb);
        EXPECT(gbc.readMem(0x8a94), 0xf2);
        // CB F2 01FB
        gbc.setState(0x83f, 0xd133, 0x3330, 0x1588, 0x943, 0x3756, 0x1, 0x1);
        gbc.writeMem(0x83f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd133);
        EXPECT(gbc.pc(), 0x841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01FC
        gbc.setState(0x1511, 0x3a79, 0x2cd0, 0xdb3e, 0x7733, 0xab27, 0x1, 0x0);
        gbc.writeMem(0x1511, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3a79);
        EXPECT(gbc.pc(), 0x1513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01FD
        gbc.setState(0x767b, 0x6a06, 0x2130, 0xac92, 0x8b08, 0xf6ee, 0x1, 0x1);
        gbc.writeMem(0x767b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6a06);
        EXPECT(gbc.pc(), 0x767d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 01FE
        gbc.setState(0x36eb, 0x3618, 0x5aa0, 0xf449, 0x6224, 0x804f, 0x1, 0x1);
        gbc.writeMem(0x36eb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3618);
        EXPECT(gbc.pc(), 0x36ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 01FF
        gbc.setState(0x7805, 0x142c, 0xbc00, 0xcb1e, 0x2a73, 0xa12e, 0x1, 0x0);
        gbc.writeMem(0x7805, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x142c);
        EXPECT(gbc.pc(), 0x7807);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0200
        gbc.setState(0x5753, 0x5f08, 0xb830, 0x9c23, 0x4823, 0xa3d3, 0x1, 0x0);
        gbc.writeMem(0x5753, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5f08);
        EXPECT(gbc.pc(), 0x5755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0201
        gbc.setState(0xb596, 0x5766, 0xe8b0, 0xa282, 0xda37, 0xbb7, 0x1, 0x0);
        gbc.writeMem(0xb596, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5766);
        EXPECT(gbc.pc(), 0xb598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb596), 0xcb);
        EXPECT(gbc.readMem(0xb597), 0xf2);
        // CB F2 0202
        gbc.setState(0x18f9, 0xa3eb, 0x9ca0, 0x6346, 0x6142, 0x1808, 0x0, 0x0);
        gbc.writeMem(0x18f9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa3eb);
        EXPECT(gbc.pc(), 0x18fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0203
        gbc.setState(0x776c, 0x2080, 0x88f0, 0xda66, 0x2060, 0xe333, 0x0, 0x0);
        gbc.writeMem(0x776c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x2080);
        EXPECT(gbc.pc(), 0x776e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0204
        gbc.setState(0x577b, 0xfe9c, 0xd4a0, 0x1fcf, 0x10e3, 0x3f9b, 0x0, 0x0);
        gbc.writeMem(0x577b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xfe9c);
        EXPECT(gbc.pc(), 0x577d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0205
        gbc.setState(0xc75e, 0xe1a2, 0x4480, 0xc907, 0xf57d, 0x59b7, 0x0, 0x0);
        gbc.writeMem(0xc75e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe1a2);
        EXPECT(gbc.pc(), 0xc760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc75e), 0xcb);
        EXPECT(gbc.readMem(0xc75f), 0xf2);
        // CB F2 0206
        gbc.setState(0x9ee5, 0x759c, 0x68a0, 0xa39a, 0xac18, 0x37a2, 0x1, 0x1);
        gbc.writeMem(0x9ee5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x759c);
        EXPECT(gbc.pc(), 0x9ee7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee5), 0xcb);
        EXPECT(gbc.readMem(0x9ee6), 0xf2);
        // CB F2 0207
        gbc.setState(0xc2d5, 0xa168, 0x8a30, 0x243, 0xe4a1, 0xc7c3, 0x1, 0x1);
        gbc.writeMem(0xc2d5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa168);
        EXPECT(gbc.pc(), 0xc2d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2d5), 0xcb);
        EXPECT(gbc.readMem(0xc2d6), 0xf2);
        // CB F2 0208
        gbc.setState(0x867a, 0x5478, 0x90f0, 0x55ce, 0x57ee, 0xe88e, 0x0, 0x0);
        gbc.writeMem(0x867a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x5478);
        EXPECT(gbc.pc(), 0x867c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x867a), 0xcb);
        EXPECT(gbc.readMem(0x867b), 0xf2);
        // CB F2 0209
        gbc.setState(0x1741, 0x858c, 0x2190, 0x1dc2, 0xc08a, 0x837c, 0x1, 0x1);
        gbc.writeMem(0x1741, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x858c);
        EXPECT(gbc.pc(), 0x1743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 020A
        gbc.setState(0x7eb4, 0x3114, 0x2da0, 0x7a65, 0xd3d4, 0x322d, 0x0, 0x1);
        gbc.writeMem(0x7eb4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3114);
        EXPECT(gbc.pc(), 0x7eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 020B
        gbc.setState(0xa30, 0x9d33, 0x90d0, 0xc893, 0xa329, 0x9be6, 0x0, 0x1);
        gbc.writeMem(0xa30, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9d33);
        EXPECT(gbc.pc(), 0xa32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 020C
        gbc.setState(0x568e, 0x8d49, 0x7590, 0xcb81, 0x535a, 0xf7b8, 0x0, 0x0);
        gbc.writeMem(0x568e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8d49);
        EXPECT(gbc.pc(), 0x5690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 020D
        gbc.setState(0xa8cc, 0x7d79, 0x7e70, 0x9b79, 0xba30, 0xcdb, 0x0, 0x0);
        gbc.writeMem(0xa8cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7d79);
        EXPECT(gbc.pc(), 0xa8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8cc), 0xcb);
        EXPECT(gbc.readMem(0xa8cd), 0xf2);
        // CB F2 020E
        gbc.setState(0xb46c, 0x80e0, 0x7090, 0x33bb, 0x312d, 0x4217, 0x1, 0x1);
        gbc.writeMem(0xb46c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x80e0);
        EXPECT(gbc.pc(), 0xb46e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46c), 0xcb);
        EXPECT(gbc.readMem(0xb46d), 0xf2);
        // CB F2 020F
        gbc.setState(0xa77c, 0xe432, 0x47f0, 0xc457, 0x281e, 0x2e83, 0x0, 0x0);
        gbc.writeMem(0xa77c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe432);
        EXPECT(gbc.pc(), 0xa77e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa77c), 0xcb);
        EXPECT(gbc.readMem(0xa77d), 0xf2);
        // CB F2 0210
        gbc.setState(0x156f, 0xf87e, 0x2050, 0x593a, 0x7ea, 0x77a6, 0x1, 0x1);
        gbc.writeMem(0x156f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf87e);
        EXPECT(gbc.pc(), 0x1571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0211
        gbc.setState(0xd4e3, 0x6851, 0x9530, 0xdd05, 0xf8d2, 0x6c0f, 0x1, 0x0);
        gbc.writeMem(0xd4e3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x6851);
        EXPECT(gbc.pc(), 0xd4e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4e3), 0xcb);
        EXPECT(gbc.readMem(0xd4e4), 0xf2);
        // CB F2 0212
        gbc.setState(0xb054, 0xd9bc, 0x6590, 0x80fb, 0x46f, 0x1cf3, 0x1, 0x0);
        gbc.writeMem(0xb054, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd9bc);
        EXPECT(gbc.pc(), 0xb056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb054), 0xcb);
        EXPECT(gbc.readMem(0xb055), 0xf2);
        // CB F2 0213
        gbc.setState(0xd14d, 0xccab, 0xa600, 0x2717, 0x88b4, 0x493, 0x0, 0x1);
        gbc.writeMem(0xd14d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xccab);
        EXPECT(gbc.pc(), 0xd14f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd14d), 0xcb);
        EXPECT(gbc.readMem(0xd14e), 0xf2);
        // CB F2 0214
        gbc.setState(0x8c6a, 0xdedf, 0xce70, 0xdfc9, 0x80d8, 0x3b49, 0x0, 0x1);
        gbc.writeMem(0x8c6a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xdedf);
        EXPECT(gbc.pc(), 0x8c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c6a), 0xcb);
        EXPECT(gbc.readMem(0x8c6b), 0xf2);
        // CB F2 0215
        gbc.setState(0xc703, 0xac25, 0xf380, 0xa900, 0xd031, 0x8ed5, 0x1, 0x0);
        gbc.writeMem(0xc703, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xac25);
        EXPECT(gbc.pc(), 0xc705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc703), 0xcb);
        EXPECT(gbc.readMem(0xc704), 0xf2);
        // CB F2 0216
        gbc.setState(0xae0c, 0x44a3, 0x94d0, 0x67a8, 0x4079, 0xce4a, 0x0, 0x1);
        gbc.writeMem(0xae0c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x44a3);
        EXPECT(gbc.pc(), 0xae0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae0c), 0xcb);
        EXPECT(gbc.readMem(0xae0d), 0xf2);
        // CB F2 0217
        gbc.setState(0xd570, 0xe191, 0x4e50, 0x1e2b, 0x63cf, 0x18ba, 0x0, 0x0);
        gbc.writeMem(0xd570, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xe191);
        EXPECT(gbc.pc(), 0xd572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd570), 0xcb);
        EXPECT(gbc.readMem(0xd571), 0xf2);
        // CB F2 0218
        gbc.setState(0x38b5, 0x641, 0x8c20, 0x896a, 0xcf87, 0x623b, 0x1, 0x1);
        gbc.writeMem(0x38b5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x641);
        EXPECT(gbc.pc(), 0x38b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 021A
        gbc.setState(0x9f17, 0xcefc, 0xa830, 0xea9, 0x3dc, 0xb5f7, 0x0, 0x0);
        gbc.writeMem(0x9f17, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xcefc);
        EXPECT(gbc.pc(), 0x9f19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f17), 0xcb);
        EXPECT(gbc.readMem(0x9f18), 0xf2);
        // CB F2 021B
        gbc.setState(0x527a, 0x2fa9, 0x480, 0xa9af, 0x6d30, 0x721b, 0x1, 0x0);
        gbc.writeMem(0x527a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2fa9);
        EXPECT(gbc.pc(), 0x527c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 021D
        gbc.setState(0xba1, 0x3eec, 0x8620, 0x8257, 0xab43, 0x5f5b, 0x1, 0x0);
        gbc.writeMem(0xba1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3eec);
        EXPECT(gbc.pc(), 0xba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 021E
        gbc.setState(0xdcff, 0xc404, 0xad30, 0xfe, 0x25b7, 0x96d1, 0x1, 0x0);
        gbc.writeMem(0xdcff, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc404);
        EXPECT(gbc.pc(), 0xdd01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcff), 0xcb);
        EXPECT(gbc.readMem(0xdd00), 0xf2);
        // CB F2 021F
        gbc.setState(0x508f, 0x2a50, 0x6650, 0xfd99, 0x70fd, 0x946e, 0x1, 0x1);
        gbc.writeMem(0x508f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2a50);
        EXPECT(gbc.pc(), 0x5091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0220
        gbc.setState(0x9ee7, 0x5a8a, 0x8bd0, 0xf978, 0xd422, 0xc5aa, 0x0, 0x0);
        gbc.writeMem(0x9ee7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5a8a);
        EXPECT(gbc.pc(), 0x9ee9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee7), 0xcb);
        EXPECT(gbc.readMem(0x9ee8), 0xf2);
        // CB F2 0221
        gbc.setState(0xd28, 0xa52f, 0x4300, 0x38c, 0x496d, 0xe05c, 0x1, 0x0);
        gbc.writeMem(0xd28, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa52f);
        EXPECT(gbc.pc(), 0xd2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0222
        gbc.setState(0x241c, 0xa4c8, 0x6fe0, 0x17a4, 0x9c8f, 0xdb88, 0x0, 0x1);
        gbc.writeMem(0x241c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa4c8);
        EXPECT(gbc.pc(), 0x241e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0223
        gbc.setState(0x17ae, 0x132a, 0xd700, 0x6fd3, 0xd3fe, 0x842d, 0x1, 0x0);
        gbc.writeMem(0x17ae, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x132a);
        EXPECT(gbc.pc(), 0x17b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0224
        gbc.setState(0xa69c, 0xc1c0, 0x3170, 0x260, 0xdb71, 0x94d8, 0x1, 0x0);
        gbc.writeMem(0xa69c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xc1c0);
        EXPECT(gbc.pc(), 0xa69e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa69c), 0xcb);
        EXPECT(gbc.readMem(0xa69d), 0xf2);
        // CB F2 0225
        gbc.setState(0x6bb, 0x17df, 0x6a30, 0x5313, 0x1ae0, 0x5027, 0x1, 0x0);
        gbc.writeMem(0x6bb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x17df);
        EXPECT(gbc.pc(), 0x6bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0226
        gbc.setState(0xa31f, 0x7278, 0x320, 0x749, 0xf4e2, 0xbf6e, 0x0, 0x0);
        gbc.writeMem(0xa31f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7278);
        EXPECT(gbc.pc(), 0xa321);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa31f), 0xcb);
        EXPECT(gbc.readMem(0xa320), 0xf2);
        // CB F2 0227
        gbc.setState(0xe301, 0x484c, 0x9630, 0xa905, 0x5c42, 0x586c, 0x1, 0x1);
        gbc.writeMem(0xe301, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x484c);
        EXPECT(gbc.pc(), 0xe303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe301), 0xcb);
        EXPECT(gbc.readMem(0xe302), 0xf2);
        // CB F2 0228
        gbc.setState(0x5e92, 0x1001, 0xd690, 0x758f, 0xef27, 0xd430, 0x0, 0x0);
        gbc.writeMem(0x5e92, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1001);
        EXPECT(gbc.pc(), 0x5e94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0229
        gbc.setState(0x5350, 0xc55c, 0x1950, 0xb65c, 0x6cc7, 0xfb64, 0x0, 0x1);
        gbc.writeMem(0x5350, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc55c);
        EXPECT(gbc.pc(), 0x5352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 022A
        gbc.setState(0x16d0, 0xcbe7, 0xb780, 0x88d1, 0x3cd9, 0xc469, 0x1, 0x1);
        gbc.writeMem(0x16d0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xcbe7);
        EXPECT(gbc.pc(), 0x16d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 022B
        gbc.setState(0x8d38, 0xdbc7, 0x7710, 0x12be, 0x244b, 0xbb09, 0x0, 0x0);
        gbc.writeMem(0x8d38, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdbc7);
        EXPECT(gbc.pc(), 0x8d3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d38), 0xcb);
        EXPECT(gbc.readMem(0x8d39), 0xf2);
        // CB F2 022C
        gbc.setState(0xd8ac, 0x631, 0xa490, 0x9796, 0x9dc1, 0x8c1e, 0x0, 0x1);
        gbc.writeMem(0xd8ac, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x631);
        EXPECT(gbc.pc(), 0xd8ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ac), 0xcb);
        EXPECT(gbc.readMem(0xd8ad), 0xf2);
        // CB F2 022D
        gbc.setState(0x48b7, 0xd7fc, 0xac30, 0x23dd, 0xd65a, 0x9d08, 0x0, 0x1);
        gbc.writeMem(0x48b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xd7fc);
        EXPECT(gbc.pc(), 0x48b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 022E
        gbc.setState(0xb15f, 0x8e60, 0xfbb0, 0xc767, 0xa3e2, 0x37f9, 0x1, 0x0);
        gbc.writeMem(0xb15f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8e60);
        EXPECT(gbc.pc(), 0xb161);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb15f), 0xcb);
        EXPECT(gbc.readMem(0xb160), 0xf2);
        // CB F2 022F
        gbc.setState(0x14b1, 0x579e, 0xd530, 0x8835, 0x5d56, 0x3878, 0x0, 0x1);
        gbc.writeMem(0x14b1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x579e);
        EXPECT(gbc.pc(), 0x14b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0230
        gbc.setState(0x949b, 0x95bf, 0xa520, 0x97bd, 0xb856, 0x68b6, 0x0, 0x0);
        gbc.writeMem(0x949b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x95bf);
        EXPECT(gbc.pc(), 0x949d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x949b), 0xcb);
        EXPECT(gbc.readMem(0x949c), 0xf2);
        // CB F2 0231
        gbc.setState(0x5b80, 0x60a6, 0xa410, 0x43d3, 0x7119, 0x1114, 0x1, 0x0);
        gbc.writeMem(0x5b80, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x60a6);
        EXPECT(gbc.pc(), 0x5b82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0232
        gbc.setState(0xc4e6, 0xb904, 0xb190, 0xed54, 0xe689, 0x3b3e, 0x1, 0x0);
        gbc.writeMem(0xc4e6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb904);
        EXPECT(gbc.pc(), 0xc4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4e6), 0xcb);
        EXPECT(gbc.readMem(0xc4e7), 0xf2);
        // CB F2 0233
        gbc.setState(0x2b32, 0xd7bb, 0xfa70, 0x55ff, 0x38c1, 0x7571, 0x0, 0x1);
        gbc.writeMem(0x2b32, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd7bb);
        EXPECT(gbc.pc(), 0x2b34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0234
        gbc.setState(0xe014, 0xfb7, 0xa5b0, 0xd5ae, 0x1a3f, 0xc728, 0x1, 0x1);
        gbc.writeMem(0xe014, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xfb7);
        EXPECT(gbc.pc(), 0xe016);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe014), 0xcb);
        EXPECT(gbc.readMem(0xe015), 0xf2);
        // CB F2 0235
        gbc.setState(0x96ef, 0xfb35, 0xfea0, 0x38f8, 0xe09c, 0xfb63, 0x0, 0x0);
        gbc.writeMem(0x96ef, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xfb35);
        EXPECT(gbc.pc(), 0x96f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ef), 0xcb);
        EXPECT(gbc.readMem(0x96f0), 0xf2);
        // CB F2 0236
        gbc.setState(0x564a, 0x6bde, 0x5060, 0x91e2, 0x8956, 0x9a7e, 0x1, 0x1);
        gbc.writeMem(0x564a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6bde);
        EXPECT(gbc.pc(), 0x564c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0237
        gbc.setState(0x2950, 0xebd3, 0x1180, 0xfcb4, 0xae5d, 0x67c2, 0x1, 0x1);
        gbc.writeMem(0x2950, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xebd3);
        EXPECT(gbc.pc(), 0x2952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0238
        gbc.setState(0x1cd1, 0x336c, 0x9560, 0xb613, 0x78d3, 0x2b05, 0x1, 0x0);
        gbc.writeMem(0x1cd1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x336c);
        EXPECT(gbc.pc(), 0x1cd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 023A
        gbc.setState(0x9ba5, 0xea0e, 0xdc20, 0x4232, 0x42a7, 0x9e9e, 0x1, 0x1);
        gbc.writeMem(0x9ba5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xea0e);
        EXPECT(gbc.pc(), 0x9ba7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ba5), 0xcb);
        EXPECT(gbc.readMem(0x9ba6), 0xf2);
        // CB F2 023B
        gbc.setState(0xb610, 0xd8af, 0xb120, 0x76ca, 0x4d83, 0xc2df, 0x1, 0x0);
        gbc.writeMem(0xb610, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd8af);
        EXPECT(gbc.pc(), 0xb612);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb610), 0xcb);
        EXPECT(gbc.readMem(0xb611), 0xf2);
        // CB F2 023C
        gbc.setState(0x1a0b, 0x3a1, 0xda20, 0xf08d, 0xa614, 0x2820, 0x1, 0x0);
        gbc.writeMem(0x1a0b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x3a1);
        EXPECT(gbc.pc(), 0x1a0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 023D
        gbc.setState(0x4b3f, 0x7617, 0x15a0, 0x7c52, 0xa34c, 0x8acf, 0x0, 0x0);
        gbc.writeMem(0x4b3f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7617);
        EXPECT(gbc.pc(), 0x4b41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 023E
        gbc.setState(0x6440, 0xc64d, 0x93f0, 0x1b95, 0x8e6, 0xb7b9, 0x1, 0x1);
        gbc.writeMem(0x6440, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xc64d);
        EXPECT(gbc.pc(), 0x6442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 023F
        gbc.setState(0x961c, 0x47b0, 0x5880, 0xc8ee, 0x894d, 0x9bc0, 0x1, 0x0);
        gbc.writeMem(0x961c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x47b0);
        EXPECT(gbc.pc(), 0x961e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x961c), 0xcb);
        EXPECT(gbc.readMem(0x961d), 0xf2);
        // CB F2 0240
        gbc.setState(0x362a, 0x4927, 0xf5d0, 0x5a74, 0x474e, 0x3530, 0x1, 0x0);
        gbc.writeMem(0x362a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4927);
        EXPECT(gbc.pc(), 0x362c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0241
        gbc.setState(0x3820, 0x3652, 0x99d0, 0x36a1, 0x25c8, 0xe377, 0x1, 0x0);
        gbc.writeMem(0x3820, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3652);
        EXPECT(gbc.pc(), 0x3822);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0242
        gbc.setState(0x7962, 0x4768, 0xa1d0, 0xc8f5, 0x84a0, 0x1d6b, 0x0, 0x1);
        gbc.writeMem(0x7962, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4768);
        EXPECT(gbc.pc(), 0x7964);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0243
        gbc.setState(0x2a2c, 0x39b2, 0xf490, 0xdbd, 0xce86, 0xaf4b, 0x1, 0x0);
        gbc.writeMem(0x2a2c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x39b2);
        EXPECT(gbc.pc(), 0x2a2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0244
        gbc.setState(0xde0b, 0x29fb, 0xf6c0, 0xdc43, 0x6201, 0xf410, 0x1, 0x1);
        gbc.writeMem(0xde0b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x29fb);
        EXPECT(gbc.pc(), 0xde0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde0b), 0xcb);
        EXPECT(gbc.readMem(0xde0c), 0xf2);
        // CB F2 0245
        gbc.setState(0x2a6, 0x3755, 0xc6a0, 0xa185, 0x11fb, 0xa566, 0x0, 0x1);
        gbc.writeMem(0x2a6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x3755);
        EXPECT(gbc.pc(), 0x2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0246
        gbc.setState(0x9a9f, 0xa321, 0x25a0, 0x4981, 0xe953, 0x2d4a, 0x0, 0x0);
        gbc.writeMem(0x9a9f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa321);
        EXPECT(gbc.pc(), 0x9aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9f), 0xcb);
        EXPECT(gbc.readMem(0x9aa0), 0xf2);
        // CB F2 0247
        gbc.setState(0x65be, 0x569a, 0x9080, 0xb9ff, 0xa4fa, 0x400b, 0x0, 0x1);
        gbc.writeMem(0x65be, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x569a);
        EXPECT(gbc.pc(), 0x65c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0248
        gbc.setState(0x2c07, 0xf46b, 0x3fb0, 0x7423, 0x27ea, 0xc547, 0x0, 0x1);
        gbc.writeMem(0x2c07, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf46b);
        EXPECT(gbc.pc(), 0x2c09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0249
        gbc.setState(0x4f01, 0x7cdd, 0xca10, 0x9200, 0x942e, 0x3ee9, 0x1, 0x0);
        gbc.writeMem(0x4f01, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7cdd);
        EXPECT(gbc.pc(), 0x4f03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 024A
        gbc.setState(0x3d8a, 0xbcf1, 0xa2f0, 0x3060, 0x30a6, 0x8e51, 0x1, 0x1);
        gbc.writeMem(0x3d8a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbcf1);
        EXPECT(gbc.pc(), 0x3d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 024B
        gbc.setState(0x6b53, 0xc98a, 0xad50, 0xbdd5, 0xad8b, 0xebc9, 0x0, 0x1);
        gbc.writeMem(0x6b53, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc98a);
        EXPECT(gbc.pc(), 0x6b55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 024C
        gbc.setState(0x3c00, 0x1395, 0x7d00, 0x72d3, 0xe13, 0xeb57, 0x0, 0x0);
        gbc.writeMem(0x3c00, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1395);
        EXPECT(gbc.pc(), 0x3c02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 024D
        gbc.setState(0x3899, 0x8928, 0x9a90, 0x4dd9, 0x958c, 0xdf65, 0x1, 0x0);
        gbc.writeMem(0x3899, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x8928);
        EXPECT(gbc.pc(), 0x389b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 024E
        gbc.setState(0x35cf, 0x5d27, 0xa0b0, 0xb3e1, 0xd36f, 0xc910, 0x1, 0x0);
        gbc.writeMem(0x35cf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x5d27);
        EXPECT(gbc.pc(), 0x35d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 024F
        gbc.setState(0x8609, 0xce0e, 0x9390, 0x6924, 0xb2c4, 0x5f0, 0x0, 0x1);
        gbc.writeMem(0x8609, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xce0e);
        EXPECT(gbc.pc(), 0x860b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8609), 0xcb);
        EXPECT(gbc.readMem(0x860a), 0xf2);
        // CB F2 0250
        gbc.setState(0xd57b, 0xfaf7, 0x280, 0x8b88, 0x4bf5, 0xed1f, 0x1, 0x0);
        gbc.writeMem(0xd57b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xfaf7);
        EXPECT(gbc.pc(), 0xd57d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd57b), 0xcb);
        EXPECT(gbc.readMem(0xd57c), 0xf2);
        // CB F2 0251
        gbc.setState(0xdc00, 0x7f0e, 0xffc0, 0x3d7f, 0x6a60, 0xc628, 0x1, 0x1);
        gbc.writeMem(0xdc00, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7f0e);
        EXPECT(gbc.pc(), 0xdc02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc00), 0xcb);
        EXPECT(gbc.readMem(0xdc01), 0xf2);
        // CB F2 0252
        gbc.setState(0x735b, 0xdaf, 0xa100, 0x710c, 0x3c3f, 0xe681, 0x1, 0x1);
        gbc.writeMem(0x735b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xdaf);
        EXPECT(gbc.pc(), 0x735d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0253
        gbc.setState(0xbdd8, 0xd2cf, 0xdca0, 0x38a4, 0xed60, 0x3fa6, 0x1, 0x1);
        gbc.writeMem(0xbdd8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xd2cf);
        EXPECT(gbc.pc(), 0xbdda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd8), 0xcb);
        EXPECT(gbc.readMem(0xbdd9), 0xf2);
        // CB F2 0255
        gbc.setState(0x730e, 0xd2b7, 0x8ad0, 0x7eee, 0x885c, 0x62d5, 0x1, 0x1);
        gbc.writeMem(0x730e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd2b7);
        EXPECT(gbc.pc(), 0x7310);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0256
        gbc.setState(0x8467, 0xdd4, 0x6400, 0x6e8c, 0xb4e9, 0x7451, 0x1, 0x0);
        gbc.writeMem(0x8467, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xdd4);
        EXPECT(gbc.pc(), 0x8469);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8467), 0xcb);
        EXPECT(gbc.readMem(0x8468), 0xf2);
        // CB F2 0257
        gbc.setState(0x7a75, 0x5c07, 0xfe40, 0x9f6, 0x24fc, 0x3057, 0x0, 0x1);
        gbc.writeMem(0x7a75, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5c07);
        EXPECT(gbc.pc(), 0x7a77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0258
        gbc.setState(0x8a4b, 0xd094, 0x7420, 0xef7, 0x2c95, 0x915e, 0x0, 0x0);
        gbc.writeMem(0x8a4b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd094);
        EXPECT(gbc.pc(), 0x8a4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a4b), 0xcb);
        EXPECT(gbc.readMem(0x8a4c), 0xf2);
        // CB F2 0259
        gbc.setState(0x63a4, 0xe222, 0x8820, 0x3314, 0xabf9, 0x8d70, 0x1, 0x1);
        gbc.writeMem(0x63a4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe222);
        EXPECT(gbc.pc(), 0x63a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 025A
        gbc.setState(0xdaee, 0xe5e0, 0x8e00, 0xca88, 0x3499, 0x47de, 0x1, 0x0);
        gbc.writeMem(0xdaee, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe5e0);
        EXPECT(gbc.pc(), 0xdaf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaee), 0xcb);
        EXPECT(gbc.readMem(0xdaef), 0xf2);
        // CB F2 025B
        gbc.setState(0xaa2e, 0xdf0e, 0x3520, 0xcc01, 0x9fad, 0x62b0, 0x0, 0x0);
        gbc.writeMem(0xaa2e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xdf0e);
        EXPECT(gbc.pc(), 0xaa30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa2e), 0xcb);
        EXPECT(gbc.readMem(0xaa2f), 0xf2);
        // CB F2 025C
        gbc.setState(0x6070, 0x37cb, 0xe3c0, 0x95ee, 0xae4d, 0x23f1, 0x1, 0x1);
        gbc.writeMem(0x6070, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x37cb);
        EXPECT(gbc.pc(), 0x6072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 025D
        gbc.setState(0x99a0, 0xaad2, 0xc2a0, 0x3319, 0xec31, 0xa2ee, 0x1, 0x0);
        gbc.writeMem(0x99a0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xaad2);
        EXPECT(gbc.pc(), 0x99a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99a0), 0xcb);
        EXPECT(gbc.readMem(0x99a1), 0xf2);
        // CB F2 025E
        gbc.setState(0x8df3, 0x291a, 0xcfc0, 0xf093, 0xc6ff, 0xda5e, 0x1, 0x1);
        gbc.writeMem(0x8df3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x291a);
        EXPECT(gbc.pc(), 0x8df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df3), 0xcb);
        EXPECT(gbc.readMem(0x8df4), 0xf2);
        // CB F2 025F
        gbc.setState(0x1815, 0x8016, 0xb540, 0xab3, 0x638c, 0x8320, 0x0, 0x1);
        gbc.writeMem(0x1815, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8016);
        EXPECT(gbc.pc(), 0x1817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0260
        gbc.setState(0x8511, 0xa8ae, 0xb00, 0x81f3, 0xbc88, 0x6a8d, 0x0, 0x1);
        gbc.writeMem(0x8511, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa8ae);
        EXPECT(gbc.pc(), 0x8513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8511), 0xcb);
        EXPECT(gbc.readMem(0x8512), 0xf2);
        // CB F2 0261
        gbc.setState(0xa68e, 0x77e0, 0x51c0, 0x6be8, 0xf2ef, 0x9a53, 0x0, 0x1);
        gbc.writeMem(0xa68e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x77e0);
        EXPECT(gbc.pc(), 0xa690);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa68e), 0xcb);
        EXPECT(gbc.readMem(0xa68f), 0xf2);
        // CB F2 0262
        gbc.setState(0x97d9, 0xe1cd, 0x7c60, 0x40a0, 0x1d87, 0xb343, 0x1, 0x0);
        gbc.writeMem(0x97d9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe1cd);
        EXPECT(gbc.pc(), 0x97db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97d9), 0xcb);
        EXPECT(gbc.readMem(0x97da), 0xf2);
        // CB F2 0264
        gbc.setState(0x749d, 0x37b4, 0x62d0, 0xb1b6, 0xe46c, 0x3190, 0x1, 0x0);
        gbc.writeMem(0x749d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x37b4);
        EXPECT(gbc.pc(), 0x749f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0265
        gbc.setState(0x2266, 0xf8b, 0xba90, 0x2552, 0x4f27, 0x8945, 0x1, 0x0);
        gbc.writeMem(0x2266, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf8b);
        EXPECT(gbc.pc(), 0x2268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0266
        gbc.setState(0xb0e8, 0x210f, 0x3b70, 0xdf86, 0x83a9, 0x2b5, 0x1, 0x0);
        gbc.writeMem(0xb0e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x210f);
        EXPECT(gbc.pc(), 0xb0ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0e8), 0xcb);
        EXPECT(gbc.readMem(0xb0e9), 0xf2);
        // CB F2 0267
        gbc.setState(0xe15, 0xb2a6, 0x63b0, 0x5435, 0xe4c3, 0x4d41, 0x0, 0x1);
        gbc.writeMem(0xe15, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb2a6);
        EXPECT(gbc.pc(), 0xe17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0268
        gbc.setState(0x1b27, 0x7e5, 0x4d40, 0xcb02, 0x2029, 0x80e2, 0x1, 0x1);
        gbc.writeMem(0x1b27, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7e5);
        EXPECT(gbc.pc(), 0x1b29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0269
        gbc.setState(0x54f4, 0x3aa8, 0xe6d0, 0x40d8, 0x22b1, 0x3014, 0x0, 0x1);
        gbc.writeMem(0x54f4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3aa8);
        EXPECT(gbc.pc(), 0x54f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 026A
        gbc.setState(0x58c9, 0xa6c9, 0xe400, 0x6e10, 0x6c11, 0x77b8, 0x0, 0x0);
        gbc.writeMem(0x58c9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa6c9);
        EXPECT(gbc.pc(), 0x58cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 026B
        gbc.setState(0x1d7f, 0xa2a9, 0x9030, 0xa09d, 0x7ca0, 0xf2bd, 0x1, 0x1);
        gbc.writeMem(0x1d7f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa2a9);
        EXPECT(gbc.pc(), 0x1d81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 026C
        gbc.setState(0x7f95, 0x1941, 0x5a60, 0x49be, 0x63ab, 0x843, 0x0, 0x0);
        gbc.writeMem(0x7f95, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1941);
        EXPECT(gbc.pc(), 0x7f97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 026D
        gbc.setState(0x7666, 0x55b6, 0xc5a0, 0x59d1, 0x858e, 0xa9fe, 0x1, 0x1);
        gbc.writeMem(0x7666, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x55b6);
        EXPECT(gbc.pc(), 0x7668);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 026F
        gbc.setState(0x4a0e, 0x75b4, 0x990, 0x74d7, 0xdb3e, 0xffd1, 0x1, 0x1);
        gbc.writeMem(0x4a0e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x75b4);
        EXPECT(gbc.pc(), 0x4a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0270
        gbc.setState(0x628e, 0xabfa, 0xabf0, 0xb870, 0x9a43, 0xf54d, 0x0, 0x0);
        gbc.writeMem(0x628e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xabfa);
        EXPECT(gbc.pc(), 0x6290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0271
        gbc.setState(0x8b75, 0x9dd0, 0x2620, 0x758f, 0x73f2, 0x70e6, 0x0, 0x0);
        gbc.writeMem(0x8b75, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9dd0);
        EXPECT(gbc.pc(), 0x8b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b75), 0xcb);
        EXPECT(gbc.readMem(0x8b76), 0xf2);
        // CB F2 0272
        gbc.setState(0x906f, 0x1add, 0x6b30, 0xf204, 0xddd9, 0x8ad7, 0x0, 0x0);
        gbc.writeMem(0x906f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1add);
        EXPECT(gbc.pc(), 0x9071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x906f), 0xcb);
        EXPECT(gbc.readMem(0x9070), 0xf2);
        // CB F2 0273
        gbc.setState(0x5841, 0x4afd, 0x7aa0, 0xa6f, 0xaea, 0x3fd2, 0x0, 0x1);
        gbc.writeMem(0x5841, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4afd);
        EXPECT(gbc.pc(), 0x5843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0274
        gbc.setState(0x7b65, 0x9260, 0x810, 0x3918, 0x5bef, 0xce57, 0x1, 0x1);
        gbc.writeMem(0x7b65, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9260);
        EXPECT(gbc.pc(), 0x7b67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0275
        gbc.setState(0xe67b, 0xb8f5, 0xc1f0, 0x3648, 0xceba, 0xd485, 0x1, 0x0);
        gbc.writeMem(0xe67b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb8f5);
        EXPECT(gbc.pc(), 0xe67d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe67b), 0xcb);
        EXPECT(gbc.readMem(0xe67c), 0xf2);
        // CB F2 0276
        gbc.setState(0x7362, 0x131a, 0x6e90, 0x9300, 0xcf90, 0xa372, 0x0, 0x1);
        gbc.writeMem(0x7362, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x131a);
        EXPECT(gbc.pc(), 0x7364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0277
        gbc.setState(0xd5a9, 0x5d26, 0x4790, 0x12c, 0xf472, 0xf039, 0x0, 0x1);
        gbc.writeMem(0xd5a9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5d26);
        EXPECT(gbc.pc(), 0xd5ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5a9), 0xcb);
        EXPECT(gbc.readMem(0xd5aa), 0xf2);
        // CB F2 0279
        gbc.setState(0x78b6, 0x76e6, 0x3ce0, 0xf94, 0x3694, 0x338a, 0x0, 0x1);
        gbc.writeMem(0x78b6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x76e6);
        EXPECT(gbc.pc(), 0x78b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 027A
        gbc.setState(0x7eaf, 0x9ccc, 0xeca0, 0x1235, 0xb6d, 0x3d5d, 0x0, 0x1);
        gbc.writeMem(0x7eaf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9ccc);
        EXPECT(gbc.pc(), 0x7eb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 027B
        gbc.setState(0x7b69, 0xa85a, 0xe1e0, 0x90e4, 0x8d18, 0xee3d, 0x0, 0x1);
        gbc.writeMem(0x7b69, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa85a);
        EXPECT(gbc.pc(), 0x7b6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 027C
        gbc.setState(0x75b9, 0x85db, 0xe880, 0x2c2, 0xb926, 0x8af0, 0x0, 0x1);
        gbc.writeMem(0x75b9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x85db);
        EXPECT(gbc.pc(), 0x75bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 027D
        gbc.setState(0x56c, 0x4367, 0xc0b0, 0x27e5, 0xb75a, 0x8a2b, 0x0, 0x0);
        gbc.writeMem(0x56c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4367);
        EXPECT(gbc.pc(), 0x56e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 027E
        gbc.setState(0x40f5, 0x1c3, 0x51e0, 0x9b5, 0xf116, 0x82e5, 0x1, 0x1);
        gbc.writeMem(0x40f5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x1c3);
        EXPECT(gbc.pc(), 0x40f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0280
        gbc.setState(0x68f8, 0x2431, 0x52b0, 0xc6aa, 0x68bc, 0xd42c, 0x0, 0x0);
        gbc.writeMem(0x68f8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2431);
        EXPECT(gbc.pc(), 0x68fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0281
        gbc.setState(0xea86, 0x6494, 0x3990, 0x95f2, 0xda30, 0xd0e9, 0x1, 0x1);
        gbc.writeMem(0xea86, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6494);
        EXPECT(gbc.pc(), 0xea88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea86), 0xcb);
        EXPECT(gbc.readMem(0xea87), 0xf2);
        // CB F2 0282
        gbc.setState(0x2654, 0xf932, 0x7d50, 0x8429, 0x879d, 0xbee8, 0x1, 0x1);
        gbc.writeMem(0x2654, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf932);
        EXPECT(gbc.pc(), 0x2656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0283
        gbc.setState(0x5f88, 0x9765, 0x65f0, 0x73fa, 0xc0cd, 0x41eb, 0x1, 0x1);
        gbc.writeMem(0x5f88, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9765);
        EXPECT(gbc.pc(), 0x5f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0284
        gbc.setState(0xe95a, 0x2c9c, 0x78b0, 0x5989, 0x4ac1, 0x11c9, 0x1, 0x1);
        gbc.writeMem(0xe95a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x2c9c);
        EXPECT(gbc.pc(), 0xe95c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe95a), 0xcb);
        EXPECT(gbc.readMem(0xe95b), 0xf2);
        // CB F2 0285
        gbc.setState(0x4e1f, 0x6a3b, 0x3760, 0xa06, 0x9112, 0xae2c, 0x0, 0x0);
        gbc.writeMem(0x4e1f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6a3b);
        EXPECT(gbc.pc(), 0x4e21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0286
        gbc.setState(0xf88, 0xe508, 0x9560, 0x31ac, 0x7dbb, 0x6403, 0x0, 0x0);
        gbc.writeMem(0xf88, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe508);
        EXPECT(gbc.pc(), 0xf8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0287
        gbc.setState(0x8d71, 0xd8f0, 0xb980, 0x9f44, 0x4f7e, 0x648c, 0x0, 0x0);
        gbc.writeMem(0x8d71, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd8f0);
        EXPECT(gbc.pc(), 0x8d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d71), 0xcb);
        EXPECT(gbc.readMem(0x8d72), 0xf2);
        // CB F2 0288
        gbc.setState(0xa026, 0xca69, 0x4bc0, 0x83c, 0xf2b, 0xb163, 0x1, 0x0);
        gbc.writeMem(0xa026, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xca69);
        EXPECT(gbc.pc(), 0xa028);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa026), 0xcb);
        EXPECT(gbc.readMem(0xa027), 0xf2);
        // CB F2 0289
        gbc.setState(0x7109, 0x1331, 0x3620, 0xeb3d, 0x435a, 0x3e2c, 0x0, 0x0);
        gbc.writeMem(0x7109, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x1331);
        EXPECT(gbc.pc(), 0x710b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 028A
        gbc.setState(0x3bc0, 0x318d, 0xd8e0, 0x5f68, 0x4ba3, 0x4334, 0x0, 0x0);
        gbc.writeMem(0x3bc0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x318d);
        EXPECT(gbc.pc(), 0x3bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 028B
        gbc.setState(0xe82, 0xc251, 0x91e0, 0x86bd, 0xc16c, 0x74d0, 0x0, 0x0);
        gbc.writeMem(0xe82, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc251);
        EXPECT(gbc.pc(), 0xe84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 028C
        gbc.setState(0x6929, 0x2541, 0x8d10, 0xac67, 0x1d97, 0x352, 0x0, 0x0);
        gbc.writeMem(0x6929, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2541);
        EXPECT(gbc.pc(), 0x692b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 028D
        gbc.setState(0x8b35, 0x52cb, 0xa250, 0x7a0b, 0x2d4d, 0xe07, 0x1, 0x0);
        gbc.writeMem(0x8b35, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x52cb);
        EXPECT(gbc.pc(), 0x8b37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b35), 0xcb);
        EXPECT(gbc.readMem(0x8b36), 0xf2);
        // CB F2 028E
        gbc.setState(0xeca7, 0x1317, 0x74e0, 0xf951, 0x3a12, 0x3f3d, 0x0, 0x0);
        gbc.writeMem(0xeca7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1317);
        EXPECT(gbc.pc(), 0xeca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeca7), 0xcb);
        EXPECT(gbc.readMem(0xeca8), 0xf2);
        // CB F2 028F
        gbc.setState(0xc954, 0x7296, 0xff30, 0x1cb4, 0x5066, 0x440, 0x0, 0x0);
        gbc.writeMem(0xc954, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7296);
        EXPECT(gbc.pc(), 0xc956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc954), 0xcb);
        EXPECT(gbc.readMem(0xc955), 0xf2);
        // CB F2 0290
        gbc.setState(0x4758, 0x36fc, 0x3490, 0xc7e7, 0x45bc, 0x73ec, 0x1, 0x0);
        gbc.writeMem(0x4758, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x36fc);
        EXPECT(gbc.pc(), 0x475a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0291
        gbc.setState(0x8900, 0x6ea8, 0x7680, 0x4aea, 0xef06, 0xda39, 0x1, 0x0);
        gbc.writeMem(0x8900, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6ea8);
        EXPECT(gbc.pc(), 0x8902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8900), 0xcb);
        EXPECT(gbc.readMem(0x8901), 0xf2);
        // CB F2 0292
        gbc.setState(0xdd2, 0xc8c9, 0x5650, 0xad8a, 0x4162, 0xac99, 0x0, 0x0);
        gbc.writeMem(0xdd2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xc8c9);
        EXPECT(gbc.pc(), 0xdd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0293
        gbc.setState(0x72e3, 0xc244, 0xc270, 0x5f70, 0x33eb, 0x7fe, 0x0, 0x1);
        gbc.writeMem(0x72e3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc244);
        EXPECT(gbc.pc(), 0x72e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0294
        gbc.setState(0x1300, 0x44a7, 0xda80, 0x78ed, 0x6c0a, 0x32f5, 0x0, 0x1);
        gbc.writeMem(0x1300, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x44a7);
        EXPECT(gbc.pc(), 0x1302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0295
        gbc.setState(0xc0c3, 0x1eb9, 0xe040, 0x2852, 0xccfe, 0x2d34, 0x1, 0x0);
        gbc.writeMem(0xc0c3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1eb9);
        EXPECT(gbc.pc(), 0xc0c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0c3), 0xcb);
        EXPECT(gbc.readMem(0xc0c4), 0xf2);
        // CB F2 0296
        gbc.setState(0x5510, 0x11b2, 0xf100, 0xec4e, 0x4eee, 0xb835, 0x1, 0x1);
        gbc.writeMem(0x5510, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x11b2);
        EXPECT(gbc.pc(), 0x5512);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0297
        gbc.setState(0xb505, 0x1759, 0xe8f0, 0x130, 0xa2b, 0xfa1d, 0x1, 0x1);
        gbc.writeMem(0xb505, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1759);
        EXPECT(gbc.pc(), 0xb507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb505), 0xcb);
        EXPECT(gbc.readMem(0xb506), 0xf2);
        // CB F2 0298
        gbc.setState(0x9ade, 0x457c, 0x50a0, 0x339a, 0x1883, 0x7320, 0x1, 0x0);
        gbc.writeMem(0x9ade, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x457c);
        EXPECT(gbc.pc(), 0x9ae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ade), 0xcb);
        EXPECT(gbc.readMem(0x9adf), 0xf2);
        // CB F2 0299
        gbc.setState(0x73a7, 0x8299, 0xadf0, 0x6939, 0xacd8, 0x7402, 0x0, 0x0);
        gbc.writeMem(0x73a7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8299);
        EXPECT(gbc.pc(), 0x73a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 029A
        gbc.setState(0x4148, 0x6cda, 0x7e80, 0x84c4, 0xd647, 0x4254, 0x0, 0x0);
        gbc.writeMem(0x4148, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6cda);
        EXPECT(gbc.pc(), 0x414a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 029B
        gbc.setState(0x8a28, 0xf6f3, 0x5200, 0xc6e5, 0x9889, 0x5d73, 0x0, 0x0);
        gbc.writeMem(0x8a28, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf6f3);
        EXPECT(gbc.pc(), 0x8a2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a28), 0xcb);
        EXPECT(gbc.readMem(0x8a29), 0xf2);
        // CB F2 029C
        gbc.setState(0x7ea8, 0x844c, 0xc8d0, 0xe68f, 0x9ff7, 0xe81f, 0x0, 0x1);
        gbc.writeMem(0x7ea8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x844c);
        EXPECT(gbc.pc(), 0x7eaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 029D
        gbc.setState(0x70b9, 0x72cd, 0xb1a0, 0x185f, 0xcbbc, 0x1ab6, 0x0, 0x0);
        gbc.writeMem(0x70b9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x72cd);
        EXPECT(gbc.pc(), 0x70bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 029E
        gbc.setState(0xd913, 0xcb80, 0xdf10, 0xbdf1, 0x7555, 0x8845, 0x0, 0x1);
        gbc.writeMem(0xd913, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xcb80);
        EXPECT(gbc.pc(), 0xd915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd913), 0xcb);
        EXPECT(gbc.readMem(0xd914), 0xf2);
        // CB F2 029F
        gbc.setState(0x8d89, 0xde1d, 0x9ee0, 0x4962, 0xdefa, 0xb3da, 0x1, 0x0);
        gbc.writeMem(0x8d89, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xde1d);
        EXPECT(gbc.pc(), 0x8d8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d89), 0xcb);
        EXPECT(gbc.readMem(0x8d8a), 0xf2);
        // CB F2 02A0
        gbc.setState(0x86c8, 0x9040, 0xc170, 0x3e2f, 0xeb76, 0x3e79, 0x0, 0x0);
        gbc.writeMem(0x86c8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9040);
        EXPECT(gbc.pc(), 0x86ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86c8), 0xcb);
        EXPECT(gbc.readMem(0x86c9), 0xf2);
        // CB F2 02A1
        gbc.setState(0x8919, 0x432a, 0x1140, 0x3b9a, 0xc56a, 0xad1b, 0x1, 0x0);
        gbc.writeMem(0x8919, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x432a);
        EXPECT(gbc.pc(), 0x891b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8919), 0xcb);
        EXPECT(gbc.readMem(0x891a), 0xf2);
        // CB F2 02A2
        gbc.setState(0x9dfa, 0xff6f, 0x42d0, 0x3c39, 0x890e, 0xcc1c, 0x0, 0x0);
        gbc.writeMem(0x9dfa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xff6f);
        EXPECT(gbc.pc(), 0x9dfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dfa), 0xcb);
        EXPECT(gbc.readMem(0x9dfb), 0xf2);
        // CB F2 02A3
        gbc.setState(0x7013, 0x2c38, 0x7fa0, 0xad66, 0xd2ca, 0xee2d, 0x1, 0x0);
        gbc.writeMem(0x7013, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x2c38);
        EXPECT(gbc.pc(), 0x7015);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02A4
        gbc.setState(0xef31, 0x9c46, 0xedb0, 0xcf0, 0x6e31, 0xb77d, 0x1, 0x1);
        gbc.writeMem(0xef31, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9c46);
        EXPECT(gbc.pc(), 0xef33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef31), 0xcb);
        EXPECT(gbc.readMem(0xef32), 0xf2);
        // CB F2 02A5
        gbc.setState(0x182a, 0x5dfa, 0xb0a0, 0x4ca3, 0x914, 0x68f6, 0x0, 0x0);
        gbc.writeMem(0x182a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5dfa);
        EXPECT(gbc.pc(), 0x182c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02A6
        gbc.setState(0xe4e9, 0x69, 0x26a0, 0x6388, 0x9996, 0xc223, 0x1, 0x0);
        gbc.writeMem(0xe4e9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x69);
        EXPECT(gbc.pc(), 0xe4eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4e9), 0xcb);
        EXPECT(gbc.readMem(0xe4ea), 0xf2);
        // CB F2 02A7
        gbc.setState(0x5f95, 0x4578, 0x6eb0, 0x87dc, 0x47ef, 0xe44e, 0x1, 0x0);
        gbc.writeMem(0x5f95, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4578);
        EXPECT(gbc.pc(), 0x5f97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02A8
        gbc.setState(0xa40f, 0x112c, 0x8940, 0x40a8, 0x5529, 0x6731, 0x0, 0x0);
        gbc.writeMem(0xa40f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x112c);
        EXPECT(gbc.pc(), 0xa411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa40f), 0xcb);
        EXPECT(gbc.readMem(0xa410), 0xf2);
        // CB F2 02A9
        gbc.setState(0x4e, 0xd2c9, 0xc7e0, 0x8f1c, 0x14a8, 0xb2b3, 0x0, 0x1);
        gbc.writeMem(0x4e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd2c9);
        EXPECT(gbc.pc(), 0x50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02AA
        gbc.setState(0x4730, 0x39a6, 0x6e90, 0x2f82, 0x9bbf, 0xae0d, 0x0, 0x1);
        gbc.writeMem(0x4730, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x39a6);
        EXPECT(gbc.pc(), 0x4732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02AB
        gbc.setState(0x8bb8, 0x9574, 0x5b90, 0xff25, 0xf377, 0x1607, 0x0, 0x1);
        gbc.writeMem(0x8bb8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9574);
        EXPECT(gbc.pc(), 0x8bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bb8), 0xcb);
        EXPECT(gbc.readMem(0x8bb9), 0xf2);
        // CB F2 02AC
        gbc.setState(0xc60c, 0xd56d, 0xc5e0, 0x444f, 0x2291, 0xfe67, 0x0, 0x0);
        gbc.writeMem(0xc60c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd56d);
        EXPECT(gbc.pc(), 0xc60e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc60c), 0xcb);
        EXPECT(gbc.readMem(0xc60d), 0xf2);
        // CB F2 02AE
        gbc.setState(0x3e5a, 0x24ee, 0x1770, 0xeced, 0xbb04, 0x2e23, 0x1, 0x1);
        gbc.writeMem(0x3e5a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x24ee);
        EXPECT(gbc.pc(), 0x3e5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02AF
        gbc.setState(0x816b, 0x76e9, 0xcaf0, 0x3256, 0xf2d5, 0x1685, 0x0, 0x1);
        gbc.writeMem(0x816b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x76e9);
        EXPECT(gbc.pc(), 0x816d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x816b), 0xcb);
        EXPECT(gbc.readMem(0x816c), 0xf2);
        // CB F2 02B0
        gbc.setState(0x1dd8, 0xfb7d, 0xeca0, 0x2908, 0xccea, 0x173d, 0x0, 0x1);
        gbc.writeMem(0x1dd8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xfb7d);
        EXPECT(gbc.pc(), 0x1dda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02B1
        gbc.setState(0xa7cb, 0x8fea, 0x7170, 0x2110, 0xb4c5, 0xcdbb, 0x0, 0x1);
        gbc.writeMem(0xa7cb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8fea);
        EXPECT(gbc.pc(), 0xa7cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7cb), 0xcb);
        EXPECT(gbc.readMem(0xa7cc), 0xf2);
        // CB F2 02B2
        gbc.setState(0x33ec, 0xb813, 0x4e50, 0xbac, 0x8c3b, 0xa2ad, 0x1, 0x0);
        gbc.writeMem(0x33ec, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb813);
        EXPECT(gbc.pc(), 0x33ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02B4
        gbc.setState(0x4015, 0x4fd7, 0x3e20, 0xec20, 0xe3b2, 0xd8fa, 0x1, 0x1);
        gbc.writeMem(0x4015, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4fd7);
        EXPECT(gbc.pc(), 0x4017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02B5
        gbc.setState(0xc8a3, 0x68fa, 0x5770, 0x1bf5, 0xa38c, 0x56ab, 0x1, 0x1);
        gbc.writeMem(0xc8a3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x68fa);
        EXPECT(gbc.pc(), 0xc8a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8a3), 0xcb);
        EXPECT(gbc.readMem(0xc8a4), 0xf2);
        // CB F2 02B6
        gbc.setState(0x883c, 0x672d, 0x7590, 0xaab2, 0x85a4, 0x47eb, 0x0, 0x1);
        gbc.writeMem(0x883c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x672d);
        EXPECT(gbc.pc(), 0x883e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x883c), 0xcb);
        EXPECT(gbc.readMem(0x883d), 0xf2);
        // CB F2 02B7
        gbc.setState(0x9935, 0x555d, 0xa7c0, 0x8b0f, 0x3cf1, 0x25a7, 0x0, 0x1);
        gbc.writeMem(0x9935, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x555d);
        EXPECT(gbc.pc(), 0x9937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9935), 0xcb);
        EXPECT(gbc.readMem(0x9936), 0xf2);
        // CB F2 02B8
        gbc.setState(0x1f59, 0x66ae, 0xa970, 0xfa85, 0x3945, 0x30cd, 0x1, 0x0);
        gbc.writeMem(0x1f59, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x66ae);
        EXPECT(gbc.pc(), 0x1f5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02B9
        gbc.setState(0x2ada, 0xf4df, 0xedb0, 0x154c, 0x9279, 0xf538, 0x1, 0x0);
        gbc.writeMem(0x2ada, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf4df);
        EXPECT(gbc.pc(), 0x2adc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02BA
        gbc.setState(0xb3f0, 0xce74, 0xaf70, 0xcca7, 0xcbc2, 0x7c96, 0x0, 0x0);
        gbc.writeMem(0xb3f0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xce74);
        EXPECT(gbc.pc(), 0xb3f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f0), 0xcb);
        EXPECT(gbc.readMem(0xb3f1), 0xf2);
        // CB F2 02BB
        gbc.setState(0xad13, 0xcd76, 0x63c0, 0xbe4c, 0xd6ef, 0x43e9, 0x0, 0x0);
        gbc.writeMem(0xad13, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xcd76);
        EXPECT(gbc.pc(), 0xad15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad13), 0xcb);
        EXPECT(gbc.readMem(0xad14), 0xf2);
        // CB F2 02BC
        gbc.setState(0xca69, 0xb7d0, 0xdb60, 0xabc3, 0xb7c1, 0x2d53, 0x0, 0x1);
        gbc.writeMem(0xca69, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb7d0);
        EXPECT(gbc.pc(), 0xca6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca69), 0xcb);
        EXPECT(gbc.readMem(0xca6a), 0xf2);
        // CB F2 02BD
        gbc.setState(0x5a9a, 0x8926, 0xb430, 0x3816, 0xc2e8, 0x5472, 0x1, 0x0);
        gbc.writeMem(0x5a9a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8926);
        EXPECT(gbc.pc(), 0x5a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02BE
        gbc.setState(0xadf7, 0x427f, 0xc790, 0x41cd, 0x4063, 0x1dc2, 0x0, 0x0);
        gbc.writeMem(0xadf7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x427f);
        EXPECT(gbc.pc(), 0xadf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadf7), 0xcb);
        EXPECT(gbc.readMem(0xadf8), 0xf2);
        // CB F2 02BF
        gbc.setState(0x5a15, 0x8430, 0xf320, 0x45b7, 0xb125, 0x73e6, 0x1, 0x0);
        gbc.writeMem(0x5a15, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x8430);
        EXPECT(gbc.pc(), 0x5a17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02C0
        gbc.setState(0x6e0a, 0x7b87, 0x5a40, 0xc0c3, 0xe331, 0x8445, 0x1, 0x1);
        gbc.writeMem(0x6e0a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7b87);
        EXPECT(gbc.pc(), 0x6e0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02C1
        gbc.setState(0xa40b, 0xb026, 0xc980, 0xf2e7, 0xbb6c, 0x935b, 0x1, 0x1);
        gbc.writeMem(0xa40b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb026);
        EXPECT(gbc.pc(), 0xa40d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa40b), 0xcb);
        EXPECT(gbc.readMem(0xa40c), 0xf2);
        // CB F2 02C2
        gbc.setState(0xaab3, 0xbd1f, 0x5990, 0x7b24, 0x38f1, 0x97e3, 0x1, 0x0);
        gbc.writeMem(0xaab3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbd1f);
        EXPECT(gbc.pc(), 0xaab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaab3), 0xcb);
        EXPECT(gbc.readMem(0xaab4), 0xf2);
        // CB F2 02C3
        gbc.setState(0x987a, 0x12d3, 0x4d00, 0x2fb5, 0xdc9d, 0x656b, 0x0, 0x0);
        gbc.writeMem(0x987a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x12d3);
        EXPECT(gbc.pc(), 0x987c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x987a), 0xcb);
        EXPECT(gbc.readMem(0x987b), 0xf2);
        // CB F2 02C4
        gbc.setState(0xc227, 0x9ce2, 0x58c0, 0xb4d2, 0x35aa, 0x460a, 0x0, 0x0);
        gbc.writeMem(0xc227, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x9ce2);
        EXPECT(gbc.pc(), 0xc229);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc227), 0xcb);
        EXPECT(gbc.readMem(0xc228), 0xf2);
        // CB F2 02C5
        gbc.setState(0xa94, 0x83e7, 0xa770, 0x1bcf, 0xe0d6, 0x3db9, 0x0, 0x0);
        gbc.writeMem(0xa94, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x83e7);
        EXPECT(gbc.pc(), 0xa96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02C6
        gbc.setState(0xc4b9, 0xc8e0, 0xa6f0, 0x96a1, 0xbd4a, 0xb73d, 0x0, 0x0);
        gbc.writeMem(0xc4b9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc8e0);
        EXPECT(gbc.pc(), 0xc4bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4b9), 0xcb);
        EXPECT(gbc.readMem(0xc4ba), 0xf2);
        // CB F2 02C7
        gbc.setState(0x7d2a, 0x1f6, 0xf2b0, 0xf392, 0x5fc, 0x714a, 0x1, 0x0);
        gbc.writeMem(0x7d2a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1f6);
        EXPECT(gbc.pc(), 0x7d2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02C8
        gbc.setState(0xbc57, 0x85a0, 0xed20, 0x4a11, 0x4ce, 0xdde4, 0x1, 0x1);
        gbc.writeMem(0xbc57, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x85a0);
        EXPECT(gbc.pc(), 0xbc59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc57), 0xcb);
        EXPECT(gbc.readMem(0xbc58), 0xf2);
        // CB F2 02C9
        gbc.setState(0xafe6, 0x66af, 0x9e50, 0x95f5, 0xf383, 0x56db, 0x0, 0x1);
        gbc.writeMem(0xafe6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x66af);
        EXPECT(gbc.pc(), 0xafe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafe6), 0xcb);
        EXPECT(gbc.readMem(0xafe7), 0xf2);
        // CB F2 02CA
        gbc.setState(0x4631, 0xe9a7, 0x8c50, 0xc017, 0xb10b, 0x4403, 0x0, 0x1);
        gbc.writeMem(0x4631, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe9a7);
        EXPECT(gbc.pc(), 0x4633);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02CB
        gbc.setState(0x37ab, 0x10a6, 0x7c80, 0xa758, 0x9ab0, 0x8a66, 0x0, 0x0);
        gbc.writeMem(0x37ab, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x10a6);
        EXPECT(gbc.pc(), 0x37ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02CC
        gbc.setState(0x6d73, 0xa461, 0x1060, 0x1d8d, 0xb0ad, 0x6c4f, 0x0, 0x0);
        gbc.writeMem(0x6d73, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa461);
        EXPECT(gbc.pc(), 0x6d75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02CD
        gbc.setState(0x146e, 0x313e, 0xf7d0, 0x6b12, 0xe9e9, 0xaa54, 0x1, 0x0);
        gbc.writeMem(0x146e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x313e);
        EXPECT(gbc.pc(), 0x1470);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02CE
        gbc.setState(0xe7fe, 0x9396, 0x72e0, 0xe170, 0xd4b, 0x54a1, 0x0, 0x1);
        gbc.writeMem(0xe7fe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9396);
        EXPECT(gbc.pc(), 0xe800);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7fe), 0xcb);
        EXPECT(gbc.readMem(0xe7ff), 0xf2);
        // CB F2 02CF
        gbc.setState(0x8040, 0x7e4a, 0xe290, 0xc356, 0xf0f0, 0x19b4, 0x1, 0x0);
        gbc.writeMem(0x8040, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7e4a);
        EXPECT(gbc.pc(), 0x8042);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8040), 0xcb);
        EXPECT(gbc.readMem(0x8041), 0xf2);
        // CB F2 02D0
        gbc.setState(0xe350, 0xee0e, 0x9200, 0x1f48, 0x8f10, 0x64f5, 0x0, 0x0);
        gbc.writeMem(0xe350, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xee0e);
        EXPECT(gbc.pc(), 0xe352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe350), 0xcb);
        EXPECT(gbc.readMem(0xe351), 0xf2);
        // CB F2 02D2
        gbc.setState(0x91, 0x3389, 0x2200, 0xdf12, 0x7f90, 0x667f, 0x0, 0x1);
        gbc.writeMem(0x91, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3389);
        EXPECT(gbc.pc(), 0x93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02D3
        gbc.setState(0x84cc, 0x47f1, 0xa540, 0xdb6a, 0x911b, 0xc345, 0x1, 0x1);
        gbc.writeMem(0x84cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x47f1);
        EXPECT(gbc.pc(), 0x84ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84cc), 0xcb);
        EXPECT(gbc.readMem(0x84cd), 0xf2);
        // CB F2 02D5
        gbc.setState(0x692b, 0x9354, 0x3a80, 0x2894, 0x5ef0, 0xa5f2, 0x1, 0x1);
        gbc.writeMem(0x692b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9354);
        EXPECT(gbc.pc(), 0x692d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02D6
        gbc.setState(0x2c10, 0xfd27, 0x3f90, 0x497e, 0x4394, 0xde8, 0x0, 0x0);
        gbc.writeMem(0x2c10, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfd27);
        EXPECT(gbc.pc(), 0x2c12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02D7
        gbc.setState(0x3204, 0x8742, 0xf2b0, 0xe160, 0x17c3, 0xe18f, 0x0, 0x0);
        gbc.writeMem(0x3204, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8742);
        EXPECT(gbc.pc(), 0x3206);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02D8
        gbc.setState(0x4b82, 0x10cd, 0x9890, 0xb7fb, 0x6b18, 0x465e, 0x0, 0x0);
        gbc.writeMem(0x4b82, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x10cd);
        EXPECT(gbc.pc(), 0x4b84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02D9
        gbc.setState(0x2781, 0x6a2d, 0xbb90, 0x7592, 0x3bdf, 0xa6df, 0x1, 0x1);
        gbc.writeMem(0x2781, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x6a2d);
        EXPECT(gbc.pc(), 0x2783);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02DA
        gbc.setState(0xe229, 0xca27, 0x7df0, 0x926f, 0xfc36, 0xcbc1, 0x1, 0x0);
        gbc.writeMem(0xe229, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xca27);
        EXPECT(gbc.pc(), 0xe22b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe229), 0xcb);
        EXPECT(gbc.readMem(0xe22a), 0xf2);
        // CB F2 02DB
        gbc.setState(0xaec5, 0x2560, 0xb190, 0xcd98, 0x2691, 0x2fd, 0x0, 0x1);
        gbc.writeMem(0xaec5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2560);
        EXPECT(gbc.pc(), 0xaec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec5), 0xcb);
        EXPECT(gbc.readMem(0xaec6), 0xf2);
        // CB F2 02DC
        gbc.setState(0x263, 0x9322, 0xd30, 0x6b29, 0xfcc3, 0xe2f, 0x1, 0x0);
        gbc.writeMem(0x263, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9322);
        EXPECT(gbc.pc(), 0x265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02DD
        gbc.setState(0xe88e, 0xc4b4, 0xfe00, 0x645e, 0x935a, 0xc0ba, 0x0, 0x0);
        gbc.writeMem(0xe88e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xc4b4);
        EXPECT(gbc.pc(), 0xe890);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe88e), 0xcb);
        EXPECT(gbc.readMem(0xe88f), 0xf2);
        // CB F2 02DE
        gbc.setState(0xa580, 0x4796, 0x9e80, 0xa601, 0xaf1b, 0x4e35, 0x1, 0x0);
        gbc.writeMem(0xa580, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x4796);
        EXPECT(gbc.pc(), 0xa582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa580), 0xcb);
        EXPECT(gbc.readMem(0xa581), 0xf2);
        // CB F2 02DF
        gbc.setState(0x7b43, 0x2159, 0xedc0, 0x7289, 0xfd10, 0x7bc, 0x0, 0x1);
        gbc.writeMem(0x7b43, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2159);
        EXPECT(gbc.pc(), 0x7b45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02E0
        gbc.setState(0x75fc, 0xbec6, 0xe90, 0x1778, 0x1655, 0xb5a2, 0x0, 0x0);
        gbc.writeMem(0x75fc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbec6);
        EXPECT(gbc.pc(), 0x75fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02E1
        gbc.setState(0x725e, 0xd29b, 0x1150, 0x7a7c, 0x2018, 0x18fb, 0x1, 0x0);
        gbc.writeMem(0x725e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd29b);
        EXPECT(gbc.pc(), 0x7260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02E2
        gbc.setState(0xd6e9, 0xca82, 0x3fa0, 0x2c2, 0x2180, 0xd5e6, 0x1, 0x1);
        gbc.writeMem(0xd6e9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xca82);
        EXPECT(gbc.pc(), 0xd6eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6e9), 0xcb);
        EXPECT(gbc.readMem(0xd6ea), 0xf2);
        // CB F2 02E4
        gbc.setState(0xc7a2, 0x612c, 0xb5d0, 0x38d9, 0xaf78, 0x3181, 0x1, 0x0);
        gbc.writeMem(0xc7a2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x612c);
        EXPECT(gbc.pc(), 0xc7a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7a2), 0xcb);
        EXPECT(gbc.readMem(0xc7a3), 0xf2);
        // CB F2 02E5
        gbc.setState(0x514b, 0x6ac6, 0x4bc0, 0x1acf, 0xe22, 0xd89d, 0x0, 0x1);
        gbc.writeMem(0x514b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6ac6);
        EXPECT(gbc.pc(), 0x514d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02E6
        gbc.setState(0x324, 0x7ea, 0x110, 0xb1c4, 0xfd9f, 0xf1a3, 0x1, 0x1);
        gbc.writeMem(0x324, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7ea);
        EXPECT(gbc.pc(), 0x326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02E7
        gbc.setState(0xa601, 0x6f69, 0x87e0, 0x99aa, 0xe70f, 0xdd1e, 0x1, 0x0);
        gbc.writeMem(0xa601, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6f69);
        EXPECT(gbc.pc(), 0xa603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa601), 0xcb);
        EXPECT(gbc.readMem(0xa602), 0xf2);
        // CB F2 02E8
        gbc.setState(0xd3ca, 0xb54e, 0x5020, 0xb6d2, 0x228f, 0xb8e4, 0x1, 0x0);
        gbc.writeMem(0xd3ca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb54e);
        EXPECT(gbc.pc(), 0xd3cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ca), 0xcb);
        EXPECT(gbc.readMem(0xd3cb), 0xf2);
        // CB F2 02E9
        gbc.setState(0xb818, 0x2729, 0xcef0, 0x2feb, 0x66a, 0xed8f, 0x1, 0x0);
        gbc.writeMem(0xb818, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2729);
        EXPECT(gbc.pc(), 0xb81a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb818), 0xcb);
        EXPECT(gbc.readMem(0xb819), 0xf2);
        // CB F2 02EA
        gbc.setState(0x924e, 0x10ce, 0xa9e0, 0x857e, 0x27b6, 0x2138, 0x1, 0x1);
        gbc.writeMem(0x924e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x10ce);
        EXPECT(gbc.pc(), 0x9250);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x924e), 0xcb);
        EXPECT(gbc.readMem(0x924f), 0xf2);
        // CB F2 02EB
        gbc.setState(0x6106, 0x7f8b, 0x7830, 0xa339, 0xaca, 0xa980, 0x1, 0x1);
        gbc.writeMem(0x6106, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7f8b);
        EXPECT(gbc.pc(), 0x6108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02EC
        gbc.setState(0x7a8, 0xd465, 0xb190, 0x8b7e, 0x53b9, 0xb1c5, 0x0, 0x0);
        gbc.writeMem(0x7a8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd465);
        EXPECT(gbc.pc(), 0x7aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02ED
        gbc.setState(0x2cd3, 0x4f77, 0x63b0, 0xc61f, 0xbbf6, 0xe5e5, 0x1, 0x0);
        gbc.writeMem(0x2cd3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x4f77);
        EXPECT(gbc.pc(), 0x2cd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02EE
        gbc.setState(0x85ff, 0x144d, 0xd600, 0x816f, 0x4e75, 0x985b, 0x0, 0x0);
        gbc.writeMem(0x85ff, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x144d);
        EXPECT(gbc.pc(), 0x8601);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ff), 0xcb);
        EXPECT(gbc.readMem(0x8600), 0xf2);
        // CB F2 02EF
        gbc.setState(0x9562, 0x3336, 0x2bc0, 0x9176, 0xea73, 0x7d07, 0x0, 0x0);
        gbc.writeMem(0x9562, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3336);
        EXPECT(gbc.pc(), 0x9564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9562), 0xcb);
        EXPECT(gbc.readMem(0x9563), 0xf2);
        // CB F2 02F0
        gbc.setState(0x7cab, 0x64c1, 0xcfd0, 0x60c5, 0x7f6, 0x836a, 0x0, 0x0);
        gbc.writeMem(0x7cab, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x64c1);
        EXPECT(gbc.pc(), 0x7cad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02F1
        gbc.setState(0x335d, 0x8a45, 0x68a0, 0x84e6, 0xa461, 0x7c1d, 0x0, 0x1);
        gbc.writeMem(0x335d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8a45);
        EXPECT(gbc.pc(), 0x335f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02F3
        gbc.setState(0x1d74, 0x3d1f, 0xb960, 0x42f9, 0xb621, 0x61b1, 0x0, 0x1);
        gbc.writeMem(0x1d74, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3d1f);
        EXPECT(gbc.pc(), 0x1d76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02F4
        gbc.setState(0x3bad, 0x3022, 0xf220, 0x73c6, 0xd79d, 0x59ac, 0x0, 0x1);
        gbc.writeMem(0x3bad, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3022);
        EXPECT(gbc.pc(), 0x3baf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02F5
        gbc.setState(0x9c01, 0xa8da, 0xe3a0, 0x4d99, 0xbfd1, 0xebec, 0x1, 0x1);
        gbc.writeMem(0x9c01, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa8da);
        EXPECT(gbc.pc(), 0x9c03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c01), 0xcb);
        EXPECT(gbc.readMem(0x9c02), 0xf2);
        // CB F2 02F6
        gbc.setState(0xbdd0, 0x2924, 0x9290, 0x6258, 0xc9de, 0x5743, 0x0, 0x1);
        gbc.writeMem(0xbdd0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2924);
        EXPECT(gbc.pc(), 0xbdd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdd0), 0xcb);
        EXPECT(gbc.readMem(0xbdd1), 0xf2);
        // CB F2 02F7
        gbc.setState(0x5de4, 0x590f, 0x5880, 0x4216, 0x7684, 0x5415, 0x0, 0x1);
        gbc.writeMem(0x5de4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x590f);
        EXPECT(gbc.pc(), 0x5de6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02F8
        gbc.setState(0xd3a0, 0x29b3, 0x67e0, 0x32bc, 0xe0fe, 0x47b2, 0x0, 0x1);
        gbc.writeMem(0xd3a0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x29b3);
        EXPECT(gbc.pc(), 0xd3a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3a0), 0xcb);
        EXPECT(gbc.readMem(0xd3a1), 0xf2);
        // CB F2 02F9
        gbc.setState(0x33bb, 0x6b6b, 0xf210, 0x9d58, 0xff1a, 0x8347, 0x1, 0x0);
        gbc.writeMem(0x33bb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x6b6b);
        EXPECT(gbc.pc(), 0x33bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 02FA
        gbc.setState(0x6e8d, 0xec44, 0xc2e0, 0x7d5, 0xe4fc, 0x7ad4, 0x1, 0x0);
        gbc.writeMem(0x6e8d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xec44);
        EXPECT(gbc.pc(), 0x6e8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02FB
        gbc.setState(0x14b, 0x30, 0xbfa0, 0xd252, 0x88de, 0x24af, 0x1, 0x1);
        gbc.writeMem(0x14b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x30);
        EXPECT(gbc.pc(), 0x14d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 02FC
        gbc.setState(0x9d18, 0x9c96, 0x6ca0, 0xdff6, 0xb926, 0x8332, 0x0, 0x1);
        gbc.writeMem(0x9d18, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9c96);
        EXPECT(gbc.pc(), 0x9d1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d18), 0xcb);
        EXPECT(gbc.readMem(0x9d19), 0xf2);
        // CB F2 02FD
        gbc.setState(0xcdaf, 0x9bf0, 0xebc0, 0xd4ab, 0xf909, 0x8806, 0x0, 0x0);
        gbc.writeMem(0xcdaf, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9bf0);
        EXPECT(gbc.pc(), 0xcdb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdaf), 0xcb);
        EXPECT(gbc.readMem(0xcdb0), 0xf2);
        // CB F2 02FE
        gbc.setState(0x264d, 0xa868, 0x85e0, 0x7031, 0x4378, 0x493b, 0x1, 0x0);
        gbc.writeMem(0x264d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa868);
        EXPECT(gbc.pc(), 0x264f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0300
        gbc.setState(0x7d04, 0x8784, 0xe690, 0xf689, 0xe08e, 0xd9a3, 0x1, 0x0);
        gbc.writeMem(0x7d04, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8784);
        EXPECT(gbc.pc(), 0x7d06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0301
        gbc.setState(0x4df5, 0x7d41, 0xd2c0, 0x6038, 0x9eaf, 0xeb0, 0x0, 0x0);
        gbc.writeMem(0x4df5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7d41);
        EXPECT(gbc.pc(), 0x4df7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0302
        gbc.setState(0xc4de, 0xbde2, 0x9f10, 0xca09, 0x8ec4, 0xb820, 0x0, 0x0);
        gbc.writeMem(0xc4de, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbde2);
        EXPECT(gbc.pc(), 0xc4e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4de), 0xcb);
        EXPECT(gbc.readMem(0xc4df), 0xf2);
        // CB F2 0303
        gbc.setState(0x312d, 0xceb, 0x1b60, 0xc935, 0x1a70, 0x3bd4, 0x1, 0x1);
        gbc.writeMem(0x312d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xceb);
        EXPECT(gbc.pc(), 0x312f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0304
        gbc.setState(0x9853, 0x86d5, 0x6d90, 0xe826, 0x687d, 0xea11, 0x1, 0x1);
        gbc.writeMem(0x9853, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x86d5);
        EXPECT(gbc.pc(), 0x9855);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9853), 0xcb);
        EXPECT(gbc.readMem(0x9854), 0xf2);
        // CB F2 0305
        gbc.setState(0x322e, 0x61ca, 0x7ab0, 0xa6b0, 0x6acf, 0x532f, 0x1, 0x0);
        gbc.writeMem(0x322e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x61ca);
        EXPECT(gbc.pc(), 0x3230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0306
        gbc.setState(0x726b, 0xcdb6, 0x4c40, 0xcfb6, 0xb8a6, 0x559f, 0x0, 0x1);
        gbc.writeMem(0x726b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcdb6);
        EXPECT(gbc.pc(), 0x726d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0307
        gbc.setState(0x904f, 0xafe7, 0xd690, 0x2f53, 0xb9b7, 0x4034, 0x0, 0x1);
        gbc.writeMem(0x904f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xafe7);
        EXPECT(gbc.pc(), 0x9051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x904f), 0xcb);
        EXPECT(gbc.readMem(0x9050), 0xf2);
        // CB F2 0308
        gbc.setState(0xad5b, 0x1c30, 0xf790, 0x1e3, 0xdddd, 0x4af9, 0x0, 0x0);
        gbc.writeMem(0xad5b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x1c30);
        EXPECT(gbc.pc(), 0xad5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad5b), 0xcb);
        EXPECT(gbc.readMem(0xad5c), 0xf2);
        // CB F2 0309
        gbc.setState(0xc3f3, 0x5b81, 0xd800, 0x8bf7, 0x8e47, 0x4fa7, 0x0, 0x1);
        gbc.writeMem(0xc3f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5b81);
        EXPECT(gbc.pc(), 0xc3f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3f3), 0xcb);
        EXPECT(gbc.readMem(0xc3f4), 0xf2);
        // CB F2 030A
        gbc.setState(0xae73, 0x403a, 0x61f0, 0x3cd7, 0xf980, 0x6faa, 0x1, 0x0);
        gbc.writeMem(0xae73, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x403a);
        EXPECT(gbc.pc(), 0xae75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae73), 0xcb);
        EXPECT(gbc.readMem(0xae74), 0xf2);
        // CB F2 030C
        gbc.setState(0xe042, 0xda1d, 0x65d0, 0x8580, 0x1a35, 0x6502, 0x1, 0x0);
        gbc.writeMem(0xe042, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xda1d);
        EXPECT(gbc.pc(), 0xe044);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe042), 0xcb);
        EXPECT(gbc.readMem(0xe043), 0xf2);
        // CB F2 030D
        gbc.setState(0xab37, 0x5c66, 0x1860, 0xd634, 0x5ebe, 0x381e, 0x0, 0x0);
        gbc.writeMem(0xab37, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5c66);
        EXPECT(gbc.pc(), 0xab39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab37), 0xcb);
        EXPECT(gbc.readMem(0xab38), 0xf2);
        // CB F2 030E
        gbc.setState(0x8b25, 0x4e0c, 0x5130, 0x1c16, 0x5d38, 0x335a, 0x1, 0x1);
        gbc.writeMem(0x8b25, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4e0c);
        EXPECT(gbc.pc(), 0x8b27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b25), 0xcb);
        EXPECT(gbc.readMem(0x8b26), 0xf2);
        // CB F2 030F
        gbc.setState(0x9d87, 0xebf6, 0xcac0, 0xf15e, 0xd43f, 0x479b, 0x0, 0x1);
        gbc.writeMem(0x9d87, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xebf6);
        EXPECT(gbc.pc(), 0x9d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d87), 0xcb);
        EXPECT(gbc.readMem(0x9d88), 0xf2);
        // CB F2 0310
        gbc.setState(0xaf71, 0x3c49, 0x1030, 0xfb93, 0xbf10, 0x9e9f, 0x1, 0x1);
        gbc.writeMem(0xaf71, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3c49);
        EXPECT(gbc.pc(), 0xaf73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf71), 0xcb);
        EXPECT(gbc.readMem(0xaf72), 0xf2);
        // CB F2 0311
        gbc.setState(0xaad3, 0xe37b, 0xb6a0, 0x34ff, 0x1cf6, 0xe615, 0x0, 0x1);
        gbc.writeMem(0xaad3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe37b);
        EXPECT(gbc.pc(), 0xaad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaad3), 0xcb);
        EXPECT(gbc.readMem(0xaad4), 0xf2);
        // CB F2 0312
        gbc.setState(0x8b0d, 0x592e, 0xe0b0, 0xe3c0, 0x34ad, 0xd057, 0x0, 0x0);
        gbc.writeMem(0x8b0d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x592e);
        EXPECT(gbc.pc(), 0x8b0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b0d), 0xcb);
        EXPECT(gbc.readMem(0x8b0e), 0xf2);
        // CB F2 0313
        gbc.setState(0x12f7, 0x2678, 0x1290, 0x8de, 0x31f2, 0xd25f, 0x0, 0x0);
        gbc.writeMem(0x12f7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2678);
        EXPECT(gbc.pc(), 0x12f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0314
        gbc.setState(0x4441, 0xa075, 0x1680, 0x84cb, 0xbbfa, 0x418e, 0x1, 0x1);
        gbc.writeMem(0x4441, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa075);
        EXPECT(gbc.pc(), 0x4443);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0315
        gbc.setState(0xada, 0x388b, 0x1d70, 0x6b20, 0x2635, 0xa502, 0x1, 0x0);
        gbc.writeMem(0xada, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x388b);
        EXPECT(gbc.pc(), 0xadc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0316
        gbc.setState(0x85fd, 0x47c, 0x4720, 0x3571, 0xb7f, 0xb276, 0x0, 0x0);
        gbc.writeMem(0x85fd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x47c);
        EXPECT(gbc.pc(), 0x85ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85fd), 0xcb);
        EXPECT(gbc.readMem(0x85fe), 0xf2);
        // CB F2 0317
        gbc.setState(0x2b0a, 0xb5e0, 0x9e50, 0x100f, 0x59e4, 0x1711, 0x0, 0x1);
        gbc.writeMem(0x2b0a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb5e0);
        EXPECT(gbc.pc(), 0x2b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0318
        gbc.setState(0x4c8b, 0xf466, 0xfd40, 0x9a70, 0x3905, 0x17c5, 0x1, 0x1);
        gbc.writeMem(0x4c8b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf466);
        EXPECT(gbc.pc(), 0x4c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0319
        gbc.setState(0x7c13, 0x4c7e, 0xd460, 0xd967, 0x625c, 0xe51a, 0x1, 0x1);
        gbc.writeMem(0x7c13, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4c7e);
        EXPECT(gbc.pc(), 0x7c15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 031A
        gbc.setState(0x5954, 0xc972, 0xc330, 0x4dbd, 0x5299, 0x2782, 0x0, 0x0);
        gbc.writeMem(0x5954, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xc972);
        EXPECT(gbc.pc(), 0x5956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 031B
        gbc.setState(0xecbd, 0x8ce1, 0xdd00, 0x4b69, 0x21c4, 0x1e88, 0x1, 0x1);
        gbc.writeMem(0xecbd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x8ce1);
        EXPECT(gbc.pc(), 0xecbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecbd), 0xcb);
        EXPECT(gbc.readMem(0xecbe), 0xf2);
        // CB F2 031C
        gbc.setState(0x6822, 0xb4ca, 0xade0, 0x9e16, 0x4abc, 0x2df5, 0x1, 0x1);
        gbc.writeMem(0x6822, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xb4ca);
        EXPECT(gbc.pc(), 0x6824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 031D
        gbc.setState(0x1690, 0xf258, 0xd370, 0xb33a, 0xcf53, 0xb596, 0x1, 0x1);
        gbc.writeMem(0x1690, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf258);
        EXPECT(gbc.pc(), 0x1692);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 031E
        gbc.setState(0x32fb, 0x2e95, 0x8cd0, 0x819f, 0x4644, 0x9aa7, 0x0, 0x0);
        gbc.writeMem(0x32fb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2e95);
        EXPECT(gbc.pc(), 0x32fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 031F
        gbc.setState(0xeee5, 0x6e35, 0xe710, 0xf25a, 0x9e5c, 0x5027, 0x1, 0x0);
        gbc.writeMem(0xeee5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x6e35);
        EXPECT(gbc.pc(), 0xeee7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeee5), 0xcb);
        EXPECT(gbc.readMem(0xeee6), 0xf2);
        // CB F2 0320
        gbc.setState(0x96f2, 0x803, 0x44d0, 0xd9bf, 0xbf4d, 0xe415, 0x0, 0x1);
        gbc.writeMem(0x96f2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x803);
        EXPECT(gbc.pc(), 0x96f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96f2), 0xcb);
        EXPECT(gbc.readMem(0x96f3), 0xf2);
        // CB F2 0321
        gbc.setState(0x1817, 0xa32b, 0xcab0, 0x1783, 0x102f, 0xe275, 0x0, 0x0);
        gbc.writeMem(0x1817, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa32b);
        EXPECT(gbc.pc(), 0x1819);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0322
        gbc.setState(0xa75f, 0xebdd, 0x3330, 0x55b9, 0x8eb5, 0x87ba, 0x0, 0x0);
        gbc.writeMem(0xa75f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xebdd);
        EXPECT(gbc.pc(), 0xa761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa75f), 0xcb);
        EXPECT(gbc.readMem(0xa760), 0xf2);
        // CB F2 0323
        gbc.setState(0x63ca, 0x28b4, 0x7030, 0xe771, 0xce58, 0xced7, 0x1, 0x1);
        gbc.writeMem(0x63ca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x28b4);
        EXPECT(gbc.pc(), 0x63cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0324
        gbc.setState(0x929d, 0x709c, 0x80a0, 0x578, 0xba04, 0x8801, 0x0, 0x0);
        gbc.writeMem(0x929d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x709c);
        EXPECT(gbc.pc(), 0x929f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x929d), 0xcb);
        EXPECT(gbc.readMem(0x929e), 0xf2);
        // CB F2 0325
        gbc.setState(0x3d13, 0xa48f, 0x19f0, 0xe892, 0xb7be, 0x1af3, 0x1, 0x0);
        gbc.writeMem(0x3d13, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa48f);
        EXPECT(gbc.pc(), 0x3d15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0326
        gbc.setState(0x18b4, 0xb192, 0x2ba0, 0x5981, 0x7c16, 0xacfd, 0x1, 0x1);
        gbc.writeMem(0x18b4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xb192);
        EXPECT(gbc.pc(), 0x18b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0327
        gbc.setState(0x63e9, 0x33b7, 0xaf30, 0xf79, 0xd291, 0x3bbf, 0x1, 0x1);
        gbc.writeMem(0x63e9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x33b7);
        EXPECT(gbc.pc(), 0x63eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0328
        gbc.setState(0xd825, 0xb104, 0x13c0, 0x3961, 0xe311, 0xa850, 0x0, 0x1);
        gbc.writeMem(0xd825, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb104);
        EXPECT(gbc.pc(), 0xd827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd825), 0xcb);
        EXPECT(gbc.readMem(0xd826), 0xf2);
        // CB F2 0329
        gbc.setState(0xe648, 0x8360, 0x8780, 0x4e30, 0x192f, 0xdbab, 0x1, 0x0);
        gbc.writeMem(0xe648, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x8360);
        EXPECT(gbc.pc(), 0xe64a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe648), 0xcb);
        EXPECT(gbc.readMem(0xe649), 0xf2);
        // CB F2 032A
        gbc.setState(0x5433, 0x751d, 0xfc90, 0x9a9f, 0x60a1, 0x4d79, 0x0, 0x0);
        gbc.writeMem(0x5433, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x751d);
        EXPECT(gbc.pc(), 0x5435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 032B
        gbc.setState(0x7946, 0xee1f, 0x14d0, 0x8ce8, 0x6efb, 0x4710, 0x1, 0x0);
        gbc.writeMem(0x7946, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xee1f);
        EXPECT(gbc.pc(), 0x7948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 032C
        gbc.setState(0x6f9b, 0xefb3, 0x1660, 0x7962, 0x1288, 0xd548, 0x0, 0x1);
        gbc.writeMem(0x6f9b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xefb3);
        EXPECT(gbc.pc(), 0x6f9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 032D
        gbc.setState(0x6d99, 0x6400, 0x1180, 0xd41f, 0x163c, 0x40a1, 0x1, 0x0);
        gbc.writeMem(0x6d99, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6400);
        EXPECT(gbc.pc(), 0x6d9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 032E
        gbc.setState(0x555a, 0x2605, 0xa340, 0xa7b6, 0xd6b1, 0x53fb, 0x1, 0x1);
        gbc.writeMem(0x555a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2605);
        EXPECT(gbc.pc(), 0x555c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 032F
        gbc.setState(0x13d8, 0xec46, 0x4e0, 0x16b, 0xd5d6, 0xedbd, 0x1, 0x0);
        gbc.writeMem(0x13d8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xec46);
        EXPECT(gbc.pc(), 0x13da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0330
        gbc.setState(0x8371, 0xb3fd, 0x6870, 0x499e, 0x97b4, 0xf245, 0x0, 0x0);
        gbc.writeMem(0x8371, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xb3fd);
        EXPECT(gbc.pc(), 0x8373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8371), 0xcb);
        EXPECT(gbc.readMem(0x8372), 0xf2);
        // CB F2 0331
        gbc.setState(0xc918, 0xf041, 0x7550, 0x5ea8, 0x2759, 0x722a, 0x0, 0x0);
        gbc.writeMem(0xc918, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf041);
        EXPECT(gbc.pc(), 0xc91a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc918), 0xcb);
        EXPECT(gbc.readMem(0xc919), 0xf2);
        // CB F2 0332
        gbc.setState(0xd411, 0x7fe3, 0x1c0, 0x7dc7, 0xdb1a, 0xaf5a, 0x1, 0x0);
        gbc.writeMem(0xd411, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x7fe3);
        EXPECT(gbc.pc(), 0xd413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd411), 0xcb);
        EXPECT(gbc.readMem(0xd412), 0xf2);
        // CB F2 0333
        gbc.setState(0x3f4e, 0xfe1c, 0x2b90, 0xc59d, 0xded0, 0xad2d, 0x0, 0x0);
        gbc.writeMem(0x3f4e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xfe1c);
        EXPECT(gbc.pc(), 0x3f50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0334
        gbc.setState(0xca58, 0x106f, 0x8c30, 0x8141, 0xca44, 0x9058, 0x1, 0x0);
        gbc.writeMem(0xca58, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x106f);
        EXPECT(gbc.pc(), 0xca5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca58), 0xcb);
        EXPECT(gbc.readMem(0xca59), 0xf2);
        // CB F2 0335
        gbc.setState(0xc45b, 0x290b, 0xfdb0, 0xa5b6, 0xcf8f, 0xeed3, 0x0, 0x0);
        gbc.writeMem(0xc45b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x290b);
        EXPECT(gbc.pc(), 0xc45d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc45b), 0xcb);
        EXPECT(gbc.readMem(0xc45c), 0xf2);
        // CB F2 0337
        gbc.setState(0x53ae, 0xfa8a, 0xcc00, 0xe6f8, 0x229a, 0xf76f, 0x1, 0x1);
        gbc.writeMem(0x53ae, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xfa8a);
        EXPECT(gbc.pc(), 0x53b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0338
        gbc.setState(0x6856, 0xcd4b, 0x4be0, 0xcdb7, 0xa8d5, 0x46ee, 0x0, 0x0);
        gbc.writeMem(0x6856, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xcd4b);
        EXPECT(gbc.pc(), 0x6858);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0339
        gbc.setState(0xee20, 0x5bcc, 0xad70, 0x7db8, 0x993d, 0xdc4e, 0x1, 0x1);
        gbc.writeMem(0xee20, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5bcc);
        EXPECT(gbc.pc(), 0xee22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee20), 0xcb);
        EXPECT(gbc.readMem(0xee21), 0xf2);
        // CB F2 033A
        gbc.setState(0x78b3, 0x328f, 0xd7e0, 0xaafc, 0x535a, 0x56d1, 0x1, 0x0);
        gbc.writeMem(0x78b3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x328f);
        EXPECT(gbc.pc(), 0x78b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 033B
        gbc.setState(0x996d, 0x1730, 0xb2a0, 0xed8f, 0xacb1, 0x2b36, 0x1, 0x1);
        gbc.writeMem(0x996d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1730);
        EXPECT(gbc.pc(), 0x996f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x996d), 0xcb);
        EXPECT(gbc.readMem(0x996e), 0xf2);
        // CB F2 033C
        gbc.setState(0xb6b3, 0xb4b5, 0xe930, 0xf0d7, 0xe530, 0x7ff4, 0x0, 0x0);
        gbc.writeMem(0xb6b3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb4b5);
        EXPECT(gbc.pc(), 0xb6b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6b3), 0xcb);
        EXPECT(gbc.readMem(0xb6b4), 0xf2);
        // CB F2 033E
        gbc.setState(0x794d, 0x2828, 0xb5b0, 0x1888, 0xc3d8, 0x4c, 0x0, 0x1);
        gbc.writeMem(0x794d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2828);
        EXPECT(gbc.pc(), 0x794f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 033F
        gbc.setState(0x413e, 0x66e5, 0x3130, 0x9ee8, 0x4856, 0x4150, 0x1, 0x0);
        gbc.writeMem(0x413e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x66e5);
        EXPECT(gbc.pc(), 0x4140);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0340
        gbc.setState(0x3409, 0x2184, 0x59e0, 0x9a6e, 0x6eee, 0x2007, 0x0, 0x0);
        gbc.writeMem(0x3409, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2184);
        EXPECT(gbc.pc(), 0x340b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0341
        gbc.setState(0xc69, 0x4757, 0x2ea0, 0xb74e, 0x8712, 0x6ac3, 0x0, 0x1);
        gbc.writeMem(0xc69, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4757);
        EXPECT(gbc.pc(), 0xc6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0342
        gbc.setState(0xe5e, 0xc3b9, 0x52b0, 0xbc9d, 0xd73e, 0x57fb, 0x0, 0x0);
        gbc.writeMem(0xe5e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc3b9);
        EXPECT(gbc.pc(), 0xe60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0343
        gbc.setState(0x2f5b, 0xa90b, 0x4c30, 0x46c1, 0xd002, 0xbb87, 0x0, 0x0);
        gbc.writeMem(0x2f5b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa90b);
        EXPECT(gbc.pc(), 0x2f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0344
        gbc.setState(0xca75, 0x7523, 0xdbe0, 0xe77f, 0xaf58, 0x5c4e, 0x0, 0x1);
        gbc.writeMem(0xca75, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7523);
        EXPECT(gbc.pc(), 0xca77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca75), 0xcb);
        EXPECT(gbc.readMem(0xca76), 0xf2);
        // CB F2 0345
        gbc.setState(0xbe8b, 0xabbe, 0xf790, 0x9931, 0xd7e9, 0x3b3a, 0x1, 0x1);
        gbc.writeMem(0xbe8b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xabbe);
        EXPECT(gbc.pc(), 0xbe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe8b), 0xcb);
        EXPECT(gbc.readMem(0xbe8c), 0xf2);
        // CB F2 0346
        gbc.setState(0x91a, 0xebeb, 0x1800, 0x2253, 0x8fb7, 0x1d78, 0x0, 0x0);
        gbc.writeMem(0x91a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xebeb);
        EXPECT(gbc.pc(), 0x91c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0348
        gbc.setState(0x1f95, 0x644d, 0x1330, 0xce99, 0x3e91, 0x7a4f, 0x0, 0x1);
        gbc.writeMem(0x1f95, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x644d);
        EXPECT(gbc.pc(), 0x1f97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0349
        gbc.setState(0xd6f, 0x6157, 0x520, 0x6949, 0x4656, 0x3656, 0x1, 0x0);
        gbc.writeMem(0xd6f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6157);
        EXPECT(gbc.pc(), 0xd71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 034A
        gbc.setState(0x47da, 0x3c5a, 0xa190, 0x5ea1, 0x3704, 0xb6ea, 0x1, 0x1);
        gbc.writeMem(0x47da, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3c5a);
        EXPECT(gbc.pc(), 0x47dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 034B
        gbc.setState(0x619e, 0x9e76, 0xebc0, 0x99c4, 0x285c, 0xe738, 0x0, 0x0);
        gbc.writeMem(0x619e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9e76);
        EXPECT(gbc.pc(), 0x61a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 034C
        gbc.setState(0x5000, 0x7876, 0xa860, 0xe0e4, 0xd4da, 0xd6c, 0x0, 0x1);
        gbc.writeMem(0x5000, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x7876);
        EXPECT(gbc.pc(), 0x5002);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 034D
        gbc.setState(0x822, 0x61f2, 0xfda0, 0x208c, 0xe9cc, 0xd545, 0x0, 0x0);
        gbc.writeMem(0x822, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x61f2);
        EXPECT(gbc.pc(), 0x824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 034E
        gbc.setState(0xb07, 0x44a8, 0xd010, 0xcc29, 0x4cb, 0xb0d1, 0x0, 0x0);
        gbc.writeMem(0xb07, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x44a8);
        EXPECT(gbc.pc(), 0xb09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 034F
        gbc.setState(0xef9f, 0x6fb3, 0xae40, 0xf2e2, 0xfa44, 0x4169, 0x0, 0x0);
        gbc.writeMem(0xef9f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6fb3);
        EXPECT(gbc.pc(), 0xefa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef9f), 0xcb);
        EXPECT(gbc.readMem(0xefa0), 0xf2);
        // CB F2 0351
        gbc.setState(0x50d7, 0xfd9a, 0xa330, 0xdd83, 0xe2b6, 0x4964, 0x0, 0x1);
        gbc.writeMem(0x50d7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfd9a);
        EXPECT(gbc.pc(), 0x50d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0352
        gbc.setState(0x7a8, 0x6283, 0xe2b0, 0x5416, 0x8fc9, 0xc91e, 0x1, 0x0);
        gbc.writeMem(0x7a8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6283);
        EXPECT(gbc.pc(), 0x7aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0353
        gbc.setState(0xa44e, 0x2ec7, 0xb250, 0xf230, 0xaf83, 0x4628, 0x0, 0x0);
        gbc.writeMem(0xa44e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2ec7);
        EXPECT(gbc.pc(), 0xa450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44e), 0xcb);
        EXPECT(gbc.readMem(0xa44f), 0xf2);
        // CB F2 0354
        gbc.setState(0xe7bd, 0x8b53, 0xa210, 0xf44a, 0x2a2d, 0xff10, 0x0, 0x1);
        gbc.writeMem(0xe7bd, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8b53);
        EXPECT(gbc.pc(), 0xe7bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7bd), 0xcb);
        EXPECT(gbc.readMem(0xe7be), 0xf2);
        // CB F2 0355
        gbc.setState(0x8232, 0xb50f, 0x7830, 0xf9be, 0x527f, 0x8a1f, 0x1, 0x0);
        gbc.writeMem(0x8232, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb50f);
        EXPECT(gbc.pc(), 0x8234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8232), 0xcb);
        EXPECT(gbc.readMem(0x8233), 0xf2);
        // CB F2 0356
        gbc.setState(0x5286, 0x479, 0xb1e0, 0xe34c, 0xc30a, 0xa938, 0x1, 0x0);
        gbc.writeMem(0x5286, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x479);
        EXPECT(gbc.pc(), 0x5288);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0357
        gbc.setState(0x483c, 0x95d0, 0xaf70, 0x9dbf, 0x47fa, 0xbb1b, 0x1, 0x0);
        gbc.writeMem(0x483c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x95d0);
        EXPECT(gbc.pc(), 0x483e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0358
        gbc.setState(0x5e98, 0xb952, 0x3190, 0x5577, 0x4d7c, 0xf797, 0x1, 0x1);
        gbc.writeMem(0x5e98, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xb952);
        EXPECT(gbc.pc(), 0x5e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0359
        gbc.setState(0x3e09, 0x6026, 0x8010, 0xb975, 0x7cb2, 0xbbb9, 0x0, 0x1);
        gbc.writeMem(0x3e09, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6026);
        EXPECT(gbc.pc(), 0x3e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 035A
        gbc.setState(0xfc2, 0xc3fc, 0xee10, 0xa828, 0xba01, 0xf762, 0x0, 0x1);
        gbc.writeMem(0xfc2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc3fc);
        EXPECT(gbc.pc(), 0xfc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 035B
        gbc.setState(0x4cec, 0xf17d, 0x74b0, 0xbbf3, 0x36ff, 0xedd4, 0x1, 0x1);
        gbc.writeMem(0x4cec, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xf17d);
        EXPECT(gbc.pc(), 0x4cee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 035C
        gbc.setState(0x340d, 0x50e1, 0x9b30, 0x9259, 0x26e3, 0x12e2, 0x0, 0x1);
        gbc.writeMem(0x340d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x50e1);
        EXPECT(gbc.pc(), 0x340f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 035D
        gbc.setState(0xb75, 0x89ac, 0xbf60, 0x8268, 0x504, 0x987a, 0x0, 0x0);
        gbc.writeMem(0xb75, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x89ac);
        EXPECT(gbc.pc(), 0xb77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 035F
        gbc.setState(0x5429, 0xffd7, 0xc380, 0x367, 0x2a1d, 0xc0c0, 0x1, 0x0);
        gbc.writeMem(0x5429, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xffd7);
        EXPECT(gbc.pc(), 0x542b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0360
        gbc.setState(0xc73a, 0xcd63, 0x9ae0, 0xccbe, 0xa911, 0x7b4c, 0x0, 0x0);
        gbc.writeMem(0xc73a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcd63);
        EXPECT(gbc.pc(), 0xc73c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc73a), 0xcb);
        EXPECT(gbc.readMem(0xc73b), 0xf2);
        // CB F2 0361
        gbc.setState(0x9d5, 0x67e0, 0x23f0, 0xa579, 0xa9ee, 0xa405, 0x0, 0x0);
        gbc.writeMem(0x9d5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x67e0);
        EXPECT(gbc.pc(), 0x9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0362
        gbc.setState(0x8645, 0xfa16, 0xf3a0, 0xcd0f, 0xfc45, 0xeef2, 0x0, 0x1);
        gbc.writeMem(0x8645, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xfa16);
        EXPECT(gbc.pc(), 0x8647);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8645), 0xcb);
        EXPECT(gbc.readMem(0x8646), 0xf2);
        // CB F2 0363
        gbc.setState(0x96cc, 0x6092, 0x29c0, 0x5b49, 0xcfce, 0xf359, 0x0, 0x0);
        gbc.writeMem(0x96cc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x6092);
        EXPECT(gbc.pc(), 0x96ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96cc), 0xcb);
        EXPECT(gbc.readMem(0x96cd), 0xf2);
        // CB F2 0364
        gbc.setState(0xc870, 0x548b, 0x3f50, 0x5149, 0xce54, 0xf09a, 0x0, 0x1);
        gbc.writeMem(0xc870, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x548b);
        EXPECT(gbc.pc(), 0xc872);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc870), 0xcb);
        EXPECT(gbc.readMem(0xc871), 0xf2);
        // CB F2 0365
        gbc.setState(0x3ec5, 0x748a, 0xb7a0, 0x5647, 0xe84d, 0xb726, 0x1, 0x1);
        gbc.writeMem(0x3ec5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x748a);
        EXPECT(gbc.pc(), 0x3ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0366
        gbc.setState(0xfe9, 0xd785, 0x7180, 0xc88a, 0x7ecd, 0xeac, 0x0, 0x0);
        gbc.writeMem(0xfe9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd785);
        EXPECT(gbc.pc(), 0xfeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0367
        gbc.setState(0x1280, 0x6ef5, 0xd8c0, 0xa08b, 0x6d07, 0xcee8, 0x0, 0x1);
        gbc.writeMem(0x1280, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6ef5);
        EXPECT(gbc.pc(), 0x1282);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0368
        gbc.setState(0xb929, 0x2aac, 0xaac0, 0xd568, 0x85bd, 0x240, 0x1, 0x1);
        gbc.writeMem(0xb929, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2aac);
        EXPECT(gbc.pc(), 0xb92b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb929), 0xcb);
        EXPECT(gbc.readMem(0xb92a), 0xf2);
        // CB F2 0369
        gbc.setState(0xb8b7, 0xb92a, 0xc560, 0xdcd5, 0x5510, 0xcb5d, 0x0, 0x1);
        gbc.writeMem(0xb8b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb92a);
        EXPECT(gbc.pc(), 0xb8b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8b7), 0xcb);
        EXPECT(gbc.readMem(0xb8b8), 0xf2);
        // CB F2 036A
        gbc.setState(0x35e8, 0x4a59, 0x4960, 0x41c5, 0x70e3, 0x40fa, 0x1, 0x1);
        gbc.writeMem(0x35e8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4a59);
        EXPECT(gbc.pc(), 0x35ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 036B
        gbc.setState(0xbfb8, 0x122b, 0x9ea0, 0x9099, 0x234d, 0x9999, 0x1, 0x1);
        gbc.writeMem(0xbfb8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x122b);
        EXPECT(gbc.pc(), 0xbfba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfb8), 0xcb);
        EXPECT(gbc.readMem(0xbfb9), 0xf2);
        // CB F2 036C
        gbc.setState(0x4e9, 0x49b, 0x4c20, 0x8e25, 0x6531, 0xbad8, 0x0, 0x1);
        gbc.writeMem(0x4e9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x49b);
        EXPECT(gbc.pc(), 0x4eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 036D
        gbc.setState(0x618f, 0xedfd, 0x65d0, 0xf24d, 0x62b9, 0xf70c, 0x0, 0x0);
        gbc.writeMem(0x618f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xedfd);
        EXPECT(gbc.pc(), 0x6191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 036E
        gbc.setState(0xe85, 0xd270, 0x7220, 0xf164, 0xc560, 0x1e52, 0x0, 0x1);
        gbc.writeMem(0xe85, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd270);
        EXPECT(gbc.pc(), 0xe87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 036F
        gbc.setState(0x10a2, 0x9d93, 0xc610, 0x7012, 0x8a0a, 0x3eb2, 0x0, 0x1);
        gbc.writeMem(0x10a2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x9d93);
        EXPECT(gbc.pc(), 0x10a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0370
        gbc.setState(0x30a8, 0xc3bc, 0xb550, 0x8268, 0x8986, 0x3012, 0x1, 0x1);
        gbc.writeMem(0x30a8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc3bc);
        EXPECT(gbc.pc(), 0x30aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0371
        gbc.setState(0xcc7e, 0xab5c, 0xbd0, 0x237c, 0x35ad, 0x847, 0x1, 0x0);
        gbc.writeMem(0xcc7e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xab5c);
        EXPECT(gbc.pc(), 0xcc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc7e), 0xcb);
        EXPECT(gbc.readMem(0xcc7f), 0xf2);
        // CB F2 0372
        gbc.setState(0x9564, 0x5b7f, 0x7a60, 0x6da5, 0x2b80, 0x4656, 0x1, 0x0);
        gbc.writeMem(0x9564, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5b7f);
        EXPECT(gbc.pc(), 0x9566);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9564), 0xcb);
        EXPECT(gbc.readMem(0x9565), 0xf2);
        // CB F2 0375
        gbc.setState(0xef11, 0xc445, 0x9a40, 0x884e, 0x6740, 0x9fae, 0x0, 0x1);
        gbc.writeMem(0xef11, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc445);
        EXPECT(gbc.pc(), 0xef13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef11), 0xcb);
        EXPECT(gbc.readMem(0xef12), 0xf2);
        // CB F2 0376
        gbc.setState(0x9fc8, 0xd59f, 0x3560, 0xc6cb, 0x356b, 0xb242, 0x0, 0x0);
        gbc.writeMem(0x9fc8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd59f);
        EXPECT(gbc.pc(), 0x9fca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fc8), 0xcb);
        EXPECT(gbc.readMem(0x9fc9), 0xf2);
        // CB F2 0377
        gbc.setState(0xc43c, 0x2cde, 0x73b0, 0xda58, 0x6b90, 0xecc, 0x0, 0x0);
        gbc.writeMem(0xc43c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x2cde);
        EXPECT(gbc.pc(), 0xc43e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc43c), 0xcb);
        EXPECT(gbc.readMem(0xc43d), 0xf2);
        // CB F2 0378
        gbc.setState(0xa905, 0x7af4, 0xa880, 0xa50f, 0x3f18, 0xe186, 0x0, 0x1);
        gbc.writeMem(0xa905, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7af4);
        EXPECT(gbc.pc(), 0xa907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa905), 0xcb);
        EXPECT(gbc.readMem(0xa906), 0xf2);
        // CB F2 0379
        gbc.setState(0x39fb, 0x87a1, 0x8a20, 0x2ca8, 0xe34a, 0x6930, 0x1, 0x0);
        gbc.writeMem(0x39fb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x87a1);
        EXPECT(gbc.pc(), 0x39fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 037A
        gbc.setState(0x409a, 0x3583, 0xeff0, 0x8768, 0x280e, 0xf7c0, 0x0, 0x1);
        gbc.writeMem(0x409a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3583);
        EXPECT(gbc.pc(), 0x409c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 037B
        gbc.setState(0x54f, 0x7b7c, 0xa900, 0xc8a7, 0x9160, 0xfa43, 0x1, 0x0);
        gbc.writeMem(0x54f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7b7c);
        EXPECT(gbc.pc(), 0x551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 037C
        gbc.setState(0x6604, 0xe3c0, 0xa080, 0x54a6, 0x70b2, 0x34f7, 0x1, 0x0);
        gbc.writeMem(0x6604, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe3c0);
        EXPECT(gbc.pc(), 0x6606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 037D
        gbc.setState(0x2b6b, 0x59f4, 0x51c0, 0xa534, 0xa769, 0x5c94, 0x1, 0x1);
        gbc.writeMem(0x2b6b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x59f4);
        EXPECT(gbc.pc(), 0x2b6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 037E
        gbc.setState(0xa9c1, 0xf8a8, 0x5440, 0x9a54, 0xeca0, 0x5acd, 0x0, 0x0);
        gbc.writeMem(0xa9c1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf8a8);
        EXPECT(gbc.pc(), 0xa9c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9c1), 0xcb);
        EXPECT(gbc.readMem(0xa9c2), 0xf2);
        // CB F2 037F
        gbc.setState(0x4133, 0x77b, 0x6200, 0x325a, 0x5b57, 0x3b65, 0x0, 0x0);
        gbc.writeMem(0x4133, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x77b);
        EXPECT(gbc.pc(), 0x4135);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0380
        gbc.setState(0x10c1, 0x6d0d, 0x6a00, 0x9bdb, 0xb538, 0x7b9b, 0x0, 0x1);
        gbc.writeMem(0x10c1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6d0d);
        EXPECT(gbc.pc(), 0x10c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0381
        gbc.setState(0x68c0, 0xacf1, 0x29b0, 0x7af2, 0x3902, 0xe093, 0x0, 0x0);
        gbc.writeMem(0x68c0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xacf1);
        EXPECT(gbc.pc(), 0x68c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0382
        gbc.setState(0x6a2, 0xc4a9, 0xedd0, 0x8fbd, 0x3788, 0x4737, 0x0, 0x0);
        gbc.writeMem(0x6a2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc4a9);
        EXPECT(gbc.pc(), 0x6a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0383
        gbc.setState(0x43ba, 0xb028, 0x1c50, 0xff32, 0xd22a, 0xacc0, 0x0, 0x0);
        gbc.writeMem(0x43ba, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb028);
        EXPECT(gbc.pc(), 0x43bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0384
        gbc.setState(0x6a6, 0x4b26, 0x8eb0, 0x74b8, 0x21f9, 0x51b8, 0x0, 0x1);
        gbc.writeMem(0x6a6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x4b26);
        EXPECT(gbc.pc(), 0x6a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0385
        gbc.setState(0x5731, 0xc63b, 0x3ae0, 0x282, 0x61bb, 0xc28d, 0x0, 0x0);
        gbc.writeMem(0x5731, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc63b);
        EXPECT(gbc.pc(), 0x5733);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0386
        gbc.setState(0x9d64, 0x1398, 0x9710, 0x51db, 0x1716, 0x5da6, 0x1, 0x0);
        gbc.writeMem(0x9d64, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1398);
        EXPECT(gbc.pc(), 0x9d66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d64), 0xcb);
        EXPECT(gbc.readMem(0x9d65), 0xf2);
        // CB F2 0388
        gbc.setState(0x4d35, 0x8835, 0xc580, 0xffcf, 0x32b0, 0x17a5, 0x1, 0x1);
        gbc.writeMem(0x4d35, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8835);
        EXPECT(gbc.pc(), 0x4d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0389
        gbc.setState(0x856f, 0xfb87, 0xc870, 0x1ba8, 0x7cdd, 0x90ca, 0x1, 0x0);
        gbc.writeMem(0x856f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfb87);
        EXPECT(gbc.pc(), 0x8571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x856f), 0xcb);
        EXPECT(gbc.readMem(0x8570), 0xf2);
        // CB F2 038A
        gbc.setState(0x6c46, 0x4189, 0xa5c0, 0x89a6, 0xbb58, 0xa414, 0x0, 0x1);
        gbc.writeMem(0x6c46, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4189);
        EXPECT(gbc.pc(), 0x6c48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 038B
        gbc.setState(0xb098, 0x535a, 0xf040, 0x9b5d, 0xa8c2, 0x8cf, 0x1, 0x1);
        gbc.writeMem(0xb098, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x535a);
        EXPECT(gbc.pc(), 0xb09a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb098), 0xcb);
        EXPECT(gbc.readMem(0xb099), 0xf2);
        // CB F2 038C
        gbc.setState(0x256b, 0x7aa5, 0x1960, 0xdebf, 0x925f, 0x614d, 0x0, 0x0);
        gbc.writeMem(0x256b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7aa5);
        EXPECT(gbc.pc(), 0x256d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 038D
        gbc.setState(0x8cfe, 0xaea0, 0x22a0, 0x7d7b, 0x5ae3, 0xa021, 0x0, 0x0);
        gbc.writeMem(0x8cfe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xaea0);
        EXPECT(gbc.pc(), 0x8d00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cfe), 0xcb);
        EXPECT(gbc.readMem(0x8cff), 0xf2);
        // CB F2 038E
        gbc.setState(0x61b7, 0xd433, 0x2630, 0x1307, 0x8b08, 0x18b7, 0x1, 0x0);
        gbc.writeMem(0x61b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xd433);
        EXPECT(gbc.pc(), 0x61b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 038F
        gbc.setState(0x141a, 0x85a, 0x44d0, 0xcce, 0xd3eb, 0x8e2a, 0x0, 0x0);
        gbc.writeMem(0x141a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x85a);
        EXPECT(gbc.pc(), 0x141c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0391
        gbc.setState(0xeb7f, 0x6ff3, 0xc6d0, 0x22d3, 0x1f68, 0xc774, 0x1, 0x1);
        gbc.writeMem(0xeb7f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x6ff3);
        EXPECT(gbc.pc(), 0xeb81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb7f), 0xcb);
        EXPECT(gbc.readMem(0xeb80), 0xf2);
        // CB F2 0392
        gbc.setState(0xf06, 0x2cdb, 0x39a0, 0x846d, 0x484e, 0x3651, 0x1, 0x1);
        gbc.writeMem(0xf06, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2cdb);
        EXPECT(gbc.pc(), 0xf08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0393
        gbc.setState(0xdd1d, 0x422d, 0x61d0, 0xb089, 0x8482, 0xa6cf, 0x0, 0x0);
        gbc.writeMem(0xdd1d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x422d);
        EXPECT(gbc.pc(), 0xdd1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd1d), 0xcb);
        EXPECT(gbc.readMem(0xdd1e), 0xf2);
        // CB F2 0394
        gbc.setState(0x3176, 0x8836, 0x6a30, 0xd82, 0xfd15, 0xc82d, 0x0, 0x0);
        gbc.writeMem(0x3176, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8836);
        EXPECT(gbc.pc(), 0x3178);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 0396
        gbc.setState(0x7abc, 0x53ba, 0x6c0, 0xc39d, 0xe76a, 0x7708, 0x0, 0x1);
        gbc.writeMem(0x7abc, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x53ba);
        EXPECT(gbc.pc(), 0x7abe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 0397
        gbc.setState(0xe1c4, 0xfa60, 0xb080, 0x3985, 0xc4b5, 0x9ae4, 0x0, 0x0);
        gbc.writeMem(0xe1c4, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xfa60);
        EXPECT(gbc.pc(), 0xe1c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1c4), 0xcb);
        EXPECT(gbc.readMem(0xe1c5), 0xf2);
        // CB F2 0398
        gbc.setState(0x83ec, 0x4d0b, 0x550, 0xb52b, 0x8a20, 0x6e75, 0x1, 0x0);
        gbc.writeMem(0x83ec, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4d0b);
        EXPECT(gbc.pc(), 0x83ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ec), 0xcb);
        EXPECT(gbc.readMem(0x83ed), 0xf2);
        // CB F2 0399
        gbc.setState(0xb630, 0x8d7f, 0x3a30, 0xe4f6, 0x700a, 0x1ebe, 0x1, 0x1);
        gbc.writeMem(0xb630, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8d7f);
        EXPECT(gbc.pc(), 0xb632);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb630), 0xcb);
        EXPECT(gbc.readMem(0xb631), 0xf2);
        // CB F2 039A
        gbc.setState(0xbc9c, 0x35d, 0xb0f0, 0x2e61, 0x11db, 0xb9b0, 0x1, 0x0);
        gbc.writeMem(0xbc9c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x35d);
        EXPECT(gbc.pc(), 0xbc9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc9c), 0xcb);
        EXPECT(gbc.readMem(0xbc9d), 0xf2);
        // CB F2 039C
        gbc.setState(0x4261, 0x6ff9, 0xdcb0, 0x71e9, 0x6bf9, 0xe360, 0x0, 0x0);
        gbc.writeMem(0x4261, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6ff9);
        EXPECT(gbc.pc(), 0x4263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 039D
        gbc.setState(0xca96, 0x6a16, 0x1940, 0xc08d, 0xc19, 0xf5ad, 0x1, 0x1);
        gbc.writeMem(0xca96, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x6a16);
        EXPECT(gbc.pc(), 0xca98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca96), 0xcb);
        EXPECT(gbc.readMem(0xca97), 0xf2);
        // CB F2 039E
        gbc.setState(0x8528, 0xc8ef, 0x15b0, 0x2083, 0xbc4, 0xb0f8, 0x0, 0x0);
        gbc.writeMem(0x8528, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xc8ef);
        EXPECT(gbc.pc(), 0x852a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8528), 0xcb);
        EXPECT(gbc.readMem(0x8529), 0xf2);
        // CB F2 039F
        gbc.setState(0x85f3, 0x394a, 0xf200, 0xa30d, 0xf91e, 0xc97b, 0x0, 0x0);
        gbc.writeMem(0x85f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x394a);
        EXPECT(gbc.pc(), 0x85f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85f3), 0xcb);
        EXPECT(gbc.readMem(0x85f4), 0xf2);
        // CB F2 03A0
        gbc.setState(0x1a0b, 0x6d02, 0xa740, 0x788b, 0xba26, 0xbe15, 0x0, 0x1);
        gbc.writeMem(0x1a0b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6d02);
        EXPECT(gbc.pc(), 0x1a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A1
        gbc.setState(0xefef, 0xc96d, 0xfc0, 0xe73f, 0x44b6, 0x5528, 0x1, 0x0);
        gbc.writeMem(0xefef, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc96d);
        EXPECT(gbc.pc(), 0xeff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefef), 0xcb);
        EXPECT(gbc.readMem(0xeff0), 0xf2);
        // CB F2 03A2
        gbc.setState(0x396f, 0x1451, 0xa240, 0x5162, 0xd64c, 0x4e1b, 0x0, 0x1);
        gbc.writeMem(0x396f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1451);
        EXPECT(gbc.pc(), 0x3971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A3
        gbc.setState(0x6f99, 0x93b3, 0x8b40, 0xe322, 0x9e53, 0xefe, 0x0, 0x0);
        gbc.writeMem(0x6f99, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x93b3);
        EXPECT(gbc.pc(), 0x6f9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A4
        gbc.setState(0xa71c, 0x80f5, 0x590, 0x6a6b, 0x5b36, 0xfe42, 0x1, 0x1);
        gbc.writeMem(0xa71c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x80f5);
        EXPECT(gbc.pc(), 0xa71e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa71c), 0xcb);
        EXPECT(gbc.readMem(0xa71d), 0xf2);
        // CB F2 03A5
        gbc.setState(0x4163, 0x2f63, 0x7330, 0x29a4, 0x9a76, 0xf3d1, 0x0, 0x1);
        gbc.writeMem(0x4163, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2f63);
        EXPECT(gbc.pc(), 0x4165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03A6
        gbc.setState(0x76a6, 0xf365, 0xd60, 0x1012, 0x1f0d, 0xba9f, 0x0, 0x1);
        gbc.writeMem(0x76a6, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xf365);
        EXPECT(gbc.pc(), 0x76a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A7
        gbc.setState(0x21a1, 0x3ece, 0x3e20, 0x8495, 0x23e2, 0x6469, 0x1, 0x1);
        gbc.writeMem(0x21a1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3ece);
        EXPECT(gbc.pc(), 0x21a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A8
        gbc.setState(0x17c, 0xa4fe, 0xe5e0, 0xf7ce, 0x8246, 0x28ba, 0x0, 0x1);
        gbc.writeMem(0x17c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa4fe);
        EXPECT(gbc.pc(), 0x17e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03A9
        gbc.setState(0xeef9, 0xfc84, 0x95b0, 0x2717, 0x46a, 0xefda, 0x0, 0x1);
        gbc.writeMem(0xeef9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfc84);
        EXPECT(gbc.pc(), 0xeefb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeef9), 0xcb);
        EXPECT(gbc.readMem(0xeefa), 0xf2);
        // CB F2 03AB
        gbc.setState(0xe956, 0x9219, 0xc600, 0x7ebc, 0xa344, 0xbb46, 0x0, 0x0);
        gbc.writeMem(0xe956, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9219);
        EXPECT(gbc.pc(), 0xe958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe956), 0xcb);
        EXPECT(gbc.readMem(0xe957), 0xf2);
        // CB F2 03AC
        gbc.setState(0xbb68, 0x3d0e, 0x3770, 0xc891, 0xc8c3, 0x7fd6, 0x1, 0x1);
        gbc.writeMem(0xbb68, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3d0e);
        EXPECT(gbc.pc(), 0xbb6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb68), 0xcb);
        EXPECT(gbc.readMem(0xbb69), 0xf2);
        // CB F2 03AD
        gbc.setState(0xdfad, 0x7fc5, 0xdad0, 0xd539, 0xea32, 0x4643, 0x1, 0x0);
        gbc.writeMem(0xdfad, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7fc5);
        EXPECT(gbc.pc(), 0xdfaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfad), 0xcb);
        EXPECT(gbc.readMem(0xdfae), 0xf2);
        // CB F2 03AE
        gbc.setState(0xe8f2, 0x6014, 0x2e20, 0x116b, 0xd4e1, 0xd483, 0x0, 0x0);
        gbc.writeMem(0xe8f2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6014);
        EXPECT(gbc.pc(), 0xe8f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8f2), 0xcb);
        EXPECT(gbc.readMem(0xe8f3), 0xf2);
        // CB F2 03AF
        gbc.setState(0x106a, 0xc8f9, 0xa790, 0x4b86, 0x43a6, 0xd2a6, 0x1, 0x0);
        gbc.writeMem(0x106a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xc8f9);
        EXPECT(gbc.pc(), 0x106c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03B0
        gbc.setState(0x53ed, 0x9903, 0xd870, 0x93ac, 0xa659, 0x85e9, 0x0, 0x1);
        gbc.writeMem(0x53ed, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9903);
        EXPECT(gbc.pc(), 0x53ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03B1
        gbc.setState(0x98aa, 0xa744, 0xe690, 0xd266, 0x22b9, 0x5f47, 0x1, 0x1);
        gbc.writeMem(0x98aa, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa744);
        EXPECT(gbc.pc(), 0x98ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98aa), 0xcb);
        EXPECT(gbc.readMem(0x98ab), 0xf2);
        // CB F2 03B2
        gbc.setState(0x7dfe, 0xafaf, 0xb310, 0x16d8, 0x9bf2, 0xa66f, 0x1, 0x0);
        gbc.writeMem(0x7dfe, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xafaf);
        EXPECT(gbc.pc(), 0x7e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03B3
        gbc.setState(0x4f93, 0xd38a, 0xb710, 0x130d, 0xcb4, 0x30e9, 0x0, 0x0);
        gbc.writeMem(0x4f93, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd38a);
        EXPECT(gbc.pc(), 0x4f95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03B4
        gbc.setState(0xb8de, 0x20ab, 0xed30, 0xdb2d, 0xe875, 0x4f74, 0x0, 0x0);
        gbc.writeMem(0xb8de, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x20ab);
        EXPECT(gbc.pc(), 0xb8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8de), 0xcb);
        EXPECT(gbc.readMem(0xb8df), 0xf2);
        // CB F2 03B6
        gbc.setState(0xb2eb, 0x7ad7, 0x9da0, 0xaa9b, 0x2d9e, 0x5674, 0x1, 0x1);
        gbc.writeMem(0xb2eb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7ad7);
        EXPECT(gbc.pc(), 0xb2ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2eb), 0xcb);
        EXPECT(gbc.readMem(0xb2ec), 0xf2);
        // CB F2 03B7
        gbc.setState(0xdff1, 0xb923, 0x3500, 0x9a1b, 0x2f78, 0x61e6, 0x1, 0x0);
        gbc.writeMem(0xdff1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb923);
        EXPECT(gbc.pc(), 0xdff3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdff1), 0xcb);
        EXPECT(gbc.readMem(0xdff2), 0xf2);
        // CB F2 03B8
        gbc.setState(0x6515, 0x17b, 0x5020, 0xec4f, 0x191b, 0x2f8e, 0x1, 0x0);
        gbc.writeMem(0x6515, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x17b);
        EXPECT(gbc.pc(), 0x6517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03B9
        gbc.setState(0xc3b7, 0xf269, 0x54b0, 0x19f1, 0x2c1d, 0x72dc, 0x1, 0x0);
        gbc.writeMem(0xc3b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf269);
        EXPECT(gbc.pc(), 0xc3b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3b7), 0xcb);
        EXPECT(gbc.readMem(0xc3b8), 0xf2);
        // CB F2 03BA
        gbc.setState(0x7dca, 0x2b03, 0xd420, 0xf7ff, 0xbe3b, 0xa570, 0x1, 0x1);
        gbc.writeMem(0x7dca, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2b03);
        EXPECT(gbc.pc(), 0x7dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03BB
        gbc.setState(0xb82a, 0xfc43, 0x2350, 0x8672, 0xf70f, 0x9364, 0x0, 0x1);
        gbc.writeMem(0xb82a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfc43);
        EXPECT(gbc.pc(), 0xb82c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb82a), 0xcb);
        EXPECT(gbc.readMem(0xb82b), 0xf2);
        // CB F2 03BC
        gbc.setState(0x78e5, 0xc83d, 0x5a40, 0x56f4, 0x764f, 0x8855, 0x0, 0x0);
        gbc.writeMem(0x78e5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc83d);
        EXPECT(gbc.pc(), 0x78e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03BD
        gbc.setState(0x72a1, 0x869c, 0x6ce0, 0xa1b0, 0x9f24, 0x4e5f, 0x1, 0x0);
        gbc.writeMem(0x72a1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x869c);
        EXPECT(gbc.pc(), 0x72a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03BE
        gbc.setState(0xb06e, 0x9cd1, 0x4880, 0x3d4c, 0x24e6, 0xd3f1, 0x0, 0x1);
        gbc.writeMem(0xb06e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9cd1);
        EXPECT(gbc.pc(), 0xb070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb06e), 0xcb);
        EXPECT(gbc.readMem(0xb06f), 0xf2);
        // CB F2 03BF
        gbc.setState(0xbed0, 0xe968, 0xd0a0, 0xc095, 0x92c0, 0x31f4, 0x0, 0x0);
        gbc.writeMem(0xbed0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe968);
        EXPECT(gbc.pc(), 0xbed2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed0), 0xcb);
        EXPECT(gbc.readMem(0xbed1), 0xf2);
        // CB F2 03C0
        gbc.setState(0x4136, 0x4cbc, 0xced0, 0x1195, 0xf350, 0xf553, 0x0, 0x1);
        gbc.writeMem(0x4136, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4cbc);
        EXPECT(gbc.pc(), 0x4138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03C2
        gbc.setState(0x26f, 0x4285, 0xd820, 0xd75c, 0xe969, 0x4aee, 0x1, 0x1);
        gbc.writeMem(0x26f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4285);
        EXPECT(gbc.pc(), 0x271);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03C3
        gbc.setState(0x7b0c, 0x5b59, 0x5200, 0x97c4, 0xff6c, 0x7c54, 0x1, 0x0);
        gbc.writeMem(0x7b0c, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5b59);
        EXPECT(gbc.pc(), 0x7b0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03C4
        gbc.setState(0xdd7b, 0x3914, 0xcf80, 0xfa02, 0x883b, 0x12e4, 0x0, 0x1);
        gbc.writeMem(0xdd7b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3914);
        EXPECT(gbc.pc(), 0xdd7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd7b), 0xcb);
        EXPECT(gbc.readMem(0xdd7c), 0xf2);
        // CB F2 03C5
        gbc.setState(0xccb3, 0xf6a8, 0x11c0, 0xda39, 0x6191, 0x6443, 0x1, 0x1);
        gbc.writeMem(0xccb3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf6a8);
        EXPECT(gbc.pc(), 0xccb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccb3), 0xcb);
        EXPECT(gbc.readMem(0xccb4), 0xf2);
        // CB F2 03C6
        gbc.setState(0x6ff2, 0xbc32, 0xb4e0, 0x604b, 0x934c, 0x949, 0x0, 0x1);
        gbc.writeMem(0x6ff2, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbc32);
        EXPECT(gbc.pc(), 0x6ff4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03C7
        gbc.setState(0xc667, 0xbc27, 0x6b0, 0x8ef7, 0xb497, 0xea75, 0x0, 0x1);
        gbc.writeMem(0xc667, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xbc27);
        EXPECT(gbc.pc(), 0xc669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc667), 0xcb);
        EXPECT(gbc.readMem(0xc668), 0xf2);
        // CB F2 03C8
        gbc.setState(0x94b7, 0x6d8, 0xeea0, 0x40d, 0x379c, 0xe27a, 0x1, 0x1);
        gbc.writeMem(0x94b7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6d8);
        EXPECT(gbc.pc(), 0x94b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b7), 0xcb);
        EXPECT(gbc.readMem(0x94b8), 0xf2);
        // CB F2 03C9
        gbc.setState(0x11b5, 0x8f50, 0x7150, 0xa54a, 0x9e9c, 0xdb82, 0x1, 0x0);
        gbc.writeMem(0x11b5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8f50);
        EXPECT(gbc.pc(), 0x11b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03CA
        gbc.setState(0xe01b, 0x90c, 0x35c0, 0x40e9, 0x403f, 0xcb51, 0x0, 0x0);
        gbc.writeMem(0xe01b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x90c);
        EXPECT(gbc.pc(), 0xe01d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe01b), 0xcb);
        EXPECT(gbc.readMem(0xe01c), 0xf2);
        // CB F2 03CC
        gbc.setState(0x3644, 0x8d23, 0xc120, 0x25ae, 0xcd34, 0x68cb, 0x1, 0x1);
        gbc.writeMem(0x3644, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8d23);
        EXPECT(gbc.pc(), 0x3646);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03CD
        gbc.setState(0x3e62, 0x4f10, 0xf390, 0xab7c, 0x9a78, 0xf526, 0x1, 0x1);
        gbc.writeMem(0x3e62, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4f10);
        EXPECT(gbc.pc(), 0x3e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03CE
        gbc.setState(0x7512, 0xbb82, 0x1e70, 0x5f61, 0x652f, 0x476f, 0x0, 0x1);
        gbc.writeMem(0x7512, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbb82);
        EXPECT(gbc.pc(), 0x7514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03CF
        gbc.setState(0xe5b3, 0xf0e7, 0x2790, 0xf700, 0xe76b, 0x8824, 0x0, 0x1);
        gbc.writeMem(0xe5b3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf0e7);
        EXPECT(gbc.pc(), 0xe5b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5b3), 0xcb);
        EXPECT(gbc.readMem(0xe5b4), 0xf2);
        // CB F2 03D0
        gbc.setState(0xc9f9, 0x2ccf, 0xcdf0, 0x43f2, 0xfd34, 0x341c, 0x0, 0x1);
        gbc.writeMem(0xc9f9, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2ccf);
        EXPECT(gbc.pc(), 0xc9fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9f9), 0xcb);
        EXPECT(gbc.readMem(0xc9fa), 0xf2);
        // CB F2 03D1
        gbc.setState(0x193f, 0x2902, 0xa200, 0xb145, 0x5a4f, 0xfa75, 0x1, 0x0);
        gbc.writeMem(0x193f, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2902);
        EXPECT(gbc.pc(), 0x1941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03D2
        gbc.setState(0xd24, 0x6e2e, 0xe850, 0x6b39, 0x2f6c, 0xe14f, 0x0, 0x1);
        gbc.writeMem(0xd24, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6e2e);
        EXPECT(gbc.pc(), 0xd26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03D3
        gbc.setState(0x670e, 0x981d, 0x6ce0, 0x7d1f, 0x5321, 0x4ece, 0x1, 0x0);
        gbc.writeMem(0x670e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x981d);
        EXPECT(gbc.pc(), 0x6710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03D4
        gbc.setState(0x56bb, 0x376b, 0x8e60, 0x51d, 0xb657, 0xda4d, 0x1, 0x1);
        gbc.writeMem(0x56bb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x376b);
        EXPECT(gbc.pc(), 0x56bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03D5
        gbc.setState(0x3503, 0x3548, 0x3770, 0x2204, 0x3841, 0xb8ac, 0x1, 0x1);
        gbc.writeMem(0x3503, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3548);
        EXPECT(gbc.pc(), 0x3505);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03D6
        gbc.setState(0x600d, 0xf4c, 0x5c70, 0xac4b, 0xa217, 0xede0, 0x0, 0x0);
        gbc.writeMem(0x600d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf4c);
        EXPECT(gbc.pc(), 0x600f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03D7
        gbc.setState(0x493, 0x1c6f, 0x3e70, 0xa43a, 0xc711, 0xe437, 0x1, 0x1);
        gbc.writeMem(0x493, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x1c6f);
        EXPECT(gbc.pc(), 0x495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03D8
        gbc.setState(0x515a, 0x96f5, 0x5740, 0x6769, 0xe05e, 0xa8f8, 0x1, 0x0);
        gbc.writeMem(0x515a, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x96f5);
        EXPECT(gbc.pc(), 0x515c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03D9
        gbc.setState(0xd3d, 0x1601, 0x14e0, 0x3ae8, 0x9894, 0x894, 0x1, 0x1);
        gbc.writeMem(0xd3d, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1601);
        EXPECT(gbc.pc(), 0xd3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03DA
        gbc.setState(0x5a22, 0x320b, 0x43b0, 0x1829, 0xd487, 0x90bb, 0x0, 0x0);
        gbc.writeMem(0x5a22, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x320b);
        EXPECT(gbc.pc(), 0x5a24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03DB
        gbc.setState(0xa9c7, 0x37e5, 0xe580, 0xc8b4, 0xb1bb, 0x88db, 0x1, 0x1);
        gbc.writeMem(0xa9c7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x37e5);
        EXPECT(gbc.pc(), 0xa9c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9c7), 0xcb);
        EXPECT(gbc.readMem(0xa9c8), 0xf2);
        // CB F2 03DC
        gbc.setState(0x59cb, 0x67b4, 0x2910, 0x46b4, 0x70ac, 0xb304, 0x1, 0x0);
        gbc.writeMem(0x59cb, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x67b4);
        EXPECT(gbc.pc(), 0x59cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03DD
        gbc.setState(0xc7a7, 0x82c3, 0xbc40, 0xf1e, 0x9aec, 0xad73, 0x1, 0x0);
        gbc.writeMem(0xc7a7, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x82c3);
        EXPECT(gbc.pc(), 0xc7a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7a7), 0xcb);
        EXPECT(gbc.readMem(0xc7a8), 0xf2);
        // CB F2 03DE
        gbc.setState(0xda7e, 0xf448, 0xaca0, 0x6ca9, 0x8f0e, 0x25af, 0x0, 0x0);
        gbc.writeMem(0xda7e, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xf448);
        EXPECT(gbc.pc(), 0xda80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda7e), 0xcb);
        EXPECT(gbc.readMem(0xda7f), 0xf2);
        // CB F2 03DF
        gbc.setState(0x38f1, 0x48ea, 0x35d0, 0x6804, 0xe091, 0x81dc, 0x1, 0x0);
        gbc.writeMem(0x38f1, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x48ea);
        EXPECT(gbc.pc(), 0x38f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03E0
        gbc.setState(0x94b0, 0x1388, 0xedf0, 0xa9dc, 0x76de, 0x211b, 0x1, 0x1);
        gbc.writeMem(0x94b0, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1388);
        EXPECT(gbc.pc(), 0x94b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94b0), 0xcb);
        EXPECT(gbc.readMem(0x94b1), 0xf2);
        // CB F2 03E1
        gbc.setState(0x4c7b, 0x4566, 0xf4f0, 0x42d2, 0xf788, 0x76e8, 0x1, 0x1);
        gbc.writeMem(0x4c7b, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x4566);
        EXPECT(gbc.pc(), 0x4c7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03E2
        gbc.setState(0x5dd8, 0xb801, 0x4360, 0x53b2, 0xf579, 0xdd, 0x1, 0x1);
        gbc.writeMem(0x5dd8, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb801);
        EXPECT(gbc.pc(), 0x5dda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03E3
        gbc.setState(0x4f3, 0x9e1, 0xf8a0, 0x6d53, 0x528c, 0xda5c, 0x1, 0x0);
        gbc.writeMem(0x4f3, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x9e1);
        EXPECT(gbc.pc(), 0x4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB F2 03E4
        gbc.setState(0xb796, 0x17a0, 0xb210, 0xcefd, 0x7372, 0x507f, 0x0, 0x1);
        gbc.writeMem(0xb796, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x17a0);
        EXPECT(gbc.pc(), 0xb798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb796), 0xcb);
        EXPECT(gbc.readMem(0xb797), 0xf2);
        // CB F2 03E5
        gbc.setState(0x82ed, 0x8f6f, 0xc7a0, 0x99b6, 0x301f, 0x38b4, 0x1, 0x1);
        gbc.writeMem(0x82ed, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8f6f);
        EXPECT(gbc.pc(), 0x82ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ed), 0xcb);
        EXPECT(gbc.readMem(0x82ee), 0xf2);
        // CB F2 03E6
        gbc.setState(0x74f5, 0x2f01, 0xd2d0, 0xacee, 0xf349, 0xbe51, 0x0, 0x0);
        gbc.writeMem(0x74f5, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2f01);
        EXPECT(gbc.pc(), 0x74f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB F2 03E7
        gbc.setState(0xcbba, 0xe40a, 0x5710, 0x505b, 0xf454, 0x511d, 0x1, 0x0);
        gbc.writeMem(0xcbba, { 0xcb, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe40a);
        EXPECT(gbc.pc(), 0xcbbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbba), 0xcb);
        EXPECT(gbc.readMem(0xcbbb), 0xf2);
    }
