    TEST(gbcemu, opcode_c4) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // C4 0001
        gbc.setState(0x98ce, 0x9084, 0x78f0, 0x4cf6, 0x7587, 0x3892, 0x0, 0x0);
        gbc.writeMem(0x98ce, { 0xc4, 0x8b, 0xaf });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x9084, gbc.sp());
        EXPECT(0x98d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x98ce));
        EXPECT(0x8b, gbc.readMem(0x98cf));
        EXPECT(0xaf, gbc.readMem(0x98d0));
        // C4 0002
        gbc.setState(0xd0af, 0x31e7, 0x31d0, 0xc7d7, 0x59e5, 0x9acb, 0x0, 0x0);
        gbc.writeMem(0xd0af, { 0xc4, 0x6d, 0xdc });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x31e7, gbc.sp());
        EXPECT(0xd0b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd0af));
        EXPECT(0x6d, gbc.readMem(0xd0b0));
        EXPECT(0xdc, gbc.readMem(0xd0b1));
        // C4 0003
        gbc.setState(0x6621, 0x4f79, 0xea90, 0x5b54, 0x42d8, 0x4e68, 0x0, 0x0);
        gbc.writeMem(0x6621, { 0xc4, 0x49, 0x8f });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x4f79, gbc.sp());
        EXPECT(0x6624, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0004
        gbc.setState(0x91a5, 0xbc86, 0x7680, 0xd2c1, 0x2358, 0xb0c2, 0x1, 0x0);
        gbc.writeMem(0x91a5, { 0xc4, 0x10, 0x34 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xbc86, gbc.sp());
        EXPECT(0x91a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x91a5));
        EXPECT(0x10, gbc.readMem(0x91a6));
        EXPECT(0x34, gbc.readMem(0x91a7));
        // C4 0005
        gbc.setState(0x3a81, 0xf4df, 0x8800, 0x64a2, 0x2ba3, 0x71bf, 0x1, 0x0);
        gbc.writeMem(0x3a81, { 0xc4, 0x8f, 0x58 });
        gbc.writeMem(0xf4dd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xf4dd, gbc.sp());
        EXPECT(0x588f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x84, gbc.readMem(0xf4dd));
        EXPECT(0x3a, gbc.readMem(0xf4de));
        // C4 0006
        gbc.setState(0x8d92, 0x95f7, 0x3cf0, 0xbe57, 0x97f9, 0x4e9, 0x1, 0x1);
        gbc.writeMem(0x8d92, { 0xc4, 0x14, 0xb3 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x95f7, gbc.sp());
        EXPECT(0x8d95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8d92));
        EXPECT(0x14, gbc.readMem(0x8d93));
        EXPECT(0xb3, gbc.readMem(0x8d94));
        // C4 0007
        gbc.setState(0x40e9, 0x790, 0xa480, 0x4e51, 0xdd92, 0x5a85, 0x1, 0x0);
        gbc.writeMem(0x40e9, { 0xc4, 0xac, 0x6f });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x790, gbc.sp());
        EXPECT(0x40ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0008
        gbc.setState(0x9584, 0xe1b3, 0xe80, 0x5f49, 0xfe6b, 0x9748, 0x0, 0x1);
        gbc.writeMem(0x9584, { 0xc4, 0x3e, 0x4a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xe1b3, gbc.sp());
        EXPECT(0x9587, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9584));
        EXPECT(0x3e, gbc.readMem(0x9585));
        EXPECT(0x4a, gbc.readMem(0x9586));
        // C4 0009
        gbc.setState(0xdc05, 0xcf54, 0x11c0, 0xa91b, 0x8dd2, 0x409c, 0x0, 0x0);
        gbc.writeMem(0xdc05, { 0xc4, 0xb7, 0x8f });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xcf54, gbc.sp());
        EXPECT(0xdc08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdc05));
        EXPECT(0xb7, gbc.readMem(0xdc06));
        EXPECT(0x8f, gbc.readMem(0xdc07));
        // C4 000A
        gbc.setState(0xb8e4, 0xb0cd, 0x3b40, 0x7faa, 0x97df, 0x5186, 0x1, 0x0);
        gbc.writeMem(0xb0cb, { 0x0, 0x0 });
        gbc.writeMem(0xb8e4, { 0xc4, 0xd6, 0xeb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xb0cb, gbc.sp());
        EXPECT(0xebd6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe7, gbc.readMem(0xb0cb));
        EXPECT(0xb8, gbc.readMem(0xb0cc));
        EXPECT(0xc4, gbc.readMem(0xb8e4));
        EXPECT(0xd6, gbc.readMem(0xb8e5));
        EXPECT(0xeb, gbc.readMem(0xb8e6));
        // C4 000B
        gbc.setState(0x9f11, 0x86c5, 0x2aa0, 0x97ab, 0x6300, 0xf6a0, 0x1, 0x0);
        gbc.writeMem(0x9f11, { 0xc4, 0x60, 0xa9 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x86c5, gbc.sp());
        EXPECT(0x9f14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9f11));
        EXPECT(0x60, gbc.readMem(0x9f12));
        EXPECT(0xa9, gbc.readMem(0x9f13));
        // C4 000C
        gbc.setState(0x991a, 0x5fe8, 0xe6c0, 0x9776, 0x66b, 0xabd8, 0x1, 0x1);
        gbc.writeMem(0x991a, { 0xc4, 0xa8, 0x15 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x5fe8, gbc.sp());
        EXPECT(0x991d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x991a));
        EXPECT(0xa8, gbc.readMem(0x991b));
        EXPECT(0x15, gbc.readMem(0x991c));
        // C4 000D
        gbc.setState(0x164c, 0x8e50, 0xa6b0, 0xb7bb, 0x986f, 0x6c56, 0x1, 0x0);
        gbc.writeMem(0x164c, { 0xc4, 0x8e, 0xbc });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8e50, gbc.sp());
        EXPECT(0x164f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 000F
        gbc.setState(0xa7e7, 0x86e0, 0x42c0, 0x2bfc, 0xaa13, 0x5c26, 0x1, 0x1);
        gbc.writeMem(0xa7e7, { 0xc4, 0xa8, 0x3 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x86e0, gbc.sp());
        EXPECT(0xa7ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa7e7));
        EXPECT(0xa8, gbc.readMem(0xa7e8));
        EXPECT(0x3, gbc.readMem(0xa7e9));
        // C4 0010
        gbc.setState(0x2f1a, 0xfdda, 0x5be0, 0xe43f, 0xc372, 0x85d4, 0x0, 0x1);
        gbc.writeMem(0x2f1a, { 0xc4, 0x96, 0x58 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xfdda, gbc.sp());
        EXPECT(0x2f1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0011
        gbc.setState(0x6728, 0xc5a3, 0x320, 0x585d, 0xeaf4, 0x91e2, 0x1, 0x0);
        gbc.writeMem(0x6728, { 0xc4, 0xd4, 0x10 });
        gbc.writeMem(0xc5a1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xc5a1, gbc.sp());
        EXPECT(0x10d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2b, gbc.readMem(0xc5a1));
        EXPECT(0x67, gbc.readMem(0xc5a2));
        // C4 0012
        gbc.setState(0x4efd, 0x1506, 0x7280, 0x4cb2, 0x7444, 0x5ef2, 0x0, 0x0);
        gbc.writeMem(0x4efd, { 0xc4, 0x97, 0x67 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1506, gbc.sp());
        EXPECT(0x4f00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0013
        gbc.setState(0x9450, 0xafe9, 0x4cb0, 0xc18d, 0xb7d5, 0x9de6, 0x1, 0x0);
        gbc.writeMem(0x9450, { 0xc4, 0x5e, 0xf });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xafe9, gbc.sp());
        EXPECT(0x9453, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9450));
        EXPECT(0x5e, gbc.readMem(0x9451));
        EXPECT(0xf, gbc.readMem(0x9452));
        // C4 0014
        gbc.setState(0xa9fe, 0x1e03, 0x5af0, 0x54d2, 0xe42c, 0x5e27, 0x0, 0x0);
        gbc.writeMem(0xa9fe, { 0xc4, 0x19, 0x50 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x1e03, gbc.sp());
        EXPECT(0xaa01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa9fe));
        EXPECT(0x19, gbc.readMem(0xa9ff));
        EXPECT(0x50, gbc.readMem(0xaa00));
        // C4 0015
        gbc.setState(0xd16a, 0xd9e5, 0x6620, 0xb2bf, 0x5873, 0xda90, 0x1, 0x1);
        gbc.writeMem(0xd16a, { 0xc4, 0x3c, 0x3f });
        gbc.writeMem(0xd9e3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xd9e3, gbc.sp());
        EXPECT(0x3f3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd16a));
        EXPECT(0x3c, gbc.readMem(0xd16b));
        EXPECT(0x3f, gbc.readMem(0xd16c));
        EXPECT(0x6d, gbc.readMem(0xd9e3));
        EXPECT(0xd1, gbc.readMem(0xd9e4));
        // C4 0017
        gbc.setState(0xbc5, 0xf47d, 0xe3c0, 0xcd12, 0xdd0e, 0xc9b9, 0x0, 0x0);
        gbc.writeMem(0xbc5, { 0xc4, 0x24, 0x5e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xf47d, gbc.sp());
        EXPECT(0xbc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0018
        gbc.setState(0xe9b0, 0xe140, 0x2800, 0xd0e1, 0xa19f, 0x52a3, 0x1, 0x1);
        gbc.writeMem(0xe13e, { 0x0, 0x0 });
        gbc.writeMem(0xe9b0, { 0xc4, 0x81, 0xa9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xe13e, gbc.sp());
        EXPECT(0xa981, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb3, gbc.readMem(0xe13e));
        EXPECT(0xe9, gbc.readMem(0xe13f));
        EXPECT(0xc4, gbc.readMem(0xe9b0));
        EXPECT(0x81, gbc.readMem(0xe9b1));
        EXPECT(0xa9, gbc.readMem(0xe9b2));
        // C4 001A
        gbc.setState(0xac9a, 0x41f7, 0xef0, 0xbc1c, 0xa17d, 0x4253, 0x1, 0x0);
        gbc.writeMem(0xac9a, { 0xc4, 0x29, 0xed });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x41f7, gbc.sp());
        EXPECT(0xac9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xac9a));
        EXPECT(0x29, gbc.readMem(0xac9b));
        EXPECT(0xed, gbc.readMem(0xac9c));
        // C4 001B
        gbc.setState(0xb40f, 0x22bd, 0x7490, 0xa5b5, 0x112d, 0x70c6, 0x0, 0x1);
        gbc.writeMem(0xb40f, { 0xc4, 0xb3, 0x8c });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x22bd, gbc.sp());
        EXPECT(0xb412, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb40f));
        EXPECT(0xb3, gbc.readMem(0xb410));
        EXPECT(0x8c, gbc.readMem(0xb411));
        // C4 001C
        gbc.setState(0xb7c3, 0xdcff, 0xe750, 0x3e75, 0xf1d6, 0x5d86, 0x0, 0x1);
        gbc.writeMem(0xb7c3, { 0xc4, 0xf1, 0xf });
        gbc.writeMem(0xdcfd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xdcfd, gbc.sp());
        EXPECT(0xff1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb7c3));
        EXPECT(0xf1, gbc.readMem(0xb7c4));
        EXPECT(0xf, gbc.readMem(0xb7c5));
        EXPECT(0xc6, gbc.readMem(0xdcfd));
        EXPECT(0xb7, gbc.readMem(0xdcfe));
        // C4 001D
        gbc.setState(0xa553, 0xf970, 0x3f80, 0x1c7, 0x5cac, 0xa88e, 0x0, 0x1);
        gbc.writeMem(0xa553, { 0xc4, 0x3f, 0xce });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf970, gbc.sp());
        EXPECT(0xa556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa553));
        EXPECT(0x3f, gbc.readMem(0xa554));
        EXPECT(0xce, gbc.readMem(0xa555));
        // C4 001E
        gbc.setState(0x457, 0xb457, 0x34b0, 0x6e1f, 0x9bcc, 0xf3ea, 0x0, 0x0);
        gbc.writeMem(0x457, { 0xc4, 0xc1, 0xb9 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xb457, gbc.sp());
        EXPECT(0x45a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 001F
        gbc.setState(0xeb90, 0x207a, 0xe490, 0x810e, 0x6006, 0x9763, 0x1, 0x1);
        gbc.writeMem(0xeb90, { 0xc4, 0xce, 0xab });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x207a, gbc.sp());
        EXPECT(0xeb93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xeb90));
        EXPECT(0xce, gbc.readMem(0xeb91));
        EXPECT(0xab, gbc.readMem(0xeb92));
        // C4 0021
        gbc.setState(0x9745, 0x9621, 0xb530, 0xdca2, 0x818e, 0x2409, 0x0, 0x0);
        gbc.writeMem(0x961f, { 0x0, 0x0 });
        gbc.writeMem(0x9745, { 0xc4, 0xcf, 0x65 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x961f, gbc.sp());
        EXPECT(0x65cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x48, gbc.readMem(0x961f));
        EXPECT(0x97, gbc.readMem(0x9620));
        EXPECT(0xc4, gbc.readMem(0x9745));
        EXPECT(0xcf, gbc.readMem(0x9746));
        EXPECT(0x65, gbc.readMem(0x9747));
        // C4 0022
        gbc.setState(0xf03, 0x3812, 0x2190, 0x5f9e, 0x711a, 0xe21b, 0x1, 0x1);
        gbc.writeMem(0xf03, { 0xc4, 0xb6, 0xcf });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x3812, gbc.sp());
        EXPECT(0xf06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0024
        gbc.setState(0xb105, 0xbbd5, 0xdc80, 0x6e2c, 0xa4f, 0xf1ca, 0x1, 0x0);
        gbc.writeMem(0xb105, { 0xc4, 0xc4, 0xa5 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xbbd5, gbc.sp());
        EXPECT(0xb108, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb105));
        EXPECT(0xc4, gbc.readMem(0xb106));
        EXPECT(0xa5, gbc.readMem(0xb107));
        // C4 0025
        gbc.setState(0xa40c, 0xb4d0, 0x95f0, 0xf0c8, 0xd9f6, 0x77db, 0x1, 0x0);
        gbc.writeMem(0xa40c, { 0xc4, 0x6f, 0x0 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xb4d0, gbc.sp());
        EXPECT(0xa40f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa40c));
        EXPECT(0x6f, gbc.readMem(0xa40d));
        EXPECT(0x0, gbc.readMem(0xa40e));
        // C4 0026
        gbc.setState(0xc1d, 0xcbcb, 0xe4a0, 0x6e60, 0xcc21, 0x9392, 0x1, 0x1);
        gbc.writeMem(0xc1d, { 0xc4, 0x55, 0x7a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xcbcb, gbc.sp());
        EXPECT(0xc20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0027
        gbc.setState(0x9cea, 0x8b62, 0xe8b0, 0x1ecc, 0x79d0, 0xbd9f, 0x1, 0x0);
        gbc.writeMem(0x9cea, { 0xc4, 0xf5, 0xb2 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x8b62, gbc.sp());
        EXPECT(0x9ced, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9cea));
        EXPECT(0xf5, gbc.readMem(0x9ceb));
        EXPECT(0xb2, gbc.readMem(0x9cec));
        // C4 0028
        gbc.setState(0x69d3, 0x1187, 0xfaf0, 0x82ed, 0x3901, 0x9d15, 0x1, 0x0);
        gbc.writeMem(0x69d3, { 0xc4, 0x92, 0x2f });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x1187, gbc.sp());
        EXPECT(0x69d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 002B
        gbc.setState(0x16d8, 0x5bac, 0x36e0, 0x67ac, 0x176c, 0xced9, 0x1, 0x0);
        gbc.writeMem(0x16d8, { 0xc4, 0xde, 0x6f });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5bac, gbc.sp());
        EXPECT(0x16db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 002D
        gbc.setState(0x4201, 0xe106, 0x1750, 0x84d5, 0x81b1, 0x8b57, 0x0, 0x1);
        gbc.writeMem(0x4201, { 0xc4, 0x77, 0xa6 });
        gbc.writeMem(0xe104, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xe104, gbc.sp());
        EXPECT(0xa677, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4, gbc.readMem(0xe104));
        EXPECT(0x42, gbc.readMem(0xe105));
        // C4 0030
        gbc.setState(0x375d, 0xe148, 0x3050, 0x39cd, 0x1eaa, 0x33b5, 0x1, 0x1);
        gbc.writeMem(0x375d, { 0xc4, 0x90, 0x94 });
        gbc.writeMem(0xe146, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xe146, gbc.sp());
        EXPECT(0x9490, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0xe146));
        EXPECT(0x37, gbc.readMem(0xe147));
        // C4 0031
        gbc.setState(0x1043, 0xf426, 0xb380, 0xcb7, 0xbddd, 0x35ef, 0x1, 0x0);
        gbc.writeMem(0x1043, { 0xc4, 0xfc, 0x4b });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xf426, gbc.sp());
        EXPECT(0x1046, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0034
        gbc.setState(0x3657, 0xbc6b, 0xcd10, 0x7150, 0x666b, 0x491d, 0x1, 0x1);
        gbc.writeMem(0x3657, { 0xc4, 0xcd, 0xd7 });
        gbc.writeMem(0xbc69, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xbc69, gbc.sp());
        EXPECT(0xd7cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5a, gbc.readMem(0xbc69));
        EXPECT(0x36, gbc.readMem(0xbc6a));
        // C4 0035
        gbc.setState(0x81d2, 0xa4f, 0x1990, 0x8bd0, 0x4f43, 0xc29a, 0x0, 0x0);
        gbc.writeMem(0x81d2, { 0xc4, 0x99, 0x6a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa4f, gbc.sp());
        EXPECT(0x81d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x81d2));
        EXPECT(0x99, gbc.readMem(0x81d3));
        EXPECT(0x6a, gbc.readMem(0x81d4));
        // C4 0036
        gbc.setState(0x8ea, 0x6ce6, 0xbbe0, 0x715b, 0xf727, 0x18f8, 0x0, 0x0);
        gbc.writeMem(0x8ea, { 0xc4, 0xf9, 0x6b });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x6ce6, gbc.sp());
        EXPECT(0x8ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0037
        gbc.setState(0x112a, 0x7eef, 0x53c0, 0x6689, 0xc662, 0x7d5f, 0x0, 0x0);
        gbc.writeMem(0x112a, { 0xc4, 0xa5, 0xef });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7eef, gbc.sp());
        EXPECT(0x112d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0038
        gbc.setState(0x77e1, 0xae44, 0x21c0, 0x35ce, 0xe6bf, 0x4f95, 0x1, 0x0);
        gbc.writeMem(0x77e1, { 0xc4, 0xfd, 0xf2 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xae44, gbc.sp());
        EXPECT(0x77e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 003A
        gbc.setState(0x42b9, 0xd336, 0xa9d0, 0xd82e, 0x2165, 0xd446, 0x1, 0x1);
        gbc.writeMem(0x42b9, { 0xc4, 0xf8, 0x85 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xd336, gbc.sp());
        EXPECT(0x42bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 003B
        gbc.setState(0x54cd, 0xdc8, 0xfac0, 0x16f3, 0xf8f4, 0x277c, 0x1, 0x1);
        gbc.writeMem(0x54cd, { 0xc4, 0x28, 0xb3 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xdc8, gbc.sp());
        EXPECT(0x54d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 003C
        gbc.setState(0xe5d8, 0xba58, 0xcc30, 0x3c78, 0x1b78, 0x5fbb, 0x1, 0x1);
        gbc.writeMem(0xba56, { 0x0, 0x0 });
        gbc.writeMem(0xe5d8, { 0xc4, 0xcc, 0xf });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xba56, gbc.sp());
        EXPECT(0xfcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0xba56));
        EXPECT(0xe5, gbc.readMem(0xba57));
        EXPECT(0xc4, gbc.readMem(0xe5d8));
        EXPECT(0xcc, gbc.readMem(0xe5d9));
        EXPECT(0xf, gbc.readMem(0xe5da));
        // C4 003D
        gbc.setState(0x2d97, 0xd7b8, 0xcf10, 0xffdd, 0xc635, 0x5acc, 0x1, 0x0);
        gbc.writeMem(0x2d97, { 0xc4, 0x85, 0x2b });
        gbc.writeMem(0xd7b6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xd7b6, gbc.sp());
        EXPECT(0x2b85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9a, gbc.readMem(0xd7b6));
        EXPECT(0x2d, gbc.readMem(0xd7b7));
        // C4 003E
        gbc.setState(0x3323, 0x6b02, 0x180, 0x9f81, 0x351f, 0x3a8, 0x0, 0x1);
        gbc.writeMem(0x3323, { 0xc4, 0xde, 0xc4 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x6b02, gbc.sp());
        EXPECT(0x3326, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 003F
        gbc.setState(0xa6a6, 0x4ef3, 0xefb0, 0x1c15, 0xadcc, 0xbdfc, 0x0, 0x1);
        gbc.writeMem(0xa6a6, { 0xc4, 0x39, 0xd });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x4ef3, gbc.sp());
        EXPECT(0xa6a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa6a6));
        EXPECT(0x39, gbc.readMem(0xa6a7));
        EXPECT(0xd, gbc.readMem(0xa6a8));
        // C4 0041
        gbc.setState(0x8c2c, 0x99c3, 0xb550, 0x263b, 0x6279, 0xadc5, 0x0, 0x1);
        gbc.writeMem(0x8c2c, { 0xc4, 0xcc, 0x8d });
        gbc.writeMem(0x99c1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x99c1, gbc.sp());
        EXPECT(0x8dcc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8c2c));
        EXPECT(0xcc, gbc.readMem(0x8c2d));
        EXPECT(0x8d, gbc.readMem(0x8c2e));
        EXPECT(0x2f, gbc.readMem(0x99c1));
        EXPECT(0x8c, gbc.readMem(0x99c2));
        // C4 0043
        gbc.setState(0x5429, 0x6301, 0x14f0, 0x6, 0x2b16, 0x5991, 0x0, 0x1);
        gbc.writeMem(0x5429, { 0xc4, 0xd, 0xa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x6301, gbc.sp());
        EXPECT(0x542c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0044
        gbc.setState(0xbc5f, 0x25ea, 0x34e0, 0xd8e8, 0x5419, 0xabf3, 0x1, 0x0);
        gbc.writeMem(0xbc5f, { 0xc4, 0x5b, 0x32 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x25ea, gbc.sp());
        EXPECT(0xbc62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbc5f));
        EXPECT(0x5b, gbc.readMem(0xbc60));
        EXPECT(0x32, gbc.readMem(0xbc61));
        // C4 0045
        gbc.setState(0xc1d8, 0x8858, 0x9a60, 0x58df, 0x8fd4, 0x71e2, 0x1, 0x1);
        gbc.writeMem(0x8856, { 0x0, 0x0 });
        gbc.writeMem(0xc1d8, { 0xc4, 0x4d, 0x7c });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x8856, gbc.sp());
        EXPECT(0x7c4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0x8856));
        EXPECT(0xc1, gbc.readMem(0x8857));
        EXPECT(0xc4, gbc.readMem(0xc1d8));
        EXPECT(0x4d, gbc.readMem(0xc1d9));
        EXPECT(0x7c, gbc.readMem(0xc1da));
        // C4 0046
        gbc.setState(0xe962, 0xcf8a, 0xb350, 0x438d, 0x46f0, 0x15d2, 0x0, 0x0);
        gbc.writeMem(0xcf88, { 0x0, 0x0 });
        gbc.writeMem(0xe962, { 0xc4, 0xa, 0x51 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xcf88, gbc.sp());
        EXPECT(0x510a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x65, gbc.readMem(0xcf88));
        EXPECT(0xe9, gbc.readMem(0xcf89));
        EXPECT(0xc4, gbc.readMem(0xe962));
        EXPECT(0xa, gbc.readMem(0xe963));
        EXPECT(0x51, gbc.readMem(0xe964));
        // C4 0047
        gbc.setState(0xab06, 0xc014, 0xdb0, 0xc6d4, 0x81b4, 0x6227, 0x1, 0x1);
        gbc.writeMem(0xab06, { 0xc4, 0x7, 0x65 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xc014, gbc.sp());
        EXPECT(0xab09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xab06));
        EXPECT(0x7, gbc.readMem(0xab07));
        EXPECT(0x65, gbc.readMem(0xab08));
        // C4 0048
        gbc.setState(0x8e34, 0x8a4a, 0x18d0, 0x9a5e, 0x2ba5, 0x17cb, 0x1, 0x0);
        gbc.writeMem(0x8e34, { 0xc4, 0x82, 0x9c });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8a4a, gbc.sp());
        EXPECT(0x8e37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8e34));
        EXPECT(0x82, gbc.readMem(0x8e35));
        EXPECT(0x9c, gbc.readMem(0x8e36));
        // C4 0049
        gbc.setState(0xbb0e, 0x9e67, 0x930, 0x843b, 0xde31, 0x150d, 0x0, 0x0);
        gbc.writeMem(0x9e65, { 0x0, 0x0 });
        gbc.writeMem(0xbb0e, { 0xc4, 0x7c, 0x62 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x9e65, gbc.sp());
        EXPECT(0x627c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x11, gbc.readMem(0x9e65));
        EXPECT(0xbb, gbc.readMem(0x9e66));
        EXPECT(0xc4, gbc.readMem(0xbb0e));
        EXPECT(0x7c, gbc.readMem(0xbb0f));
        EXPECT(0x62, gbc.readMem(0xbb10));
        // C4 004A
        gbc.setState(0xc617, 0x356d, 0x7dc0, 0x46ab, 0x6750, 0x27f0, 0x0, 0x1);
        gbc.writeMem(0xc617, { 0xc4, 0x3a, 0x7 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x356d, gbc.sp());
        EXPECT(0xc61a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc617));
        EXPECT(0x3a, gbc.readMem(0xc618));
        EXPECT(0x7, gbc.readMem(0xc619));
        // C4 004B
        gbc.setState(0x75e0, 0xbe36, 0xf640, 0xe9ae, 0xc058, 0x9afa, 0x0, 0x1);
        gbc.writeMem(0x75e0, { 0xc4, 0xd2, 0xcf });
        gbc.writeMem(0xbe34, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xbe34, gbc.sp());
        EXPECT(0xcfd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0xbe34));
        EXPECT(0x75, gbc.readMem(0xbe35));
        // C4 004C
        gbc.setState(0x1ab3, 0xb405, 0x50, 0x1ee1, 0x7d25, 0x989b, 0x1, 0x1);
        gbc.writeMem(0x1ab3, { 0xc4, 0x39, 0x4 });
        gbc.writeMem(0xb403, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb403, gbc.sp());
        EXPECT(0x439, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb6, gbc.readMem(0xb403));
        EXPECT(0x1a, gbc.readMem(0xb404));
        // C4 004E
        gbc.setState(0xc66f, 0xd701, 0x390, 0x3da7, 0xa1ac, 0x57be, 0x1, 0x0);
        gbc.writeMem(0xc66f, { 0xc4, 0x22, 0x72 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd701, gbc.sp());
        EXPECT(0xc672, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc66f));
        EXPECT(0x22, gbc.readMem(0xc670));
        EXPECT(0x72, gbc.readMem(0xc671));
        // C4 0051
        gbc.setState(0x58f5, 0xed2c, 0xc600, 0xd00a, 0x613e, 0x6f6c, 0x1, 0x0);
        gbc.writeMem(0x58f5, { 0xc4, 0x27, 0x1f });
        gbc.writeMem(0xed2a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xed2a, gbc.sp());
        EXPECT(0x1f27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf8, gbc.readMem(0xed2a));
        EXPECT(0x58, gbc.readMem(0xed2b));
        // C4 0052
        gbc.setState(0x50ba, 0x95a1, 0x2b60, 0xbfa9, 0x6415, 0xc924, 0x0, 0x0);
        gbc.writeMem(0x50ba, { 0xc4, 0x1a, 0xb4 });
        gbc.writeMem(0x959f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x959f, gbc.sp());
        EXPECT(0xb41a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbd, gbc.readMem(0x959f));
        EXPECT(0x50, gbc.readMem(0x95a0));
        // C4 0053
        gbc.setState(0x7edb, 0xef78, 0x2b30, 0xc58d, 0xe8ce, 0xe97f, 0x0, 0x0);
        gbc.writeMem(0x7edb, { 0xc4, 0x27, 0xd6 });
        gbc.writeMem(0xef76, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xef76, gbc.sp());
        EXPECT(0xd627, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xde, gbc.readMem(0xef76));
        EXPECT(0x7e, gbc.readMem(0xef77));
        // C4 0054
        gbc.setState(0x8615, 0xafad, 0x3e60, 0x2c8d, 0x14b8, 0x5d42, 0x0, 0x1);
        gbc.writeMem(0x8615, { 0xc4, 0xb6, 0xd7 });
        gbc.writeMem(0xafab, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xafab, gbc.sp());
        EXPECT(0xd7b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8615));
        EXPECT(0xb6, gbc.readMem(0x8616));
        EXPECT(0xd7, gbc.readMem(0x8617));
        EXPECT(0x18, gbc.readMem(0xafab));
        EXPECT(0x86, gbc.readMem(0xafac));
        // C4 0059
        gbc.setState(0x5733, 0x7e65, 0xfd0, 0xd564, 0x276e, 0x1bd1, 0x0, 0x0);
        gbc.writeMem(0x5733, { 0xc4, 0x85, 0x5a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x7e65, gbc.sp());
        EXPECT(0x5736, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 005A
        gbc.setState(0xbff6, 0x8096, 0x7d10, 0xa87b, 0x247c, 0x9ed3, 0x1, 0x0);
        gbc.writeMem(0x8094, { 0x0, 0x0 });
        gbc.writeMem(0xbff6, { 0xc4, 0x5c, 0xb6 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x8094, gbc.sp());
        EXPECT(0xb65c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0x8094));
        EXPECT(0xbf, gbc.readMem(0x8095));
        EXPECT(0xc4, gbc.readMem(0xbff6));
        EXPECT(0x5c, gbc.readMem(0xbff7));
        EXPECT(0xb6, gbc.readMem(0xbff8));
        // C4 005B
        gbc.setState(0xbdc6, 0xadbc, 0x45b0, 0x2a14, 0x2b73, 0x8cef, 0x1, 0x0);
        gbc.writeMem(0xbdc6, { 0xc4, 0xe2, 0xb6 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xadbc, gbc.sp());
        EXPECT(0xbdc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbdc6));
        EXPECT(0xe2, gbc.readMem(0xbdc7));
        EXPECT(0xb6, gbc.readMem(0xbdc8));
        // C4 005C
        gbc.setState(0xe279, 0xbdbf, 0x7660, 0xf7c9, 0x4424, 0xe49, 0x1, 0x0);
        gbc.writeMem(0xbdbd, { 0x0, 0x0 });
        gbc.writeMem(0xe279, { 0xc4, 0x6b, 0x9c });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xbdbd, gbc.sp());
        EXPECT(0x9c6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7c, gbc.readMem(0xbdbd));
        EXPECT(0xe2, gbc.readMem(0xbdbe));
        EXPECT(0xc4, gbc.readMem(0xe279));
        EXPECT(0x6b, gbc.readMem(0xe27a));
        EXPECT(0x9c, gbc.readMem(0xe27b));
        // C4 0060
        gbc.setState(0x7c1a, 0xa19b, 0x2250, 0x5d3b, 0x31f0, 0x89f, 0x0, 0x1);
        gbc.writeMem(0x7c1a, { 0xc4, 0x42, 0x19 });
        gbc.writeMem(0xa199, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xa199, gbc.sp());
        EXPECT(0x1942, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x1d, gbc.readMem(0xa199));
        EXPECT(0x7c, gbc.readMem(0xa19a));
        // C4 0064
        gbc.setState(0x2699, 0xdc9a, 0xd200, 0xd6c9, 0x6cfb, 0x2319, 0x1, 0x0);
        gbc.writeMem(0x2699, { 0xc4, 0xae, 0x2b });
        gbc.writeMem(0xdc98, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xdc98, gbc.sp());
        EXPECT(0x2bae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9c, gbc.readMem(0xdc98));
        EXPECT(0x26, gbc.readMem(0xdc99));
        // C4 0065
        gbc.setState(0x2192, 0xd8f1, 0x6a60, 0x773, 0x99b, 0x4866, 0x0, 0x0);
        gbc.writeMem(0x2192, { 0xc4, 0x55, 0x3d });
        gbc.writeMem(0xd8ef, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xd8ef, gbc.sp());
        EXPECT(0x3d55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x95, gbc.readMem(0xd8ef));
        EXPECT(0x21, gbc.readMem(0xd8f0));
        // C4 0066
        gbc.setState(0x5692, 0xc83c, 0x7fe0, 0xbee8, 0x82d6, 0x1b80, 0x0, 0x0);
        gbc.writeMem(0x5692, { 0xc4, 0x58, 0xb1 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xc83c, gbc.sp());
        EXPECT(0x5695, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0067
        gbc.setState(0xd652, 0x1c4, 0xcbf0, 0x43a0, 0x1d9a, 0x46f2, 0x1, 0x1);
        gbc.writeMem(0xd652, { 0xc4, 0x23, 0x66 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1c4, gbc.sp());
        EXPECT(0xd655, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd652));
        EXPECT(0x23, gbc.readMem(0xd653));
        EXPECT(0x66, gbc.readMem(0xd654));
        // C4 0068
        gbc.setState(0x1dde, 0xb74f, 0xd7d0, 0x963d, 0x7112, 0x1337, 0x1, 0x1);
        gbc.writeMem(0x1dde, { 0xc4, 0x50, 0x3f });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb74f, gbc.sp());
        EXPECT(0x1de1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0069
        gbc.setState(0x9ff0, 0xfc24, 0x4020, 0x6495, 0x23f9, 0xb95, 0x0, 0x1);
        gbc.writeMem(0x9ff0, { 0xc4, 0xc2, 0x65 });
        gbc.writeMem(0xfc22, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xfc22, gbc.sp());
        EXPECT(0x65c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9ff0));
        EXPECT(0xc2, gbc.readMem(0x9ff1));
        EXPECT(0x65, gbc.readMem(0x9ff2));
        EXPECT(0xf3, gbc.readMem(0xfc22));
        EXPECT(0x9f, gbc.readMem(0xfc23));
        // C4 006A
        gbc.setState(0x314b, 0x9b95, 0x6270, 0x5a0f, 0xf6d8, 0x7237, 0x1, 0x1);
        gbc.writeMem(0x314b, { 0xc4, 0xed, 0xf6 });
        gbc.writeMem(0x9b93, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x9b93, gbc.sp());
        EXPECT(0xf6ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4e, gbc.readMem(0x9b93));
        EXPECT(0x31, gbc.readMem(0x9b94));
        // C4 006C
        gbc.setState(0xd3c0, 0xe572, 0xc080, 0x9df1, 0x8667, 0xe97f, 0x1, 0x1);
        gbc.writeMem(0xd3c0, { 0xc4, 0xd0, 0xea });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe572, gbc.sp());
        EXPECT(0xd3c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd3c0));
        EXPECT(0xd0, gbc.readMem(0xd3c1));
        EXPECT(0xea, gbc.readMem(0xd3c2));
        // C4 006D
        gbc.setState(0x691, 0xc04e, 0xa750, 0xb985, 0x87cc, 0x325b, 0x0, 0x1);
        gbc.writeMem(0x691, { 0xc4, 0xa5, 0xe6 });
        gbc.writeMem(0xc04c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xc04c, gbc.sp());
        EXPECT(0xe6a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xc04c));
        EXPECT(0x6, gbc.readMem(0xc04d));
        // C4 0070
        gbc.setState(0x1fa, 0xe0f1, 0xd780, 0x693b, 0x9de, 0x3f2d, 0x1, 0x1);
        gbc.writeMem(0x1fa, { 0xc4, 0x7b, 0x87 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xe0f1, gbc.sp());
        EXPECT(0x1fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0072
        gbc.setState(0xc79a, 0x493e, 0x94c0, 0xe452, 0xf753, 0xf916, 0x0, 0x0);
        gbc.writeMem(0xc79a, { 0xc4, 0x8c, 0x62 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x493e, gbc.sp());
        EXPECT(0xc79d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc79a));
        EXPECT(0x8c, gbc.readMem(0xc79b));
        EXPECT(0x62, gbc.readMem(0xc79c));
        // C4 0074
        gbc.setState(0xa9a4, 0x8957, 0x9da0, 0x2557, 0x6d91, 0x6829, 0x0, 0x0);
        gbc.writeMem(0xa9a4, { 0xc4, 0xeb, 0xe });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x8957, gbc.sp());
        EXPECT(0xa9a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa9a4));
        EXPECT(0xeb, gbc.readMem(0xa9a5));
        EXPECT(0xe, gbc.readMem(0xa9a6));
        // C4 0075
        gbc.setState(0xd0c4, 0xb04c, 0xad20, 0x58bc, 0x7b4a, 0xb8ed, 0x1, 0x0);
        gbc.writeMem(0xb04a, { 0x0, 0x0 });
        gbc.writeMem(0xd0c4, { 0xc4, 0x3c, 0x6e });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xb04a, gbc.sp());
        EXPECT(0x6e3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc7, gbc.readMem(0xb04a));
        EXPECT(0xd0, gbc.readMem(0xb04b));
        EXPECT(0xc4, gbc.readMem(0xd0c4));
        EXPECT(0x3c, gbc.readMem(0xd0c5));
        EXPECT(0x6e, gbc.readMem(0xd0c6));
        // C4 0076
        gbc.setState(0x7c25, 0x94a2, 0x9270, 0x73b5, 0x54d8, 0xb76b, 0x0, 0x0);
        gbc.writeMem(0x7c25, { 0xc4, 0x64, 0x6c });
        gbc.writeMem(0x94a0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x94a0, gbc.sp());
        EXPECT(0x6c64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x94a0));
        EXPECT(0x7c, gbc.readMem(0x94a1));
        // C4 0079
        gbc.setState(0x994a, 0xab42, 0x9aa0, 0x49f9, 0x2a6, 0x7e4c, 0x1, 0x1);
        gbc.writeMem(0x994a, { 0xc4, 0xe9, 0x80 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xab42, gbc.sp());
        EXPECT(0x994d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x994a));
        EXPECT(0xe9, gbc.readMem(0x994b));
        EXPECT(0x80, gbc.readMem(0x994c));
        // C4 007A
        gbc.setState(0x9e2e, 0xe20, 0xc5c0, 0x5aa2, 0x5f55, 0x1e03, 0x0, 0x0);
        gbc.writeMem(0x9e2e, { 0xc4, 0xf7, 0xd7 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xe20, gbc.sp());
        EXPECT(0x9e31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9e2e));
        EXPECT(0xf7, gbc.readMem(0x9e2f));
        EXPECT(0xd7, gbc.readMem(0x9e30));
        // C4 007B
        gbc.setState(0xb80f, 0xfebb, 0x8150, 0x4a50, 0xa37f, 0x722a, 0x0, 0x0);
        gbc.writeMem(0xb80f, { 0xc4, 0x73, 0x70 });
        gbc.writeMem(0xfeb9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xfeb9, gbc.sp());
        EXPECT(0x7073, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb80f));
        EXPECT(0x73, gbc.readMem(0xb810));
        EXPECT(0x70, gbc.readMem(0xb811));
        EXPECT(0x12, gbc.readMem(0xfeb9));
        EXPECT(0xb8, gbc.readMem(0xfeba));
        // C4 007D
        gbc.setState(0xb5c1, 0x91be, 0xda00, 0xc0ec, 0x9978, 0x695b, 0x1, 0x1);
        gbc.writeMem(0x91bc, { 0x0, 0x0 });
        gbc.writeMem(0xb5c1, { 0xc4, 0x0, 0x80 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x91bc, gbc.sp());
        EXPECT(0x8000, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x91bc));
        EXPECT(0xb5, gbc.readMem(0x91bd));
        EXPECT(0xc4, gbc.readMem(0xb5c1));
        EXPECT(0x0, gbc.readMem(0xb5c2));
        EXPECT(0x80, gbc.readMem(0xb5c3));
        // C4 007E
        gbc.setState(0x661b, 0xaade, 0x5ca0, 0x84b7, 0x599d, 0x8ac6, 0x1, 0x0);
        gbc.writeMem(0x661b, { 0xc4, 0x71, 0x28 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xaade, gbc.sp());
        EXPECT(0x661e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 007F
        gbc.setState(0x4644, 0x14a4, 0xecc0, 0xa4e3, 0xf19, 0xd680, 0x1, 0x1);
        gbc.writeMem(0x4644, { 0xc4, 0xad, 0xce });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x14a4, gbc.sp());
        EXPECT(0x4647, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0080
        gbc.setState(0xd5a7, 0x1503, 0x94e0, 0x3b59, 0x3a4c, 0x65c6, 0x0, 0x1);
        gbc.writeMem(0xd5a7, { 0xc4, 0x30, 0xf6 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x1503, gbc.sp());
        EXPECT(0xd5aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd5a7));
        EXPECT(0x30, gbc.readMem(0xd5a8));
        EXPECT(0xf6, gbc.readMem(0xd5a9));
        // C4 0081
        gbc.setState(0x3eab, 0xa4bb, 0x3bc0, 0x49fc, 0x160e, 0x264b, 0x0, 0x1);
        gbc.writeMem(0x3eab, { 0xc4, 0x96, 0x15 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xa4bb, gbc.sp());
        EXPECT(0x3eae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0082
        gbc.setState(0x263c, 0xb2f6, 0xdf90, 0xb05d, 0x7d8e, 0x92c0, 0x0, 0x1);
        gbc.writeMem(0x263c, { 0xc4, 0x3, 0xe6 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xb2f6, gbc.sp());
        EXPECT(0x263f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0086
        gbc.setState(0xdb97, 0xb9fa, 0x91c0, 0x8c0d, 0x3bb0, 0xe34d, 0x1, 0x0);
        gbc.writeMem(0xdb97, { 0xc4, 0x9f, 0xa });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb9fa, gbc.sp());
        EXPECT(0xdb9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdb97));
        EXPECT(0x9f, gbc.readMem(0xdb98));
        EXPECT(0xa, gbc.readMem(0xdb99));
        // C4 0088
        gbc.setState(0xb71b, 0xa6b8, 0x67d0, 0xe85, 0x61a8, 0x662f, 0x1, 0x0);
        gbc.writeMem(0xb71b, { 0xc4, 0x9b, 0x24 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xa6b8, gbc.sp());
        EXPECT(0xb71e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb71b));
        EXPECT(0x9b, gbc.readMem(0xb71c));
        EXPECT(0x24, gbc.readMem(0xb71d));
        // C4 008A
        gbc.setState(0x5cb2, 0xc33e, 0xc870, 0xcedc, 0xcbc0, 0xdfd7, 0x1, 0x1);
        gbc.writeMem(0x5cb2, { 0xc4, 0x1a, 0xc4 });
        gbc.writeMem(0xc33c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xc33c, gbc.sp());
        EXPECT(0xc41a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb5, gbc.readMem(0xc33c));
        EXPECT(0x5c, gbc.readMem(0xc33d));
        // C4 008B
        gbc.setState(0x60c0, 0xe727, 0xdc30, 0x4dc, 0x458e, 0x704b, 0x1, 0x1);
        gbc.writeMem(0x60c0, { 0xc4, 0xd1, 0x90 });
        gbc.writeMem(0xe725, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xe725, gbc.sp());
        EXPECT(0x90d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc3, gbc.readMem(0xe725));
        EXPECT(0x60, gbc.readMem(0xe726));
        // C4 008E
        gbc.setState(0x17ac, 0xfdc1, 0x16b0, 0x1537, 0x5a11, 0x53d3, 0x1, 0x0);
        gbc.writeMem(0x17ac, { 0xc4, 0xf, 0x43 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xfdc1, gbc.sp());
        EXPECT(0x17af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 008F
        gbc.setState(0xe367, 0x81c7, 0xd060, 0x936f, 0xd072, 0x80c0, 0x1, 0x1);
        gbc.writeMem(0x81c5, { 0x0, 0x0 });
        gbc.writeMem(0xe367, { 0xc4, 0xc9, 0x61 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x81c5, gbc.sp());
        EXPECT(0x61c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6a, gbc.readMem(0x81c5));
        EXPECT(0xe3, gbc.readMem(0x81c6));
        EXPECT(0xc4, gbc.readMem(0xe367));
        EXPECT(0xc9, gbc.readMem(0xe368));
        EXPECT(0x61, gbc.readMem(0xe369));
        // C4 0090
        gbc.setState(0xcd46, 0x9231, 0x6280, 0x762e, 0x6619, 0x8dc7, 0x0, 0x1);
        gbc.writeMem(0xcd46, { 0xc4, 0xdc, 0xb1 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x9231, gbc.sp());
        EXPECT(0xcd49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcd46));
        EXPECT(0xdc, gbc.readMem(0xcd47));
        EXPECT(0xb1, gbc.readMem(0xcd48));
        // C4 0091
        gbc.setState(0xdae8, 0xf3bf, 0x1090, 0x3995, 0x4863, 0xeb1e, 0x1, 0x1);
        gbc.writeMem(0xdae8, { 0xc4, 0x6c, 0xa1 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xf3bf, gbc.sp());
        EXPECT(0xdaeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdae8));
        EXPECT(0x6c, gbc.readMem(0xdae9));
        EXPECT(0xa1, gbc.readMem(0xdaea));
        // C4 0092
        gbc.setState(0x1134, 0x5bf6, 0xb80, 0x9c69, 0x32a4, 0x5782, 0x1, 0x0);
        gbc.writeMem(0x1134, { 0xc4, 0xc0, 0xaa });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x5bf6, gbc.sp());
        EXPECT(0x1137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0094
        gbc.setState(0x8655, 0xa4bb, 0xfda0, 0x34b3, 0x9810, 0xe0ba, 0x1, 0x1);
        gbc.writeMem(0x8655, { 0xc4, 0xae, 0xfe });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xa4bb, gbc.sp());
        EXPECT(0x8658, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8655));
        EXPECT(0xae, gbc.readMem(0x8656));
        EXPECT(0xfe, gbc.readMem(0x8657));
        // C4 0095
        gbc.setState(0x1be0, 0xbfdf, 0xc460, 0xa459, 0x1a99, 0xdbb0, 0x1, 0x1);
        gbc.writeMem(0x1be0, { 0xc4, 0x31, 0x21 });
        gbc.writeMem(0xbfdd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xbfdd, gbc.sp());
        EXPECT(0x2131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0xbfdd));
        EXPECT(0x1b, gbc.readMem(0xbfde));
        // C4 0097
        gbc.setState(0x47f6, 0xc489, 0x2410, 0x9972, 0x9b5d, 0x64e9, 0x1, 0x0);
        gbc.writeMem(0x47f6, { 0xc4, 0xb7, 0xaf });
        gbc.writeMem(0xc487, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xc487, gbc.sp());
        EXPECT(0xafb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0xc487));
        EXPECT(0x47, gbc.readMem(0xc488));
        // C4 0098
        gbc.setState(0xecc9, 0x4a26, 0xdee0, 0x6ff3, 0xc183, 0xd538, 0x1, 0x0);
        gbc.writeMem(0xecc9, { 0xc4, 0xf9, 0xf0 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x4a26, gbc.sp());
        EXPECT(0xeccc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xecc9));
        EXPECT(0xf9, gbc.readMem(0xecca));
        EXPECT(0xf0, gbc.readMem(0xeccb));
        // C4 0099
        gbc.setState(0x96cf, 0x85a7, 0xbd40, 0xd57f, 0x1297, 0x8d0f, 0x0, 0x1);
        gbc.writeMem(0x85a5, { 0x0, 0x0 });
        gbc.writeMem(0x96cf, { 0xc4, 0xa2, 0x4a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x85a5, gbc.sp());
        EXPECT(0x4aa2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd2, gbc.readMem(0x85a5));
        EXPECT(0x96, gbc.readMem(0x85a6));
        EXPECT(0xc4, gbc.readMem(0x96cf));
        EXPECT(0xa2, gbc.readMem(0x96d0));
        EXPECT(0x4a, gbc.readMem(0x96d1));
        // C4 009B
        gbc.setState(0x6ec8, 0xe82e, 0x5cb0, 0x8e9e, 0x31b4, 0xa6cc, 0x1, 0x1);
        gbc.writeMem(0x6ec8, { 0xc4, 0x49, 0xd8 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xe82e, gbc.sp());
        EXPECT(0x6ecb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 009D
        gbc.setState(0xe7ec, 0xb36b, 0x63c0, 0xb7eb, 0xaf55, 0x3e56, 0x0, 0x0);
        gbc.writeMem(0xe7ec, { 0xc4, 0x5b, 0xec });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb36b, gbc.sp());
        EXPECT(0xe7ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe7ec));
        EXPECT(0x5b, gbc.readMem(0xe7ed));
        EXPECT(0xec, gbc.readMem(0xe7ee));
        // C4 009E
        gbc.setState(0x3c05, 0x3192, 0x77d0, 0x6149, 0xddee, 0x106b, 0x1, 0x1);
        gbc.writeMem(0x3c05, { 0xc4, 0x6c, 0xac });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3192, gbc.sp());
        EXPECT(0x3c08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 009F
        gbc.setState(0xc526, 0x12d4, 0x17a0, 0x6f9c, 0x717c, 0x3eed, 0x0, 0x0);
        gbc.writeMem(0xc526, { 0xc4, 0xaf, 0x6f });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x12d4, gbc.sp());
        EXPECT(0xc529, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc526));
        EXPECT(0xaf, gbc.readMem(0xc527));
        EXPECT(0x6f, gbc.readMem(0xc528));
        // C4 00A0
        gbc.setState(0x6f89, 0x532e, 0x5da0, 0x4388, 0xe0d8, 0x7965, 0x1, 0x1);
        gbc.writeMem(0x6f89, { 0xc4, 0x6a, 0x76 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x532e, gbc.sp());
        EXPECT(0x6f8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00A1
        gbc.setState(0xb0a2, 0x6e2e, 0xbf80, 0xbab5, 0x174e, 0x1ca5, 0x0, 0x0);
        gbc.writeMem(0xb0a2, { 0xc4, 0xc, 0xc3 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x6e2e, gbc.sp());
        EXPECT(0xb0a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb0a2));
        EXPECT(0xc, gbc.readMem(0xb0a3));
        EXPECT(0xc3, gbc.readMem(0xb0a4));
        // C4 00A2
        gbc.setState(0x4b7b, 0x8b87, 0x490, 0x1d9d, 0xfc7d, 0xfb28, 0x1, 0x1);
        gbc.writeMem(0x4b7b, { 0xc4, 0xd0, 0x3e });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x8b87, gbc.sp());
        EXPECT(0x4b7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00A5
        gbc.setState(0x1f94, 0x6faa, 0xa580, 0x63db, 0x76fe, 0x1b26, 0x0, 0x0);
        gbc.writeMem(0x1f94, { 0xc4, 0x9a, 0xc5 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x6faa, gbc.sp());
        EXPECT(0x1f97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00A7
        gbc.setState(0xd96e, 0xf24f, 0xf440, 0xb3a1, 0x1dbe, 0x6a56, 0x0, 0x0);
        gbc.writeMem(0xd96e, { 0xc4, 0x40, 0x6c });
        gbc.writeMem(0xf24d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xf24d, gbc.sp());
        EXPECT(0x6c40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd96e));
        EXPECT(0x40, gbc.readMem(0xd96f));
        EXPECT(0x6c, gbc.readMem(0xd970));
        EXPECT(0x71, gbc.readMem(0xf24d));
        EXPECT(0xd9, gbc.readMem(0xf24e));
        // C4 00A8
        gbc.setState(0x1de5, 0xaeb8, 0x2de0, 0xde86, 0xe4c3, 0x2c87, 0x0, 0x0);
        gbc.writeMem(0x1de5, { 0xc4, 0xcd, 0x7a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xaeb8, gbc.sp());
        EXPECT(0x1de8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00AA
        gbc.setState(0x690d, 0x1c9b, 0xc4c0, 0x37fc, 0x2217, 0xa464, 0x0, 0x1);
        gbc.writeMem(0x690d, { 0xc4, 0x38, 0x33 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x1c9b, gbc.sp());
        EXPECT(0x6910, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00AB
        gbc.setState(0xd892, 0x294d, 0x81f0, 0xb736, 0x8033, 0x193f, 0x0, 0x0);
        gbc.writeMem(0xd892, { 0xc4, 0x5e, 0xa4 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x294d, gbc.sp());
        EXPECT(0xd895, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd892));
        EXPECT(0x5e, gbc.readMem(0xd893));
        EXPECT(0xa4, gbc.readMem(0xd894));
        // C4 00AC
        gbc.setState(0xcac4, 0xecfd, 0xa710, 0x933b, 0xa7aa, 0x6222, 0x0, 0x0);
        gbc.writeMem(0xcac4, { 0xc4, 0x9b, 0xd6 });
        gbc.writeMem(0xecfb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xecfb, gbc.sp());
        EXPECT(0xd69b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcac4));
        EXPECT(0x9b, gbc.readMem(0xcac5));
        EXPECT(0xd6, gbc.readMem(0xcac6));
        EXPECT(0xc7, gbc.readMem(0xecfb));
        EXPECT(0xca, gbc.readMem(0xecfc));
        // C4 00AD
        gbc.setState(0xab66, 0xc314, 0x70c0, 0x1827, 0xc5bd, 0x5107, 0x1, 0x1);
        gbc.writeMem(0xab66, { 0xc4, 0x2e, 0xbc });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xc314, gbc.sp());
        EXPECT(0xab69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xab66));
        EXPECT(0x2e, gbc.readMem(0xab67));
        EXPECT(0xbc, gbc.readMem(0xab68));
        // C4 00AE
        gbc.setState(0xc7e3, 0xda73, 0x86d0, 0x3641, 0x740d, 0x223c, 0x0, 0x1);
        gbc.writeMem(0xc7e3, { 0xc4, 0x3, 0x80 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xda73, gbc.sp());
        EXPECT(0xc7e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc7e3));
        EXPECT(0x3, gbc.readMem(0xc7e4));
        EXPECT(0x80, gbc.readMem(0xc7e5));
        // C4 00AF
        gbc.setState(0x1a32, 0xee94, 0x7a50, 0xdc27, 0x3410, 0x4d8d, 0x1, 0x1);
        gbc.writeMem(0x1a32, { 0xc4, 0xdd, 0xd9 });
        gbc.writeMem(0xee92, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xee92, gbc.sp());
        EXPECT(0xd9dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x35, gbc.readMem(0xee92));
        EXPECT(0x1a, gbc.readMem(0xee93));
        // C4 00B0
        gbc.setState(0x9da4, 0xf678, 0x1190, 0x5ed8, 0xf746, 0x4c58, 0x1, 0x0);
        gbc.writeMem(0x9da4, { 0xc4, 0x41, 0x3a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xf678, gbc.sp());
        EXPECT(0x9da7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9da4));
        EXPECT(0x41, gbc.readMem(0x9da5));
        EXPECT(0x3a, gbc.readMem(0x9da6));
        // C4 00B1
        gbc.setState(0xe93a, 0xc26, 0x2ad0, 0xd8da, 0x6e5, 0xd229, 0x1, 0x0);
        gbc.writeMem(0xe93a, { 0xc4, 0xf8, 0x5b });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc26, gbc.sp());
        EXPECT(0xe93d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe93a));
        EXPECT(0xf8, gbc.readMem(0xe93b));
        EXPECT(0x5b, gbc.readMem(0xe93c));
        // C4 00B2
        gbc.setState(0x34dd, 0x9c06, 0x67c0, 0x61cf, 0x75a3, 0xc9cc, 0x0, 0x1);
        gbc.writeMem(0x34dd, { 0xc4, 0x7, 0xed });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x9c06, gbc.sp());
        EXPECT(0x34e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00B4
        gbc.setState(0x2a86, 0x75e6, 0xa4b0, 0x4b3c, 0xd1ec, 0x5bfd, 0x1, 0x1);
        gbc.writeMem(0x2a86, { 0xc4, 0xa8, 0x84 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x75e6, gbc.sp());
        EXPECT(0x2a89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00B5
        gbc.setState(0xdfec, 0xabe1, 0x2e0, 0xaaa8, 0xff1e, 0x5cdd, 0x1, 0x1);
        gbc.writeMem(0xdfec, { 0xc4, 0x98, 0x2d });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xabe1, gbc.sp());
        EXPECT(0xdfef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdfec));
        EXPECT(0x98, gbc.readMem(0xdfed));
        EXPECT(0x2d, gbc.readMem(0xdfee));
        // C4 00B7
        gbc.setState(0xb743, 0x8e48, 0xc1b0, 0x6547, 0xed11, 0x3268, 0x0, 0x0);
        gbc.writeMem(0xb743, { 0xc4, 0xdb, 0xd5 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8e48, gbc.sp());
        EXPECT(0xb746, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb743));
        EXPECT(0xdb, gbc.readMem(0xb744));
        EXPECT(0xd5, gbc.readMem(0xb745));
        // C4 00B8
        gbc.setState(0xe5e5, 0x95ff, 0x3b40, 0xac13, 0x142f, 0x938e, 0x1, 0x0);
        gbc.writeMem(0x95fd, { 0x0, 0x0 });
        gbc.writeMem(0xe5e5, { 0xc4, 0x12, 0x7d });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x95fd, gbc.sp());
        EXPECT(0x7d12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0x95fd));
        EXPECT(0xe5, gbc.readMem(0x95fe));
        EXPECT(0xc4, gbc.readMem(0xe5e5));
        EXPECT(0x12, gbc.readMem(0xe5e6));
        EXPECT(0x7d, gbc.readMem(0xe5e7));
        // C4 00B9
        gbc.setState(0x1e48, 0xac28, 0xc970, 0x4c96, 0xc6e4, 0x658d, 0x1, 0x1);
        gbc.writeMem(0x1e48, { 0xc4, 0x0, 0xf8 });
        gbc.writeMem(0xac26, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xac26, gbc.sp());
        EXPECT(0xf800, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4b, gbc.readMem(0xac26));
        EXPECT(0x1e, gbc.readMem(0xac27));
        // C4 00BA
        gbc.setState(0x2066, 0x84c0, 0xb200, 0xae83, 0x668a, 0x2a9c, 0x1, 0x1);
        gbc.writeMem(0x2066, { 0xc4, 0x44, 0x20 });
        gbc.writeMem(0x84be, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x84be, gbc.sp());
        EXPECT(0x2044, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x69, gbc.readMem(0x84be));
        EXPECT(0x20, gbc.readMem(0x84bf));
        // C4 00BC
        gbc.setState(0x7946, 0xd6ef, 0x5f30, 0x6eb, 0x7a1f, 0xa35d, 0x0, 0x1);
        gbc.writeMem(0x7946, { 0xc4, 0x3a, 0x67 });
        gbc.writeMem(0xd6ed, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xd6ed, gbc.sp());
        EXPECT(0x673a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x49, gbc.readMem(0xd6ed));
        EXPECT(0x79, gbc.readMem(0xd6ee));
        // C4 00BD
        gbc.setState(0x2974, 0x13a4, 0x94f0, 0xea71, 0x68c1, 0x99d8, 0x1, 0x1);
        gbc.writeMem(0x2974, { 0xc4, 0x2, 0xe2 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x13a4, gbc.sp());
        EXPECT(0x2977, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00BE
        gbc.setState(0xda36, 0x6716, 0x92e0, 0x3513, 0x468c, 0xbf59, 0x1, 0x0);
        gbc.writeMem(0xda36, { 0xc4, 0x3d, 0x6b });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x6716, gbc.sp());
        EXPECT(0xda39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xda36));
        EXPECT(0x3d, gbc.readMem(0xda37));
        EXPECT(0x6b, gbc.readMem(0xda38));
        // C4 00BF
        gbc.setState(0xac29, 0xed65, 0x5b50, 0x118c, 0xd9e1, 0x679, 0x1, 0x1);
        gbc.writeMem(0xac29, { 0xc4, 0xf4, 0x91 });
        gbc.writeMem(0xed63, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xed63, gbc.sp());
        EXPECT(0x91f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xac29));
        EXPECT(0xf4, gbc.readMem(0xac2a));
        EXPECT(0x91, gbc.readMem(0xac2b));
        EXPECT(0x2c, gbc.readMem(0xed63));
        EXPECT(0xac, gbc.readMem(0xed64));
        // C4 00C0
        gbc.setState(0x195a, 0xde94, 0x73c0, 0x4302, 0x5741, 0xa34a, 0x1, 0x1);
        gbc.writeMem(0x195a, { 0xc4, 0x28, 0x52 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xde94, gbc.sp());
        EXPECT(0x195d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00C1
        gbc.setState(0x32c, 0x6a20, 0xdad0, 0xa1b3, 0xda6e, 0xe824, 0x0, 0x1);
        gbc.writeMem(0x32c, { 0xc4, 0x10, 0x5a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x6a20, gbc.sp());
        EXPECT(0x32f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00C2
        gbc.setState(0x9286, 0xa4d5, 0xa5b0, 0x1907, 0x5b9f, 0xe946, 0x0, 0x1);
        gbc.writeMem(0x9286, { 0xc4, 0x30, 0x5a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa4d5, gbc.sp());
        EXPECT(0x9289, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9286));
        EXPECT(0x30, gbc.readMem(0x9287));
        EXPECT(0x5a, gbc.readMem(0x9288));
        // C4 00C6
        gbc.setState(0x1ff8, 0x7cb4, 0xb6a0, 0xf0bf, 0x2e84, 0x1f4d, 0x0, 0x0);
        gbc.writeMem(0x1ff8, { 0xc4, 0x92, 0x11 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x7cb4, gbc.sp());
        EXPECT(0x1ffb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00C7
        gbc.setState(0x6cd8, 0x84e, 0xf980, 0x58f0, 0x9fc9, 0xb8, 0x0, 0x1);
        gbc.writeMem(0x6cd8, { 0xc4, 0x3d, 0x3f });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x84e, gbc.sp());
        EXPECT(0x6cdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00C9
        gbc.setState(0x7013, 0x456e, 0xf0f0, 0x1654, 0xed88, 0x25ae, 0x1, 0x1);
        gbc.writeMem(0x7013, { 0xc4, 0xfc, 0xc7 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x456e, gbc.sp());
        EXPECT(0x7016, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00CA
        gbc.setState(0x1aa8, 0x476f, 0x31c0, 0xbfa, 0x9651, 0x96c0, 0x0, 0x1);
        gbc.writeMem(0x1aa8, { 0xc4, 0xd7, 0x6c });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x476f, gbc.sp());
        EXPECT(0x1aab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00CE
        gbc.setState(0x8cf5, 0xf34a, 0xa4c0, 0x969f, 0x89ba, 0xd743, 0x0, 0x0);
        gbc.writeMem(0x8cf5, { 0xc4, 0x6b, 0x38 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf34a, gbc.sp());
        EXPECT(0x8cf8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8cf5));
        EXPECT(0x6b, gbc.readMem(0x8cf6));
        EXPECT(0x38, gbc.readMem(0x8cf7));
        // C4 00CF
        gbc.setState(0xd428, 0xd76, 0x1da0, 0x68d1, 0xe3fb, 0x23a, 0x0, 0x1);
        gbc.writeMem(0xd428, { 0xc4, 0x27, 0x97 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd76, gbc.sp());
        EXPECT(0xd42b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd428));
        EXPECT(0x27, gbc.readMem(0xd429));
        EXPECT(0x97, gbc.readMem(0xd42a));
        // C4 00D0
        gbc.setState(0x7178, 0x7453, 0x5480, 0x7576, 0xc7b8, 0x12a5, 0x1, 0x1);
        gbc.writeMem(0x7178, { 0xc4, 0xd5, 0xc1 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x7453, gbc.sp());
        EXPECT(0x717b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00D1
        gbc.setState(0xa957, 0xddce, 0xdd70, 0x212a, 0x3ec, 0xbcb9, 0x1, 0x0);
        gbc.writeMem(0xa957, { 0xc4, 0xc0, 0xd });
        gbc.writeMem(0xddcc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xddcc, gbc.sp());
        EXPECT(0xdc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa957));
        EXPECT(0xc0, gbc.readMem(0xa958));
        EXPECT(0xd, gbc.readMem(0xa959));
        EXPECT(0x5a, gbc.readMem(0xddcc));
        EXPECT(0xa9, gbc.readMem(0xddcd));
        // C4 00D2
        gbc.setState(0x3cda, 0x887b, 0x6780, 0x701f, 0x82e0, 0x94b0, 0x1, 0x0);
        gbc.writeMem(0x3cda, { 0xc4, 0xd6, 0x36 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x887b, gbc.sp());
        EXPECT(0x3cdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00D3
        gbc.setState(0x1b6d, 0x928a, 0xde30, 0x15a1, 0xe9f2, 0x66c2, 0x0, 0x0);
        gbc.writeMem(0x1b6d, { 0xc4, 0x78, 0x36 });
        gbc.writeMem(0x9288, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x9288, gbc.sp());
        EXPECT(0x3678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x70, gbc.readMem(0x9288));
        EXPECT(0x1b, gbc.readMem(0x9289));
        // C4 00D4
        gbc.setState(0x21f, 0xadc5, 0x4660, 0xfa53, 0xbebf, 0x2d9a, 0x0, 0x0);
        gbc.writeMem(0x21f, { 0xc4, 0xec, 0xad });
        gbc.writeMem(0xadc3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xadc3, gbc.sp());
        EXPECT(0xadec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0xadc3));
        EXPECT(0x2, gbc.readMem(0xadc4));
        // C4 00D5
        gbc.setState(0x2dcd, 0xe6b5, 0xf220, 0x58ad, 0xc701, 0xf918, 0x1, 0x0);
        gbc.writeMem(0x2dcd, { 0xc4, 0xbd, 0xe1 });
        gbc.writeMem(0xe6b3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe6b3, gbc.sp());
        EXPECT(0xe1bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0xe6b3));
        EXPECT(0x2d, gbc.readMem(0xe6b4));
        // C4 00D6
        gbc.setState(0x1bf3, 0x2343, 0xdca0, 0xda2f, 0xcab4, 0xc0d2, 0x0, 0x1);
        gbc.writeMem(0x1bf3, { 0xc4, 0x10, 0xb6 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2343, gbc.sp());
        EXPECT(0x1bf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00D7
        gbc.setState(0x1516, 0x7f6e, 0xaeb0, 0xc9ca, 0x1c17, 0xf18d, 0x0, 0x0);
        gbc.writeMem(0x1516, { 0xc4, 0xea, 0x92 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x7f6e, gbc.sp());
        EXPECT(0x1519, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00D8
        gbc.setState(0x2e4b, 0x92c5, 0xf010, 0x3e4, 0xac4b, 0x62a8, 0x0, 0x1);
        gbc.writeMem(0x2e4b, { 0xc4, 0xfc, 0xa9 });
        gbc.writeMem(0x92c3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x92c3, gbc.sp());
        EXPECT(0xa9fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4e, gbc.readMem(0x92c3));
        EXPECT(0x2e, gbc.readMem(0x92c4));
        // C4 00DC
        gbc.setState(0x10b8, 0xa26e, 0xf5a0, 0xe0cd, 0xf6b1, 0x489a, 0x0, 0x0);
        gbc.writeMem(0x10b8, { 0xc4, 0x72, 0xe8 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa26e, gbc.sp());
        EXPECT(0x10bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00DD
        gbc.setState(0x4dff, 0x426d, 0x5bc0, 0xaa2f, 0x3c19, 0xf941, 0x0, 0x0);
        gbc.writeMem(0x4dff, { 0xc4, 0x7f, 0x8f });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x426d, gbc.sp());
        EXPECT(0x4e02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00DE
        gbc.setState(0xd9ce, 0x3129, 0x1bb0, 0x1d58, 0xc5e0, 0x749b, 0x1, 0x0);
        gbc.writeMem(0xd9ce, { 0xc4, 0x8f, 0xe9 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x3129, gbc.sp());
        EXPECT(0xd9d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd9ce));
        EXPECT(0x8f, gbc.readMem(0xd9cf));
        EXPECT(0xe9, gbc.readMem(0xd9d0));
        // C4 00DF
        gbc.setState(0x549, 0x75a8, 0x39e0, 0x59d0, 0xc0d9, 0x5227, 0x0, 0x0);
        gbc.writeMem(0x549, { 0xc4, 0xdf, 0x61 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x75a8, gbc.sp());
        EXPECT(0x54c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00E1
        gbc.setState(0xed4f, 0x882f, 0xad90, 0x51b3, 0x5e3, 0xba5f, 0x0, 0x0);
        gbc.writeMem(0xed4f, { 0xc4, 0xa5, 0x6c });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x882f, gbc.sp());
        EXPECT(0xed52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xed4f));
        EXPECT(0xa5, gbc.readMem(0xed50));
        EXPECT(0x6c, gbc.readMem(0xed51));
        // C4 00E2
        gbc.setState(0x2061, 0xa70b, 0x7e70, 0x2a17, 0xa77d, 0x231c, 0x0, 0x1);
        gbc.writeMem(0x2061, { 0xc4, 0x6e, 0xa0 });
        gbc.writeMem(0xa709, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xa709, gbc.sp());
        EXPECT(0xa06e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0xa709));
        EXPECT(0x20, gbc.readMem(0xa70a));
        // C4 00E3
        gbc.setState(0x80bc, 0x8b86, 0xdaa0, 0xb31b, 0xa16b, 0x7fe3, 0x1, 0x0);
        gbc.writeMem(0x80bc, { 0xc4, 0x37, 0xe5 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x8b86, gbc.sp());
        EXPECT(0x80bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x80bc));
        EXPECT(0x37, gbc.readMem(0x80bd));
        EXPECT(0xe5, gbc.readMem(0x80be));
        // C4 00E7
        gbc.setState(0x5a64, 0xfd56, 0xb8d0, 0xb48a, 0x3ac2, 0xbf7e, 0x1, 0x0);
        gbc.writeMem(0x5a64, { 0xc4, 0xd1, 0x21 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xfd56, gbc.sp());
        EXPECT(0x5a67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00EA
        gbc.setState(0x4116, 0x9793, 0x8a20, 0xf26f, 0x2800, 0x2228, 0x0, 0x1);
        gbc.writeMem(0x4116, { 0xc4, 0x82, 0xe8 });
        gbc.writeMem(0x9791, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x9791, gbc.sp());
        EXPECT(0xe882, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x19, gbc.readMem(0x9791));
        EXPECT(0x41, gbc.readMem(0x9792));
        // C4 00EB
        gbc.setState(0x98ce, 0x447b, 0xace0, 0xe6c2, 0x661c, 0x3869, 0x0, 0x0);
        gbc.writeMem(0x98ce, { 0xc4, 0x8b, 0xaf });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x447b, gbc.sp());
        EXPECT(0x98d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x98ce));
        EXPECT(0x8b, gbc.readMem(0x98cf));
        EXPECT(0xaf, gbc.readMem(0x98d0));
        // C4 00EC
        gbc.setState(0xe01a, 0xc3ed, 0xfda0, 0x6aea, 0x2693, 0x2edc, 0x1, 0x0);
        gbc.writeMem(0xe01a, { 0xc4, 0x8d, 0xd4 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xc3ed, gbc.sp());
        EXPECT(0xe01d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe01a));
        EXPECT(0x8d, gbc.readMem(0xe01b));
        EXPECT(0xd4, gbc.readMem(0xe01c));
        // C4 00ED
        gbc.setState(0x4b3f, 0x1f1c, 0x1dd0, 0xdd7e, 0x5329, 0xbc21, 0x1, 0x0);
        gbc.writeMem(0x4b3f, { 0xc4, 0xae, 0xd7 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1f1c, gbc.sp());
        EXPECT(0x4b42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00EE
        gbc.setState(0x2a16, 0x6fb4, 0xd580, 0x63fb, 0xade1, 0x2321, 0x0, 0x1);
        gbc.writeMem(0x2a16, { 0xc4, 0xdd, 0x6d });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x6fb4, gbc.sp());
        EXPECT(0x2a19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00F0
        gbc.setState(0xb829, 0xe3d7, 0x91e0, 0x75da, 0x3ea7, 0x195e, 0x1, 0x0);
        gbc.writeMem(0xb829, { 0xc4, 0x82, 0xb0 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xe3d7, gbc.sp());
        EXPECT(0xb82c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb829));
        EXPECT(0x82, gbc.readMem(0xb82a));
        EXPECT(0xb0, gbc.readMem(0xb82b));
        // C4 00F1
        gbc.setState(0x3952, 0x95e6, 0x7880, 0xabf2, 0x7872, 0xf627, 0x0, 0x0);
        gbc.writeMem(0x3952, { 0xc4, 0xa5, 0x1b });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x95e6, gbc.sp());
        EXPECT(0x3955, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00F2
        gbc.setState(0xc6d7, 0xc6bf, 0xd210, 0xebee, 0xce0, 0xb356, 0x1, 0x1);
        gbc.writeMem(0xc6bd, { 0x0, 0x0 });
        gbc.writeMem(0xc6d7, { 0xc4, 0xb5, 0xf3 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xc6bd, gbc.sp());
        EXPECT(0xf3b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0xc6bd));
        EXPECT(0xc6, gbc.readMem(0xc6be));
        EXPECT(0xc4, gbc.readMem(0xc6d7));
        EXPECT(0xb5, gbc.readMem(0xc6d8));
        EXPECT(0xf3, gbc.readMem(0xc6d9));
        // C4 00F3
        gbc.setState(0x88c, 0xef5b, 0x8db0, 0x7564, 0x1feb, 0x9306, 0x0, 0x0);
        gbc.writeMem(0x88c, { 0xc4, 0x80, 0x14 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xef5b, gbc.sp());
        EXPECT(0x88f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00F5
        gbc.setState(0x9617, 0x7c98, 0x75c0, 0x6307, 0x3a8b, 0xae36, 0x0, 0x0);
        gbc.writeMem(0x9617, { 0xc4, 0x73, 0x23 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x7c98, gbc.sp());
        EXPECT(0x961a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9617));
        EXPECT(0x73, gbc.readMem(0x9618));
        EXPECT(0x23, gbc.readMem(0x9619));
        // C4 00F6
        gbc.setState(0x81ff, 0x162, 0xd5c0, 0xf4be, 0x57c3, 0x253e, 0x1, 0x0);
        gbc.writeMem(0x81ff, { 0xc4, 0xdc, 0x93 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x162, gbc.sp());
        EXPECT(0x8202, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x81ff));
        EXPECT(0xdc, gbc.readMem(0x8200));
        EXPECT(0x93, gbc.readMem(0x8201));
        // C4 00F8
        gbc.setState(0x64bc, 0x920b, 0xd740, 0x2207, 0x7433, 0x8f9c, 0x0, 0x1);
        gbc.writeMem(0x64bc, { 0xc4, 0x6b, 0x7a });
        gbc.writeMem(0x9209, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x9209, gbc.sp());
        EXPECT(0x7a6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbf, gbc.readMem(0x9209));
        EXPECT(0x64, gbc.readMem(0x920a));
        // C4 00F9
        gbc.setState(0xa262, 0xd22b, 0x8720, 0x9118, 0x284f, 0x9703, 0x1, 0x0);
        gbc.writeMem(0xa262, { 0xc4, 0xd7, 0x75 });
        gbc.writeMem(0xd229, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd229, gbc.sp());
        EXPECT(0x75d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa262));
        EXPECT(0xd7, gbc.readMem(0xa263));
        EXPECT(0x75, gbc.readMem(0xa264));
        EXPECT(0x65, gbc.readMem(0xd229));
        EXPECT(0xa2, gbc.readMem(0xd22a));
        // C4 00FA
        gbc.setState(0xde2a, 0x6c5c, 0x6ab0, 0xf93c, 0x17c5, 0xff15, 0x0, 0x0);
        gbc.writeMem(0xde2a, { 0xc4, 0x58, 0xc5 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x6c5c, gbc.sp());
        EXPECT(0xde2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xde2a));
        EXPECT(0x58, gbc.readMem(0xde2b));
        EXPECT(0xc5, gbc.readMem(0xde2c));
        // C4 00FB
        gbc.setState(0x1da1, 0x87e0, 0x91a0, 0xb51d, 0x476a, 0xc2fa, 0x0, 0x1);
        gbc.writeMem(0x1da1, { 0xc4, 0x4a, 0x61 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x87e0, gbc.sp());
        EXPECT(0x1da4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00FC
        gbc.setState(0x1b4d, 0xa4ed, 0x2980, 0xe5d2, 0x182e, 0x46ce, 0x0, 0x0);
        gbc.writeMem(0x1b4d, { 0xc4, 0xb7, 0x35 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xa4ed, gbc.sp());
        EXPECT(0x1b50, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 00FD
        gbc.setState(0xa6e, 0x3388, 0xbff0, 0xa1c8, 0x49dc, 0x4beb, 0x0, 0x1);
        gbc.writeMem(0xa6e, { 0xc4, 0xda, 0x54 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3388, gbc.sp());
        EXPECT(0xa71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 00FF
        gbc.setState(0xbebb, 0x36be, 0xabc0, 0x9200, 0x66dc, 0x820, 0x1, 0x1);
        gbc.writeMem(0xbebb, { 0xc4, 0xda, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x36be, gbc.sp());
        EXPECT(0xbebe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbebb));
        EXPECT(0xda, gbc.readMem(0xbebc));
        EXPECT(0x54, gbc.readMem(0xbebd));
        // C4 0100
        gbc.setState(0x3f2, 0x231d, 0x7f0, 0x47be, 0x1016, 0x66e9, 0x1, 0x0);
        gbc.writeMem(0x3f2, { 0xc4, 0x18, 0xee });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x231d, gbc.sp());
        EXPECT(0x3f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0102
        gbc.setState(0xcd22, 0x873d, 0x8760, 0x4eca, 0x4c09, 0xd88, 0x1, 0x1);
        gbc.writeMem(0x873b, { 0x0, 0x0 });
        gbc.writeMem(0xcd22, { 0xc4, 0x17, 0x60 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x873b, gbc.sp());
        EXPECT(0x6017, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0x873b));
        EXPECT(0xcd, gbc.readMem(0x873c));
        EXPECT(0xc4, gbc.readMem(0xcd22));
        EXPECT(0x17, gbc.readMem(0xcd23));
        EXPECT(0x60, gbc.readMem(0xcd24));
        // C4 0103
        gbc.setState(0x2b13, 0x63fc, 0x5fc0, 0x8a9e, 0xaf6a, 0x2faf, 0x0, 0x1);
        gbc.writeMem(0x2b13, { 0xc4, 0xd5, 0xf3 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x63fc, gbc.sp());
        EXPECT(0x2b16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0104
        gbc.setState(0xaa2e, 0xabf0, 0xe430, 0x494c, 0xe1b6, 0x5520, 0x1, 0x1);
        gbc.writeMem(0xaa2e, { 0xc4, 0xdb, 0x79 });
        gbc.writeMem(0xabee, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xabee, gbc.sp());
        EXPECT(0x79db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xaa2e));
        EXPECT(0xdb, gbc.readMem(0xaa2f));
        EXPECT(0x79, gbc.readMem(0xaa30));
        EXPECT(0x31, gbc.readMem(0xabee));
        EXPECT(0xaa, gbc.readMem(0xabef));
        // C4 0105
        gbc.setState(0x9487, 0xb6c9, 0xb920, 0x2138, 0x72, 0xa847, 0x0, 0x0);
        gbc.writeMem(0x9487, { 0xc4, 0xba, 0xf4 });
        gbc.writeMem(0xb6c7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xb6c7, gbc.sp());
        EXPECT(0xf4ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9487));
        EXPECT(0xba, gbc.readMem(0x9488));
        EXPECT(0xf4, gbc.readMem(0x9489));
        EXPECT(0x8a, gbc.readMem(0xb6c7));
        EXPECT(0x94, gbc.readMem(0xb6c8));
        // C4 0106
        gbc.setState(0xa47f, 0xb28b, 0x23a0, 0x26df, 0x4279, 0x7dfc, 0x1, 0x1);
        gbc.writeMem(0xa47f, { 0xc4, 0x91, 0xb });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xb28b, gbc.sp());
        EXPECT(0xa482, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa47f));
        EXPECT(0x91, gbc.readMem(0xa480));
        EXPECT(0xb, gbc.readMem(0xa481));
        // C4 0107
        gbc.setState(0x30ac, 0xe957, 0x4140, 0x134f, 0xe11, 0x517f, 0x0, 0x1);
        gbc.writeMem(0x30ac, { 0xc4, 0xdf, 0x8b });
        gbc.writeMem(0xe955, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe955, gbc.sp());
        EXPECT(0x8bdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xaf, gbc.readMem(0xe955));
        EXPECT(0x30, gbc.readMem(0xe956));
        // C4 0108
        gbc.setState(0xc52, 0xee7, 0x86e0, 0x38dc, 0xc78d, 0xdd97, 0x0, 0x1);
        gbc.writeMem(0xc52, { 0xc4, 0xf9, 0x29 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xee7, gbc.sp());
        EXPECT(0xc55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 010A
        gbc.setState(0x62d7, 0x80ee, 0x3000, 0xf9c9, 0x585e, 0x74, 0x0, 0x0);
        gbc.writeMem(0x62d7, { 0xc4, 0xff, 0x9c });
        gbc.writeMem(0x80ec, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x80ec, gbc.sp());
        EXPECT(0x9cff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0x80ec));
        EXPECT(0x62, gbc.readMem(0x80ed));
        // C4 010B
        gbc.setState(0x38c8, 0x8103, 0x8890, 0x2f59, 0xc005, 0xdd47, 0x1, 0x0);
        gbc.writeMem(0x38c8, { 0xc4, 0xa6, 0x24 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x8103, gbc.sp());
        EXPECT(0x38cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 010C
        gbc.setState(0x7a30, 0x8170, 0xf120, 0xb666, 0x8bbc, 0x4700, 0x0, 0x1);
        gbc.writeMem(0x7a30, { 0xc4, 0x51, 0xd2 });
        gbc.writeMem(0x816e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x816e, gbc.sp());
        EXPECT(0xd251, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0x816e));
        EXPECT(0x7a, gbc.readMem(0x816f));
        // C4 0110
        gbc.setState(0xa50b, 0x67de, 0x49d0, 0x9a95, 0x7665, 0x3fbe, 0x1, 0x1);
        gbc.writeMem(0xa50b, { 0xc4, 0x8b, 0x83 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x67de, gbc.sp());
        EXPECT(0xa50e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa50b));
        EXPECT(0x8b, gbc.readMem(0xa50c));
        EXPECT(0x83, gbc.readMem(0xa50d));
        // C4 0111
        gbc.setState(0x48e1, 0x8424, 0x3560, 0xf1ac, 0xb447, 0xf21, 0x0, 0x1);
        gbc.writeMem(0x48e1, { 0xc4, 0x28, 0xa5 });
        gbc.writeMem(0x8422, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x8422, gbc.sp());
        EXPECT(0xa528, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe4, gbc.readMem(0x8422));
        EXPECT(0x48, gbc.readMem(0x8423));
        // C4 0112
        gbc.setState(0x2c2d, 0xe44c, 0xa2a0, 0x4713, 0xcd34, 0xe769, 0x1, 0x1);
        gbc.writeMem(0x2c2d, { 0xc4, 0x41, 0x75 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xe44c, gbc.sp());
        EXPECT(0x2c30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0114
        gbc.setState(0xec69, 0x6a91, 0x2180, 0x9372, 0x41a5, 0xeb4d, 0x0, 0x0);
        gbc.writeMem(0xec69, { 0xc4, 0x6e, 0x68 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x6a91, gbc.sp());
        EXPECT(0xec6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xec69));
        EXPECT(0x6e, gbc.readMem(0xec6a));
        EXPECT(0x68, gbc.readMem(0xec6b));
        // C4 0115
        gbc.setState(0x3f17, 0xfb10, 0x2ea0, 0xccc0, 0x5ecf, 0xd435, 0x1, 0x1);
        gbc.writeMem(0x3f17, { 0xc4, 0x4a, 0x85 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xfb10, gbc.sp());
        EXPECT(0x3f1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0116
        gbc.setState(0x455b, 0x298f, 0x37f0, 0x7885, 0x69d9, 0x9dac, 0x0, 0x1);
        gbc.writeMem(0x455b, { 0xc4, 0xfc, 0x29 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x298f, gbc.sp());
        EXPECT(0x455e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0117
        gbc.setState(0x1d17, 0x356, 0x71b0, 0x6e11, 0x5244, 0x444f, 0x1, 0x0);
        gbc.writeMem(0x1d17, { 0xc4, 0x2f, 0xff });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x356, gbc.sp());
        EXPECT(0x1d1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0119
        gbc.setState(0xd763, 0xec8b, 0x6770, 0xfc30, 0xaf50, 0xaf0d, 0x0, 0x0);
        gbc.writeMem(0xd763, { 0xc4, 0xd3, 0x8b });
        gbc.writeMem(0xec89, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xec89, gbc.sp());
        EXPECT(0x8bd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd763));
        EXPECT(0xd3, gbc.readMem(0xd764));
        EXPECT(0x8b, gbc.readMem(0xd765));
        EXPECT(0x66, gbc.readMem(0xec89));
        EXPECT(0xd7, gbc.readMem(0xec8a));
        // C4 011C
        gbc.setState(0xc7d1, 0x8310, 0x6be0, 0xc2f2, 0x305a, 0x1a24, 0x0, 0x0);
        gbc.writeMem(0xc7d1, { 0xc4, 0x7a, 0xc });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x8310, gbc.sp());
        EXPECT(0xc7d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc7d1));
        EXPECT(0x7a, gbc.readMem(0xc7d2));
        EXPECT(0xc, gbc.readMem(0xc7d3));
        // C4 011D
        gbc.setState(0xb154, 0xd0c1, 0x58a0, 0xd92a, 0xe359, 0x33d4, 0x1, 0x1);
        gbc.writeMem(0xb154, { 0xc4, 0x8a, 0xdd });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xd0c1, gbc.sp());
        EXPECT(0xb157, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb154));
        EXPECT(0x8a, gbc.readMem(0xb155));
        EXPECT(0xdd, gbc.readMem(0xb156));
        // C4 011E
        gbc.setState(0x9619, 0x3afd, 0x5680, 0x492d, 0x1138, 0x67d5, 0x1, 0x1);
        gbc.writeMem(0x9619, { 0xc4, 0xe7, 0xe1 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3afd, gbc.sp());
        EXPECT(0x961c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9619));
        EXPECT(0xe7, gbc.readMem(0x961a));
        EXPECT(0xe1, gbc.readMem(0x961b));
        // C4 011F
        gbc.setState(0x9f84, 0xafc8, 0xb990, 0x2402, 0x7f44, 0x69d9, 0x0, 0x1);
        gbc.writeMem(0x9f84, { 0xc4, 0x75, 0x10 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xafc8, gbc.sp());
        EXPECT(0x9f87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9f84));
        EXPECT(0x75, gbc.readMem(0x9f85));
        EXPECT(0x10, gbc.readMem(0x9f86));
        // C4 0121
        gbc.setState(0x2411, 0xdd76, 0xa5c0, 0xfd4, 0xba00, 0xae2f, 0x0, 0x0);
        gbc.writeMem(0x2411, { 0xc4, 0x7b, 0x3 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xdd76, gbc.sp());
        EXPECT(0x2414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0122
        gbc.setState(0x5d4e, 0xd2ab, 0x70a0, 0xd837, 0xad4c, 0x3b44, 0x0, 0x0);
        gbc.writeMem(0x5d4e, { 0xc4, 0x8d, 0xd7 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xd2ab, gbc.sp());
        EXPECT(0x5d51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0124
        gbc.setState(0x2ebd, 0xb335, 0x68e0, 0x61dd, 0x89e7, 0xf722, 0x0, 0x0);
        gbc.writeMem(0x2ebd, { 0xc4, 0x5e, 0x54 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xb335, gbc.sp());
        EXPECT(0x2ec0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0127
        gbc.setState(0x1325, 0x5aeb, 0x7eb0, 0xba1f, 0x58a5, 0xa80, 0x0, 0x1);
        gbc.writeMem(0x1325, { 0xc4, 0xa1, 0x5a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5aeb, gbc.sp());
        EXPECT(0x1328, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0128
        gbc.setState(0x1151, 0x4476, 0xf5a0, 0x9034, 0xcecc, 0xccc9, 0x0, 0x1);
        gbc.writeMem(0x1151, { 0xc4, 0xf, 0xaf });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x4476, gbc.sp());
        EXPECT(0x1154, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 012C
        gbc.setState(0xd52e, 0x222, 0x6ad0, 0x58ed, 0x2135, 0x9c98, 0x1, 0x1);
        gbc.writeMem(0xd52e, { 0xc4, 0xfe, 0xe7 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x222, gbc.sp());
        EXPECT(0xd531, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd52e));
        EXPECT(0xfe, gbc.readMem(0xd52f));
        EXPECT(0xe7, gbc.readMem(0xd530));
        // C4 012D
        gbc.setState(0x8dcf, 0x3f0e, 0x3a90, 0x81e0, 0xfd44, 0xdf79, 0x1, 0x0);
        gbc.writeMem(0x8dcf, { 0xc4, 0x13, 0x3b });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x3f0e, gbc.sp());
        EXPECT(0x8dd2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8dcf));
        EXPECT(0x13, gbc.readMem(0x8dd0));
        EXPECT(0x3b, gbc.readMem(0x8dd1));
        // C4 012E
        gbc.setState(0x6238, 0xa089, 0xf1a0, 0xc585, 0x1002, 0x515d, 0x0, 0x1);
        gbc.writeMem(0x6238, { 0xc4, 0xc7, 0x35 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xa089, gbc.sp());
        EXPECT(0x623b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0130
        gbc.setState(0x56b3, 0xb64d, 0x3da0, 0xf519, 0x35e2, 0xe70c, 0x0, 0x1);
        gbc.writeMem(0x56b3, { 0xc4, 0xcc, 0x20 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xb64d, gbc.sp());
        EXPECT(0x56b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0131
        gbc.setState(0xbe0d, 0x6c51, 0x47e0, 0x8b03, 0x7070, 0xa008, 0x0, 0x0);
        gbc.writeMem(0xbe0d, { 0xc4, 0xca, 0xeb });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x6c51, gbc.sp());
        EXPECT(0xbe10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbe0d));
        EXPECT(0xca, gbc.readMem(0xbe0e));
        EXPECT(0xeb, gbc.readMem(0xbe0f));
        // C4 0132
        gbc.setState(0x558c, 0xc22d, 0x9b0, 0x20fe, 0x15d, 0x6194, 0x1, 0x0);
        gbc.writeMem(0x558c, { 0xc4, 0x2c, 0xa5 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xc22d, gbc.sp());
        EXPECT(0x558f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0133
        gbc.setState(0x9b4f, 0x1312, 0x36d0, 0xaf3a, 0xf609, 0x12c, 0x1, 0x1);
        gbc.writeMem(0x9b4f, { 0xc4, 0x6e, 0x72 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x1312, gbc.sp());
        EXPECT(0x9b52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9b4f));
        EXPECT(0x6e, gbc.readMem(0x9b50));
        EXPECT(0x72, gbc.readMem(0x9b51));
        // C4 0134
        gbc.setState(0xef4c, 0xfdc4, 0x6f40, 0x6e33, 0xed8a, 0x1e9b, 0x1, 0x1);
        gbc.writeMem(0xef4c, { 0xc4, 0xce, 0x47 });
        gbc.writeMem(0xfdc2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xfdc2, gbc.sp());
        EXPECT(0x47ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xef4c));
        EXPECT(0xce, gbc.readMem(0xef4d));
        EXPECT(0x47, gbc.readMem(0xef4e));
        EXPECT(0x4f, gbc.readMem(0xfdc2));
        EXPECT(0xef, gbc.readMem(0xfdc3));
        // C4 0136
        gbc.setState(0x74d2, 0xb21a, 0xcaa0, 0x8023, 0x5b8e, 0x25da, 0x0, 0x0);
        gbc.writeMem(0x74d2, { 0xc4, 0xb5, 0xcb });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xb21a, gbc.sp());
        EXPECT(0x74d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0137
        gbc.setState(0xde72, 0x85c2, 0x2130, 0x32c1, 0x2a2a, 0x1629, 0x0, 0x0);
        gbc.writeMem(0x85c0, { 0x0, 0x0 });
        gbc.writeMem(0xde72, { 0xc4, 0x59, 0x8e });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x85c0, gbc.sp());
        EXPECT(0x8e59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0x85c0));
        EXPECT(0xde, gbc.readMem(0x85c1));
        EXPECT(0xc4, gbc.readMem(0xde72));
        EXPECT(0x59, gbc.readMem(0xde73));
        EXPECT(0x8e, gbc.readMem(0xde74));
        // C4 0138
        gbc.setState(0xd9de, 0x117a, 0xc8a0, 0xc4e3, 0x5e4c, 0xc414, 0x1, 0x0);
        gbc.writeMem(0xd9de, { 0xc4, 0xb9, 0x47 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x117a, gbc.sp());
        EXPECT(0xd9e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd9de));
        EXPECT(0xb9, gbc.readMem(0xd9df));
        EXPECT(0x47, gbc.readMem(0xd9e0));
        // C4 013A
        gbc.setState(0x7e8d, 0x2d42, 0x7bd0, 0x2e9c, 0x6e37, 0x4a0, 0x0, 0x0);
        gbc.writeMem(0x7e8d, { 0xc4, 0x11, 0x54 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x2d42, gbc.sp());
        EXPECT(0x7e90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 013B
        gbc.setState(0x28e4, 0x6800, 0x7cf0, 0xcbe8, 0x5bc, 0x9f7f, 0x0, 0x0);
        gbc.writeMem(0x28e4, { 0xc4, 0xa8, 0xa8 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x6800, gbc.sp());
        EXPECT(0x28e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 013C
        gbc.setState(0x757e, 0x7916, 0x15d0, 0xe2a3, 0x761, 0x70a7, 0x0, 0x0);
        gbc.writeMem(0x757e, { 0xc4, 0x7c, 0x30 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x7916, gbc.sp());
        EXPECT(0x7581, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 013E
        gbc.setState(0x125f, 0xedc9, 0x600, 0xb39, 0x5cc4, 0x1253, 0x1, 0x1);
        gbc.writeMem(0x125f, { 0xc4, 0x52, 0xd });
        gbc.writeMem(0xedc7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xedc7, gbc.sp());
        EXPECT(0xd52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x62, gbc.readMem(0xedc7));
        EXPECT(0x12, gbc.readMem(0xedc8));
        // C4 013F
        gbc.setState(0xbc5c, 0xa6c8, 0x92e0, 0x8f1b, 0x27df, 0x5c10, 0x0, 0x1);
        gbc.writeMem(0xbc5c, { 0xc4, 0x9c, 0xb });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xa6c8, gbc.sp());
        EXPECT(0xbc5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbc5c));
        EXPECT(0x9c, gbc.readMem(0xbc5d));
        EXPECT(0xb, gbc.readMem(0xbc5e));
        // C4 0140
        gbc.setState(0xca33, 0x598e, 0x7bf0, 0x9cb2, 0x8263, 0x64dc, 0x0, 0x0);
        gbc.writeMem(0xca33, { 0xc4, 0xf4, 0xff });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x598e, gbc.sp());
        EXPECT(0xca36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xca33));
        EXPECT(0xf4, gbc.readMem(0xca34));
        EXPECT(0xff, gbc.readMem(0xca35));
        // C4 0141
        gbc.setState(0xca9b, 0x227c, 0x3ae0, 0x4cfd, 0x1d09, 0x858e, 0x1, 0x1);
        gbc.writeMem(0xca9b, { 0xc4, 0x61, 0xbb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x227c, gbc.sp());
        EXPECT(0xca9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xca9b));
        EXPECT(0x61, gbc.readMem(0xca9c));
        EXPECT(0xbb, gbc.readMem(0xca9d));
        // C4 0142
        gbc.setState(0x637b, 0xde99, 0x9050, 0x20f4, 0x70bb, 0xa7aa, 0x0, 0x0);
        gbc.writeMem(0x637b, { 0xc4, 0x16, 0xe5 });
        gbc.writeMem(0xde97, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xde97, gbc.sp());
        EXPECT(0xe516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7e, gbc.readMem(0xde97));
        EXPECT(0x63, gbc.readMem(0xde98));
        // C4 0143
        gbc.setState(0x964, 0xca61, 0x36a0, 0x5f64, 0xaf4a, 0x8283, 0x1, 0x1);
        gbc.writeMem(0x964, { 0xc4, 0xfe, 0xf7 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xca61, gbc.sp());
        EXPECT(0x967, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0144
        gbc.setState(0xac4f, 0xd28e, 0x12a0, 0xe6b0, 0xfedc, 0x1a47, 0x1, 0x0);
        gbc.writeMem(0xac4f, { 0xc4, 0x9c, 0xff });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xd28e, gbc.sp());
        EXPECT(0xac52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xac4f));
        EXPECT(0x9c, gbc.readMem(0xac50));
        EXPECT(0xff, gbc.readMem(0xac51));
        // C4 0145
        gbc.setState(0x2ec8, 0xdf07, 0xb180, 0xb50e, 0xec91, 0xf201, 0x1, 0x1);
        gbc.writeMem(0x2ec8, { 0xc4, 0x1d, 0xdc });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xdf07, gbc.sp());
        EXPECT(0x2ecb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0146
        gbc.setState(0xa2de, 0x7d05, 0x4df0, 0x3ed7, 0xe2e9, 0xf9de, 0x1, 0x1);
        gbc.writeMem(0xa2de, { 0xc4, 0x58, 0x1c });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x7d05, gbc.sp());
        EXPECT(0xa2e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa2de));
        EXPECT(0x58, gbc.readMem(0xa2df));
        EXPECT(0x1c, gbc.readMem(0xa2e0));
        // C4 0147
        gbc.setState(0x22de, 0xbd09, 0xdef0, 0x8729, 0x43be, 0xb0cc, 0x1, 0x0);
        gbc.writeMem(0x22de, { 0xc4, 0x8, 0x9e });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xbd09, gbc.sp());
        EXPECT(0x22e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0148
        gbc.setState(0x9868, 0x3827, 0xf4e0, 0xf9ec, 0x7752, 0x6529, 0x0, 0x1);
        gbc.writeMem(0x9868, { 0xc4, 0xe2, 0xe0 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3827, gbc.sp());
        EXPECT(0x986b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9868));
        EXPECT(0xe2, gbc.readMem(0x9869));
        EXPECT(0xe0, gbc.readMem(0x986a));
        // C4 0149
        gbc.setState(0x2daa, 0xbb9a, 0xe5d0, 0xb6b7, 0x2f8b, 0xfe97, 0x0, 0x1);
        gbc.writeMem(0x2daa, { 0xc4, 0xa4, 0xfd });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xbb9a, gbc.sp());
        EXPECT(0x2dad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 014B
        gbc.setState(0x2948, 0x2e8e, 0x12c0, 0xdc2d, 0x6926, 0x7fd5, 0x1, 0x0);
        gbc.writeMem(0x2948, { 0xc4, 0xb5, 0xb4 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x2e8e, gbc.sp());
        EXPECT(0x294b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 014C
        gbc.setState(0x78c5, 0xaa46, 0x1640, 0x5392, 0x6ad1, 0x7c5, 0x0, 0x0);
        gbc.writeMem(0x78c5, { 0xc4, 0xd1, 0x8f });
        gbc.writeMem(0xaa44, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xaa44, gbc.sp());
        EXPECT(0x8fd1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc8, gbc.readMem(0xaa44));
        EXPECT(0x78, gbc.readMem(0xaa45));
        // C4 014D
        gbc.setState(0xd44a, 0x4059, 0x20b0, 0x62f7, 0x7290, 0x5e43, 0x1, 0x0);
        gbc.writeMem(0xd44a, { 0xc4, 0x23, 0x56 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x4059, gbc.sp());
        EXPECT(0xd44d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd44a));
        EXPECT(0x23, gbc.readMem(0xd44b));
        EXPECT(0x56, gbc.readMem(0xd44c));
        // C4 014F
        gbc.setState(0x74ec, 0x9651, 0xd3a0, 0xcf31, 0x4007, 0xda76, 0x1, 0x0);
        gbc.writeMem(0x74ec, { 0xc4, 0xe5, 0x9f });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x9651, gbc.sp());
        EXPECT(0x74ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0150
        gbc.setState(0x66a0, 0xcd0b, 0x7080, 0x4d4, 0x58f4, 0x7de0, 0x0, 0x1);
        gbc.writeMem(0x66a0, { 0xc4, 0xe1, 0xbb });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xcd0b, gbc.sp());
        EXPECT(0x66a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0151
        gbc.setState(0x958, 0xc4ec, 0xfeb0, 0x4aed, 0xcbac, 0xe6ee, 0x1, 0x1);
        gbc.writeMem(0x958, { 0xc4, 0x69, 0xb8 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xc4ec, gbc.sp());
        EXPECT(0x95b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0152
        gbc.setState(0x9591, 0x2885, 0x6d80, 0xcb1, 0xe7ea, 0x87ed, 0x1, 0x1);
        gbc.writeMem(0x9591, { 0xc4, 0x8c, 0xda });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x2885, gbc.sp());
        EXPECT(0x9594, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9591));
        EXPECT(0x8c, gbc.readMem(0x9592));
        EXPECT(0xda, gbc.readMem(0x9593));
        // C4 0154
        gbc.setState(0x3adb, 0x85f3, 0x22b0, 0xfc05, 0x6be6, 0xa166, 0x1, 0x1);
        gbc.writeMem(0x3adb, { 0xc4, 0x2d, 0xf2 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x85f3, gbc.sp());
        EXPECT(0x3ade, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0157
        gbc.setState(0x4d8b, 0x8b88, 0x9c90, 0xe48d, 0x36ee, 0xe60f, 0x0, 0x0);
        gbc.writeMem(0x4d8b, { 0xc4, 0x38, 0x36 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x8b88, gbc.sp());
        EXPECT(0x4d8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0158
        gbc.setState(0x768, 0xe749, 0x2810, 0xc447, 0x2ab3, 0xdb56, 0x1, 0x1);
        gbc.writeMem(0x768, { 0xc4, 0x79, 0xf });
        gbc.writeMem(0xe747, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xe747, gbc.sp());
        EXPECT(0xf79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6b, gbc.readMem(0xe747));
        EXPECT(0x7, gbc.readMem(0xe748));
        // C4 0159
        gbc.setState(0xa22f, 0x1a1, 0xf0c0, 0xd41d, 0xfd18, 0x2ec, 0x1, 0x1);
        gbc.writeMem(0xa22f, { 0xc4, 0xa7, 0x76 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x1a1, gbc.sp());
        EXPECT(0xa232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa22f));
        EXPECT(0xa7, gbc.readMem(0xa230));
        EXPECT(0x76, gbc.readMem(0xa231));
        // C4 015B
        gbc.setState(0xd94c, 0xf3b8, 0x90b0, 0xdf6c, 0x44fb, 0x6a02, 0x1, 0x1);
        gbc.writeMem(0xd94c, { 0xc4, 0xe1, 0xef });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xf3b8, gbc.sp());
        EXPECT(0xd94f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd94c));
        EXPECT(0xe1, gbc.readMem(0xd94d));
        EXPECT(0xef, gbc.readMem(0xd94e));
        // C4 015C
        gbc.setState(0xae03, 0x2ded, 0x30e0, 0xfa06, 0x5bd0, 0x4f68, 0x0, 0x0);
        gbc.writeMem(0xae03, { 0xc4, 0x5, 0xfe });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x2ded, gbc.sp());
        EXPECT(0xae06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xae03));
        EXPECT(0x5, gbc.readMem(0xae04));
        EXPECT(0xfe, gbc.readMem(0xae05));
        // C4 015D
        gbc.setState(0xa52b, 0xbd94, 0x37d0, 0x99e0, 0x49d0, 0x70b5, 0x1, 0x1);
        gbc.writeMem(0xa52b, { 0xc4, 0x13, 0x1 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xbd94, gbc.sp());
        EXPECT(0xa52e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa52b));
        EXPECT(0x13, gbc.readMem(0xa52c));
        EXPECT(0x1, gbc.readMem(0xa52d));
        // C4 015E
        gbc.setState(0x3008, 0xd4c9, 0xcb40, 0xee00, 0xbfa1, 0xa6ce, 0x0, 0x0);
        gbc.writeMem(0x3008, { 0xc4, 0x74, 0xa });
        gbc.writeMem(0xd4c7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xd4c7, gbc.sp());
        EXPECT(0xa74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb, gbc.readMem(0xd4c7));
        EXPECT(0x30, gbc.readMem(0xd4c8));
        // C4 015F
        gbc.setState(0x4cfc, 0x8791, 0x77c0, 0x712f, 0xe80b, 0xfdca, 0x0, 0x0);
        gbc.writeMem(0x4cfc, { 0xc4, 0x1e, 0xea });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8791, gbc.sp());
        EXPECT(0x4cff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0161
        gbc.setState(0xcaf5, 0x9f38, 0x53f0, 0xb729, 0xf78a, 0x5357, 0x1, 0x1);
        gbc.writeMem(0xcaf5, { 0xc4, 0x7f, 0x37 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9f38, gbc.sp());
        EXPECT(0xcaf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcaf5));
        EXPECT(0x7f, gbc.readMem(0xcaf6));
        EXPECT(0x37, gbc.readMem(0xcaf7));
        // C4 0162
        gbc.setState(0xb023, 0xbf2b, 0x24a0, 0x73b2, 0x8542, 0xd90f, 0x0, 0x1);
        gbc.writeMem(0xb023, { 0xc4, 0x6c, 0x9e });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xbf2b, gbc.sp());
        EXPECT(0xb026, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb023));
        EXPECT(0x6c, gbc.readMem(0xb024));
        EXPECT(0x9e, gbc.readMem(0xb025));
        // C4 0163
        gbc.setState(0xd65d, 0x84f6, 0x9960, 0xdc5e, 0x1213, 0xc4e7, 0x0, 0x1);
        gbc.writeMem(0x84f4, { 0x0, 0x0 });
        gbc.writeMem(0xd65d, { 0xc4, 0x8c, 0xc9 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x84f4, gbc.sp());
        EXPECT(0xc98c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0x84f4));
        EXPECT(0xd6, gbc.readMem(0x84f5));
        EXPECT(0xc4, gbc.readMem(0xd65d));
        EXPECT(0x8c, gbc.readMem(0xd65e));
        EXPECT(0xc9, gbc.readMem(0xd65f));
        // C4 0164
        gbc.setState(0x4ea0, 0x7752, 0x7480, 0xf949, 0xde33, 0xb785, 0x0, 0x0);
        gbc.writeMem(0x4ea0, { 0xc4, 0xd0, 0xbc });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x7752, gbc.sp());
        EXPECT(0x4ea3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0165
        gbc.setState(0xed0f, 0x8a70, 0x58c0, 0xdea, 0xec46, 0x10d8, 0x0, 0x1);
        gbc.writeMem(0xed0f, { 0xc4, 0x2c, 0x89 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x8a70, gbc.sp());
        EXPECT(0xed12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xed0f));
        EXPECT(0x2c, gbc.readMem(0xed10));
        EXPECT(0x89, gbc.readMem(0xed11));
        // C4 0168
        gbc.setState(0x9c11, 0x11c8, 0x64d0, 0x6b56, 0x18ef, 0xccce, 0x0, 0x0);
        gbc.writeMem(0x9c11, { 0xc4, 0x20, 0x9 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x11c8, gbc.sp());
        EXPECT(0x9c14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9c11));
        EXPECT(0x20, gbc.readMem(0x9c12));
        EXPECT(0x9, gbc.readMem(0x9c13));
        // C4 016A
        gbc.setState(0x26d6, 0x8b00, 0x4b90, 0xea9d, 0x7cc3, 0x8390, 0x0, 0x1);
        gbc.writeMem(0x26d6, { 0xc4, 0x90, 0x64 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x8b00, gbc.sp());
        EXPECT(0x26d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 016B
        gbc.setState(0xc91d, 0xcc0c, 0x1a60, 0xd955, 0x2453, 0xf134, 0x0, 0x0);
        gbc.writeMem(0xc91d, { 0xc4, 0xdd, 0x4b });
        gbc.writeMem(0xcc0a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xcc0a, gbc.sp());
        EXPECT(0x4bdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc91d));
        EXPECT(0xdd, gbc.readMem(0xc91e));
        EXPECT(0x4b, gbc.readMem(0xc91f));
        EXPECT(0x20, gbc.readMem(0xcc0a));
        EXPECT(0xc9, gbc.readMem(0xcc0b));
        // C4 016C
        gbc.setState(0x1e7e, 0xd0a3, 0x1f70, 0xbcc0, 0x23d0, 0x7b97, 0x0, 0x1);
        gbc.writeMem(0x1e7e, { 0xc4, 0x7b, 0x12 });
        gbc.writeMem(0xd0a1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xd0a1, gbc.sp());
        EXPECT(0x127b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x81, gbc.readMem(0xd0a1));
        EXPECT(0x1e, gbc.readMem(0xd0a2));
        // C4 016E
        gbc.setState(0x6ee9, 0xe769, 0xb2a0, 0xe6f4, 0x45fe, 0xb6d2, 0x1, 0x1);
        gbc.writeMem(0x6ee9, { 0xc4, 0x23, 0xbf });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xe769, gbc.sp());
        EXPECT(0x6eec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 016F
        gbc.setState(0xb36a, 0xe01c, 0x4d90, 0xc792, 0xb293, 0xadad, 0x1, 0x1);
        gbc.writeMem(0xb36a, { 0xc4, 0x71, 0x79 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xe01c, gbc.sp());
        EXPECT(0xb36d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb36a));
        EXPECT(0x71, gbc.readMem(0xb36b));
        EXPECT(0x79, gbc.readMem(0xb36c));
        // C4 0171
        gbc.setState(0xea12, 0x59c0, 0xd690, 0xaa53, 0x63f9, 0x676e, 0x1, 0x1);
        gbc.writeMem(0xea12, { 0xc4, 0xde, 0x43 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x59c0, gbc.sp());
        EXPECT(0xea15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xea12));
        EXPECT(0xde, gbc.readMem(0xea13));
        EXPECT(0x43, gbc.readMem(0xea14));
        // C4 0172
        gbc.setState(0x7b00, 0xb889, 0x2880, 0xec99, 0xd62, 0x1d67, 0x0, 0x0);
        gbc.writeMem(0x7b00, { 0xc4, 0x8, 0x96 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xb889, gbc.sp());
        EXPECT(0x7b03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0173
        gbc.setState(0xeb34, 0xf613, 0xba80, 0xdd13, 0x1933, 0x34f0, 0x0, 0x1);
        gbc.writeMem(0xeb34, { 0xc4, 0x90, 0x38 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xf613, gbc.sp());
        EXPECT(0xeb37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xeb34));
        EXPECT(0x90, gbc.readMem(0xeb35));
        EXPECT(0x38, gbc.readMem(0xeb36));
        // C4 0175
        gbc.setState(0x8268, 0x1c31, 0xea0, 0x7b33, 0xaac4, 0xa0a6, 0x0, 0x0);
        gbc.writeMem(0x8268, { 0xc4, 0x5, 0x8b });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1c31, gbc.sp());
        EXPECT(0x826b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8268));
        EXPECT(0x5, gbc.readMem(0x8269));
        EXPECT(0x8b, gbc.readMem(0x826a));
        // C4 0176
        gbc.setState(0xd3b, 0xb6ce, 0xda0, 0xd7ef, 0xf0ed, 0x98b3, 0x1, 0x1);
        gbc.writeMem(0xd3b, { 0xc4, 0x2d, 0x9c });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb6ce, gbc.sp());
        EXPECT(0xd3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0177
        gbc.setState(0xee3a, 0xb1be, 0x1980, 0x668a, 0xa564, 0x2849, 0x1, 0x0);
        gbc.writeMem(0xee3a, { 0xc4, 0xd7, 0x7b });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xb1be, gbc.sp());
        EXPECT(0xee3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xee3a));
        EXPECT(0xd7, gbc.readMem(0xee3b));
        EXPECT(0x7b, gbc.readMem(0xee3c));
        // C4 0178
        gbc.setState(0xcc5b, 0xe22c, 0xf6a0, 0xd48, 0xaca6, 0xf768, 0x1, 0x1);
        gbc.writeMem(0xcc5b, { 0xc4, 0x21, 0xed });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xe22c, gbc.sp());
        EXPECT(0xcc5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcc5b));
        EXPECT(0x21, gbc.readMem(0xcc5c));
        EXPECT(0xed, gbc.readMem(0xcc5d));
        // C4 0179
        gbc.setState(0xa603, 0xb9ca, 0x7350, 0xe569, 0x7bcb, 0x4931, 0x1, 0x1);
        gbc.writeMem(0xa603, { 0xc4, 0x8f, 0x15 });
        gbc.writeMem(0xb9c8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb9c8, gbc.sp());
        EXPECT(0x158f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa603));
        EXPECT(0x8f, gbc.readMem(0xa604));
        EXPECT(0x15, gbc.readMem(0xa605));
        EXPECT(0x6, gbc.readMem(0xb9c8));
        EXPECT(0xa6, gbc.readMem(0xb9c9));
        // C4 017A
        gbc.setState(0x1e92, 0xcdab, 0xdab0, 0xad00, 0x73c2, 0xa7d8, 0x1, 0x0);
        gbc.writeMem(0x1e92, { 0xc4, 0x7d, 0x34 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xcdab, gbc.sp());
        EXPECT(0x1e95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 017B
        gbc.setState(0x5b6c, 0x6826, 0x43b0, 0x121e, 0x6082, 0x335, 0x1, 0x1);
        gbc.writeMem(0x5b6c, { 0xc4, 0x1a, 0x58 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x6826, gbc.sp());
        EXPECT(0x5b6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 017D
        gbc.setState(0x9d2e, 0x8384, 0x1a10, 0x177b, 0x22cd, 0x106e, 0x0, 0x1);
        gbc.writeMem(0x8382, { 0x0, 0x0 });
        gbc.writeMem(0x9d2e, { 0xc4, 0x3, 0xfd });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x8382, gbc.sp());
        EXPECT(0xfd03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x31, gbc.readMem(0x8382));
        EXPECT(0x9d, gbc.readMem(0x8383));
        EXPECT(0xc4, gbc.readMem(0x9d2e));
        EXPECT(0x3, gbc.readMem(0x9d2f));
        EXPECT(0xfd, gbc.readMem(0x9d30));
        // C4 017E
        gbc.setState(0x247f, 0xb48, 0x6ab0, 0x99fc, 0x8be0, 0x56c, 0x1, 0x0);
        gbc.writeMem(0x247f, { 0xc4, 0xb9, 0xc1 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xb48, gbc.sp());
        EXPECT(0x2482, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 017F
        gbc.setState(0xebfa, 0xf936, 0xb7a0, 0x9fd8, 0xcf0f, 0x3973, 0x0, 0x0);
        gbc.writeMem(0xebfa, { 0xc4, 0xd8, 0xb7 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xf936, gbc.sp());
        EXPECT(0xebfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xebfa));
        EXPECT(0xd8, gbc.readMem(0xebfb));
        EXPECT(0xb7, gbc.readMem(0xebfc));
        // C4 0180
        gbc.setState(0xcb60, 0x145, 0x5dd0, 0x53e4, 0x9230, 0x2c82, 0x0, 0x0);
        gbc.writeMem(0xcb60, { 0xc4, 0xae, 0xb1 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x145, gbc.sp());
        EXPECT(0xcb63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcb60));
        EXPECT(0xae, gbc.readMem(0xcb61));
        EXPECT(0xb1, gbc.readMem(0xcb62));
        // C4 0181
        gbc.setState(0xa9f6, 0x2005, 0x51d0, 0xcdee, 0x725b, 0x59c, 0x1, 0x0);
        gbc.writeMem(0xa9f6, { 0xc4, 0x52, 0x18 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x2005, gbc.sp());
        EXPECT(0xa9f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa9f6));
        EXPECT(0x52, gbc.readMem(0xa9f7));
        EXPECT(0x18, gbc.readMem(0xa9f8));
        // C4 0182
        gbc.setState(0x5179, 0x261e, 0x1fb0, 0xb700, 0xaf79, 0xdad9, 0x0, 0x1);
        gbc.writeMem(0x5179, { 0xc4, 0x12, 0xbe });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x261e, gbc.sp());
        EXPECT(0x517c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0183
        gbc.setState(0x9d61, 0x575b, 0x2bd0, 0xf9f9, 0xc513, 0x6d9c, 0x1, 0x1);
        gbc.writeMem(0x9d61, { 0xc4, 0x23, 0x21 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x575b, gbc.sp());
        EXPECT(0x9d64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9d61));
        EXPECT(0x23, gbc.readMem(0x9d62));
        EXPECT(0x21, gbc.readMem(0x9d63));
        // C4 0186
        gbc.setState(0x3bcc, 0xc928, 0x3e30, 0xf0ff, 0x4e25, 0x3dca, 0x1, 0x0);
        gbc.writeMem(0x3bcc, { 0xc4, 0xc1, 0xbf });
        gbc.writeMem(0xc926, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xc926, gbc.sp());
        EXPECT(0xbfc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcf, gbc.readMem(0xc926));
        EXPECT(0x3b, gbc.readMem(0xc927));
        // C4 0187
        gbc.setState(0x6bec, 0xaf36, 0x4cb0, 0xab49, 0x614b, 0xc784, 0x0, 0x0);
        gbc.writeMem(0x6bec, { 0xc4, 0xec, 0x3b });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xaf36, gbc.sp());
        EXPECT(0x6bef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0188
        gbc.setState(0xfeb, 0x7a7c, 0x76d0, 0x5388, 0x4128, 0x3d19, 0x0, 0x1);
        gbc.writeMem(0xfeb, { 0xc4, 0xe2, 0xe1 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x7a7c, gbc.sp());
        EXPECT(0xfee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 018A
        gbc.setState(0x7312, 0x1107, 0x24e0, 0x9399, 0xbf06, 0xe56f, 0x1, 0x1);
        gbc.writeMem(0x7312, { 0xc4, 0x6a, 0x79 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x1107, gbc.sp());
        EXPECT(0x7315, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 018B
        gbc.setState(0xe8f9, 0x36cf, 0xaba0, 0x7f31, 0x3d3c, 0x7671, 0x1, 0x1);
        gbc.writeMem(0xe8f9, { 0xc4, 0xe0, 0x49 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x36cf, gbc.sp());
        EXPECT(0xe8fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe8f9));
        EXPECT(0xe0, gbc.readMem(0xe8fa));
        EXPECT(0x49, gbc.readMem(0xe8fb));
        // C4 018C
        gbc.setState(0xdd60, 0xd09e, 0xca10, 0x77fc, 0x987d, 0x6ca, 0x0, 0x0);
        gbc.writeMem(0xd09c, { 0x0, 0x0 });
        gbc.writeMem(0xdd60, { 0xc4, 0xc7, 0x2b });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xd09c, gbc.sp());
        EXPECT(0x2bc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x63, gbc.readMem(0xd09c));
        EXPECT(0xdd, gbc.readMem(0xd09d));
        EXPECT(0xc4, gbc.readMem(0xdd60));
        EXPECT(0xc7, gbc.readMem(0xdd61));
        EXPECT(0x2b, gbc.readMem(0xdd62));
        // C4 018D
        gbc.setState(0x9104, 0x5efc, 0x95f0, 0x2a3d, 0xcfe9, 0x1a1, 0x1, 0x1);
        gbc.writeMem(0x9104, { 0xc4, 0xc7, 0x45 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x5efc, gbc.sp());
        EXPECT(0x9107, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9104));
        EXPECT(0xc7, gbc.readMem(0x9105));
        EXPECT(0x45, gbc.readMem(0x9106));
        // C4 018E
        gbc.setState(0xa737, 0x372e, 0x77b0, 0xbafa, 0xb847, 0x9db6, 0x0, 0x1);
        gbc.writeMem(0xa737, { 0xc4, 0x72, 0xd1 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x372e, gbc.sp());
        EXPECT(0xa73a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa737));
        EXPECT(0x72, gbc.readMem(0xa738));
        EXPECT(0xd1, gbc.readMem(0xa739));
        // C4 018F
        gbc.setState(0xc1bf, 0xd479, 0xb4e0, 0x2229, 0xa25f, 0x8b9c, 0x1, 0x0);
        gbc.writeMem(0xc1bf, { 0xc4, 0x67, 0xc7 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd479, gbc.sp());
        EXPECT(0xc1c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc1bf));
        EXPECT(0x67, gbc.readMem(0xc1c0));
        EXPECT(0xc7, gbc.readMem(0xc1c1));
        // C4 0191
        gbc.setState(0x76cc, 0xb421, 0x1440, 0x97a9, 0x838d, 0xe021, 0x1, 0x0);
        gbc.writeMem(0x76cc, { 0xc4, 0xcc, 0x80 });
        gbc.writeMem(0xb41f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xb41f, gbc.sp());
        EXPECT(0x80cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcf, gbc.readMem(0xb41f));
        EXPECT(0x76, gbc.readMem(0xb420));
        // C4 0192
        gbc.setState(0xe427, 0x2771, 0x5480, 0xe70e, 0x63bf, 0xb2e6, 0x1, 0x1);
        gbc.writeMem(0xe427, { 0xc4, 0x4c, 0xf });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x2771, gbc.sp());
        EXPECT(0xe42a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe427));
        EXPECT(0x4c, gbc.readMem(0xe428));
        EXPECT(0xf, gbc.readMem(0xe429));
        // C4 0193
        gbc.setState(0x2752, 0xe831, 0x6540, 0xea1f, 0xe889, 0x69b6, 0x1, 0x1);
        gbc.writeMem(0x2752, { 0xc4, 0x46, 0x77 });
        gbc.writeMem(0xe82f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xe82f, gbc.sp());
        EXPECT(0x7746, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x55, gbc.readMem(0xe82f));
        EXPECT(0x27, gbc.readMem(0xe830));
        // C4 0194
        gbc.setState(0x5bf9, 0xd3cd, 0xd0b0, 0xd011, 0x7e03, 0x958b, 0x0, 0x1);
        gbc.writeMem(0x5bf9, { 0xc4, 0x6e, 0x8d });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xd3cd, gbc.sp());
        EXPECT(0x5bfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0197
        gbc.setState(0xc3d5, 0x6a09, 0x75e0, 0xa3cd, 0x9740, 0x6b9e, 0x1, 0x1);
        gbc.writeMem(0xc3d5, { 0xc4, 0xff, 0xdd });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x6a09, gbc.sp());
        EXPECT(0xc3d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc3d5));
        EXPECT(0xff, gbc.readMem(0xc3d6));
        EXPECT(0xdd, gbc.readMem(0xc3d7));
        // C4 0198
        gbc.setState(0xe653, 0x1c83, 0x3090, 0x9a99, 0x9234, 0x3924, 0x1, 0x0);
        gbc.writeMem(0xe653, { 0xc4, 0x28, 0x4b });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x1c83, gbc.sp());
        EXPECT(0xe656, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe653));
        EXPECT(0x28, gbc.readMem(0xe654));
        EXPECT(0x4b, gbc.readMem(0xe655));
        // C4 0199
        gbc.setState(0x2426, 0xb43f, 0x53b0, 0xe255, 0xfadd, 0xef54, 0x1, 0x0);
        gbc.writeMem(0x2426, { 0xc4, 0xf1, 0x14 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xb43f, gbc.sp());
        EXPECT(0x2429, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 019B
        gbc.setState(0x4c5b, 0x98e9, 0x90b0, 0x6f3b, 0x9f56, 0xf87d, 0x0, 0x0);
        gbc.writeMem(0x4c5b, { 0xc4, 0x57, 0x18 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x98e9, gbc.sp());
        EXPECT(0x4c5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 019C
        gbc.setState(0x324e, 0xfdcf, 0x4800, 0x91ea, 0x9995, 0x78ee, 0x0, 0x1);
        gbc.writeMem(0x324e, { 0xc4, 0x85, 0x77 });
        gbc.writeMem(0xfdcd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfdcd, gbc.sp());
        EXPECT(0x7785, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x51, gbc.readMem(0xfdcd));
        EXPECT(0x32, gbc.readMem(0xfdce));
        // C4 019D
        gbc.setState(0xac1, 0x82ab, 0xffb0, 0x8751, 0xdddb, 0xaaa4, 0x1, 0x0);
        gbc.writeMem(0xac1, { 0xc4, 0xf1, 0xa2 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x82ab, gbc.sp());
        EXPECT(0xac4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 019F
        gbc.setState(0x8bd1, 0xcb24, 0xe6c0, 0xb063, 0x717e, 0x45f3, 0x1, 0x1);
        gbc.writeMem(0x8bd1, { 0xc4, 0xb0, 0x74 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xcb24, gbc.sp());
        EXPECT(0x8bd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8bd1));
        EXPECT(0xb0, gbc.readMem(0x8bd2));
        EXPECT(0x74, gbc.readMem(0x8bd3));
        // C4 01A0
        gbc.setState(0x6ac2, 0xcb8f, 0xcf90, 0xa8e8, 0x9257, 0x65ed, 0x0, 0x1);
        gbc.writeMem(0x6ac2, { 0xc4, 0xea, 0x15 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xcb8f, gbc.sp());
        EXPECT(0x6ac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01A1
        gbc.setState(0x1a64, 0xe84c, 0x5da0, 0x937f, 0x959b, 0xfce2, 0x1, 0x1);
        gbc.writeMem(0x1a64, { 0xc4, 0x57, 0x27 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xe84c, gbc.sp());
        EXPECT(0x1a67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01A2
        gbc.setState(0x4e13, 0x9896, 0xe990, 0x5c1b, 0xe8a, 0x3fd2, 0x0, 0x0);
        gbc.writeMem(0x4e13, { 0xc4, 0xad, 0x37 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x9896, gbc.sp());
        EXPECT(0x4e16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01A3
        gbc.setState(0x1dcd, 0x3668, 0xf580, 0xd71c, 0x578b, 0xb6fc, 0x0, 0x0);
        gbc.writeMem(0x1dcd, { 0xc4, 0xcd, 0x99 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x3668, gbc.sp());
        EXPECT(0x1dd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01A5
        gbc.setState(0xc15c, 0xed0e, 0x5da0, 0x7176, 0x16a7, 0xb768, 0x1, 0x0);
        gbc.writeMem(0xc15c, { 0xc4, 0x17, 0x8e });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xed0e, gbc.sp());
        EXPECT(0xc15f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc15c));
        EXPECT(0x17, gbc.readMem(0xc15d));
        EXPECT(0x8e, gbc.readMem(0xc15e));
        // C4 01A7
        gbc.setState(0x6fc4, 0xcbef, 0xd020, 0xa56c, 0xe33a, 0x21cf, 0x1, 0x1);
        gbc.writeMem(0x6fc4, { 0xc4, 0xaf, 0xa9 });
        gbc.writeMem(0xcbed, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xcbed, gbc.sp());
        EXPECT(0xa9af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc7, gbc.readMem(0xcbed));
        EXPECT(0x6f, gbc.readMem(0xcbee));
        // C4 01A8
        gbc.setState(0xac21, 0xd534, 0xfb70, 0x6130, 0x1738, 0xeb3f, 0x0, 0x0);
        gbc.writeMem(0xac21, { 0xc4, 0x6f, 0xbd });
        gbc.writeMem(0xd532, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xd532, gbc.sp());
        EXPECT(0xbd6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xac21));
        EXPECT(0x6f, gbc.readMem(0xac22));
        EXPECT(0xbd, gbc.readMem(0xac23));
        EXPECT(0x24, gbc.readMem(0xd532));
        EXPECT(0xac, gbc.readMem(0xd533));
        // C4 01A9
        gbc.setState(0xe0d8, 0xfc62, 0x9ea0, 0x150e, 0x392a, 0x505e, 0x0, 0x1);
        gbc.writeMem(0xe0d8, { 0xc4, 0x97, 0xae });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xfc62, gbc.sp());
        EXPECT(0xe0db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe0d8));
        EXPECT(0x97, gbc.readMem(0xe0d9));
        EXPECT(0xae, gbc.readMem(0xe0da));
        // C4 01AA
        gbc.setState(0xad3, 0x1736, 0x7bd0, 0x55dc, 0x26c2, 0x9121, 0x0, 0x0);
        gbc.writeMem(0xad3, { 0xc4, 0x7c, 0xee });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1736, gbc.sp());
        EXPECT(0xad6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01AB
        gbc.setState(0xb36d, 0xd91, 0xe90, 0x2d82, 0x79e0, 0xc828, 0x0, 0x1);
        gbc.writeMem(0xb36d, { 0xc4, 0x57, 0xb });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xd91, gbc.sp());
        EXPECT(0xb370, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb36d));
        EXPECT(0x57, gbc.readMem(0xb36e));
        EXPECT(0xb, gbc.readMem(0xb36f));
        // C4 01AD
        gbc.setState(0xadc1, 0xab41, 0xcfe0, 0x32da, 0xfd44, 0xc16b, 0x0, 0x0);
        gbc.writeMem(0xadc1, { 0xc4, 0xd9, 0xd4 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xab41, gbc.sp());
        EXPECT(0xadc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xadc1));
        EXPECT(0xd9, gbc.readMem(0xadc2));
        EXPECT(0xd4, gbc.readMem(0xadc3));
        // C4 01B3
        gbc.setState(0x6e0e, 0x9532, 0x81e0, 0xc430, 0x135f, 0x7443, 0x1, 0x0);
        gbc.writeMem(0x6e0e, { 0xc4, 0xfe, 0x1b });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x9532, gbc.sp());
        EXPECT(0x6e11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01B6
        gbc.setState(0xa7b, 0xf301, 0x64e0, 0xc573, 0x7bbb, 0xd861, 0x1, 0x0);
        gbc.writeMem(0xa7b, { 0xc4, 0x58, 0x9d });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xf301, gbc.sp());
        EXPECT(0xa7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01BA
        gbc.setState(0x3ff6, 0xd35d, 0x8c80, 0xf663, 0xeae3, 0x8a6e, 0x0, 0x1);
        gbc.writeMem(0x3ff6, { 0xc4, 0xc0, 0x5a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd35d, gbc.sp());
        EXPECT(0x3ff9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01BB
        gbc.setState(0x75c3, 0x35c5, 0x2780, 0x67b, 0xe1ce, 0x14d2, 0x1, 0x1);
        gbc.writeMem(0x75c3, { 0xc4, 0x6, 0x4 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x35c5, gbc.sp());
        EXPECT(0x75c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01BC
        gbc.setState(0xd20a, 0x3fba, 0xaee0, 0xed6, 0xed56, 0x8e5, 0x1, 0x1);
        gbc.writeMem(0xd20a, { 0xc4, 0x23, 0xc });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x3fba, gbc.sp());
        EXPECT(0xd20d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd20a));
        EXPECT(0x23, gbc.readMem(0xd20b));
        EXPECT(0xc, gbc.readMem(0xd20c));
        // C4 01C0
        gbc.setState(0xe689, 0xd87a, 0x84a0, 0x32dc, 0x2e5d, 0x1ac1, 0x0, 0x1);
        gbc.writeMem(0xe689, { 0xc4, 0xda, 0xf9 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xd87a, gbc.sp());
        EXPECT(0xe68c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe689));
        EXPECT(0xda, gbc.readMem(0xe68a));
        EXPECT(0xf9, gbc.readMem(0xe68b));
        // C4 01C1
        gbc.setState(0xc340, 0xa3a4, 0x6170, 0x4c3, 0x4ad0, 0x50e7, 0x0, 0x0);
        gbc.writeMem(0xa3a2, { 0x0, 0x0 });
        gbc.writeMem(0xc340, { 0xc4, 0x72, 0x59 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xa3a2, gbc.sp());
        EXPECT(0x5972, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x43, gbc.readMem(0xa3a2));
        EXPECT(0xc3, gbc.readMem(0xa3a3));
        EXPECT(0xc4, gbc.readMem(0xc340));
        EXPECT(0x72, gbc.readMem(0xc341));
        EXPECT(0x59, gbc.readMem(0xc342));
        // C4 01C2
        gbc.setState(0x788f, 0x7d0c, 0x1790, 0xb17a, 0xc3b9, 0x8aac, 0x1, 0x1);
        gbc.writeMem(0x788f, { 0xc4, 0x41, 0x18 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x7d0c, gbc.sp());
        EXPECT(0x7892, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01C3
        gbc.setState(0x7634, 0x51cf, 0xc690, 0x6c43, 0xc3ae, 0x7b66, 0x1, 0x1);
        gbc.writeMem(0x7634, { 0xc4, 0xe0, 0x32 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x51cf, gbc.sp());
        EXPECT(0x7637, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01C4
        gbc.setState(0x9be6, 0x721c, 0x6ee0, 0x5907, 0x4947, 0xf31e, 0x0, 0x1);
        gbc.writeMem(0x9be6, { 0xc4, 0xa7, 0x14 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x721c, gbc.sp());
        EXPECT(0x9be9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9be6));
        EXPECT(0xa7, gbc.readMem(0x9be7));
        EXPECT(0x14, gbc.readMem(0x9be8));
        // C4 01C5
        gbc.setState(0x2f0e, 0xe456, 0x5690, 0x8fcb, 0xf7c9, 0x6a0b, 0x1, 0x1);
        gbc.writeMem(0x2f0e, { 0xc4, 0x2d, 0x31 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xe456, gbc.sp());
        EXPECT(0x2f11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01C6
        gbc.setState(0x7ade, 0xe6a3, 0x73b0, 0x9ad9, 0x50aa, 0x6906, 0x1, 0x1);
        gbc.writeMem(0x7ade, { 0xc4, 0xb6, 0xd0 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xe6a3, gbc.sp());
        EXPECT(0x7ae1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01C7
        gbc.setState(0xb508, 0xc3e0, 0x74c0, 0x99c5, 0x8184, 0x9647, 0x0, 0x0);
        gbc.writeMem(0xb508, { 0xc4, 0xea, 0x0 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xc3e0, gbc.sp());
        EXPECT(0xb50b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb508));
        EXPECT(0xea, gbc.readMem(0xb509));
        EXPECT(0x0, gbc.readMem(0xb50a));
        // C4 01C8
        gbc.setState(0xa636, 0x2d29, 0x22d0, 0x6988, 0x9319, 0x7bdc, 0x0, 0x0);
        gbc.writeMem(0xa636, { 0xc4, 0x2, 0xa0 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x2d29, gbc.sp());
        EXPECT(0xa639, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa636));
        EXPECT(0x2, gbc.readMem(0xa637));
        EXPECT(0xa0, gbc.readMem(0xa638));
        // C4 01CA
        gbc.setState(0x2038, 0xdd31, 0x1bd0, 0x9688, 0x539e, 0x268, 0x0, 0x0);
        gbc.writeMem(0x2038, { 0xc4, 0x9, 0x57 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xdd31, gbc.sp());
        EXPECT(0x203b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01CC
        gbc.setState(0x3817, 0xac51, 0xe970, 0xe837, 0x295e, 0xca59, 0x1, 0x0);
        gbc.writeMem(0x3817, { 0xc4, 0x14, 0x1b });
        gbc.writeMem(0xac4f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xac4f, gbc.sp());
        EXPECT(0x1b14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x1a, gbc.readMem(0xac4f));
        EXPECT(0x38, gbc.readMem(0xac50));
        // C4 01CD
        gbc.setState(0x9f9, 0xcfbe, 0xbdc0, 0xca3, 0x4, 0x3930, 0x1, 0x1);
        gbc.writeMem(0x9f9, { 0xc4, 0xc3, 0xda });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xcfbe, gbc.sp());
        EXPECT(0x9fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01CF
        gbc.setState(0x8e5f, 0xc014, 0xd8f0, 0x9746, 0x38d5, 0xc9be, 0x1, 0x1);
        gbc.writeMem(0x8e5f, { 0xc4, 0x50, 0xd4 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xc014, gbc.sp());
        EXPECT(0x8e62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8e5f));
        EXPECT(0x50, gbc.readMem(0x8e60));
        EXPECT(0xd4, gbc.readMem(0x8e61));
        // C4 01D0
        gbc.setState(0xc2d8, 0xff94, 0xfeb0, 0x4da7, 0xbb60, 0xbd0a, 0x1, 0x0);
        gbc.writeMem(0xc2d8, { 0xc4, 0xdc, 0x25 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xff94, gbc.sp());
        EXPECT(0xc2db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc2d8));
        EXPECT(0xdc, gbc.readMem(0xc2d9));
        EXPECT(0x25, gbc.readMem(0xc2da));
        // C4 01D1
        gbc.setState(0x6b4d, 0xd074, 0x5300, 0x91fc, 0x7880, 0xd33, 0x0, 0x1);
        gbc.writeMem(0x6b4d, { 0xc4, 0x65, 0xb4 });
        gbc.writeMem(0xd072, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd072, gbc.sp());
        EXPECT(0xb465, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x50, gbc.readMem(0xd072));
        EXPECT(0x6b, gbc.readMem(0xd073));
        // C4 01D2
        gbc.setState(0xb9af, 0xe806, 0xb7f0, 0xcb04, 0x1bce, 0xb3bd, 0x1, 0x0);
        gbc.writeMem(0xb9af, { 0xc4, 0xef, 0xed });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xe806, gbc.sp());
        EXPECT(0xb9b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb9af));
        EXPECT(0xef, gbc.readMem(0xb9b0));
        EXPECT(0xed, gbc.readMem(0xb9b1));
        // C4 01D3
        gbc.setState(0x1741, 0x42c2, 0x1180, 0x81e1, 0x7503, 0x7e48, 0x0, 0x0);
        gbc.writeMem(0x1741, { 0xc4, 0x21, 0x4 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x42c2, gbc.sp());
        EXPECT(0x1744, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01D4
        gbc.setState(0x4562, 0x499b, 0x3d80, 0x63d3, 0xa6ab, 0xa512, 0x1, 0x1);
        gbc.writeMem(0x4562, { 0xc4, 0x51, 0x3c });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x499b, gbc.sp());
        EXPECT(0x4565, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01D5
        gbc.setState(0xbd80, 0xb519, 0xf280, 0x2884, 0x9121, 0x1a8f, 0x1, 0x0);
        gbc.writeMem(0xbd80, { 0xc4, 0xe6, 0x3b });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb519, gbc.sp());
        EXPECT(0xbd83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbd80));
        EXPECT(0xe6, gbc.readMem(0xbd81));
        EXPECT(0x3b, gbc.readMem(0xbd82));
        // C4 01D6
        gbc.setState(0x8dd, 0xb5d5, 0x9ff0, 0x41ac, 0x9a41, 0x7e2, 0x1, 0x1);
        gbc.writeMem(0x8dd, { 0xc4, 0x24, 0x3e });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xb5d5, gbc.sp());
        EXPECT(0x8e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01D8
        gbc.setState(0xdc7e, 0xbeaa, 0x91b0, 0x2ca5, 0x29b8, 0xbbfd, 0x1, 0x0);
        gbc.writeMem(0xdc7e, { 0xc4, 0x42, 0x26 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xbeaa, gbc.sp());
        EXPECT(0xdc81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdc7e));
        EXPECT(0x42, gbc.readMem(0xdc7f));
        EXPECT(0x26, gbc.readMem(0xdc80));
        // C4 01D9
        gbc.setState(0x4d35, 0x9d5f, 0x77a0, 0xe11f, 0xd9c8, 0xdd4f, 0x0, 0x0);
        gbc.writeMem(0x4d35, { 0xc4, 0x6c, 0xc3 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x9d5f, gbc.sp());
        EXPECT(0x4d38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01DB
        gbc.setState(0x9f1b, 0xfd9d, 0x3270, 0xe18c, 0x5cab, 0x9699, 0x0, 0x0);
        gbc.writeMem(0x9f1b, { 0xc4, 0x89, 0x21 });
        gbc.writeMem(0xfd9b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xfd9b, gbc.sp());
        EXPECT(0x2189, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9f1b));
        EXPECT(0x89, gbc.readMem(0x9f1c));
        EXPECT(0x21, gbc.readMem(0x9f1d));
        EXPECT(0x1e, gbc.readMem(0xfd9b));
        EXPECT(0x9f, gbc.readMem(0xfd9c));
        // C4 01DD
        gbc.setState(0xa34e, 0x9c10, 0x4a0, 0xb5b4, 0x2bcc, 0x3353, 0x0, 0x0);
        gbc.writeMem(0xa34e, { 0xc4, 0x11, 0x68 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x9c10, gbc.sp());
        EXPECT(0xa351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa34e));
        EXPECT(0x11, gbc.readMem(0xa34f));
        EXPECT(0x68, gbc.readMem(0xa350));
        // C4 01DE
        gbc.setState(0x91de, 0xdbef, 0xbce0, 0xcb05, 0x38ae, 0x7d07, 0x0, 0x0);
        gbc.writeMem(0x91de, { 0xc4, 0xa1, 0xae });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xdbef, gbc.sp());
        EXPECT(0x91e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x91de));
        EXPECT(0xa1, gbc.readMem(0x91df));
        EXPECT(0xae, gbc.readMem(0x91e0));
        // C4 01DF
        gbc.setState(0x62b0, 0xf1c, 0x2bf0, 0xad6a, 0x9b00, 0xb798, 0x0, 0x0);
        gbc.writeMem(0x62b0, { 0xc4, 0x98, 0x6e });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xf1c, gbc.sp());
        EXPECT(0x62b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01E0
        gbc.setState(0x8add, 0xc0c, 0x5c90, 0x5979, 0xe809, 0xea9a, 0x0, 0x0);
        gbc.writeMem(0x8add, { 0xc4, 0x46, 0x89 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xc0c, gbc.sp());
        EXPECT(0x8ae0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8add));
        EXPECT(0x46, gbc.readMem(0x8ade));
        EXPECT(0x89, gbc.readMem(0x8adf));
        // C4 01E1
        gbc.setState(0xde52, 0xa03b, 0x8220, 0xa9d3, 0x4ddf, 0x4a7f, 0x0, 0x1);
        gbc.writeMem(0xa039, { 0x0, 0x0 });
        gbc.writeMem(0xde52, { 0xc4, 0xa4, 0x47 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa039, gbc.sp());
        EXPECT(0x47a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x55, gbc.readMem(0xa039));
        EXPECT(0xde, gbc.readMem(0xa03a));
        EXPECT(0xc4, gbc.readMem(0xde52));
        EXPECT(0xa4, gbc.readMem(0xde53));
        EXPECT(0x47, gbc.readMem(0xde54));
        // C4 01E4
        gbc.setState(0x233, 0x67cb, 0x9b80, 0x5090, 0xa748, 0x23db, 0x0, 0x0);
        gbc.writeMem(0x233, { 0xc4, 0x1f, 0x21 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x67cb, gbc.sp());
        EXPECT(0x236, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01E5
        gbc.setState(0x66c3, 0xc50f, 0x44c0, 0x8b95, 0x67bb, 0xc490, 0x0, 0x0);
        gbc.writeMem(0x66c3, { 0xc4, 0xed, 0x21 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xc50f, gbc.sp());
        EXPECT(0x66c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01E6
        gbc.setState(0x1c6a, 0x5d75, 0xcde0, 0xfec6, 0x6551, 0xe4b6, 0x1, 0x1);
        gbc.writeMem(0x1c6a, { 0xc4, 0x70, 0x9d });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5d75, gbc.sp());
        EXPECT(0x1c6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01E7
        gbc.setState(0xdb8a, 0x9cab, 0xc3b0, 0x36fc, 0xd919, 0xef04, 0x0, 0x1);
        gbc.writeMem(0xdb8a, { 0xc4, 0xdd, 0x42 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x9cab, gbc.sp());
        EXPECT(0xdb8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdb8a));
        EXPECT(0xdd, gbc.readMem(0xdb8b));
        EXPECT(0x42, gbc.readMem(0xdb8c));
        // C4 01EC
        gbc.setState(0xa2c0, 0x5abf, 0x6d90, 0xe14a, 0xb3bc, 0x6dd2, 0x1, 0x0);
        gbc.writeMem(0xa2c0, { 0xc4, 0x7d, 0x67 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x5abf, gbc.sp());
        EXPECT(0xa2c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa2c0));
        EXPECT(0x7d, gbc.readMem(0xa2c1));
        EXPECT(0x67, gbc.readMem(0xa2c2));
        // C4 01ED
        gbc.setState(0xe4df, 0xad33, 0x200, 0x7256, 0xc8bb, 0xd65, 0x1, 0x1);
        gbc.writeMem(0xad31, { 0x0, 0x0 });
        gbc.writeMem(0xe4df, { 0xc4, 0xf8, 0x7 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xad31, gbc.sp());
        EXPECT(0x7f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe2, gbc.readMem(0xad31));
        EXPECT(0xe4, gbc.readMem(0xad32));
        EXPECT(0xc4, gbc.readMem(0xe4df));
        EXPECT(0xf8, gbc.readMem(0xe4e0));
        EXPECT(0x7, gbc.readMem(0xe4e1));
        // C4 01EF
        gbc.setState(0xc9a, 0xf935, 0xdb00, 0xc224, 0x54be, 0xd39, 0x0, 0x1);
        gbc.writeMem(0xc9a, { 0xc4, 0xcf, 0x54 });
        gbc.writeMem(0xf933, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xf933, gbc.sp());
        EXPECT(0x54cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9d, gbc.readMem(0xf933));
        EXPECT(0xc, gbc.readMem(0xf934));
        // C4 01F2
        gbc.setState(0xb8be, 0x89b8, 0x2720, 0xb70f, 0x4bb1, 0xe493, 0x1, 0x0);
        gbc.writeMem(0x89b6, { 0x0, 0x0 });
        gbc.writeMem(0xb8be, { 0xc4, 0xbd, 0x5d });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x89b6, gbc.sp());
        EXPECT(0x5dbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc1, gbc.readMem(0x89b6));
        EXPECT(0xb8, gbc.readMem(0x89b7));
        EXPECT(0xc4, gbc.readMem(0xb8be));
        EXPECT(0xbd, gbc.readMem(0xb8bf));
        EXPECT(0x5d, gbc.readMem(0xb8c0));
        // C4 01F3
        gbc.setState(0x129, 0xbb92, 0x3600, 0x7ee9, 0xa689, 0x1510, 0x1, 0x1);
        gbc.writeMem(0x129, { 0xc4, 0xec, 0x3b });
        gbc.writeMem(0xbb90, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xbb90, gbc.sp());
        EXPECT(0x3bec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2c, gbc.readMem(0xbb90));
        EXPECT(0x1, gbc.readMem(0xbb91));
        // C4 01F4
        gbc.setState(0xa307, 0x5b89, 0xf390, 0x7a81, 0xf948, 0x8047, 0x0, 0x1);
        gbc.writeMem(0xa307, { 0xc4, 0x65, 0xe });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x5b89, gbc.sp());
        EXPECT(0xa30a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa307));
        EXPECT(0x65, gbc.readMem(0xa308));
        EXPECT(0xe, gbc.readMem(0xa309));
        // C4 01F5
        gbc.setState(0x4722, 0x5557, 0xf590, 0xb189, 0x10af, 0xa8f2, 0x0, 0x0);
        gbc.writeMem(0x4722, { 0xc4, 0x8c, 0x42 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x5557, gbc.sp());
        EXPECT(0x4725, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01F6
        gbc.setState(0x4ede, 0xd326, 0xcff0, 0xf9be, 0x8b6f, 0x5d3f, 0x0, 0x0);
        gbc.writeMem(0x4ede, { 0xc4, 0x3c, 0x87 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xd326, gbc.sp());
        EXPECT(0x4ee1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01F7
        gbc.setState(0x6a27, 0x7d68, 0x33c0, 0x7a78, 0x8067, 0xcd9e, 0x0, 0x0);
        gbc.writeMem(0x6a27, { 0xc4, 0xc5, 0x8f });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x7d68, gbc.sp());
        EXPECT(0x6a2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01F9
        gbc.setState(0x184b, 0x64a4, 0x5d80, 0x56f9, 0x1e41, 0xaf90, 0x0, 0x0);
        gbc.writeMem(0x184b, { 0xc4, 0xe8, 0x8c });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x64a4, gbc.sp());
        EXPECT(0x184e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 01FA
        gbc.setState(0xab3b, 0x2986, 0x36f0, 0x39ec, 0xaa8d, 0x128f, 0x1, 0x1);
        gbc.writeMem(0xab3b, { 0xc4, 0xce, 0x33 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x2986, gbc.sp());
        EXPECT(0xab3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xab3b));
        EXPECT(0xce, gbc.readMem(0xab3c));
        EXPECT(0x33, gbc.readMem(0xab3d));
        // C4 01FB
        gbc.setState(0xc5d0, 0x857b, 0xba40, 0xcb27, 0xfd28, 0xf157, 0x1, 0x1);
        gbc.writeMem(0x8579, { 0x0, 0x0 });
        gbc.writeMem(0xc5d0, { 0xc4, 0xf4, 0x98 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x8579, gbc.sp());
        EXPECT(0x98f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd3, gbc.readMem(0x8579));
        EXPECT(0xc5, gbc.readMem(0x857a));
        EXPECT(0xc4, gbc.readMem(0xc5d0));
        EXPECT(0xf4, gbc.readMem(0xc5d1));
        EXPECT(0x98, gbc.readMem(0xc5d2));
        // C4 01FC
        gbc.setState(0x1cb4, 0xb11, 0x5cb0, 0xae0f, 0xb60e, 0xed5e, 0x1, 0x0);
        gbc.writeMem(0x1cb4, { 0xc4, 0x61, 0xa5 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb11, gbc.sp());
        EXPECT(0x1cb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 01FD
        gbc.setState(0xe481, 0xe2b9, 0xb80, 0x9639, 0x8d84, 0xd5bc, 0x1, 0x1);
        gbc.writeMem(0xe481, { 0xc4, 0x2d, 0xde });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xe2b9, gbc.sp());
        EXPECT(0xe484, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe481));
        EXPECT(0x2d, gbc.readMem(0xe482));
        EXPECT(0xde, gbc.readMem(0xe483));
        // C4 01FF
        gbc.setState(0x8f60, 0x29ca, 0x3290, 0xf509, 0x8ced, 0x83ce, 0x1, 0x1);
        gbc.writeMem(0x8f60, { 0xc4, 0x5f, 0x7e });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x29ca, gbc.sp());
        EXPECT(0x8f63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8f60));
        EXPECT(0x5f, gbc.readMem(0x8f61));
        EXPECT(0x7e, gbc.readMem(0x8f62));
        // C4 0200
        gbc.setState(0xaf98, 0x9e8f, 0xe6b0, 0xbce1, 0xfd1b, 0x7c44, 0x0, 0x1);
        gbc.writeMem(0xaf98, { 0xc4, 0x26, 0x12 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x9e8f, gbc.sp());
        EXPECT(0xaf9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xaf98));
        EXPECT(0x26, gbc.readMem(0xaf99));
        EXPECT(0x12, gbc.readMem(0xaf9a));
        // C4 0201
        gbc.setState(0x7873, 0x469d, 0x21f0, 0x7d87, 0x3cb0, 0x7228, 0x0, 0x0);
        gbc.writeMem(0x7873, { 0xc4, 0x76, 0xb9 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x469d, gbc.sp());
        EXPECT(0x7876, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0203
        gbc.setState(0xe2c5, 0x911b, 0xdbf0, 0xbf1c, 0x1562, 0x7ac9, 0x1, 0x1);
        gbc.writeMem(0xe2c5, { 0xc4, 0xd6, 0xd3 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x911b, gbc.sp());
        EXPECT(0xe2c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe2c5));
        EXPECT(0xd6, gbc.readMem(0xe2c6));
        EXPECT(0xd3, gbc.readMem(0xe2c7));
        // C4 0204
        gbc.setState(0x843f, 0x8384, 0x8f20, 0x39bc, 0x315e, 0xb944, 0x0, 0x1);
        gbc.writeMem(0x8382, { 0x0, 0x0 });
        gbc.writeMem(0x843f, { 0xc4, 0xdb, 0x45 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x8382, gbc.sp());
        EXPECT(0x45db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x42, gbc.readMem(0x8382));
        EXPECT(0x84, gbc.readMem(0x8383));
        EXPECT(0xc4, gbc.readMem(0x843f));
        EXPECT(0xdb, gbc.readMem(0x8440));
        EXPECT(0x45, gbc.readMem(0x8441));
        // C4 0205
        gbc.setState(0xbbe6, 0xde94, 0x25d0, 0x6e92, 0x7adc, 0xed44, 0x1, 0x0);
        gbc.writeMem(0xbbe6, { 0xc4, 0xff, 0x9 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xde94, gbc.sp());
        EXPECT(0xbbe9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbbe6));
        EXPECT(0xff, gbc.readMem(0xbbe7));
        EXPECT(0x9, gbc.readMem(0xbbe8));
        // C4 0207
        gbc.setState(0x5684, 0xd576, 0xf010, 0xf000, 0x91d, 0xaffe, 0x0, 0x1);
        gbc.writeMem(0x5684, { 0xc4, 0xeb, 0xf1 });
        gbc.writeMem(0xd574, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xd574, gbc.sp());
        EXPECT(0xf1eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x87, gbc.readMem(0xd574));
        EXPECT(0x56, gbc.readMem(0xd575));
        // C4 0208
        gbc.setState(0xab4b, 0x38f3, 0x8090, 0x765c, 0xde30, 0x845d, 0x1, 0x1);
        gbc.writeMem(0xab4b, { 0xc4, 0x31, 0x5 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x38f3, gbc.sp());
        EXPECT(0xab4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xab4b));
        EXPECT(0x31, gbc.readMem(0xab4c));
        EXPECT(0x5, gbc.readMem(0xab4d));
        // C4 0209
        gbc.setState(0x3193, 0x9808, 0x1590, 0x226e, 0xc9a9, 0xba3e, 0x1, 0x0);
        gbc.writeMem(0x3193, { 0xc4, 0x8e, 0x33 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x9808, gbc.sp());
        EXPECT(0x3196, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 020A
        gbc.setState(0x6ba4, 0xb6e7, 0x8bc0, 0x16eb, 0x54d1, 0xeeff, 0x1, 0x0);
        gbc.writeMem(0x6ba4, { 0xc4, 0x69, 0x9d });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xb6e7, gbc.sp());
        EXPECT(0x6ba7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 020E
        gbc.setState(0x5146, 0xe3b, 0x82f0, 0x31c4, 0x5e92, 0x992, 0x0, 0x1);
        gbc.writeMem(0x5146, { 0xc4, 0xb, 0x53 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xe3b, gbc.sp());
        EXPECT(0x5149, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 020F
        gbc.setState(0x1eee, 0x904f, 0xc5d0, 0xd8cf, 0xc008, 0x91ae, 0x1, 0x0);
        gbc.writeMem(0x1eee, { 0xc4, 0x58, 0x4c });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x904f, gbc.sp());
        EXPECT(0x1ef1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0210
        gbc.setState(0xed6e, 0xc005, 0xd5c0, 0x236c, 0xa747, 0xa166, 0x0, 0x0);
        gbc.writeMem(0xed6e, { 0xc4, 0x9a, 0x51 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xc005, gbc.sp());
        EXPECT(0xed71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xed6e));
        EXPECT(0x9a, gbc.readMem(0xed6f));
        EXPECT(0x51, gbc.readMem(0xed70));
        // C4 0211
        gbc.setState(0xdb07, 0xba3b, 0xc240, 0x8f50, 0x591, 0x2025, 0x0, 0x1);
        gbc.writeMem(0xba39, { 0x0, 0x0 });
        gbc.writeMem(0xdb07, { 0xc4, 0xbb, 0x4 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xba39, gbc.sp());
        EXPECT(0x4bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa, gbc.readMem(0xba39));
        EXPECT(0xdb, gbc.readMem(0xba3a));
        EXPECT(0xc4, gbc.readMem(0xdb07));
        EXPECT(0xbb, gbc.readMem(0xdb08));
        EXPECT(0x4, gbc.readMem(0xdb09));
        // C4 0212
        gbc.setState(0x8bb6, 0xa598, 0x4210, 0x620e, 0xb64b, 0x2e52, 0x1, 0x0);
        gbc.writeMem(0x8bb6, { 0xc4, 0x4b, 0xb3 });
        gbc.writeMem(0xa596, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xa596, gbc.sp());
        EXPECT(0xb34b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8bb6));
        EXPECT(0x4b, gbc.readMem(0x8bb7));
        EXPECT(0xb3, gbc.readMem(0x8bb8));
        EXPECT(0xb9, gbc.readMem(0xa596));
        EXPECT(0x8b, gbc.readMem(0xa597));
        // C4 0214
        gbc.setState(0x7d92, 0xd350, 0x43c0, 0x3644, 0x688a, 0x4589, 0x1, 0x1);
        gbc.writeMem(0x7d92, { 0xc4, 0x98, 0x12 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xd350, gbc.sp());
        EXPECT(0x7d95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0215
        gbc.setState(0xa99b, 0x8c7d, 0x6500, 0x3b23, 0xf873, 0x15eb, 0x1, 0x0);
        gbc.writeMem(0x8c7b, { 0x0, 0x0 });
        gbc.writeMem(0xa99b, { 0xc4, 0xe5, 0x7f });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x8c7b, gbc.sp());
        EXPECT(0x7fe5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9e, gbc.readMem(0x8c7b));
        EXPECT(0xa9, gbc.readMem(0x8c7c));
        EXPECT(0xc4, gbc.readMem(0xa99b));
        EXPECT(0xe5, gbc.readMem(0xa99c));
        EXPECT(0x7f, gbc.readMem(0xa99d));
        // C4 0216
        gbc.setState(0x584, 0xf9c0, 0xe580, 0x28f4, 0xfca0, 0xc7d4, 0x0, 0x0);
        gbc.writeMem(0x584, { 0xc4, 0x7b, 0x3d });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf9c0, gbc.sp());
        EXPECT(0x587, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0217
        gbc.setState(0x5dab, 0xfb53, 0x6d20, 0xd555, 0xb6db, 0x2db9, 0x0, 0x0);
        gbc.writeMem(0x5dab, { 0xc4, 0x14, 0x64 });
        gbc.writeMem(0xfb51, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xfb51, gbc.sp());
        EXPECT(0x6414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xae, gbc.readMem(0xfb51));
        EXPECT(0x5d, gbc.readMem(0xfb52));
        // C4 0218
        gbc.setState(0x3e38, 0xbd1f, 0x62a0, 0x5269, 0x7b9b, 0xd285, 0x1, 0x1);
        gbc.writeMem(0x3e38, { 0xc4, 0x9e, 0xb0 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xbd1f, gbc.sp());
        EXPECT(0x3e3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 021A
        gbc.setState(0x6761, 0xdfcf, 0x6820, 0x1471, 0xc081, 0xcf7, 0x0, 0x0);
        gbc.writeMem(0x6761, { 0xc4, 0x93, 0x77 });
        gbc.writeMem(0xdfcd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xdfcd, gbc.sp());
        EXPECT(0x7793, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0xdfcd));
        EXPECT(0x67, gbc.readMem(0xdfce));
        // C4 021C
        gbc.setState(0x638d, 0xe356, 0x94a0, 0x2667, 0xbe91, 0xdef0, 0x1, 0x1);
        gbc.writeMem(0x638d, { 0xc4, 0x92, 0x8a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xe356, gbc.sp());
        EXPECT(0x6390, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 021D
        gbc.setState(0xc31b, 0xcd25, 0x2480, 0x67a, 0x4af9, 0x80cb, 0x1, 0x1);
        gbc.writeMem(0xc31b, { 0xc4, 0x60, 0x37 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xcd25, gbc.sp());
        EXPECT(0xc31e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc31b));
        EXPECT(0x60, gbc.readMem(0xc31c));
        EXPECT(0x37, gbc.readMem(0xc31d));
        // C4 021E
        gbc.setState(0xbdb4, 0x35be, 0xf3f0, 0x516, 0xb38d, 0x3db, 0x0, 0x1);
        gbc.writeMem(0xbdb4, { 0xc4, 0x39, 0x12 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x35be, gbc.sp());
        EXPECT(0xbdb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbdb4));
        EXPECT(0x39, gbc.readMem(0xbdb5));
        EXPECT(0x12, gbc.readMem(0xbdb6));
        // C4 021F
        gbc.setState(0xc6fd, 0x47a3, 0xe980, 0xbf5d, 0xf41e, 0x8711, 0x1, 0x0);
        gbc.writeMem(0xc6fd, { 0xc4, 0x80, 0xf2 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x47a3, gbc.sp());
        EXPECT(0xc700, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc6fd));
        EXPECT(0x80, gbc.readMem(0xc6fe));
        EXPECT(0xf2, gbc.readMem(0xc6ff));
        // C4 0220
        gbc.setState(0x707c, 0x5ad, 0x8180, 0xd417, 0xf6bb, 0xcf77, 0x1, 0x0);
        gbc.writeMem(0x707c, { 0xc4, 0x14, 0x4f });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x5ad, gbc.sp());
        EXPECT(0x707f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0221
        gbc.setState(0x50e, 0x9eff, 0xcdd0, 0xad, 0x196f, 0xd212, 0x0, 0x1);
        gbc.writeMem(0x50e, { 0xc4, 0xd2, 0xb6 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x9eff, gbc.sp());
        EXPECT(0x511, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0223
        gbc.setState(0x18ef, 0x4f1, 0xcfd0, 0x995, 0x441d, 0xbc7b, 0x0, 0x0);
        gbc.writeMem(0x18ef, { 0xc4, 0x6f, 0xba });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x4f1, gbc.sp());
        EXPECT(0x18f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0224
        gbc.setState(0x80c, 0xf701, 0x7800, 0x3801, 0x6b26, 0x84aa, 0x0, 0x1);
        gbc.writeMem(0x80c, { 0xc4, 0xf6, 0x7a });
        gbc.writeMem(0xf6ff, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf6ff, gbc.sp());
        EXPECT(0x7af6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xf6ff));
        EXPECT(0x8, gbc.readMem(0xf700));
        // C4 0225
        gbc.setState(0x3d46, 0x6096, 0xe980, 0x384d, 0x3f23, 0xffda, 0x1, 0x0);
        gbc.writeMem(0x3d46, { 0xc4, 0x21, 0xca });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x6096, gbc.sp());
        EXPECT(0x3d49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0226
        gbc.setState(0x1156, 0xf553, 0xa660, 0x4b04, 0x7d77, 0x8292, 0x0, 0x1);
        gbc.writeMem(0x1156, { 0xc4, 0x90, 0xda });
        gbc.writeMem(0xf551, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xf551, gbc.sp());
        EXPECT(0xda90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x59, gbc.readMem(0xf551));
        EXPECT(0x11, gbc.readMem(0xf552));
        // C4 0227
        gbc.setState(0x8034, 0xb89b, 0x7270, 0x9ef1, 0x6f85, 0x5197, 0x1, 0x1);
        gbc.writeMem(0x8034, { 0xc4, 0x8a, 0x40 });
        gbc.writeMem(0xb899, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xb899, gbc.sp());
        EXPECT(0x408a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8034));
        EXPECT(0x8a, gbc.readMem(0x8035));
        EXPECT(0x40, gbc.readMem(0x8036));
        EXPECT(0x37, gbc.readMem(0xb899));
        EXPECT(0x80, gbc.readMem(0xb89a));
        // C4 0228
        gbc.setState(0xa254, 0xf022, 0x4740, 0xca11, 0x28e8, 0xaef, 0x1, 0x0);
        gbc.writeMem(0xa254, { 0xc4, 0x92, 0xa6 });
        gbc.writeMem(0xf020, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xf020, gbc.sp());
        EXPECT(0xa692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa254));
        EXPECT(0x92, gbc.readMem(0xa255));
        EXPECT(0xa6, gbc.readMem(0xa256));
        EXPECT(0x57, gbc.readMem(0xf020));
        EXPECT(0xa2, gbc.readMem(0xf021));
        // C4 0229
        gbc.setState(0x9ac, 0x9b1c, 0x3540, 0xc2ed, 0x5dbc, 0xc97e, 0x0, 0x0);
        gbc.writeMem(0x9ac, { 0xc4, 0x44, 0xc9 });
        gbc.writeMem(0x9b1a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x9b1a, gbc.sp());
        EXPECT(0xc944, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xaf, gbc.readMem(0x9b1a));
        EXPECT(0x9, gbc.readMem(0x9b1b));
        // C4 022A
        gbc.setState(0xe149, 0x4984, 0x1cb0, 0x1c3f, 0x6307, 0x6ea6, 0x0, 0x0);
        gbc.writeMem(0xe149, { 0xc4, 0x1e, 0x4 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x4984, gbc.sp());
        EXPECT(0xe14c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe149));
        EXPECT(0x1e, gbc.readMem(0xe14a));
        EXPECT(0x4, gbc.readMem(0xe14b));
        // C4 022B
        gbc.setState(0x9f6a, 0x5fc7, 0x64a0, 0xf57c, 0x9325, 0x5b24, 0x0, 0x0);
        gbc.writeMem(0x9f6a, { 0xc4, 0xa, 0xb4 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x5fc7, gbc.sp());
        EXPECT(0x9f6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9f6a));
        EXPECT(0xa, gbc.readMem(0x9f6b));
        EXPECT(0xb4, gbc.readMem(0x9f6c));
        // C4 022D
        gbc.setState(0x43e9, 0x131, 0xdcb0, 0x4769, 0x43c5, 0xc99, 0x0, 0x1);
        gbc.writeMem(0x43e9, { 0xc4, 0xd8, 0xa2 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x131, gbc.sp());
        EXPECT(0x43ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0230
        gbc.setState(0x9087, 0xe567, 0x1840, 0x1c22, 0x78fe, 0xdab6, 0x1, 0x1);
        gbc.writeMem(0x9087, { 0xc4, 0xdb, 0xb7 });
        gbc.writeMem(0xe565, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xe565, gbc.sp());
        EXPECT(0xb7db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9087));
        EXPECT(0xdb, gbc.readMem(0x9088));
        EXPECT(0xb7, gbc.readMem(0x9089));
        EXPECT(0x8a, gbc.readMem(0xe565));
        EXPECT(0x90, gbc.readMem(0xe566));
        // C4 0231
        gbc.setState(0x2f93, 0x2e40, 0xe5e0, 0x9f54, 0x158b, 0x3926, 0x1, 0x0);
        gbc.writeMem(0x2f93, { 0xc4, 0xe2, 0x76 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x2e40, gbc.sp());
        EXPECT(0x2f96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0232
        gbc.setState(0x1c9d, 0xe03f, 0xe990, 0xf3d5, 0xc3f8, 0x3abf, 0x0, 0x0);
        gbc.writeMem(0x1c9d, { 0xc4, 0x77, 0xc9 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xe03f, gbc.sp());
        EXPECT(0x1ca0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0233
        gbc.setState(0xeaad, 0xfc04, 0x9dc0, 0xf815, 0xf909, 0x4a3d, 0x0, 0x0);
        gbc.writeMem(0xeaad, { 0xc4, 0xd, 0x4b });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xfc04, gbc.sp());
        EXPECT(0xeab0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xeaad));
        EXPECT(0xd, gbc.readMem(0xeaae));
        EXPECT(0x4b, gbc.readMem(0xeaaf));
        // C4 0236
        gbc.setState(0xee0c, 0x88d6, 0x9a80, 0xae48, 0xcbad, 0xbb96, 0x1, 0x1);
        gbc.writeMem(0xee0c, { 0xc4, 0xb4, 0x2a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x88d6, gbc.sp());
        EXPECT(0xee0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xee0c));
        EXPECT(0xb4, gbc.readMem(0xee0d));
        EXPECT(0x2a, gbc.readMem(0xee0e));
        // C4 0237
        gbc.setState(0xc9ee, 0x1ddb, 0xf9f0, 0x429f, 0x4a01, 0x8a84, 0x1, 0x0);
        gbc.writeMem(0xc9ee, { 0xc4, 0x9a, 0x7b });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x1ddb, gbc.sp());
        EXPECT(0xc9f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc9ee));
        EXPECT(0x9a, gbc.readMem(0xc9ef));
        EXPECT(0x7b, gbc.readMem(0xc9f0));
        // C4 0238
        gbc.setState(0xdb69, 0xc8a5, 0xc4c0, 0xe200, 0xc576, 0x422d, 0x1, 0x0);
        gbc.writeMem(0xdb69, { 0xc4, 0x7b, 0xcc });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xc8a5, gbc.sp());
        EXPECT(0xdb6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdb69));
        EXPECT(0x7b, gbc.readMem(0xdb6a));
        EXPECT(0xcc, gbc.readMem(0xdb6b));
        // C4 023A
        gbc.setState(0x7544, 0xcfc8, 0xdd70, 0xa835, 0x55b3, 0x5841, 0x0, 0x1);
        gbc.writeMem(0x7544, { 0xc4, 0xde, 0x52 });
        gbc.writeMem(0xcfc6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xcfc6, gbc.sp());
        EXPECT(0x52de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x47, gbc.readMem(0xcfc6));
        EXPECT(0x75, gbc.readMem(0xcfc7));
        // C4 023B
        gbc.setState(0xa8a8, 0xe45b, 0x8fc0, 0x494, 0x6d2a, 0x34ec, 0x0, 0x0);
        gbc.writeMem(0xa8a8, { 0xc4, 0x2f, 0x21 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xe45b, gbc.sp());
        EXPECT(0xa8ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa8a8));
        EXPECT(0x2f, gbc.readMem(0xa8a9));
        EXPECT(0x21, gbc.readMem(0xa8aa));
        // C4 023D
        gbc.setState(0x1150, 0xcdf6, 0xad80, 0xf9df, 0x1ef0, 0x9b48, 0x0, 0x1);
        gbc.writeMem(0x1150, { 0xc4, 0xc9, 0xf });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xcdf6, gbc.sp());
        EXPECT(0x1153, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 023F
        gbc.setState(0x9a01, 0x60a1, 0x2ad0, 0xbb7b, 0xb952, 0x9986, 0x0, 0x1);
        gbc.writeMem(0x9a01, { 0xc4, 0x2c, 0x7f });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x60a1, gbc.sp());
        EXPECT(0x9a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9a01));
        EXPECT(0x2c, gbc.readMem(0x9a02));
        EXPECT(0x7f, gbc.readMem(0x9a03));
        // C4 0241
        gbc.setState(0x6187, 0x616, 0x95e0, 0xca49, 0xa793, 0x462e, 0x1, 0x1);
        gbc.writeMem(0x6187, { 0xc4, 0x3, 0x1d });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x616, gbc.sp());
        EXPECT(0x618a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0242
        gbc.setState(0xdc2f, 0x6321, 0x66f0, 0xe802, 0xadc9, 0x7144, 0x0, 0x0);
        gbc.writeMem(0xdc2f, { 0xc4, 0x7d, 0x94 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6321, gbc.sp());
        EXPECT(0xdc32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdc2f));
        EXPECT(0x7d, gbc.readMem(0xdc30));
        EXPECT(0x94, gbc.readMem(0xdc31));
        // C4 0243
        gbc.setState(0x9937, 0xa35c, 0xae70, 0x13f1, 0x3fd5, 0x3d7f, 0x0, 0x0);
        gbc.writeMem(0x9937, { 0xc4, 0x41, 0x43 });
        gbc.writeMem(0xa35a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xa35a, gbc.sp());
        EXPECT(0x4341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9937));
        EXPECT(0x41, gbc.readMem(0x9938));
        EXPECT(0x43, gbc.readMem(0x9939));
        EXPECT(0x3a, gbc.readMem(0xa35a));
        EXPECT(0x99, gbc.readMem(0xa35b));
        // C4 0244
        gbc.setState(0xcc74, 0xa90f, 0x5f00, 0xb382, 0x7a7e, 0x10d1, 0x1, 0x1);
        gbc.writeMem(0xa90d, { 0x0, 0x0 });
        gbc.writeMem(0xcc74, { 0xc4, 0x41, 0x81 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa90d, gbc.sp());
        EXPECT(0x8141, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xa90d));
        EXPECT(0xcc, gbc.readMem(0xa90e));
        EXPECT(0xc4, gbc.readMem(0xcc74));
        EXPECT(0x41, gbc.readMem(0xcc75));
        EXPECT(0x81, gbc.readMem(0xcc76));
        // C4 0247
        gbc.setState(0x9108, 0x616d, 0xecf0, 0x727, 0xb9a7, 0xda63, 0x1, 0x0);
        gbc.writeMem(0x9108, { 0xc4, 0xc4, 0x5 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x616d, gbc.sp());
        EXPECT(0x910b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9108));
        EXPECT(0xc4, gbc.readMem(0x9109));
        EXPECT(0x5, gbc.readMem(0x910a));
        // C4 0249
        gbc.setState(0x4df6, 0xd2bf, 0xc380, 0xaea9, 0xae4a, 0x2aa0, 0x1, 0x1);
        gbc.writeMem(0x4df6, { 0xc4, 0xe6, 0x22 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd2bf, gbc.sp());
        EXPECT(0x4df9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 024A
        gbc.setState(0x1335, 0x24d0, 0xa4b0, 0x7f6d, 0x6acb, 0xbc60, 0x0, 0x0);
        gbc.writeMem(0x1335, { 0xc4, 0x1a, 0xe0 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x24d0, gbc.sp());
        EXPECT(0x1338, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 024B
        gbc.setState(0xb96b, 0xdb71, 0x6760, 0xdd27, 0x61ff, 0x9ec8, 0x0, 0x1);
        gbc.writeMem(0xb96b, { 0xc4, 0xa5, 0x8a });
        gbc.writeMem(0xdb6f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xdb6f, gbc.sp());
        EXPECT(0x8aa5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb96b));
        EXPECT(0xa5, gbc.readMem(0xb96c));
        EXPECT(0x8a, gbc.readMem(0xb96d));
        EXPECT(0x6e, gbc.readMem(0xdb6f));
        EXPECT(0xb9, gbc.readMem(0xdb70));
        // C4 024C
        gbc.setState(0xea2a, 0x6ab3, 0xc4b0, 0x8ace, 0x543f, 0x4253, 0x0, 0x1);
        gbc.writeMem(0xea2a, { 0xc4, 0x10, 0xa2 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x6ab3, gbc.sp());
        EXPECT(0xea2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xea2a));
        EXPECT(0x10, gbc.readMem(0xea2b));
        EXPECT(0xa2, gbc.readMem(0xea2c));
        // C4 024D
        gbc.setState(0xa498, 0x988d, 0x9ae0, 0x2b82, 0xbfe9, 0xa908, 0x0, 0x0);
        gbc.writeMem(0xa498, { 0xc4, 0x68, 0x64 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x988d, gbc.sp());
        EXPECT(0xa49b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa498));
        EXPECT(0x68, gbc.readMem(0xa499));
        EXPECT(0x64, gbc.readMem(0xa49a));
        // C4 024E
        gbc.setState(0x5579, 0x7f12, 0x39b0, 0x1ca1, 0xec0f, 0xa586, 0x1, 0x0);
        gbc.writeMem(0x5579, { 0xc4, 0xb8, 0xbf });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x7f12, gbc.sp());
        EXPECT(0x557c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 024F
        gbc.setState(0xe4e, 0xbbe4, 0xf900, 0x3da6, 0x2923, 0x557, 0x0, 0x0);
        gbc.writeMem(0xe4e, { 0xc4, 0xca, 0x11 });
        gbc.writeMem(0xbbe2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xbbe2, gbc.sp());
        EXPECT(0x11ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x51, gbc.readMem(0xbbe2));
        EXPECT(0xe, gbc.readMem(0xbbe3));
        // C4 0250
        gbc.setState(0xa25e, 0x6996, 0xce90, 0x5a70, 0x312b, 0x3bf3, 0x1, 0x1);
        gbc.writeMem(0xa25e, { 0xc4, 0x57, 0xcb });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x6996, gbc.sp());
        EXPECT(0xa261, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa25e));
        EXPECT(0x57, gbc.readMem(0xa25f));
        EXPECT(0xcb, gbc.readMem(0xa260));
        // C4 0251
        gbc.setState(0x358c, 0x2a21, 0xa3c0, 0xe218, 0xb2ab, 0x1d94, 0x1, 0x1);
        gbc.writeMem(0x358c, { 0xc4, 0xd6, 0x83 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2a21, gbc.sp());
        EXPECT(0x358f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0252
        gbc.setState(0xe4e8, 0x80f2, 0x4cb0, 0xbc6, 0xf9c0, 0xc2aa, 0x0, 0x0);
        gbc.writeMem(0xe4e8, { 0xc4, 0x24, 0xbf });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x80f2, gbc.sp());
        EXPECT(0xe4eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe4e8));
        EXPECT(0x24, gbc.readMem(0xe4e9));
        EXPECT(0xbf, gbc.readMem(0xe4ea));
        // C4 0254
        gbc.setState(0x6d3d, 0x140c, 0x27b0, 0x73c2, 0xb87c, 0x4bf, 0x0, 0x0);
        gbc.writeMem(0x6d3d, { 0xc4, 0xc2, 0xad });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x140c, gbc.sp());
        EXPECT(0x6d40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0256
        gbc.setState(0x1d35, 0xa903, 0x5360, 0xc232, 0x5c36, 0x4d82, 0x0, 0x0);
        gbc.writeMem(0x1d35, { 0xc4, 0x55, 0x1b });
        gbc.writeMem(0xa901, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xa901, gbc.sp());
        EXPECT(0x1b55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x38, gbc.readMem(0xa901));
        EXPECT(0x1d, gbc.readMem(0xa902));
        // C4 0257
        gbc.setState(0xaab4, 0xa9c6, 0x1640, 0x508f, 0x1437, 0x5d1, 0x0, 0x1);
        gbc.writeMem(0xa9c4, { 0x0, 0x0 });
        gbc.writeMem(0xaab4, { 0xc4, 0xa9, 0x56 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa9c4, gbc.sp());
        EXPECT(0x56a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb7, gbc.readMem(0xa9c4));
        EXPECT(0xaa, gbc.readMem(0xa9c5));
        EXPECT(0xc4, gbc.readMem(0xaab4));
        EXPECT(0xa9, gbc.readMem(0xaab5));
        EXPECT(0x56, gbc.readMem(0xaab6));
        // C4 0258
        gbc.setState(0x6a6, 0xf442, 0xc090, 0xa4f6, 0xbaa1, 0xdbbe, 0x0, 0x1);
        gbc.writeMem(0x6a6, { 0xc4, 0x2f, 0x30 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xf442, gbc.sp());
        EXPECT(0x6a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0259
        gbc.setState(0x3b0f, 0x94c6, 0x2dd0, 0x8220, 0x781f, 0xb0f7, 0x0, 0x0);
        gbc.writeMem(0x3b0f, { 0xc4, 0x82, 0xed });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x94c6, gbc.sp());
        EXPECT(0x3b12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 025A
        gbc.setState(0x22dc, 0xd248, 0xb6e0, 0xf30c, 0x9513, 0x216a, 0x0, 0x1);
        gbc.writeMem(0x22dc, { 0xc4, 0x7c, 0x51 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xd248, gbc.sp());
        EXPECT(0x22df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 025B
        gbc.setState(0xcd99, 0x2ca1, 0xed80, 0x3f7b, 0x1018, 0x6979, 0x1, 0x1);
        gbc.writeMem(0xcd99, { 0xc4, 0x3, 0xc6 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x2ca1, gbc.sp());
        EXPECT(0xcd9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcd99));
        EXPECT(0x3, gbc.readMem(0xcd9a));
        EXPECT(0xc6, gbc.readMem(0xcd9b));
        // C4 025D
        gbc.setState(0x9cc2, 0xb508, 0xc810, 0x723b, 0x1755, 0x14bf, 0x0, 0x1);
        gbc.writeMem(0x9cc2, { 0xc4, 0xc9, 0xc });
        gbc.writeMem(0xb506, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xb506, gbc.sp());
        EXPECT(0xcc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9cc2));
        EXPECT(0xc9, gbc.readMem(0x9cc3));
        EXPECT(0xc, gbc.readMem(0x9cc4));
        EXPECT(0xc5, gbc.readMem(0xb506));
        EXPECT(0x9c, gbc.readMem(0xb507));
        // C4 025E
        gbc.setState(0x789e, 0xa280, 0xe0, 0x54b1, 0x6bff, 0x93e, 0x1, 0x1);
        gbc.writeMem(0x789e, { 0xc4, 0x2c, 0xc2 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa280, gbc.sp());
        EXPECT(0x78a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0260
        gbc.setState(0xe8e, 0xe427, 0x1600, 0x9c4f, 0xc16e, 0xa101, 0x0, 0x1);
        gbc.writeMem(0xe8e, { 0xc4, 0xaa, 0x49 });
        gbc.writeMem(0xe425, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xe425, gbc.sp());
        EXPECT(0x49aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x91, gbc.readMem(0xe425));
        EXPECT(0xe, gbc.readMem(0xe426));
        // C4 0261
        gbc.setState(0x252b, 0x89d3, 0x9fe0, 0xaf1c, 0xd0c8, 0x1f6, 0x1, 0x0);
        gbc.writeMem(0x252b, { 0xc4, 0xb7, 0x21 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x89d3, gbc.sp());
        EXPECT(0x252e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0262
        gbc.setState(0x4563, 0xedd3, 0xebc0, 0x2b6b, 0xbcd7, 0xbe35, 0x0, 0x1);
        gbc.writeMem(0x4563, { 0xc4, 0x3c, 0xbf });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xedd3, gbc.sp());
        EXPECT(0x4566, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0264
        gbc.setState(0xd7d5, 0xbe9e, 0xdf90, 0x71cf, 0x7259, 0x83e9, 0x1, 0x1);
        gbc.writeMem(0xd7d5, { 0xc4, 0xdc, 0xc0 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xbe9e, gbc.sp());
        EXPECT(0xd7d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd7d5));
        EXPECT(0xdc, gbc.readMem(0xd7d6));
        EXPECT(0xc0, gbc.readMem(0xd7d7));
        // C4 0265
        gbc.setState(0xbd6d, 0xed5e, 0xede0, 0x3c4d, 0x173b, 0x8c60, 0x1, 0x0);
        gbc.writeMem(0xbd6d, { 0xc4, 0xf9, 0xeb });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xed5e, gbc.sp());
        EXPECT(0xbd70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbd6d));
        EXPECT(0xf9, gbc.readMem(0xbd6e));
        EXPECT(0xeb, gbc.readMem(0xbd6f));
        // C4 0266
        gbc.setState(0x2ec2, 0xc732, 0xcee0, 0x4076, 0x69dd, 0x4ec6, 0x0, 0x1);
        gbc.writeMem(0x2ec2, { 0xc4, 0x1d, 0xaf });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xc732, gbc.sp());
        EXPECT(0x2ec5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0268
        gbc.setState(0x4271, 0x928, 0xf2f0, 0x6639, 0x9672, 0x3635, 0x0, 0x0);
        gbc.writeMem(0x4271, { 0xc4, 0x12, 0xe8 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x928, gbc.sp());
        EXPECT(0x4274, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0269
        gbc.setState(0xc9b5, 0x3e63, 0xbec0, 0xa0fc, 0x5f8d, 0x11a5, 0x0, 0x1);
        gbc.writeMem(0xc9b5, { 0xc4, 0xb9, 0x65 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x3e63, gbc.sp());
        EXPECT(0xc9b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc9b5));
        EXPECT(0xb9, gbc.readMem(0xc9b6));
        EXPECT(0x65, gbc.readMem(0xc9b7));
        // C4 026A
        gbc.setState(0xb610, 0xed43, 0xb8b0, 0x2273, 0x482, 0xe1c9, 0x1, 0x0);
        gbc.writeMem(0xb610, { 0xc4, 0xe4, 0xe7 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xed43, gbc.sp());
        EXPECT(0xb613, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb610));
        EXPECT(0xe4, gbc.readMem(0xb611));
        EXPECT(0xe7, gbc.readMem(0xb612));
        // C4 026C
        gbc.setState(0xd325, 0xd975, 0xe580, 0x5efe, 0xb5f5, 0xdc7f, 0x0, 0x0);
        gbc.writeMem(0xd325, { 0xc4, 0xad, 0xd6 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xd975, gbc.sp());
        EXPECT(0xd328, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd325));
        EXPECT(0xad, gbc.readMem(0xd326));
        EXPECT(0xd6, gbc.readMem(0xd327));
        // C4 026D
        gbc.setState(0x1cbc, 0x3924, 0x64a0, 0x961b, 0xbacf, 0x9991, 0x0, 0x0);
        gbc.writeMem(0x1cbc, { 0xc4, 0xc6, 0xd3 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x3924, gbc.sp());
        EXPECT(0x1cbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 026E
        gbc.setState(0x5fcb, 0x6ede, 0x92a0, 0xa6d, 0x4c82, 0x801e, 0x0, 0x1);
        gbc.writeMem(0x5fcb, { 0xc4, 0x3b, 0xcc });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x6ede, gbc.sp());
        EXPECT(0x5fce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0270
        gbc.setState(0xb1f9, 0x8364, 0x6a50, 0x2c2f, 0xe03, 0xa4e8, 0x0, 0x0);
        gbc.writeMem(0x8362, { 0x0, 0x0 });
        gbc.writeMem(0xb1f9, { 0xc4, 0x49, 0x30 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x8362, gbc.sp());
        EXPECT(0x3049, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfc, gbc.readMem(0x8362));
        EXPECT(0xb1, gbc.readMem(0x8363));
        EXPECT(0xc4, gbc.readMem(0xb1f9));
        EXPECT(0x49, gbc.readMem(0xb1fa));
        EXPECT(0x30, gbc.readMem(0xb1fb));
        // C4 0271
        gbc.setState(0xe785, 0x4d4d, 0xa7e0, 0x5bea, 0xd2ca, 0xa260, 0x0, 0x0);
        gbc.writeMem(0xe785, { 0xc4, 0x30, 0x8e });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x4d4d, gbc.sp());
        EXPECT(0xe788, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe785));
        EXPECT(0x30, gbc.readMem(0xe786));
        EXPECT(0x8e, gbc.readMem(0xe787));
        // C4 0273
        gbc.setState(0x4554, 0xbf65, 0x7300, 0xbad5, 0xee01, 0xc7e2, 0x1, 0x0);
        gbc.writeMem(0x4554, { 0xc4, 0x55, 0xcf });
        gbc.writeMem(0xbf63, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xbf63, gbc.sp());
        EXPECT(0xcf55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x57, gbc.readMem(0xbf63));
        EXPECT(0x45, gbc.readMem(0xbf64));
        // C4 0274
        gbc.setState(0xc6c5, 0xd144, 0x96f0, 0xf110, 0x2132, 0x7633, 0x1, 0x1);
        gbc.writeMem(0xc6c5, { 0xc4, 0x35, 0x14 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xd144, gbc.sp());
        EXPECT(0xc6c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc6c5));
        EXPECT(0x35, gbc.readMem(0xc6c6));
        EXPECT(0x14, gbc.readMem(0xc6c7));
        // C4 0276
        gbc.setState(0x94fd, 0x1ced, 0x36c0, 0xc018, 0x9058, 0x3c9d, 0x1, 0x0);
        gbc.writeMem(0x94fd, { 0xc4, 0xe3, 0x8 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x1ced, gbc.sp());
        EXPECT(0x9500, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x94fd));
        EXPECT(0xe3, gbc.readMem(0x94fe));
        EXPECT(0x8, gbc.readMem(0x94ff));
        // C4 0277
        gbc.setState(0xb9e, 0xd68c, 0xbc20, 0x9838, 0xfee, 0xc926, 0x0, 0x0);
        gbc.writeMem(0xb9e, { 0xc4, 0x71, 0x72 });
        gbc.writeMem(0xd68a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xd68a, gbc.sp());
        EXPECT(0x7271, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa1, gbc.readMem(0xd68a));
        EXPECT(0xb, gbc.readMem(0xd68b));
        // C4 0278
        gbc.setState(0x9523, 0xd255, 0x6360, 0x2591, 0x51d2, 0x6dbc, 0x0, 0x1);
        gbc.writeMem(0x9523, { 0xc4, 0xeb, 0x43 });
        gbc.writeMem(0xd253, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xd253, gbc.sp());
        EXPECT(0x43eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9523));
        EXPECT(0xeb, gbc.readMem(0x9524));
        EXPECT(0x43, gbc.readMem(0x9525));
        EXPECT(0x26, gbc.readMem(0xd253));
        EXPECT(0x95, gbc.readMem(0xd254));
        // C4 027A
        gbc.setState(0x9b77, 0xbffd, 0x130, 0x5e32, 0x9007, 0xccd, 0x0, 0x1);
        gbc.writeMem(0x9b77, { 0xc4, 0x1e, 0x26 });
        gbc.writeMem(0xbffb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xbffb, gbc.sp());
        EXPECT(0x261e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9b77));
        EXPECT(0x1e, gbc.readMem(0x9b78));
        EXPECT(0x26, gbc.readMem(0x9b79));
        EXPECT(0x7a, gbc.readMem(0xbffb));
        EXPECT(0x9b, gbc.readMem(0xbffc));
        // C4 027B
        gbc.setState(0x2815, 0xb665, 0xc170, 0xadcf, 0xd5cd, 0x3d30, 0x1, 0x1);
        gbc.writeMem(0x2815, { 0xc4, 0x4c, 0xe8 });
        gbc.writeMem(0xb663, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xb663, gbc.sp());
        EXPECT(0xe84c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x18, gbc.readMem(0xb663));
        EXPECT(0x28, gbc.readMem(0xb664));
        // C4 027D
        gbc.setState(0xec09, 0x9607, 0xae90, 0xa8c5, 0x1f09, 0xf2e9, 0x1, 0x0);
        gbc.writeMem(0xec09, { 0xc4, 0x10, 0xd2 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x9607, gbc.sp());
        EXPECT(0xec0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xec09));
        EXPECT(0x10, gbc.readMem(0xec0a));
        EXPECT(0xd2, gbc.readMem(0xec0b));
        // C4 027F
        gbc.setState(0x777d, 0x541f, 0x40e0, 0x4c21, 0x7a76, 0x3489, 0x0, 0x1);
        gbc.writeMem(0x777d, { 0xc4, 0x57, 0xf7 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x541f, gbc.sp());
        EXPECT(0x7780, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0280
        gbc.setState(0x5ae6, 0x8ba2, 0xd6a0, 0x2c47, 0xb37b, 0xe50e, 0x1, 0x1);
        gbc.writeMem(0x5ae6, { 0xc4, 0xb0, 0xe1 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x8ba2, gbc.sp());
        EXPECT(0x5ae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0281
        gbc.setState(0x539a, 0x658c, 0xacf0, 0x5638, 0xdf0, 0x2633, 0x0, 0x1);
        gbc.writeMem(0x539a, { 0xc4, 0x6a, 0x70 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x658c, gbc.sp());
        EXPECT(0x539d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0282
        gbc.setState(0x8d8f, 0xb97e, 0xae30, 0x62f7, 0x4f25, 0x8ca4, 0x0, 0x0);
        gbc.writeMem(0x8d8f, { 0xc4, 0xd7, 0x21 });
        gbc.writeMem(0xb97c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xb97c, gbc.sp());
        EXPECT(0x21d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8d8f));
        EXPECT(0xd7, gbc.readMem(0x8d90));
        EXPECT(0x21, gbc.readMem(0x8d91));
        EXPECT(0x92, gbc.readMem(0xb97c));
        EXPECT(0x8d, gbc.readMem(0xb97d));
        // C4 0284
        gbc.setState(0xdac0, 0xa750, 0xe300, 0xd94e, 0xaeec, 0xcf45, 0x1, 0x0);
        gbc.writeMem(0xa74e, { 0x0, 0x0 });
        gbc.writeMem(0xdac0, { 0xc4, 0x73, 0x1d });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xa74e, gbc.sp());
        EXPECT(0x1d73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc3, gbc.readMem(0xa74e));
        EXPECT(0xda, gbc.readMem(0xa74f));
        EXPECT(0xc4, gbc.readMem(0xdac0));
        EXPECT(0x73, gbc.readMem(0xdac1));
        EXPECT(0x1d, gbc.readMem(0xdac2));
        // C4 0285
        gbc.setState(0xd377, 0xac9b, 0x65c0, 0xd11c, 0x6445, 0x7f09, 0x0, 0x1);
        gbc.writeMem(0xd377, { 0xc4, 0x16, 0x20 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xac9b, gbc.sp());
        EXPECT(0xd37a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd377));
        EXPECT(0x16, gbc.readMem(0xd378));
        EXPECT(0x20, gbc.readMem(0xd379));
        // C4 0286
        gbc.setState(0x2e7, 0x15bf, 0x3a80, 0x55cf, 0x8b3c, 0x83f4, 0x0, 0x1);
        gbc.writeMem(0x2e7, { 0xc4, 0x81, 0xf0 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x15bf, gbc.sp());
        EXPECT(0x2ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 028A
        gbc.setState(0xb4f8, 0xf3bd, 0x6930, 0xec50, 0x5ac2, 0x2f0a, 0x0, 0x0);
        gbc.writeMem(0xb4f8, { 0xc4, 0xa8, 0x3a });
        gbc.writeMem(0xf3bb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xf3bb, gbc.sp());
        EXPECT(0x3aa8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb4f8));
        EXPECT(0xa8, gbc.readMem(0xb4f9));
        EXPECT(0x3a, gbc.readMem(0xb4fa));
        EXPECT(0xfb, gbc.readMem(0xf3bb));
        EXPECT(0xb4, gbc.readMem(0xf3bc));
        // C4 028B
        gbc.setState(0xe160, 0x5d59, 0x71b0, 0x2eea, 0x42b5, 0x8ce0, 0x0, 0x1);
        gbc.writeMem(0xe160, { 0xc4, 0xb7, 0x2c });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5d59, gbc.sp());
        EXPECT(0xe163, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe160));
        EXPECT(0xb7, gbc.readMem(0xe161));
        EXPECT(0x2c, gbc.readMem(0xe162));
        // C4 028C
        gbc.setState(0x57cf, 0xcc79, 0x9350, 0xfbfd, 0xfc16, 0xc833, 0x1, 0x1);
        gbc.writeMem(0x57cf, { 0xc4, 0x31, 0x67 });
        gbc.writeMem(0xcc77, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xcc77, gbc.sp());
        EXPECT(0x6731, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd2, gbc.readMem(0xcc77));
        EXPECT(0x57, gbc.readMem(0xcc78));
        // C4 028D
        gbc.setState(0xc2e9, 0xe062, 0x1230, 0x5fae, 0xa5e9, 0xf4ff, 0x0, 0x0);
        gbc.writeMem(0xc2e9, { 0xc4, 0x52, 0xe7 });
        gbc.writeMem(0xe060, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xe060, gbc.sp());
        EXPECT(0xe752, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc2e9));
        EXPECT(0x52, gbc.readMem(0xc2ea));
        EXPECT(0xe7, gbc.readMem(0xc2eb));
        EXPECT(0xec, gbc.readMem(0xe060));
        EXPECT(0xc2, gbc.readMem(0xe061));
        // C4 028E
        gbc.setState(0x127b, 0x58ac, 0x26d0, 0x81f2, 0xcc58, 0x5789, 0x1, 0x1);
        gbc.writeMem(0x127b, { 0xc4, 0xa1, 0xa8 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x58ac, gbc.sp());
        EXPECT(0x127e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0290
        gbc.setState(0x949f, 0xa909, 0xf410, 0x589d, 0x880d, 0x8517, 0x0, 0x0);
        gbc.writeMem(0x949f, { 0xc4, 0x37, 0xe8 });
        gbc.writeMem(0xa907, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xa907, gbc.sp());
        EXPECT(0xe837, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x949f));
        EXPECT(0x37, gbc.readMem(0x94a0));
        EXPECT(0xe8, gbc.readMem(0x94a1));
        EXPECT(0xa2, gbc.readMem(0xa907));
        EXPECT(0x94, gbc.readMem(0xa908));
        // C4 0291
        gbc.setState(0x831c, 0x1359, 0xd8f0, 0xd47f, 0x5477, 0x3138, 0x1, 0x0);
        gbc.writeMem(0x831c, { 0xc4, 0x21, 0xd5 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x1359, gbc.sp());
        EXPECT(0x831f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x831c));
        EXPECT(0x21, gbc.readMem(0x831d));
        EXPECT(0xd5, gbc.readMem(0x831e));
        // C4 0292
        gbc.setState(0x399c, 0xdda3, 0x18d0, 0xee27, 0xb647, 0x2258, 0x1, 0x0);
        gbc.writeMem(0x399c, { 0xc4, 0x9e, 0x23 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xdda3, gbc.sp());
        EXPECT(0x399f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0295
        gbc.setState(0x5cc4, 0xb089, 0x8d80, 0x1eed, 0x2dd4, 0x546a, 0x0, 0x0);
        gbc.writeMem(0x5cc4, { 0xc4, 0x77, 0x5f });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb089, gbc.sp());
        EXPECT(0x5cc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0297
        gbc.setState(0x4f5e, 0x4c34, 0xcab0, 0x9175, 0x18ff, 0x1203, 0x1, 0x1);
        gbc.writeMem(0x4f5e, { 0xc4, 0xc9, 0x7d });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x4c34, gbc.sp());
        EXPECT(0x4f61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0298
        gbc.setState(0x1d1e, 0x975a, 0xdb20, 0x5650, 0x5902, 0x6f5a, 0x1, 0x0);
        gbc.writeMem(0x1d1e, { 0xc4, 0x6, 0xe0 });
        gbc.writeMem(0x9758, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x9758, gbc.sp());
        EXPECT(0xe006, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x21, gbc.readMem(0x9758));
        EXPECT(0x1d, gbc.readMem(0x9759));
        // C4 0299
        gbc.setState(0x9bab, 0xd23a, 0x5de0, 0x9e16, 0x5c78, 0xfebd, 0x0, 0x0);
        gbc.writeMem(0x9bab, { 0xc4, 0xbe, 0x4a });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xd23a, gbc.sp());
        EXPECT(0x9bae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9bab));
        EXPECT(0xbe, gbc.readMem(0x9bac));
        EXPECT(0x4a, gbc.readMem(0x9bad));
        // C4 029B
        gbc.setState(0xa027, 0x57eb, 0x31b0, 0xfcfd, 0xa2f5, 0xc15f, 0x0, 0x1);
        gbc.writeMem(0xa027, { 0xc4, 0xca, 0xca });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x57eb, gbc.sp());
        EXPECT(0xa02a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa027));
        EXPECT(0xca, gbc.readMem(0xa028));
        EXPECT(0xca, gbc.readMem(0xa029));
        // C4 029D
        gbc.setState(0xc2b0, 0x883c, 0x2520, 0x1a, 0xe883, 0xce96, 0x1, 0x1);
        gbc.writeMem(0x883a, { 0x0, 0x0 });
        gbc.writeMem(0xc2b0, { 0xc4, 0xff, 0x45 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x883a, gbc.sp());
        EXPECT(0x45ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb3, gbc.readMem(0x883a));
        EXPECT(0xc2, gbc.readMem(0x883b));
        EXPECT(0xc4, gbc.readMem(0xc2b0));
        EXPECT(0xff, gbc.readMem(0xc2b1));
        EXPECT(0x45, gbc.readMem(0xc2b2));
        // C4 029E
        gbc.setState(0x45ef, 0xd1ee, 0xe200, 0xce2e, 0x9f08, 0xee89, 0x1, 0x0);
        gbc.writeMem(0x45ef, { 0xc4, 0x0, 0x5a });
        gbc.writeMem(0xd1ec, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xd1ec, gbc.sp());
        EXPECT(0x5a00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0xd1ec));
        EXPECT(0x45, gbc.readMem(0xd1ed));
        // C4 02A0
        gbc.setState(0xdd2c, 0xe4a5, 0xf530, 0x3aeb, 0x6ef4, 0x9bfc, 0x0, 0x1);
        gbc.writeMem(0xdd2c, { 0xc4, 0x35, 0x6a });
        gbc.writeMem(0xe4a3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xe4a3, gbc.sp());
        EXPECT(0x6a35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdd2c));
        EXPECT(0x35, gbc.readMem(0xdd2d));
        EXPECT(0x6a, gbc.readMem(0xdd2e));
        EXPECT(0x2f, gbc.readMem(0xe4a3));
        EXPECT(0xdd, gbc.readMem(0xe4a4));
        // C4 02A1
        gbc.setState(0x3eaa, 0xd0a7, 0x89d0, 0xebf0, 0xf424, 0xe2af, 0x1, 0x0);
        gbc.writeMem(0x3eaa, { 0xc4, 0x13, 0x96 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xd0a7, gbc.sp());
        EXPECT(0x3ead, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02A2
        gbc.setState(0x598f, 0xb01b, 0x6d80, 0x7dd2, 0x9568, 0x992c, 0x0, 0x0);
        gbc.writeMem(0x598f, { 0xc4, 0x9f, 0x14 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xb01b, gbc.sp());
        EXPECT(0x5992, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02A5
        gbc.setState(0x561f, 0x7c71, 0xe9f0, 0x4b32, 0x6aa5, 0x8ed9, 0x0, 0x1);
        gbc.writeMem(0x561f, { 0xc4, 0x6b, 0xe3 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x7c71, gbc.sp());
        EXPECT(0x5622, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02A6
        gbc.setState(0x158b, 0x5b40, 0x3eb0, 0xc0c8, 0xe8e4, 0xad80, 0x1, 0x1);
        gbc.writeMem(0x158b, { 0xc4, 0xb8, 0x22 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5b40, gbc.sp());
        EXPECT(0x158e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02A8
        gbc.setState(0x5860, 0x9816, 0x3ba0, 0x55d1, 0x1b31, 0xb020, 0x0, 0x1);
        gbc.writeMem(0x5860, { 0xc4, 0x78, 0x51 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x9816, gbc.sp());
        EXPECT(0x5863, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02A9
        gbc.setState(0x6802, 0xc534, 0x2ee0, 0x7d25, 0x8efd, 0x12dd, 0x0, 0x1);
        gbc.writeMem(0x6802, { 0xc4, 0xce, 0xc1 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xc534, gbc.sp());
        EXPECT(0x6805, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02AA
        gbc.setState(0x612b, 0x9828, 0x6af0, 0x1642, 0x68fe, 0x2989, 0x0, 0x1);
        gbc.writeMem(0x612b, { 0xc4, 0xc5, 0xde });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x9828, gbc.sp());
        EXPECT(0x612e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02AB
        gbc.setState(0x3f5d, 0x9259, 0xd220, 0x5405, 0x1f28, 0x1dec, 0x0, 0x0);
        gbc.writeMem(0x3f5d, { 0xc4, 0xcc, 0x7d });
        gbc.writeMem(0x9257, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x9257, gbc.sp());
        EXPECT(0x7dcc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0x9257));
        EXPECT(0x3f, gbc.readMem(0x9258));
        // C4 02AC
        gbc.setState(0xee0, 0x9936, 0x30c0, 0x979d, 0x532d, 0xd970, 0x1, 0x1);
        gbc.writeMem(0xee0, { 0xc4, 0xd5, 0x8e });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x9936, gbc.sp());
        EXPECT(0xee3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02AD
        gbc.setState(0x8784, 0x56f5, 0x73a0, 0x91e5, 0x9ab6, 0x4e00, 0x1, 0x0);
        gbc.writeMem(0x8784, { 0xc4, 0x42, 0x6e });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x56f5, gbc.sp());
        EXPECT(0x8787, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8784));
        EXPECT(0x42, gbc.readMem(0x8785));
        EXPECT(0x6e, gbc.readMem(0x8786));
        // C4 02AE
        gbc.setState(0x35e5, 0x7424, 0xbc0, 0xa5b7, 0x1cd1, 0x44b, 0x1, 0x0);
        gbc.writeMem(0x35e5, { 0xc4, 0xc0, 0x29 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x7424, gbc.sp());
        EXPECT(0x35e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02B0
        gbc.setState(0xea25, 0xe12f, 0xb420, 0xc510, 0x41bf, 0x32b4, 0x0, 0x1);
        gbc.writeMem(0xe12d, { 0x0, 0x0 });
        gbc.writeMem(0xea25, { 0xc4, 0x81, 0x43 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xe12d, gbc.sp());
        EXPECT(0x4381, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe12d));
        EXPECT(0xea, gbc.readMem(0xe12e));
        EXPECT(0xc4, gbc.readMem(0xea25));
        EXPECT(0x81, gbc.readMem(0xea26));
        EXPECT(0x43, gbc.readMem(0xea27));
        // C4 02B1
        gbc.setState(0x94bf, 0xfe5e, 0x66d0, 0xc73, 0xfb3e, 0xcaee, 0x0, 0x1);
        gbc.writeMem(0x94bf, { 0xc4, 0x20, 0xfd });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xfe5e, gbc.sp());
        EXPECT(0x94c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x94bf));
        EXPECT(0x20, gbc.readMem(0x94c0));
        EXPECT(0xfd, gbc.readMem(0x94c1));
        // C4 02B2
        gbc.setState(0x6fbe, 0x1f6e, 0xcab0, 0x2e9a, 0x6c93, 0xe2ab, 0x0, 0x0);
        gbc.writeMem(0x6fbe, { 0xc4, 0x3b, 0xa8 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x1f6e, gbc.sp());
        EXPECT(0x6fc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02B3
        gbc.setState(0x2159, 0x84fc, 0x43f0, 0x917e, 0xdabb, 0xf2cf, 0x1, 0x0);
        gbc.writeMem(0x2159, { 0xc4, 0x3c, 0xb2 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x84fc, gbc.sp());
        EXPECT(0x215c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02B5
        gbc.setState(0xcf85, 0xbd95, 0xe2b0, 0x620d, 0x7ef, 0x984b, 0x1, 0x1);
        gbc.writeMem(0xcf85, { 0xc4, 0x2f, 0x58 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xbd95, gbc.sp());
        EXPECT(0xcf88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcf85));
        EXPECT(0x2f, gbc.readMem(0xcf86));
        EXPECT(0x58, gbc.readMem(0xcf87));
        // C4 02B6
        gbc.setState(0x2778, 0x6770, 0xe580, 0x2f2a, 0xaa11, 0xa31a, 0x0, 0x1);
        gbc.writeMem(0x2778, { 0xc4, 0x80, 0x53 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x6770, gbc.sp());
        EXPECT(0x277b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02B7
        gbc.setState(0x28a3, 0xe65, 0x60a0, 0x6918, 0xb50e, 0x394b, 0x1, 0x1);
        gbc.writeMem(0x28a3, { 0xc4, 0x54, 0xfc });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xe65, gbc.sp());
        EXPECT(0x28a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02B8
        gbc.setState(0xafca, 0xe323, 0x9c40, 0xd204, 0x660, 0x985f, 0x0, 0x1);
        gbc.writeMem(0xafca, { 0xc4, 0x1b, 0x67 });
        gbc.writeMem(0xe321, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xe321, gbc.sp());
        EXPECT(0x671b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xafca));
        EXPECT(0x1b, gbc.readMem(0xafcb));
        EXPECT(0x67, gbc.readMem(0xafcc));
        EXPECT(0xcd, gbc.readMem(0xe321));
        EXPECT(0xaf, gbc.readMem(0xe322));
        // C4 02B9
        gbc.setState(0xcb84, 0xd0bc, 0x1f40, 0xc546, 0x8444, 0x78, 0x0, 0x1);
        gbc.writeMem(0xcb84, { 0xc4, 0xf0, 0x59 });
        gbc.writeMem(0xd0ba, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xd0ba, gbc.sp());
        EXPECT(0x59f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcb84));
        EXPECT(0xf0, gbc.readMem(0xcb85));
        EXPECT(0x59, gbc.readMem(0xcb86));
        EXPECT(0x87, gbc.readMem(0xd0ba));
        EXPECT(0xcb, gbc.readMem(0xd0bb));
        // C4 02BA
        gbc.setState(0xe299, 0x9bef, 0xe3f0, 0xd9db, 0x865, 0x5342, 0x0, 0x0);
        gbc.writeMem(0xe299, { 0xc4, 0xc6, 0x77 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x9bef, gbc.sp());
        EXPECT(0xe29c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe299));
        EXPECT(0xc6, gbc.readMem(0xe29a));
        EXPECT(0x77, gbc.readMem(0xe29b));
        // C4 02BD
        gbc.setState(0x19fb, 0x372, 0x5dc0, 0x68ce, 0x2cfc, 0x7680, 0x0, 0x1);
        gbc.writeMem(0x19fb, { 0xc4, 0x87, 0xba });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x372, gbc.sp());
        EXPECT(0x19fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02BF
        gbc.setState(0x9c9, 0xa904, 0x82d0, 0xe21, 0xada9, 0xb6fc, 0x1, 0x0);
        gbc.writeMem(0x9c9, { 0xc4, 0xff, 0x2 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xa904, gbc.sp());
        EXPECT(0x9cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02C0
        gbc.setState(0xf2a, 0x6a39, 0x45d0, 0xba9b, 0x4deb, 0x75b5, 0x0, 0x0);
        gbc.writeMem(0xf2a, { 0xc4, 0x9c, 0x10 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x6a39, gbc.sp());
        EXPECT(0xf2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02C1
        gbc.setState(0x386b, 0xdd0f, 0x8370, 0xedf3, 0xd239, 0xf6e9, 0x1, 0x0);
        gbc.writeMem(0x386b, { 0xc4, 0x8e, 0xaf });
        gbc.writeMem(0xdd0d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xdd0d, gbc.sp());
        EXPECT(0xaf8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6e, gbc.readMem(0xdd0d));
        EXPECT(0x38, gbc.readMem(0xdd0e));
        // C4 02C2
        gbc.setState(0xa468, 0xdaa2, 0xd4f0, 0xd215, 0x7e9, 0xfb2f, 0x1, 0x0);
        gbc.writeMem(0xa468, { 0xc4, 0x18, 0x70 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xdaa2, gbc.sp());
        EXPECT(0xa46b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa468));
        EXPECT(0x18, gbc.readMem(0xa469));
        EXPECT(0x70, gbc.readMem(0xa46a));
        // C4 02C7
        gbc.setState(0x5629, 0xb598, 0x2580, 0x4dd6, 0xe03e, 0xaa80, 0x1, 0x1);
        gbc.writeMem(0x5629, { 0xc4, 0x4a, 0xf3 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xb598, gbc.sp());
        EXPECT(0x562c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02C8
        gbc.setState(0xa88c, 0x5b63, 0xb3f0, 0x8e7, 0x2a49, 0x44d2, 0x0, 0x1);
        gbc.writeMem(0xa88c, { 0xc4, 0xbd, 0x46 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x5b63, gbc.sp());
        EXPECT(0xa88f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa88c));
        EXPECT(0xbd, gbc.readMem(0xa88d));
        EXPECT(0x46, gbc.readMem(0xa88e));
        // C4 02C9
        gbc.setState(0x8354, 0xdabb, 0xc7d0, 0x9e0e, 0x56df, 0xd590, 0x1, 0x0);
        gbc.writeMem(0x8354, { 0xc4, 0x89, 0x12 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xdabb, gbc.sp());
        EXPECT(0x8357, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8354));
        EXPECT(0x89, gbc.readMem(0x8355));
        EXPECT(0x12, gbc.readMem(0x8356));
        // C4 02CA
        gbc.setState(0x8869, 0x7124, 0xe8a0, 0x6a34, 0x625f, 0xcee1, 0x0, 0x1);
        gbc.writeMem(0x8869, { 0xc4, 0xe9, 0xcd });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x7124, gbc.sp());
        EXPECT(0x886c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8869));
        EXPECT(0xe9, gbc.readMem(0x886a));
        EXPECT(0xcd, gbc.readMem(0x886b));
        // C4 02CB
        gbc.setState(0xefa1, 0x3457, 0xed90, 0x41d2, 0xe6a1, 0xbb1d, 0x0, 0x0);
        gbc.writeMem(0xefa1, { 0xc4, 0xbe, 0x38 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x3457, gbc.sp());
        EXPECT(0xefa4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xefa1));
        EXPECT(0xbe, gbc.readMem(0xefa2));
        EXPECT(0x38, gbc.readMem(0xefa3));
        // C4 02CF
        gbc.setState(0x90bc, 0xba41, 0xc570, 0x9479, 0xc4ed, 0xcca6, 0x0, 0x1);
        gbc.writeMem(0x90bc, { 0xc4, 0xa, 0xa8 });
        gbc.writeMem(0xba3f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xba3f, gbc.sp());
        EXPECT(0xa80a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x90bc));
        EXPECT(0xa, gbc.readMem(0x90bd));
        EXPECT(0xa8, gbc.readMem(0x90be));
        EXPECT(0xbf, gbc.readMem(0xba3f));
        EXPECT(0x90, gbc.readMem(0xba40));
        // C4 02D0
        gbc.setState(0x3944, 0x8e96, 0x1240, 0xf85f, 0xd4f8, 0x5460, 0x1, 0x1);
        gbc.writeMem(0x3944, { 0xc4, 0x9f, 0x47 });
        gbc.writeMem(0x8e94, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x8e94, gbc.sp());
        EXPECT(0x479f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x47, gbc.readMem(0x8e94));
        EXPECT(0x39, gbc.readMem(0x8e95));
        // C4 02D1
        gbc.setState(0x5079, 0x6ce2, 0x21f0, 0x6112, 0xa41b, 0xd3bd, 0x1, 0x1);
        gbc.writeMem(0x5079, { 0xc4, 0xa4, 0xfe });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x6ce2, gbc.sp());
        EXPECT(0x507c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02D2
        gbc.setState(0xe191, 0x169a, 0xd3d0, 0xda9a, 0x57e0, 0xe905, 0x1, 0x1);
        gbc.writeMem(0xe191, { 0xc4, 0x0, 0x48 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x169a, gbc.sp());
        EXPECT(0xe194, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe191));
        EXPECT(0x0, gbc.readMem(0xe192));
        EXPECT(0x48, gbc.readMem(0xe193));
        // C4 02D3
        gbc.setState(0x3b0c, 0xae06, 0x7e50, 0x8500, 0xfa23, 0x344d, 0x1, 0x0);
        gbc.writeMem(0x3b0c, { 0xc4, 0xbc, 0x70 });
        gbc.writeMem(0xae04, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xae04, gbc.sp());
        EXPECT(0x70bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xae04));
        EXPECT(0x3b, gbc.readMem(0xae05));
        // C4 02D4
        gbc.setState(0x8bed, 0xad39, 0x8970, 0x5fbb, 0x80ed, 0xe3d1, 0x1, 0x0);
        gbc.writeMem(0x8bed, { 0xc4, 0x26, 0x9f });
        gbc.writeMem(0xad37, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xad37, gbc.sp());
        EXPECT(0x9f26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8bed));
        EXPECT(0x26, gbc.readMem(0x8bee));
        EXPECT(0x9f, gbc.readMem(0x8bef));
        EXPECT(0xf0, gbc.readMem(0xad37));
        EXPECT(0x8b, gbc.readMem(0xad38));
        // C4 02D5
        gbc.setState(0x43be, 0xbbc4, 0x4a0, 0x35b, 0xd8d, 0x78b6, 0x0, 0x1);
        gbc.writeMem(0x43be, { 0xc4, 0x39, 0xae });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xbbc4, gbc.sp());
        EXPECT(0x43c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02D6
        gbc.setState(0x7623, 0xa6aa, 0x3970, 0x6c2a, 0xece7, 0xb261, 0x1, 0x0);
        gbc.writeMem(0x7623, { 0xc4, 0x5a, 0x39 });
        gbc.writeMem(0xa6a8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xa6a8, gbc.sp());
        EXPECT(0x395a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x26, gbc.readMem(0xa6a8));
        EXPECT(0x76, gbc.readMem(0xa6a9));
        // C4 02D7
        gbc.setState(0xbc3, 0xa86a, 0x5fe0, 0xe99f, 0x2364, 0xc936, 0x1, 0x0);
        gbc.writeMem(0xbc3, { 0xc4, 0xe6, 0x6d });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xa86a, gbc.sp());
        EXPECT(0xbc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02D8
        gbc.setState(0x9ade, 0x8b04, 0x6960, 0xdf08, 0x9e4d, 0x7497, 0x1, 0x1);
        gbc.writeMem(0x8b02, { 0x0, 0x0 });
        gbc.writeMem(0x9ade, { 0xc4, 0xc9, 0x9 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x8b02, gbc.sp());
        EXPECT(0x9c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe1, gbc.readMem(0x8b02));
        EXPECT(0x9a, gbc.readMem(0x8b03));
        EXPECT(0xc4, gbc.readMem(0x9ade));
        EXPECT(0xc9, gbc.readMem(0x9adf));
        EXPECT(0x9, gbc.readMem(0x9ae0));
        // C4 02DA
        gbc.setState(0x4098, 0xef5c, 0xf800, 0x4977, 0x8674, 0x263a, 0x1, 0x1);
        gbc.writeMem(0x4098, { 0xc4, 0xf6, 0x78 });
        gbc.writeMem(0xef5a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xef5a, gbc.sp());
        EXPECT(0x78f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9b, gbc.readMem(0xef5a));
        EXPECT(0x40, gbc.readMem(0xef5b));
        // C4 02DE
        gbc.setState(0x7a71, 0xc639, 0xf9e0, 0x40f7, 0xa7b5, 0xe9c0, 0x1, 0x0);
        gbc.writeMem(0x7a71, { 0xc4, 0x54, 0x58 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xc639, gbc.sp());
        EXPECT(0x7a74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02DF
        gbc.setState(0x6750, 0x8a55, 0xd4f0, 0xa9f, 0xed3, 0x862d, 0x0, 0x1);
        gbc.writeMem(0x6750, { 0xc4, 0xd2, 0x14 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x8a55, gbc.sp());
        EXPECT(0x6753, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02E1
        gbc.setState(0xc40e, 0x6294, 0xe8d0, 0xb1b3, 0xfa4e, 0x940f, 0x1, 0x0);
        gbc.writeMem(0xc40e, { 0xc4, 0x71, 0xf0 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x6294, gbc.sp());
        EXPECT(0xc411, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc40e));
        EXPECT(0x71, gbc.readMem(0xc40f));
        EXPECT(0xf0, gbc.readMem(0xc410));
        // C4 02E2
        gbc.setState(0x575e, 0xb6ce, 0xe750, 0xdb5f, 0x8352, 0x4b75, 0x1, 0x1);
        gbc.writeMem(0x575e, { 0xc4, 0xd0, 0xa6 });
        gbc.writeMem(0xb6cc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xb6cc, gbc.sp());
        EXPECT(0xa6d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x61, gbc.readMem(0xb6cc));
        EXPECT(0x57, gbc.readMem(0xb6cd));
        // C4 02E3
        gbc.setState(0x98e5, 0xf93f, 0xe9f0, 0xb8a, 0xdb16, 0xad4, 0x1, 0x0);
        gbc.writeMem(0x98e5, { 0xc4, 0x77, 0xbd });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf93f, gbc.sp());
        EXPECT(0x98e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x98e5));
        EXPECT(0x77, gbc.readMem(0x98e6));
        EXPECT(0xbd, gbc.readMem(0x98e7));
        // C4 02E6
        gbc.setState(0xc5d6, 0x12f0, 0xcb90, 0x1bc6, 0xaa4c, 0x2c6d, 0x0, 0x0);
        gbc.writeMem(0xc5d6, { 0xc4, 0x18, 0xdb });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x12f0, gbc.sp());
        EXPECT(0xc5d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc5d6));
        EXPECT(0x18, gbc.readMem(0xc5d7));
        EXPECT(0xdb, gbc.readMem(0xc5d8));
        // C4 02E7
        gbc.setState(0x5c33, 0x323a, 0x1080, 0x2bfe, 0x6af5, 0x58c9, 0x1, 0x0);
        gbc.writeMem(0x5c33, { 0xc4, 0x54, 0x82 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x323a, gbc.sp());
        EXPECT(0x5c36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02E8
        gbc.setState(0x4c56, 0xf832, 0x8dd0, 0xf939, 0x70d1, 0x294c, 0x0, 0x0);
        gbc.writeMem(0x4c56, { 0xc4, 0x2f, 0xb9 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xf832, gbc.sp());
        EXPECT(0x4c59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02E9
        gbc.setState(0x8df4, 0xeafe, 0x5530, 0xc823, 0xcaaf, 0x9d8d, 0x0, 0x0);
        gbc.writeMem(0x8df4, { 0xc4, 0xa6, 0xec });
        gbc.writeMem(0xeafc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xeafc, gbc.sp());
        EXPECT(0xeca6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8df4));
        EXPECT(0xa6, gbc.readMem(0x8df5));
        EXPECT(0xec, gbc.readMem(0x8df6));
        EXPECT(0xf7, gbc.readMem(0xeafc));
        EXPECT(0x8d, gbc.readMem(0xeafd));
        // C4 02EA
        gbc.setState(0xa2f0, 0xcb5d, 0xe950, 0xb8c0, 0xf809, 0xce80, 0x1, 0x1);
        gbc.writeMem(0xa2f0, { 0xc4, 0xd6, 0x42 });
        gbc.writeMem(0xcb5b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xcb5b, gbc.sp());
        EXPECT(0x42d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa2f0));
        EXPECT(0xd6, gbc.readMem(0xa2f1));
        EXPECT(0x42, gbc.readMem(0xa2f2));
        EXPECT(0xf3, gbc.readMem(0xcb5b));
        EXPECT(0xa2, gbc.readMem(0xcb5c));
        // C4 02EB
        gbc.setState(0xc440, 0x8cb9, 0x4d40, 0xaf78, 0xaa24, 0xb87e, 0x1, 0x1);
        gbc.writeMem(0x8cb7, { 0x0, 0x0 });
        gbc.writeMem(0xc440, { 0xc4, 0xe8, 0xda });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x8cb7, gbc.sp());
        EXPECT(0xdae8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x43, gbc.readMem(0x8cb7));
        EXPECT(0xc4, gbc.readMem(0x8cb8));
        EXPECT(0xc4, gbc.readMem(0xc440));
        EXPECT(0xe8, gbc.readMem(0xc441));
        EXPECT(0xda, gbc.readMem(0xc442));
        // C4 02EC
        gbc.setState(0x53fc, 0x6dea, 0x85b0, 0x4d68, 0x39cb, 0xc168, 0x0, 0x1);
        gbc.writeMem(0x53fc, { 0xc4, 0x23, 0x23 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x6dea, gbc.sp());
        EXPECT(0x53ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02ED
        gbc.setState(0x919a, 0xd5aa, 0xf480, 0x75cd, 0x463, 0x475, 0x0, 0x0);
        gbc.writeMem(0x919a, { 0xc4, 0x5d, 0x52 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd5aa, gbc.sp());
        EXPECT(0x919d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x919a));
        EXPECT(0x5d, gbc.readMem(0x919b));
        EXPECT(0x52, gbc.readMem(0x919c));
        // C4 02EE
        gbc.setState(0x5246, 0xcf20, 0x2ed0, 0xde97, 0xcf7, 0xb7da, 0x0, 0x1);
        gbc.writeMem(0x5246, { 0xc4, 0x99, 0x14 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xcf20, gbc.sp());
        EXPECT(0x5249, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02F1
        gbc.setState(0x5cd8, 0xd5f, 0x24f0, 0xfa54, 0x4873, 0x46aa, 0x1, 0x1);
        gbc.writeMem(0x5cd8, { 0xc4, 0xd0, 0x9c });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xd5f, gbc.sp());
        EXPECT(0x5cdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 02F3
        gbc.setState(0x72aa, 0xa751, 0xcf50, 0x561c, 0xf1fd, 0x12bd, 0x0, 0x0);
        gbc.writeMem(0x72aa, { 0xc4, 0x95, 0x2d });
        gbc.writeMem(0xa74f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xa74f, gbc.sp());
        EXPECT(0x2d95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xad, gbc.readMem(0xa74f));
        EXPECT(0x72, gbc.readMem(0xa750));
        // C4 02F4
        gbc.setState(0x2691, 0x12b8, 0x42e0, 0x67a9, 0xcfc3, 0x8597, 0x0, 0x0);
        gbc.writeMem(0x2691, { 0xc4, 0xa2, 0xf4 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x12b8, gbc.sp());
        EXPECT(0x2694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02F5
        gbc.setState(0xa242, 0xaa42, 0xa9e0, 0x2de9, 0x2af2, 0xd639, 0x0, 0x0);
        gbc.writeMem(0xa242, { 0xc4, 0xee, 0xf9 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xaa42, gbc.sp());
        EXPECT(0xa245, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa242));
        EXPECT(0xee, gbc.readMem(0xa243));
        EXPECT(0xf9, gbc.readMem(0xa244));
        // C4 02F6
        gbc.setState(0x842c, 0x688a, 0xf7f0, 0xefa9, 0x1d2d, 0x3ff4, 0x0, 0x0);
        gbc.writeMem(0x842c, { 0xc4, 0xa, 0xd4 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x688a, gbc.sp());
        EXPECT(0x842f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x842c));
        EXPECT(0xa, gbc.readMem(0x842d));
        EXPECT(0xd4, gbc.readMem(0x842e));
        // C4 02F7
        gbc.setState(0x7e1e, 0x91fd, 0x1b30, 0x4a72, 0x3236, 0xd558, 0x1, 0x1);
        gbc.writeMem(0x7e1e, { 0xc4, 0xf7, 0xbf });
        gbc.writeMem(0x91fb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x91fb, gbc.sp());
        EXPECT(0xbff7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x21, gbc.readMem(0x91fb));
        EXPECT(0x7e, gbc.readMem(0x91fc));
        // C4 02F8
        gbc.setState(0xa322, 0xf5a0, 0xac00, 0x7cf3, 0x4aff, 0x600d, 0x1, 0x1);
        gbc.writeMem(0xa322, { 0xc4, 0x57, 0x2f });
        gbc.writeMem(0xf59e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xf59e, gbc.sp());
        EXPECT(0x2f57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa322));
        EXPECT(0x57, gbc.readMem(0xa323));
        EXPECT(0x2f, gbc.readMem(0xa324));
        EXPECT(0x25, gbc.readMem(0xf59e));
        EXPECT(0xa3, gbc.readMem(0xf59f));
        // C4 02F9
        gbc.setState(0xba78, 0xcd60, 0x5e70, 0x9a6d, 0x4501, 0x8fc3, 0x0, 0x1);
        gbc.writeMem(0xba78, { 0xc4, 0x4c, 0xe0 });
        gbc.writeMem(0xcd5e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xcd5e, gbc.sp());
        EXPECT(0xe04c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xba78));
        EXPECT(0x4c, gbc.readMem(0xba79));
        EXPECT(0xe0, gbc.readMem(0xba7a));
        EXPECT(0x7b, gbc.readMem(0xcd5e));
        EXPECT(0xba, gbc.readMem(0xcd5f));
        // C4 02FB
        gbc.setState(0x308a, 0xa74d, 0xc330, 0x45d4, 0x3e17, 0xf395, 0x0, 0x0);
        gbc.writeMem(0x308a, { 0xc4, 0x39, 0xbf });
        gbc.writeMem(0xa74b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xa74b, gbc.sp());
        EXPECT(0xbf39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8d, gbc.readMem(0xa74b));
        EXPECT(0x30, gbc.readMem(0xa74c));
        // C4 02FC
        gbc.setState(0x8f05, 0xcaed, 0x60c0, 0x152c, 0xae07, 0xfafe, 0x1, 0x0);
        gbc.writeMem(0x8f05, { 0xc4, 0xb4, 0xc1 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xcaed, gbc.sp());
        EXPECT(0x8f08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8f05));
        EXPECT(0xb4, gbc.readMem(0x8f06));
        EXPECT(0xc1, gbc.readMem(0x8f07));
        // C4 02FD
        gbc.setState(0xd9ab, 0xb6a8, 0x3f80, 0xdba4, 0xaa15, 0xa00f, 0x1, 0x0);
        gbc.writeMem(0xd9ab, { 0xc4, 0x4a, 0x8 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb6a8, gbc.sp());
        EXPECT(0xd9ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd9ab));
        EXPECT(0x4a, gbc.readMem(0xd9ac));
        EXPECT(0x8, gbc.readMem(0xd9ad));
        // C4 02FE
        gbc.setState(0x4453, 0x7f15, 0x75e0, 0xf0be, 0x16c4, 0xbd08, 0x1, 0x0);
        gbc.writeMem(0x4453, { 0xc4, 0x3b, 0xed });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x7f15, gbc.sp());
        EXPECT(0x4456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 02FF
        gbc.setState(0x5c70, 0x79b7, 0x81e0, 0x2171, 0xb2c1, 0x905e, 0x0, 0x1);
        gbc.writeMem(0x5c70, { 0xc4, 0xc2, 0xfa });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x79b7, gbc.sp());
        EXPECT(0x5c73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0300
        gbc.setState(0x1c7c, 0xf506, 0x2b0, 0xf7f9, 0xdf88, 0xfc65, 0x1, 0x1);
        gbc.writeMem(0x1c7c, { 0xc4, 0x22, 0xad });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xf506, gbc.sp());
        EXPECT(0x1c7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0302
        gbc.setState(0x9139, 0x4bb, 0xac80, 0x279c, 0x5c5e, 0xf5f, 0x1, 0x0);
        gbc.writeMem(0x9139, { 0xc4, 0xf1, 0xee });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x4bb, gbc.sp());
        EXPECT(0x913c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9139));
        EXPECT(0xf1, gbc.readMem(0x913a));
        EXPECT(0xee, gbc.readMem(0x913b));
        // C4 0303
        gbc.setState(0x5de0, 0x49c8, 0xaaa0, 0x8706, 0x8aaa, 0xa6c7, 0x0, 0x0);
        gbc.writeMem(0x5de0, { 0xc4, 0x7b, 0x3c });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x49c8, gbc.sp());
        EXPECT(0x5de3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0304
        gbc.setState(0x6c1f, 0xf819, 0x6360, 0x3530, 0xa286, 0xc5e6, 0x1, 0x1);
        gbc.writeMem(0x6c1f, { 0xc4, 0x9c, 0x1c });
        gbc.writeMem(0xf817, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xf817, gbc.sp());
        EXPECT(0x1c9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0xf817));
        EXPECT(0x6c, gbc.readMem(0xf818));
        // C4 0306
        gbc.setState(0x3554, 0xaca2, 0xd740, 0xff03, 0xc44c, 0x5ba, 0x0, 0x0);
        gbc.writeMem(0x3554, { 0xc4, 0xc5, 0xab });
        gbc.writeMem(0xaca0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xaca0, gbc.sp());
        EXPECT(0xabc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x57, gbc.readMem(0xaca0));
        EXPECT(0x35, gbc.readMem(0xaca1));
        // C4 0307
        gbc.setState(0xf62, 0x2d42, 0x86c0, 0xc80b, 0x1c3, 0xe15d, 0x1, 0x1);
        gbc.writeMem(0xf62, { 0xc4, 0xc2, 0xa1 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x2d42, gbc.sp());
        EXPECT(0xf65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 030A
        gbc.setState(0x99ef, 0xef35, 0xc930, 0x404e, 0xce3, 0xb79d, 0x0, 0x1);
        gbc.writeMem(0x99ef, { 0xc4, 0x90, 0x74 });
        gbc.writeMem(0xef33, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xef33, gbc.sp());
        EXPECT(0x7490, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x99ef));
        EXPECT(0x90, gbc.readMem(0x99f0));
        EXPECT(0x74, gbc.readMem(0x99f1));
        EXPECT(0xf2, gbc.readMem(0xef33));
        EXPECT(0x99, gbc.readMem(0xef34));
        // C4 030B
        gbc.setState(0xe9f1, 0xa614, 0x22c0, 0x6998, 0x7bbd, 0x67ca, 0x1, 0x1);
        gbc.writeMem(0xe9f1, { 0xc4, 0x97, 0x8f });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xa614, gbc.sp());
        EXPECT(0xe9f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe9f1));
        EXPECT(0x97, gbc.readMem(0xe9f2));
        EXPECT(0x8f, gbc.readMem(0xe9f3));
        // C4 030C
        gbc.setState(0x662c, 0x1d24, 0xbda0, 0x4149, 0xb43c, 0xf8a6, 0x1, 0x1);
        gbc.writeMem(0x662c, { 0xc4, 0xa, 0x23 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1d24, gbc.sp());
        EXPECT(0x662f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 030E
        gbc.setState(0x9b80, 0x234, 0xb090, 0xd140, 0x5bdc, 0x2cd8, 0x0, 0x1);
        gbc.writeMem(0x9b80, { 0xc4, 0x96, 0xe5 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x234, gbc.sp());
        EXPECT(0x9b83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9b80));
        EXPECT(0x96, gbc.readMem(0x9b81));
        EXPECT(0xe5, gbc.readMem(0x9b82));
        // C4 030F
        gbc.setState(0x4c39, 0x8299, 0xd680, 0xbed7, 0xc7d2, 0xce19, 0x0, 0x1);
        gbc.writeMem(0x4c39, { 0xc4, 0x53, 0x65 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x8299, gbc.sp());
        EXPECT(0x4c3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0311
        gbc.setState(0xd840, 0xb4c9, 0x8da0, 0xda3b, 0x8296, 0x192b, 0x1, 0x1);
        gbc.writeMem(0xd840, { 0xc4, 0xc1, 0xc5 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xb4c9, gbc.sp());
        EXPECT(0xd843, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd840));
        EXPECT(0xc1, gbc.readMem(0xd841));
        EXPECT(0xc5, gbc.readMem(0xd842));
        // C4 0312
        gbc.setState(0x9dff, 0x9899, 0x73c0, 0x5267, 0x420a, 0xe11c, 0x0, 0x0);
        gbc.writeMem(0x9dff, { 0xc4, 0x11, 0xd });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x9899, gbc.sp());
        EXPECT(0x9e02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9dff));
        EXPECT(0x11, gbc.readMem(0x9e00));
        EXPECT(0xd, gbc.readMem(0x9e01));
        // C4 0314
        gbc.setState(0x2a52, 0xcd48, 0x1d60, 0x1731, 0x4182, 0x4d69, 0x1, 0x0);
        gbc.writeMem(0x2a52, { 0xc4, 0x1c, 0x35 });
        gbc.writeMem(0xcd46, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xcd46, gbc.sp());
        EXPECT(0x351c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x55, gbc.readMem(0xcd46));
        EXPECT(0x2a, gbc.readMem(0xcd47));
        // C4 0315
        gbc.setState(0x6a23, 0xc6af, 0x91c0, 0x2104, 0x11b1, 0xecbe, 0x1, 0x0);
        gbc.writeMem(0x6a23, { 0xc4, 0x66, 0xf });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xc6af, gbc.sp());
        EXPECT(0x6a26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0316
        gbc.setState(0x637f, 0xb7b4, 0xee00, 0x3139, 0xb1cb, 0xea78, 0x1, 0x0);
        gbc.writeMem(0x637f, { 0xc4, 0xb8, 0x7e });
        gbc.writeMem(0xb7b2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xb7b2, gbc.sp());
        EXPECT(0x7eb8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x82, gbc.readMem(0xb7b2));
        EXPECT(0x63, gbc.readMem(0xb7b3));
        // C4 0317
        gbc.setState(0xdd2a, 0xc779, 0x7e80, 0xf70b, 0x892, 0x116, 0x0, 0x0);
        gbc.writeMem(0xdd2a, { 0xc4, 0x82, 0xda });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xc779, gbc.sp());
        EXPECT(0xdd2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdd2a));
        EXPECT(0x82, gbc.readMem(0xdd2b));
        EXPECT(0xda, gbc.readMem(0xdd2c));
        // C4 0319
        gbc.setState(0xb330, 0xd833, 0x8700, 0x5197, 0xda71, 0xaf14, 0x1, 0x0);
        gbc.writeMem(0xb330, { 0xc4, 0x9c, 0xad });
        gbc.writeMem(0xd831, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd831, gbc.sp());
        EXPECT(0xad9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb330));
        EXPECT(0x9c, gbc.readMem(0xb331));
        EXPECT(0xad, gbc.readMem(0xb332));
        EXPECT(0x33, gbc.readMem(0xd831));
        EXPECT(0xb3, gbc.readMem(0xd832));
        // C4 031A
        gbc.setState(0xa419, 0x4614, 0x5ab0, 0xbde1, 0x6165, 0x5f63, 0x0, 0x0);
        gbc.writeMem(0xa419, { 0xc4, 0xc0, 0x86 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x4614, gbc.sp());
        EXPECT(0xa41c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa419));
        EXPECT(0xc0, gbc.readMem(0xa41a));
        EXPECT(0x86, gbc.readMem(0xa41b));
        // C4 031B
        gbc.setState(0x254f, 0xd3f, 0x1a80, 0xe366, 0x915b, 0x51d0, 0x0, 0x1);
        gbc.writeMem(0x254f, { 0xc4, 0x6a, 0x44 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xd3f, gbc.sp());
        EXPECT(0x2552, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 031C
        gbc.setState(0x68cb, 0xbbc7, 0xd470, 0xf0fb, 0x534e, 0xa0a6, 0x1, 0x0);
        gbc.writeMem(0x68cb, { 0xc4, 0x67, 0xf1 });
        gbc.writeMem(0xbbc5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xbbc5, gbc.sp());
        EXPECT(0xf167, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xbbc5));
        EXPECT(0x68, gbc.readMem(0xbbc6));
        // C4 031D
        gbc.setState(0xd249, 0x13b6, 0xfac0, 0x9654, 0xf5ff, 0xf43f, 0x1, 0x0);
        gbc.writeMem(0xd249, { 0xc4, 0x2, 0x26 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x13b6, gbc.sp());
        EXPECT(0xd24c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd249));
        EXPECT(0x2, gbc.readMem(0xd24a));
        EXPECT(0x26, gbc.readMem(0xd24b));
        // C4 031E
        gbc.setState(0xbbed, 0x9bc4, 0xbac0, 0x79d5, 0x2819, 0xaa06, 0x0, 0x1);
        gbc.writeMem(0xbbed, { 0xc4, 0x61, 0x6 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x9bc4, gbc.sp());
        EXPECT(0xbbf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbbed));
        EXPECT(0x61, gbc.readMem(0xbbee));
        EXPECT(0x6, gbc.readMem(0xbbef));
        // C4 031F
        gbc.setState(0x1d70, 0xdc70, 0xf960, 0xbb3e, 0xecd8, 0x13b3, 0x1, 0x1);
        gbc.writeMem(0x1d70, { 0xc4, 0x50, 0x4a });
        gbc.writeMem(0xdc6e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xdc6e, gbc.sp());
        EXPECT(0x4a50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x73, gbc.readMem(0xdc6e));
        EXPECT(0x1d, gbc.readMem(0xdc6f));
        // C4 0320
        gbc.setState(0x6793, 0x53f4, 0xe690, 0xf76a, 0xf66c, 0x1a83, 0x0, 0x0);
        gbc.writeMem(0x6793, { 0xc4, 0x19, 0x52 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x53f4, gbc.sp());
        EXPECT(0x6796, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0321
        gbc.setState(0xac74, 0xabe1, 0x3d40, 0xcc86, 0x8437, 0x85e8, 0x0, 0x1);
        gbc.writeMem(0xabdf, { 0x0, 0x0 });
        gbc.writeMem(0xac74, { 0xc4, 0x85, 0x1 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xabdf, gbc.sp());
        EXPECT(0x185, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xabdf));
        EXPECT(0xac, gbc.readMem(0xabe0));
        EXPECT(0xc4, gbc.readMem(0xac74));
        EXPECT(0x85, gbc.readMem(0xac75));
        EXPECT(0x1, gbc.readMem(0xac76));
        // C4 0322
        gbc.setState(0xda1a, 0x841d, 0x2b10, 0x441, 0xbf92, 0x5f03, 0x0, 0x1);
        gbc.writeMem(0x841b, { 0x0, 0x0 });
        gbc.writeMem(0xda1a, { 0xc4, 0xde, 0xdf });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x841b, gbc.sp());
        EXPECT(0xdfde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x1d, gbc.readMem(0x841b));
        EXPECT(0xda, gbc.readMem(0x841c));
        EXPECT(0xc4, gbc.readMem(0xda1a));
        EXPECT(0xde, gbc.readMem(0xda1b));
        EXPECT(0xdf, gbc.readMem(0xda1c));
        // C4 0323
        gbc.setState(0x9440, 0xd4f3, 0x2290, 0xcfc8, 0xe1eb, 0x53e1, 0x1, 0x1);
        gbc.writeMem(0x9440, { 0xc4, 0xf, 0xbc });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xd4f3, gbc.sp());
        EXPECT(0x9443, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9440));
        EXPECT(0xf, gbc.readMem(0x9441));
        EXPECT(0xbc, gbc.readMem(0x9442));
        // C4 0325
        gbc.setState(0x245, 0x1f9f, 0x54b0, 0x6a53, 0xad66, 0x7be3, 0x1, 0x1);
        gbc.writeMem(0x245, { 0xc4, 0x86, 0xfc });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x1f9f, gbc.sp());
        EXPECT(0x248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0327
        gbc.setState(0xcfc1, 0xb1d4, 0x6cd0, 0xe127, 0x3d3, 0x20ec, 0x1, 0x1);
        gbc.writeMem(0xcfc1, { 0xc4, 0x4c, 0x1d });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xb1d4, gbc.sp());
        EXPECT(0xcfc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcfc1));
        EXPECT(0x4c, gbc.readMem(0xcfc2));
        EXPECT(0x1d, gbc.readMem(0xcfc3));
        // C4 0328
        gbc.setState(0x23a4, 0x5066, 0xa180, 0xf4fc, 0x1e27, 0xb2fd, 0x0, 0x0);
        gbc.writeMem(0x23a4, { 0xc4, 0x8c, 0x59 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5066, gbc.sp());
        EXPECT(0x23a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0329
        gbc.setState(0xa2a2, 0xbd55, 0xa230, 0x8cf5, 0x6dfd, 0x5487, 0x0, 0x1);
        gbc.writeMem(0xa2a2, { 0xc4, 0x87, 0xb8 });
        gbc.writeMem(0xbd53, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xbd53, gbc.sp());
        EXPECT(0xb887, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa2a2));
        EXPECT(0x87, gbc.readMem(0xa2a3));
        EXPECT(0xb8, gbc.readMem(0xa2a4));
        EXPECT(0xa5, gbc.readMem(0xbd53));
        EXPECT(0xa2, gbc.readMem(0xbd54));
        // C4 032A
        gbc.setState(0x4a6e, 0x3892, 0x5bc0, 0x3d9c, 0x5022, 0xf7f9, 0x1, 0x1);
        gbc.writeMem(0x4a6e, { 0xc4, 0x90, 0xb3 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x3892, gbc.sp());
        EXPECT(0x4a71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 032B
        gbc.setState(0x4059, 0x2cdd, 0x90b0, 0x8308, 0x8c2c, 0xb31f, 0x0, 0x0);
        gbc.writeMem(0x4059, { 0xc4, 0x75, 0x61 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x2cdd, gbc.sp());
        EXPECT(0x405c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 032C
        gbc.setState(0x6f0d, 0x8ccf, 0x7d70, 0x2b7f, 0x9c43, 0x8613, 0x1, 0x1);
        gbc.writeMem(0x6f0d, { 0xc4, 0x3, 0x64 });
        gbc.writeMem(0x8ccd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x8ccd, gbc.sp());
        EXPECT(0x6403, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x10, gbc.readMem(0x8ccd));
        EXPECT(0x6f, gbc.readMem(0x8cce));
        // C4 032D
        gbc.setState(0x3207, 0xa64c, 0x2d80, 0x4b41, 0x24f9, 0x990b, 0x1, 0x1);
        gbc.writeMem(0x3207, { 0xc4, 0x17, 0x9e });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xa64c, gbc.sp());
        EXPECT(0x320a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 032E
        gbc.setState(0x49c6, 0x8703, 0x6850, 0xcd92, 0x445, 0x2198, 0x0, 0x0);
        gbc.writeMem(0x49c6, { 0xc4, 0x53, 0x70 });
        gbc.writeMem(0x8701, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x8701, gbc.sp());
        EXPECT(0x7053, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc9, gbc.readMem(0x8701));
        EXPECT(0x49, gbc.readMem(0x8702));
        // C4 032F
        gbc.setState(0x34c2, 0xdd6b, 0x4140, 0xaaad, 0xf1e3, 0xf160, 0x1, 0x0);
        gbc.writeMem(0x34c2, { 0xc4, 0x3e, 0xa6 });
        gbc.writeMem(0xdd69, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xdd69, gbc.sp());
        EXPECT(0xa63e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc5, gbc.readMem(0xdd69));
        EXPECT(0x34, gbc.readMem(0xdd6a));
        // C4 0332
        gbc.setState(0x3c5c, 0xe391, 0x51f0, 0xcc2d, 0xed28, 0xc8d3, 0x1, 0x0);
        gbc.writeMem(0x3c5c, { 0xc4, 0xde, 0x76 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe391, gbc.sp());
        EXPECT(0x3c5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0334
        gbc.setState(0x74a1, 0xcc69, 0xb510, 0x6e16, 0x149e, 0x3311, 0x1, 0x1);
        gbc.writeMem(0x74a1, { 0xc4, 0x40, 0xe9 });
        gbc.writeMem(0xcc67, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xcc67, gbc.sp());
        EXPECT(0xe940, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xcc67));
        EXPECT(0x74, gbc.readMem(0xcc68));
        // C4 0335
        gbc.setState(0x7624, 0xc417, 0x74a0, 0xa4b3, 0xa33c, 0x9c0c, 0x1, 0x0);
        gbc.writeMem(0x7624, { 0xc4, 0x39, 0x9e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xc417, gbc.sp());
        EXPECT(0x7627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0337
        gbc.setState(0xc6b2, 0x4c06, 0x8eb0, 0x1257, 0x4456, 0xa9af, 0x0, 0x0);
        gbc.writeMem(0xc6b2, { 0xc4, 0x14, 0x27 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x4c06, gbc.sp());
        EXPECT(0xc6b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc6b2));
        EXPECT(0x14, gbc.readMem(0xc6b3));
        EXPECT(0x27, gbc.readMem(0xc6b4));
        // C4 0338
        gbc.setState(0xa70, 0x9a30, 0xbab0, 0xa393, 0xd059, 0xbc1f, 0x0, 0x1);
        gbc.writeMem(0xa70, { 0xc4, 0x45, 0x1a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x9a30, gbc.sp());
        EXPECT(0xa73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0339
        gbc.setState(0x345e, 0x6963, 0xccb0, 0xa1b7, 0x3ecf, 0x6658, 0x1, 0x0);
        gbc.writeMem(0x345e, { 0xc4, 0x4d, 0x58 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x6963, gbc.sp());
        EXPECT(0x3461, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 033A
        gbc.setState(0xa100, 0x2c1b, 0x3fc0, 0xa415, 0xec93, 0x1d7c, 0x0, 0x0);
        gbc.writeMem(0xa100, { 0xc4, 0x8c, 0x8d });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x2c1b, gbc.sp());
        EXPECT(0xa103, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa100));
        EXPECT(0x8c, gbc.readMem(0xa101));
        EXPECT(0x8d, gbc.readMem(0xa102));
        // C4 033B
        gbc.setState(0x2255, 0x856c, 0xba10, 0x3a9b, 0xbeae, 0x868c, 0x1, 0x0);
        gbc.writeMem(0x2255, { 0xc4, 0x99, 0x7e });
        gbc.writeMem(0x856a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x856a, gbc.sp());
        EXPECT(0x7e99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x58, gbc.readMem(0x856a));
        EXPECT(0x22, gbc.readMem(0x856b));
        // C4 033D
        gbc.setState(0x7fca, 0x2009, 0x1bb0, 0x1a31, 0x7ce1, 0x449a, 0x1, 0x1);
        gbc.writeMem(0x7fca, { 0xc4, 0xac, 0xbf });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x2009, gbc.sp());
        EXPECT(0x7fcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 033E
        gbc.setState(0xb258, 0xcbf2, 0x4120, 0x221, 0x8d2e, 0xf0c0, 0x0, 0x0);
        gbc.writeMem(0xb258, { 0xc4, 0xad, 0xda });
        gbc.writeMem(0xcbf0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xcbf0, gbc.sp());
        EXPECT(0xdaad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb258));
        EXPECT(0xad, gbc.readMem(0xb259));
        EXPECT(0xda, gbc.readMem(0xb25a));
        EXPECT(0x5b, gbc.readMem(0xcbf0));
        EXPECT(0xb2, gbc.readMem(0xcbf1));
        // C4 033F
        gbc.setState(0xc343, 0x51dd, 0xb9f0, 0x835c, 0x14cc, 0x1bb0, 0x1, 0x0);
        gbc.writeMem(0xc343, { 0xc4, 0xd5, 0x99 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x51dd, gbc.sp());
        EXPECT(0xc346, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc343));
        EXPECT(0xd5, gbc.readMem(0xc344));
        EXPECT(0x99, gbc.readMem(0xc345));
        // C4 0341
        gbc.setState(0xb512, 0xf844, 0x8120, 0xfbaa, 0xa92, 0xd210, 0x0, 0x1);
        gbc.writeMem(0xb512, { 0xc4, 0x34, 0x7 });
        gbc.writeMem(0xf842, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xf842, gbc.sp());
        EXPECT(0x734, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb512));
        EXPECT(0x34, gbc.readMem(0xb513));
        EXPECT(0x7, gbc.readMem(0xb514));
        EXPECT(0x15, gbc.readMem(0xf842));
        EXPECT(0xb5, gbc.readMem(0xf843));
        // C4 0342
        gbc.setState(0xcec9, 0xba9f, 0xedf0, 0xfb2a, 0xb79a, 0x1496, 0x0, 0x1);
        gbc.writeMem(0xcec9, { 0xc4, 0x35, 0x69 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xba9f, gbc.sp());
        EXPECT(0xcecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcec9));
        EXPECT(0x35, gbc.readMem(0xceca));
        EXPECT(0x69, gbc.readMem(0xcecb));
        // C4 0344
        gbc.setState(0xbef6, 0xc536, 0xcf50, 0xfd11, 0x25e2, 0x7d0b, 0x1, 0x0);
        gbc.writeMem(0xbef6, { 0xc4, 0xc7, 0x58 });
        gbc.writeMem(0xc534, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xc534, gbc.sp());
        EXPECT(0x58c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbef6));
        EXPECT(0xc7, gbc.readMem(0xbef7));
        EXPECT(0x58, gbc.readMem(0xbef8));
        EXPECT(0xf9, gbc.readMem(0xc534));
        EXPECT(0xbe, gbc.readMem(0xc535));
        // C4 0345
        gbc.setState(0x4af7, 0x1d13, 0x65f0, 0x3f02, 0x6a95, 0xbb40, 0x1, 0x0);
        gbc.writeMem(0x4af7, { 0xc4, 0x59, 0xab });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1d13, gbc.sp());
        EXPECT(0x4afa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0346
        gbc.setState(0x7d62, 0xecdd, 0xafb0, 0x2006, 0xf479, 0xfce6, 0x1, 0x0);
        gbc.writeMem(0x7d62, { 0xc4, 0x94, 0xac });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xecdd, gbc.sp());
        EXPECT(0x7d65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0347
        gbc.setState(0x4065, 0xe5e4, 0x8010, 0xb060, 0x95fd, 0xeac3, 0x1, 0x0);
        gbc.writeMem(0x4065, { 0xc4, 0x1f, 0x31 });
        gbc.writeMem(0xe5e2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xe5e2, gbc.sp());
        EXPECT(0x311f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x68, gbc.readMem(0xe5e2));
        EXPECT(0x40, gbc.readMem(0xe5e3));
        // C4 0348
        gbc.setState(0x9725, 0xbf36, 0xb430, 0xce4b, 0x6711, 0x2459, 0x0, 0x1);
        gbc.writeMem(0x9725, { 0xc4, 0x6e, 0xad });
        gbc.writeMem(0xbf34, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xbf34, gbc.sp());
        EXPECT(0xad6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9725));
        EXPECT(0x6e, gbc.readMem(0x9726));
        EXPECT(0xad, gbc.readMem(0x9727));
        EXPECT(0x28, gbc.readMem(0xbf34));
        EXPECT(0x97, gbc.readMem(0xbf35));
        // C4 0349
        gbc.setState(0x47fa, 0x392c, 0xbae0, 0x7c0a, 0xceea, 0xe84d, 0x1, 0x1);
        gbc.writeMem(0x47fa, { 0xc4, 0xf9, 0xbb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x392c, gbc.sp());
        EXPECT(0x47fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 034A
        gbc.setState(0x6f55, 0xb135, 0x7090, 0xaa15, 0xb20a, 0x9fc2, 0x1, 0x0);
        gbc.writeMem(0x6f55, { 0xc4, 0xb9, 0x8b });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xb135, gbc.sp());
        EXPECT(0x6f58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 034B
        gbc.setState(0x4894, 0x646, 0xebf0, 0x5bea, 0x86c0, 0x868c, 0x1, 0x1);
        gbc.writeMem(0x4894, { 0xc4, 0xa2, 0x67 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x646, gbc.sp());
        EXPECT(0x4897, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 034C
        gbc.setState(0x23be, 0xb777, 0x2160, 0xc9f1, 0xd0d5, 0x8f39, 0x0, 0x1);
        gbc.writeMem(0x23be, { 0xc4, 0x64, 0xde });
        gbc.writeMem(0xb775, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xb775, gbc.sp());
        EXPECT(0xde64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc1, gbc.readMem(0xb775));
        EXPECT(0x23, gbc.readMem(0xb776));
        // C4 034D
        gbc.setState(0x12e5, 0xc3ac, 0xd30, 0x503f, 0x4382, 0xf98c, 0x1, 0x0);
        gbc.writeMem(0x12e5, { 0xc4, 0x17, 0x23 });
        gbc.writeMem(0xc3aa, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xc3aa, gbc.sp());
        EXPECT(0x2317, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe8, gbc.readMem(0xc3aa));
        EXPECT(0x12, gbc.readMem(0xc3ab));
        // C4 034E
        gbc.setState(0x2e98, 0xe9d6, 0x6a50, 0x5e1a, 0xff50, 0x2cbc, 0x0, 0x1);
        gbc.writeMem(0x2e98, { 0xc4, 0x92, 0xc3 });
        gbc.writeMem(0xe9d4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xe9d4, gbc.sp());
        EXPECT(0xc392, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9b, gbc.readMem(0xe9d4));
        EXPECT(0x2e, gbc.readMem(0xe9d5));
        // C4 0350
        gbc.setState(0xb800, 0x800e, 0x3730, 0x6fd, 0xe1c8, 0x1609, 0x1, 0x0);
        gbc.writeMem(0x800c, { 0x0, 0x0 });
        gbc.writeMem(0xb800, { 0xc4, 0x79, 0xf7 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x800c, gbc.sp());
        EXPECT(0xf779, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0x800c));
        EXPECT(0xb8, gbc.readMem(0x800d));
        EXPECT(0xc4, gbc.readMem(0xb800));
        EXPECT(0x79, gbc.readMem(0xb801));
        EXPECT(0xf7, gbc.readMem(0xb802));
        // C4 0351
        gbc.setState(0x7b04, 0xaa47, 0xb70, 0x7945, 0x282a, 0xa4, 0x1, 0x0);
        gbc.writeMem(0x7b04, { 0xc4, 0xd, 0x5a });
        gbc.writeMem(0xaa45, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xaa45, gbc.sp());
        EXPECT(0x5a0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7, gbc.readMem(0xaa45));
        EXPECT(0x7b, gbc.readMem(0xaa46));
        // C4 0353
        gbc.setState(0x729d, 0x3cd6, 0xeec0, 0x89ed, 0xa0c5, 0xdf15, 0x0, 0x0);
        gbc.writeMem(0x729d, { 0xc4, 0xd9, 0x98 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3cd6, gbc.sp());
        EXPECT(0x72a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0355
        gbc.setState(0x618a, 0xca68, 0xf0a0, 0xb01b, 0xcc24, 0xf15b, 0x0, 0x0);
        gbc.writeMem(0x618a, { 0xc4, 0xb, 0x49 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xca68, gbc.sp());
        EXPECT(0x618d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0357
        gbc.setState(0x500d, 0x9a47, 0x3980, 0xcb26, 0x90ff, 0x5a9a, 0x1, 0x1);
        gbc.writeMem(0x500d, { 0xc4, 0x72, 0x53 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x9a47, gbc.sp());
        EXPECT(0x5010, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0358
        gbc.setState(0xb9cc, 0x921a, 0x1dd0, 0x673d, 0xe70d, 0x3121, 0x0, 0x1);
        gbc.writeMem(0xb9cc, { 0xc4, 0xd, 0xc3 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x921a, gbc.sp());
        EXPECT(0xb9cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb9cc));
        EXPECT(0xd, gbc.readMem(0xb9cd));
        EXPECT(0xc3, gbc.readMem(0xb9ce));
        // C4 0359
        gbc.setState(0x8af0, 0x8ba9, 0x72c0, 0x103a, 0x97c5, 0xc0ca, 0x0, 0x1);
        gbc.writeMem(0x8af0, { 0xc4, 0x7c, 0x6d });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8ba9, gbc.sp());
        EXPECT(0x8af3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8af0));
        EXPECT(0x7c, gbc.readMem(0x8af1));
        EXPECT(0x6d, gbc.readMem(0x8af2));
        // C4 035A
        gbc.setState(0xacce, 0xc076, 0x310, 0x5930, 0xe21f, 0xe47d, 0x1, 0x1);
        gbc.writeMem(0xacce, { 0xc4, 0x6c, 0x88 });
        gbc.writeMem(0xc074, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xc074, gbc.sp());
        EXPECT(0x886c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xacce));
        EXPECT(0x6c, gbc.readMem(0xaccf));
        EXPECT(0x88, gbc.readMem(0xacd0));
        EXPECT(0xd1, gbc.readMem(0xc074));
        EXPECT(0xac, gbc.readMem(0xc075));
        // C4 035B
        gbc.setState(0xe7c, 0x819c, 0x7fd0, 0x2fcc, 0xd04b, 0xbb7f, 0x0, 0x1);
        gbc.writeMem(0xe7c, { 0xc4, 0x39, 0xd5 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x819c, gbc.sp());
        EXPECT(0xe7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 035C
        gbc.setState(0xa12, 0xe7ab, 0xc8a0, 0x27ca, 0x92da, 0x277d, 0x1, 0x0);
        gbc.writeMem(0xa12, { 0xc4, 0xbf, 0x9a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xe7ab, gbc.sp());
        EXPECT(0xa15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 035D
        gbc.setState(0xb5b8, 0xc7a9, 0x430, 0xc8e0, 0xb3ae, 0x797f, 0x0, 0x0);
        gbc.writeMem(0xb5b8, { 0xc4, 0x5c, 0xb9 });
        gbc.writeMem(0xc7a7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc7a7, gbc.sp());
        EXPECT(0xb95c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb5b8));
        EXPECT(0x5c, gbc.readMem(0xb5b9));
        EXPECT(0xb9, gbc.readMem(0xb5ba));
        EXPECT(0xbb, gbc.readMem(0xc7a7));
        EXPECT(0xb5, gbc.readMem(0xc7a8));
        // C4 035E
        gbc.setState(0x7919, 0xce81, 0xaec0, 0x7833, 0xdd4a, 0x5863, 0x0, 0x1);
        gbc.writeMem(0x7919, { 0xc4, 0xfd, 0x3e });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xce81, gbc.sp());
        EXPECT(0x791c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 035F
        gbc.setState(0xba93, 0xd722, 0x86d0, 0xdbd3, 0x4238, 0xd865, 0x0, 0x1);
        gbc.writeMem(0xba93, { 0xc4, 0x3a, 0xc });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xd722, gbc.sp());
        EXPECT(0xba96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xba93));
        EXPECT(0x3a, gbc.readMem(0xba94));
        EXPECT(0xc, gbc.readMem(0xba95));
        // C4 0360
        gbc.setState(0x6a75, 0xb0e7, 0xa230, 0x62cc, 0xdc08, 0xb3bf, 0x0, 0x1);
        gbc.writeMem(0x6a75, { 0xc4, 0x38, 0xdd });
        gbc.writeMem(0xb0e5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xb0e5, gbc.sp());
        EXPECT(0xdd38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x78, gbc.readMem(0xb0e5));
        EXPECT(0x6a, gbc.readMem(0xb0e6));
        // C4 0361
        gbc.setState(0x7154, 0x80b8, 0xf140, 0xa9ee, 0x302c, 0x6d6a, 0x1, 0x1);
        gbc.writeMem(0x7154, { 0xc4, 0x4c, 0x77 });
        gbc.writeMem(0x80b6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x80b6, gbc.sp());
        EXPECT(0x774c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x57, gbc.readMem(0x80b6));
        EXPECT(0x71, gbc.readMem(0x80b7));
        // C4 0362
        gbc.setState(0x8065, 0xdbea, 0x1690, 0xb497, 0x3fcc, 0x5831, 0x1, 0x0);
        gbc.writeMem(0x8065, { 0xc4, 0xa, 0xfb });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xdbea, gbc.sp());
        EXPECT(0x8068, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8065));
        EXPECT(0xa, gbc.readMem(0x8066));
        EXPECT(0xfb, gbc.readMem(0x8067));
        // C4 0363
        gbc.setState(0x86db, 0x60a1, 0x1ea0, 0x4776, 0xa4ce, 0x301f, 0x1, 0x1);
        gbc.writeMem(0x86db, { 0xc4, 0x1c, 0x93 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x60a1, gbc.sp());
        EXPECT(0x86de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x86db));
        EXPECT(0x1c, gbc.readMem(0x86dc));
        EXPECT(0x93, gbc.readMem(0x86dd));
        // C4 0365
        gbc.setState(0xef1a, 0x77a7, 0x5ff0, 0x6e0c, 0x23f6, 0xc7af, 0x0, 0x1);
        gbc.writeMem(0xef1a, { 0xc4, 0xc2, 0x79 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x77a7, gbc.sp());
        EXPECT(0xef1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xef1a));
        EXPECT(0xc2, gbc.readMem(0xef1b));
        EXPECT(0x79, gbc.readMem(0xef1c));
        // C4 0366
        gbc.setState(0xc56, 0x4a3f, 0xef90, 0x64a7, 0x37d0, 0x73a7, 0x0, 0x1);
        gbc.writeMem(0xc56, { 0xc4, 0x26, 0x58 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x4a3f, gbc.sp());
        EXPECT(0xc59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0369
        gbc.setState(0x71b9, 0x9dbc, 0xb590, 0x3f3a, 0x370f, 0x5f5e, 0x1, 0x0);
        gbc.writeMem(0x71b9, { 0xc4, 0xf8, 0x83 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x9dbc, gbc.sp());
        EXPECT(0x71bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 036A
        gbc.setState(0x864a, 0xb8ff, 0xbec0, 0x45c2, 0xaecb, 0x590f, 0x1, 0x1);
        gbc.writeMem(0x864a, { 0xc4, 0xe3, 0xea });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb8ff, gbc.sp());
        EXPECT(0x864d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x864a));
        EXPECT(0xe3, gbc.readMem(0x864b));
        EXPECT(0xea, gbc.readMem(0x864c));
        // C4 036C
        gbc.setState(0x9ca, 0xae76, 0xf1f0, 0x5788, 0x353d, 0x63df, 0x0, 0x0);
        gbc.writeMem(0x9ca, { 0xc4, 0x2, 0xf7 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xae76, gbc.sp());
        EXPECT(0x9cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 036D
        gbc.setState(0x907f, 0xfdbc, 0x2680, 0xecb9, 0x12d3, 0x6922, 0x1, 0x1);
        gbc.writeMem(0x907f, { 0xc4, 0xab, 0x27 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xfdbc, gbc.sp());
        EXPECT(0x9082, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x907f));
        EXPECT(0xab, gbc.readMem(0x9080));
        EXPECT(0x27, gbc.readMem(0x9081));
        // C4 036E
        gbc.setState(0x7dfe, 0xac11, 0xcc10, 0x3741, 0x58ea, 0xc0ba, 0x1, 0x1);
        gbc.writeMem(0x7dfe, { 0xc4, 0xd3, 0x8b });
        gbc.writeMem(0xac0f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xac0f, gbc.sp());
        EXPECT(0x8bd3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x1, gbc.readMem(0xac0f));
        EXPECT(0x7e, gbc.readMem(0xac10));
        // C4 0370
        gbc.setState(0xeb74, 0xeee0, 0xa7e0, 0xca4, 0xf578, 0x1d1c, 0x0, 0x0);
        gbc.writeMem(0xeb74, { 0xc4, 0x2d, 0x2f });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xeee0, gbc.sp());
        EXPECT(0xeb77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xeb74));
        EXPECT(0x2d, gbc.readMem(0xeb75));
        EXPECT(0x2f, gbc.readMem(0xeb76));
        // C4 0372
        gbc.setState(0x2f56, 0xfaa3, 0xf520, 0xe5c3, 0x1a1b, 0xdd8d, 0x1, 0x0);
        gbc.writeMem(0x2f56, { 0xc4, 0xe, 0x9a });
        gbc.writeMem(0xfaa1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xfaa1, gbc.sp());
        EXPECT(0x9a0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x59, gbc.readMem(0xfaa1));
        EXPECT(0x2f, gbc.readMem(0xfaa2));
        // C4 0374
        gbc.setState(0x6a97, 0xd3f1, 0xd890, 0xdddc, 0x47cf, 0xed4f, 0x0, 0x0);
        gbc.writeMem(0x6a97, { 0xc4, 0x66, 0x48 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xd3f1, gbc.sp());
        EXPECT(0x6a9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0375
        gbc.setState(0x59d8, 0xf749, 0x7d10, 0xf8fb, 0x22a3, 0xc624, 0x0, 0x0);
        gbc.writeMem(0x59d8, { 0xc4, 0xe0, 0x2b });
        gbc.writeMem(0xf747, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xf747, gbc.sp());
        EXPECT(0x2be0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0xf747));
        EXPECT(0x59, gbc.readMem(0xf748));
        // C4 0376
        gbc.setState(0xd52, 0x5029, 0x5db0, 0x9e9c, 0x2721, 0x30e8, 0x1, 0x1);
        gbc.writeMem(0xd52, { 0xc4, 0xc3, 0x3 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5029, gbc.sp());
        EXPECT(0xd55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0377
        gbc.setState(0x3b6c, 0xb203, 0x7d40, 0x62a4, 0x352d, 0xd2a0, 0x0, 0x1);
        gbc.writeMem(0x3b6c, { 0xc4, 0xd5, 0x4b });
        gbc.writeMem(0xb201, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xb201, gbc.sp());
        EXPECT(0x4bd5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6f, gbc.readMem(0xb201));
        EXPECT(0x3b, gbc.readMem(0xb202));
        // C4 0378
        gbc.setState(0x4d37, 0xbccf, 0xed80, 0x357a, 0x9b1c, 0x45c8, 0x1, 0x1);
        gbc.writeMem(0x4d37, { 0xc4, 0x6b, 0x89 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xbccf, gbc.sp());
        EXPECT(0x4d3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0379
        gbc.setState(0xa47, 0x37ea, 0xa590, 0x8728, 0x3b1a, 0xc28f, 0x0, 0x1);
        gbc.writeMem(0xa47, { 0xc4, 0xf1, 0x2c });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x37ea, gbc.sp());
        EXPECT(0xa4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 037A
        gbc.setState(0x689a, 0x6c66, 0xc9d0, 0xe79b, 0x6920, 0x2af7, 0x1, 0x0);
        gbc.writeMem(0x689a, { 0xc4, 0x39, 0x39 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x6c66, gbc.sp());
        EXPECT(0x689d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 037B
        gbc.setState(0x73fe, 0xb6c2, 0x8bb0, 0x8af3, 0x1bb3, 0x4c2, 0x0, 0x1);
        gbc.writeMem(0x73fe, { 0xc4, 0x13, 0xe4 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xb6c2, gbc.sp());
        EXPECT(0x7401, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 037D
        gbc.setState(0x8b05, 0xb73a, 0x2710, 0x102e, 0x72da, 0xfdcf, 0x0, 0x0);
        gbc.writeMem(0x8b05, { 0xc4, 0x32, 0x9b });
        gbc.writeMem(0xb738, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xb738, gbc.sp());
        EXPECT(0x9b32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8b05));
        EXPECT(0x32, gbc.readMem(0x8b06));
        EXPECT(0x9b, gbc.readMem(0x8b07));
        EXPECT(0x8, gbc.readMem(0xb738));
        EXPECT(0x8b, gbc.readMem(0xb739));
        // C4 037E
        gbc.setState(0x88c7, 0x4f9a, 0x9390, 0xf7a4, 0x3aae, 0x2815, 0x1, 0x0);
        gbc.writeMem(0x88c7, { 0xc4, 0xc3, 0x11 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x4f9a, gbc.sp());
        EXPECT(0x88ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x88c7));
        EXPECT(0xc3, gbc.readMem(0x88c8));
        EXPECT(0x11, gbc.readMem(0x88c9));
        // C4 037F
        gbc.setState(0xb21b, 0xb0d7, 0xc80, 0xe1cd, 0x650a, 0x6598, 0x1, 0x0);
        gbc.writeMem(0xb21b, { 0xc4, 0x43, 0xb8 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb0d7, gbc.sp());
        EXPECT(0xb21e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb21b));
        EXPECT(0x43, gbc.readMem(0xb21c));
        EXPECT(0xb8, gbc.readMem(0xb21d));
        // C4 0380
        gbc.setState(0xe981, 0xb5c5, 0xd050, 0x67e, 0xeceb, 0x24d3, 0x0, 0x0);
        gbc.writeMem(0xb5c3, { 0x0, 0x0 });
        gbc.writeMem(0xe981, { 0xc4, 0xf6, 0x60 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb5c3, gbc.sp());
        EXPECT(0x60f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x84, gbc.readMem(0xb5c3));
        EXPECT(0xe9, gbc.readMem(0xb5c4));
        EXPECT(0xc4, gbc.readMem(0xe981));
        EXPECT(0xf6, gbc.readMem(0xe982));
        EXPECT(0x60, gbc.readMem(0xe983));
        // C4 0381
        gbc.setState(0x294a, 0xeec0, 0x5570, 0x6ca5, 0x396, 0xdd94, 0x1, 0x0);
        gbc.writeMem(0x294a, { 0xc4, 0xf9, 0xc6 });
        gbc.writeMem(0xeebe, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xeebe, gbc.sp());
        EXPECT(0xc6f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4d, gbc.readMem(0xeebe));
        EXPECT(0x29, gbc.readMem(0xeebf));
        // C4 0382
        gbc.setState(0x3e26, 0x9181, 0x85c0, 0x3d50, 0xf19a, 0xb900, 0x0, 0x1);
        gbc.writeMem(0x3e26, { 0xc4, 0x54, 0x83 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x9181, gbc.sp());
        EXPECT(0x3e29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 0383
        gbc.setState(0x8d61, 0x5054, 0x47f0, 0xb8c9, 0x95d7, 0xe334, 0x1, 0x0);
        gbc.writeMem(0x8d61, { 0xc4, 0x1d, 0xc7 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x5054, gbc.sp());
        EXPECT(0x8d64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8d61));
        EXPECT(0x1d, gbc.readMem(0x8d62));
        EXPECT(0xc7, gbc.readMem(0x8d63));
        // C4 0384
        gbc.setState(0xc41a, 0xc595, 0xff80, 0x8492, 0x6af7, 0x4784, 0x0, 0x1);
        gbc.writeMem(0xc41a, { 0xc4, 0xc1, 0xf3 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xc595, gbc.sp());
        EXPECT(0xc41d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc41a));
        EXPECT(0xc1, gbc.readMem(0xc41b));
        EXPECT(0xf3, gbc.readMem(0xc41c));
        // C4 0385
        gbc.setState(0x4964, 0x8894, 0xe9f0, 0x43f5, 0xa18b, 0x7af, 0x0, 0x0);
        gbc.writeMem(0x4964, { 0xc4, 0xe1, 0x79 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x8894, gbc.sp());
        EXPECT(0x4967, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0386
        gbc.setState(0x75f8, 0xbe60, 0x24b0, 0x8989, 0xb392, 0x4b89, 0x0, 0x1);
        gbc.writeMem(0x75f8, { 0xc4, 0xcb, 0x14 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xbe60, gbc.sp());
        EXPECT(0x75fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 0389
        gbc.setState(0xdfd7, 0x6dae, 0x8780, 0xbb7e, 0x8e95, 0xb923, 0x0, 0x1);
        gbc.writeMem(0xdfd7, { 0xc4, 0xd3, 0x4a });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6dae, gbc.sp());
        EXPECT(0xdfda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xdfd7));
        EXPECT(0xd3, gbc.readMem(0xdfd8));
        EXPECT(0x4a, gbc.readMem(0xdfd9));
        // C4 038A
        gbc.setState(0x1c96, 0xc454, 0x9e50, 0x475d, 0x4f78, 0x6af6, 0x1, 0x1);
        gbc.writeMem(0x1c96, { 0xc4, 0x4b, 0xa6 });
        gbc.writeMem(0xc452, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc452, gbc.sp());
        EXPECT(0xa64b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x99, gbc.readMem(0xc452));
        EXPECT(0x1c, gbc.readMem(0xc453));
        // C4 038C
        gbc.setState(0x37d8, 0xf2e2, 0x5300, 0x59a9, 0x4136, 0xed6d, 0x1, 0x0);
        gbc.writeMem(0x37d8, { 0xc4, 0x59, 0xf3 });
        gbc.writeMem(0xf2e0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xf2e0, gbc.sp());
        EXPECT(0xf359, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0xf2e0));
        EXPECT(0x37, gbc.readMem(0xf2e1));
        // C4 038D
        gbc.setState(0x5860, 0xa472, 0xb9a0, 0x416c, 0x1dce, 0x585b, 0x1, 0x1);
        gbc.writeMem(0x5860, { 0xc4, 0x78, 0x51 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xa472, gbc.sp());
        EXPECT(0x5863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 038E
        gbc.setState(0xa203, 0xe5b1, 0xe70, 0xede4, 0x9a84, 0xf258, 0x0, 0x0);
        gbc.writeMem(0xa203, { 0xc4, 0x53, 0x59 });
        gbc.writeMem(0xe5af, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xe5af, gbc.sp());
        EXPECT(0x5953, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa203));
        EXPECT(0x53, gbc.readMem(0xa204));
        EXPECT(0x59, gbc.readMem(0xa205));
        EXPECT(0x6, gbc.readMem(0xe5af));
        EXPECT(0xa2, gbc.readMem(0xe5b0));
        // C4 0390
        gbc.setState(0xbcb8, 0x8628, 0xce40, 0x253d, 0x29bc, 0x9124, 0x1, 0x1);
        gbc.writeMem(0x8626, { 0x0, 0x0 });
        gbc.writeMem(0xbcb8, { 0xc4, 0x14, 0x80 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x8626, gbc.sp());
        EXPECT(0x8014, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbb, gbc.readMem(0x8626));
        EXPECT(0xbc, gbc.readMem(0x8627));
        EXPECT(0xc4, gbc.readMem(0xbcb8));
        EXPECT(0x14, gbc.readMem(0xbcb9));
        EXPECT(0x80, gbc.readMem(0xbcba));
        // C4 0391
        gbc.setState(0x2767, 0x9ccc, 0x6970, 0x3842, 0xe64e, 0x1b3e, 0x1, 0x1);
        gbc.writeMem(0x2767, { 0xc4, 0x6f, 0x83 });
        gbc.writeMem(0x9cca, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x9cca, gbc.sp());
        EXPECT(0x836f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6a, gbc.readMem(0x9cca));
        EXPECT(0x27, gbc.readMem(0x9ccb));
        // C4 0393
        gbc.setState(0xd90e, 0x686a, 0x7380, 0x1930, 0x89e1, 0x3b50, 0x0, 0x0);
        gbc.writeMem(0xd90e, { 0xc4, 0x43, 0xbc });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x686a, gbc.sp());
        EXPECT(0xd911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd90e));
        EXPECT(0x43, gbc.readMem(0xd90f));
        EXPECT(0xbc, gbc.readMem(0xd910));
        // C4 0394
        gbc.setState(0xd5f8, 0xdf5b, 0xc850, 0x83b1, 0x815a, 0x8907, 0x0, 0x1);
        gbc.writeMem(0xd5f8, { 0xc4, 0x42, 0x30 });
        gbc.writeMem(0xdf59, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xdf59, gbc.sp());
        EXPECT(0x3042, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd5f8));
        EXPECT(0x42, gbc.readMem(0xd5f9));
        EXPECT(0x30, gbc.readMem(0xd5fa));
        EXPECT(0xfb, gbc.readMem(0xdf59));
        EXPECT(0xd5, gbc.readMem(0xdf5a));
        // C4 0395
        gbc.setState(0x4fa7, 0x9f30, 0x5e10, 0x1c8d, 0x184c, 0x6dd3, 0x1, 0x0);
        gbc.writeMem(0x4fa7, { 0xc4, 0xaa, 0x40 });
        gbc.writeMem(0x9f2e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x9f2e, gbc.sp());
        EXPECT(0x40aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xaa, gbc.readMem(0x9f2e));
        EXPECT(0x4f, gbc.readMem(0x9f2f));
        // C4 0396
        gbc.setState(0x8d4a, 0xd446, 0xeea0, 0xa767, 0x4d96, 0x4a3b, 0x0, 0x1);
        gbc.writeMem(0x8d4a, { 0xc4, 0xf8, 0x99 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xd446, gbc.sp());
        EXPECT(0x8d4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8d4a));
        EXPECT(0xf8, gbc.readMem(0x8d4b));
        EXPECT(0x99, gbc.readMem(0x8d4c));
        // C4 0398
        gbc.setState(0x7ce8, 0x8c51, 0x92f0, 0x5866, 0xe660, 0x1c77, 0x1, 0x1);
        gbc.writeMem(0x7ce8, { 0xc4, 0xe9, 0x9b });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x8c51, gbc.sp());
        EXPECT(0x7ceb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 039A
        gbc.setState(0x76d5, 0x7a1f, 0x91e0, 0x6818, 0xca6a, 0xcedf, 0x0, 0x0);
        gbc.writeMem(0x76d5, { 0xc4, 0xb3, 0x22 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x7a1f, gbc.sp());
        EXPECT(0x76d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 039B
        gbc.setState(0x154d, 0x9de2, 0xd500, 0x5dc1, 0xe295, 0x46d, 0x1, 0x1);
        gbc.writeMem(0x154d, { 0xc4, 0x37, 0xf9 });
        gbc.writeMem(0x9de0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x9de0, gbc.sp());
        EXPECT(0xf937, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x50, gbc.readMem(0x9de0));
        EXPECT(0x15, gbc.readMem(0x9de1));
        // C4 039D
        gbc.setState(0x2997, 0xace6, 0x6e80, 0xefc4, 0x3079, 0x9906, 0x1, 0x1);
        gbc.writeMem(0x2997, { 0xc4, 0x45, 0x70 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xace6, gbc.sp());
        EXPECT(0x299a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 039E
        gbc.setState(0xd7ec, 0x5295, 0xf5c0, 0xd199, 0xfc3a, 0xfe0d, 0x1, 0x1);
        gbc.writeMem(0xd7ec, { 0xc4, 0xb0, 0x68 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5295, gbc.sp());
        EXPECT(0xd7ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd7ec));
        EXPECT(0xb0, gbc.readMem(0xd7ed));
        EXPECT(0x68, gbc.readMem(0xd7ee));
        // C4 039F
        gbc.setState(0xee00, 0x8503, 0xa4c0, 0xcd9, 0x95a0, 0x49cd, 0x0, 0x0);
        gbc.writeMem(0xee00, { 0xc4, 0x7b, 0x60 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x8503, gbc.sp());
        EXPECT(0xee03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xee00));
        EXPECT(0x7b, gbc.readMem(0xee01));
        EXPECT(0x60, gbc.readMem(0xee02));
        // C4 03A1
        gbc.setState(0x9184, 0xc75d, 0x72d0, 0x4e14, 0xa516, 0x233a, 0x0, 0x1);
        gbc.writeMem(0x9184, { 0xc4, 0xf7, 0x82 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xc75d, gbc.sp());
        EXPECT(0x9187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9184));
        EXPECT(0xf7, gbc.readMem(0x9185));
        EXPECT(0x82, gbc.readMem(0x9186));
        // C4 03A2
        gbc.setState(0xa55b, 0x3f0f, 0xb4a0, 0xbc58, 0xfd4, 0x5e27, 0x1, 0x0);
        gbc.writeMem(0xa55b, { 0xc4, 0xb1, 0xf0 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3f0f, gbc.sp());
        EXPECT(0xa55e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa55b));
        EXPECT(0xb1, gbc.readMem(0xa55c));
        EXPECT(0xf0, gbc.readMem(0xa55d));
        // C4 03A3
        gbc.setState(0x432b, 0xd1d8, 0x8b10, 0xe87e, 0xda83, 0xc550, 0x1, 0x0);
        gbc.writeMem(0x432b, { 0xc4, 0x11, 0x29 });
        gbc.writeMem(0xd1d6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xd1d6, gbc.sp());
        EXPECT(0x2911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2e, gbc.readMem(0xd1d6));
        EXPECT(0x43, gbc.readMem(0xd1d7));
        // C4 03A4
        gbc.setState(0x37fc, 0xc2d2, 0x37d0, 0x813a, 0xd461, 0x3a12, 0x1, 0x1);
        gbc.writeMem(0x37fc, { 0xc4, 0x20, 0x97 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc2d2, gbc.sp());
        EXPECT(0x37ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 03A6
        gbc.setState(0x336c, 0x1378, 0xf8a0, 0xa848, 0xbccc, 0xe603, 0x0, 0x0);
        gbc.writeMem(0x336c, { 0xc4, 0x48, 0x68 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x1378, gbc.sp());
        EXPECT(0x336f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03A8
        gbc.setState(0xd76f, 0x5147, 0x2890, 0x739e, 0xc914, 0xfdb7, 0x0, 0x0);
        gbc.writeMem(0xd76f, { 0xc4, 0x1a, 0x29 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x5147, gbc.sp());
        EXPECT(0xd772, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd76f));
        EXPECT(0x1a, gbc.readMem(0xd770));
        EXPECT(0x29, gbc.readMem(0xd771));
        // C4 03A9
        gbc.setState(0x409f, 0xb639, 0x2050, 0xfd5d, 0xfa99, 0xfe45, 0x1, 0x0);
        gbc.writeMem(0x409f, { 0xc4, 0xed, 0xc1 });
        gbc.writeMem(0xb637, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xb637, gbc.sp());
        EXPECT(0xc1ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0xb637));
        EXPECT(0x40, gbc.readMem(0xb638));
        // C4 03AA
        gbc.setState(0xc89d, 0x3240, 0x74b0, 0xaba, 0x3ada, 0xb9a4, 0x0, 0x1);
        gbc.writeMem(0xc89d, { 0xc4, 0x5a, 0x75 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x3240, gbc.sp());
        EXPECT(0xc8a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc89d));
        EXPECT(0x5a, gbc.readMem(0xc89e));
        EXPECT(0x75, gbc.readMem(0xc89f));
        // C4 03AB
        gbc.setState(0x4791, 0xcc65, 0x6f70, 0xb886, 0x952d, 0x7951, 0x0, 0x1);
        gbc.writeMem(0x4791, { 0xc4, 0xf7, 0x1a });
        gbc.writeMem(0xcc63, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xcc63, gbc.sp());
        EXPECT(0x1af7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xcc63));
        EXPECT(0x47, gbc.readMem(0xcc64));
        // C4 03AD
        gbc.setState(0x7ef9, 0x1e13, 0x76c0, 0x45cd, 0xba26, 0xd9e3, 0x0, 0x0);
        gbc.writeMem(0x7ef9, { 0xc4, 0x83, 0x2e });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x1e13, gbc.sp());
        EXPECT(0x7efc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03AE
        gbc.setState(0x6957, 0x3025, 0x69b0, 0x66be, 0x1439, 0xd6eb, 0x1, 0x0);
        gbc.writeMem(0x6957, { 0xc4, 0xcd, 0x15 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3025, gbc.sp());
        EXPECT(0x695a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 03AF
        gbc.setState(0x71f7, 0x948f, 0xe2e0, 0xcac0, 0x4a95, 0x1c32, 0x0, 0x0);
        gbc.writeMem(0x71f7, { 0xc4, 0xfb, 0xab });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x948f, gbc.sp());
        EXPECT(0x71fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03B0
        gbc.setState(0x808c, 0xc587, 0xbd20, 0xfa78, 0x454, 0x81e4, 0x1, 0x1);
        gbc.writeMem(0x808c, { 0xc4, 0x3f, 0x5c });
        gbc.writeMem(0xc585, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xc585, gbc.sp());
        EXPECT(0x5c3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x808c));
        EXPECT(0x3f, gbc.readMem(0x808d));
        EXPECT(0x5c, gbc.readMem(0x808e));
        EXPECT(0x8f, gbc.readMem(0xc585));
        EXPECT(0x80, gbc.readMem(0xc586));
        // C4 03B2
        gbc.setState(0x581a, 0x783b, 0x8790, 0x8573, 0xcc, 0x1c4e, 0x1, 0x0);
        gbc.writeMem(0x581a, { 0xc4, 0xa4, 0xad });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x783b, gbc.sp());
        EXPECT(0x581d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 03B3
        gbc.setState(0x8939, 0x67a, 0x2bd0, 0xa918, 0x1cb4, 0xb63e, 0x1, 0x0);
        gbc.writeMem(0x8939, { 0xc4, 0x1, 0xef });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x67a, gbc.sp());
        EXPECT(0x893c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x8939));
        EXPECT(0x1, gbc.readMem(0x893a));
        EXPECT(0xef, gbc.readMem(0x893b));
        // C4 03B6
        gbc.setState(0x9412, 0xda45, 0xb560, 0x1fd6, 0x59e0, 0xc82, 0x0, 0x0);
        gbc.writeMem(0x9412, { 0xc4, 0xbd, 0x40 });
        gbc.writeMem(0xda43, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xda43, gbc.sp());
        EXPECT(0x40bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9412));
        EXPECT(0xbd, gbc.readMem(0x9413));
        EXPECT(0x40, gbc.readMem(0x9414));
        EXPECT(0x15, gbc.readMem(0xda43));
        EXPECT(0x94, gbc.readMem(0xda44));
        // C4 03B7
        gbc.setState(0x6391, 0xa29d, 0x5050, 0x4a9d, 0xf356, 0xd3e9, 0x1, 0x0);
        gbc.writeMem(0x6391, { 0xc4, 0x1f, 0xe });
        gbc.writeMem(0xa29b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xa29b, gbc.sp());
        EXPECT(0xe1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xa29b));
        EXPECT(0x63, gbc.readMem(0xa29c));
        // C4 03B8
        gbc.setState(0x3709, 0xec7d, 0xa320, 0xb641, 0x7919, 0x2b34, 0x1, 0x1);
        gbc.writeMem(0x3709, { 0xc4, 0x2f, 0x42 });
        gbc.writeMem(0xec7b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xec7b, gbc.sp());
        EXPECT(0x422f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc, gbc.readMem(0xec7b));
        EXPECT(0x37, gbc.readMem(0xec7c));
        // C4 03B9
        gbc.setState(0xbf4e, 0x8da3, 0xc850, 0x96aa, 0xc7c6, 0xba67, 0x0, 0x0);
        gbc.writeMem(0x8da1, { 0x0, 0x0 });
        gbc.writeMem(0xbf4e, { 0xc4, 0xa9, 0xd0 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x8da1, gbc.sp());
        EXPECT(0xd0a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x51, gbc.readMem(0x8da1));
        EXPECT(0xbf, gbc.readMem(0x8da2));
        EXPECT(0xc4, gbc.readMem(0xbf4e));
        EXPECT(0xa9, gbc.readMem(0xbf4f));
        EXPECT(0xd0, gbc.readMem(0xbf50));
        // C4 03BA
        gbc.setState(0xa2d, 0xc690, 0x59a0, 0x1dd1, 0xbeb2, 0x1a1d, 0x0, 0x0);
        gbc.writeMem(0xa2d, { 0xc4, 0x4f, 0xe8 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xc690, gbc.sp());
        EXPECT(0xa30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03BB
        gbc.setState(0x9d8a, 0xe5c4, 0x49e0, 0xdbec, 0xb4c5, 0x1322, 0x0, 0x1);
        gbc.writeMem(0x9d8a, { 0xc4, 0xfa, 0x5b });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xe5c4, gbc.sp());
        EXPECT(0x9d8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9d8a));
        EXPECT(0xfa, gbc.readMem(0x9d8b));
        EXPECT(0x5b, gbc.readMem(0x9d8c));
        // C4 03BC
        gbc.setState(0x54a3, 0x7580, 0x81c0, 0xb12, 0xbfa1, 0x7564, 0x1, 0x1);
        gbc.writeMem(0x54a3, { 0xc4, 0x52, 0xe });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x7580, gbc.sp());
        EXPECT(0x54a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03BD
        gbc.setState(0x1751, 0xd6f0, 0x31d0, 0xf373, 0xa10c, 0x91a7, 0x1, 0x1);
        gbc.writeMem(0x1751, { 0xc4, 0x23, 0x2d });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xd6f0, gbc.sp());
        EXPECT(0x1754, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 03BE
        gbc.setState(0xbdf2, 0xdc51, 0xa440, 0x12a6, 0xd5df, 0xb4b3, 0x1, 0x1);
        gbc.writeMem(0xbdf2, { 0xc4, 0x93, 0x57 });
        gbc.writeMem(0xdc4f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xdc4f, gbc.sp());
        EXPECT(0x5793, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xbdf2));
        EXPECT(0x93, gbc.readMem(0xbdf3));
        EXPECT(0x57, gbc.readMem(0xbdf4));
        EXPECT(0xf5, gbc.readMem(0xdc4f));
        EXPECT(0xbd, gbc.readMem(0xdc50));
        // C4 03C0
        gbc.setState(0x70dd, 0x13b6, 0x94c0, 0x81db, 0x9f25, 0x5e54, 0x0, 0x0);
        gbc.writeMem(0x70dd, { 0xc4, 0xb9, 0xbf });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x13b6, gbc.sp());
        EXPECT(0x70e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03C1
        gbc.setState(0x24f, 0x8c93, 0xe960, 0x16a0, 0xcfcf, 0xd213, 0x0, 0x0);
        gbc.writeMem(0x24f, { 0xc4, 0xf6, 0x9f });
        gbc.writeMem(0x8c91, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x8c91, gbc.sp());
        EXPECT(0x9ff6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x52, gbc.readMem(0x8c91));
        EXPECT(0x2, gbc.readMem(0x8c92));
        // C4 03C2
        gbc.setState(0x6108, 0xbb67, 0xa000, 0x1199, 0xb39c, 0x31ca, 0x0, 0x0);
        gbc.writeMem(0x6108, { 0xc4, 0x9a, 0xc3 });
        gbc.writeMem(0xbb65, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xbb65, gbc.sp());
        EXPECT(0xc39a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb, gbc.readMem(0xbb65));
        EXPECT(0x61, gbc.readMem(0xbb66));
        // C4 03C3
        gbc.setState(0x4a45, 0x2523, 0x8bf0, 0xd5eb, 0x32ed, 0xd1f, 0x0, 0x1);
        gbc.writeMem(0x4a45, { 0xc4, 0x10, 0xa4 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x2523, gbc.sp());
        EXPECT(0x4a48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // C4 03C4
        gbc.setState(0xd93d, 0xe6c7, 0xb510, 0x1b60, 0xed35, 0xe863, 0x1, 0x1);
        gbc.writeMem(0xd93d, { 0xc4, 0x13, 0xae });
        gbc.writeMem(0xe6c5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xe6c5, gbc.sp());
        EXPECT(0xae13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd93d));
        EXPECT(0x13, gbc.readMem(0xd93e));
        EXPECT(0xae, gbc.readMem(0xd93f));
        EXPECT(0x40, gbc.readMem(0xe6c5));
        EXPECT(0xd9, gbc.readMem(0xe6c6));
        // C4 03C5
        gbc.setState(0x9ae9, 0xb1d4, 0x9fb0, 0xcacd, 0xfb06, 0x8754, 0x0, 0x0);
        gbc.writeMem(0x9ae9, { 0xc4, 0x13, 0x91 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xb1d4, gbc.sp());
        EXPECT(0x9aec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x9ae9));
        EXPECT(0x13, gbc.readMem(0x9aea));
        EXPECT(0x91, gbc.readMem(0x9aeb));
        // C4 03C6
        gbc.setState(0xa731, 0xdee5, 0x5340, 0x8bcb, 0xa0a3, 0xa369, 0x1, 0x0);
        gbc.writeMem(0xa731, { 0xc4, 0xed, 0x2d });
        gbc.writeMem(0xdee3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xdee3, gbc.sp());
        EXPECT(0x2ded, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xa731));
        EXPECT(0xed, gbc.readMem(0xa732));
        EXPECT(0x2d, gbc.readMem(0xa733));
        EXPECT(0x34, gbc.readMem(0xdee3));
        EXPECT(0xa7, gbc.readMem(0xdee4));
        // C4 03C7
        gbc.setState(0xd983, 0xc9e6, 0x280, 0x9f42, 0xcc28, 0xe13, 0x1, 0x0);
        gbc.writeMem(0xd983, { 0xc4, 0x42, 0x55 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc9e6, gbc.sp());
        EXPECT(0xd986, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd983));
        EXPECT(0x42, gbc.readMem(0xd984));
        EXPECT(0x55, gbc.readMem(0xd985));
        // C4 03C8
        gbc.setState(0x7d1b, 0xcd39, 0x1b40, 0x2f61, 0xcb4b, 0x8a18, 0x1, 0x0);
        gbc.writeMem(0x7d1b, { 0xc4, 0x24, 0x26 });
        gbc.writeMem(0xcd37, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xcd37, gbc.sp());
        EXPECT(0x2624, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1e, gbc.readMem(0xcd37));
        EXPECT(0x7d, gbc.readMem(0xcd38));
        // C4 03C9
        gbc.setState(0x6a93, 0xcbf2, 0x610, 0x6c20, 0xec35, 0x34e4, 0x1, 0x1);
        gbc.writeMem(0x6a93, { 0xc4, 0x76, 0x4b });
        gbc.writeMem(0xcbf0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xcbf0, gbc.sp());
        EXPECT(0x4b76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x96, gbc.readMem(0xcbf0));
        EXPECT(0x6a, gbc.readMem(0xcbf1));
        // C4 03CA
        gbc.setState(0xcf57, 0xc6b2, 0x91e0, 0x36cb, 0xdd5d, 0x9a3e, 0x1, 0x0);
        gbc.writeMem(0xcf57, { 0xc4, 0xa1, 0x6e });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xc6b2, gbc.sp());
        EXPECT(0xcf5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcf57));
        EXPECT(0xa1, gbc.readMem(0xcf58));
        EXPECT(0x6e, gbc.readMem(0xcf59));
        // C4 03CB
        gbc.setState(0x389c, 0xbf1d, 0xeca0, 0xa525, 0xe32a, 0x5d87, 0x0, 0x1);
        gbc.writeMem(0x389c, { 0xc4, 0xe4, 0x41 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xbf1d, gbc.sp());
        EXPECT(0x389f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03CF
        gbc.setState(0x4099, 0xec69, 0x9250, 0xf3ce, 0xb86, 0x4db, 0x1, 0x0);
        gbc.writeMem(0x4099, { 0xc4, 0x78, 0x28 });
        gbc.writeMem(0xec67, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xec67, gbc.sp());
        EXPECT(0x2878, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9c, gbc.readMem(0xec67));
        EXPECT(0x40, gbc.readMem(0xec68));
        // C4 03D1
        gbc.setState(0x7c48, 0xaa0d, 0xf0c0, 0x2614, 0xa5e5, 0xe126, 0x1, 0x1);
        gbc.writeMem(0x7c48, { 0xc4, 0x8f, 0x16 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xaa0d, gbc.sp());
        EXPECT(0x7c4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03D2
        gbc.setState(0xc485, 0xf009, 0x5a0, 0x9a5f, 0xb813, 0x16d9, 0x1, 0x0);
        gbc.writeMem(0xc485, { 0xc4, 0x9e, 0xa0 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xf009, gbc.sp());
        EXPECT(0xc488, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc485));
        EXPECT(0x9e, gbc.readMem(0xc486));
        EXPECT(0xa0, gbc.readMem(0xc487));
        // C4 03D5
        gbc.setState(0x5101, 0x89b9, 0x1170, 0x7614, 0x5c1c, 0x4ff1, 0x0, 0x0);
        gbc.writeMem(0x5101, { 0xc4, 0xec, 0xbf });
        gbc.writeMem(0x89b7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x89b7, gbc.sp());
        EXPECT(0xbfec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4, gbc.readMem(0x89b7));
        EXPECT(0x51, gbc.readMem(0x89b8));
        // C4 03D6
        gbc.setState(0xd246, 0xb796, 0xb210, 0xfcdc, 0xedce, 0x77f2, 0x0, 0x0);
        gbc.writeMem(0xb794, { 0x0, 0x0 });
        gbc.writeMem(0xd246, { 0xc4, 0xdd, 0xeb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xb794, gbc.sp());
        EXPECT(0xebdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x49, gbc.readMem(0xb794));
        EXPECT(0xd2, gbc.readMem(0xb795));
        EXPECT(0xc4, gbc.readMem(0xd246));
        EXPECT(0xdd, gbc.readMem(0xd247));
        EXPECT(0xeb, gbc.readMem(0xd248));
        // C4 03D7
        gbc.setState(0xc164, 0xef31, 0xb240, 0x4841, 0x63e4, 0x5730, 0x0, 0x0);
        gbc.writeMem(0xc164, { 0xc4, 0x69, 0x5c });
        gbc.writeMem(0xef2f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xef2f, gbc.sp());
        EXPECT(0x5c69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xc164));
        EXPECT(0x69, gbc.readMem(0xc165));
        EXPECT(0x5c, gbc.readMem(0xc166));
        EXPECT(0x67, gbc.readMem(0xef2f));
        EXPECT(0xc1, gbc.readMem(0xef30));
        // C4 03D8
        gbc.setState(0xec38, 0xf590, 0x12b0, 0x5489, 0x4077, 0x4a3a, 0x1, 0x0);
        gbc.writeMem(0xec38, { 0xc4, 0xe0, 0x2b });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xf590, gbc.sp());
        EXPECT(0xec3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xec38));
        EXPECT(0xe0, gbc.readMem(0xec39));
        EXPECT(0x2b, gbc.readMem(0xec3a));
        // C4 03DB
        gbc.setState(0x371, 0xe075, 0xa730, 0x9fed, 0xd820, 0xe13b, 0x1, 0x1);
        gbc.writeMem(0x371, { 0xc4, 0xf3, 0x7 });
        gbc.writeMem(0xe073, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xe073, gbc.sp());
        EXPECT(0x7f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x74, gbc.readMem(0xe073));
        EXPECT(0x3, gbc.readMem(0xe074));
        // C4 03DD
        gbc.setState(0x6a72, 0xf773, 0x2ca0, 0x7b8, 0x9f0d, 0x9f89, 0x0, 0x1);
        gbc.writeMem(0x6a72, { 0xc4, 0x64, 0xc0 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xf773, gbc.sp());
        EXPECT(0x6a75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03DE
        gbc.setState(0xcc16, 0x90b1, 0x72d0, 0xc822, 0xea11, 0xe20e, 0x0, 0x0);
        gbc.writeMem(0xcc16, { 0xc4, 0x4f, 0xbb });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x90b1, gbc.sp());
        EXPECT(0xcc19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xcc16));
        EXPECT(0x4f, gbc.readMem(0xcc17));
        EXPECT(0xbb, gbc.readMem(0xcc18));
        // C4 03DF
        gbc.setState(0xd26b, 0x5216, 0x73c0, 0xe54d, 0x36b6, 0xd992, 0x0, 0x0);
        gbc.writeMem(0xd26b, { 0xc4, 0xd0, 0xe7 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5216, gbc.sp());
        EXPECT(0xd26e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd26b));
        EXPECT(0xd0, gbc.readMem(0xd26c));
        EXPECT(0xe7, gbc.readMem(0xd26d));
        // C4 03E0
        gbc.setState(0x468e, 0x4c20, 0x880, 0x4895, 0x3e23, 0x70b6, 0x0, 0x0);
        gbc.writeMem(0x468e, { 0xc4, 0x2f, 0x54 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x4c20, gbc.sp());
        EXPECT(0x4691, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03E2
        gbc.setState(0x78ea, 0xd513, 0x5750, 0x1ca5, 0x8bf1, 0xac91, 0x0, 0x0);
        gbc.writeMem(0x78ea, { 0xc4, 0xc1, 0xfc });
        gbc.writeMem(0xd511, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xd511, gbc.sp());
        EXPECT(0xfcc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xed, gbc.readMem(0xd511));
        EXPECT(0x78, gbc.readMem(0xd512));
        // C4 03E3
        gbc.setState(0xe035, 0xb91e, 0x5480, 0xab76, 0xc6a4, 0x888b, 0x0, 0x0);
        gbc.writeMem(0xe035, { 0xc4, 0xd6, 0x5c });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xb91e, gbc.sp());
        EXPECT(0xe038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xe035));
        EXPECT(0xd6, gbc.readMem(0xe036));
        EXPECT(0x5c, gbc.readMem(0xe037));
        // C4 03E4
        gbc.setState(0xd7d8, 0xc80a, 0x8250, 0xf80b, 0x5c5d, 0x5ef5, 0x0, 0x1);
        gbc.writeMem(0xc808, { 0x0, 0x0 });
        gbc.writeMem(0xd7d8, { 0xc4, 0xdf, 0xb0 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc808, gbc.sp());
        EXPECT(0xb0df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdb, gbc.readMem(0xc808));
        EXPECT(0xd7, gbc.readMem(0xc809));
        EXPECT(0xc4, gbc.readMem(0xd7d8));
        EXPECT(0xdf, gbc.readMem(0xd7d9));
        EXPECT(0xb0, gbc.readMem(0xd7da));
        // C4 03E5
        gbc.setState(0xb5e6, 0xa2f2, 0xa8f0, 0x432b, 0xae7b, 0x5e47, 0x1, 0x0);
        gbc.writeMem(0xb5e6, { 0xc4, 0x35, 0x27 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xa2f2, gbc.sp());
        EXPECT(0xb5e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb5e6));
        EXPECT(0x35, gbc.readMem(0xb5e7));
        EXPECT(0x27, gbc.readMem(0xb5e8));
        // C4 03E6
        gbc.setState(0xeb, 0x2844, 0xefc0, 0xbfa1, 0xd9d5, 0x2bf8, 0x1, 0x1);
        gbc.writeMem(0xeb, { 0xc4, 0x97, 0x84 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x2844, gbc.sp());
        EXPECT(0xee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // C4 03E7
        gbc.setState(0xd0b8, 0xe671, 0xaa40, 0x6fff, 0x76f6, 0x5433, 0x0, 0x1);
        gbc.writeMem(0xd0b8, { 0xc4, 0xa6, 0xdb });
        gbc.writeMem(0xe66f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe66f, gbc.sp());
        EXPECT(0xdba6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xd0b8));
        EXPECT(0xa6, gbc.readMem(0xd0b9));
        EXPECT(0xdb, gbc.readMem(0xd0ba));
        EXPECT(0xbb, gbc.readMem(0xe66f));
        EXPECT(0xd0, gbc.readMem(0xe670));
    }
