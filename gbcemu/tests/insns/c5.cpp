#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_c5)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_c5) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // C5 0006
        gbc.setState(0x9127, 0xc0b7, 0x9230, 0xa353, 0x1a56, 0x34bd, 0x1, 0x0);
        gbc.writeMem(0x9127, { 0xc5 });
        gbc.writeMem(0xc0b5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc0b5);
        EXPECT(gbc.pc(), 0x9128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9127), 0xc5);
        EXPECT(gbc.readMem(0xc0b5), 0x53);
        EXPECT(gbc.readMem(0xc0b6), 0xa3);
        // C5 0007
        gbc.setState(0x1578, 0xe19b, 0xba20, 0xff86, 0x1535, 0x87fb, 0x1, 0x0);
        gbc.writeMem(0x1578, { 0xc5 });
        gbc.writeMem(0xe199, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe199);
        EXPECT(gbc.pc(), 0x1579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe199), 0x86);
        EXPECT(gbc.readMem(0xe19a), 0xff);
        // C5 0008
        gbc.setState(0xbe5f, 0xfa52, 0x1010, 0xbdc7, 0x28f, 0x9d09, 0x1, 0x0);
        gbc.writeMem(0xbe5f, { 0xc5 });
        gbc.writeMem(0xfa50, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xfa50);
        EXPECT(gbc.pc(), 0xbe60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe5f), 0xc5);
        EXPECT(gbc.readMem(0xfa50), 0xc7);
        EXPECT(gbc.readMem(0xfa51), 0xbd);
        // C5 0009
        gbc.setState(0x9c85, 0xbc7b, 0xf030, 0xfc1f, 0x55ef, 0x285b, 0x0, 0x1);
        gbc.writeMem(0x9c85, { 0xc5 });
        gbc.writeMem(0xbc79, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbc79);
        EXPECT(gbc.pc(), 0x9c86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c85), 0xc5);
        EXPECT(gbc.readMem(0xbc79), 0x1f);
        EXPECT(gbc.readMem(0xbc7a), 0xfc);
        // C5 000B
        gbc.setState(0xebb0, 0xd624, 0xe100, 0x88a3, 0x235f, 0xb2f2, 0x0, 0x1);
        gbc.writeMem(0xd622, { 0x0, 0x0 });
        gbc.writeMem(0xebb0, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd622);
        EXPECT(gbc.pc(), 0xebb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd622), 0xa3);
        EXPECT(gbc.readMem(0xd623), 0x88);
        EXPECT(gbc.readMem(0xebb0), 0xc5);
        // C5 000F
        gbc.setState(0x3c0f, 0xb180, 0x7ac0, 0x17c6, 0xd56c, 0x5108, 0x0, 0x1);
        gbc.writeMem(0x3c0f, { 0xc5 });
        gbc.writeMem(0xb17e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb17e);
        EXPECT(gbc.pc(), 0x3c10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb17e), 0xc6);
        EXPECT(gbc.readMem(0xb17f), 0x17);
        // C5 0014
        gbc.setState(0xcc54, 0x81d7, 0x3660, 0xb62e, 0xcac3, 0x6116, 0x0, 0x1);
        gbc.writeMem(0x81d5, { 0x0, 0x0 });
        gbc.writeMem(0xcc54, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x81d5);
        EXPECT(gbc.pc(), 0xcc55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81d5), 0x2e);
        EXPECT(gbc.readMem(0x81d6), 0xb6);
        EXPECT(gbc.readMem(0xcc54), 0xc5);
        // C5 0016
        gbc.setState(0xac62, 0xfe6a, 0x5cd0, 0xa098, 0x1eef, 0x8f2c, 0x0, 0x0);
        gbc.writeMem(0xac62, { 0xc5 });
        gbc.writeMem(0xfe68, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfe68);
        EXPECT(gbc.pc(), 0xac63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac62), 0xc5);
        EXPECT(gbc.readMem(0xfe68), 0x98);
        EXPECT(gbc.readMem(0xfe69), 0xa0);
        // C5 0017
        gbc.setState(0x1f5d, 0xadd3, 0x9ac0, 0xc663, 0x4844, 0x3a3, 0x1, 0x1);
        gbc.writeMem(0x1f5d, { 0xc5 });
        gbc.writeMem(0xadd1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xadd1);
        EXPECT(gbc.pc(), 0x1f5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadd1), 0x63);
        EXPECT(gbc.readMem(0xadd2), 0xc6);
        // C5 001A
        gbc.setState(0x3b0f, 0xdf18, 0xead0, 0x362d, 0xf552, 0xc023, 0x0, 0x1);
        gbc.writeMem(0x3b0f, { 0xc5 });
        gbc.writeMem(0xdf16, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xdf16);
        EXPECT(gbc.pc(), 0x3b10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf16), 0x2d);
        EXPECT(gbc.readMem(0xdf17), 0x36);
        // C5 001C
        gbc.setState(0x1d45, 0xb467, 0x6b10, 0xdbf, 0xf25, 0xbbdb, 0x0, 0x0);
        gbc.writeMem(0x1d45, { 0xc5 });
        gbc.writeMem(0xb465, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xb465);
        EXPECT(gbc.pc(), 0x1d46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb465), 0xbf);
        EXPECT(gbc.readMem(0xb466), 0xd);
        // C5 0020
        gbc.setState(0xd6b9, 0x9126, 0x8180, 0xa1ff, 0xdcab, 0x1fc, 0x0, 0x1);
        gbc.writeMem(0x9124, { 0x0, 0x0 });
        gbc.writeMem(0xd6b9, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9124);
        EXPECT(gbc.pc(), 0xd6ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9124), 0xff);
        EXPECT(gbc.readMem(0x9125), 0xa1);
        EXPECT(gbc.readMem(0xd6b9), 0xc5);
        // C5 0021
        gbc.setState(0x70b8, 0xd5fb, 0x8430, 0xa88e, 0xd1b7, 0x460d, 0x0, 0x0);
        gbc.writeMem(0x70b8, { 0xc5 });
        gbc.writeMem(0xd5f9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd5f9);
        EXPECT(gbc.pc(), 0x70b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5f9), 0x8e);
        EXPECT(gbc.readMem(0xd5fa), 0xa8);
        // C5 0024
        gbc.setState(0x9549, 0x91ea, 0xb790, 0x5a58, 0x10dd, 0x2f44, 0x0, 0x0);
        gbc.writeMem(0x91e8, { 0x0, 0x0 });
        gbc.writeMem(0x9549, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x91e8);
        EXPECT(gbc.pc(), 0x954a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91e8), 0x58);
        EXPECT(gbc.readMem(0x91e9), 0x5a);
        EXPECT(gbc.readMem(0x9549), 0xc5);
        // C5 0025
        gbc.setState(0x706e, 0xa606, 0x5720, 0x9b07, 0x7052, 0x3ac2, 0x0, 0x0);
        gbc.writeMem(0x706e, { 0xc5 });
        gbc.writeMem(0xa604, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa604);
        EXPECT(gbc.pc(), 0x706f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa604), 0x7);
        EXPECT(gbc.readMem(0xa605), 0x9b);
        // C5 0026
        gbc.setState(0x74d0, 0xacb9, 0xf8f0, 0x6f54, 0x90a4, 0x8645, 0x0, 0x0);
        gbc.writeMem(0x74d0, { 0xc5 });
        gbc.writeMem(0xacb7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xacb7);
        EXPECT(gbc.pc(), 0x74d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacb7), 0x54);
        EXPECT(gbc.readMem(0xacb8), 0x6f);
        // C5 002C
        gbc.setState(0x295a, 0xa725, 0xe2b0, 0xf419, 0x1427, 0x82c2, 0x0, 0x0);
        gbc.writeMem(0x295a, { 0xc5 });
        gbc.writeMem(0xa723, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa723);
        EXPECT(gbc.pc(), 0x295b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa723), 0x19);
        EXPECT(gbc.readMem(0xa724), 0xf4);
        // C5 002D
        gbc.setState(0xb991, 0xfd63, 0xe790, 0x1a3c, 0x8ab4, 0xd6a, 0x0, 0x0);
        gbc.writeMem(0xb991, { 0xc5 });
        gbc.writeMem(0xfd61, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xfd61);
        EXPECT(gbc.pc(), 0xb992);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb991), 0xc5);
        EXPECT(gbc.readMem(0xfd61), 0x3c);
        EXPECT(gbc.readMem(0xfd62), 0x1a);
        // C5 0032
        gbc.setState(0x7ecf, 0xedd8, 0xb7b0, 0x1261, 0x4a66, 0xb21, 0x1, 0x1);
        gbc.writeMem(0x7ecf, { 0xc5 });
        gbc.writeMem(0xedd6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xedd6);
        EXPECT(gbc.pc(), 0x7ed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedd6), 0x61);
        EXPECT(gbc.readMem(0xedd7), 0x12);
        // C5 0033
        gbc.setState(0x7c3b, 0xbb1a, 0x6700, 0x9f02, 0xb2db, 0x6904, 0x1, 0x0);
        gbc.writeMem(0x7c3b, { 0xc5 });
        gbc.writeMem(0xbb18, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xbb18);
        EXPECT(gbc.pc(), 0x7c3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb18), 0x2);
        EXPECT(gbc.readMem(0xbb19), 0x9f);
        // C5 0034
        gbc.setState(0xb1f9, 0xbf8f, 0x6e80, 0x6808, 0x2209, 0x3350, 0x1, 0x0);
        gbc.writeMem(0xb1f9, { 0xc5 });
        gbc.writeMem(0xbf8d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xbf8d);
        EXPECT(gbc.pc(), 0xb1fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1f9), 0xc5);
        EXPECT(gbc.readMem(0xbf8d), 0x8);
        EXPECT(gbc.readMem(0xbf8e), 0x68);
        // C5 0035
        gbc.setState(0x8247, 0x9ac5, 0xf760, 0xd3ae, 0xd37, 0xb6e4, 0x0, 0x1);
        gbc.writeMem(0x8247, { 0xc5 });
        gbc.writeMem(0x9ac3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9ac3);
        EXPECT(gbc.pc(), 0x8248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8247), 0xc5);
        EXPECT(gbc.readMem(0x9ac3), 0xae);
        EXPECT(gbc.readMem(0x9ac4), 0xd3);
        // C5 0036
        gbc.setState(0x2ab8, 0xabc7, 0x7340, 0xb870, 0xf925, 0x2ce0, 0x0, 0x1);
        gbc.writeMem(0x2ab8, { 0xc5 });
        gbc.writeMem(0xabc5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xabc5);
        EXPECT(gbc.pc(), 0x2ab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabc5), 0x70);
        EXPECT(gbc.readMem(0xabc6), 0xb8);
        // C5 0037
        gbc.setState(0x5a40, 0xc5bc, 0x5900, 0x815e, 0x12f7, 0xed58, 0x1, 0x0);
        gbc.writeMem(0x5a40, { 0xc5 });
        gbc.writeMem(0xc5ba, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc5ba);
        EXPECT(gbc.pc(), 0x5a41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ba), 0x5e);
        EXPECT(gbc.readMem(0xc5bb), 0x81);
        // C5 0038
        gbc.setState(0xaf17, 0xdd97, 0x7080, 0xf8da, 0xc68c, 0xfbbc, 0x1, 0x0);
        gbc.writeMem(0xaf17, { 0xc5 });
        gbc.writeMem(0xdd95, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xdd95);
        EXPECT(gbc.pc(), 0xaf18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf17), 0xc5);
        EXPECT(gbc.readMem(0xdd95), 0xda);
        EXPECT(gbc.readMem(0xdd96), 0xf8);
        // C5 003F
        gbc.setState(0xaf86, 0x8930, 0xa840, 0x4475, 0x430b, 0xdacd, 0x0, 0x0);
        gbc.writeMem(0x892e, { 0x0, 0x0 });
        gbc.writeMem(0xaf86, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x892e);
        EXPECT(gbc.pc(), 0xaf87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x892e), 0x75);
        EXPECT(gbc.readMem(0x892f), 0x44);
        EXPECT(gbc.readMem(0xaf86), 0xc5);
        // C5 0040
        gbc.setState(0x3483, 0xbc83, 0x6c60, 0xc4ba, 0xe2c8, 0xe77, 0x0, 0x1);
        gbc.writeMem(0x3483, { 0xc5 });
        gbc.writeMem(0xbc81, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbc81);
        EXPECT(gbc.pc(), 0x3484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc81), 0xba);
        EXPECT(gbc.readMem(0xbc82), 0xc4);
        // C5 0046
        gbc.setState(0xec8c, 0x8c24, 0x8eb0, 0x9a7f, 0x21, 0x188a, 0x1, 0x0);
        gbc.writeMem(0x8c22, { 0x0, 0x0 });
        gbc.writeMem(0xec8c, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8c22);
        EXPECT(gbc.pc(), 0xec8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c22), 0x7f);
        EXPECT(gbc.readMem(0x8c23), 0x9a);
        EXPECT(gbc.readMem(0xec8c), 0xc5);
        // C5 004A
        gbc.setState(0x4da0, 0xa83f, 0x4380, 0xd6e7, 0x5c68, 0x50db, 0x0, 0x0);
        gbc.writeMem(0x4da0, { 0xc5 });
        gbc.writeMem(0xa83d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa83d);
        EXPECT(gbc.pc(), 0x4da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83d), 0xe7);
        EXPECT(gbc.readMem(0xa83e), 0xd6);
        // C5 004B
        gbc.setState(0x6edb, 0xd061, 0x3e30, 0x99cb, 0xfbbc, 0x2bd7, 0x1, 0x0);
        gbc.writeMem(0x6edb, { 0xc5 });
        gbc.writeMem(0xd05f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd05f);
        EXPECT(gbc.pc(), 0x6edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd05f), 0xcb);
        EXPECT(gbc.readMem(0xd060), 0x99);
        // C5 004C
        gbc.setState(0xe74, 0xc3c2, 0xb070, 0xdfb6, 0xd026, 0x47b, 0x0, 0x1);
        gbc.writeMem(0xe74, { 0xc5 });
        gbc.writeMem(0xc3c0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xc3c0);
        EXPECT(gbc.pc(), 0xe75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3c0), 0xb6);
        EXPECT(gbc.readMem(0xc3c1), 0xdf);
        // C5 004E
        gbc.setState(0x1f43, 0xfa22, 0x3dc0, 0xf165, 0x8d37, 0xb31b, 0x0, 0x0);
        gbc.writeMem(0x1f43, { 0xc5 });
        gbc.writeMem(0xfa20, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xfa20);
        EXPECT(gbc.pc(), 0x1f44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfa20), 0x65);
        EXPECT(gbc.readMem(0xfa21), 0xf1);
        // C5 004F
        gbc.setState(0xcdb7, 0xf4f7, 0x4110, 0x9c58, 0xee4c, 0x5adf, 0x0, 0x1);
        gbc.writeMem(0xcdb7, { 0xc5 });
        gbc.writeMem(0xf4f5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf4f5);
        EXPECT(gbc.pc(), 0xcdb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdb7), 0xc5);
        EXPECT(gbc.readMem(0xf4f5), 0x58);
        EXPECT(gbc.readMem(0xf4f6), 0x9c);
        // C5 0054
        gbc.setState(0x7d9f, 0xc77f, 0xf260, 0x8d69, 0xeeef, 0x9055, 0x1, 0x1);
        gbc.writeMem(0x7d9f, { 0xc5 });
        gbc.writeMem(0xc77d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc77d);
        EXPECT(gbc.pc(), 0x7da0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc77d), 0x69);
        EXPECT(gbc.readMem(0xc77e), 0x8d);
        // C5 0056
        gbc.setState(0x8f28, 0xb653, 0x7e40, 0xa041, 0xbe20, 0x3ce5, 0x1, 0x0);
        gbc.writeMem(0x8f28, { 0xc5 });
        gbc.writeMem(0xb651, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb651);
        EXPECT(gbc.pc(), 0x8f29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f28), 0xc5);
        EXPECT(gbc.readMem(0xb651), 0x41);
        EXPECT(gbc.readMem(0xb652), 0xa0);
        // C5 0057
        gbc.setState(0xb2a3, 0xe97d, 0xcc0, 0x8254, 0xfa08, 0x78a4, 0x1, 0x1);
        gbc.writeMem(0xb2a3, { 0xc5 });
        gbc.writeMem(0xe97b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe97b);
        EXPECT(gbc.pc(), 0xb2a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a3), 0xc5);
        EXPECT(gbc.readMem(0xe97b), 0x54);
        EXPECT(gbc.readMem(0xe97c), 0x82);
        // C5 005B
        gbc.setState(0x38af, 0xad98, 0x23d0, 0x9b55, 0x33b7, 0x2015, 0x1, 0x0);
        gbc.writeMem(0x38af, { 0xc5 });
        gbc.writeMem(0xad96, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xad96);
        EXPECT(gbc.pc(), 0x38b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad96), 0x55);
        EXPECT(gbc.readMem(0xad97), 0x9b);
        // C5 005C
        gbc.setState(0xd7cd, 0x8029, 0xea0, 0x8f0b, 0x179c, 0xc8e1, 0x1, 0x0);
        gbc.writeMem(0x8027, { 0x0, 0x0 });
        gbc.writeMem(0xd7cd, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8027);
        EXPECT(gbc.pc(), 0xd7ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8027), 0xb);
        EXPECT(gbc.readMem(0x8028), 0x8f);
        EXPECT(gbc.readMem(0xd7cd), 0xc5);
        // C5 005F
        gbc.setState(0xc655, 0xce78, 0x4720, 0x64a8, 0x4641, 0xc557, 0x1, 0x0);
        gbc.writeMem(0xc655, { 0xc5 });
        gbc.writeMem(0xce76, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xce76);
        EXPECT(gbc.pc(), 0xc656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc655), 0xc5);
        EXPECT(gbc.readMem(0xce76), 0xa8);
        EXPECT(gbc.readMem(0xce77), 0x64);
        // C5 0062
        gbc.setState(0x6e79, 0xcc03, 0x460, 0x60c6, 0xff1a, 0x35a1, 0x1, 0x1);
        gbc.writeMem(0x6e79, { 0xc5 });
        gbc.writeMem(0xcc01, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcc01);
        EXPECT(gbc.pc(), 0x6e7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc01), 0xc6);
        EXPECT(gbc.readMem(0xcc02), 0x60);
        // C5 0063
        gbc.setState(0xe9b3, 0xe66c, 0x50f0, 0x7c2e, 0xbb84, 0xf140, 0x0, 0x1);
        gbc.writeMem(0xe66a, { 0x0, 0x0 });
        gbc.writeMem(0xe9b3, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe66a);
        EXPECT(gbc.pc(), 0xe9b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe66a), 0x2e);
        EXPECT(gbc.readMem(0xe66b), 0x7c);
        EXPECT(gbc.readMem(0xe9b3), 0xc5);
        // C5 0065
        gbc.setState(0x5cba, 0xbd2e, 0xab80, 0x15ec, 0xdd36, 0x8602, 0x0, 0x0);
        gbc.writeMem(0x5cba, { 0xc5 });
        gbc.writeMem(0xbd2c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbd2c);
        EXPECT(gbc.pc(), 0x5cbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd2c), 0xec);
        EXPECT(gbc.readMem(0xbd2d), 0x15);
        // C5 0066
        gbc.setState(0x216d, 0xe8aa, 0x1a70, 0x3565, 0x188b, 0x5d60, 0x1, 0x0);
        gbc.writeMem(0x216d, { 0xc5 });
        gbc.writeMem(0xe8a8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe8a8);
        EXPECT(gbc.pc(), 0x216e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8a8), 0x65);
        EXPECT(gbc.readMem(0xe8a9), 0x35);
        // C5 006C
        gbc.setState(0x74a4, 0x8d2f, 0xafa0, 0xdfd4, 0x2ed9, 0x6ad8, 0x0, 0x1);
        gbc.writeMem(0x74a4, { 0xc5 });
        gbc.writeMem(0x8d2d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x8d2d);
        EXPECT(gbc.pc(), 0x74a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d2d), 0xd4);
        EXPECT(gbc.readMem(0x8d2e), 0xdf);
        // C5 0072
        gbc.setState(0x34d0, 0xf8be, 0xc5b0, 0xaf8c, 0x1ffa, 0x7e3d, 0x1, 0x1);
        gbc.writeMem(0x34d0, { 0xc5 });
        gbc.writeMem(0xf8bc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf8bc);
        EXPECT(gbc.pc(), 0x34d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf8bc), 0x8c);
        EXPECT(gbc.readMem(0xf8bd), 0xaf);
        // C5 0073
        gbc.setState(0xe6eb, 0x8192, 0xcdd0, 0xdb2e, 0xe110, 0x4a89, 0x1, 0x0);
        gbc.writeMem(0x8190, { 0x0, 0x0 });
        gbc.writeMem(0xe6eb, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8190);
        EXPECT(gbc.pc(), 0xe6ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8190), 0x2e);
        EXPECT(gbc.readMem(0x8191), 0xdb);
        EXPECT(gbc.readMem(0xe6eb), 0xc5);
        // C5 0074
        gbc.setState(0x308e, 0x9cd9, 0x1ad0, 0x6c41, 0x49a1, 0xfc18, 0x0, 0x1);
        gbc.writeMem(0x308e, { 0xc5 });
        gbc.writeMem(0x9cd7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9cd7);
        EXPECT(gbc.pc(), 0x308f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cd7), 0x41);
        EXPECT(gbc.readMem(0x9cd8), 0x6c);
        // C5 0078
        gbc.setState(0xca89, 0xbbf5, 0xebe0, 0x27d0, 0x5757, 0x8722, 0x1, 0x1);
        gbc.writeMem(0xbbf3, { 0x0, 0x0 });
        gbc.writeMem(0xca89, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xbbf3);
        EXPECT(gbc.pc(), 0xca8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbf3), 0xd0);
        EXPECT(gbc.readMem(0xbbf4), 0x27);
        EXPECT(gbc.readMem(0xca89), 0xc5);
        // C5 007A
        gbc.setState(0x2eca, 0xf729, 0x8b10, 0x867e, 0xade1, 0xb471, 0x0, 0x0);
        gbc.writeMem(0x2eca, { 0xc5 });
        gbc.writeMem(0xf727, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf727);
        EXPECT(gbc.pc(), 0x2ecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf727), 0x7e);
        EXPECT(gbc.readMem(0xf728), 0x86);
        // C5 007B
        gbc.setState(0xee79, 0xe548, 0xd750, 0x78f6, 0x631, 0x7ca8, 0x0, 0x1);
        gbc.writeMem(0xe546, { 0x0, 0x0 });
        gbc.writeMem(0xee79, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe546);
        EXPECT(gbc.pc(), 0xee7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe546), 0xf6);
        EXPECT(gbc.readMem(0xe547), 0x78);
        EXPECT(gbc.readMem(0xee79), 0xc5);
        // C5 007C
        gbc.setState(0xc25, 0xa578, 0x1a10, 0x66d4, 0x8b59, 0x7232, 0x0, 0x1);
        gbc.writeMem(0xc25, { 0xc5 });
        gbc.writeMem(0xa576, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xa576);
        EXPECT(gbc.pc(), 0xc26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa576), 0xd4);
        EXPECT(gbc.readMem(0xa577), 0x66);
        // C5 007E
        gbc.setState(0x9e27, 0xee76, 0xb410, 0x996, 0x4244, 0x83bb, 0x1, 0x0);
        gbc.writeMem(0x9e27, { 0xc5 });
        gbc.writeMem(0xee74, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xee74);
        EXPECT(gbc.pc(), 0x9e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e27), 0xc5);
        EXPECT(gbc.readMem(0xee74), 0x96);
        EXPECT(gbc.readMem(0xee75), 0x9);
        // C5 007F
        gbc.setState(0xfc1, 0xd5e3, 0xa90, 0xc529, 0x8f1, 0x7b70, 0x1, 0x0);
        gbc.writeMem(0xfc1, { 0xc5 });
        gbc.writeMem(0xd5e1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd5e1);
        EXPECT(gbc.pc(), 0xfc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5e1), 0x29);
        EXPECT(gbc.readMem(0xd5e2), 0xc5);
        // C5 0080
        gbc.setState(0x7d49, 0xaa9f, 0x8a60, 0x9289, 0x3745, 0x7f13, 0x1, 0x0);
        gbc.writeMem(0x7d49, { 0xc5 });
        gbc.writeMem(0xaa9d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xaa9d);
        EXPECT(gbc.pc(), 0x7d4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa9d), 0x89);
        EXPECT(gbc.readMem(0xaa9e), 0x92);
        // C5 0082
        gbc.setState(0x54ac, 0xf579, 0x8b90, 0xa24b, 0x89a, 0xa52a, 0x0, 0x0);
        gbc.writeMem(0x54ac, { 0xc5 });
        gbc.writeMem(0xf577, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf577);
        EXPECT(gbc.pc(), 0x54ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf577), 0x4b);
        EXPECT(gbc.readMem(0xf578), 0xa2);
        // C5 0083
        gbc.setState(0xd29, 0xecf1, 0x4db0, 0x4aa5, 0xb7ed, 0x7411, 0x1, 0x0);
        gbc.writeMem(0xd29, { 0xc5 });
        gbc.writeMem(0xecef, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xecef);
        EXPECT(gbc.pc(), 0xd2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecef), 0xa5);
        EXPECT(gbc.readMem(0xecf0), 0x4a);
        // C5 0087
        gbc.setState(0xe70d, 0xafa8, 0x7b90, 0x92b6, 0x518d, 0x774, 0x0, 0x0);
        gbc.writeMem(0xafa6, { 0x0, 0x0 });
        gbc.writeMem(0xe70d, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xafa6);
        EXPECT(gbc.pc(), 0xe70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafa6), 0xb6);
        EXPECT(gbc.readMem(0xafa7), 0x92);
        EXPECT(gbc.readMem(0xe70d), 0xc5);
        // C5 008A
        gbc.setState(0x3d6b, 0xf41b, 0x7140, 0x1fbb, 0x19c6, 0x2191, 0x1, 0x0);
        gbc.writeMem(0x3d6b, { 0xc5 });
        gbc.writeMem(0xf419, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf419);
        EXPECT(gbc.pc(), 0x3d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf419), 0xbb);
        EXPECT(gbc.readMem(0xf41a), 0x1f);
        // C5 008C
        gbc.setState(0x3b2, 0x8499, 0xf600, 0x14de, 0x5176, 0xdb5f, 0x1, 0x1);
        gbc.writeMem(0x3b2, { 0xc5 });
        gbc.writeMem(0x8497, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8497);
        EXPECT(gbc.pc(), 0x3b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8497), 0xde);
        EXPECT(gbc.readMem(0x8498), 0x14);
        // C5 0091
        gbc.setState(0x70a6, 0xcb83, 0xafd0, 0xa557, 0x2e2c, 0xd086, 0x0, 0x0);
        gbc.writeMem(0x70a6, { 0xc5 });
        gbc.writeMem(0xcb81, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xcb81);
        EXPECT(gbc.pc(), 0x70a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb81), 0x57);
        EXPECT(gbc.readMem(0xcb82), 0xa5);
        // C5 0092
        gbc.setState(0x1f8b, 0xf625, 0xb850, 0x58cc, 0x9b4a, 0x4762, 0x0, 0x0);
        gbc.writeMem(0x1f8b, { 0xc5 });
        gbc.writeMem(0xf623, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf623);
        EXPECT(gbc.pc(), 0x1f8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf623), 0xcc);
        EXPECT(gbc.readMem(0xf624), 0x58);
        // C5 0093
        gbc.setState(0x7e98, 0xcf40, 0x6e30, 0x3660, 0x5e3f, 0x82d6, 0x1, 0x1);
        gbc.writeMem(0x7e98, { 0xc5 });
        gbc.writeMem(0xcf3e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xcf3e);
        EXPECT(gbc.pc(), 0x7e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf3e), 0x60);
        EXPECT(gbc.readMem(0xcf3f), 0x36);
        // C5 0097
        gbc.setState(0x5350, 0x8fe1, 0xb0c0, 0x80c8, 0x49e3, 0x456, 0x1, 0x1);
        gbc.writeMem(0x5350, { 0xc5 });
        gbc.writeMem(0x8fdf, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8fdf);
        EXPECT(gbc.pc(), 0x5351);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fdf), 0xc8);
        EXPECT(gbc.readMem(0x8fe0), 0x80);
        // C5 0098
        gbc.setState(0x5ec2, 0xef23, 0xf2b0, 0x5f7b, 0xdb03, 0x9a54, 0x1, 0x0);
        gbc.writeMem(0x5ec2, { 0xc5 });
        gbc.writeMem(0xef21, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xef21);
        EXPECT(gbc.pc(), 0x5ec3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef21), 0x7b);
        EXPECT(gbc.readMem(0xef22), 0x5f);
        // C5 0099
        gbc.setState(0x7cd9, 0xff1f, 0xf3f0, 0xa433, 0x7d06, 0xdd7a, 0x0, 0x1);
        gbc.writeMem(0x7cd9, { 0xc5 });
        gbc.writeMem(0xff1d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xff1d);
        EXPECT(gbc.pc(), 0x7cda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xff1d), 0x33);
        EXPECT(gbc.readMem(0xff1e), 0xa4);
        // C5 009B
        gbc.setState(0x7186, 0xe34a, 0x1d40, 0x3714, 0x3f02, 0xe750, 0x0, 0x1);
        gbc.writeMem(0x7186, { 0xc5 });
        gbc.writeMem(0xe348, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe348);
        EXPECT(gbc.pc(), 0x7187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe348), 0x14);
        EXPECT(gbc.readMem(0xe349), 0x37);
        // C5 009E
        gbc.setState(0x3399, 0x8a7b, 0xbac0, 0x6e19, 0xc29e, 0x7f67, 0x1, 0x0);
        gbc.writeMem(0x3399, { 0xc5 });
        gbc.writeMem(0x8a79, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x8a79);
        EXPECT(gbc.pc(), 0x339a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a79), 0x19);
        EXPECT(gbc.readMem(0x8a7a), 0x6e);
        // C5 009F
        gbc.setState(0x2ebc, 0xdbe8, 0x71b0, 0x4055, 0x4832, 0x8c90, 0x0, 0x0);
        gbc.writeMem(0x2ebc, { 0xc5 });
        gbc.writeMem(0xdbe6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xdbe6);
        EXPECT(gbc.pc(), 0x2ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe6), 0x55);
        EXPECT(gbc.readMem(0xdbe7), 0x40);
        // C5 00A2
        gbc.setState(0x63c8, 0xf399, 0x5c90, 0x7275, 0xa406, 0x86b4, 0x0, 0x0);
        gbc.writeMem(0x63c8, { 0xc5 });
        gbc.writeMem(0xf397, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf397);
        EXPECT(gbc.pc(), 0x63c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf397), 0x75);
        EXPECT(gbc.readMem(0xf398), 0x72);
        // C5 00A4
        gbc.setState(0x2e57, 0xd1b4, 0x1830, 0x4abb, 0x6749, 0x623d, 0x1, 0x0);
        gbc.writeMem(0x2e57, { 0xc5 });
        gbc.writeMem(0xd1b2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd1b2);
        EXPECT(gbc.pc(), 0x2e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1b2), 0xbb);
        EXPECT(gbc.readMem(0xd1b3), 0x4a);
        // C5 00A6
        gbc.setState(0x655, 0xc544, 0xc560, 0x1718, 0x5166, 0x9aad, 0x0, 0x0);
        gbc.writeMem(0x655, { 0xc5 });
        gbc.writeMem(0xc542, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc542);
        EXPECT(gbc.pc(), 0x656);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc542), 0x18);
        EXPECT(gbc.readMem(0xc543), 0x17);
        // C5 00AB
        gbc.setState(0x6c6e, 0xe08e, 0xb8c0, 0xc865, 0x19e8, 0xcb11, 0x1, 0x0);
        gbc.writeMem(0x6c6e, { 0xc5 });
        gbc.writeMem(0xe08c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe08c);
        EXPECT(gbc.pc(), 0x6c6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe08c), 0x65);
        EXPECT(gbc.readMem(0xe08d), 0xc8);
        // C5 00AD
        gbc.setState(0xe186, 0x8639, 0x4a40, 0x95cb, 0x2184, 0xa1e2, 0x1, 0x1);
        gbc.writeMem(0x8637, { 0x0, 0x0 });
        gbc.writeMem(0xe186, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8637);
        EXPECT(gbc.pc(), 0xe187);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8637), 0xcb);
        EXPECT(gbc.readMem(0x8638), 0x95);
        EXPECT(gbc.readMem(0xe186), 0xc5);
        // C5 00AF
        gbc.setState(0xce40, 0xd30f, 0xebb0, 0x516b, 0x6d37, 0xe352, 0x0, 0x1);
        gbc.writeMem(0xce40, { 0xc5 });
        gbc.writeMem(0xd30d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd30d);
        EXPECT(gbc.pc(), 0xce41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce40), 0xc5);
        EXPECT(gbc.readMem(0xd30d), 0x6b);
        EXPECT(gbc.readMem(0xd30e), 0x51);
        // C5 00B0
        gbc.setState(0xda33, 0xc478, 0xa000, 0x16e1, 0xcba6, 0x8ebe, 0x1, 0x1);
        gbc.writeMem(0xc476, { 0x0, 0x0 });
        gbc.writeMem(0xda33, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc476);
        EXPECT(gbc.pc(), 0xda34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc476), 0xe1);
        EXPECT(gbc.readMem(0xc477), 0x16);
        EXPECT(gbc.readMem(0xda33), 0xc5);
        // C5 00B3
        gbc.setState(0x54dd, 0xe06e, 0xb1d0, 0xec0b, 0x6f34, 0x8543, 0x1, 0x1);
        gbc.writeMem(0x54dd, { 0xc5 });
        gbc.writeMem(0xe06c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe06c);
        EXPECT(gbc.pc(), 0x54de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe06c), 0xb);
        EXPECT(gbc.readMem(0xe06d), 0xec);
        // C5 00B4
        gbc.setState(0x69b5, 0xcbf3, 0x46c0, 0x7463, 0x4fc9, 0x1538, 0x1, 0x0);
        gbc.writeMem(0x69b5, { 0xc5 });
        gbc.writeMem(0xcbf1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xcbf1);
        EXPECT(gbc.pc(), 0x69b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf1), 0x63);
        EXPECT(gbc.readMem(0xcbf2), 0x74);
        // C5 00B5
        gbc.setState(0xda93, 0x971f, 0x61d0, 0x8d16, 0x6543, 0x511b, 0x0, 0x1);
        gbc.writeMem(0x971d, { 0x0, 0x0 });
        gbc.writeMem(0xda93, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x971d);
        EXPECT(gbc.pc(), 0xda94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971d), 0x16);
        EXPECT(gbc.readMem(0x971e), 0x8d);
        EXPECT(gbc.readMem(0xda93), 0xc5);
        // C5 00B6
        gbc.setState(0x3ce6, 0xfc35, 0xf5e0, 0x7da2, 0x7457, 0xf76, 0x1, 0x1);
        gbc.writeMem(0x3ce6, { 0xc5 });
        gbc.writeMem(0xfc33, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xfc33);
        EXPECT(gbc.pc(), 0x3ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfc33), 0xa2);
        EXPECT(gbc.readMem(0xfc34), 0x7d);
        // C5 00B7
        gbc.setState(0x77b6, 0x9d6d, 0xabc0, 0x93, 0xf812, 0xae44, 0x1, 0x1);
        gbc.writeMem(0x77b6, { 0xc5 });
        gbc.writeMem(0x9d6b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9d6b);
        EXPECT(gbc.pc(), 0x77b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d6b), 0x93);
        EXPECT(gbc.readMem(0x9d6c), 0x0);
        // C5 00B8
        gbc.setState(0x2746, 0xc0c3, 0xc100, 0xade8, 0x82b9, 0xd7e6, 0x1, 0x0);
        gbc.writeMem(0x2746, { 0xc5 });
        gbc.writeMem(0xc0c1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc0c1);
        EXPECT(gbc.pc(), 0x2747);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0c1), 0xe8);
        EXPECT(gbc.readMem(0xc0c2), 0xad);
        // C5 00B9
        gbc.setState(0x570c, 0xd972, 0xe680, 0x78f7, 0x180e, 0xbf42, 0x1, 0x1);
        gbc.writeMem(0x570c, { 0xc5 });
        gbc.writeMem(0xd970, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd970);
        EXPECT(gbc.pc(), 0x570d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd970), 0xf7);
        EXPECT(gbc.readMem(0xd971), 0x78);
        // C5 00BB
        gbc.setState(0x78f8, 0xfef8, 0x66a0, 0xebed, 0x72a0, 0x8cd3, 0x0, 0x0);
        gbc.writeMem(0x78f8, { 0xc5 });
        gbc.writeMem(0xfef6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xfef6);
        EXPECT(gbc.pc(), 0x78f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfef6), 0xed);
        EXPECT(gbc.readMem(0xfef7), 0xeb);
        // C5 00BC
        gbc.setState(0x967b, 0xfb7b, 0xd5e0, 0x676b, 0x5fb8, 0x8e8e, 0x0, 0x0);
        gbc.writeMem(0x967b, { 0xc5 });
        gbc.writeMem(0xfb79, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xfb79);
        EXPECT(gbc.pc(), 0x967c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x967b), 0xc5);
        EXPECT(gbc.readMem(0xfb79), 0x6b);
        EXPECT(gbc.readMem(0xfb7a), 0x67);
        // C5 00BF
        gbc.setState(0xb1ff, 0x9822, 0x2a90, 0x6b45, 0x4187, 0x9405, 0x1, 0x1);
        gbc.writeMem(0x9820, { 0x0, 0x0 });
        gbc.writeMem(0xb1ff, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9820);
        EXPECT(gbc.pc(), 0xb200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9820), 0x45);
        EXPECT(gbc.readMem(0x9821), 0x6b);
        EXPECT(gbc.readMem(0xb1ff), 0xc5);
        // C5 00C0
        gbc.setState(0x4ce1, 0x8bcf, 0xba90, 0x5233, 0x947b, 0x6530, 0x1, 0x0);
        gbc.writeMem(0x4ce1, { 0xc5 });
        gbc.writeMem(0x8bcd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8bcd);
        EXPECT(gbc.pc(), 0x4ce2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bcd), 0x33);
        EXPECT(gbc.readMem(0x8bce), 0x52);
        // C5 00C1
        gbc.setState(0x69cd, 0xd646, 0x25c0, 0x989c, 0xda67, 0xb4c8, 0x1, 0x1);
        gbc.writeMem(0x69cd, { 0xc5 });
        gbc.writeMem(0xd644, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd644);
        EXPECT(gbc.pc(), 0x69ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd644), 0x9c);
        EXPECT(gbc.readMem(0xd645), 0x98);
        // C5 00C2
        gbc.setState(0x2ad4, 0x8592, 0x5070, 0xaccc, 0xec82, 0x555c, 0x0, 0x0);
        gbc.writeMem(0x2ad4, { 0xc5 });
        gbc.writeMem(0x8590, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8590);
        EXPECT(gbc.pc(), 0x2ad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8590), 0xcc);
        EXPECT(gbc.readMem(0x8591), 0xac);
        // C5 00C3
        gbc.setState(0x4acc, 0xb62a, 0x590, 0x5253, 0xf8af, 0xf089, 0x1, 0x0);
        gbc.writeMem(0x4acc, { 0xc5 });
        gbc.writeMem(0xb628, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb628);
        EXPECT(gbc.pc(), 0x4acd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb628), 0x53);
        EXPECT(gbc.readMem(0xb629), 0x52);
        // C5 00C9
        gbc.setState(0x3312, 0x9d19, 0xd360, 0x50e, 0xeddd, 0x879, 0x1, 0x1);
        gbc.writeMem(0x3312, { 0xc5 });
        gbc.writeMem(0x9d17, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9d17);
        EXPECT(gbc.pc(), 0x3313);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d17), 0xe);
        EXPECT(gbc.readMem(0x9d18), 0x5);
        // C5 00CB
        gbc.setState(0x2164, 0xe66f, 0xf060, 0x6946, 0x7fa5, 0xcb1e, 0x0, 0x0);
        gbc.writeMem(0x2164, { 0xc5 });
        gbc.writeMem(0xe66d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe66d);
        EXPECT(gbc.pc(), 0x2165);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe66d), 0x46);
        EXPECT(gbc.readMem(0xe66e), 0x69);
        // C5 00CF
        gbc.setState(0x2f41, 0xaa68, 0x4db0, 0xacd9, 0xa2f2, 0xd376, 0x0, 0x0);
        gbc.writeMem(0x2f41, { 0xc5 });
        gbc.writeMem(0xaa66, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xaa66);
        EXPECT(gbc.pc(), 0x2f42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa66), 0xd9);
        EXPECT(gbc.readMem(0xaa67), 0xac);
        // C5 00D6
        gbc.setState(0xa3, 0x9133, 0x30, 0xa2a7, 0xf797, 0xbd1d, 0x0, 0x0);
        gbc.writeMem(0xa3, { 0xc5 });
        gbc.writeMem(0x9131, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9131);
        EXPECT(gbc.pc(), 0xa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9131), 0xa7);
        EXPECT(gbc.readMem(0x9132), 0xa2);
        // C5 00DB
        gbc.setState(0x1dae, 0xfb3f, 0x9180, 0xe22f, 0x4b4d, 0xf867, 0x0, 0x1);
        gbc.writeMem(0x1dae, { 0xc5 });
        gbc.writeMem(0xfb3d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xfb3d);
        EXPECT(gbc.pc(), 0x1daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfb3d), 0x2f);
        EXPECT(gbc.readMem(0xfb3e), 0xe2);
        // C5 00DC
        gbc.setState(0x78c1, 0xab96, 0x130, 0xbba1, 0xcb6d, 0xa7f7, 0x0, 0x0);
        gbc.writeMem(0x78c1, { 0xc5 });
        gbc.writeMem(0xab94, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xab94);
        EXPECT(gbc.pc(), 0x78c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab94), 0xa1);
        EXPECT(gbc.readMem(0xab95), 0xbb);
        // C5 00DE
        gbc.setState(0xb770, 0xdd21, 0x3820, 0x4c5e, 0xe965, 0xd1c6, 0x0, 0x0);
        gbc.writeMem(0xb770, { 0xc5 });
        gbc.writeMem(0xdd1f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdd1f);
        EXPECT(gbc.pc(), 0xb771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb770), 0xc5);
        EXPECT(gbc.readMem(0xdd1f), 0x5e);
        EXPECT(gbc.readMem(0xdd20), 0x4c);
        // C5 00E1
        gbc.setState(0xb9d8, 0xe619, 0x9470, 0x3e8b, 0xed18, 0xeaf0, 0x0, 0x1);
        gbc.writeMem(0xb9d8, { 0xc5 });
        gbc.writeMem(0xe617, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe617);
        EXPECT(gbc.pc(), 0xb9d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9d8), 0xc5);
        EXPECT(gbc.readMem(0xe617), 0x8b);
        EXPECT(gbc.readMem(0xe618), 0x3e);
        // C5 00E2
        gbc.setState(0xda27, 0xde65, 0x43c0, 0x73a, 0xe27e, 0xb311, 0x1, 0x1);
        gbc.writeMem(0xda27, { 0xc5 });
        gbc.writeMem(0xde63, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xde63);
        EXPECT(gbc.pc(), 0xda28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda27), 0xc5);
        EXPECT(gbc.readMem(0xde63), 0x3a);
        EXPECT(gbc.readMem(0xde64), 0x7);
        // C5 00E4
        gbc.setState(0x6784, 0xac89, 0xfc30, 0x43d6, 0x8eca, 0xb9b, 0x0, 0x1);
        gbc.writeMem(0x6784, { 0xc5 });
        gbc.writeMem(0xac87, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xac87);
        EXPECT(gbc.pc(), 0x6785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac87), 0xd6);
        EXPECT(gbc.readMem(0xac88), 0x43);
        // C5 00E6
        gbc.setState(0x286f, 0xce9b, 0x63d0, 0xb3, 0xebdd, 0x2f9b, 0x0, 0x1);
        gbc.writeMem(0x286f, { 0xc5 });
        gbc.writeMem(0xce99, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xce99);
        EXPECT(gbc.pc(), 0x2870);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce99), 0xb3);
        EXPECT(gbc.readMem(0xce9a), 0x0);
        // C5 00E7
        gbc.setState(0x3e35, 0x84ae, 0x4d0, 0xd0f3, 0x7e56, 0xac99, 0x1, 0x1);
        gbc.writeMem(0x3e35, { 0xc5 });
        gbc.writeMem(0x84ac, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x84ac);
        EXPECT(gbc.pc(), 0x3e36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ac), 0xf3);
        EXPECT(gbc.readMem(0x84ad), 0xd0);
        // C5 00E8
        gbc.setState(0x1142, 0xbc40, 0x3980, 0x2c10, 0xe8cf, 0x2fa2, 0x0, 0x0);
        gbc.writeMem(0x1142, { 0xc5 });
        gbc.writeMem(0xbc3e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbc3e);
        EXPECT(gbc.pc(), 0x1143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc3e), 0x10);
        EXPECT(gbc.readMem(0xbc3f), 0x2c);
        // C5 00E9
        gbc.setState(0xc114, 0xa8a1, 0x26d0, 0xd9f3, 0xe78c, 0xcfe, 0x1, 0x0);
        gbc.writeMem(0xa89f, { 0x0, 0x0 });
        gbc.writeMem(0xc114, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa89f);
        EXPECT(gbc.pc(), 0xc115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa89f), 0xf3);
        EXPECT(gbc.readMem(0xa8a0), 0xd9);
        EXPECT(gbc.readMem(0xc114), 0xc5);
        // C5 00EB
        gbc.setState(0x50a6, 0x9ee7, 0xf700, 0xeec3, 0xa305, 0x3a77, 0x1, 0x1);
        gbc.writeMem(0x50a6, { 0xc5 });
        gbc.writeMem(0x9ee5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x9ee5);
        EXPECT(gbc.pc(), 0x50a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee5), 0xc3);
        EXPECT(gbc.readMem(0x9ee6), 0xee);
        // C5 00ED
        gbc.setState(0x7ea, 0xba22, 0xb930, 0x990, 0x6dc2, 0x925d, 0x0, 0x0);
        gbc.writeMem(0x7ea, { 0xc5 });
        gbc.writeMem(0xba20, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xba20);
        EXPECT(gbc.pc(), 0x7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba20), 0x90);
        EXPECT(gbc.readMem(0xba21), 0x9);
        // C5 00EE
        gbc.setState(0x8653, 0x9b91, 0xc510, 0x34d7, 0x9724, 0xcb43, 0x0, 0x0);
        gbc.writeMem(0x8653, { 0xc5 });
        gbc.writeMem(0x9b8f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9b8f);
        EXPECT(gbc.pc(), 0x8654);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8653), 0xc5);
        EXPECT(gbc.readMem(0x9b8f), 0xd7);
        EXPECT(gbc.readMem(0x9b90), 0x34);
        // C5 00EF
        gbc.setState(0xec9b, 0x856f, 0x2480, 0x7751, 0x794f, 0xc4be, 0x0, 0x1);
        gbc.writeMem(0x856d, { 0x0, 0x0 });
        gbc.writeMem(0xec9b, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x856d);
        EXPECT(gbc.pc(), 0xec9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x856d), 0x51);
        EXPECT(gbc.readMem(0x856e), 0x77);
        EXPECT(gbc.readMem(0xec9b), 0xc5);
        // C5 00F0
        gbc.setState(0xcbfb, 0x9fc0, 0xfbb0, 0xde98, 0xe30c, 0xda2b, 0x1, 0x1);
        gbc.writeMem(0x9fbe, { 0x0, 0x0 });
        gbc.writeMem(0xcbfb, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9fbe);
        EXPECT(gbc.pc(), 0xcbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fbe), 0x98);
        EXPECT(gbc.readMem(0x9fbf), 0xde);
        EXPECT(gbc.readMem(0xcbfb), 0xc5);
        // C5 00F3
        gbc.setState(0x307c, 0xbdb4, 0xacf0, 0x5c8b, 0x77b2, 0xc6cf, 0x0, 0x0);
        gbc.writeMem(0x307c, { 0xc5 });
        gbc.writeMem(0xbdb2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xbdb2);
        EXPECT(gbc.pc(), 0x307d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdb2), 0x8b);
        EXPECT(gbc.readMem(0xbdb3), 0x5c);
        // C5 00F4
        gbc.setState(0x7f66, 0xdb2f, 0x91b0, 0x9596, 0x9779, 0x7cc6, 0x0, 0x0);
        gbc.writeMem(0x7f66, { 0xc5 });
        gbc.writeMem(0xdb2d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xdb2d);
        EXPECT(gbc.pc(), 0x7f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb2d), 0x96);
        EXPECT(gbc.readMem(0xdb2e), 0x95);
        // C5 00F5
        gbc.setState(0xa0b6, 0x9734, 0xe5c0, 0x464e, 0x222a, 0xc1ac, 0x1, 0x1);
        gbc.writeMem(0x9732, { 0x0, 0x0 });
        gbc.writeMem(0xa0b6, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9732);
        EXPECT(gbc.pc(), 0xa0b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9732), 0x4e);
        EXPECT(gbc.readMem(0x9733), 0x46);
        EXPECT(gbc.readMem(0xa0b6), 0xc5);
        // C5 00F6
        gbc.setState(0xb0f1, 0xdce2, 0x25d0, 0x2d58, 0xd933, 0xf49, 0x1, 0x0);
        gbc.writeMem(0xb0f1, { 0xc5 });
        gbc.writeMem(0xdce0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xdce0);
        EXPECT(gbc.pc(), 0xb0f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0f1), 0xc5);
        EXPECT(gbc.readMem(0xdce0), 0x58);
        EXPECT(gbc.readMem(0xdce1), 0x2d);
        // C5 00FB
        gbc.setState(0x2bc0, 0xf85f, 0xc5d0, 0x193c, 0xac9b, 0x3491, 0x1, 0x1);
        gbc.writeMem(0x2bc0, { 0xc5 });
        gbc.writeMem(0xf85d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf85d);
        EXPECT(gbc.pc(), 0x2bc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf85d), 0x3c);
        EXPECT(gbc.readMem(0xf85e), 0x19);
        // C5 00FC
        gbc.setState(0xc1aa, 0x888b, 0xcc00, 0x62ca, 0x22e6, 0x44d0, 0x1, 0x0);
        gbc.writeMem(0x8889, { 0x0, 0x0 });
        gbc.writeMem(0xc1aa, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8889);
        EXPECT(gbc.pc(), 0xc1ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8889), 0xca);
        EXPECT(gbc.readMem(0x888a), 0x62);
        EXPECT(gbc.readMem(0xc1aa), 0xc5);
        // C5 00FE
        gbc.setState(0x537b, 0xc79e, 0x4160, 0x10cc, 0x34d3, 0x4406, 0x0, 0x1);
        gbc.writeMem(0x537b, { 0xc5 });
        gbc.writeMem(0xc79c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xc79c);
        EXPECT(gbc.pc(), 0x537c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc79c), 0xcc);
        EXPECT(gbc.readMem(0xc79d), 0x10);
        // C5 00FF
        gbc.setState(0x8120, 0x8d70, 0x4a10, 0xa305, 0x1c0b, 0x92b8, 0x0, 0x1);
        gbc.writeMem(0x8120, { 0xc5 });
        gbc.writeMem(0x8d6e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8d6e);
        EXPECT(gbc.pc(), 0x8121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8120), 0xc5);
        EXPECT(gbc.readMem(0x8d6e), 0x5);
        EXPECT(gbc.readMem(0x8d6f), 0xa3);
        // C5 0101
        gbc.setState(0x345a, 0xb723, 0x5a30, 0x2fa1, 0xd6f3, 0x9a70, 0x1, 0x1);
        gbc.writeMem(0x345a, { 0xc5 });
        gbc.writeMem(0xb721, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb721);
        EXPECT(gbc.pc(), 0x345b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb721), 0xa1);
        EXPECT(gbc.readMem(0xb722), 0x2f);
        // C5 0102
        gbc.setState(0xca71, 0xe7ba, 0xe020, 0x818d, 0xd986, 0x1788, 0x0, 0x0);
        gbc.writeMem(0xca71, { 0xc5 });
        gbc.writeMem(0xe7b8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe7b8);
        EXPECT(gbc.pc(), 0xca72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca71), 0xc5);
        EXPECT(gbc.readMem(0xe7b8), 0x8d);
        EXPECT(gbc.readMem(0xe7b9), 0x81);
        // C5 0106
        gbc.setState(0x4534, 0xef19, 0x7c0, 0xe332, 0xbee, 0xe278, 0x1, 0x0);
        gbc.writeMem(0x4534, { 0xc5 });
        gbc.writeMem(0xef17, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xef17);
        EXPECT(gbc.pc(), 0x4535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef17), 0x32);
        EXPECT(gbc.readMem(0xef18), 0xe3);
        // C5 0107
        gbc.setState(0x2442, 0xa06f, 0xa7c0, 0xe82c, 0xc624, 0x2a18, 0x1, 0x1);
        gbc.writeMem(0x2442, { 0xc5 });
        gbc.writeMem(0xa06d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa06d);
        EXPECT(gbc.pc(), 0x2443);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa06d), 0x2c);
        EXPECT(gbc.readMem(0xa06e), 0xe8);
        // C5 0109
        gbc.setState(0x67b0, 0xd8b6, 0x7910, 0xe88e, 0xbc2a, 0x1028, 0x0, 0x0);
        gbc.writeMem(0x67b0, { 0xc5 });
        gbc.writeMem(0xd8b4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd8b4);
        EXPECT(gbc.pc(), 0x67b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8b4), 0x8e);
        EXPECT(gbc.readMem(0xd8b5), 0xe8);
        // C5 010B
        gbc.setState(0xb640, 0xb7d5, 0xfe0, 0x9fea, 0x53ec, 0xf8fe, 0x0, 0x0);
        gbc.writeMem(0xb640, { 0xc5 });
        gbc.writeMem(0xb7d3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb7d3);
        EXPECT(gbc.pc(), 0xb641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb640), 0xc5);
        EXPECT(gbc.readMem(0xb7d3), 0xea);
        EXPECT(gbc.readMem(0xb7d4), 0x9f);
        // C5 010C
        gbc.setState(0x62a4, 0x9518, 0xf1a0, 0xa7f, 0x1433, 0xa9e4, 0x0, 0x0);
        gbc.writeMem(0x62a4, { 0xc5 });
        gbc.writeMem(0x9516, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9516);
        EXPECT(gbc.pc(), 0x62a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9516), 0x7f);
        EXPECT(gbc.readMem(0x9517), 0xa);
        // C5 010D
        gbc.setState(0xb67b, 0xe735, 0x1950, 0x2162, 0x3ea8, 0xac4, 0x0, 0x0);
        gbc.writeMem(0xb67b, { 0xc5 });
        gbc.writeMem(0xe733, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe733);
        EXPECT(gbc.pc(), 0xb67c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb67b), 0xc5);
        EXPECT(gbc.readMem(0xe733), 0x62);
        EXPECT(gbc.readMem(0xe734), 0x21);
        // C5 010E
        gbc.setState(0x6890, 0xeea0, 0xfa70, 0x8909, 0x542e, 0x1a15, 0x1, 0x1);
        gbc.writeMem(0x6890, { 0xc5 });
        gbc.writeMem(0xee9e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xee9e);
        EXPECT(gbc.pc(), 0x6891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee9e), 0x9);
        EXPECT(gbc.readMem(0xee9f), 0x89);
        // C5 010F
        gbc.setState(0xf6f, 0xbbae, 0xc20, 0x3db4, 0x3413, 0x953, 0x0, 0x1);
        gbc.writeMem(0xf6f, { 0xc5 });
        gbc.writeMem(0xbbac, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xbbac);
        EXPECT(gbc.pc(), 0xf70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbac), 0xb4);
        EXPECT(gbc.readMem(0xbbad), 0x3d);
        // C5 0114
        gbc.setState(0x3378, 0xb799, 0x8590, 0x9266, 0xe332, 0x33b9, 0x0, 0x1);
        gbc.writeMem(0x3378, { 0xc5 });
        gbc.writeMem(0xb797, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb797);
        EXPECT(gbc.pc(), 0x3379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb797), 0x66);
        EXPECT(gbc.readMem(0xb798), 0x92);
        // C5 0116
        gbc.setState(0x7cb8, 0x91de, 0x7da0, 0x380a, 0x629, 0xbac7, 0x1, 0x0);
        gbc.writeMem(0x7cb8, { 0xc5 });
        gbc.writeMem(0x91dc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x91dc);
        EXPECT(gbc.pc(), 0x7cb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91dc), 0xa);
        EXPECT(gbc.readMem(0x91dd), 0x38);
        // C5 0117
        gbc.setState(0xac1f, 0xbe6a, 0x9e10, 0x8479, 0x9b89, 0xc9b5, 0x0, 0x0);
        gbc.writeMem(0xac1f, { 0xc5 });
        gbc.writeMem(0xbe68, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xbe68);
        EXPECT(gbc.pc(), 0xac20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac1f), 0xc5);
        EXPECT(gbc.readMem(0xbe68), 0x79);
        EXPECT(gbc.readMem(0xbe69), 0x84);
        // C5 0118
        gbc.setState(0xbe19, 0xc91a, 0x7ec0, 0x6317, 0x4c6f, 0x148d, 0x1, 0x0);
        gbc.writeMem(0xbe19, { 0xc5 });
        gbc.writeMem(0xc918, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc918);
        EXPECT(gbc.pc(), 0xbe1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe19), 0xc5);
        EXPECT(gbc.readMem(0xc918), 0x17);
        EXPECT(gbc.readMem(0xc919), 0x63);
        // C5 0119
        gbc.setState(0x9044, 0x8675, 0xc440, 0x9470, 0xbe9c, 0x8e21, 0x1, 0x1);
        gbc.writeMem(0x8673, { 0x0, 0x0 });
        gbc.writeMem(0x9044, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x8673);
        EXPECT(gbc.pc(), 0x9045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8673), 0x70);
        EXPECT(gbc.readMem(0x8674), 0x94);
        EXPECT(gbc.readMem(0x9044), 0xc5);
        // C5 011C
        gbc.setState(0x832d, 0xf6d3, 0xbd90, 0x4c4c, 0xc5c7, 0xaa9e, 0x0, 0x1);
        gbc.writeMem(0x832d, { 0xc5 });
        gbc.writeMem(0xf6d1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xf6d1);
        EXPECT(gbc.pc(), 0x832e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x832d), 0xc5);
        EXPECT(gbc.readMem(0xf6d1), 0x4c);
        EXPECT(gbc.readMem(0xf6d2), 0x4c);
        // C5 011D
        gbc.setState(0x9575, 0x834b, 0x6340, 0xe960, 0xd282, 0xbffa, 0x0, 0x0);
        gbc.writeMem(0x8349, { 0x0, 0x0 });
        gbc.writeMem(0x9575, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8349);
        EXPECT(gbc.pc(), 0x9576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8349), 0x60);
        EXPECT(gbc.readMem(0x834a), 0xe9);
        EXPECT(gbc.readMem(0x9575), 0xc5);
        // C5 011E
        gbc.setState(0xb8e8, 0xba18, 0x8b20, 0x967e, 0xca6e, 0xc847, 0x1, 0x0);
        gbc.writeMem(0xb8e8, { 0xc5 });
        gbc.writeMem(0xba16, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xba16);
        EXPECT(gbc.pc(), 0xb8e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e8), 0xc5);
        EXPECT(gbc.readMem(0xba16), 0x7e);
        EXPECT(gbc.readMem(0xba17), 0x96);
        // C5 0123
        gbc.setState(0x1371, 0xa25f, 0xd1c0, 0x9f8a, 0xd5e6, 0x3fd1, 0x1, 0x1);
        gbc.writeMem(0x1371, { 0xc5 });
        gbc.writeMem(0xa25d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa25d);
        EXPECT(gbc.pc(), 0x1372);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa25d), 0x8a);
        EXPECT(gbc.readMem(0xa25e), 0x9f);
        // C5 0124
        gbc.setState(0x4be9, 0xa0c8, 0x2640, 0x59c2, 0x625b, 0xefda, 0x1, 0x1);
        gbc.writeMem(0x4be9, { 0xc5 });
        gbc.writeMem(0xa0c6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa0c6);
        EXPECT(gbc.pc(), 0x4bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c6), 0xc2);
        EXPECT(gbc.readMem(0xa0c7), 0x59);
        // C5 0125
        gbc.setState(0xa3c7, 0xded6, 0x8c30, 0xee59, 0xaad8, 0x963e, 0x1, 0x1);
        gbc.writeMem(0xa3c7, { 0xc5 });
        gbc.writeMem(0xded4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xded4);
        EXPECT(gbc.pc(), 0xa3c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3c7), 0xc5);
        EXPECT(gbc.readMem(0xded4), 0x59);
        EXPECT(gbc.readMem(0xded5), 0xee);
        // C5 0127
        gbc.setState(0x62e4, 0x8d85, 0xfd00, 0x8a30, 0x4c3a, 0x8fff, 0x0, 0x0);
        gbc.writeMem(0x62e4, { 0xc5 });
        gbc.writeMem(0x8d83, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x8d83);
        EXPECT(gbc.pc(), 0x62e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d83), 0x30);
        EXPECT(gbc.readMem(0x8d84), 0x8a);
        // C5 0129
        gbc.setState(0x2d21, 0xd350, 0xa400, 0x6946, 0x83b3, 0xce97, 0x1, 0x1);
        gbc.writeMem(0x2d21, { 0xc5 });
        gbc.writeMem(0xd34e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd34e);
        EXPECT(gbc.pc(), 0x2d22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd34e), 0x46);
        EXPECT(gbc.readMem(0xd34f), 0x69);
        // C5 012C
        gbc.setState(0x7348, 0x803c, 0x1310, 0x98ef, 0xb000, 0x79ce, 0x1, 0x0);
        gbc.writeMem(0x7348, { 0xc5 });
        gbc.writeMem(0x803a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x803a);
        EXPECT(gbc.pc(), 0x7349);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x803a), 0xef);
        EXPECT(gbc.readMem(0x803b), 0x98);
        // C5 012E
        gbc.setState(0xbf0c, 0x9248, 0xec60, 0x1ba9, 0xddfc, 0x41e9, 0x1, 0x0);
        gbc.writeMem(0x9246, { 0x0, 0x0 });
        gbc.writeMem(0xbf0c, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9246);
        EXPECT(gbc.pc(), 0xbf0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9246), 0xa9);
        EXPECT(gbc.readMem(0x9247), 0x1b);
        EXPECT(gbc.readMem(0xbf0c), 0xc5);
        // C5 0131
        gbc.setState(0x234, 0x8b1f, 0xe760, 0xbd51, 0xc892, 0x7b8d, 0x1, 0x1);
        gbc.writeMem(0x234, { 0xc5 });
        gbc.writeMem(0x8b1d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8b1d);
        EXPECT(gbc.pc(), 0x235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b1d), 0x51);
        EXPECT(gbc.readMem(0x8b1e), 0xbd);
        // C5 0132
        gbc.setState(0xa7e0, 0xc08d, 0x90a0, 0x8511, 0x4237, 0xb81c, 0x0, 0x1);
        gbc.writeMem(0xa7e0, { 0xc5 });
        gbc.writeMem(0xc08b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc08b);
        EXPECT(gbc.pc(), 0xa7e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7e0), 0xc5);
        EXPECT(gbc.readMem(0xc08b), 0x11);
        EXPECT(gbc.readMem(0xc08c), 0x85);
        // C5 0133
        gbc.setState(0xb37d, 0xd6c8, 0x7e90, 0x7cbe, 0x139, 0x14e7, 0x0, 0x1);
        gbc.writeMem(0xb37d, { 0xc5 });
        gbc.writeMem(0xd6c6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd6c6);
        EXPECT(gbc.pc(), 0xb37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb37d), 0xc5);
        EXPECT(gbc.readMem(0xd6c6), 0xbe);
        EXPECT(gbc.readMem(0xd6c7), 0x7c);
        // C5 0135
        gbc.setState(0xc2b, 0xb919, 0x9220, 0x60d9, 0x9e0e, 0xe202, 0x1, 0x1);
        gbc.writeMem(0xc2b, { 0xc5 });
        gbc.writeMem(0xb917, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xb917);
        EXPECT(gbc.pc(), 0xc2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb917), 0xd9);
        EXPECT(gbc.readMem(0xb918), 0x60);
        // C5 0138
        gbc.setState(0x1946, 0xf63a, 0x7170, 0xf948, 0x1aa1, 0x102a, 0x0, 0x0);
        gbc.writeMem(0x1946, { 0xc5 });
        gbc.writeMem(0xf638, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf638);
        EXPECT(gbc.pc(), 0x1947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf638), 0x48);
        EXPECT(gbc.readMem(0xf639), 0xf9);
        // C5 013B
        gbc.setState(0x6b6f, 0x8e2e, 0xe030, 0xa75a, 0xc0df, 0x761e, 0x0, 0x1);
        gbc.writeMem(0x6b6f, { 0xc5 });
        gbc.writeMem(0x8e2c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x8e2c);
        EXPECT(gbc.pc(), 0x6b70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e2c), 0x5a);
        EXPECT(gbc.readMem(0x8e2d), 0xa7);
        // C5 013D
        gbc.setState(0x8529, 0xf596, 0x6b30, 0x42aa, 0x77bd, 0x5e96, 0x1, 0x0);
        gbc.writeMem(0x8529, { 0xc5 });
        gbc.writeMem(0xf594, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf594);
        EXPECT(gbc.pc(), 0x852a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8529), 0xc5);
        EXPECT(gbc.readMem(0xf594), 0xaa);
        EXPECT(gbc.readMem(0xf595), 0x42);
        // C5 0140
        gbc.setState(0x875f, 0x8e9d, 0x23b0, 0xcfba, 0xbf0a, 0x4d6e, 0x0, 0x1);
        gbc.writeMem(0x875f, { 0xc5 });
        gbc.writeMem(0x8e9b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x8e9b);
        EXPECT(gbc.pc(), 0x8760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875f), 0xc5);
        EXPECT(gbc.readMem(0x8e9b), 0xba);
        EXPECT(gbc.readMem(0x8e9c), 0xcf);
        // C5 0141
        gbc.setState(0x480b, 0xf76a, 0xfe90, 0xd3c0, 0x40c3, 0xd76a, 0x0, 0x0);
        gbc.writeMem(0x480b, { 0xc5 });
        gbc.writeMem(0xf768, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf768);
        EXPECT(gbc.pc(), 0x480c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf768), 0xc0);
        EXPECT(gbc.readMem(0xf769), 0xd3);
        // C5 0142
        gbc.setState(0xe5e8, 0xd5ce, 0x61e0, 0xd310, 0x814, 0x253d, 0x1, 0x1);
        gbc.writeMem(0xd5cc, { 0x0, 0x0 });
        gbc.writeMem(0xe5e8, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd5cc);
        EXPECT(gbc.pc(), 0xe5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5cc), 0x10);
        EXPECT(gbc.readMem(0xd5cd), 0xd3);
        EXPECT(gbc.readMem(0xe5e8), 0xc5);
        // C5 0143
        gbc.setState(0xd8cb, 0xd6b6, 0xeb80, 0xd6c, 0x831f, 0xd78f, 0x1, 0x1);
        gbc.writeMem(0xd6b4, { 0x0, 0x0 });
        gbc.writeMem(0xd8cb, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd6b4);
        EXPECT(gbc.pc(), 0xd8cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6b4), 0x6c);
        EXPECT(gbc.readMem(0xd6b5), 0xd);
        EXPECT(gbc.readMem(0xd8cb), 0xc5);
        // C5 0145
        gbc.setState(0x7ece, 0xc4c2, 0x52b0, 0x6192, 0x4f3e, 0xb8ac, 0x0, 0x1);
        gbc.writeMem(0x7ece, { 0xc5 });
        gbc.writeMem(0xc4c0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc4c0);
        EXPECT(gbc.pc(), 0x7ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c0), 0x92);
        EXPECT(gbc.readMem(0xc4c1), 0x61);
        // C5 0147
        gbc.setState(0x6895, 0xb0e9, 0x9a80, 0x6b85, 0xbe8b, 0xc17f, 0x1, 0x0);
        gbc.writeMem(0x6895, { 0xc5 });
        gbc.writeMem(0xb0e7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb0e7);
        EXPECT(gbc.pc(), 0x6896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e7), 0x85);
        EXPECT(gbc.readMem(0xb0e8), 0x6b);
        // C5 0148
        gbc.setState(0xe078, 0xfc22, 0xf3c0, 0x85f8, 0x754f, 0xc18f, 0x0, 0x0);
        gbc.writeMem(0xe078, { 0xc5 });
        gbc.writeMem(0xfc20, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfc20);
        EXPECT(gbc.pc(), 0xe079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe078), 0xc5);
        EXPECT(gbc.readMem(0xfc20), 0xf8);
        EXPECT(gbc.readMem(0xfc21), 0x85);
        // C5 014A
        gbc.setState(0x2d49, 0xa594, 0x5fc0, 0xccf6, 0x6bb4, 0x2163, 0x1, 0x0);
        gbc.writeMem(0x2d49, { 0xc5 });
        gbc.writeMem(0xa592, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xa592);
        EXPECT(gbc.pc(), 0x2d4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa592), 0xf6);
        EXPECT(gbc.readMem(0xa593), 0xcc);
        // C5 014B
        gbc.setState(0x6771, 0xa17b, 0xea40, 0x452, 0x16f8, 0x1145, 0x1, 0x0);
        gbc.writeMem(0x6771, { 0xc5 });
        gbc.writeMem(0xa179, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa179);
        EXPECT(gbc.pc(), 0x6772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa179), 0x52);
        EXPECT(gbc.readMem(0xa17a), 0x4);
        // C5 014C
        gbc.setState(0x9b4c, 0xc42b, 0xba40, 0xf051, 0x2d35, 0x5da1, 0x0, 0x0);
        gbc.writeMem(0x9b4c, { 0xc5 });
        gbc.writeMem(0xc429, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc429);
        EXPECT(gbc.pc(), 0x9b4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b4c), 0xc5);
        EXPECT(gbc.readMem(0xc429), 0x51);
        EXPECT(gbc.readMem(0xc42a), 0xf0);
        // C5 014D
        gbc.setState(0x358a, 0xd26e, 0x7910, 0x9eb4, 0x2aa6, 0xfe3d, 0x1, 0x0);
        gbc.writeMem(0x358a, { 0xc5 });
        gbc.writeMem(0xd26c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd26c);
        EXPECT(gbc.pc(), 0x358b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd26c), 0xb4);
        EXPECT(gbc.readMem(0xd26d), 0x9e);
        // C5 014F
        gbc.setState(0xe563, 0x9254, 0xab40, 0xec9e, 0xd35b, 0xde65, 0x1, 0x0);
        gbc.writeMem(0x9252, { 0x0, 0x0 });
        gbc.writeMem(0xe563, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9252);
        EXPECT(gbc.pc(), 0xe564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9252), 0x9e);
        EXPECT(gbc.readMem(0x9253), 0xec);
        EXPECT(gbc.readMem(0xe563), 0xc5);
        // C5 0151
        gbc.setState(0xc0d3, 0xda73, 0x6a20, 0xb9bf, 0x133f, 0x1218, 0x1, 0x0);
        gbc.writeMem(0xc0d3, { 0xc5 });
        gbc.writeMem(0xda71, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xda71);
        EXPECT(gbc.pc(), 0xc0d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0d3), 0xc5);
        EXPECT(gbc.readMem(0xda71), 0xbf);
        EXPECT(gbc.readMem(0xda72), 0xb9);
        // C5 0152
        gbc.setState(0x7fea, 0xf978, 0x8900, 0x19c0, 0x5501, 0x64a, 0x0, 0x1);
        gbc.writeMem(0x7fea, { 0xc5 });
        gbc.writeMem(0xf976, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf976);
        EXPECT(gbc.pc(), 0x7feb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf976), 0xc0);
        EXPECT(gbc.readMem(0xf977), 0x19);
        // C5 0153
        gbc.setState(0xb9a0, 0x948c, 0x80a0, 0xe627, 0x50e8, 0x19c, 0x1, 0x1);
        gbc.writeMem(0x948a, { 0x0, 0x0 });
        gbc.writeMem(0xb9a0, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x948a);
        EXPECT(gbc.pc(), 0xb9a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x948a), 0x27);
        EXPECT(gbc.readMem(0x948b), 0xe6);
        EXPECT(gbc.readMem(0xb9a0), 0xc5);
        // C5 0154
        gbc.setState(0x26e7, 0x82ec, 0x7360, 0x1200, 0xc92c, 0x386f, 0x1, 0x0);
        gbc.writeMem(0x26e7, { 0xc5 });
        gbc.writeMem(0x82ea, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x82ea);
        EXPECT(gbc.pc(), 0x26e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82ea), 0x0);
        EXPECT(gbc.readMem(0x82eb), 0x12);
        // C5 0156
        gbc.setState(0x428c, 0xafa7, 0xc7f0, 0x24e7, 0xe87, 0xc3ed, 0x0, 0x1);
        gbc.writeMem(0x428c, { 0xc5 });
        gbc.writeMem(0xafa5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xafa5);
        EXPECT(gbc.pc(), 0x428d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafa5), 0xe7);
        EXPECT(gbc.readMem(0xafa6), 0x24);
        // C5 0158
        gbc.setState(0x7f0e, 0xecd7, 0x56a0, 0x8c57, 0x45e7, 0x60ad, 0x0, 0x0);
        gbc.writeMem(0x7f0e, { 0xc5 });
        gbc.writeMem(0xecd5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xecd5);
        EXPECT(gbc.pc(), 0x7f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecd5), 0x57);
        EXPECT(gbc.readMem(0xecd6), 0x8c);
        // C5 0159
        gbc.setState(0x7b77, 0x9a2e, 0xa830, 0x364a, 0xec08, 0xc767, 0x0, 0x1);
        gbc.writeMem(0x7b77, { 0xc5 });
        gbc.writeMem(0x9a2c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x9a2c);
        EXPECT(gbc.pc(), 0x7b78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a2c), 0x4a);
        EXPECT(gbc.readMem(0x9a2d), 0x36);
        // C5 015C
        gbc.setState(0xe613, 0x8860, 0xf030, 0x7dbd, 0x1253, 0x181d, 0x0, 0x1);
        gbc.writeMem(0x885e, { 0x0, 0x0 });
        gbc.writeMem(0xe613, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x885e);
        EXPECT(gbc.pc(), 0xe614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x885e), 0xbd);
        EXPECT(gbc.readMem(0x885f), 0x7d);
        EXPECT(gbc.readMem(0xe613), 0xc5);
        // C5 015E
        gbc.setState(0x37c8, 0xd2a4, 0xab60, 0xe38d, 0x7310, 0xcf56, 0x1, 0x0);
        gbc.writeMem(0x37c8, { 0xc5 });
        gbc.writeMem(0xd2a2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd2a2);
        EXPECT(gbc.pc(), 0x37c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a2), 0x8d);
        EXPECT(gbc.readMem(0xd2a3), 0xe3);
        // C5 015F
        gbc.setState(0x4d15, 0xe4ee, 0xdb60, 0xdb3, 0x5b3d, 0xae74, 0x1, 0x0);
        gbc.writeMem(0x4d15, { 0xc5 });
        gbc.writeMem(0xe4ec, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe4ec);
        EXPECT(gbc.pc(), 0x4d16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4ec), 0xb3);
        EXPECT(gbc.readMem(0xe4ed), 0xd);
        // C5 0165
        gbc.setState(0x271, 0xb7dc, 0xe500, 0x5705, 0x9e64, 0xbf10, 0x0, 0x0);
        gbc.writeMem(0x271, { 0xc5 });
        gbc.writeMem(0xb7da, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb7da);
        EXPECT(gbc.pc(), 0x272);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7da), 0x5);
        EXPECT(gbc.readMem(0xb7db), 0x57);
        // C5 0168
        gbc.setState(0x1437, 0xf71c, 0xc360, 0x49bd, 0x218b, 0xb0ea, 0x1, 0x1);
        gbc.writeMem(0x1437, { 0xc5 });
        gbc.writeMem(0xf71a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xf71a);
        EXPECT(gbc.pc(), 0x1438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf71a), 0xbd);
        EXPECT(gbc.readMem(0xf71b), 0x49);
        // C5 0169
        gbc.setState(0x2, 0x93ae, 0x810, 0xbb08, 0xa967, 0xb7e4, 0x1, 0x0);
        gbc.writeMem(0x2, { 0xc5 });
        gbc.writeMem(0x93ac, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x93ac);
        EXPECT(gbc.pc(), 0x3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ac), 0x8);
        EXPECT(gbc.readMem(0x93ad), 0xbb);
        // C5 016A
        gbc.setState(0xb081, 0x9a79, 0x2550, 0x6b9, 0x4d95, 0x84b2, 0x1, 0x1);
        gbc.writeMem(0x9a77, { 0x0, 0x0 });
        gbc.writeMem(0xb081, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x9a77);
        EXPECT(gbc.pc(), 0xb082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a77), 0xb9);
        EXPECT(gbc.readMem(0x9a78), 0x6);
        EXPECT(gbc.readMem(0xb081), 0xc5);
        // C5 016B
        gbc.setState(0xbc43, 0xddf9, 0x3ac0, 0x8d33, 0x714e, 0xb9de, 0x0, 0x0);
        gbc.writeMem(0xbc43, { 0xc5 });
        gbc.writeMem(0xddf7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xddf7);
        EXPECT(gbc.pc(), 0xbc44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc43), 0xc5);
        EXPECT(gbc.readMem(0xddf7), 0x33);
        EXPECT(gbc.readMem(0xddf8), 0x8d);
        // C5 016D
        gbc.setState(0x99a5, 0xdbf5, 0xfbd0, 0x2b86, 0x9eb7, 0x5a61, 0x0, 0x0);
        gbc.writeMem(0x99a5, { 0xc5 });
        gbc.writeMem(0xdbf3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xdbf3);
        EXPECT(gbc.pc(), 0x99a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99a5), 0xc5);
        EXPECT(gbc.readMem(0xdbf3), 0x86);
        EXPECT(gbc.readMem(0xdbf4), 0x2b);
        // C5 0171
        gbc.setState(0x8e98, 0x89e6, 0x40f0, 0x285e, 0xffca, 0x61e8, 0x0, 0x1);
        gbc.writeMem(0x89e4, { 0x0, 0x0 });
        gbc.writeMem(0x8e98, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x89e4);
        EXPECT(gbc.pc(), 0x8e99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89e4), 0x5e);
        EXPECT(gbc.readMem(0x89e5), 0x28);
        EXPECT(gbc.readMem(0x8e98), 0xc5);
        // C5 0175
        gbc.setState(0x9ba4, 0xe546, 0x3110, 0x73fc, 0x3ef3, 0xc1a7, 0x1, 0x0);
        gbc.writeMem(0x9ba4, { 0xc5 });
        gbc.writeMem(0xe544, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe544);
        EXPECT(gbc.pc(), 0x9ba5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba4), 0xc5);
        EXPECT(gbc.readMem(0xe544), 0xfc);
        EXPECT(gbc.readMem(0xe545), 0x73);
        // C5 0176
        gbc.setState(0x9354, 0xc907, 0x1430, 0xa00b, 0x4f02, 0xdc7e, 0x0, 0x0);
        gbc.writeMem(0x9354, { 0xc5 });
        gbc.writeMem(0xc905, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xc905);
        EXPECT(gbc.pc(), 0x9355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9354), 0xc5);
        EXPECT(gbc.readMem(0xc905), 0xb);
        EXPECT(gbc.readMem(0xc906), 0xa0);
        // C5 0177
        gbc.setState(0xe8a7, 0xf52d, 0x8010, 0x7fd0, 0x2e86, 0xeccd, 0x0, 0x0);
        gbc.writeMem(0xe8a7, { 0xc5 });
        gbc.writeMem(0xf52b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf52b);
        EXPECT(gbc.pc(), 0xe8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8a7), 0xc5);
        EXPECT(gbc.readMem(0xf52b), 0xd0);
        EXPECT(gbc.readMem(0xf52c), 0x7f);
        // C5 017A
        gbc.setState(0x5934, 0xf8fa, 0xf680, 0x3df6, 0xf4fd, 0xe2c5, 0x1, 0x1);
        gbc.writeMem(0x5934, { 0xc5 });
        gbc.writeMem(0xf8f8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf8f8);
        EXPECT(gbc.pc(), 0x5935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf8f8), 0xf6);
        EXPECT(gbc.readMem(0xf8f9), 0x3d);
        // C5 017B
        gbc.setState(0xab3d, 0xa2f9, 0x14e0, 0x2e04, 0x641f, 0x7753, 0x0, 0x1);
        gbc.writeMem(0xa2f7, { 0x0, 0x0 });
        gbc.writeMem(0xab3d, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa2f7);
        EXPECT(gbc.pc(), 0xab3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f7), 0x4);
        EXPECT(gbc.readMem(0xa2f8), 0x2e);
        EXPECT(gbc.readMem(0xab3d), 0xc5);
        // C5 017C
        gbc.setState(0xdcb0, 0xd6d4, 0xd090, 0x77b5, 0x9399, 0x9e29, 0x1, 0x0);
        gbc.writeMem(0xd6d2, { 0x0, 0x0 });
        gbc.writeMem(0xdcb0, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd6d2);
        EXPECT(gbc.pc(), 0xdcb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6d2), 0xb5);
        EXPECT(gbc.readMem(0xd6d3), 0x77);
        EXPECT(gbc.readMem(0xdcb0), 0xc5);
        // C5 017D
        gbc.setState(0xdc70, 0xdf4d, 0x4f00, 0x4a7a, 0x39d9, 0x915d, 0x1, 0x1);
        gbc.writeMem(0xdc70, { 0xc5 });
        gbc.writeMem(0xdf4b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xdf4b);
        EXPECT(gbc.pc(), 0xdc71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc70), 0xc5);
        EXPECT(gbc.readMem(0xdf4b), 0x7a);
        EXPECT(gbc.readMem(0xdf4c), 0x4a);
        // C5 0181
        gbc.setState(0x41fd, 0xe63a, 0x6560, 0xb8c9, 0xa773, 0x562f, 0x0, 0x0);
        gbc.writeMem(0x41fd, { 0xc5 });
        gbc.writeMem(0xe638, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe638);
        EXPECT(gbc.pc(), 0x41fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe638), 0xc9);
        EXPECT(gbc.readMem(0xe639), 0xb8);
        // C5 0184
        gbc.setState(0x3e99, 0xe759, 0x3720, 0x521c, 0x15b6, 0x5ed5, 0x1, 0x1);
        gbc.writeMem(0x3e99, { 0xc5 });
        gbc.writeMem(0xe757, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe757);
        EXPECT(gbc.pc(), 0x3e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe757), 0x1c);
        EXPECT(gbc.readMem(0xe758), 0x52);
        // C5 0185
        gbc.setState(0x8a56, 0xeb51, 0x9070, 0xf46d, 0x4511, 0x9f4, 0x1, 0x0);
        gbc.writeMem(0x8a56, { 0xc5 });
        gbc.writeMem(0xeb4f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xeb4f);
        EXPECT(gbc.pc(), 0x8a57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a56), 0xc5);
        EXPECT(gbc.readMem(0xeb4f), 0x6d);
        EXPECT(gbc.readMem(0xeb50), 0xf4);
        // C5 0186
        gbc.setState(0x46fb, 0xa91d, 0xd820, 0x1572, 0x4c41, 0x1c34, 0x1, 0x0);
        gbc.writeMem(0x46fb, { 0xc5 });
        gbc.writeMem(0xa91b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa91b);
        EXPECT(gbc.pc(), 0x46fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa91b), 0x72);
        EXPECT(gbc.readMem(0xa91c), 0x15);
        // C5 0187
        gbc.setState(0x3af8, 0xb466, 0x520, 0xbde6, 0xbed3, 0x814d, 0x1, 0x1);
        gbc.writeMem(0x3af8, { 0xc5 });
        gbc.writeMem(0xb464, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb464);
        EXPECT(gbc.pc(), 0x3af9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb464), 0xe6);
        EXPECT(gbc.readMem(0xb465), 0xbd);
        // C5 0188
        gbc.setState(0x1334, 0xba0d, 0xce80, 0x77a8, 0xbd8, 0x3fa, 0x1, 0x0);
        gbc.writeMem(0x1334, { 0xc5 });
        gbc.writeMem(0xba0b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xba0b);
        EXPECT(gbc.pc(), 0x1335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba0b), 0xa8);
        EXPECT(gbc.readMem(0xba0c), 0x77);
        // C5 0189
        gbc.setState(0x60e, 0xe359, 0x3f20, 0xc8a3, 0xc16e, 0xf7f3, 0x0, 0x0);
        gbc.writeMem(0x60e, { 0xc5 });
        gbc.writeMem(0xe357, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe357);
        EXPECT(gbc.pc(), 0x60f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe357), 0xa3);
        EXPECT(gbc.readMem(0xe358), 0xc8);
        // C5 018C
        gbc.setState(0xe355, 0x976b, 0x3e70, 0xac1, 0x512b, 0x563a, 0x1, 0x1);
        gbc.writeMem(0x9769, { 0x0, 0x0 });
        gbc.writeMem(0xe355, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9769);
        EXPECT(gbc.pc(), 0xe356);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9769), 0xc1);
        EXPECT(gbc.readMem(0x976a), 0xa);
        EXPECT(gbc.readMem(0xe355), 0xc5);
        // C5 018E
        gbc.setState(0x8234, 0xb392, 0xdd00, 0x4f47, 0xf665, 0xad7a, 0x0, 0x1);
        gbc.writeMem(0x8234, { 0xc5 });
        gbc.writeMem(0xb390, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb390);
        EXPECT(gbc.pc(), 0x8235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8234), 0xc5);
        EXPECT(gbc.readMem(0xb390), 0x47);
        EXPECT(gbc.readMem(0xb391), 0x4f);
        // C5 0196
        gbc.setState(0x9c2c, 0xadee, 0xc590, 0x2ef0, 0xb151, 0x1187, 0x0, 0x0);
        gbc.writeMem(0x9c2c, { 0xc5 });
        gbc.writeMem(0xadec, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xadec);
        EXPECT(gbc.pc(), 0x9c2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c2c), 0xc5);
        EXPECT(gbc.readMem(0xadec), 0xf0);
        EXPECT(gbc.readMem(0xaded), 0x2e);
        // C5 0197
        gbc.setState(0xd879, 0xf4c0, 0x9d70, 0xb056, 0xcada, 0x5a16, 0x1, 0x0);
        gbc.writeMem(0xd879, { 0xc5 });
        gbc.writeMem(0xf4be, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf4be);
        EXPECT(gbc.pc(), 0xd87a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd879), 0xc5);
        EXPECT(gbc.readMem(0xf4be), 0x56);
        EXPECT(gbc.readMem(0xf4bf), 0xb0);
        // C5 0199
        gbc.setState(0x9477, 0x8245, 0xa220, 0x959c, 0xfe3a, 0xbde2, 0x0, 0x0);
        gbc.writeMem(0x8243, { 0x0, 0x0 });
        gbc.writeMem(0x9477, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8243);
        EXPECT(gbc.pc(), 0x9478);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8243), 0x9c);
        EXPECT(gbc.readMem(0x8244), 0x95);
        EXPECT(gbc.readMem(0x9477), 0xc5);
        // C5 019B
        gbc.setState(0xea7c, 0xfea6, 0x6400, 0xe804, 0x2086, 0xcf0e, 0x0, 0x1);
        gbc.writeMem(0xea7c, { 0xc5 });
        gbc.writeMem(0xfea4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfea4);
        EXPECT(gbc.pc(), 0xea7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea7c), 0xc5);
        EXPECT(gbc.readMem(0xfea4), 0x4);
        EXPECT(gbc.readMem(0xfea5), 0xe8);
        // C5 019F
        gbc.setState(0xc654, 0x82d0, 0x7e90, 0x2e33, 0xc8e7, 0xf052, 0x1, 0x0);
        gbc.writeMem(0x82ce, { 0x0, 0x0 });
        gbc.writeMem(0xc654, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x82ce);
        EXPECT(gbc.pc(), 0xc655);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82ce), 0x33);
        EXPECT(gbc.readMem(0x82cf), 0x2e);
        EXPECT(gbc.readMem(0xc654), 0xc5);
        // C5 01A1
        gbc.setState(0xd542, 0xc17d, 0xd620, 0x1cc7, 0x8166, 0x3b25, 0x1, 0x0);
        gbc.writeMem(0xc17b, { 0x0, 0x0 });
        gbc.writeMem(0xd542, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xc17b);
        EXPECT(gbc.pc(), 0xd543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc17b), 0xc7);
        EXPECT(gbc.readMem(0xc17c), 0x1c);
        EXPECT(gbc.readMem(0xd542), 0xc5);
        // C5 01A3
        gbc.setState(0xb0bc, 0xd28a, 0x3ab0, 0x2df2, 0xa590, 0x500, 0x0, 0x1);
        gbc.writeMem(0xb0bc, { 0xc5 });
        gbc.writeMem(0xd288, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd288);
        EXPECT(gbc.pc(), 0xb0bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0bc), 0xc5);
        EXPECT(gbc.readMem(0xd288), 0xf2);
        EXPECT(gbc.readMem(0xd289), 0x2d);
        // C5 01A4
        gbc.setState(0xd98d, 0xb3f0, 0x6310, 0xf7e3, 0xb4f3, 0xdb66, 0x1, 0x0);
        gbc.writeMem(0xb3ee, { 0x0, 0x0 });
        gbc.writeMem(0xd98d, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb3ee);
        EXPECT(gbc.pc(), 0xd98e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ee), 0xe3);
        EXPECT(gbc.readMem(0xb3ef), 0xf7);
        EXPECT(gbc.readMem(0xd98d), 0xc5);
        // C5 01A5
        gbc.setState(0x4f0f, 0x9278, 0xd500, 0x7862, 0x7c4, 0x4a43, 0x1, 0x1);
        gbc.writeMem(0x4f0f, { 0xc5 });
        gbc.writeMem(0x9276, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9276);
        EXPECT(gbc.pc(), 0x4f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9276), 0x62);
        EXPECT(gbc.readMem(0x9277), 0x78);
        // C5 01A6
        gbc.setState(0x2a65, 0xd72c, 0xa7a0, 0xd761, 0xc7c1, 0xbb69, 0x0, 0x0);
        gbc.writeMem(0x2a65, { 0xc5 });
        gbc.writeMem(0xd72a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd72a);
        EXPECT(gbc.pc(), 0x2a66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd72a), 0x61);
        EXPECT(gbc.readMem(0xd72b), 0xd7);
        // C5 01A7
        gbc.setState(0x5c5c, 0xd6b8, 0xdb60, 0x5f77, 0x6d3b, 0x3e0a, 0x0, 0x1);
        gbc.writeMem(0x5c5c, { 0xc5 });
        gbc.writeMem(0xd6b6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xd6b6);
        EXPECT(gbc.pc(), 0x5c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6b6), 0x77);
        EXPECT(gbc.readMem(0xd6b7), 0x5f);
        // C5 01A8
        gbc.setState(0x6b95, 0x80a7, 0xaab0, 0xb5a, 0x8906, 0x219d, 0x1, 0x1);
        gbc.writeMem(0x6b95, { 0xc5 });
        gbc.writeMem(0x80a5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x80a5);
        EXPECT(gbc.pc(), 0x6b96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80a5), 0x5a);
        EXPECT(gbc.readMem(0x80a6), 0xb);
        // C5 01A9
        gbc.setState(0xc934, 0x9c8c, 0x79b0, 0x8b88, 0xdaef, 0x745, 0x0, 0x0);
        gbc.writeMem(0x9c8a, { 0x0, 0x0 });
        gbc.writeMem(0xc934, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9c8a);
        EXPECT(gbc.pc(), 0xc935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c8a), 0x88);
        EXPECT(gbc.readMem(0x9c8b), 0x8b);
        EXPECT(gbc.readMem(0xc934), 0xc5);
        // C5 01AA
        gbc.setState(0xdacb, 0x88b2, 0xef90, 0xced5, 0xe5b2, 0xebbe, 0x1, 0x0);
        gbc.writeMem(0x88b0, { 0x0, 0x0 });
        gbc.writeMem(0xdacb, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x88b0);
        EXPECT(gbc.pc(), 0xdacc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88b0), 0xd5);
        EXPECT(gbc.readMem(0x88b1), 0xce);
        EXPECT(gbc.readMem(0xdacb), 0xc5);
        // C5 01AD
        gbc.setState(0x5ffe, 0x95a3, 0x2f40, 0x31be, 0xd321, 0x3655, 0x1, 0x0);
        gbc.writeMem(0x5ffe, { 0xc5 });
        gbc.writeMem(0x95a1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x95a1);
        EXPECT(gbc.pc(), 0x5fff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a1), 0xbe);
        EXPECT(gbc.readMem(0x95a2), 0x31);
        // C5 01AF
        gbc.setState(0x9764, 0xbf09, 0x2b70, 0xd83e, 0x5ac, 0xc236, 0x1, 0x0);
        gbc.writeMem(0x9764, { 0xc5 });
        gbc.writeMem(0xbf07, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xbf07);
        EXPECT(gbc.pc(), 0x9765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9764), 0xc5);
        EXPECT(gbc.readMem(0xbf07), 0x3e);
        EXPECT(gbc.readMem(0xbf08), 0xd8);
        // C5 01B1
        gbc.setState(0x299c, 0xa4b1, 0x4f10, 0xe395, 0x5a5c, 0xd446, 0x0, 0x1);
        gbc.writeMem(0x299c, { 0xc5 });
        gbc.writeMem(0xa4af, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa4af);
        EXPECT(gbc.pc(), 0x299d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4af), 0x95);
        EXPECT(gbc.readMem(0xa4b0), 0xe3);
        // C5 01B2
        gbc.setState(0x6fc, 0x8158, 0xf7c0, 0xbae1, 0x791c, 0xb2a9, 0x1, 0x0);
        gbc.writeMem(0x6fc, { 0xc5 });
        gbc.writeMem(0x8156, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8156);
        EXPECT(gbc.pc(), 0x6fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8156), 0xe1);
        EXPECT(gbc.readMem(0x8157), 0xba);
        // C5 01B4
        gbc.setState(0xdfe4, 0xfe26, 0x3330, 0x5381, 0xbd15, 0xdce6, 0x0, 0x0);
        gbc.writeMem(0xdfe4, { 0xc5 });
        gbc.writeMem(0xfe24, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xfe24);
        EXPECT(gbc.pc(), 0xdfe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe4), 0xc5);
        EXPECT(gbc.readMem(0xfe24), 0x81);
        EXPECT(gbc.readMem(0xfe25), 0x53);
        // C5 01B7
        gbc.setState(0xcb8f, 0x896a, 0xf060, 0x79bc, 0xb819, 0xddee, 0x1, 0x0);
        gbc.writeMem(0x8968, { 0x0, 0x0 });
        gbc.writeMem(0xcb8f, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8968);
        EXPECT(gbc.pc(), 0xcb90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8968), 0xbc);
        EXPECT(gbc.readMem(0x8969), 0x79);
        EXPECT(gbc.readMem(0xcb8f), 0xc5);
        // C5 01B9
        gbc.setState(0x3460, 0xebf3, 0x61d0, 0x2140, 0x76d9, 0xe688, 0x0, 0x0);
        gbc.writeMem(0x3460, { 0xc5 });
        gbc.writeMem(0xebf1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xebf1);
        EXPECT(gbc.pc(), 0x3461);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf1), 0x40);
        EXPECT(gbc.readMem(0xebf2), 0x21);
        // C5 01BA
        gbc.setState(0x2488, 0xf606, 0xc0a0, 0x2d1c, 0x80b7, 0x66ca, 0x0, 0x0);
        gbc.writeMem(0x2488, { 0xc5 });
        gbc.writeMem(0xf604, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf604);
        EXPECT(gbc.pc(), 0x2489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf604), 0x1c);
        EXPECT(gbc.readMem(0xf605), 0x2d);
        // C5 01BB
        gbc.setState(0xcc26, 0xd608, 0x85f0, 0x78e6, 0xcdc6, 0xa1ea, 0x0, 0x0);
        gbc.writeMem(0xcc26, { 0xc5 });
        gbc.writeMem(0xd606, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xd606);
        EXPECT(gbc.pc(), 0xcc27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc26), 0xc5);
        EXPECT(gbc.readMem(0xd606), 0xe6);
        EXPECT(gbc.readMem(0xd607), 0x78);
        // C5 01BC
        gbc.setState(0x1e22, 0xb534, 0xca40, 0xe921, 0x7a0, 0x937d, 0x0, 0x1);
        gbc.writeMem(0x1e22, { 0xc5 });
        gbc.writeMem(0xb532, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xb532);
        EXPECT(gbc.pc(), 0x1e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb532), 0x21);
        EXPECT(gbc.readMem(0xb533), 0xe9);
        // C5 01BF
        gbc.setState(0xdf6e, 0xaa62, 0xa010, 0x1485, 0xcb41, 0xb83c, 0x0, 0x1);
        gbc.writeMem(0xaa60, { 0x0, 0x0 });
        gbc.writeMem(0xdf6e, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xaa60);
        EXPECT(gbc.pc(), 0xdf6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa60), 0x85);
        EXPECT(gbc.readMem(0xaa61), 0x14);
        EXPECT(gbc.readMem(0xdf6e), 0xc5);
        // C5 01C0
        gbc.setState(0x28d8, 0x927f, 0x1690, 0x5cad, 0x741a, 0x2cef, 0x0, 0x1);
        gbc.writeMem(0x28d8, { 0xc5 });
        gbc.writeMem(0x927d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x927d);
        EXPECT(gbc.pc(), 0x28d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x927d), 0xad);
        EXPECT(gbc.readMem(0x927e), 0x5c);
        // C5 01C1
        gbc.setState(0x2e39, 0xd841, 0x26a0, 0x8485, 0x556b, 0x903d, 0x1, 0x0);
        gbc.writeMem(0x2e39, { 0xc5 });
        gbc.writeMem(0xd83f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd83f);
        EXPECT(gbc.pc(), 0x2e3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd83f), 0x85);
        EXPECT(gbc.readMem(0xd840), 0x84);
        // C5 01C2
        gbc.setState(0x9a3f, 0xb539, 0x8060, 0x3997, 0x5345, 0xf0aa, 0x1, 0x1);
        gbc.writeMem(0x9a3f, { 0xc5 });
        gbc.writeMem(0xb537, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb537);
        EXPECT(gbc.pc(), 0x9a40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a3f), 0xc5);
        EXPECT(gbc.readMem(0xb537), 0x97);
        EXPECT(gbc.readMem(0xb538), 0x39);
        // C5 01C4
        gbc.setState(0xc6f2, 0xd2cf, 0x3de0, 0x4213, 0xa0e9, 0xb148, 0x1, 0x0);
        gbc.writeMem(0xc6f2, { 0xc5 });
        gbc.writeMem(0xd2cd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xd2cd);
        EXPECT(gbc.pc(), 0xc6f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f2), 0xc5);
        EXPECT(gbc.readMem(0xd2cd), 0x13);
        EXPECT(gbc.readMem(0xd2ce), 0x42);
        // C5 01C7
        gbc.setState(0x7cee, 0xcabe, 0x5570, 0xe9c4, 0x9d8d, 0xc61e, 0x1, 0x1);
        gbc.writeMem(0x7cee, { 0xc5 });
        gbc.writeMem(0xcabc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xcabc);
        EXPECT(gbc.pc(), 0x7cef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcabc), 0xc4);
        EXPECT(gbc.readMem(0xcabd), 0xe9);
        // C5 01C9
        gbc.setState(0x21fe, 0xb9b5, 0x1ef0, 0x702d, 0xaebe, 0x2365, 0x1, 0x1);
        gbc.writeMem(0x21fe, { 0xc5 });
        gbc.writeMem(0xb9b3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb9b3);
        EXPECT(gbc.pc(), 0x21ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9b3), 0x2d);
        EXPECT(gbc.readMem(0xb9b4), 0x70);
        // C5 01CD
        gbc.setState(0xe0bf, 0x9ea4, 0x45a0, 0x83db, 0x7506, 0x5c38, 0x0, 0x0);
        gbc.writeMem(0x9ea2, { 0x0, 0x0 });
        gbc.writeMem(0xe0bf, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9ea2);
        EXPECT(gbc.pc(), 0xe0c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ea2), 0xdb);
        EXPECT(gbc.readMem(0x9ea3), 0x83);
        EXPECT(gbc.readMem(0xe0bf), 0xc5);
        // C5 01CF
        gbc.setState(0x1b84, 0xa8f0, 0x8ef0, 0x9ca7, 0xa4f4, 0x4381, 0x0, 0x0);
        gbc.writeMem(0x1b84, { 0xc5 });
        gbc.writeMem(0xa8ee, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa8ee);
        EXPECT(gbc.pc(), 0x1b85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ee), 0xa7);
        EXPECT(gbc.readMem(0xa8ef), 0x9c);
        // C5 01D2
        gbc.setState(0x2df4, 0xca5a, 0x17c0, 0xf943, 0x6bbb, 0x76db, 0x1, 0x1);
        gbc.writeMem(0x2df4, { 0xc5 });
        gbc.writeMem(0xca58, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xca58);
        EXPECT(gbc.pc(), 0x2df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca58), 0x43);
        EXPECT(gbc.readMem(0xca59), 0xf9);
        // C5 01D3
        gbc.setState(0xd4fb, 0xdd30, 0x7ed0, 0xcd34, 0xe869, 0x64bf, 0x0, 0x0);
        gbc.writeMem(0xd4fb, { 0xc5 });
        gbc.writeMem(0xdd2e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdd2e);
        EXPECT(gbc.pc(), 0xd4fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4fb), 0xc5);
        EXPECT(gbc.readMem(0xdd2e), 0x34);
        EXPECT(gbc.readMem(0xdd2f), 0xcd);
        // C5 01D5
        gbc.setState(0x36b4, 0xda73, 0xc1e0, 0xe9ab, 0x2431, 0xce3e, 0x1, 0x1);
        gbc.writeMem(0x36b4, { 0xc5 });
        gbc.writeMem(0xda71, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xda71);
        EXPECT(gbc.pc(), 0x36b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda71), 0xab);
        EXPECT(gbc.readMem(0xda72), 0xe9);
        // C5 01D7
        gbc.setState(0x7666, 0xca42, 0x3720, 0xd278, 0xd92b, 0xc504, 0x0, 0x0);
        gbc.writeMem(0x7666, { 0xc5 });
        gbc.writeMem(0xca40, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xca40);
        EXPECT(gbc.pc(), 0x7667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca40), 0x78);
        EXPECT(gbc.readMem(0xca41), 0xd2);
        // C5 01DB
        gbc.setState(0x9737, 0xee1c, 0x3480, 0x54df, 0xe602, 0x2b72, 0x0, 0x0);
        gbc.writeMem(0x9737, { 0xc5 });
        gbc.writeMem(0xee1a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xee1a);
        EXPECT(gbc.pc(), 0x9738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9737), 0xc5);
        EXPECT(gbc.readMem(0xee1a), 0xdf);
        EXPECT(gbc.readMem(0xee1b), 0x54);
        // C5 01DC
        gbc.setState(0x8be8, 0xf999, 0xf230, 0x4a86, 0x6375, 0x5ca8, 0x0, 0x0);
        gbc.writeMem(0x8be8, { 0xc5 });
        gbc.writeMem(0xf997, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf997);
        EXPECT(gbc.pc(), 0x8be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8be8), 0xc5);
        EXPECT(gbc.readMem(0xf997), 0x86);
        EXPECT(gbc.readMem(0xf998), 0x4a);
        // C5 01DF
        gbc.setState(0x7568, 0xe464, 0x7460, 0x15a3, 0xe7a6, 0xea40, 0x0, 0x1);
        gbc.writeMem(0x7568, { 0xc5 });
        gbc.writeMem(0xe462, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe462);
        EXPECT(gbc.pc(), 0x7569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe462), 0xa3);
        EXPECT(gbc.readMem(0xe463), 0x15);
        // C5 01E2
        gbc.setState(0xec93, 0xd71c, 0x8ed0, 0x25d1, 0xb202, 0xa2d2, 0x0, 0x0);
        gbc.writeMem(0xd71a, { 0x0, 0x0 });
        gbc.writeMem(0xec93, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xd71a);
        EXPECT(gbc.pc(), 0xec94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd71a), 0xd1);
        EXPECT(gbc.readMem(0xd71b), 0x25);
        EXPECT(gbc.readMem(0xec93), 0xc5);
        // C5 01E5
        gbc.setState(0x2b8a, 0xe968, 0x7e10, 0x6555, 0x56e9, 0x143b, 0x1, 0x1);
        gbc.writeMem(0x2b8a, { 0xc5 });
        gbc.writeMem(0xe966, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe966);
        EXPECT(gbc.pc(), 0x2b8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe966), 0x55);
        EXPECT(gbc.readMem(0xe967), 0x65);
        // C5 01E6
        gbc.setState(0x7ed5, 0x83d9, 0x7a0, 0x4e42, 0xde89, 0x5848, 0x1, 0x1);
        gbc.writeMem(0x7ed5, { 0xc5 });
        gbc.writeMem(0x83d7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x83d7);
        EXPECT(gbc.pc(), 0x7ed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d7), 0x42);
        EXPECT(gbc.readMem(0x83d8), 0x4e);
        // C5 01E7
        gbc.setState(0x7131, 0x8638, 0x88e0, 0x355b, 0x50f1, 0x77, 0x1, 0x1);
        gbc.writeMem(0x7131, { 0xc5 });
        gbc.writeMem(0x8636, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8636);
        EXPECT(gbc.pc(), 0x7132);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8636), 0x5b);
        EXPECT(gbc.readMem(0x8637), 0x35);
        // C5 01E9
        gbc.setState(0xb063, 0xa707, 0xa8e0, 0xe52c, 0x8501, 0x679b, 0x1, 0x0);
        gbc.writeMem(0xa705, { 0x0, 0x0 });
        gbc.writeMem(0xb063, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa705);
        EXPECT(gbc.pc(), 0xb064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa705), 0x2c);
        EXPECT(gbc.readMem(0xa706), 0xe5);
        EXPECT(gbc.readMem(0xb063), 0xc5);
        // C5 01EA
        gbc.setState(0x56c9, 0xf070, 0x95c0, 0x8e27, 0xf8f3, 0x42f2, 0x1, 0x1);
        gbc.writeMem(0x56c9, { 0xc5 });
        gbc.writeMem(0xf06e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xf06e);
        EXPECT(gbc.pc(), 0x56ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf06e), 0x27);
        EXPECT(gbc.readMem(0xf06f), 0x8e);
        // C5 01EC
        gbc.setState(0x18f4, 0xb075, 0x4560, 0x9104, 0x86c2, 0xd1c2, 0x0, 0x1);
        gbc.writeMem(0x18f4, { 0xc5 });
        gbc.writeMem(0xb073, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb073);
        EXPECT(gbc.pc(), 0x18f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb073), 0x4);
        EXPECT(gbc.readMem(0xb074), 0x91);
        // C5 01EF
        gbc.setState(0x6989, 0xdce2, 0x1160, 0xa1d2, 0x9d43, 0x771e, 0x0, 0x1);
        gbc.writeMem(0x6989, { 0xc5 });
        gbc.writeMem(0xdce0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xdce0);
        EXPECT(gbc.pc(), 0x698a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce0), 0xd2);
        EXPECT(gbc.readMem(0xdce1), 0xa1);
        // C5 01F0
        gbc.setState(0xe00a, 0xde15, 0x7210, 0xe542, 0x16b8, 0x741, 0x0, 0x1);
        gbc.writeMem(0xde13, { 0x0, 0x0 });
        gbc.writeMem(0xe00a, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xde13);
        EXPECT(gbc.pc(), 0xe00b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde13), 0x42);
        EXPECT(gbc.readMem(0xde14), 0xe5);
        EXPECT(gbc.readMem(0xe00a), 0xc5);
        // C5 01F2
        gbc.setState(0xedcc, 0xb0f3, 0x2c40, 0xd233, 0xb963, 0xff25, 0x0, 0x1);
        gbc.writeMem(0xb0f1, { 0x0, 0x0 });
        gbc.writeMem(0xedcc, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb0f1);
        EXPECT(gbc.pc(), 0xedcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0f1), 0x33);
        EXPECT(gbc.readMem(0xb0f2), 0xd2);
        EXPECT(gbc.readMem(0xedcc), 0xc5);
        // C5 01F3
        gbc.setState(0x79e0, 0xd5a2, 0x4cd0, 0xf269, 0x8b9c, 0x5cb5, 0x1, 0x1);
        gbc.writeMem(0x79e0, { 0xc5 });
        gbc.writeMem(0xd5a0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd5a0);
        EXPECT(gbc.pc(), 0x79e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5a0), 0x69);
        EXPECT(gbc.readMem(0xd5a1), 0xf2);
        // C5 01F6
        gbc.setState(0x4e39, 0x8937, 0x9120, 0xf592, 0x42ab, 0xcda, 0x0, 0x0);
        gbc.writeMem(0x4e39, { 0xc5 });
        gbc.writeMem(0x8935, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8935);
        EXPECT(gbc.pc(), 0x4e3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8935), 0x92);
        EXPECT(gbc.readMem(0x8936), 0xf5);
        // C5 01F8
        gbc.setState(0xb41a, 0xb0a7, 0xac10, 0xcd0e, 0x7d32, 0xa093, 0x1, 0x0);
        gbc.writeMem(0xb0a5, { 0x0, 0x0 });
        gbc.writeMem(0xb41a, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb0a5);
        EXPECT(gbc.pc(), 0xb41b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0a5), 0xe);
        EXPECT(gbc.readMem(0xb0a6), 0xcd);
        EXPECT(gbc.readMem(0xb41a), 0xc5);
        // C5 01F9
        gbc.setState(0x5250, 0xc0b2, 0x8330, 0xa771, 0x73a4, 0xf519, 0x1, 0x0);
        gbc.writeMem(0x5250, { 0xc5 });
        gbc.writeMem(0xc0b0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xc0b0);
        EXPECT(gbc.pc(), 0x5251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0b0), 0x71);
        EXPECT(gbc.readMem(0xc0b1), 0xa7);
        // C5 01FD
        gbc.setState(0xa435, 0xfdbf, 0x4080, 0x95d4, 0xfd7f, 0x86f0, 0x0, 0x0);
        gbc.writeMem(0xa435, { 0xc5 });
        gbc.writeMem(0xfdbd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfdbd);
        EXPECT(gbc.pc(), 0xa436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa435), 0xc5);
        EXPECT(gbc.readMem(0xfdbd), 0xd4);
        EXPECT(gbc.readMem(0xfdbe), 0x95);
        // C5 01FE
        gbc.setState(0xc157, 0xbda0, 0xc950, 0x7e92, 0xb13b, 0x4255, 0x1, 0x1);
        gbc.writeMem(0xbd9e, { 0x0, 0x0 });
        gbc.writeMem(0xc157, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xbd9e);
        EXPECT(gbc.pc(), 0xc158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd9e), 0x92);
        EXPECT(gbc.readMem(0xbd9f), 0x7e);
        EXPECT(gbc.readMem(0xc157), 0xc5);
        // C5 0201
        gbc.setState(0x6a30, 0xa97c, 0x5a0, 0x879e, 0xf5c6, 0x2981, 0x1, 0x1);
        gbc.writeMem(0x6a30, { 0xc5 });
        gbc.writeMem(0xa97a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa97a);
        EXPECT(gbc.pc(), 0x6a31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa97a), 0x9e);
        EXPECT(gbc.readMem(0xa97b), 0x87);
        // C5 0202
        gbc.setState(0xa3ec, 0xa178, 0xa280, 0x608e, 0x16b2, 0xf27c, 0x0, 0x1);
        gbc.writeMem(0xa176, { 0x0, 0x0 });
        gbc.writeMem(0xa3ec, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa176);
        EXPECT(gbc.pc(), 0xa3ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa176), 0x8e);
        EXPECT(gbc.readMem(0xa177), 0x60);
        EXPECT(gbc.readMem(0xa3ec), 0xc5);
        // C5 0204
        gbc.setState(0xea9b, 0xf33c, 0x1b10, 0x3282, 0xbb17, 0x20fc, 0x1, 0x1);
        gbc.writeMem(0xea9b, { 0xc5 });
        gbc.writeMem(0xf33a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xf33a);
        EXPECT(gbc.pc(), 0xea9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea9b), 0xc5);
        EXPECT(gbc.readMem(0xf33a), 0x82);
        EXPECT(gbc.readMem(0xf33b), 0x32);
        // C5 0207
        gbc.setState(0xb1ac, 0xed31, 0x540, 0xa83d, 0xe1, 0x2851, 0x0, 0x1);
        gbc.writeMem(0xb1ac, { 0xc5 });
        gbc.writeMem(0xed2f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xed2f);
        EXPECT(gbc.pc(), 0xb1ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ac), 0xc5);
        EXPECT(gbc.readMem(0xed2f), 0x3d);
        EXPECT(gbc.readMem(0xed30), 0xa8);
        // C5 0208
        gbc.setState(0xd77a, 0x8010, 0xf090, 0x5e82, 0x80d5, 0xfd8c, 0x1, 0x1);
        gbc.writeMem(0x800e, { 0x0, 0x0 });
        gbc.writeMem(0xd77a, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x800e);
        EXPECT(gbc.pc(), 0xd77b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x800e), 0x82);
        EXPECT(gbc.readMem(0x800f), 0x5e);
        EXPECT(gbc.readMem(0xd77a), 0xc5);
        // C5 0209
        gbc.setState(0xdcb7, 0xccaa, 0x8c30, 0xe6aa, 0x4aa5, 0x5443, 0x1, 0x0);
        gbc.writeMem(0xcca8, { 0x0, 0x0 });
        gbc.writeMem(0xdcb7, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xcca8);
        EXPECT(gbc.pc(), 0xdcb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcca8), 0xaa);
        EXPECT(gbc.readMem(0xcca9), 0xe6);
        EXPECT(gbc.readMem(0xdcb7), 0xc5);
        // C5 020D
        gbc.setState(0x1b19, 0xb987, 0xcb70, 0x69c8, 0x6b75, 0x2871, 0x0, 0x0);
        gbc.writeMem(0x1b19, { 0xc5 });
        gbc.writeMem(0xb985, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb985);
        EXPECT(gbc.pc(), 0x1b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb985), 0xc8);
        EXPECT(gbc.readMem(0xb986), 0x69);
        // C5 020E
        gbc.setState(0x1339, 0xdc74, 0xab10, 0xb43c, 0x3408, 0xeb80, 0x0, 0x0);
        gbc.writeMem(0x1339, { 0xc5 });
        gbc.writeMem(0xdc72, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xdc72);
        EXPECT(gbc.pc(), 0x133a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc72), 0x3c);
        EXPECT(gbc.readMem(0xdc73), 0xb4);
        // C5 0210
        gbc.setState(0x3d, 0xa3d5, 0xb470, 0x806f, 0xa182, 0xd36f, 0x0, 0x0);
        gbc.writeMem(0x3d, { 0xc5 });
        gbc.writeMem(0xa3d3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa3d3);
        EXPECT(gbc.pc(), 0x3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3d3), 0x6f);
        EXPECT(gbc.readMem(0xa3d4), 0x80);
        // C5 0216
        gbc.setState(0xa962, 0xcd49, 0x40f0, 0x1e5d, 0x38e5, 0xc95d, 0x1, 0x1);
        gbc.writeMem(0xa962, { 0xc5 });
        gbc.writeMem(0xcd47, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcd47);
        EXPECT(gbc.pc(), 0xa963);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa962), 0xc5);
        EXPECT(gbc.readMem(0xcd47), 0x5d);
        EXPECT(gbc.readMem(0xcd48), 0x1e);
        // C5 0217
        gbc.setState(0x1115, 0xb83f, 0x3830, 0x2ddd, 0x40ba, 0xc286, 0x1, 0x1);
        gbc.writeMem(0x1115, { 0xc5 });
        gbc.writeMem(0xb83d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb83d);
        EXPECT(gbc.pc(), 0x1116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb83d), 0xdd);
        EXPECT(gbc.readMem(0xb83e), 0x2d);
        // C5 021A
        gbc.setState(0x421e, 0xc807, 0x24b0, 0x1fd7, 0xe9c1, 0xc9c9, 0x1, 0x1);
        gbc.writeMem(0x421e, { 0xc5 });
        gbc.writeMem(0xc805, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xc805);
        EXPECT(gbc.pc(), 0x421f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc805), 0xd7);
        EXPECT(gbc.readMem(0xc806), 0x1f);
        // C5 021B
        gbc.setState(0xd4ae, 0xdf6c, 0x8c30, 0x44cc, 0xc764, 0x5320, 0x0, 0x0);
        gbc.writeMem(0xd4ae, { 0xc5 });
        gbc.writeMem(0xdf6a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xdf6a);
        EXPECT(gbc.pc(), 0xd4af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4ae), 0xc5);
        EXPECT(gbc.readMem(0xdf6a), 0xcc);
        EXPECT(gbc.readMem(0xdf6b), 0x44);
        // C5 021C
        gbc.setState(0x4bc9, 0x996e, 0xd990, 0xa4e5, 0xd461, 0x8f57, 0x1, 0x1);
        gbc.writeMem(0x4bc9, { 0xc5 });
        gbc.writeMem(0x996c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x996c);
        EXPECT(gbc.pc(), 0x4bca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x996c), 0xe5);
        EXPECT(gbc.readMem(0x996d), 0xa4);
        // C5 021D
        gbc.setState(0xb76d, 0xe693, 0x53b0, 0xa2d2, 0x6d03, 0x992c, 0x1, 0x0);
        gbc.writeMem(0xb76d, { 0xc5 });
        gbc.writeMem(0xe691, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe691);
        EXPECT(gbc.pc(), 0xb76e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb76d), 0xc5);
        EXPECT(gbc.readMem(0xe691), 0xd2);
        EXPECT(gbc.readMem(0xe692), 0xa2);
        // C5 021F
        gbc.setState(0xe78c, 0xa312, 0xd600, 0x2116, 0xc6ab, 0xa4bc, 0x0, 0x0);
        gbc.writeMem(0xa310, { 0x0, 0x0 });
        gbc.writeMem(0xe78c, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa310);
        EXPECT(gbc.pc(), 0xe78d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa310), 0x16);
        EXPECT(gbc.readMem(0xa311), 0x21);
        EXPECT(gbc.readMem(0xe78c), 0xc5);
        // C5 0225
        gbc.setState(0x419e, 0xd2d8, 0x2ef0, 0x4eee, 0x1c8b, 0x78aa, 0x0, 0x0);
        gbc.writeMem(0x419e, { 0xc5 });
        gbc.writeMem(0xd2d6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd2d6);
        EXPECT(gbc.pc(), 0x419f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2d6), 0xee);
        EXPECT(gbc.readMem(0xd2d7), 0x4e);
        // C5 0227
        gbc.setState(0xa188, 0xdae7, 0x7fd0, 0xba4, 0xc34, 0x821f, 0x0, 0x0);
        gbc.writeMem(0xa188, { 0xc5 });
        gbc.writeMem(0xdae5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdae5);
        EXPECT(gbc.pc(), 0xa189);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa188), 0xc5);
        EXPECT(gbc.readMem(0xdae5), 0xa4);
        EXPECT(gbc.readMem(0xdae6), 0xb);
        // C5 022A
        gbc.setState(0x84bb, 0xffc0, 0xc050, 0x50f0, 0xf04b, 0xf1ae, 0x0, 0x0);
        gbc.writeMem(0x84bb, { 0xc5 });
        gbc.writeMem(0xffbe, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xffbe);
        EXPECT(gbc.pc(), 0x84bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84bb), 0xc5);
        EXPECT(gbc.readMem(0xffbe), 0xf0);
        EXPECT(gbc.readMem(0xffbf), 0x50);
        // C5 022C
        gbc.setState(0x403a, 0xed1a, 0x94d0, 0x5849, 0xf028, 0x62de, 0x1, 0x0);
        gbc.writeMem(0x403a, { 0xc5 });
        gbc.writeMem(0xed18, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xed18);
        EXPECT(gbc.pc(), 0x403b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed18), 0x49);
        EXPECT(gbc.readMem(0xed19), 0x58);
        // C5 022F
        gbc.setState(0xd070, 0xbb84, 0x9210, 0x49ea, 0xa438, 0xa79b, 0x0, 0x0);
        gbc.writeMem(0xbb82, { 0x0, 0x0 });
        gbc.writeMem(0xd070, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xbb82);
        EXPECT(gbc.pc(), 0xd071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb82), 0xea);
        EXPECT(gbc.readMem(0xbb83), 0x49);
        EXPECT(gbc.readMem(0xd070), 0xc5);
        // C5 0232
        gbc.setState(0xc3c6, 0x8334, 0xe980, 0x7b1a, 0x6a55, 0x613c, 0x0, 0x0);
        gbc.writeMem(0x8332, { 0x0, 0x0 });
        gbc.writeMem(0xc3c6, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8332);
        EXPECT(gbc.pc(), 0xc3c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8332), 0x1a);
        EXPECT(gbc.readMem(0x8333), 0x7b);
        EXPECT(gbc.readMem(0xc3c6), 0xc5);
        // C5 0233
        gbc.setState(0x72af, 0xdfa8, 0x2d00, 0xaf5b, 0x417c, 0x4516, 0x1, 0x1);
        gbc.writeMem(0x72af, { 0xc5 });
        gbc.writeMem(0xdfa6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xdfa6);
        EXPECT(gbc.pc(), 0x72b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfa6), 0x5b);
        EXPECT(gbc.readMem(0xdfa7), 0xaf);
        // C5 0235
        gbc.setState(0x1c11, 0xe4a4, 0x3ed0, 0x971f, 0x5863, 0x4316, 0x0, 0x1);
        gbc.writeMem(0x1c11, { 0xc5 });
        gbc.writeMem(0xe4a2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xe4a2);
        EXPECT(gbc.pc(), 0x1c12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a2), 0x1f);
        EXPECT(gbc.readMem(0xe4a3), 0x97);
        // C5 0236
        gbc.setState(0x18c, 0xb88d, 0xa9d0, 0x5b99, 0x197, 0x1c2b, 0x0, 0x0);
        gbc.writeMem(0x18c, { 0xc5 });
        gbc.writeMem(0xb88b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb88b);
        EXPECT(gbc.pc(), 0x18d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb88b), 0x99);
        EXPECT(gbc.readMem(0xb88c), 0x5b);
        // C5 023E
        gbc.setState(0x3be1, 0xc750, 0x9dc0, 0x95f3, 0xedad, 0x8754, 0x0, 0x1);
        gbc.writeMem(0x3be1, { 0xc5 });
        gbc.writeMem(0xc74e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc74e);
        EXPECT(gbc.pc(), 0x3be2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc74e), 0xf3);
        EXPECT(gbc.readMem(0xc74f), 0x95);
        // C5 0240
        gbc.setState(0xc08f, 0xb39e, 0x6300, 0x53e5, 0x1f82, 0x7a96, 0x0, 0x0);
        gbc.writeMem(0xb39c, { 0x0, 0x0 });
        gbc.writeMem(0xc08f, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb39c);
        EXPECT(gbc.pc(), 0xc090);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb39c), 0xe5);
        EXPECT(gbc.readMem(0xb39d), 0x53);
        EXPECT(gbc.readMem(0xc08f), 0xc5);
        // C5 0241
        gbc.setState(0x5956, 0x9ee0, 0xf180, 0xd748, 0xe249, 0xde11, 0x0, 0x1);
        gbc.writeMem(0x5956, { 0xc5 });
        gbc.writeMem(0x9ede, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9ede);
        EXPECT(gbc.pc(), 0x5957);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ede), 0x48);
        EXPECT(gbc.readMem(0x9edf), 0xd7);
        // C5 0243
        gbc.setState(0x6367, 0xad99, 0x72d0, 0x6849, 0x72a1, 0x2a, 0x1, 0x0);
        gbc.writeMem(0x6367, { 0xc5 });
        gbc.writeMem(0xad97, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xad97);
        EXPECT(gbc.pc(), 0x6368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad97), 0x49);
        EXPECT(gbc.readMem(0xad98), 0x68);
        // C5 0245
        gbc.setState(0x155c, 0xaf4a, 0xde20, 0x4eab, 0x5bce, 0x61e6, 0x0, 0x1);
        gbc.writeMem(0x155c, { 0xc5 });
        gbc.writeMem(0xaf48, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xaf48);
        EXPECT(gbc.pc(), 0x155d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf48), 0xab);
        EXPECT(gbc.readMem(0xaf49), 0x4e);
        // C5 0251
        gbc.setState(0x1296, 0xe60a, 0x28e0, 0xce69, 0x9f87, 0x19cd, 0x0, 0x0);
        gbc.writeMem(0x1296, { 0xc5 });
        gbc.writeMem(0xe608, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe608);
        EXPECT(gbc.pc(), 0x1297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe608), 0x69);
        EXPECT(gbc.readMem(0xe609), 0xce);
        // C5 0252
        gbc.setState(0xbf70, 0xbae7, 0xaa90, 0x4fa, 0x20a5, 0x8dea, 0x0, 0x0);
        gbc.writeMem(0xbae5, { 0x0, 0x0 });
        gbc.writeMem(0xbf70, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbae5);
        EXPECT(gbc.pc(), 0xbf71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbae5), 0xfa);
        EXPECT(gbc.readMem(0xbae6), 0x4);
        EXPECT(gbc.readMem(0xbf70), 0xc5);
        // C5 0253
        gbc.setState(0x17ca, 0xfea3, 0x4360, 0x9f68, 0x5135, 0x641f, 0x1, 0x1);
        gbc.writeMem(0x17ca, { 0xc5 });
        gbc.writeMem(0xfea1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xfea1);
        EXPECT(gbc.pc(), 0x17cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfea1), 0x68);
        EXPECT(gbc.readMem(0xfea2), 0x9f);
        // C5 0254
        gbc.setState(0x7506, 0xf501, 0x3480, 0xd8f6, 0x9c1a, 0x5918, 0x0, 0x0);
        gbc.writeMem(0x7506, { 0xc5 });
        gbc.writeMem(0xf4ff, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf4ff);
        EXPECT(gbc.pc(), 0x7507);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf4ff), 0xf6);
        EXPECT(gbc.readMem(0xf500), 0xd8);
        // C5 0255
        gbc.setState(0x9118, 0xfbbd, 0xb920, 0x650a, 0xac44, 0xfb43, 0x1, 0x0);
        gbc.writeMem(0x9118, { 0xc5 });
        gbc.writeMem(0xfbbb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xfbbb);
        EXPECT(gbc.pc(), 0x9119);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9118), 0xc5);
        EXPECT(gbc.readMem(0xfbbb), 0xa);
        EXPECT(gbc.readMem(0xfbbc), 0x65);
        // C5 0256
        gbc.setState(0x6b0c, 0xe444, 0xdd40, 0x2ae3, 0x372a, 0xe71b, 0x1, 0x0);
        gbc.writeMem(0x6b0c, { 0xc5 });
        gbc.writeMem(0xe442, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe442);
        EXPECT(gbc.pc(), 0x6b0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe442), 0xe3);
        EXPECT(gbc.readMem(0xe443), 0x2a);
        // C5 0257
        gbc.setState(0xdfaf, 0xa68a, 0xdc70, 0x960c, 0xe1b9, 0x3fe1, 0x1, 0x0);
        gbc.writeMem(0xa688, { 0x0, 0x0 });
        gbc.writeMem(0xdfaf, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xa688);
        EXPECT(gbc.pc(), 0xdfb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa688), 0xc);
        EXPECT(gbc.readMem(0xa689), 0x96);
        EXPECT(gbc.readMem(0xdfaf), 0xc5);
        // C5 025A
        gbc.setState(0xc419, 0x9d06, 0x4bf0, 0x7fc5, 0x43a2, 0x5ffc, 0x0, 0x1);
        gbc.writeMem(0x9d04, { 0x0, 0x0 });
        gbc.writeMem(0xc419, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9d04);
        EXPECT(gbc.pc(), 0xc41a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d04), 0xc5);
        EXPECT(gbc.readMem(0x9d05), 0x7f);
        EXPECT(gbc.readMem(0xc419), 0xc5);
        // C5 025B
        gbc.setState(0xa5d8, 0xfa55, 0xca90, 0x77c3, 0xaece, 0x79fc, 0x0, 0x0);
        gbc.writeMem(0xa5d8, { 0xc5 });
        gbc.writeMem(0xfa53, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xfa53);
        EXPECT(gbc.pc(), 0xa5d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5d8), 0xc5);
        EXPECT(gbc.readMem(0xfa53), 0xc3);
        EXPECT(gbc.readMem(0xfa54), 0x77);
        // C5 025C
        gbc.setState(0x67f5, 0x9292, 0xcc10, 0x14b1, 0xfa, 0xe41d, 0x1, 0x1);
        gbc.writeMem(0x67f5, { 0xc5 });
        gbc.writeMem(0x9290, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9290);
        EXPECT(gbc.pc(), 0x67f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9290), 0xb1);
        EXPECT(gbc.readMem(0x9291), 0x14);
        // C5 025D
        gbc.setState(0x56d9, 0xfce7, 0x9c0, 0x71cf, 0x3951, 0xf85d, 0x0, 0x0);
        gbc.writeMem(0x56d9, { 0xc5 });
        gbc.writeMem(0xfce5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfce5);
        EXPECT(gbc.pc(), 0x56da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfce5), 0xcf);
        EXPECT(gbc.readMem(0xfce6), 0x71);
        // C5 0263
        gbc.setState(0x7d1c, 0xe0e4, 0x7e90, 0xb4eb, 0xb34b, 0xc57c, 0x1, 0x0);
        gbc.writeMem(0x7d1c, { 0xc5 });
        gbc.writeMem(0xe0e2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xe0e2);
        EXPECT(gbc.pc(), 0x7d1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0e2), 0xeb);
        EXPECT(gbc.readMem(0xe0e3), 0xb4);
        // C5 0267
        gbc.setState(0x6d57, 0x9193, 0x3e50, 0xa94c, 0x1a57, 0x4793, 0x1, 0x1);
        gbc.writeMem(0x6d57, { 0xc5 });
        gbc.writeMem(0x9191, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x9191);
        EXPECT(gbc.pc(), 0x6d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9191), 0x4c);
        EXPECT(gbc.readMem(0x9192), 0xa9);
        // C5 0269
        gbc.setState(0x59b2, 0xba04, 0xb5f0, 0x9f74, 0x40a0, 0x8227, 0x1, 0x0);
        gbc.writeMem(0x59b2, { 0xc5 });
        gbc.writeMem(0xba02, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xba02);
        EXPECT(gbc.pc(), 0x59b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba02), 0x74);
        EXPECT(gbc.readMem(0xba03), 0x9f);
        // C5 026B
        gbc.setState(0x8893, 0x8fca, 0xf820, 0x5de0, 0xc192, 0x88c3, 0x0, 0x0);
        gbc.writeMem(0x8893, { 0xc5 });
        gbc.writeMem(0x8fc8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8fc8);
        EXPECT(gbc.pc(), 0x8894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8893), 0xc5);
        EXPECT(gbc.readMem(0x8fc8), 0xe0);
        EXPECT(gbc.readMem(0x8fc9), 0x5d);
        // C5 026C
        gbc.setState(0x6c89, 0xda7c, 0x52d0, 0xd14e, 0xb3d3, 0x5bd4, 0x0, 0x1);
        gbc.writeMem(0x6c89, { 0xc5 });
        gbc.writeMem(0xda7a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xda7a);
        EXPECT(gbc.pc(), 0x6c8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda7a), 0x4e);
        EXPECT(gbc.readMem(0xda7b), 0xd1);
        // C5 026D
        gbc.setState(0x6f5f, 0xe1d4, 0x64a0, 0x1955, 0x101e, 0x1144, 0x1, 0x0);
        gbc.writeMem(0x6f5f, { 0xc5 });
        gbc.writeMem(0xe1d2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe1d2);
        EXPECT(gbc.pc(), 0x6f60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1d2), 0x55);
        EXPECT(gbc.readMem(0xe1d3), 0x19);
        // C5 026E
        gbc.setState(0x8006, 0x9116, 0x6d20, 0x19f3, 0xd3a6, 0xd4a, 0x0, 0x0);
        gbc.writeMem(0x8006, { 0xc5 });
        gbc.writeMem(0x9114, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9114);
        EXPECT(gbc.pc(), 0x8007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8006), 0xc5);
        EXPECT(gbc.readMem(0x9114), 0xf3);
        EXPECT(gbc.readMem(0x9115), 0x19);
        // C5 026F
        gbc.setState(0x81ce, 0x8fb0, 0xc640, 0x510, 0x115e, 0xbee6, 0x1, 0x1);
        gbc.writeMem(0x81ce, { 0xc5 });
        gbc.writeMem(0x8fae, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x8fae);
        EXPECT(gbc.pc(), 0x81cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ce), 0xc5);
        EXPECT(gbc.readMem(0x8fae), 0x10);
        EXPECT(gbc.readMem(0x8faf), 0x5);
        // C5 0270
        gbc.setState(0x8f5, 0xf19a, 0xb7c0, 0xad56, 0x47e7, 0xf943, 0x0, 0x1);
        gbc.writeMem(0x8f5, { 0xc5 });
        gbc.writeMem(0xf198, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xf198);
        EXPECT(gbc.pc(), 0x8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf198), 0x56);
        EXPECT(gbc.readMem(0xf199), 0xad);
        // C5 0273
        gbc.setState(0xa50a, 0xf24c, 0xbe0, 0xcc1f, 0xa960, 0x32fa, 0x0, 0x1);
        gbc.writeMem(0xa50a, { 0xc5 });
        gbc.writeMem(0xf24a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf24a);
        EXPECT(gbc.pc(), 0xa50b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa50a), 0xc5);
        EXPECT(gbc.readMem(0xf24a), 0x1f);
        EXPECT(gbc.readMem(0xf24b), 0xcc);
        // C5 0275
        gbc.setState(0xb9b2, 0xc035, 0x7bd0, 0x7e16, 0xa132, 0xa032, 0x0, 0x1);
        gbc.writeMem(0xb9b2, { 0xc5 });
        gbc.writeMem(0xc033, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc033);
        EXPECT(gbc.pc(), 0xb9b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9b2), 0xc5);
        EXPECT(gbc.readMem(0xc033), 0x16);
        EXPECT(gbc.readMem(0xc034), 0x7e);
        // C5 0279
        gbc.setState(0xe722, 0xaa05, 0xe0a0, 0x8da9, 0x1c03, 0xf75c, 0x1, 0x0);
        gbc.writeMem(0xaa03, { 0x0, 0x0 });
        gbc.writeMem(0xe722, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xaa03);
        EXPECT(gbc.pc(), 0xe723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa03), 0xa9);
        EXPECT(gbc.readMem(0xaa04), 0x8d);
        EXPECT(gbc.readMem(0xe722), 0xc5);
        // C5 027B
        gbc.setState(0x250, 0xdd2c, 0x8d20, 0x161d, 0x7741, 0xe2a, 0x1, 0x0);
        gbc.writeMem(0x250, { 0xc5 });
        gbc.writeMem(0xdd2a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdd2a);
        EXPECT(gbc.pc(), 0x251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd2a), 0x1d);
        EXPECT(gbc.readMem(0xdd2b), 0x16);
        // C5 027C
        gbc.setState(0xdccf, 0xaa20, 0x3170, 0xe751, 0xbfa3, 0x7b28, 0x0, 0x0);
        gbc.writeMem(0xaa1e, { 0x0, 0x0 });
        gbc.writeMem(0xdccf, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xaa1e);
        EXPECT(gbc.pc(), 0xdcd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa1e), 0x51);
        EXPECT(gbc.readMem(0xaa1f), 0xe7);
        EXPECT(gbc.readMem(0xdccf), 0xc5);
        // C5 027E
        gbc.setState(0x2cd3, 0xb60d, 0xae0, 0xf001, 0x99fb, 0x6e14, 0x1, 0x1);
        gbc.writeMem(0x2cd3, { 0xc5 });
        gbc.writeMem(0xb60b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb60b);
        EXPECT(gbc.pc(), 0x2cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb60b), 0x1);
        EXPECT(gbc.readMem(0xb60c), 0xf0);
        // C5 027F
        gbc.setState(0x51d2, 0x974f, 0x8ab0, 0x8e3e, 0xbc1a, 0x590c, 0x1, 0x0);
        gbc.writeMem(0x51d2, { 0xc5 });
        gbc.writeMem(0x974d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x974d);
        EXPECT(gbc.pc(), 0x51d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x974d), 0x3e);
        EXPECT(gbc.readMem(0x974e), 0x8e);
        // C5 0282
        gbc.setState(0x2cf3, 0xa04f, 0x2aa0, 0xacaf, 0xe73, 0xd74f, 0x1, 0x1);
        gbc.writeMem(0x2cf3, { 0xc5 });
        gbc.writeMem(0xa04d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa04d);
        EXPECT(gbc.pc(), 0x2cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa04d), 0xaf);
        EXPECT(gbc.readMem(0xa04e), 0xac);
        // C5 0283
        gbc.setState(0xea05, 0xe6ad, 0xa350, 0x2cad, 0x2479, 0x6420, 0x0, 0x0);
        gbc.writeMem(0xe6ab, { 0x0, 0x0 });
        gbc.writeMem(0xea05, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe6ab);
        EXPECT(gbc.pc(), 0xea06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ab), 0xad);
        EXPECT(gbc.readMem(0xe6ac), 0x2c);
        EXPECT(gbc.readMem(0xea05), 0xc5);
        // C5 0284
        gbc.setState(0xc1c, 0xa18e, 0x1ae0, 0x2c3d, 0xbf0a, 0xd67, 0x0, 0x0);
        gbc.writeMem(0xc1c, { 0xc5 });
        gbc.writeMem(0xa18c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa18c);
        EXPECT(gbc.pc(), 0xc1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa18c), 0x3d);
        EXPECT(gbc.readMem(0xa18d), 0x2c);
        // C5 0288
        gbc.setState(0x61db, 0x9d8b, 0x4460, 0xf10a, 0x73eb, 0xbaec, 0x1, 0x0);
        gbc.writeMem(0x61db, { 0xc5 });
        gbc.writeMem(0x9d89, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9d89);
        EXPECT(gbc.pc(), 0x61dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d89), 0xa);
        EXPECT(gbc.readMem(0x9d8a), 0xf1);
        // C5 028D
        gbc.setState(0xad5f, 0xc44a, 0x8400, 0x695, 0x6f98, 0xeb02, 0x0, 0x1);
        gbc.writeMem(0xad5f, { 0xc5 });
        gbc.writeMem(0xc448, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc448);
        EXPECT(gbc.pc(), 0xad60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad5f), 0xc5);
        EXPECT(gbc.readMem(0xc448), 0x95);
        EXPECT(gbc.readMem(0xc449), 0x6);
        // C5 0296
        gbc.setState(0x58ae, 0xb085, 0xed80, 0x15c8, 0x6f58, 0xff9, 0x0, 0x0);
        gbc.writeMem(0x58ae, { 0xc5 });
        gbc.writeMem(0xb083, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb083);
        EXPECT(gbc.pc(), 0x58af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb083), 0xc8);
        EXPECT(gbc.readMem(0xb084), 0x15);
        // C5 0297
        gbc.setState(0x1091, 0xe7dc, 0x27f0, 0x5c35, 0x7dfe, 0x5064, 0x1, 0x0);
        gbc.writeMem(0x1091, { 0xc5 });
        gbc.writeMem(0xe7da, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe7da);
        EXPECT(gbc.pc(), 0x1092);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7da), 0x35);
        EXPECT(gbc.readMem(0xe7db), 0x5c);
        // C5 029A
        gbc.setState(0x8db3, 0x9588, 0x8790, 0xc882, 0x4563, 0x227f, 0x0, 0x1);
        gbc.writeMem(0x8db3, { 0xc5 });
        gbc.writeMem(0x9586, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9586);
        EXPECT(gbc.pc(), 0x8db4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8db3), 0xc5);
        EXPECT(gbc.readMem(0x9586), 0x82);
        EXPECT(gbc.readMem(0x9587), 0xc8);
        // C5 029C
        gbc.setState(0x9ba7, 0xffc6, 0x2df0, 0xa421, 0xbf42, 0x56c8, 0x0, 0x0);
        gbc.writeMem(0x9ba7, { 0xc5 });
        gbc.writeMem(0xffc4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xffc4);
        EXPECT(gbc.pc(), 0x9ba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba7), 0xc5);
        EXPECT(gbc.readMem(0xffc4), 0x21);
        EXPECT(gbc.readMem(0xffc5), 0xa4);
        // C5 029D
        gbc.setState(0xbcb0, 0xa8ed, 0xea10, 0x78c9, 0x72d3, 0xb6e3, 0x0, 0x0);
        gbc.writeMem(0xa8eb, { 0x0, 0x0 });
        gbc.writeMem(0xbcb0, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa8eb);
        EXPECT(gbc.pc(), 0xbcb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8eb), 0xc9);
        EXPECT(gbc.readMem(0xa8ec), 0x78);
        EXPECT(gbc.readMem(0xbcb0), 0xc5);
        // C5 029F
        gbc.setState(0x5032, 0x88e5, 0xa620, 0xd0ed, 0xe232, 0x398d, 0x1, 0x1);
        gbc.writeMem(0x5032, { 0xc5 });
        gbc.writeMem(0x88e3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x88e3);
        EXPECT(gbc.pc(), 0x5033);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e3), 0xed);
        EXPECT(gbc.readMem(0x88e4), 0xd0);
        // C5 02A2
        gbc.setState(0x8728, 0xad24, 0x75f0, 0xbfa, 0xcca4, 0x3984, 0x1, 0x0);
        gbc.writeMem(0x8728, { 0xc5 });
        gbc.writeMem(0xad22, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xad22);
        EXPECT(gbc.pc(), 0x8729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8728), 0xc5);
        EXPECT(gbc.readMem(0xad22), 0xfa);
        EXPECT(gbc.readMem(0xad23), 0xb);
        // C5 02A3
        gbc.setState(0x396a, 0xbe79, 0xfc00, 0x3f2d, 0x8131, 0x8c4e, 0x0, 0x0);
        gbc.writeMem(0x396a, { 0xc5 });
        gbc.writeMem(0xbe77, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xbe77);
        EXPECT(gbc.pc(), 0x396b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe77), 0x2d);
        EXPECT(gbc.readMem(0xbe78), 0x3f);
        // C5 02A7
        gbc.setState(0xa70c, 0xbbf7, 0x71b0, 0xb729, 0x7e4f, 0x22dc, 0x0, 0x1);
        gbc.writeMem(0xa70c, { 0xc5 });
        gbc.writeMem(0xbbf5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbbf5);
        EXPECT(gbc.pc(), 0xa70d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa70c), 0xc5);
        EXPECT(gbc.readMem(0xbbf5), 0x29);
        EXPECT(gbc.readMem(0xbbf6), 0xb7);
        // C5 02A8
        gbc.setState(0xa976, 0xfb94, 0x1a60, 0x376b, 0xb61d, 0xe42, 0x1, 0x1);
        gbc.writeMem(0xa976, { 0xc5 });
        gbc.writeMem(0xfb92, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xfb92);
        EXPECT(gbc.pc(), 0xa977);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa976), 0xc5);
        EXPECT(gbc.readMem(0xfb92), 0x6b);
        EXPECT(gbc.readMem(0xfb93), 0x37);
        // C5 02A9
        gbc.setState(0x6850, 0xbcd8, 0x2e40, 0x4e9e, 0x6ba3, 0xc65c, 0x0, 0x0);
        gbc.writeMem(0x6850, { 0xc5 });
        gbc.writeMem(0xbcd6, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbcd6);
        EXPECT(gbc.pc(), 0x6851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcd6), 0x9e);
        EXPECT(gbc.readMem(0xbcd7), 0x4e);
        // C5 02AB
        gbc.setState(0x889, 0xeed4, 0x8aa0, 0x4364, 0xeaa6, 0xfe01, 0x1, 0x0);
        gbc.writeMem(0x889, { 0xc5 });
        gbc.writeMem(0xeed2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xeed2);
        EXPECT(gbc.pc(), 0x88a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeed2), 0x64);
        EXPECT(gbc.readMem(0xeed3), 0x43);
        // C5 02AE
        gbc.setState(0xd72e, 0xf350, 0x4900, 0x3c4a, 0xf1d, 0xfe31, 0x0, 0x0);
        gbc.writeMem(0xd72e, { 0xc5 });
        gbc.writeMem(0xf34e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf34e);
        EXPECT(gbc.pc(), 0xd72f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd72e), 0xc5);
        EXPECT(gbc.readMem(0xf34e), 0x4a);
        EXPECT(gbc.readMem(0xf34f), 0x3c);
        // C5 02B1
        gbc.setState(0x75cc, 0xa370, 0x45f0, 0x5663, 0xa8ac, 0x37fc, 0x1, 0x0);
        gbc.writeMem(0x75cc, { 0xc5 });
        gbc.writeMem(0xa36e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa36e);
        EXPECT(gbc.pc(), 0x75cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa36e), 0x63);
        EXPECT(gbc.readMem(0xa36f), 0x56);
        // C5 02B4
        gbc.setState(0x354f, 0x9269, 0xad40, 0xd062, 0xee85, 0x48fa, 0x0, 0x0);
        gbc.writeMem(0x354f, { 0xc5 });
        gbc.writeMem(0x9267, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9267);
        EXPECT(gbc.pc(), 0x3550);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9267), 0x62);
        EXPECT(gbc.readMem(0x9268), 0xd0);
        // C5 02B7
        gbc.setState(0xbf79, 0xa8ff, 0x74d0, 0xeb0, 0x5250, 0xac0, 0x0, 0x1);
        gbc.writeMem(0xa8fd, { 0x0, 0x0 });
        gbc.writeMem(0xbf79, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa8fd);
        EXPECT(gbc.pc(), 0xbf7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8fd), 0xb0);
        EXPECT(gbc.readMem(0xa8fe), 0xe);
        EXPECT(gbc.readMem(0xbf79), 0xc5);
        // C5 02B9
        gbc.setState(0xd735, 0xe3bc, 0x1990, 0x1833, 0x112a, 0x4a8f, 0x0, 0x0);
        gbc.writeMem(0xd735, { 0xc5 });
        gbc.writeMem(0xe3ba, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe3ba);
        EXPECT(gbc.pc(), 0xd736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd735), 0xc5);
        EXPECT(gbc.readMem(0xe3ba), 0x33);
        EXPECT(gbc.readMem(0xe3bb), 0x18);
        // C5 02BA
        gbc.setState(0x522, 0xf8af, 0x3420, 0x3fb7, 0x326c, 0x5a71, 0x0, 0x1);
        gbc.writeMem(0x522, { 0xc5 });
        gbc.writeMem(0xf8ad, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xf8ad);
        EXPECT(gbc.pc(), 0x523);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf8ad), 0xb7);
        EXPECT(gbc.readMem(0xf8ae), 0x3f);
        // C5 02BD
        gbc.setState(0xa18f, 0xde90, 0xda70, 0x8624, 0x9e9d, 0x9c3c, 0x1, 0x0);
        gbc.writeMem(0xa18f, { 0xc5 });
        gbc.writeMem(0xde8e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xde8e);
        EXPECT(gbc.pc(), 0xa190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa18f), 0xc5);
        EXPECT(gbc.readMem(0xde8e), 0x24);
        EXPECT(gbc.readMem(0xde8f), 0x86);
        // C5 02BE
        gbc.setState(0xcdaf, 0xaed9, 0x40f0, 0x79f3, 0xbf4a, 0x79f9, 0x1, 0x1);
        gbc.writeMem(0xaed7, { 0x0, 0x0 });
        gbc.writeMem(0xcdaf, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xaed7);
        EXPECT(gbc.pc(), 0xcdb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed7), 0xf3);
        EXPECT(gbc.readMem(0xaed8), 0x79);
        EXPECT(gbc.readMem(0xcdaf), 0xc5);
        // C5 02C0
        gbc.setState(0xac96, 0x85cd, 0x9970, 0x5e71, 0x165, 0xca1d, 0x0, 0x1);
        gbc.writeMem(0x85cb, { 0x0, 0x0 });
        gbc.writeMem(0xac96, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x85cb);
        EXPECT(gbc.pc(), 0xac97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85cb), 0x71);
        EXPECT(gbc.readMem(0x85cc), 0x5e);
        EXPECT(gbc.readMem(0xac96), 0xc5);
        // C5 02C2
        gbc.setState(0x5770, 0xd564, 0x2ae0, 0x3d44, 0x7125, 0x7927, 0x1, 0x1);
        gbc.writeMem(0x5770, { 0xc5 });
        gbc.writeMem(0xd562, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd562);
        EXPECT(gbc.pc(), 0x5771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd562), 0x44);
        EXPECT(gbc.readMem(0xd563), 0x3d);
        // C5 02C3
        gbc.setState(0x2112, 0xf6f4, 0x87e0, 0x7c16, 0x626c, 0xa06b, 0x0, 0x1);
        gbc.writeMem(0x2112, { 0xc5 });
        gbc.writeMem(0xf6f2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf6f2);
        EXPECT(gbc.pc(), 0x2113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf6f2), 0x16);
        EXPECT(gbc.readMem(0xf6f3), 0x7c);
        // C5 02C5
        gbc.setState(0xd483, 0xcc33, 0x7ac0, 0x4ce5, 0xdbf4, 0x45ba, 0x1, 0x0);
        gbc.writeMem(0xcc31, { 0x0, 0x0 });
        gbc.writeMem(0xd483, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcc31);
        EXPECT(gbc.pc(), 0xd484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc31), 0xe5);
        EXPECT(gbc.readMem(0xcc32), 0x4c);
        EXPECT(gbc.readMem(0xd483), 0xc5);
        // C5 02C9
        gbc.setState(0x2ace, 0xb1c4, 0xff50, 0x40cf, 0x7636, 0x3325, 0x1, 0x0);
        gbc.writeMem(0x2ace, { 0xc5 });
        gbc.writeMem(0xb1c2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb1c2);
        EXPECT(gbc.pc(), 0x2acf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1c2), 0xcf);
        EXPECT(gbc.readMem(0xb1c3), 0x40);
        // C5 02CC
        gbc.setState(0x1ec2, 0x891b, 0x5fc0, 0x30a2, 0xf051, 0xbe4, 0x0, 0x1);
        gbc.writeMem(0x1ec2, { 0xc5 });
        gbc.writeMem(0x8919, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8919);
        EXPECT(gbc.pc(), 0x1ec3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8919), 0xa2);
        EXPECT(gbc.readMem(0x891a), 0x30);
        // C5 02D1
        gbc.setState(0x271c, 0xb2c1, 0x8980, 0x644c, 0xbcd2, 0x6783, 0x1, 0x0);
        gbc.writeMem(0x271c, { 0xc5 });
        gbc.writeMem(0xb2bf, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb2bf);
        EXPECT(gbc.pc(), 0x271d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2bf), 0x4c);
        EXPECT(gbc.readMem(0xb2c0), 0x64);
        // C5 02D4
        gbc.setState(0xb287, 0xc189, 0xe080, 0x48ee, 0x1d11, 0xf513, 0x0, 0x1);
        gbc.writeMem(0xb287, { 0xc5 });
        gbc.writeMem(0xc187, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xc187);
        EXPECT(gbc.pc(), 0xb288);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb287), 0xc5);
        EXPECT(gbc.readMem(0xc187), 0xee);
        EXPECT(gbc.readMem(0xc188), 0x48);
        // C5 02D7
        gbc.setState(0xc6c8, 0x953d, 0x5a20, 0xd9c7, 0x64b7, 0x4c15, 0x0, 0x1);
        gbc.writeMem(0x953b, { 0x0, 0x0 });
        gbc.writeMem(0xc6c8, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x953b);
        EXPECT(gbc.pc(), 0xc6c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x953b), 0xc7);
        EXPECT(gbc.readMem(0x953c), 0xd9);
        EXPECT(gbc.readMem(0xc6c8), 0xc5);
        // C5 02D8
        gbc.setState(0xceac, 0xa98b, 0x9d0, 0x97e2, 0x7ed2, 0xb36d, 0x0, 0x1);
        gbc.writeMem(0xa989, { 0x0, 0x0 });
        gbc.writeMem(0xceac, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa989);
        EXPECT(gbc.pc(), 0xcead);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa989), 0xe2);
        EXPECT(gbc.readMem(0xa98a), 0x97);
        EXPECT(gbc.readMem(0xceac), 0xc5);
        // C5 02D9
        gbc.setState(0xe8b9, 0x8151, 0x3af0, 0x2396, 0xca00, 0xd976, 0x1, 0x0);
        gbc.writeMem(0x814f, { 0x0, 0x0 });
        gbc.writeMem(0xe8b9, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x814f);
        EXPECT(gbc.pc(), 0xe8ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x814f), 0x96);
        EXPECT(gbc.readMem(0x8150), 0x23);
        EXPECT(gbc.readMem(0xe8b9), 0xc5);
        // C5 02DA
        gbc.setState(0x1d55, 0xba79, 0xbfd0, 0x25b7, 0x2f47, 0x4db3, 0x0, 0x0);
        gbc.writeMem(0x1d55, { 0xc5 });
        gbc.writeMem(0xba77, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xba77);
        EXPECT(gbc.pc(), 0x1d56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba77), 0xb7);
        EXPECT(gbc.readMem(0xba78), 0x25);
        // C5 02DF
        gbc.setState(0xba42, 0xa1b8, 0xa9e0, 0xed48, 0xfd81, 0xf16e, 0x0, 0x1);
        gbc.writeMem(0xa1b6, { 0x0, 0x0 });
        gbc.writeMem(0xba42, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xa1b6);
        EXPECT(gbc.pc(), 0xba43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1b6), 0x48);
        EXPECT(gbc.readMem(0xa1b7), 0xed);
        EXPECT(gbc.readMem(0xba42), 0xc5);
        // C5 02E3
        gbc.setState(0xd432, 0xef31, 0xbad0, 0x1bb4, 0xd493, 0xc5b1, 0x0, 0x0);
        gbc.writeMem(0xd432, { 0xc5 });
        gbc.writeMem(0xef2f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xef2f);
        EXPECT(gbc.pc(), 0xd433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd432), 0xc5);
        EXPECT(gbc.readMem(0xef2f), 0xb4);
        EXPECT(gbc.readMem(0xef30), 0x1b);
        // C5 02E4
        gbc.setState(0x82c1, 0xdd5f, 0xa310, 0x2e03, 0x866f, 0x565f, 0x1, 0x1);
        gbc.writeMem(0x82c1, { 0xc5 });
        gbc.writeMem(0xdd5d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdd5d);
        EXPECT(gbc.pc(), 0x82c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c1), 0xc5);
        EXPECT(gbc.readMem(0xdd5d), 0x3);
        EXPECT(gbc.readMem(0xdd5e), 0x2e);
        // C5 02E6
        gbc.setState(0x5b18, 0x8393, 0x90e0, 0x203, 0xaea6, 0x5ce, 0x0, 0x0);
        gbc.writeMem(0x5b18, { 0xc5 });
        gbc.writeMem(0x8391, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8391);
        EXPECT(gbc.pc(), 0x5b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8391), 0x3);
        EXPECT(gbc.readMem(0x8392), 0x2);
        // C5 02E7
        gbc.setState(0x9c4a, 0xb7fb, 0xc4a0, 0x926a, 0xd5e, 0x8910, 0x1, 0x0);
        gbc.writeMem(0x9c4a, { 0xc5 });
        gbc.writeMem(0xb7f9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb7f9);
        EXPECT(gbc.pc(), 0x9c4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c4a), 0xc5);
        EXPECT(gbc.readMem(0xb7f9), 0x6a);
        EXPECT(gbc.readMem(0xb7fa), 0x92);
        // C5 02E8
        gbc.setState(0xe657, 0xe9ce, 0x2730, 0x53ff, 0xa4a6, 0xb578, 0x1, 0x1);
        gbc.writeMem(0xe657, { 0xc5 });
        gbc.writeMem(0xe9cc, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe9cc);
        EXPECT(gbc.pc(), 0xe658);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe657), 0xc5);
        EXPECT(gbc.readMem(0xe9cc), 0xff);
        EXPECT(gbc.readMem(0xe9cd), 0x53);
        // C5 02E9
        gbc.setState(0x5360, 0x8cc9, 0xd0e0, 0xee67, 0x3b79, 0x5e42, 0x0, 0x1);
        gbc.writeMem(0x5360, { 0xc5 });
        gbc.writeMem(0x8cc7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8cc7);
        EXPECT(gbc.pc(), 0x5361);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cc7), 0x67);
        EXPECT(gbc.readMem(0x8cc8), 0xee);
        // C5 02EC
        gbc.setState(0xa594, 0x9342, 0x1a90, 0xc139, 0x6de3, 0x91f8, 0x0, 0x0);
        gbc.writeMem(0x9340, { 0x0, 0x0 });
        gbc.writeMem(0xa594, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9340);
        EXPECT(gbc.pc(), 0xa595);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9340), 0x39);
        EXPECT(gbc.readMem(0x9341), 0xc1);
        EXPECT(gbc.readMem(0xa594), 0xc5);
        // C5 02F0
        gbc.setState(0x7f4, 0xc08b, 0x4220, 0x6ce8, 0x4b1c, 0x2f3f, 0x1, 0x1);
        gbc.writeMem(0x7f4, { 0xc5 });
        gbc.writeMem(0xc089, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xc089);
        EXPECT(gbc.pc(), 0x7f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc089), 0xe8);
        EXPECT(gbc.readMem(0xc08a), 0x6c);
        // C5 02F1
        gbc.setState(0x68f4, 0xf7f5, 0x9cb0, 0x1c22, 0xa63c, 0x2230, 0x1, 0x0);
        gbc.writeMem(0x68f4, { 0xc5 });
        gbc.writeMem(0xf7f3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf7f3);
        EXPECT(gbc.pc(), 0x68f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf7f3), 0x22);
        EXPECT(gbc.readMem(0xf7f4), 0x1c);
        // C5 02F3
        gbc.setState(0xd2bd, 0xece3, 0x6350, 0x6c9, 0x1a3a, 0x1e62, 0x0, 0x0);
        gbc.writeMem(0xd2bd, { 0xc5 });
        gbc.writeMem(0xece1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xece1);
        EXPECT(gbc.pc(), 0xd2be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2bd), 0xc5);
        EXPECT(gbc.readMem(0xece1), 0xc9);
        EXPECT(gbc.readMem(0xece2), 0x6);
        // C5 02F4
        gbc.setState(0xe044, 0xf52c, 0xe4b0, 0xe0ea, 0xe55e, 0x6280, 0x0, 0x1);
        gbc.writeMem(0xe044, { 0xc5 });
        gbc.writeMem(0xf52a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf52a);
        EXPECT(gbc.pc(), 0xe045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe044), 0xc5);
        EXPECT(gbc.readMem(0xf52a), 0xea);
        EXPECT(gbc.readMem(0xf52b), 0xe0);
        // C5 02F5
        gbc.setState(0xe40d, 0xa47c, 0x3ce0, 0x6759, 0x8edb, 0x15ff, 0x1, 0x1);
        gbc.writeMem(0xa47a, { 0x0, 0x0 });
        gbc.writeMem(0xe40d, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xa47a);
        EXPECT(gbc.pc(), 0xe40e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa47a), 0x59);
        EXPECT(gbc.readMem(0xa47b), 0x67);
        EXPECT(gbc.readMem(0xe40d), 0xc5);
        // C5 02F8
        gbc.setState(0x75e1, 0xdaad, 0x3970, 0x2928, 0xaafc, 0x89eb, 0x0, 0x1);
        gbc.writeMem(0x75e1, { 0xc5 });
        gbc.writeMem(0xdaab, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xdaab);
        EXPECT(gbc.pc(), 0x75e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaab), 0x28);
        EXPECT(gbc.readMem(0xdaac), 0x29);
        // C5 02FA
        gbc.setState(0x2835, 0xa914, 0x8860, 0x90ca, 0x4bd9, 0x1ec2, 0x1, 0x1);
        gbc.writeMem(0x2835, { 0xc5 });
        gbc.writeMem(0xa912, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa912);
        EXPECT(gbc.pc(), 0x2836);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa912), 0xca);
        EXPECT(gbc.readMem(0xa913), 0x90);
        // C5 0300
        gbc.setState(0x8200, 0xfad7, 0x5590, 0x2aa4, 0x1aed, 0x5f8d, 0x0, 0x0);
        gbc.writeMem(0x8200, { 0xc5 });
        gbc.writeMem(0xfad5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xfad5);
        EXPECT(gbc.pc(), 0x8201);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8200), 0xc5);
        EXPECT(gbc.readMem(0xfad5), 0xa4);
        EXPECT(gbc.readMem(0xfad6), 0x2a);
        // C5 0302
        gbc.setState(0x3c56, 0xd011, 0xba10, 0x8a79, 0x8ca0, 0xf64b, 0x1, 0x1);
        gbc.writeMem(0x3c56, { 0xc5 });
        gbc.writeMem(0xd00f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd00f);
        EXPECT(gbc.pc(), 0x3c57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd00f), 0x79);
        EXPECT(gbc.readMem(0xd010), 0x8a);
        // C5 0303
        gbc.setState(0x9601, 0xc387, 0x2770, 0x4d06, 0x55a9, 0x41ac, 0x0, 0x1);
        gbc.writeMem(0x9601, { 0xc5 });
        gbc.writeMem(0xc385, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc385);
        EXPECT(gbc.pc(), 0x9602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9601), 0xc5);
        EXPECT(gbc.readMem(0xc385), 0x6);
        EXPECT(gbc.readMem(0xc386), 0x4d);
        // C5 0309
        gbc.setState(0x13bf, 0xfa0a, 0xa020, 0x142c, 0x70bf, 0xe9d9, 0x1, 0x1);
        gbc.writeMem(0x13bf, { 0xc5 });
        gbc.writeMem(0xfa08, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xfa08);
        EXPECT(gbc.pc(), 0x13c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfa08), 0x2c);
        EXPECT(gbc.readMem(0xfa09), 0x14);
        // C5 030C
        gbc.setState(0x2df5, 0xc99b, 0x14b0, 0x3c29, 0xc45d, 0x41a0, 0x0, 0x1);
        gbc.writeMem(0x2df5, { 0xc5 });
        gbc.writeMem(0xc999, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc999);
        EXPECT(gbc.pc(), 0x2df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc999), 0x29);
        EXPECT(gbc.readMem(0xc99a), 0x3c);
        // C5 030E
        gbc.setState(0x4072, 0x9a01, 0xac30, 0xbb6, 0x4769, 0x9163, 0x1, 0x0);
        gbc.writeMem(0x4072, { 0xc5 });
        gbc.writeMem(0x99ff, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x99ff);
        EXPECT(gbc.pc(), 0x4073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ff), 0xb6);
        EXPECT(gbc.readMem(0x9a00), 0xb);
        // C5 0310
        gbc.setState(0x1f0e, 0xddac, 0x9eb0, 0x3c66, 0x59b, 0xd68e, 0x1, 0x1);
        gbc.writeMem(0x1f0e, { 0xc5 });
        gbc.writeMem(0xddaa, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xddaa);
        EXPECT(gbc.pc(), 0x1f0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddaa), 0x66);
        EXPECT(gbc.readMem(0xddab), 0x3c);
        // C5 0311
        gbc.setState(0xa6df, 0xf596, 0x3590, 0x482b, 0x7560, 0x4dc2, 0x1, 0x1);
        gbc.writeMem(0xa6df, { 0xc5 });
        gbc.writeMem(0xf594, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf594);
        EXPECT(gbc.pc(), 0xa6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6df), 0xc5);
        EXPECT(gbc.readMem(0xf594), 0x2b);
        EXPECT(gbc.readMem(0xf595), 0x48);
        // C5 0312
        gbc.setState(0x5944, 0xfdb7, 0xbdd0, 0x5a4c, 0xf501, 0x59e6, 0x1, 0x0);
        gbc.writeMem(0x5944, { 0xc5 });
        gbc.writeMem(0xfdb5, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xfdb5);
        EXPECT(gbc.pc(), 0x5945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfdb5), 0x4c);
        EXPECT(gbc.readMem(0xfdb6), 0x5a);
        // C5 0313
        gbc.setState(0xe0a3, 0xd7d0, 0x2c60, 0x9f2b, 0x6543, 0x3c91, 0x0, 0x0);
        gbc.writeMem(0xd7ce, { 0x0, 0x0 });
        gbc.writeMem(0xe0a3, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd7ce);
        EXPECT(gbc.pc(), 0xe0a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7ce), 0x2b);
        EXPECT(gbc.readMem(0xd7cf), 0x9f);
        EXPECT(gbc.readMem(0xe0a3), 0xc5);
        // C5 0314
        gbc.setState(0xa58f, 0xdbdf, 0x1740, 0x5ec2, 0xa5fb, 0x2576, 0x0, 0x0);
        gbc.writeMem(0xa58f, { 0xc5 });
        gbc.writeMem(0xdbdd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xdbdd);
        EXPECT(gbc.pc(), 0xa590);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa58f), 0xc5);
        EXPECT(gbc.readMem(0xdbdd), 0xc2);
        EXPECT(gbc.readMem(0xdbde), 0x5e);
        // C5 0318
        gbc.setState(0x206a, 0xd079, 0xf510, 0xad83, 0xa293, 0x6299, 0x0, 0x0);
        gbc.writeMem(0x206a, { 0xc5 });
        gbc.writeMem(0xd077, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd077);
        EXPECT(gbc.pc(), 0x206b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd077), 0x83);
        EXPECT(gbc.readMem(0xd078), 0xad);
        // C5 031A
        gbc.setState(0x136e, 0xf901, 0xc5b0, 0xf2e6, 0x7b75, 0xc97f, 0x1, 0x0);
        gbc.writeMem(0x136e, { 0xc5 });
        gbc.writeMem(0xf8ff, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf8ff);
        EXPECT(gbc.pc(), 0x136f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf8ff), 0xe6);
        EXPECT(gbc.readMem(0xf900), 0xf2);
        // C5 031D
        gbc.setState(0x2c34, 0xd751, 0xcb90, 0xf3a3, 0xc17c, 0x5671, 0x1, 0x0);
        gbc.writeMem(0x2c34, { 0xc5 });
        gbc.writeMem(0xd74f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd74f);
        EXPECT(gbc.pc(), 0x2c35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd74f), 0xa3);
        EXPECT(gbc.readMem(0xd750), 0xf3);
        // C5 0321
        gbc.setState(0x8f99, 0x9a9f, 0xcd70, 0x14e0, 0x42ca, 0xc7c, 0x0, 0x1);
        gbc.writeMem(0x8f99, { 0xc5 });
        gbc.writeMem(0x9a9d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x9a9d);
        EXPECT(gbc.pc(), 0x8f9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f99), 0xc5);
        EXPECT(gbc.readMem(0x9a9d), 0xe0);
        EXPECT(gbc.readMem(0x9a9e), 0x14);
        // C5 0322
        gbc.setState(0x508c, 0xa39b, 0xdb80, 0x5445, 0x5ef0, 0xd16d, 0x0, 0x1);
        gbc.writeMem(0x508c, { 0xc5 });
        gbc.writeMem(0xa399, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa399);
        EXPECT(gbc.pc(), 0x508d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa399), 0x45);
        EXPECT(gbc.readMem(0xa39a), 0x54);
        // C5 0323
        gbc.setState(0x3632, 0xb697, 0x98f0, 0x406b, 0xb8f9, 0x4c2f, 0x0, 0x1);
        gbc.writeMem(0x3632, { 0xc5 });
        gbc.writeMem(0xb695, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb695);
        EXPECT(gbc.pc(), 0x3633);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb695), 0x6b);
        EXPECT(gbc.readMem(0xb696), 0x40);
        // C5 0326
        gbc.setState(0xd259, 0xa4b3, 0x45d0, 0xea10, 0x8b3f, 0xadf0, 0x0, 0x0);
        gbc.writeMem(0xa4b1, { 0x0, 0x0 });
        gbc.writeMem(0xd259, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa4b1);
        EXPECT(gbc.pc(), 0xd25a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4b1), 0x10);
        EXPECT(gbc.readMem(0xa4b2), 0xea);
        EXPECT(gbc.readMem(0xd259), 0xc5);
        // C5 0327
        gbc.setState(0x5e50, 0x9fa1, 0xaa50, 0x5469, 0xf5fd, 0x7e55, 0x0, 0x1);
        gbc.writeMem(0x5e50, { 0xc5 });
        gbc.writeMem(0x9f9f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9f9f);
        EXPECT(gbc.pc(), 0x5e51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f9f), 0x69);
        EXPECT(gbc.readMem(0x9fa0), 0x54);
        // C5 0329
        gbc.setState(0xea4b, 0xf46a, 0x56e0, 0xa656, 0x9136, 0xbf80, 0x0, 0x0);
        gbc.writeMem(0xea4b, { 0xc5 });
        gbc.writeMem(0xf468, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf468);
        EXPECT(gbc.pc(), 0xea4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea4b), 0xc5);
        EXPECT(gbc.readMem(0xf468), 0x56);
        EXPECT(gbc.readMem(0xf469), 0xa6);
        // C5 032B
        gbc.setState(0xe997, 0x94ff, 0x27d0, 0xac93, 0xae4f, 0x4bda, 0x0, 0x1);
        gbc.writeMem(0x94fd, { 0x0, 0x0 });
        gbc.writeMem(0xe997, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x94fd);
        EXPECT(gbc.pc(), 0xe998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94fd), 0x93);
        EXPECT(gbc.readMem(0x94fe), 0xac);
        EXPECT(gbc.readMem(0xe997), 0xc5);
        // C5 032C
        gbc.setState(0xd6ec, 0xfc39, 0x45f0, 0x3e11, 0x584c, 0x2c47, 0x0, 0x1);
        gbc.writeMem(0xd6ec, { 0xc5 });
        gbc.writeMem(0xfc37, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xfc37);
        EXPECT(gbc.pc(), 0xd6ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6ec), 0xc5);
        EXPECT(gbc.readMem(0xfc37), 0x11);
        EXPECT(gbc.readMem(0xfc38), 0x3e);
        // C5 032D
        gbc.setState(0x7c1f, 0xc9db, 0x65c0, 0x38bb, 0x795a, 0x1181, 0x0, 0x0);
        gbc.writeMem(0x7c1f, { 0xc5 });
        gbc.writeMem(0xc9d9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc9d9);
        EXPECT(gbc.pc(), 0x7c20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9d9), 0xbb);
        EXPECT(gbc.readMem(0xc9da), 0x38);
        // C5 0330
        gbc.setState(0x132a, 0xa37f, 0x5eb0, 0x8387, 0xf656, 0x111e, 0x1, 0x0);
        gbc.writeMem(0x132a, { 0xc5 });
        gbc.writeMem(0xa37d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa37d);
        EXPECT(gbc.pc(), 0x132b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa37d), 0x87);
        EXPECT(gbc.readMem(0xa37e), 0x83);
        // C5 0333
        gbc.setState(0x3ff3, 0x90a1, 0x990, 0x1f8b, 0x83d8, 0x5bc7, 0x0, 0x0);
        gbc.writeMem(0x3ff3, { 0xc5 });
        gbc.writeMem(0x909f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x909f);
        EXPECT(gbc.pc(), 0x3ff4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x909f), 0x8b);
        EXPECT(gbc.readMem(0x90a0), 0x1f);
        // C5 0335
        gbc.setState(0x9857, 0xc4f6, 0xbee0, 0x5647, 0x2808, 0x3769, 0x1, 0x0);
        gbc.writeMem(0x9857, { 0xc5 });
        gbc.writeMem(0xc4f4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc4f4);
        EXPECT(gbc.pc(), 0x9858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9857), 0xc5);
        EXPECT(gbc.readMem(0xc4f4), 0x47);
        EXPECT(gbc.readMem(0xc4f5), 0x56);
        // C5 0336
        gbc.setState(0x23f7, 0xc22a, 0xb50, 0xe57c, 0x8d7b, 0xb9fc, 0x0, 0x1);
        gbc.writeMem(0x23f7, { 0xc5 });
        gbc.writeMem(0xc228, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc228);
        EXPECT(gbc.pc(), 0x23f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc228), 0x7c);
        EXPECT(gbc.readMem(0xc229), 0xe5);
        // C5 033A
        gbc.setState(0x50a9, 0xdb99, 0xfc50, 0x5db0, 0x897, 0x2014, 0x0, 0x0);
        gbc.writeMem(0x50a9, { 0xc5 });
        gbc.writeMem(0xdb97, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdb97);
        EXPECT(gbc.pc(), 0x50aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb97), 0xb0);
        EXPECT(gbc.readMem(0xdb98), 0x5d);
        // C5 033C
        gbc.setState(0x5a50, 0xd90b, 0xff40, 0x90ec, 0x1d87, 0x9329, 0x1, 0x1);
        gbc.writeMem(0x5a50, { 0xc5 });
        gbc.writeMem(0xd909, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd909);
        EXPECT(gbc.pc(), 0x5a51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd909), 0xec);
        EXPECT(gbc.readMem(0xd90a), 0x90);
        // C5 033D
        gbc.setState(0xe070, 0xe90d, 0x5640, 0xf74e, 0x4ba5, 0x887a, 0x1, 0x1);
        gbc.writeMem(0xe070, { 0xc5 });
        gbc.writeMem(0xe90b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe90b);
        EXPECT(gbc.pc(), 0xe071);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe070), 0xc5);
        EXPECT(gbc.readMem(0xe90b), 0x4e);
        EXPECT(gbc.readMem(0xe90c), 0xf7);
        // C5 0342
        gbc.setState(0x992a, 0xb5b9, 0x2dc0, 0xc86, 0x20a3, 0xe7aa, 0x0, 0x0);
        gbc.writeMem(0x992a, { 0xc5 });
        gbc.writeMem(0xb5b7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb5b7);
        EXPECT(gbc.pc(), 0x992b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992a), 0xc5);
        EXPECT(gbc.readMem(0xb5b7), 0x86);
        EXPECT(gbc.readMem(0xb5b8), 0xc);
        // C5 0344
        gbc.setState(0xbb3b, 0xbe2b, 0xe860, 0xc5fd, 0x40ac, 0x1fd1, 0x0, 0x0);
        gbc.writeMem(0xbb3b, { 0xc5 });
        gbc.writeMem(0xbe29, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xbe29);
        EXPECT(gbc.pc(), 0xbb3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb3b), 0xc5);
        EXPECT(gbc.readMem(0xbe29), 0xfd);
        EXPECT(gbc.readMem(0xbe2a), 0xc5);
        // C5 0345
        gbc.setState(0xb757, 0xc440, 0x9400, 0xb8e3, 0x5eed, 0x8fbf, 0x1, 0x1);
        gbc.writeMem(0xb757, { 0xc5 });
        gbc.writeMem(0xc43e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xc43e);
        EXPECT(gbc.pc(), 0xb758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb757), 0xc5);
        EXPECT(gbc.readMem(0xc43e), 0xe3);
        EXPECT(gbc.readMem(0xc43f), 0xb8);
        // C5 0347
        gbc.setState(0xe3ff, 0x9b71, 0xabd0, 0xd4c1, 0xe45b, 0xd8a8, 0x0, 0x0);
        gbc.writeMem(0x9b6f, { 0x0, 0x0 });
        gbc.writeMem(0xe3ff, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9b6f);
        EXPECT(gbc.pc(), 0xe400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b6f), 0xc1);
        EXPECT(gbc.readMem(0x9b70), 0xd4);
        EXPECT(gbc.readMem(0xe3ff), 0xc5);
        // C5 0349
        gbc.setState(0x880, 0xc440, 0x34a0, 0x4fa6, 0x8480, 0x3e37, 0x0, 0x1);
        gbc.writeMem(0x880, { 0xc5 });
        gbc.writeMem(0xc43e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc43e);
        EXPECT(gbc.pc(), 0x881);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc43e), 0xa6);
        EXPECT(gbc.readMem(0xc43f), 0x4f);
        // C5 034B
        gbc.setState(0x74dd, 0xe505, 0x8c40, 0xad2b, 0x2136, 0x851d, 0x0, 0x0);
        gbc.writeMem(0x74dd, { 0xc5 });
        gbc.writeMem(0xe503, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe503);
        EXPECT(gbc.pc(), 0x74de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe503), 0x2b);
        EXPECT(gbc.readMem(0xe504), 0xad);
        // C5 034E
        gbc.setState(0x3ead, 0xdefb, 0xdc0, 0x347, 0xda26, 0x14cf, 0x0, 0x1);
        gbc.writeMem(0x3ead, { 0xc5 });
        gbc.writeMem(0xdef9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xdef9);
        EXPECT(gbc.pc(), 0x3eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdef9), 0x47);
        EXPECT(gbc.readMem(0xdefa), 0x3);
        // C5 0352
        gbc.setState(0x8fe3, 0xb836, 0x8d0, 0x1472, 0xa882, 0x8f78, 0x0, 0x0);
        gbc.writeMem(0x8fe3, { 0xc5 });
        gbc.writeMem(0xb834, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xb834);
        EXPECT(gbc.pc(), 0x8fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fe3), 0xc5);
        EXPECT(gbc.readMem(0xb834), 0x72);
        EXPECT(gbc.readMem(0xb835), 0x14);
        // C5 0356
        gbc.setState(0xe4dd, 0xe4aa, 0x36e0, 0xf48c, 0x5fe2, 0x9a92, 0x0, 0x0);
        gbc.writeMem(0xe4a8, { 0x0, 0x0 });
        gbc.writeMem(0xe4dd, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe4a8);
        EXPECT(gbc.pc(), 0xe4de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4a8), 0x8c);
        EXPECT(gbc.readMem(0xe4a9), 0xf4);
        EXPECT(gbc.readMem(0xe4dd), 0xc5);
        // C5 0357
        gbc.setState(0x3e85, 0x8387, 0xc510, 0x995, 0xff5b, 0xa448, 0x0, 0x0);
        gbc.writeMem(0x3e85, { 0xc5 });
        gbc.writeMem(0x8385, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8385);
        EXPECT(gbc.pc(), 0x3e86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8385), 0x95);
        EXPECT(gbc.readMem(0x8386), 0x9);
        // C5 0359
        gbc.setState(0x3be5, 0x9bcc, 0x120, 0x5bb5, 0x3057, 0x8d08, 0x1, 0x1);
        gbc.writeMem(0x3be5, { 0xc5 });
        gbc.writeMem(0x9bca, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9bca);
        EXPECT(gbc.pc(), 0x3be6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bca), 0xb5);
        EXPECT(gbc.readMem(0x9bcb), 0x5b);
        // C5 035A
        gbc.setState(0x85e4, 0xfd56, 0x4b70, 0x87f5, 0x7d42, 0x694c, 0x0, 0x1);
        gbc.writeMem(0x85e4, { 0xc5 });
        gbc.writeMem(0xfd54, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xfd54);
        EXPECT(gbc.pc(), 0x85e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85e4), 0xc5);
        EXPECT(gbc.readMem(0xfd54), 0xf5);
        EXPECT(gbc.readMem(0xfd55), 0x87);
        // C5 035B
        gbc.setState(0xa509, 0xe5b2, 0xf740, 0xefc1, 0xfce2, 0x9b0d, 0x0, 0x0);
        gbc.writeMem(0xa509, { 0xc5 });
        gbc.writeMem(0xe5b0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe5b0);
        EXPECT(gbc.pc(), 0xa50a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa509), 0xc5);
        EXPECT(gbc.readMem(0xe5b0), 0xc1);
        EXPECT(gbc.readMem(0xe5b1), 0xef);
        // C5 035C
        gbc.setState(0x3e2a, 0x96d9, 0x7f00, 0xd954, 0xcf81, 0xa007, 0x0, 0x1);
        gbc.writeMem(0x3e2a, { 0xc5 });
        gbc.writeMem(0x96d7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x96d7);
        EXPECT(gbc.pc(), 0x3e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d7), 0x54);
        EXPECT(gbc.readMem(0x96d8), 0xd9);
        // C5 035D
        gbc.setState(0x4a1c, 0xb1a9, 0xbbb0, 0xe4fe, 0xab9a, 0x212d, 0x1, 0x0);
        gbc.writeMem(0x4a1c, { 0xc5 });
        gbc.writeMem(0xb1a7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb1a7);
        EXPECT(gbc.pc(), 0x4a1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1a7), 0xfe);
        EXPECT(gbc.readMem(0xb1a8), 0xe4);
        // C5 035F
        gbc.setState(0x365e, 0x8383, 0x3870, 0xe0d9, 0x6791, 0xbcf9, 0x0, 0x0);
        gbc.writeMem(0x365e, { 0xc5 });
        gbc.writeMem(0x8381, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8381);
        EXPECT(gbc.pc(), 0x365f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8381), 0xd9);
        EXPECT(gbc.readMem(0x8382), 0xe0);
        // C5 0364
        gbc.setState(0xde3, 0xf2cb, 0x4f70, 0x71d8, 0x679f, 0xdd6a, 0x1, 0x1);
        gbc.writeMem(0xde3, { 0xc5 });
        gbc.writeMem(0xf2c9, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf2c9);
        EXPECT(gbc.pc(), 0xde4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf2c9), 0xd8);
        EXPECT(gbc.readMem(0xf2ca), 0x71);
        // C5 0365
        gbc.setState(0xbdd0, 0xc67e, 0x4350, 0x5718, 0x21af, 0x6e1d, 0x1, 0x1);
        gbc.writeMem(0xbdd0, { 0xc5 });
        gbc.writeMem(0xc67c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc67c);
        EXPECT(gbc.pc(), 0xbdd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdd0), 0xc5);
        EXPECT(gbc.readMem(0xc67c), 0x18);
        EXPECT(gbc.readMem(0xc67d), 0x57);
        // C5 0366
        gbc.setState(0x9335, 0xd82a, 0xf230, 0xe6e7, 0x5df5, 0x25d1, 0x0, 0x1);
        gbc.writeMem(0x9335, { 0xc5 });
        gbc.writeMem(0xd828, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xd828);
        EXPECT(gbc.pc(), 0x9336);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9335), 0xc5);
        EXPECT(gbc.readMem(0xd828), 0xe7);
        EXPECT(gbc.readMem(0xd829), 0xe6);
        // C5 036A
        gbc.setState(0xa7e7, 0xa23d, 0x2b20, 0xff4a, 0x7429, 0x1b97, 0x1, 0x1);
        gbc.writeMem(0xa23b, { 0x0, 0x0 });
        gbc.writeMem(0xa7e7, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa23b);
        EXPECT(gbc.pc(), 0xa7e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa23b), 0x4a);
        EXPECT(gbc.readMem(0xa23c), 0xff);
        EXPECT(gbc.readMem(0xa7e7), 0xc5);
        // C5 036B
        gbc.setState(0xd397, 0xa36e, 0x320, 0x206f, 0xaf1, 0x81d8, 0x1, 0x0);
        gbc.writeMem(0xa36c, { 0x0, 0x0 });
        gbc.writeMem(0xd397, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa36c);
        EXPECT(gbc.pc(), 0xd398);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa36c), 0x6f);
        EXPECT(gbc.readMem(0xa36d), 0x20);
        EXPECT(gbc.readMem(0xd397), 0xc5);
        // C5 036C
        gbc.setState(0x768, 0xfbd1, 0x5ec0, 0x6fc, 0xebfc, 0xd01d, 0x0, 0x0);
        gbc.writeMem(0x768, { 0xc5 });
        gbc.writeMem(0xfbcf, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xfbcf);
        EXPECT(gbc.pc(), 0x769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfbcf), 0xfc);
        EXPECT(gbc.readMem(0xfbd0), 0x6);
        // C5 036E
        gbc.setState(0xc456, 0xe4d2, 0xcd30, 0x24c5, 0x575d, 0x7d4f, 0x1, 0x0);
        gbc.writeMem(0xc456, { 0xc5 });
        gbc.writeMem(0xe4d0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe4d0);
        EXPECT(gbc.pc(), 0xc457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc456), 0xc5);
        EXPECT(gbc.readMem(0xe4d0), 0xc5);
        EXPECT(gbc.readMem(0xe4d1), 0x24);
        // C5 036F
        gbc.setState(0x71a7, 0xc04d, 0x6d40, 0xf481, 0x61f0, 0x391a, 0x0, 0x1);
        gbc.writeMem(0x71a7, { 0xc5 });
        gbc.writeMem(0xc04b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc04b);
        EXPECT(gbc.pc(), 0x71a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc04b), 0x81);
        EXPECT(gbc.readMem(0xc04c), 0xf4);
        // C5 0371
        gbc.setState(0x79ee, 0xcd09, 0x7340, 0x3589, 0x4586, 0x232e, 0x1, 0x0);
        gbc.writeMem(0x79ee, { 0xc5 });
        gbc.writeMem(0xcd07, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xcd07);
        EXPECT(gbc.pc(), 0x79ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd07), 0x89);
        EXPECT(gbc.readMem(0xcd08), 0x35);
        // C5 0372
        gbc.setState(0x8933, 0xfe05, 0x3f30, 0xc247, 0x7707, 0x7988, 0x1, 0x1);
        gbc.writeMem(0x8933, { 0xc5 });
        gbc.writeMem(0xfe03, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xfe03);
        EXPECT(gbc.pc(), 0x8934);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8933), 0xc5);
        EXPECT(gbc.readMem(0xfe03), 0x47);
        EXPECT(gbc.readMem(0xfe04), 0xc2);
        // C5 0373
        gbc.setState(0x3499, 0xe47f, 0x37e0, 0x1636, 0x1823, 0x240, 0x1, 0x1);
        gbc.writeMem(0x3499, { 0xc5 });
        gbc.writeMem(0xe47d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe47d);
        EXPECT(gbc.pc(), 0x349a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe47d), 0x36);
        EXPECT(gbc.readMem(0xe47e), 0x16);
        // C5 0374
        gbc.setState(0x18a2, 0x9fc4, 0x4f50, 0x76a5, 0xb9a7, 0x8c94, 0x1, 0x1);
        gbc.writeMem(0x18a2, { 0xc5 });
        gbc.writeMem(0x9fc2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9fc2);
        EXPECT(gbc.pc(), 0x18a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fc2), 0xa5);
        EXPECT(gbc.readMem(0x9fc3), 0x76);
        // C5 0376
        gbc.setState(0x88f3, 0xc7ed, 0x8050, 0xc5de, 0x7bde, 0x28ff, 0x1, 0x1);
        gbc.writeMem(0x88f3, { 0xc5 });
        gbc.writeMem(0xc7eb, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc7eb);
        EXPECT(gbc.pc(), 0x88f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f3), 0xc5);
        EXPECT(gbc.readMem(0xc7eb), 0xde);
        EXPECT(gbc.readMem(0xc7ec), 0xc5);
        // C5 0379
        gbc.setState(0xbcbb, 0xec93, 0xe800, 0x48b7, 0xab90, 0xf91f, 0x0, 0x1);
        gbc.writeMem(0xbcbb, { 0xc5 });
        gbc.writeMem(0xec91, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xec91);
        EXPECT(gbc.pc(), 0xbcbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcbb), 0xc5);
        EXPECT(gbc.readMem(0xec91), 0xb7);
        EXPECT(gbc.readMem(0xec92), 0x48);
        // C5 037C
        gbc.setState(0x5a74, 0xca17, 0x5420, 0x7e46, 0xff48, 0x7efa, 0x1, 0x1);
        gbc.writeMem(0x5a74, { 0xc5 });
        gbc.writeMem(0xca15, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xca15);
        EXPECT(gbc.pc(), 0x5a75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca15), 0x46);
        EXPECT(gbc.readMem(0xca16), 0x7e);
        // C5 037D
        gbc.setState(0xc4a1, 0xaddc, 0x8700, 0xb4d0, 0x5c5b, 0xf51f, 0x0, 0x1);
        gbc.writeMem(0xadda, { 0x0, 0x0 });
        gbc.writeMem(0xc4a1, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xadda);
        EXPECT(gbc.pc(), 0xc4a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadda), 0xd0);
        EXPECT(gbc.readMem(0xaddb), 0xb4);
        EXPECT(gbc.readMem(0xc4a1), 0xc5);
        // C5 037E
        gbc.setState(0xac7d, 0xea51, 0xa3f0, 0x1e65, 0x31dd, 0x2f3b, 0x0, 0x0);
        gbc.writeMem(0xac7d, { 0xc5 });
        gbc.writeMem(0xea4f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xea4f);
        EXPECT(gbc.pc(), 0xac7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac7d), 0xc5);
        EXPECT(gbc.readMem(0xea4f), 0x65);
        EXPECT(gbc.readMem(0xea50), 0x1e);
        // C5 0380
        gbc.setState(0x97ac, 0x922d, 0x8f60, 0x2cd7, 0xef99, 0xc52d, 0x0, 0x1);
        gbc.writeMem(0x922b, { 0x0, 0x0 });
        gbc.writeMem(0x97ac, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x922b);
        EXPECT(gbc.pc(), 0x97ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x922b), 0xd7);
        EXPECT(gbc.readMem(0x922c), 0x2c);
        EXPECT(gbc.readMem(0x97ac), 0xc5);
        // C5 0383
        gbc.setState(0xc0b0, 0x908f, 0xb6d0, 0xd601, 0x9655, 0xf5e8, 0x1, 0x1);
        gbc.writeMem(0x908d, { 0x0, 0x0 });
        gbc.writeMem(0xc0b0, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x908d);
        EXPECT(gbc.pc(), 0xc0b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x908d), 0x1);
        EXPECT(gbc.readMem(0x908e), 0xd6);
        EXPECT(gbc.readMem(0xc0b0), 0xc5);
        // C5 0390
        gbc.setState(0xa05, 0x967e, 0xc900, 0x1c5f, 0x7029, 0x67df, 0x1, 0x0);
        gbc.writeMem(0xa05, { 0xc5 });
        gbc.writeMem(0x967c, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x967c);
        EXPECT(gbc.pc(), 0xa06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x967c), 0x5f);
        EXPECT(gbc.readMem(0x967d), 0x1c);
        // C5 0391
        gbc.setState(0x38ab, 0x8e68, 0x74a0, 0x2910, 0x37ff, 0xe4c7, 0x0, 0x0);
        gbc.writeMem(0x38ab, { 0xc5 });
        gbc.writeMem(0x8e66, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8e66);
        EXPECT(gbc.pc(), 0x38ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e66), 0x10);
        EXPECT(gbc.readMem(0x8e67), 0x29);
        // C5 0393
        gbc.setState(0x2497, 0xb426, 0x7f70, 0xce72, 0x657c, 0xefdf, 0x1, 0x1);
        gbc.writeMem(0x2497, { 0xc5 });
        gbc.writeMem(0xb424, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb424);
        EXPECT(gbc.pc(), 0x2498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb424), 0x72);
        EXPECT(gbc.readMem(0xb425), 0xce);
        // C5 0396
        gbc.setState(0x5d7d, 0xe727, 0x33c0, 0xcb83, 0x2a3d, 0x9555, 0x1, 0x1);
        gbc.writeMem(0x5d7d, { 0xc5 });
        gbc.writeMem(0xe725, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xe725);
        EXPECT(gbc.pc(), 0x5d7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe725), 0x83);
        EXPECT(gbc.readMem(0xe726), 0xcb);
        // C5 0399
        gbc.setState(0x193, 0xa304, 0xbb0, 0x368c, 0xd21, 0xb1bc, 0x1, 0x0);
        gbc.writeMem(0x193, { 0xc5 });
        gbc.writeMem(0xa302, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa302);
        EXPECT(gbc.pc(), 0x194);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa302), 0x8c);
        EXPECT(gbc.readMem(0xa303), 0x36);
        // C5 039B
        gbc.setState(0x45f0, 0xafc3, 0xae20, 0x5d8c, 0x70d3, 0x2647, 0x0, 0x1);
        gbc.writeMem(0x45f0, { 0xc5 });
        gbc.writeMem(0xafc1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xafc1);
        EXPECT(gbc.pc(), 0x45f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafc1), 0x8c);
        EXPECT(gbc.readMem(0xafc2), 0x5d);
        // C5 039C
        gbc.setState(0x9efd, 0xeea3, 0xf6b0, 0xac7, 0xde26, 0x9ccb, 0x1, 0x1);
        gbc.writeMem(0x9efd, { 0xc5 });
        gbc.writeMem(0xeea1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xeea1);
        EXPECT(gbc.pc(), 0x9efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9efd), 0xc5);
        EXPECT(gbc.readMem(0xeea1), 0xc7);
        EXPECT(gbc.readMem(0xeea2), 0xa);
        // C5 039D
        gbc.setState(0x7c64, 0x83fc, 0xa200, 0xf4c, 0xf143, 0x5ae6, 0x0, 0x0);
        gbc.writeMem(0x7c64, { 0xc5 });
        gbc.writeMem(0x83fa, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x83fa);
        EXPECT(gbc.pc(), 0x7c65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83fa), 0x4c);
        EXPECT(gbc.readMem(0x83fb), 0xf);
        // C5 039E
        gbc.setState(0xe3df, 0x922e, 0xeba0, 0x5739, 0xb556, 0x433b, 0x1, 0x1);
        gbc.writeMem(0x922c, { 0x0, 0x0 });
        gbc.writeMem(0xe3df, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x922c);
        EXPECT(gbc.pc(), 0xe3e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x922c), 0x39);
        EXPECT(gbc.readMem(0x922d), 0x57);
        EXPECT(gbc.readMem(0xe3df), 0xc5);
        // C5 03A0
        gbc.setState(0x1d0f, 0xbbe5, 0x9520, 0x1d39, 0x4ac8, 0xc397, 0x1, 0x1);
        gbc.writeMem(0x1d0f, { 0xc5 });
        gbc.writeMem(0xbbe3, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbbe3);
        EXPECT(gbc.pc(), 0x1d10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe3), 0x39);
        EXPECT(gbc.readMem(0xbbe4), 0x1d);
        // C5 03AA
        gbc.setState(0xbf21, 0xca2d, 0xcb50, 0xe58a, 0x8192, 0x7c0e, 0x1, 0x0);
        gbc.writeMem(0xbf21, { 0xc5 });
        gbc.writeMem(0xca2b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xca2b);
        EXPECT(gbc.pc(), 0xbf22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf21), 0xc5);
        EXPECT(gbc.readMem(0xca2b), 0x8a);
        EXPECT(gbc.readMem(0xca2c), 0xe5);
        // C5 03AB
        gbc.setState(0x6135, 0xe9d4, 0xacf0, 0xc58, 0x5590, 0xd5c5, 0x0, 0x0);
        gbc.writeMem(0x6135, { 0xc5 });
        gbc.writeMem(0xe9d2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe9d2);
        EXPECT(gbc.pc(), 0x6136);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9d2), 0x58);
        EXPECT(gbc.readMem(0xe9d3), 0xc);
        // C5 03AD
        gbc.setState(0x16fb, 0xfeca, 0x46d0, 0x2024, 0x1a3e, 0x6153, 0x1, 0x1);
        gbc.writeMem(0x16fb, { 0xc5 });
        gbc.writeMem(0xfec8, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xfec8);
        EXPECT(gbc.pc(), 0x16fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfec8), 0x24);
        EXPECT(gbc.readMem(0xfec9), 0x20);
        // C5 03AE
        gbc.setState(0x6e10, 0x9d84, 0x1700, 0x5796, 0x4828, 0xe919, 0x1, 0x1);
        gbc.writeMem(0x6e10, { 0xc5 });
        gbc.writeMem(0x9d82, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9d82);
        EXPECT(gbc.pc(), 0x6e11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d82), 0x96);
        EXPECT(gbc.readMem(0x9d83), 0x57);
        // C5 03AF
        gbc.setState(0xdefc, 0xf321, 0x8250, 0x7326, 0x9d10, 0xda8e, 0x0, 0x1);
        gbc.writeMem(0xdefc, { 0xc5 });
        gbc.writeMem(0xf31f, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf31f);
        EXPECT(gbc.pc(), 0xdefd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdefc), 0xc5);
        EXPECT(gbc.readMem(0xf31f), 0x26);
        EXPECT(gbc.readMem(0xf320), 0x73);
        // C5 03B0
        gbc.setState(0x9665, 0xfa85, 0xee10, 0xf6f5, 0x9ec9, 0x8dbd, 0x0, 0x1);
        gbc.writeMem(0x9665, { 0xc5 });
        gbc.writeMem(0xfa83, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xfa83);
        EXPECT(gbc.pc(), 0x9666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9665), 0xc5);
        EXPECT(gbc.readMem(0xfa83), 0xf5);
        EXPECT(gbc.readMem(0xfa84), 0xf6);
        // C5 03B2
        gbc.setState(0x966c, 0x9159, 0xa950, 0x83dd, 0x3fbc, 0xd888, 0x0, 0x1);
        gbc.writeMem(0x9157, { 0x0, 0x0 });
        gbc.writeMem(0x966c, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9157);
        EXPECT(gbc.pc(), 0x966d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9157), 0xdd);
        EXPECT(gbc.readMem(0x9158), 0x83);
        EXPECT(gbc.readMem(0x966c), 0xc5);
        // C5 03B5
        gbc.setState(0xc198, 0xdd88, 0x5ac0, 0x30c, 0x3c7f, 0xb175, 0x1, 0x1);
        gbc.writeMem(0xc198, { 0xc5 });
        gbc.writeMem(0xdd86, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xdd86);
        EXPECT(gbc.pc(), 0xc199);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc198), 0xc5);
        EXPECT(gbc.readMem(0xdd86), 0xc);
        EXPECT(gbc.readMem(0xdd87), 0x3);
        // C5 03B6
        gbc.setState(0xa6d2, 0x9a76, 0x1710, 0x1357, 0xc4fb, 0x205d, 0x1, 0x1);
        gbc.writeMem(0x9a74, { 0x0, 0x0 });
        gbc.writeMem(0xa6d2, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9a74);
        EXPECT(gbc.pc(), 0xa6d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a74), 0x57);
        EXPECT(gbc.readMem(0x9a75), 0x13);
        EXPECT(gbc.readMem(0xa6d2), 0xc5);
        // C5 03B7
        gbc.setState(0x2053, 0x8476, 0x8f70, 0x139d, 0xa6a3, 0x766, 0x1, 0x1);
        gbc.writeMem(0x2053, { 0xc5 });
        gbc.writeMem(0x8474, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x8474);
        EXPECT(gbc.pc(), 0x2054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8474), 0x9d);
        EXPECT(gbc.readMem(0x8475), 0x13);
        // C5 03B9
        gbc.setState(0xefb6, 0xd881, 0x2190, 0x9716, 0x10d7, 0xbbde, 0x1, 0x0);
        gbc.writeMem(0xd87f, { 0x0, 0x0 });
        gbc.writeMem(0xefb6, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd87f);
        EXPECT(gbc.pc(), 0xefb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd87f), 0x16);
        EXPECT(gbc.readMem(0xd880), 0x97);
        EXPECT(gbc.readMem(0xefb6), 0xc5);
        // C5 03BA
        gbc.setState(0x2ae0, 0xcb50, 0x6d0, 0xb9b7, 0x9401, 0x2dd5, 0x1, 0x0);
        gbc.writeMem(0x2ae0, { 0xc5 });
        gbc.writeMem(0xcb4e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcb4e);
        EXPECT(gbc.pc(), 0x2ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb4e), 0xb7);
        EXPECT(gbc.readMem(0xcb4f), 0xb9);
        // C5 03BF
        gbc.setState(0xdd65, 0xbc38, 0x8aa0, 0x5758, 0x37ca, 0x4bf7, 0x1, 0x0);
        gbc.writeMem(0xbc36, { 0x0, 0x0 });
        gbc.writeMem(0xdd65, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbc36);
        EXPECT(gbc.pc(), 0xdd66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc36), 0x58);
        EXPECT(gbc.readMem(0xbc37), 0x57);
        EXPECT(gbc.readMem(0xdd65), 0xc5);
        // C5 03C1
        gbc.setState(0xab15, 0xc2ac, 0xd6e0, 0xf3f, 0xff3a, 0x8262, 0x1, 0x0);
        gbc.writeMem(0xab15, { 0xc5 });
        gbc.writeMem(0xc2aa, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc2aa);
        EXPECT(gbc.pc(), 0xab16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab15), 0xc5);
        EXPECT(gbc.readMem(0xc2aa), 0x3f);
        EXPECT(gbc.readMem(0xc2ab), 0xf);
        // C5 03C2
        gbc.setState(0xc64f, 0xea40, 0x8dc0, 0x9009, 0xe644, 0x1cb1, 0x1, 0x1);
        gbc.writeMem(0xc64f, { 0xc5 });
        gbc.writeMem(0xea3e, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xea3e);
        EXPECT(gbc.pc(), 0xc650);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc64f), 0xc5);
        EXPECT(gbc.readMem(0xea3e), 0x9);
        EXPECT(gbc.readMem(0xea3f), 0x90);
        // C5 03C4
        gbc.setState(0x4b5e, 0x82d9, 0x69f0, 0xb31d, 0xb274, 0xb851, 0x1, 0x0);
        gbc.writeMem(0x4b5e, { 0xc5 });
        gbc.writeMem(0x82d7, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x82d7);
        EXPECT(gbc.pc(), 0x4b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82d7), 0x1d);
        EXPECT(gbc.readMem(0x82d8), 0xb3);
        // C5 03C7
        gbc.setState(0xbaa5, 0xe10c, 0x3590, 0x1609, 0x8adf, 0xef5e, 0x1, 0x0);
        gbc.writeMem(0xbaa5, { 0xc5 });
        gbc.writeMem(0xe10a, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xe10a);
        EXPECT(gbc.pc(), 0xbaa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaa5), 0xc5);
        EXPECT(gbc.readMem(0xe10a), 0x9);
        EXPECT(gbc.readMem(0xe10b), 0x16);
        // C5 03CC
        gbc.setState(0x9981, 0xeddf, 0xcd0, 0xe741, 0x7071, 0xf290, 0x0, 0x1);
        gbc.writeMem(0x9981, { 0xc5 });
        gbc.writeMem(0xeddd, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xeddd);
        EXPECT(gbc.pc(), 0x9982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9981), 0xc5);
        EXPECT(gbc.readMem(0xeddd), 0x41);
        EXPECT(gbc.readMem(0xedde), 0xe7);
        // C5 03CE
        gbc.setState(0xe713, 0xe310, 0xd40, 0xb585, 0x965c, 0xa418, 0x0, 0x0);
        gbc.writeMem(0xe30e, { 0x0, 0x0 });
        gbc.writeMem(0xe713, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xe30e);
        EXPECT(gbc.pc(), 0xe714);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe30e), 0x85);
        EXPECT(gbc.readMem(0xe30f), 0xb5);
        EXPECT(gbc.readMem(0xe713), 0xc5);
        // C5 03CF
        gbc.setState(0x14a7, 0xe82d, 0x1e60, 0x26e4, 0xc76b, 0xb704, 0x1, 0x0);
        gbc.writeMem(0x14a7, { 0xc5 });
        gbc.writeMem(0xe82b, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe82b);
        EXPECT(gbc.pc(), 0x14a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82b), 0xe4);
        EXPECT(gbc.readMem(0xe82c), 0x26);
        // C5 03D0
        gbc.setState(0xa934, 0xf18f, 0xb610, 0xf4b9, 0x4e07, 0xe63d, 0x0, 0x0);
        gbc.writeMem(0xa934, { 0xc5 });
        gbc.writeMem(0xf18d, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf18d);
        EXPECT(gbc.pc(), 0xa935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa934), 0xc5);
        EXPECT(gbc.readMem(0xf18d), 0xb9);
        EXPECT(gbc.readMem(0xf18e), 0xf4);
        // C5 03D3
        gbc.setState(0xb4d7, 0x8902, 0x4b10, 0x515d, 0xc79f, 0x9c7, 0x0, 0x0);
        gbc.writeMem(0x8900, { 0x0, 0x0 });
        gbc.writeMem(0xb4d7, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8900);
        EXPECT(gbc.pc(), 0xb4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8900), 0x5d);
        EXPECT(gbc.readMem(0x8901), 0x51);
        EXPECT(gbc.readMem(0xb4d7), 0xc5);
        // C5 03D4
        gbc.setState(0x34, 0xafd6, 0xf480, 0x794b, 0xc815, 0xde7a, 0x1, 0x0);
        gbc.writeMem(0x34, { 0xc5 });
        gbc.writeMem(0xafd4, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xafd4);
        EXPECT(gbc.pc(), 0x35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd4), 0x4b);
        EXPECT(gbc.readMem(0xafd5), 0x79);
        // C5 03D7
        gbc.setState(0x4d5c, 0x81e4, 0xe2d0, 0xddec, 0x300, 0x6f2b, 0x0, 0x1);
        gbc.writeMem(0x4d5c, { 0xc5 });
        gbc.writeMem(0x81e2, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x81e2);
        EXPECT(gbc.pc(), 0x4d5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81e2), 0xec);
        EXPECT(gbc.readMem(0x81e3), 0xdd);
        // C5 03D8
        gbc.setState(0x9541, 0xf906, 0xbdc0, 0x11b1, 0x58be, 0x9c67, 0x0, 0x1);
        gbc.writeMem(0x9541, { 0xc5 });
        gbc.writeMem(0xf904, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf904);
        EXPECT(gbc.pc(), 0x9542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9541), 0xc5);
        EXPECT(gbc.readMem(0xf904), 0xb1);
        EXPECT(gbc.readMem(0xf905), 0x11);
        // C5 03DC
        gbc.setState(0x48b7, 0xc0b2, 0xa4b0, 0x6227, 0x261d, 0x690a, 0x0, 0x1);
        gbc.writeMem(0x48b7, { 0xc5 });
        gbc.writeMem(0xc0b0, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc0b0);
        EXPECT(gbc.pc(), 0x48b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0b0), 0x27);
        EXPECT(gbc.readMem(0xc0b1), 0x62);
        // C5 03DD
        gbc.setState(0x475c, 0xea25, 0x1250, 0xfe6e, 0x9878, 0x7b10, 0x1, 0x0);
        gbc.writeMem(0x475c, { 0xc5 });
        gbc.writeMem(0xea23, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xea23);
        EXPECT(gbc.pc(), 0x475d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea23), 0x6e);
        EXPECT(gbc.readMem(0xea24), 0xfe);
        // C5 03DE
        gbc.setState(0x8e65, 0xeab1, 0x7a30, 0x2db6, 0xff87, 0xb18, 0x0, 0x0);
        gbc.writeMem(0x8e65, { 0xc5 });
        gbc.writeMem(0xeaaf, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xeaaf);
        EXPECT(gbc.pc(), 0x8e66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e65), 0xc5);
        EXPECT(gbc.readMem(0xeaaf), 0xb6);
        EXPECT(gbc.readMem(0xeab0), 0x2d);
        // C5 03DF
        gbc.setState(0x9b67, 0xdbf3, 0x3fe0, 0xe511, 0xe1ad, 0x6a42, 0x1, 0x1);
        gbc.writeMem(0x9b67, { 0xc5 });
        gbc.writeMem(0xdbf1, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xdbf1);
        EXPECT(gbc.pc(), 0x9b68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b67), 0xc5);
        EXPECT(gbc.readMem(0xdbf1), 0x11);
        EXPECT(gbc.readMem(0xdbf2), 0xe5);
        // C5 03E0
        gbc.setState(0x8f28, 0x8594, 0xe00, 0x59d8, 0x525a, 0xb6b7, 0x0, 0x1);
        gbc.writeMem(0x8592, { 0x0, 0x0 });
        gbc.writeMem(0x8f28, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8592);
        EXPECT(gbc.pc(), 0x8f29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8592), 0xd8);
        EXPECT(gbc.readMem(0x8593), 0x59);
        EXPECT(gbc.readMem(0x8f28), 0xc5);
        // C5 03E2
        gbc.setState(0xcad7, 0xf592, 0x9820, 0x5654, 0x23fa, 0x3bc5, 0x1, 0x1);
        gbc.writeMem(0xcad7, { 0xc5 });
        gbc.writeMem(0xf590, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf590);
        EXPECT(gbc.pc(), 0xcad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcad7), 0xc5);
        EXPECT(gbc.readMem(0xf590), 0x54);
        EXPECT(gbc.readMem(0xf591), 0x56);
        // C5 03E3
        gbc.setState(0x5745, 0xa565, 0xc360, 0xa9eb, 0x3c1a, 0x6055, 0x1, 0x0);
        gbc.writeMem(0x5745, { 0xc5 });
        gbc.writeMem(0xa563, { 0x0, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa563);
        EXPECT(gbc.pc(), 0x5746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa563), 0xeb);
        EXPECT(gbc.readMem(0xa564), 0xa9);
        // C5 03E7
        gbc.setState(0xa4aa, 0x8c02, 0x2b0, 0xb385, 0x8a59, 0xd7d, 0x1, 0x1);
        gbc.writeMem(0x8c00, { 0x0, 0x0 });
        gbc.writeMem(0xa4aa, { 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8c00);
        EXPECT(gbc.pc(), 0xa4ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c00), 0x85);
        EXPECT(gbc.readMem(0x8c01), 0xb3);
        EXPECT(gbc.readMem(0xa4aa), 0xc5);
    }
}
#endif
