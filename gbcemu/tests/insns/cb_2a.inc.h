    TEST(gbcemu, opcode_cb_2a) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 2A 0000
        gbc.setState(0x3dba, 0xd81a, 0xf10, 0xd3a4, 0xa08b, 0x5e85, 0x0, 0x0);
        gbc.writeMem(0x3dba, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xd81a, gbc.sp());
        EXPECT(0x3dbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0001
        gbc.setState(0x9a79, 0xb760, 0xa430, 0xc10d, 0x8bae, 0x598d, 0x0, 0x0);
        gbc.writeMem(0x9a79, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xb760, gbc.sp());
        EXPECT(0x9a7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a79));
        EXPECT(0x2a, gbc.readMem(0x9a7a));
        // CB 2A 0002
        gbc.setState(0xed42, 0x987b, 0x7850, 0xf692, 0x1923, 0x2ce5, 0x0, 0x1);
        gbc.writeMem(0xed42, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x987b, gbc.sp());
        EXPECT(0xed44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed42));
        EXPECT(0x2a, gbc.readMem(0xed43));
        // CB 2A 0003
        gbc.setState(0x8d3a, 0x7df6, 0x720, 0xc1fa, 0xa9d3, 0x4d45, 0x0, 0x1);
        gbc.writeMem(0x8d3a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x7df6, gbc.sp());
        EXPECT(0x8d3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d3a));
        EXPECT(0x2a, gbc.readMem(0x8d3b));
        // CB 2A 0004
        gbc.setState(0xa052, 0xb3d4, 0xc20, 0x9c7, 0xe5a6, 0xe75b, 0x1, 0x0);
        gbc.writeMem(0xa052, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xb3d4, gbc.sp());
        EXPECT(0xa054, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa052));
        EXPECT(0x2a, gbc.readMem(0xa053));
        // CB 2A 0005
        gbc.setState(0xa8c5, 0x370e, 0xa010, 0xe882, 0xfdb2, 0xc36, 0x0, 0x0);
        gbc.writeMem(0xa8c5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x370e, gbc.sp());
        EXPECT(0xa8c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8c5));
        EXPECT(0x2a, gbc.readMem(0xa8c6));
        // CB 2A 0006
        gbc.setState(0x63a6, 0x1fa, 0x8ef0, 0xb132, 0x6f38, 0x747a, 0x0, 0x1);
        gbc.writeMem(0x63a6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x1fa, gbc.sp());
        EXPECT(0x63a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0007
        gbc.setState(0x771f, 0x45f8, 0x41f0, 0xa7e5, 0xb409, 0xb34, 0x1, 0x1);
        gbc.writeMem(0x771f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x45f8, gbc.sp());
        EXPECT(0x7721, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0008
        gbc.setState(0x46f, 0xc660, 0x8fb0, 0xacca, 0xe9b3, 0x343b, 0x0, 0x1);
        gbc.writeMem(0x46f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc660, gbc.sp());
        EXPECT(0x471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0009
        gbc.setState(0x54d3, 0x60f9, 0x5dc0, 0xb833, 0xed46, 0x2e1b, 0x1, 0x1);
        gbc.writeMem(0x54d3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x60f9, gbc.sp());
        EXPECT(0x54d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 000A
        gbc.setState(0xd5f8, 0x6ec4, 0xe410, 0xa0ca, 0x1381, 0x2d36, 0x0, 0x1);
        gbc.writeMem(0xd5f8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6ec4, gbc.sp());
        EXPECT(0xd5fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5f8));
        EXPECT(0x2a, gbc.readMem(0xd5f9));
        // CB 2A 000B
        gbc.setState(0x5567, 0x6cd1, 0xf300, 0xa5c, 0x5636, 0xb322, 0x0, 0x0);
        gbc.writeMem(0x5567, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6cd1, gbc.sp());
        EXPECT(0x5569, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 000C
        gbc.setState(0x4490, 0xfe03, 0x4c50, 0xd6bc, 0x2f1d, 0xdcde, 0x1, 0x0);
        gbc.writeMem(0x4490, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xfe03, gbc.sp());
        EXPECT(0x4492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 000D
        gbc.setState(0xbf61, 0x10d5, 0x4b20, 0xdd70, 0xf1c8, 0xeba3, 0x1, 0x0);
        gbc.writeMem(0xbf61, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x10d5, gbc.sp());
        EXPECT(0xbf63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf61));
        EXPECT(0x2a, gbc.readMem(0xbf62));
        // CB 2A 000E
        gbc.setState(0xf81, 0x3e8f, 0xebe0, 0x92de, 0x7473, 0xee12, 0x0, 0x0);
        gbc.writeMem(0xf81, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x3e8f, gbc.sp());
        EXPECT(0xf83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 000F
        gbc.setState(0x464, 0xf4e7, 0xb220, 0x9e60, 0x2861, 0xe10a, 0x0, 0x1);
        gbc.writeMem(0x464, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xf4e7, gbc.sp());
        EXPECT(0x466, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0010
        gbc.setState(0x39b0, 0x9bf0, 0xf940, 0xaf8e, 0xc8a4, 0xba67, 0x0, 0x1);
        gbc.writeMem(0x39b0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x9bf0, gbc.sp());
        EXPECT(0x39b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0011
        gbc.setState(0x1c07, 0x481c, 0xbd00, 0xf423, 0xae49, 0x6157, 0x1, 0x0);
        gbc.writeMem(0x1c07, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x481c, gbc.sp());
        EXPECT(0x1c09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0012
        gbc.setState(0xeb08, 0x4330, 0x1ee0, 0x2ef5, 0xde64, 0x4f1b, 0x1, 0x0);
        gbc.writeMem(0xeb08, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x4330, gbc.sp());
        EXPECT(0xeb0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb08));
        EXPECT(0x2a, gbc.readMem(0xeb09));
        // CB 2A 0013
        gbc.setState(0xe114, 0xd3a6, 0x1f50, 0x4647, 0x9b8, 0xfc13, 0x0, 0x1);
        gbc.writeMem(0xe114, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xd3a6, gbc.sp());
        EXPECT(0xe116, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe114));
        EXPECT(0x2a, gbc.readMem(0xe115));
        // CB 2A 0014
        gbc.setState(0x8875, 0xc719, 0x6400, 0x3404, 0xd415, 0xf34, 0x1, 0x0);
        gbc.writeMem(0x8875, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc719, gbc.sp());
        EXPECT(0x8877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8875));
        EXPECT(0x2a, gbc.readMem(0x8876));
        // CB 2A 0015
        gbc.setState(0x265d, 0xc68f, 0x2a30, 0xad81, 0xf273, 0x4c12, 0x0, 0x1);
        gbc.writeMem(0x265d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xc68f, gbc.sp());
        EXPECT(0x265f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0016
        gbc.setState(0x6aed, 0x64f5, 0x3b00, 0xee95, 0x8a42, 0xb747, 0x0, 0x1);
        gbc.writeMem(0x6aed, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x64f5, gbc.sp());
        EXPECT(0x6aef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0017
        gbc.setState(0x103b, 0x1a26, 0xc40, 0xeee0, 0xf12c, 0x1a06, 0x1, 0x0);
        gbc.writeMem(0x103b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1a26, gbc.sp());
        EXPECT(0x103d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0018
        gbc.setState(0x9671, 0xb888, 0xd6d0, 0x3d17, 0xf0e8, 0x85b7, 0x1, 0x0);
        gbc.writeMem(0x9671, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xb888, gbc.sp());
        EXPECT(0x9673, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9671));
        EXPECT(0x2a, gbc.readMem(0x9672));
        // CB 2A 001A
        gbc.setState(0x75ed, 0x898, 0x1900, 0x818, 0x9e67, 0x5e5b, 0x1, 0x0);
        gbc.writeMem(0x75ed, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x898, gbc.sp());
        EXPECT(0x75ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 001B
        gbc.setState(0x4f4d, 0x24fe, 0xb860, 0x2f76, 0x9075, 0x20ad, 0x1, 0x0);
        gbc.writeMem(0x4f4d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x24fe, gbc.sp());
        EXPECT(0x4f4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 001C
        gbc.setState(0x29d2, 0xed1d, 0x32f0, 0xb006, 0x64ee, 0xeea9, 0x1, 0x0);
        gbc.writeMem(0x29d2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xed1d, gbc.sp());
        EXPECT(0x29d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 001D
        gbc.setState(0xb706, 0x4388, 0x5e30, 0x2306, 0xacc2, 0x6d12, 0x0, 0x0);
        gbc.writeMem(0xb706, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4388, gbc.sp());
        EXPECT(0xb708, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb706));
        EXPECT(0x2a, gbc.readMem(0xb707));
        // CB 2A 001E
        gbc.setState(0xcbad, 0x3a26, 0xb1b0, 0xa0a2, 0xc1b4, 0xb7ce, 0x0, 0x0);
        gbc.writeMem(0xcbad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x3a26, gbc.sp());
        EXPECT(0xcbaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbad));
        EXPECT(0x2a, gbc.readMem(0xcbae));
        // CB 2A 001F
        gbc.setState(0x8e07, 0xb65f, 0xb420, 0x8a7c, 0xfaab, 0x51b5, 0x1, 0x0);
        gbc.writeMem(0x8e07, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb65f, gbc.sp());
        EXPECT(0x8e09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e07));
        EXPECT(0x2a, gbc.readMem(0x8e08));
        // CB 2A 0020
        gbc.setState(0x80ca, 0xf0e5, 0x2530, 0x6292, 0x1ec7, 0xae59, 0x0, 0x1);
        gbc.writeMem(0x80ca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xf0e5, gbc.sp());
        EXPECT(0x80cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80ca));
        EXPECT(0x2a, gbc.readMem(0x80cb));
        // CB 2A 0021
        gbc.setState(0xbf7d, 0xd225, 0xa050, 0x1236, 0x710e, 0xb32a, 0x1, 0x0);
        gbc.writeMem(0xbf7d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd225, gbc.sp());
        EXPECT(0xbf7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf7d));
        EXPECT(0x2a, gbc.readMem(0xbf7e));
        // CB 2A 0022
        gbc.setState(0x1eda, 0x160b, 0x4220, 0x384e, 0x1088, 0x7be0, 0x0, 0x1);
        gbc.writeMem(0x1eda, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x160b, gbc.sp());
        EXPECT(0x1edc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0023
        gbc.setState(0x22eb, 0xf5c4, 0xe720, 0x4244, 0xf968, 0x9c42, 0x0, 0x0);
        gbc.writeMem(0x22eb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xf5c4, gbc.sp());
        EXPECT(0x22ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0024
        gbc.setState(0xa847, 0x5588, 0x6980, 0x9df5, 0xa70c, 0x8b5e, 0x1, 0x0);
        gbc.writeMem(0xa847, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x5588, gbc.sp());
        EXPECT(0xa849, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa847));
        EXPECT(0x2a, gbc.readMem(0xa848));
        // CB 2A 0025
        gbc.setState(0xa364, 0xb95d, 0x3960, 0xdd9d, 0xc215, 0x8fe6, 0x0, 0x1);
        gbc.writeMem(0xa364, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xb95d, gbc.sp());
        EXPECT(0xa366, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa364));
        EXPECT(0x2a, gbc.readMem(0xa365));
        // CB 2A 0026
        gbc.setState(0x67f1, 0x507b, 0xd220, 0x9e92, 0x72d9, 0x1b64, 0x0, 0x0);
        gbc.writeMem(0x67f1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x507b, gbc.sp());
        EXPECT(0x67f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0028
        gbc.setState(0x2981, 0x9bf9, 0xbf90, 0x9210, 0xb8f6, 0x23ec, 0x0, 0x1);
        gbc.writeMem(0x2981, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x9bf9, gbc.sp());
        EXPECT(0x2983, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0029
        gbc.setState(0xcc5b, 0x5d4b, 0xb560, 0x5ec8, 0xa287, 0x852d, 0x1, 0x1);
        gbc.writeMem(0xcc5b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5d4b, gbc.sp());
        EXPECT(0xcc5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc5b));
        EXPECT(0x2a, gbc.readMem(0xcc5c));
        // CB 2A 002A
        gbc.setState(0xdf3e, 0x416, 0x7490, 0x43b2, 0x8d, 0xefdd, 0x0, 0x0);
        gbc.writeMem(0xdf3e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x416, gbc.sp());
        EXPECT(0xdf40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf3e));
        EXPECT(0x2a, gbc.readMem(0xdf3f));
        // CB 2A 002B
        gbc.setState(0x6586, 0xda14, 0x7f30, 0xa8f0, 0x4133, 0xc3e6, 0x0, 0x1);
        gbc.writeMem(0x6586, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xda14, gbc.sp());
        EXPECT(0x6588, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 002C
        gbc.setState(0x1809, 0xa86d, 0x930, 0x2579, 0x2730, 0x55cd, 0x0, 0x1);
        gbc.writeMem(0x1809, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa86d, gbc.sp());
        EXPECT(0x180b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 002D
        gbc.setState(0xe052, 0x354c, 0x7c0, 0x422e, 0xde9, 0xcdd3, 0x1, 0x0);
        gbc.writeMem(0xe052, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x354c, gbc.sp());
        EXPECT(0xe054, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe052));
        EXPECT(0x2a, gbc.readMem(0xe053));
        // CB 2A 002E
        gbc.setState(0xdda4, 0x4d98, 0x4b60, 0xc338, 0x416c, 0x5761, 0x0, 0x0);
        gbc.writeMem(0xdda4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x4d98, gbc.sp());
        EXPECT(0xdda6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdda4));
        EXPECT(0x2a, gbc.readMem(0xdda5));
        // CB 2A 002F
        gbc.setState(0x5bd2, 0x9860, 0xd510, 0x4138, 0x540b, 0xbc5c, 0x1, 0x0);
        gbc.writeMem(0x5bd2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x9860, gbc.sp());
        EXPECT(0x5bd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0030
        gbc.setState(0xcca, 0x3035, 0x3d0, 0x8395, 0xd549, 0xe765, 0x0, 0x0);
        gbc.writeMem(0xcca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x3035, gbc.sp());
        EXPECT(0xccc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0031
        gbc.setState(0x170a, 0x246, 0x7ca0, 0xf807, 0x2a29, 0xe4d8, 0x0, 0x1);
        gbc.writeMem(0x170a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x246, gbc.sp());
        EXPECT(0x170c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0032
        gbc.setState(0x1e37, 0xe3cd, 0xec10, 0x5bdd, 0x59fc, 0x9b0, 0x1, 0x0);
        gbc.writeMem(0x1e37, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xe3cd, gbc.sp());
        EXPECT(0x1e39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0033
        gbc.setState(0x8ac4, 0xaae1, 0x4740, 0xbb0b, 0x5a90, 0x7b4d, 0x1, 0x0);
        gbc.writeMem(0x8ac4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xaae1, gbc.sp());
        EXPECT(0x8ac6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ac4));
        EXPECT(0x2a, gbc.readMem(0x8ac5));
        // CB 2A 0034
        gbc.setState(0x3ec6, 0xd766, 0xfcd0, 0x6f3c, 0xee02, 0x4a20, 0x0, 0x1);
        gbc.writeMem(0x3ec6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xd766, gbc.sp());
        EXPECT(0x3ec8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0036
        gbc.setState(0x684e, 0x2a3e, 0x2970, 0x74a8, 0xc899, 0x45fb, 0x0, 0x1);
        gbc.writeMem(0x684e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x2a3e, gbc.sp());
        EXPECT(0x6850, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0037
        gbc.setState(0xba83, 0x7b7e, 0xd140, 0x52ad, 0xce57, 0x84a4, 0x0, 0x1);
        gbc.writeMem(0xba83, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x7b7e, gbc.sp());
        EXPECT(0xba85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba83));
        EXPECT(0x2a, gbc.readMem(0xba84));
        // CB 2A 0038
        gbc.setState(0x7963, 0xb3e8, 0xbc30, 0x1aac, 0x6320, 0x92f5, 0x1, 0x1);
        gbc.writeMem(0x7963, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb3e8, gbc.sp());
        EXPECT(0x7965, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0039
        gbc.setState(0x4986, 0x862e, 0x54c0, 0x80e3, 0xe16d, 0x789, 0x0, 0x0);
        gbc.writeMem(0x4986, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x862e, gbc.sp());
        EXPECT(0x4988, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 003A
        gbc.setState(0x177f, 0x9f9b, 0xd1d0, 0xd341, 0x3ce5, 0x7515, 0x1, 0x1);
        gbc.writeMem(0x177f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x9f9b, gbc.sp());
        EXPECT(0x1781, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 003B
        gbc.setState(0x1ff1, 0xdaa0, 0x5490, 0xaac9, 0xa817, 0xfec3, 0x0, 0x1);
        gbc.writeMem(0x1ff1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xdaa0, gbc.sp());
        EXPECT(0x1ff3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 003C
        gbc.setState(0x6fea, 0x3487, 0xaec0, 0xbb57, 0xc38d, 0x9caf, 0x1, 0x1);
        gbc.writeMem(0x6fea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x3487, gbc.sp());
        EXPECT(0x6fec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 003D
        gbc.setState(0xdbb7, 0x492a, 0x93c0, 0x874e, 0xee8b, 0x7a6, 0x0, 0x1);
        gbc.writeMem(0xdbb7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x492a, gbc.sp());
        EXPECT(0xdbb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbb7));
        EXPECT(0x2a, gbc.readMem(0xdbb8));
        // CB 2A 003E
        gbc.setState(0xd5e8, 0xe66b, 0x8e90, 0x371c, 0x7ae1, 0xaf3, 0x1, 0x1);
        gbc.writeMem(0xd5e8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe66b, gbc.sp());
        EXPECT(0xd5ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5e8));
        EXPECT(0x2a, gbc.readMem(0xd5e9));
        // CB 2A 003F
        gbc.setState(0xcf79, 0xef78, 0xa7b0, 0xfa0c, 0x219d, 0x8346, 0x1, 0x0);
        gbc.writeMem(0xcf79, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xef78, gbc.sp());
        EXPECT(0xcf7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf79));
        EXPECT(0x2a, gbc.readMem(0xcf7a));
        // CB 2A 0040
        gbc.setState(0xba09, 0xd7df, 0xb0b0, 0x74d3, 0xa617, 0x7aac, 0x1, 0x0);
        gbc.writeMem(0xba09, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xd7df, gbc.sp());
        EXPECT(0xba0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba09));
        EXPECT(0x2a, gbc.readMem(0xba0a));
        // CB 2A 0041
        gbc.setState(0x3821, 0xb41c, 0xa330, 0x7df0, 0x2c90, 0xd0d9, 0x1, 0x0);
        gbc.writeMem(0x3821, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xb41c, gbc.sp());
        EXPECT(0x3823, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0042
        gbc.setState(0xe09c, 0x2f95, 0x1b10, 0x3eb9, 0xf1c5, 0xdf93, 0x0, 0x0);
        gbc.writeMem(0xe09c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x2f95, gbc.sp());
        EXPECT(0xe09e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe09c));
        EXPECT(0x2a, gbc.readMem(0xe09d));
        // CB 2A 0043
        gbc.setState(0x3108, 0xe311, 0x60, 0x7785, 0xceed, 0x2bf9, 0x0, 0x0);
        gbc.writeMem(0x3108, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xe311, gbc.sp());
        EXPECT(0x310a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0044
        gbc.setState(0x78db, 0x49d1, 0xa6a0, 0x5d09, 0x195e, 0x78c1, 0x0, 0x0);
        gbc.writeMem(0x78db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x49d1, gbc.sp());
        EXPECT(0x78dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0045
        gbc.setState(0x24e6, 0xa60f, 0x5c60, 0xe0a1, 0xd987, 0xbfeb, 0x0, 0x1);
        gbc.writeMem(0x24e6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa60f, gbc.sp());
        EXPECT(0x24e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0046
        gbc.setState(0x8e3b, 0x3ad6, 0x99c0, 0xd70f, 0xb25d, 0x2eda, 0x0, 0x1);
        gbc.writeMem(0x8e3b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x3ad6, gbc.sp());
        EXPECT(0x8e3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e3b));
        EXPECT(0x2a, gbc.readMem(0x8e3c));
        // CB 2A 0047
        gbc.setState(0xec2a, 0xe6f, 0x1ee0, 0xa316, 0x8954, 0x1b03, 0x1, 0x0);
        gbc.writeMem(0xec2a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xe6f, gbc.sp());
        EXPECT(0xec2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec2a));
        EXPECT(0x2a, gbc.readMem(0xec2b));
        // CB 2A 0048
        gbc.setState(0xc94c, 0xeaa, 0xcf80, 0x6223, 0x9fb9, 0xda7d, 0x0, 0x1);
        gbc.writeMem(0xc94c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xeaa, gbc.sp());
        EXPECT(0xc94e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc94c));
        EXPECT(0x2a, gbc.readMem(0xc94d));
        // CB 2A 0049
        gbc.setState(0xb73d, 0x19f8, 0xaa30, 0x9742, 0x8823, 0xc3ce, 0x1, 0x1);
        gbc.writeMem(0xb73d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x19f8, gbc.sp());
        EXPECT(0xb73f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb73d));
        EXPECT(0x2a, gbc.readMem(0xb73e));
        // CB 2A 004A
        gbc.setState(0xc7df, 0xf746, 0x7c10, 0xc40f, 0x6b0a, 0x101a, 0x1, 0x1);
        gbc.writeMem(0xc7df, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xf746, gbc.sp());
        EXPECT(0xc7e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7df));
        EXPECT(0x2a, gbc.readMem(0xc7e0));
        // CB 2A 004B
        gbc.setState(0x17cc, 0xbfba, 0x3210, 0xe7b9, 0x34ff, 0x906c, 0x1, 0x0);
        gbc.writeMem(0x17cc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xbfba, gbc.sp());
        EXPECT(0x17ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 004C
        gbc.setState(0x1c87, 0xdab, 0x4e50, 0x9e2b, 0x3423, 0x5fe5, 0x1, 0x1);
        gbc.writeMem(0x1c87, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xdab, gbc.sp());
        EXPECT(0x1c89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 004D
        gbc.setState(0x6bc3, 0xd643, 0x5430, 0xc00b, 0x5a29, 0x5999, 0x1, 0x1);
        gbc.writeMem(0x6bc3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xd643, gbc.sp());
        EXPECT(0x6bc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 004E
        gbc.setState(0x3e36, 0xf3aa, 0xd140, 0xff7d, 0xb46e, 0x32c6, 0x0, 0x1);
        gbc.writeMem(0x3e36, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf3aa, gbc.sp());
        EXPECT(0x3e38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 004F
        gbc.setState(0x1a75, 0x8a56, 0xba20, 0x3933, 0x18e2, 0x4232, 0x0, 0x0);
        gbc.writeMem(0x1a75, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x8a56, gbc.sp());
        EXPECT(0x1a77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0050
        gbc.setState(0x8f4d, 0xdeed, 0x3c10, 0x5d91, 0x7ac4, 0xcfba, 0x1, 0x0);
        gbc.writeMem(0x8f4d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xdeed, gbc.sp());
        EXPECT(0x8f4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f4d));
        EXPECT(0x2a, gbc.readMem(0x8f4e));
        // CB 2A 0051
        gbc.setState(0xc48b, 0xde5e, 0x5640, 0x4c34, 0x714a, 0x5310, 0x0, 0x1);
        gbc.writeMem(0xc48b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xde5e, gbc.sp());
        EXPECT(0xc48d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc48b));
        EXPECT(0x2a, gbc.readMem(0xc48c));
        // CB 2A 0052
        gbc.setState(0x5fb0, 0xa379, 0x4850, 0x272d, 0x4eec, 0x2492, 0x0, 0x0);
        gbc.writeMem(0x5fb0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xa379, gbc.sp());
        EXPECT(0x5fb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0053
        gbc.setState(0x54cf, 0x7f1f, 0x1180, 0x3e59, 0x579b, 0x458b, 0x0, 0x1);
        gbc.writeMem(0x54cf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x7f1f, gbc.sp());
        EXPECT(0x54d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0054
        gbc.setState(0x1c88, 0x2ca5, 0x9ee0, 0x277e, 0x55ad, 0x3d2a, 0x0, 0x1);
        gbc.writeMem(0x1c88, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x2ca5, gbc.sp());
        EXPECT(0x1c8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0055
        gbc.setState(0x1d88, 0x5a1a, 0xc880, 0x6367, 0x6ca6, 0x51bc, 0x1, 0x0);
        gbc.writeMem(0x1d88, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x5a1a, gbc.sp());
        EXPECT(0x1d8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0057
        gbc.setState(0xcfe8, 0xa223, 0x39b0, 0x9bb4, 0xe987, 0x12b7, 0x1, 0x0);
        gbc.writeMem(0xcfe8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xa223, gbc.sp());
        EXPECT(0xcfea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfe8));
        EXPECT(0x2a, gbc.readMem(0xcfe9));
        // CB 2A 0058
        gbc.setState(0x3a29, 0x1a2a, 0x9920, 0x9ba7, 0x6742, 0x1436, 0x0, 0x0);
        gbc.writeMem(0x3a29, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x1a2a, gbc.sp());
        EXPECT(0x3a2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0059
        gbc.setState(0x5e, 0xa70d, 0xfd30, 0xfbb7, 0x9ce6, 0xe264, 0x1, 0x0);
        gbc.writeMem(0x5e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xa70d, gbc.sp());
        EXPECT(0x60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 005A
        gbc.setState(0xbd57, 0x7531, 0x1a50, 0xcefd, 0x649b, 0xbbce, 0x0, 0x0);
        gbc.writeMem(0xbd57, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x7531, gbc.sp());
        EXPECT(0xbd59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd57));
        EXPECT(0x2a, gbc.readMem(0xbd58));
        // CB 2A 005B
        gbc.setState(0x8c32, 0x8e55, 0x8420, 0x3fba, 0x6baa, 0xd655, 0x0, 0x1);
        gbc.writeMem(0x8c32, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x8e55, gbc.sp());
        EXPECT(0x8c34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c32));
        EXPECT(0x2a, gbc.readMem(0x8c33));
        // CB 2A 005C
        gbc.setState(0x12a1, 0x312e, 0x7af0, 0x9, 0xcbdf, 0x7f6a, 0x1, 0x0);
        gbc.writeMem(0x12a1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x312e, gbc.sp());
        EXPECT(0x12a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 005D
        gbc.setState(0x2e01, 0xff93, 0x6240, 0x86cd, 0x75a2, 0x51bf, 0x0, 0x0);
        gbc.writeMem(0x2e01, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xff93, gbc.sp());
        EXPECT(0x2e03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 005E
        gbc.setState(0x85b7, 0x2701, 0x1330, 0xcf85, 0xfeaa, 0x7522, 0x0, 0x0);
        gbc.writeMem(0x85b7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2701, gbc.sp());
        EXPECT(0x85b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85b7));
        EXPECT(0x2a, gbc.readMem(0x85b8));
        // CB 2A 005F
        gbc.setState(0xb6c, 0xc1f2, 0xa0d0, 0xe046, 0x252b, 0x3aea, 0x0, 0x0);
        gbc.writeMem(0xb6c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xc1f2, gbc.sp());
        EXPECT(0xb6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0061
        gbc.setState(0x4d9c, 0x3618, 0x3d20, 0xcc6, 0x3014, 0xc4a8, 0x0, 0x1);
        gbc.writeMem(0x4d9c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x3618, gbc.sp());
        EXPECT(0x4d9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0062
        gbc.setState(0xccaa, 0x75e, 0xa830, 0x9e2a, 0xca1e, 0x548a, 0x0, 0x0);
        gbc.writeMem(0xccaa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x75e, gbc.sp());
        EXPECT(0xccac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccaa));
        EXPECT(0x2a, gbc.readMem(0xccab));
        // CB 2A 0063
        gbc.setState(0x1ff9, 0x9545, 0x1320, 0x8b66, 0xd33d, 0xd45e, 0x1, 0x0);
        gbc.writeMem(0x1ff9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x9545, gbc.sp());
        EXPECT(0x1ffb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0064
        gbc.setState(0xc9b1, 0x1716, 0x6810, 0x79dc, 0x6404, 0xaf98, 0x0, 0x1);
        gbc.writeMem(0xc9b1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x1716, gbc.sp());
        EXPECT(0xc9b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9b1));
        EXPECT(0x2a, gbc.readMem(0xc9b2));
        // CB 2A 0065
        gbc.setState(0x2858, 0xd60, 0x36b0, 0x3887, 0x44d1, 0x6c72, 0x0, 0x0);
        gbc.writeMem(0x2858, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xd60, gbc.sp());
        EXPECT(0x285a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0066
        gbc.setState(0xb1b, 0xb378, 0x2600, 0xb618, 0x363a, 0x94ca, 0x1, 0x0);
        gbc.writeMem(0xb1b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xb378, gbc.sp());
        EXPECT(0xb1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0067
        gbc.setState(0x70b3, 0x8659, 0x70, 0x936c, 0xd2f7, 0xf74d, 0x0, 0x0);
        gbc.writeMem(0x70b3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8659, gbc.sp());
        EXPECT(0x70b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0068
        gbc.setState(0x5ad, 0x672f, 0x16d0, 0x8efa, 0x9abe, 0xf555, 0x0, 0x1);
        gbc.writeMem(0x5ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x672f, gbc.sp());
        EXPECT(0x5af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0069
        gbc.setState(0xdfc5, 0xcba6, 0xd5b0, 0xf50e, 0x8c8c, 0x69b1, 0x0, 0x1);
        gbc.writeMem(0xdfc5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xcba6, gbc.sp());
        EXPECT(0xdfc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdfc5));
        EXPECT(0x2a, gbc.readMem(0xdfc6));
        // CB 2A 006B
        gbc.setState(0xa3e5, 0x8068, 0x45d0, 0x7266, 0xf4ee, 0x53f9, 0x1, 0x1);
        gbc.writeMem(0xa3e5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x8068, gbc.sp());
        EXPECT(0xa3e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3e5));
        EXPECT(0x2a, gbc.readMem(0xa3e6));
        // CB 2A 006C
        gbc.setState(0x808c, 0x96ac, 0x6e90, 0x5346, 0xe317, 0x7982, 0x0, 0x0);
        gbc.writeMem(0x808c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x96ac, gbc.sp());
        EXPECT(0x808e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x808c));
        EXPECT(0x2a, gbc.readMem(0x808d));
        // CB 2A 006D
        gbc.setState(0xcc73, 0xe3db, 0x8590, 0x18ef, 0x414d, 0x417, 0x0, 0x0);
        gbc.writeMem(0xcc73, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xe3db, gbc.sp());
        EXPECT(0xcc75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc73));
        EXPECT(0x2a, gbc.readMem(0xcc74));
        // CB 2A 006E
        gbc.setState(0x4638, 0x1127, 0xdeb0, 0xd554, 0xd1eb, 0x6061, 0x1, 0x1);
        gbc.writeMem(0x4638, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x1127, gbc.sp());
        EXPECT(0x463a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0070
        gbc.setState(0xc802, 0xdff5, 0xab60, 0xb3aa, 0x661c, 0x92c1, 0x0, 0x1);
        gbc.writeMem(0xc802, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xdff5, gbc.sp());
        EXPECT(0xc804, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc802));
        EXPECT(0x2a, gbc.readMem(0xc803));
        // CB 2A 0071
        gbc.setState(0x4fc9, 0x1220, 0x4830, 0x403d, 0x1afc, 0x5ac1, 0x1, 0x1);
        gbc.writeMem(0x4fc9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x1220, gbc.sp());
        EXPECT(0x4fcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0072
        gbc.setState(0x859e, 0xa7e9, 0x4a80, 0x8a2b, 0x7911, 0xcec8, 0x1, 0x0);
        gbc.writeMem(0x859e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xa7e9, gbc.sp());
        EXPECT(0x85a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x859e));
        EXPECT(0x2a, gbc.readMem(0x859f));
        // CB 2A 0073
        gbc.setState(0x2d58, 0xcc7b, 0xfa60, 0x187b, 0xa668, 0x23a4, 0x0, 0x0);
        gbc.writeMem(0x2d58, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xcc7b, gbc.sp());
        EXPECT(0x2d5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0074
        gbc.setState(0x7990, 0xccc7, 0x7e40, 0xf579, 0xbd93, 0xe4c7, 0x0, 0x0);
        gbc.writeMem(0x7990, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xccc7, gbc.sp());
        EXPECT(0x7992, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0075
        gbc.setState(0xa3af, 0x8f3d, 0x28f0, 0x2b6, 0x88dd, 0x23b5, 0x1, 0x0);
        gbc.writeMem(0xa3af, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x8f3d, gbc.sp());
        EXPECT(0xa3b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3af));
        EXPECT(0x2a, gbc.readMem(0xa3b0));
        // CB 2A 0076
        gbc.setState(0x6171, 0x4b5, 0x82e0, 0xaa74, 0x63e8, 0x1777, 0x0, 0x1);
        gbc.writeMem(0x6171, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x4b5, gbc.sp());
        EXPECT(0x6173, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0077
        gbc.setState(0x713a, 0xa7ed, 0x8030, 0x2d7b, 0xd376, 0x2588, 0x0, 0x0);
        gbc.writeMem(0x713a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xa7ed, gbc.sp());
        EXPECT(0x713c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0078
        gbc.setState(0xadd4, 0xaa0e, 0x8940, 0xdc27, 0x487a, 0x3ecc, 0x0, 0x1);
        gbc.writeMem(0xadd4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xaa0e, gbc.sp());
        EXPECT(0xadd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadd4));
        EXPECT(0x2a, gbc.readMem(0xadd5));
        // CB 2A 0079
        gbc.setState(0x3687, 0xfb4a, 0x8dd0, 0xd4e7, 0x11f7, 0x8e4c, 0x1, 0x1);
        gbc.writeMem(0x3687, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xfb4a, gbc.sp());
        EXPECT(0x3689, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 007A
        gbc.setState(0x4cfc, 0x1cf3, 0x23f0, 0xa489, 0x4073, 0xa0b6, 0x1, 0x1);
        gbc.writeMem(0x4cfc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x1cf3, gbc.sp());
        EXPECT(0x4cfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 007B
        gbc.setState(0x8b3d, 0xa8eb, 0xdcd0, 0x7c30, 0x68d5, 0x41e6, 0x0, 0x1);
        gbc.writeMem(0x8b3d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xa8eb, gbc.sp());
        EXPECT(0x8b3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b3d));
        EXPECT(0x2a, gbc.readMem(0x8b3e));
        // CB 2A 007C
        gbc.setState(0x64ba, 0x62e, 0xbbd0, 0x26aa, 0xd202, 0xf68, 0x0, 0x1);
        gbc.writeMem(0x64ba, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x62e, gbc.sp());
        EXPECT(0x64bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 007D
        gbc.setState(0x3c5a, 0x6b8e, 0x1940, 0x8e78, 0x6076, 0xe0f5, 0x0, 0x1);
        gbc.writeMem(0x3c5a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x6b8e, gbc.sp());
        EXPECT(0x3c5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 007E
        gbc.setState(0xce87, 0x596, 0x9990, 0x7e1f, 0xff46, 0xcd20, 0x1, 0x0);
        gbc.writeMem(0xce87, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x596, gbc.sp());
        EXPECT(0xce89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce87));
        EXPECT(0x2a, gbc.readMem(0xce88));
        // CB 2A 007F
        gbc.setState(0x137d, 0x6287, 0x1840, 0x6b60, 0x92bb, 0xb889, 0x1, 0x1);
        gbc.writeMem(0x137d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x6287, gbc.sp());
        EXPECT(0x137f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0080
        gbc.setState(0xdcef, 0xe192, 0xbb60, 0x3c18, 0xd24d, 0x3269, 0x0, 0x1);
        gbc.writeMem(0xdcef, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xe192, gbc.sp());
        EXPECT(0xdcf1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcef));
        EXPECT(0x2a, gbc.readMem(0xdcf0));
        // CB 2A 0081
        gbc.setState(0xcc6f, 0x80f0, 0xcc60, 0xb0f8, 0xd206, 0x157c, 0x1, 0x1);
        gbc.writeMem(0xcc6f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x80f0, gbc.sp());
        EXPECT(0xcc71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc6f));
        EXPECT(0x2a, gbc.readMem(0xcc70));
        // CB 2A 0082
        gbc.setState(0x38cc, 0x5615, 0xdf10, 0xb38c, 0xcc74, 0x7f51, 0x1, 0x0);
        gbc.writeMem(0x38cc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x5615, gbc.sp());
        EXPECT(0x38ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0083
        gbc.setState(0x99f3, 0xc2e8, 0x65d0, 0x462e, 0x3f54, 0xb1a1, 0x0, 0x0);
        gbc.writeMem(0x99f3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xc2e8, gbc.sp());
        EXPECT(0x99f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99f3));
        EXPECT(0x2a, gbc.readMem(0x99f4));
        // CB 2A 0084
        gbc.setState(0xed0f, 0x7cc0, 0x5f10, 0x9335, 0x3486, 0x5059, 0x0, 0x1);
        gbc.writeMem(0xed0f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x7cc0, gbc.sp());
        EXPECT(0xed11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed0f));
        EXPECT(0x2a, gbc.readMem(0xed10));
        // CB 2A 0085
        gbc.setState(0xcdc4, 0x36af, 0x65b0, 0x2cd6, 0x38cf, 0x939b, 0x1, 0x0);
        gbc.writeMem(0xcdc4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x36af, gbc.sp());
        EXPECT(0xcdc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdc4));
        EXPECT(0x2a, gbc.readMem(0xcdc5));
        // CB 2A 0086
        gbc.setState(0x71d2, 0x586f, 0xd640, 0x4adb, 0x8139, 0xf4c, 0x1, 0x1);
        gbc.writeMem(0x71d2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x586f, gbc.sp());
        EXPECT(0x71d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0087
        gbc.setState(0x74b3, 0x17e1, 0x3a80, 0x88d6, 0x6866, 0x7bd, 0x0, 0x1);
        gbc.writeMem(0x74b3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x17e1, gbc.sp());
        EXPECT(0x74b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0088
        gbc.setState(0x86d5, 0x2a55, 0xf9a0, 0x8320, 0x2a2c, 0x5d63, 0x1, 0x1);
        gbc.writeMem(0x86d5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x2a55, gbc.sp());
        EXPECT(0x86d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86d5));
        EXPECT(0x2a, gbc.readMem(0x86d6));
        // CB 2A 0089
        gbc.setState(0xc5d9, 0xcf0c, 0xfc10, 0xb232, 0xef98, 0xffe3, 0x1, 0x1);
        gbc.writeMem(0xc5d9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xcf0c, gbc.sp());
        EXPECT(0xc5db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5d9));
        EXPECT(0x2a, gbc.readMem(0xc5da));
        // CB 2A 008A
        gbc.setState(0xbe34, 0x1f6f, 0x9610, 0x132a, 0x4ea3, 0xcede, 0x0, 0x0);
        gbc.writeMem(0xbe34, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x1f6f, gbc.sp());
        EXPECT(0xbe36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe34));
        EXPECT(0x2a, gbc.readMem(0xbe35));
        // CB 2A 008B
        gbc.setState(0xe541, 0x20bb, 0x58d0, 0xfd34, 0xf610, 0xb3a8, 0x1, 0x0);
        gbc.writeMem(0xe541, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x20bb, gbc.sp());
        EXPECT(0xe543, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe541));
        EXPECT(0x2a, gbc.readMem(0xe542));
        // CB 2A 008C
        gbc.setState(0x87b6, 0xfb6, 0x870, 0x6e71, 0x38a2, 0x482e, 0x1, 0x0);
        gbc.writeMem(0x87b6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xfb6, gbc.sp());
        EXPECT(0x87b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87b6));
        EXPECT(0x2a, gbc.readMem(0x87b7));
        // CB 2A 008D
        gbc.setState(0x6389, 0x6267, 0xfa80, 0x76f3, 0xaed7, 0x25d, 0x1, 0x1);
        gbc.writeMem(0x6389, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6267, gbc.sp());
        EXPECT(0x638b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 008E
        gbc.setState(0x97e0, 0x43bf, 0xc560, 0x6942, 0x3815, 0xa481, 0x1, 0x1);
        gbc.writeMem(0x97e0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x43bf, gbc.sp());
        EXPECT(0x97e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97e0));
        EXPECT(0x2a, gbc.readMem(0x97e1));
        // CB 2A 008F
        gbc.setState(0x3d17, 0xded, 0x6480, 0xd9bc, 0x3347, 0x371a, 0x1, 0x1);
        gbc.writeMem(0x3d17, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xded, gbc.sp());
        EXPECT(0x3d19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0090
        gbc.setState(0xd771, 0x37f5, 0x1e90, 0xafe6, 0x1fe6, 0xe5ec, 0x0, 0x0);
        gbc.writeMem(0xd771, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x37f5, gbc.sp());
        EXPECT(0xd773, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd771));
        EXPECT(0x2a, gbc.readMem(0xd772));
        // CB 2A 0091
        gbc.setState(0xb429, 0x27bd, 0x7710, 0x8305, 0x9f58, 0xd58f, 0x0, 0x1);
        gbc.writeMem(0xb429, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x27bd, gbc.sp());
        EXPECT(0xb42b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb429));
        EXPECT(0x2a, gbc.readMem(0xb42a));
        // CB 2A 0092
        gbc.setState(0xde09, 0xdbff, 0x8820, 0x5430, 0xb39b, 0x6601, 0x0, 0x1);
        gbc.writeMem(0xde09, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xdbff, gbc.sp());
        EXPECT(0xde0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde09));
        EXPECT(0x2a, gbc.readMem(0xde0a));
        // CB 2A 0093
        gbc.setState(0x1775, 0x874c, 0xa3e0, 0x5c30, 0xe861, 0x6cbb, 0x0, 0x1);
        gbc.writeMem(0x1775, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x874c, gbc.sp());
        EXPECT(0x1777, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0094
        gbc.setState(0x7fcb, 0x470c, 0xf150, 0xecb7, 0xc454, 0x4f0e, 0x1, 0x1);
        gbc.writeMem(0x7fcb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x470c, gbc.sp());
        EXPECT(0x7fcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0095
        gbc.setState(0x9337, 0x6533, 0xb000, 0xc89, 0x76c4, 0x91f4, 0x0, 0x0);
        gbc.writeMem(0x9337, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x6533, gbc.sp());
        EXPECT(0x9339, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9337));
        EXPECT(0x2a, gbc.readMem(0x9338));
        // CB 2A 0096
        gbc.setState(0x20bc, 0xe006, 0x21b0, 0x9a2b, 0xb72a, 0x3506, 0x0, 0x1);
        gbc.writeMem(0x20bc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xe006, gbc.sp());
        EXPECT(0x20be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0097
        gbc.setState(0xce5a, 0x437c, 0x6ce0, 0xdba6, 0xf93f, 0xe435, 0x0, 0x0);
        gbc.writeMem(0xce5a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x437c, gbc.sp());
        EXPECT(0xce5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce5a));
        EXPECT(0x2a, gbc.readMem(0xce5b));
        // CB 2A 0098
        gbc.setState(0x9903, 0x76e0, 0xc030, 0xdf0c, 0x4c95, 0x651f, 0x0, 0x0);
        gbc.writeMem(0x9903, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x76e0, gbc.sp());
        EXPECT(0x9905, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9903));
        EXPECT(0x2a, gbc.readMem(0x9904));
        // CB 2A 0099
        gbc.setState(0x5d2d, 0x5bb3, 0x470, 0x8102, 0x94fb, 0x5af3, 0x1, 0x0);
        gbc.writeMem(0x5d2d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x5bb3, gbc.sp());
        EXPECT(0x5d2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 009A
        gbc.setState(0x9d44, 0x93cc, 0x4a80, 0x6256, 0xde78, 0x21dd, 0x1, 0x0);
        gbc.writeMem(0x9d44, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x93cc, gbc.sp());
        EXPECT(0x9d46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d44));
        EXPECT(0x2a, gbc.readMem(0x9d45));
        // CB 2A 009C
        gbc.setState(0xb272, 0xaa6, 0xb810, 0xcc04, 0x6392, 0x126e, 0x0, 0x1);
        gbc.writeMem(0xb272, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xaa6, gbc.sp());
        EXPECT(0xb274, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb272));
        EXPECT(0x2a, gbc.readMem(0xb273));
        // CB 2A 009D
        gbc.setState(0x646e, 0x6511, 0x4e70, 0xb20f, 0x5821, 0x121b, 0x1, 0x0);
        gbc.writeMem(0x646e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x6511, gbc.sp());
        EXPECT(0x6470, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 009E
        gbc.setState(0x5b93, 0x7af4, 0x440, 0x3850, 0x5d25, 0xcfba, 0x0, 0x0);
        gbc.writeMem(0x5b93, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x7af4, gbc.sp());
        EXPECT(0x5b95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 009F
        gbc.setState(0x5d8f, 0xc605, 0xf190, 0xe779, 0x3996, 0xd6e7, 0x0, 0x1);
        gbc.writeMem(0x5d8f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc605, gbc.sp());
        EXPECT(0x5d91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00A0
        gbc.setState(0x6fdd, 0x4a11, 0x81f0, 0x87a9, 0xdda7, 0x6a90, 0x1, 0x0);
        gbc.writeMem(0x6fdd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x4a11, gbc.sp());
        EXPECT(0x6fdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00A2
        gbc.setState(0x8263, 0x6bc2, 0x5800, 0x6620, 0x8af3, 0x62cc, 0x0, 0x1);
        gbc.writeMem(0x8263, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x6bc2, gbc.sp());
        EXPECT(0x8265, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8263));
        EXPECT(0x2a, gbc.readMem(0x8264));
        // CB 2A 00A3
        gbc.setState(0x5cf9, 0x661, 0x7d0, 0xe31d, 0x7431, 0x6e14, 0x0, 0x1);
        gbc.writeMem(0x5cf9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x661, gbc.sp());
        EXPECT(0x5cfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00A4
        gbc.setState(0x9414, 0xe095, 0x1060, 0xf1e5, 0x2c9c, 0x6da6, 0x1, 0x1);
        gbc.writeMem(0x9414, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe095, gbc.sp());
        EXPECT(0x9416, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9414));
        EXPECT(0x2a, gbc.readMem(0x9415));
        // CB 2A 00A5
        gbc.setState(0x8aea, 0x72b2, 0x9510, 0x4825, 0xda4e, 0x9513, 0x1, 0x1);
        gbc.writeMem(0x8aea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x72b2, gbc.sp());
        EXPECT(0x8aec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8aea));
        EXPECT(0x2a, gbc.readMem(0x8aeb));
        // CB 2A 00A6
        gbc.setState(0xafce, 0xd5f6, 0xdda0, 0x6a07, 0x3158, 0xf818, 0x1, 0x1);
        gbc.writeMem(0xafce, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xd5f6, gbc.sp());
        EXPECT(0xafd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafce));
        EXPECT(0x2a, gbc.readMem(0xafcf));
        // CB 2A 00A7
        gbc.setState(0x6478, 0x2c2e, 0x89b0, 0xd105, 0x8319, 0x6638, 0x0, 0x1);
        gbc.writeMem(0x6478, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2c2e, gbc.sp());
        EXPECT(0x647a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00A8
        gbc.setState(0x24eb, 0xd540, 0x60f0, 0x4e94, 0x2d88, 0x3d6a, 0x1, 0x1);
        gbc.writeMem(0x24eb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xd540, gbc.sp());
        EXPECT(0x24ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00A9
        gbc.setState(0x4574, 0x8a7f, 0x6e40, 0xec3, 0x2852, 0x5b0f, 0x1, 0x1);
        gbc.writeMem(0x4574, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x8a7f, gbc.sp());
        EXPECT(0x4576, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00AA
        gbc.setState(0xc979, 0xf7e3, 0xbde0, 0xf55d, 0xad86, 0x584e, 0x1, 0x0);
        gbc.writeMem(0xc979, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xf7e3, gbc.sp());
        EXPECT(0xc97b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc979));
        EXPECT(0x2a, gbc.readMem(0xc97a));
        // CB 2A 00AB
        gbc.setState(0x8924, 0xccd, 0x6970, 0x7548, 0x670e, 0x2c63, 0x0, 0x1);
        gbc.writeMem(0x8924, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xccd, gbc.sp());
        EXPECT(0x8926, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8924));
        EXPECT(0x2a, gbc.readMem(0x8925));
        // CB 2A 00AC
        gbc.setState(0x146, 0xb209, 0x32a0, 0x68c5, 0x7b97, 0x7958, 0x0, 0x0);
        gbc.writeMem(0x146, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xb209, gbc.sp());
        EXPECT(0x148, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00AD
        gbc.setState(0x5cee, 0xa87b, 0x7050, 0x20fb, 0x1909, 0x7a4c, 0x1, 0x1);
        gbc.writeMem(0x5cee, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xa87b, gbc.sp());
        EXPECT(0x5cf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00AE
        gbc.setState(0x9bd2, 0xee1f, 0x9c20, 0xe558, 0xea35, 0xd56f, 0x1, 0x0);
        gbc.writeMem(0x9bd2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xee1f, gbc.sp());
        EXPECT(0x9bd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bd2));
        EXPECT(0x2a, gbc.readMem(0x9bd3));
        // CB 2A 00AF
        gbc.setState(0x6318, 0x7558, 0x6c30, 0x307f, 0x24e4, 0xdafd, 0x1, 0x0);
        gbc.writeMem(0x6318, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x7558, gbc.sp());
        EXPECT(0x631a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00B0
        gbc.setState(0x1d29, 0x4416, 0x2f50, 0x24c, 0x7587, 0x9a86, 0x0, 0x1);
        gbc.writeMem(0x1d29, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4416, gbc.sp());
        EXPECT(0x1d2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00B1
        gbc.setState(0xbbf1, 0x1ba2, 0x3d50, 0x1a0b, 0xd746, 0x8c49, 0x0, 0x1);
        gbc.writeMem(0xbbf1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x1ba2, gbc.sp());
        EXPECT(0xbbf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbf1));
        EXPECT(0x2a, gbc.readMem(0xbbf2));
        // CB 2A 00B2
        gbc.setState(0x6610, 0xac50, 0x7480, 0x207e, 0xae2, 0x16ba, 0x1, 0x1);
        gbc.writeMem(0x6610, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xac50, gbc.sp());
        EXPECT(0x6612, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00B3
        gbc.setState(0xbe7b, 0x89af, 0x7020, 0xfb12, 0x29cd, 0x30ba, 0x0, 0x1);
        gbc.writeMem(0xbe7b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x89af, gbc.sp());
        EXPECT(0xbe7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe7b));
        EXPECT(0x2a, gbc.readMem(0xbe7c));
        // CB 2A 00B4
        gbc.setState(0xb31d, 0xed20, 0xd970, 0x85da, 0x3ff3, 0x3963, 0x0, 0x0);
        gbc.writeMem(0xb31d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xed20, gbc.sp());
        EXPECT(0xb31f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb31d));
        EXPECT(0x2a, gbc.readMem(0xb31e));
        // CB 2A 00B5
        gbc.setState(0x11d1, 0x7dd0, 0xd960, 0xc651, 0xfa7a, 0x48dd, 0x1, 0x0);
        gbc.writeMem(0x11d1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x7dd0, gbc.sp());
        EXPECT(0x11d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00B6
        gbc.setState(0x5245, 0xea63, 0x3e90, 0xb6f9, 0x9a7f, 0x1ca5, 0x0, 0x0);
        gbc.writeMem(0x5245, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xea63, gbc.sp());
        EXPECT(0x5247, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00B7
        gbc.setState(0xec2c, 0xa2c3, 0xaee0, 0x96d2, 0x817d, 0x3cc0, 0x0, 0x0);
        gbc.writeMem(0xec2c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xa2c3, gbc.sp());
        EXPECT(0xec2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec2c));
        EXPECT(0x2a, gbc.readMem(0xec2d));
        // CB 2A 00B8
        gbc.setState(0x2d06, 0xe7f1, 0xda40, 0xa1b0, 0x9fd9, 0xae8e, 0x1, 0x0);
        gbc.writeMem(0x2d06, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xe7f1, gbc.sp());
        EXPECT(0x2d08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00B9
        gbc.setState(0x8499, 0x6e9c, 0x8250, 0x11cd, 0x6c94, 0x6069, 0x0, 0x0);
        gbc.writeMem(0x8499, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x6e9c, gbc.sp());
        EXPECT(0x849b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8499));
        EXPECT(0x2a, gbc.readMem(0x849a));
        // CB 2A 00BA
        gbc.setState(0xb5a6, 0xf6bd, 0x2320, 0x8c8d, 0x52be, 0x490b, 0x1, 0x0);
        gbc.writeMem(0xb5a6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xf6bd, gbc.sp());
        EXPECT(0xb5a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5a6));
        EXPECT(0x2a, gbc.readMem(0xb5a7));
        // CB 2A 00BB
        gbc.setState(0xb476, 0xf194, 0x8ef0, 0x137f, 0x7646, 0x338e, 0x0, 0x0);
        gbc.writeMem(0xb476, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf194, gbc.sp());
        EXPECT(0xb478, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb476));
        EXPECT(0x2a, gbc.readMem(0xb477));
        // CB 2A 00BC
        gbc.setState(0xa094, 0xe9cb, 0x3560, 0x3585, 0x75f1, 0x2c5a, 0x0, 0x1);
        gbc.writeMem(0xa094, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xe9cb, gbc.sp());
        EXPECT(0xa096, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa094));
        EXPECT(0x2a, gbc.readMem(0xa095));
        // CB 2A 00BD
        gbc.setState(0x3a0d, 0x8a49, 0xcf40, 0xc3dc, 0x54c5, 0xdf62, 0x1, 0x1);
        gbc.writeMem(0x3a0d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x8a49, gbc.sp());
        EXPECT(0x3a0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00BE
        gbc.setState(0xa616, 0x2f08, 0x1600, 0xec92, 0xf18b, 0xac7, 0x0, 0x0);
        gbc.writeMem(0xa616, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x2f08, gbc.sp());
        EXPECT(0xa618, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa616));
        EXPECT(0x2a, gbc.readMem(0xa617));
        // CB 2A 00BF
        gbc.setState(0xc29f, 0x3f05, 0x4810, 0x7fa1, 0xd0b0, 0x1729, 0x1, 0x0);
        gbc.writeMem(0xc29f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3f05, gbc.sp());
        EXPECT(0xc2a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc29f));
        EXPECT(0x2a, gbc.readMem(0xc2a0));
        // CB 2A 00C0
        gbc.setState(0xa792, 0x30eb, 0x40b0, 0x5177, 0xa137, 0x31bb, 0x1, 0x0);
        gbc.writeMem(0xa792, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x30eb, gbc.sp());
        EXPECT(0xa794, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa792));
        EXPECT(0x2a, gbc.readMem(0xa793));
        // CB 2A 00C1
        gbc.setState(0xdf82, 0x8277, 0xe8f0, 0xcd2, 0x1f8c, 0xecb5, 0x0, 0x1);
        gbc.writeMem(0xdf82, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x8277, gbc.sp());
        EXPECT(0xdf84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf82));
        EXPECT(0x2a, gbc.readMem(0xdf83));
        // CB 2A 00C2
        gbc.setState(0x4a05, 0xe798, 0x1870, 0x77bf, 0x6841, 0xbb46, 0x1, 0x1);
        gbc.writeMem(0x4a05, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe798, gbc.sp());
        EXPECT(0x4a07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00C3
        gbc.setState(0x2ed7, 0xcb5f, 0x6370, 0x7bbb, 0xd50a, 0xefa2, 0x0, 0x1);
        gbc.writeMem(0x2ed7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xcb5f, gbc.sp());
        EXPECT(0x2ed9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00C4
        gbc.setState(0x8753, 0x518b, 0x5970, 0x48a1, 0x7d42, 0x683e, 0x1, 0x1);
        gbc.writeMem(0x8753, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x518b, gbc.sp());
        EXPECT(0x8755, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8753));
        EXPECT(0x2a, gbc.readMem(0x8754));
        // CB 2A 00C5
        gbc.setState(0xa749, 0x9c94, 0x9fa0, 0xe6e, 0x294f, 0x554c, 0x1, 0x0);
        gbc.writeMem(0xa749, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x9c94, gbc.sp());
        EXPECT(0xa74b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa749));
        EXPECT(0x2a, gbc.readMem(0xa74a));
        // CB 2A 00C6
        gbc.setState(0x57bd, 0x748c, 0x2b0, 0xcd23, 0x1718, 0x3445, 0x0, 0x0);
        gbc.writeMem(0x57bd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x748c, gbc.sp());
        EXPECT(0x57bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00C7
        gbc.setState(0x6b88, 0xbb61, 0x6640, 0xde86, 0xeaa1, 0xb48c, 0x0, 0x1);
        gbc.writeMem(0x6b88, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xbb61, gbc.sp());
        EXPECT(0x6b8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00C8
        gbc.setState(0x3660, 0x81dc, 0x2c90, 0xd33a, 0x271e, 0x44cc, 0x0, 0x0);
        gbc.writeMem(0x3660, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x81dc, gbc.sp());
        EXPECT(0x3662, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00C9
        gbc.setState(0x64c1, 0x9d74, 0x1680, 0x5a03, 0x5c19, 0x996a, 0x0, 0x0);
        gbc.writeMem(0x64c1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x9d74, gbc.sp());
        EXPECT(0x64c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00CA
        gbc.setState(0x1b1a, 0x66ba, 0xc4e0, 0x1eaf, 0xe810, 0x5fbd, 0x1, 0x0);
        gbc.writeMem(0x1b1a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x66ba, gbc.sp());
        EXPECT(0x1b1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00CB
        gbc.setState(0x26f1, 0x25e6, 0x2f20, 0x562c, 0x7e95, 0x28e7, 0x0, 0x0);
        gbc.writeMem(0x26f1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x25e6, gbc.sp());
        EXPECT(0x26f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00CC
        gbc.setState(0xe4fd, 0x100, 0xb5c0, 0x10cc, 0x1105, 0xed27, 0x1, 0x0);
        gbc.writeMem(0xe4fd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x100, gbc.sp());
        EXPECT(0xe4ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4fd));
        EXPECT(0x2a, gbc.readMem(0xe4fe));
        // CB 2A 00CD
        gbc.setState(0xc0fa, 0x331f, 0x8ff0, 0x7bdf, 0x5e76, 0xe94b, 0x0, 0x1);
        gbc.writeMem(0xc0fa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x331f, gbc.sp());
        EXPECT(0xc0fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0fa));
        EXPECT(0x2a, gbc.readMem(0xc0fb));
        // CB 2A 00CE
        gbc.setState(0xc87e, 0xa8ec, 0xe4e0, 0x2c93, 0x305a, 0xe6e3, 0x0, 0x1);
        gbc.writeMem(0xc87e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xa8ec, gbc.sp());
        EXPECT(0xc880, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc87e));
        EXPECT(0x2a, gbc.readMem(0xc87f));
        // CB 2A 00CF
        gbc.setState(0x4ad0, 0x8ffd, 0x74b0, 0x4352, 0xc905, 0xae56, 0x0, 0x0);
        gbc.writeMem(0x4ad0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8ffd, gbc.sp());
        EXPECT(0x4ad2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00D0
        gbc.setState(0x5fe9, 0x84c2, 0x40a0, 0xa9d5, 0x4acd, 0x6185, 0x0, 0x1);
        gbc.writeMem(0x5fe9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x84c2, gbc.sp());
        EXPECT(0x5feb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D1
        gbc.setState(0x3162, 0x50ba, 0xadf0, 0xe7ae, 0xfa5d, 0x24f4, 0x1, 0x0);
        gbc.writeMem(0x3162, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x50ba, gbc.sp());
        EXPECT(0x3164, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D2
        gbc.setState(0x472c, 0xc696, 0x7350, 0x4708, 0x2dd, 0xdf13, 0x0, 0x1);
        gbc.writeMem(0x472c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc696, gbc.sp());
        EXPECT(0x472e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D3
        gbc.setState(0xdbdb, 0x8f4, 0xdb0, 0x5bd7, 0x1f0d, 0xaeb7, 0x0, 0x0);
        gbc.writeMem(0xdbdb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x8f4, gbc.sp());
        EXPECT(0xdbdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbdb));
        EXPECT(0x2a, gbc.readMem(0xdbdc));
        // CB 2A 00D5
        gbc.setState(0x4452, 0x5ea7, 0x8b90, 0xbed, 0x8254, 0xcd23, 0x0, 0x1);
        gbc.writeMem(0x4452, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x5ea7, gbc.sp());
        EXPECT(0x4454, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D6
        gbc.setState(0x124c, 0xb7b6, 0xebc0, 0x81, 0x4269, 0xa9d9, 0x0, 0x0);
        gbc.writeMem(0x124c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xb7b6, gbc.sp());
        EXPECT(0x124e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D7
        gbc.setState(0xc4ae, 0x3deb, 0x7ae0, 0x3eb5, 0x2b37, 0x97d9, 0x0, 0x1);
        gbc.writeMem(0xc4ae, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x3deb, gbc.sp());
        EXPECT(0xc4b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4ae));
        EXPECT(0x2a, gbc.readMem(0xc4af));
        // CB 2A 00D8
        gbc.setState(0x57db, 0xcc64, 0x2f70, 0xc9a5, 0x429d, 0x789b, 0x0, 0x0);
        gbc.writeMem(0x57db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xcc64, gbc.sp());
        EXPECT(0x57dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00D9
        gbc.setState(0x2107, 0x7ed4, 0x90, 0xea8a, 0x82bf, 0xa196, 0x1, 0x0);
        gbc.writeMem(0x2107, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x7ed4, gbc.sp());
        EXPECT(0x2109, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00DA
        gbc.setState(0x67be, 0x5d75, 0x7fb0, 0x4e73, 0x8776, 0x8ebf, 0x1, 0x0);
        gbc.writeMem(0x67be, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x5d75, gbc.sp());
        EXPECT(0x67c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00DB
        gbc.setState(0x8561, 0xdf62, 0x62f0, 0xb5c8, 0x6b89, 0x270b, 0x0, 0x1);
        gbc.writeMem(0x8561, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xdf62, gbc.sp());
        EXPECT(0x8563, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8561));
        EXPECT(0x2a, gbc.readMem(0x8562));
        // CB 2A 00DC
        gbc.setState(0xeab5, 0x1f09, 0xa400, 0x7495, 0x3f87, 0xb760, 0x0, 0x1);
        gbc.writeMem(0xeab5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x1f09, gbc.sp());
        EXPECT(0xeab7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeab5));
        EXPECT(0x2a, gbc.readMem(0xeab6));
        // CB 2A 00DE
        gbc.setState(0x61a5, 0x98a, 0x8d30, 0x2e25, 0xba6b, 0xa1a4, 0x0, 0x1);
        gbc.writeMem(0x61a5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x98a, gbc.sp());
        EXPECT(0x61a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00DF
        gbc.setState(0xe531, 0x81ef, 0x27d0, 0xb4a6, 0x62b6, 0x184f, 0x0, 0x0);
        gbc.writeMem(0xe531, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x81ef, gbc.sp());
        EXPECT(0xe533, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe531));
        EXPECT(0x2a, gbc.readMem(0xe532));
        // CB 2A 00E0
        gbc.setState(0x6280, 0xeb1f, 0x5200, 0xc3aa, 0xb4a1, 0xd279, 0x1, 0x1);
        gbc.writeMem(0x6280, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xeb1f, gbc.sp());
        EXPECT(0x6282, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00E1
        gbc.setState(0x8cc, 0xb06c, 0x9290, 0x1e04, 0xea03, 0x86cb, 0x1, 0x0);
        gbc.writeMem(0x8cc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xb06c, gbc.sp());
        EXPECT(0x8ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00E2
        gbc.setState(0xd58c, 0xf729, 0x9680, 0xfc08, 0x44, 0xf43e, 0x0, 0x0);
        gbc.writeMem(0xd58c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xf729, gbc.sp());
        EXPECT(0xd58e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd58c));
        EXPECT(0x2a, gbc.readMem(0xd58d));
        // CB 2A 00E3
        gbc.setState(0x924d, 0x6274, 0xb980, 0x39ee, 0x5bf7, 0x3b5e, 0x0, 0x0);
        gbc.writeMem(0x924d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x6274, gbc.sp());
        EXPECT(0x924f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x924d));
        EXPECT(0x2a, gbc.readMem(0x924e));
        // CB 2A 00E4
        gbc.setState(0xb378, 0xb9eb, 0x2650, 0x4ea3, 0x3fcc, 0xb80b, 0x1, 0x0);
        gbc.writeMem(0xb378, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xb9eb, gbc.sp());
        EXPECT(0xb37a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb378));
        EXPECT(0x2a, gbc.readMem(0xb379));
        // CB 2A 00E5
        gbc.setState(0xeca0, 0xc774, 0x1320, 0x1dd3, 0x6d09, 0xfe, 0x0, 0x1);
        gbc.writeMem(0xeca0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xc774, gbc.sp());
        EXPECT(0xeca2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeca0));
        EXPECT(0x2a, gbc.readMem(0xeca1));
        // CB 2A 00E6
        gbc.setState(0x9772, 0x3918, 0x7540, 0x2055, 0x22b3, 0x64c2, 0x0, 0x1);
        gbc.writeMem(0x9772, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x3918, gbc.sp());
        EXPECT(0x9774, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9772));
        EXPECT(0x2a, gbc.readMem(0x9773));
        // CB 2A 00E7
        gbc.setState(0x5fbf, 0x1b54, 0xd8b0, 0xa067, 0xcddb, 0xa4ba, 0x0, 0x0);
        gbc.writeMem(0x5fbf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x1b54, gbc.sp());
        EXPECT(0x5fc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00E8
        gbc.setState(0x3e2e, 0x1502, 0xb1e0, 0x724f, 0x29d1, 0xfa8a, 0x0, 0x0);
        gbc.writeMem(0x3e2e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1502, gbc.sp());
        EXPECT(0x3e30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00E9
        gbc.setState(0xc78, 0xbdc6, 0x1a50, 0x8a99, 0x81a4, 0xb60, 0x0, 0x1);
        gbc.writeMem(0xc78, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xbdc6, gbc.sp());
        EXPECT(0xc7a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00EA
        gbc.setState(0x1dc5, 0xaf64, 0x49d0, 0xd8ea, 0x597a, 0x7548, 0x0, 0x1);
        gbc.writeMem(0x1dc5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xaf64, gbc.sp());
        EXPECT(0x1dc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00EB
        gbc.setState(0xc24, 0x71ad, 0x2b10, 0x9501, 0x278f, 0x854b, 0x0, 0x0);
        gbc.writeMem(0xc24, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x71ad, gbc.sp());
        EXPECT(0xc26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00EC
        gbc.setState(0xc83d, 0x7b17, 0x95b0, 0x7e38, 0x1da2, 0x7bc4, 0x0, 0x1);
        gbc.writeMem(0xc83d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x7b17, gbc.sp());
        EXPECT(0xc83f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc83d));
        EXPECT(0x2a, gbc.readMem(0xc83e));
        // CB 2A 00ED
        gbc.setState(0xb31, 0x555e, 0xf750, 0xf1, 0x8968, 0xe18b, 0x0, 0x0);
        gbc.writeMem(0xb31, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x555e, gbc.sp());
        EXPECT(0xb33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00EE
        gbc.setState(0xaa6c, 0x66b5, 0xa940, 0x26e7, 0x902a, 0xa18a, 0x1, 0x0);
        gbc.writeMem(0xaa6c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x66b5, gbc.sp());
        EXPECT(0xaa6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa6c));
        EXPECT(0x2a, gbc.readMem(0xaa6d));
        // CB 2A 00EF
        gbc.setState(0x6ee4, 0x6872, 0x6090, 0xd20b, 0xe985, 0xb61, 0x0, 0x0);
        gbc.writeMem(0x6ee4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x6872, gbc.sp());
        EXPECT(0x6ee6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00F1
        gbc.setState(0x680f, 0x84ac, 0xb290, 0x2fee, 0xa538, 0x82da, 0x1, 0x0);
        gbc.writeMem(0x680f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x84ac, gbc.sp());
        EXPECT(0x6811, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00F2
        gbc.setState(0x913, 0xc6c3, 0xd6e0, 0xe060, 0xf460, 0x5ad1, 0x1, 0x1);
        gbc.writeMem(0x913, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xc6c3, gbc.sp());
        EXPECT(0x915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00F3
        gbc.setState(0xd5ba, 0x4f85, 0x800, 0x4cfe, 0x554c, 0xf9fb, 0x1, 0x0);
        gbc.writeMem(0xd5ba, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x4f85, gbc.sp());
        EXPECT(0xd5bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5ba));
        EXPECT(0x2a, gbc.readMem(0xd5bb));
        // CB 2A 00F4
        gbc.setState(0x751, 0xff57, 0x9d0, 0x80c7, 0x6222, 0x1ee4, 0x1, 0x1);
        gbc.writeMem(0x751, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xff57, gbc.sp());
        EXPECT(0x753, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00F5
        gbc.setState(0x7d33, 0xddcf, 0xa7d0, 0xdd37, 0x51c7, 0x861f, 0x1, 0x1);
        gbc.writeMem(0x7d33, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xddcf, gbc.sp());
        EXPECT(0x7d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00F6
        gbc.setState(0xd263, 0x8ea, 0x28b0, 0xa3f3, 0xa5d8, 0x7150, 0x1, 0x0);
        gbc.writeMem(0xd263, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x8ea, gbc.sp());
        EXPECT(0xd265, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd263));
        EXPECT(0x2a, gbc.readMem(0xd264));
        // CB 2A 00F7
        gbc.setState(0x301f, 0xb974, 0xd5d0, 0x3853, 0x8b4f, 0xdd53, 0x0, 0x1);
        gbc.writeMem(0x301f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xb974, gbc.sp());
        EXPECT(0x3021, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00F8
        gbc.setState(0xe445, 0xad6a, 0x3860, 0xa108, 0xcdb7, 0x32b1, 0x1, 0x0);
        gbc.writeMem(0xe445, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xad6a, gbc.sp());
        EXPECT(0xe447, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe445));
        EXPECT(0x2a, gbc.readMem(0xe446));
        // CB 2A 00F9
        gbc.setState(0x58f3, 0x421e, 0xb00, 0xf882, 0xc5c, 0x1459, 0x1, 0x0);
        gbc.writeMem(0x58f3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x421e, gbc.sp());
        EXPECT(0x58f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00FA
        gbc.setState(0x9521, 0x6298, 0x4f30, 0xae92, 0x4b64, 0xbd79, 0x1, 0x0);
        gbc.writeMem(0x9521, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x6298, gbc.sp());
        EXPECT(0x9523, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9521));
        EXPECT(0x2a, gbc.readMem(0x9522));
        // CB 2A 00FB
        gbc.setState(0x4fab, 0x870, 0xb440, 0x88b, 0x4dde, 0xb1df, 0x0, 0x0);
        gbc.writeMem(0x4fab, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x870, gbc.sp());
        EXPECT(0x4fad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 00FC
        gbc.setState(0x871f, 0x9f42, 0xff80, 0xcc67, 0x99a4, 0x5034, 0x1, 0x0);
        gbc.writeMem(0x871f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x9f42, gbc.sp());
        EXPECT(0x8721, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x871f));
        EXPECT(0x2a, gbc.readMem(0x8720));
        // CB 2A 00FD
        gbc.setState(0x8c34, 0xc79b, 0x4090, 0x68b9, 0x9f5e, 0x255c, 0x0, 0x1);
        gbc.writeMem(0x8c34, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xc79b, gbc.sp());
        EXPECT(0x8c36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c34));
        EXPECT(0x2a, gbc.readMem(0x8c35));
        // CB 2A 00FE
        gbc.setState(0x7acb, 0xfe8b, 0x8d60, 0x751a, 0x6c9c, 0x3a08, 0x0, 0x1);
        gbc.writeMem(0x7acb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xfe8b, gbc.sp());
        EXPECT(0x7acd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 00FF
        gbc.setState(0xcf84, 0xaee3, 0x7500, 0x4eca, 0x822d, 0x27c2, 0x0, 0x1);
        gbc.writeMem(0xcf84, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xaee3, gbc.sp());
        EXPECT(0xcf86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf84));
        EXPECT(0x2a, gbc.readMem(0xcf85));
        // CB 2A 0101
        gbc.setState(0x3825, 0x5019, 0xf760, 0x6260, 0xc9e3, 0x19dd, 0x1, 0x1);
        gbc.writeMem(0x3825, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x5019, gbc.sp());
        EXPECT(0x3827, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0102
        gbc.setState(0xe19c, 0x320a, 0x90e0, 0x2fd7, 0xb250, 0xd081, 0x0, 0x0);
        gbc.writeMem(0xe19c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x320a, gbc.sp());
        EXPECT(0xe19e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe19c));
        EXPECT(0x2a, gbc.readMem(0xe19d));
        // CB 2A 0103
        gbc.setState(0x4a4d, 0x7f82, 0xe00, 0xf870, 0x88e2, 0x27c9, 0x1, 0x0);
        gbc.writeMem(0x4a4d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x7f82, gbc.sp());
        EXPECT(0x4a4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0104
        gbc.setState(0x6619, 0x8794, 0x6100, 0x83cf, 0xfd94, 0x9284, 0x0, 0x1);
        gbc.writeMem(0x6619, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x8794, gbc.sp());
        EXPECT(0x661b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0105
        gbc.setState(0x9f5d, 0xe9, 0x98b0, 0x9d15, 0x77ab, 0xc60a, 0x0, 0x0);
        gbc.writeMem(0x9f5d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xe9, gbc.sp());
        EXPECT(0x9f5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f5d));
        EXPECT(0x2a, gbc.readMem(0x9f5e));
        // CB 2A 0106
        gbc.setState(0xd3f6, 0x15d0, 0x4ef0, 0xbc09, 0xb35e, 0x4406, 0x1, 0x0);
        gbc.writeMem(0xd3f6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x15d0, gbc.sp());
        EXPECT(0xd3f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3f6));
        EXPECT(0x2a, gbc.readMem(0xd3f7));
        // CB 2A 0107
        gbc.setState(0x3e21, 0xed2c, 0x58f0, 0x7f43, 0x2e36, 0x53d3, 0x0, 0x1);
        gbc.writeMem(0x3e21, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xed2c, gbc.sp());
        EXPECT(0x3e23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0108
        gbc.setState(0xe5ec, 0xceee, 0xe1e0, 0xb174, 0x47d8, 0xa92e, 0x0, 0x0);
        gbc.writeMem(0xe5ec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xceee, gbc.sp());
        EXPECT(0xe5ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5ec));
        EXPECT(0x2a, gbc.readMem(0xe5ed));
        // CB 2A 0109
        gbc.setState(0x9137, 0x6e67, 0xeb30, 0x173a, 0x6359, 0x468e, 0x0, 0x0);
        gbc.writeMem(0x9137, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x6e67, gbc.sp());
        EXPECT(0x9139, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9137));
        EXPECT(0x2a, gbc.readMem(0x9138));
        // CB 2A 010A
        gbc.setState(0x2b61, 0xd421, 0xae00, 0x93dc, 0x214a, 0x6a4a, 0x0, 0x0);
        gbc.writeMem(0x2b61, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xd421, gbc.sp());
        EXPECT(0x2b63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 010B
        gbc.setState(0xe998, 0xf65a, 0x9230, 0x25b7, 0xb3a5, 0x6eaa, 0x1, 0x1);
        gbc.writeMem(0xe998, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf65a, gbc.sp());
        EXPECT(0xe99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe998));
        EXPECT(0x2a, gbc.readMem(0xe999));
        // CB 2A 010C
        gbc.setState(0x14fe, 0xcf84, 0xcf80, 0x937e, 0xe486, 0x86a, 0x1, 0x1);
        gbc.writeMem(0x14fe, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xcf84, gbc.sp());
        EXPECT(0x1500, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 010D
        gbc.setState(0x202f, 0xd36e, 0xb280, 0x77d9, 0x83cc, 0x9b0a, 0x1, 0x0);
        gbc.writeMem(0x202f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xd36e, gbc.sp());
        EXPECT(0x2031, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 010E
        gbc.setState(0x6966, 0xc7aa, 0x69b0, 0x2e30, 0x5a57, 0x2288, 0x0, 0x1);
        gbc.writeMem(0x6966, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xc7aa, gbc.sp());
        EXPECT(0x6968, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 010F
        gbc.setState(0xaad0, 0xeaff, 0xd340, 0x183d, 0xbf2d, 0x8d3d, 0x0, 0x1);
        gbc.writeMem(0xaad0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xeaff, gbc.sp());
        EXPECT(0xaad2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaad0));
        EXPECT(0x2a, gbc.readMem(0xaad1));
        // CB 2A 0110
        gbc.setState(0x8939, 0x1b1, 0x58e0, 0x1f98, 0x2c4c, 0x8a76, 0x0, 0x0);
        gbc.writeMem(0x8939, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1b1, gbc.sp());
        EXPECT(0x893b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8939));
        EXPECT(0x2a, gbc.readMem(0x893a));
        // CB 2A 0111
        gbc.setState(0x1ae6, 0x8fb4, 0x1f10, 0x7dde, 0xc3c0, 0xf005, 0x1, 0x0);
        gbc.writeMem(0x1ae6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8fb4, gbc.sp());
        EXPECT(0x1ae8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0112
        gbc.setState(0x7942, 0x81ff, 0x36d0, 0x8c67, 0x3a0c, 0xfce, 0x0, 0x0);
        gbc.writeMem(0x7942, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x81ff, gbc.sp());
        EXPECT(0x7944, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0113
        gbc.setState(0x7d0c, 0xe650, 0x2db0, 0xecca, 0xa4a, 0x9633, 0x1, 0x0);
        gbc.writeMem(0x7d0c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe650, gbc.sp());
        EXPECT(0x7d0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0114
        gbc.setState(0x2aa5, 0x2d28, 0x6430, 0x114a, 0x7f2a, 0x8823, 0x1, 0x0);
        gbc.writeMem(0x2aa5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x2d28, gbc.sp());
        EXPECT(0x2aa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0116
        gbc.setState(0xef64, 0xb566, 0x85d0, 0xb4dd, 0xcfbf, 0xfb85, 0x0, 0x1);
        gbc.writeMem(0xef64, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb566, gbc.sp());
        EXPECT(0xef66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef64));
        EXPECT(0x2a, gbc.readMem(0xef65));
        // CB 2A 0117
        gbc.setState(0xa071, 0x637b, 0xa890, 0xcf21, 0x82c3, 0x6db, 0x1, 0x0);
        gbc.writeMem(0xa071, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x637b, gbc.sp());
        EXPECT(0xa073, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa071));
        EXPECT(0x2a, gbc.readMem(0xa072));
        // CB 2A 0118
        gbc.setState(0xbf38, 0xe1b9, 0xfb70, 0x4d15, 0x9c68, 0xe980, 0x1, 0x1);
        gbc.writeMem(0xbf38, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xe1b9, gbc.sp());
        EXPECT(0xbf3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf38));
        EXPECT(0x2a, gbc.readMem(0xbf39));
        // CB 2A 0119
        gbc.setState(0xd743, 0x54c1, 0xfbe0, 0xdbb4, 0x9cc8, 0x5828, 0x0, 0x1);
        gbc.writeMem(0xd743, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x54c1, gbc.sp());
        EXPECT(0xd745, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd743));
        EXPECT(0x2a, gbc.readMem(0xd744));
        // CB 2A 011A
        gbc.setState(0x2e1, 0xd, 0x93e0, 0x928b, 0xd8c9, 0xf8f5, 0x0, 0x1);
        gbc.writeMem(0x2e1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xd, gbc.sp());
        EXPECT(0x2e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 011B
        gbc.setState(0xc4a, 0xc280, 0x2940, 0xe06d, 0x9d94, 0x12aa, 0x1, 0x0);
        gbc.writeMem(0xc4a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xc280, gbc.sp());
        EXPECT(0xc4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 011C
        gbc.setState(0x44d, 0xfa3a, 0xbb00, 0x1b21, 0x1f78, 0x8545, 0x1, 0x1);
        gbc.writeMem(0x44d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xfa3a, gbc.sp());
        EXPECT(0x44f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 011D
        gbc.setState(0x2bbc, 0xe2e2, 0xbae0, 0xe57, 0x5ca4, 0xfef2, 0x0, 0x1);
        gbc.writeMem(0x2bbc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe2e2, gbc.sp());
        EXPECT(0x2bbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 011E
        gbc.setState(0x7ac3, 0x78d7, 0x9980, 0x1863, 0xd8f, 0x7fe5, 0x1, 0x1);
        gbc.writeMem(0x7ac3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x78d7, gbc.sp());
        EXPECT(0x7ac5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0120
        gbc.setState(0xb8e4, 0xf50c, 0x4c0, 0xe010, 0x2294, 0x6e43, 0x1, 0x1);
        gbc.writeMem(0xb8e4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf50c, gbc.sp());
        EXPECT(0xb8e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8e4));
        EXPECT(0x2a, gbc.readMem(0xb8e5));
        // CB 2A 0121
        gbc.setState(0x7060, 0x85db, 0xb0d0, 0xbc5, 0x5f41, 0x2882, 0x1, 0x0);
        gbc.writeMem(0x7060, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x85db, gbc.sp());
        EXPECT(0x7062, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0122
        gbc.setState(0xaeb4, 0xc539, 0xbd0, 0xfd56, 0x7ea1, 0xe933, 0x0, 0x0);
        gbc.writeMem(0xaeb4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xc539, gbc.sp());
        EXPECT(0xaeb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaeb4));
        EXPECT(0x2a, gbc.readMem(0xaeb5));
        // CB 2A 0123
        gbc.setState(0x776c, 0x6959, 0xf2b0, 0xa466, 0x23d6, 0x6e92, 0x1, 0x1);
        gbc.writeMem(0x776c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x6959, gbc.sp());
        EXPECT(0x776e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0124
        gbc.setState(0x268c, 0xd44, 0x1f10, 0xa5c8, 0x37fe, 0x569b, 0x1, 0x0);
        gbc.writeMem(0x268c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xd44, gbc.sp());
        EXPECT(0x268e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0125
        gbc.setState(0x8cde, 0x9931, 0x9a60, 0x5c8c, 0x1c, 0xc08d, 0x0, 0x0);
        gbc.writeMem(0x8cde, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x9931, gbc.sp());
        EXPECT(0x8ce0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cde));
        EXPECT(0x2a, gbc.readMem(0x8cdf));
        // CB 2A 0126
        gbc.setState(0x5f6b, 0x1ca3, 0x28b0, 0xbe0e, 0xde2b, 0x1c62, 0x0, 0x1);
        gbc.writeMem(0x5f6b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x1ca3, gbc.sp());
        EXPECT(0x5f6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0127
        gbc.setState(0x6221, 0x8bca, 0x41d0, 0x54a1, 0x5e4e, 0x2002, 0x0, 0x0);
        gbc.writeMem(0x6221, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x8bca, gbc.sp());
        EXPECT(0x6223, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0128
        gbc.setState(0xa758, 0xa0b2, 0x9ad0, 0xf44b, 0x2a32, 0x8031, 0x1, 0x1);
        gbc.writeMem(0xa758, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xa0b2, gbc.sp());
        EXPECT(0xa75a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa758));
        EXPECT(0x2a, gbc.readMem(0xa759));
        // CB 2A 0129
        gbc.setState(0xb90, 0xa772, 0x7c0, 0xe41e, 0xc0f5, 0xb224, 0x1, 0x0);
        gbc.writeMem(0xb90, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xa772, gbc.sp());
        EXPECT(0xb92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 012A
        gbc.setState(0xb829, 0xefd2, 0x5a20, 0xea6d, 0x3771, 0x6cd6, 0x1, 0x0);
        gbc.writeMem(0xb829, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xefd2, gbc.sp());
        EXPECT(0xb82b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb829));
        EXPECT(0x2a, gbc.readMem(0xb82a));
        // CB 2A 012B
        gbc.setState(0x1121, 0x40d4, 0xea10, 0xa37, 0x530e, 0x4f57, 0x0, 0x1);
        gbc.writeMem(0x1121, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x40d4, gbc.sp());
        EXPECT(0x1123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 012C
        gbc.setState(0xd1fb, 0x9b29, 0xd0b0, 0xfbf6, 0xf0ae, 0xf5e2, 0x0, 0x1);
        gbc.writeMem(0xd1fb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x9b29, gbc.sp());
        EXPECT(0xd1fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1fb));
        EXPECT(0x2a, gbc.readMem(0xd1fc));
        // CB 2A 012D
        gbc.setState(0x5ab0, 0x292e, 0x72b0, 0x5009, 0x2518, 0xc302, 0x1, 0x1);
        gbc.writeMem(0x5ab0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x292e, gbc.sp());
        EXPECT(0x5ab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 012E
        gbc.setState(0x6560, 0xa841, 0xb100, 0x2f86, 0xb268, 0x77da, 0x1, 0x0);
        gbc.writeMem(0x6560, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xa841, gbc.sp());
        EXPECT(0x6562, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 012F
        gbc.setState(0x25fe, 0x56ba, 0x6e50, 0x79cb, 0x6e09, 0xc904, 0x0, 0x1);
        gbc.writeMem(0x25fe, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x56ba, gbc.sp());
        EXPECT(0x2600, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0130
        gbc.setState(0x99e0, 0x3452, 0xee60, 0xe7ec, 0xde48, 0xc3d6, 0x0, 0x0);
        gbc.writeMem(0x99e0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x3452, gbc.sp());
        EXPECT(0x99e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99e0));
        EXPECT(0x2a, gbc.readMem(0x99e1));
        // CB 2A 0131
        gbc.setState(0xda02, 0xe84e, 0x14a0, 0x54bc, 0xee7f, 0xed25, 0x0, 0x0);
        gbc.writeMem(0xda02, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xe84e, gbc.sp());
        EXPECT(0xda04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda02));
        EXPECT(0x2a, gbc.readMem(0xda03));
        // CB 2A 0132
        gbc.setState(0x4040, 0xffe4, 0x35b0, 0x97f9, 0xec81, 0xbc00, 0x0, 0x0);
        gbc.writeMem(0x4040, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xffe4, gbc.sp());
        EXPECT(0x4042, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0133
        gbc.setState(0x49bf, 0x180, 0x6b0, 0x1742, 0x9eae, 0x5036, 0x1, 0x1);
        gbc.writeMem(0x49bf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x180, gbc.sp());
        EXPECT(0x49c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0134
        gbc.setState(0x777, 0x8a6f, 0x3e90, 0xc5fc, 0x9031, 0xa604, 0x0, 0x1);
        gbc.writeMem(0x777, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x8a6f, gbc.sp());
        EXPECT(0x779, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0135
        gbc.setState(0x1553, 0x91e4, 0xa3d0, 0x308f, 0xac4a, 0xcfd5, 0x1, 0x1);
        gbc.writeMem(0x1553, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x91e4, gbc.sp());
        EXPECT(0x1555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0136
        gbc.setState(0x252b, 0x2e6c, 0x5260, 0xfbe8, 0x6fcc, 0x1ee1, 0x0, 0x1);
        gbc.writeMem(0x252b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x2e6c, gbc.sp());
        EXPECT(0x252d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0137
        gbc.setState(0x9d1d, 0xfb64, 0x3260, 0x5598, 0x24ad, 0x69c8, 0x1, 0x0);
        gbc.writeMem(0x9d1d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xfb64, gbc.sp());
        EXPECT(0x9d1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d1d));
        EXPECT(0x2a, gbc.readMem(0x9d1e));
        // CB 2A 0138
        gbc.setState(0x6e6f, 0xd7da, 0xc10, 0x926a, 0xc04, 0xd014, 0x1, 0x0);
        gbc.writeMem(0x6e6f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd7da, gbc.sp());
        EXPECT(0x6e71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0139
        gbc.setState(0xd294, 0x3e5, 0x7010, 0xc946, 0x8c13, 0xd2a, 0x0, 0x1);
        gbc.writeMem(0xd294, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x3e5, gbc.sp());
        EXPECT(0xd296, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd294));
        EXPECT(0x2a, gbc.readMem(0xd295));
        // CB 2A 013A
        gbc.setState(0x1922, 0x21ac, 0x3c90, 0x11f9, 0xeb96, 0xbd43, 0x0, 0x1);
        gbc.writeMem(0x1922, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x21ac, gbc.sp());
        EXPECT(0x1924, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 013B
        gbc.setState(0x2d58, 0x5741, 0xd630, 0x3a17, 0x8734, 0xc172, 0x0, 0x1);
        gbc.writeMem(0x2d58, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x5741, gbc.sp());
        EXPECT(0x2d5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 013C
        gbc.setState(0x1df2, 0x68e2, 0x7af0, 0x3c3f, 0x3d22, 0x3c8d, 0x1, 0x0);
        gbc.writeMem(0x1df2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x68e2, gbc.sp());
        EXPECT(0x1df4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 013D
        gbc.setState(0x30ff, 0xfc7e, 0x7e50, 0x4616, 0x5583, 0x259a, 0x1, 0x0);
        gbc.writeMem(0x30ff, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xfc7e, gbc.sp());
        EXPECT(0x3101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 013E
        gbc.setState(0x38fa, 0x89b4, 0x7f60, 0x4d2b, 0x66dc, 0xf852, 0x1, 0x0);
        gbc.writeMem(0x38fa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x89b4, gbc.sp());
        EXPECT(0x38fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 013F
        gbc.setState(0x8ee5, 0xcc3b, 0x4b80, 0xf285, 0xb580, 0xcb39, 0x1, 0x0);
        gbc.writeMem(0x8ee5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xcc3b, gbc.sp());
        EXPECT(0x8ee7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ee5));
        EXPECT(0x2a, gbc.readMem(0x8ee6));
        // CB 2A 0141
        gbc.setState(0x1dd2, 0x1fac, 0x3960, 0xc8c9, 0xa5b7, 0xf191, 0x1, 0x0);
        gbc.writeMem(0x1dd2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1fac, gbc.sp());
        EXPECT(0x1dd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0142
        gbc.setState(0xc2c9, 0x8201, 0xd140, 0xf7da, 0x5b8a, 0x1120, 0x0, 0x0);
        gbc.writeMem(0xc2c9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x8201, gbc.sp());
        EXPECT(0xc2cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2c9));
        EXPECT(0x2a, gbc.readMem(0xc2ca));
        // CB 2A 0143
        gbc.setState(0x39ca, 0xcf66, 0x2bf0, 0x3a7, 0xef9d, 0x1220, 0x0, 0x1);
        gbc.writeMem(0x39ca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xcf66, gbc.sp());
        EXPECT(0x39cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0144
        gbc.setState(0x7ac5, 0x7ff6, 0xa3f0, 0xd713, 0xc533, 0xfb90, 0x1, 0x1);
        gbc.writeMem(0x7ac5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x7ff6, gbc.sp());
        EXPECT(0x7ac7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0145
        gbc.setState(0xc72d, 0xecaa, 0x2390, 0xa740, 0x82c1, 0x89bc, 0x1, 0x0);
        gbc.writeMem(0xc72d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xecaa, gbc.sp());
        EXPECT(0xc72f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc72d));
        EXPECT(0x2a, gbc.readMem(0xc72e));
        // CB 2A 0146
        gbc.setState(0xbb48, 0xdb2e, 0x2c80, 0xa09a, 0x6cb6, 0xc194, 0x0, 0x0);
        gbc.writeMem(0xbb48, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xdb2e, gbc.sp());
        EXPECT(0xbb4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb48));
        EXPECT(0x2a, gbc.readMem(0xbb49));
        // CB 2A 0147
        gbc.setState(0x7ce8, 0xee35, 0xc50, 0x75d0, 0xcb9b, 0xd0d, 0x1, 0x0);
        gbc.writeMem(0x7ce8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xee35, gbc.sp());
        EXPECT(0x7cea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0148
        gbc.setState(0xddcb, 0x9a5f, 0xe2d0, 0xf41f, 0x91d8, 0xe37c, 0x1, 0x1);
        gbc.writeMem(0xddcb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9a5f, gbc.sp());
        EXPECT(0xddcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddcb));
        EXPECT(0x2a, gbc.readMem(0xddcc));
        // CB 2A 0149
        gbc.setState(0xbc1a, 0xe9e8, 0x22d0, 0x99ec, 0x7be3, 0xbe95, 0x1, 0x1);
        gbc.writeMem(0xbc1a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xe9e8, gbc.sp());
        EXPECT(0xbc1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc1a));
        EXPECT(0x2a, gbc.readMem(0xbc1b));
        // CB 2A 014A
        gbc.setState(0xe6ae, 0x5464, 0x8650, 0x3d2e, 0x4a15, 0x1066, 0x0, 0x0);
        gbc.writeMem(0xe6ae, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x5464, gbc.sp());
        EXPECT(0xe6b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6ae));
        EXPECT(0x2a, gbc.readMem(0xe6af));
        // CB 2A 014B
        gbc.setState(0xcdb4, 0x56e4, 0x2020, 0xea9a, 0xde01, 0x5867, 0x1, 0x1);
        gbc.writeMem(0xcdb4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x56e4, gbc.sp());
        EXPECT(0xcdb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdb4));
        EXPECT(0x2a, gbc.readMem(0xcdb5));
        // CB 2A 014C
        gbc.setState(0xba52, 0x6d94, 0x1200, 0xe963, 0x3374, 0x1713, 0x0, 0x0);
        gbc.writeMem(0xba52, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x6d94, gbc.sp());
        EXPECT(0xba54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba52));
        EXPECT(0x2a, gbc.readMem(0xba53));
        // CB 2A 014D
        gbc.setState(0x21f7, 0x97e3, 0x67a0, 0xf19e, 0xcb7e, 0xabd1, 0x1, 0x0);
        gbc.writeMem(0x21f7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x97e3, gbc.sp());
        EXPECT(0x21f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 014E
        gbc.setState(0x7a45, 0x3699, 0x3190, 0x859f, 0x73b0, 0x2f11, 0x1, 0x1);
        gbc.writeMem(0x7a45, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x3699, gbc.sp());
        EXPECT(0x7a47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 014F
        gbc.setState(0xc84e, 0xe1b, 0xf620, 0x932d, 0x6832, 0x31a, 0x0, 0x0);
        gbc.writeMem(0xc84e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xe1b, gbc.sp());
        EXPECT(0xc850, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc84e));
        EXPECT(0x2a, gbc.readMem(0xc84f));
        // CB 2A 0150
        gbc.setState(0xa366, 0x6164, 0x67b0, 0xb5a8, 0x3596, 0x2b0d, 0x1, 0x0);
        gbc.writeMem(0xa366, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6164, gbc.sp());
        EXPECT(0xa368, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa366));
        EXPECT(0x2a, gbc.readMem(0xa367));
        // CB 2A 0151
        gbc.setState(0x5ad, 0xad1a, 0x3500, 0x22be, 0x3b0c, 0x2b73, 0x1, 0x0);
        gbc.writeMem(0x5ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xad1a, gbc.sp());
        EXPECT(0x5af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0152
        gbc.setState(0xb1a6, 0x96f0, 0x2830, 0x32c5, 0xd5d7, 0x5f50, 0x0, 0x1);
        gbc.writeMem(0xb1a6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x96f0, gbc.sp());
        EXPECT(0xb1a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1a6));
        EXPECT(0x2a, gbc.readMem(0xb1a7));
        // CB 2A 0153
        gbc.setState(0x41c7, 0x2f8b, 0xce50, 0xc939, 0xd2fe, 0x512f, 0x0, 0x1);
        gbc.writeMem(0x41c7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2f8b, gbc.sp());
        EXPECT(0x41c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0154
        gbc.setState(0x42b8, 0xdb77, 0x43a0, 0xb32, 0xa423, 0xa4f2, 0x0, 0x0);
        gbc.writeMem(0x42b8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xdb77, gbc.sp());
        EXPECT(0x42ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0155
        gbc.setState(0x13d7, 0xc119, 0x1c60, 0x190d, 0xfe0e, 0x41b4, 0x0, 0x1);
        gbc.writeMem(0x13d7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc119, gbc.sp());
        EXPECT(0x13d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0156
        gbc.setState(0x3711, 0x3cd0, 0xd7a0, 0x83a2, 0xe708, 0x621f, 0x0, 0x0);
        gbc.writeMem(0x3711, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3cd0, gbc.sp());
        EXPECT(0x3713, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0157
        gbc.setState(0x90df, 0x7238, 0xa80, 0x8449, 0xe80b, 0xc6af, 0x0, 0x1);
        gbc.writeMem(0x90df, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x7238, gbc.sp());
        EXPECT(0x90e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90df));
        EXPECT(0x2a, gbc.readMem(0x90e0));
        // CB 2A 0158
        gbc.setState(0x70d3, 0x238f, 0xffc0, 0xb5f5, 0xa46d, 0x77b7, 0x0, 0x0);
        gbc.writeMem(0x70d3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x238f, gbc.sp());
        EXPECT(0x70d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0159
        gbc.setState(0x3971, 0x33ed, 0x3dc0, 0x5f2d, 0x969c, 0xd3aa, 0x1, 0x1);
        gbc.writeMem(0x3971, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x33ed, gbc.sp());
        EXPECT(0x3973, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 015A
        gbc.setState(0xe2ea, 0xb3e0, 0xd120, 0xcca7, 0xdea1, 0x3276, 0x0, 0x1);
        gbc.writeMem(0xe2ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xb3e0, gbc.sp());
        EXPECT(0xe2ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2ea));
        EXPECT(0x2a, gbc.readMem(0xe2eb));
        // CB 2A 015B
        gbc.setState(0xe1c7, 0x6687, 0x25e0, 0x3bd7, 0xb919, 0x945d, 0x0, 0x0);
        gbc.writeMem(0xe1c7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6687, gbc.sp());
        EXPECT(0xe1c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1c7));
        EXPECT(0x2a, gbc.readMem(0xe1c8));
        // CB 2A 015C
        gbc.setState(0x57c4, 0x9528, 0x5a10, 0x798, 0x2dab, 0xd5f8, 0x0, 0x0);
        gbc.writeMem(0x57c4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x9528, gbc.sp());
        EXPECT(0x57c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 015D
        gbc.setState(0x1142, 0x6c44, 0x4860, 0x60f9, 0x9a55, 0x133a, 0x0, 0x0);
        gbc.writeMem(0x1142, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x6c44, gbc.sp());
        EXPECT(0x1144, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 015E
        gbc.setState(0x6dd5, 0xc26c, 0x99f0, 0x9fff, 0x69b5, 0xa126, 0x1, 0x0);
        gbc.writeMem(0x6dd5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xc26c, gbc.sp());
        EXPECT(0x6dd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 015F
        gbc.setState(0x46e, 0x1656, 0x7920, 0x4c0, 0xa1be, 0x1228, 0x1, 0x1);
        gbc.writeMem(0x46e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x1656, gbc.sp());
        EXPECT(0x470, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0160
        gbc.setState(0xc13e, 0xe1c7, 0x16c0, 0x1659, 0x21ce, 0xc0a3, 0x1, 0x1);
        gbc.writeMem(0xc13e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xe1c7, gbc.sp());
        EXPECT(0xc140, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc13e));
        EXPECT(0x2a, gbc.readMem(0xc13f));
        // CB 2A 0161
        gbc.setState(0x692e, 0x77d6, 0x9870, 0x1cce, 0xae55, 0x94b8, 0x1, 0x1);
        gbc.writeMem(0x692e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x77d6, gbc.sp());
        EXPECT(0x6930, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0162
        gbc.setState(0x2666, 0xd090, 0x7350, 0x336c, 0x5c73, 0xdd5d, 0x0, 0x0);
        gbc.writeMem(0x2666, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xd090, gbc.sp());
        EXPECT(0x2668, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0163
        gbc.setState(0x4e8a, 0x12bc, 0x7b00, 0x60a9, 0xd5a9, 0xa5d9, 0x0, 0x1);
        gbc.writeMem(0x4e8a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x12bc, gbc.sp());
        EXPECT(0x4e8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0164
        gbc.setState(0x898d, 0x3a37, 0xde60, 0xf7a3, 0x8bce, 0xf453, 0x1, 0x0);
        gbc.writeMem(0x898d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x3a37, gbc.sp());
        EXPECT(0x898f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x898d));
        EXPECT(0x2a, gbc.readMem(0x898e));
        // CB 2A 0165
        gbc.setState(0x6eaa, 0xb618, 0xcbf0, 0x3d0d, 0x6896, 0x4288, 0x0, 0x1);
        gbc.writeMem(0x6eaa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xb618, gbc.sp());
        EXPECT(0x6eac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0166
        gbc.setState(0x6fad, 0xb88e, 0x23e0, 0x15f3, 0xe0ef, 0x5573, 0x0, 0x1);
        gbc.writeMem(0x6fad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xb88e, gbc.sp());
        EXPECT(0x6faf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0167
        gbc.setState(0x108e, 0xaafe, 0x9eb0, 0x805d, 0xe3e, 0x14e9, 0x1, 0x1);
        gbc.writeMem(0x108e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xaafe, gbc.sp());
        EXPECT(0x1090, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0168
        gbc.setState(0x26cc, 0x2fb2, 0xa930, 0xd6, 0x7cd8, 0x20e5, 0x1, 0x0);
        gbc.writeMem(0x26cc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x2fb2, gbc.sp());
        EXPECT(0x26ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0169
        gbc.setState(0xe8a9, 0x9571, 0x1c0, 0xb3d3, 0xa2c, 0x14fd, 0x0, 0x0);
        gbc.writeMem(0xe8a9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x9571, gbc.sp());
        EXPECT(0xe8ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8a9));
        EXPECT(0x2a, gbc.readMem(0xe8aa));
        // CB 2A 016A
        gbc.setState(0x762c, 0xb98c, 0xa0, 0x70a, 0xde26, 0x1055, 0x1, 0x0);
        gbc.writeMem(0x762c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xb98c, gbc.sp());
        EXPECT(0x762e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 016B
        gbc.setState(0xadf8, 0xca1, 0xd880, 0x2bc9, 0x1b9f, 0x9642, 0x0, 0x1);
        gbc.writeMem(0xadf8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xca1, gbc.sp());
        EXPECT(0xadfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadf8));
        EXPECT(0x2a, gbc.readMem(0xadf9));
        // CB 2A 016C
        gbc.setState(0x1391, 0x9cbd, 0x3ba0, 0x3e6d, 0xcd28, 0x6482, 0x1, 0x1);
        gbc.writeMem(0x1391, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9cbd, gbc.sp());
        EXPECT(0x1393, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 016D
        gbc.setState(0xc489, 0x5f4e, 0xccc0, 0x73a2, 0x134a, 0xb433, 0x0, 0x1);
        gbc.writeMem(0xc489, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5f4e, gbc.sp());
        EXPECT(0xc48b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc489));
        EXPECT(0x2a, gbc.readMem(0xc48a));
        // CB 2A 016E
        gbc.setState(0xe654, 0xac62, 0xcea0, 0x6289, 0x689a, 0x1740, 0x0, 0x1);
        gbc.writeMem(0xe654, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xac62, gbc.sp());
        EXPECT(0xe656, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe654));
        EXPECT(0x2a, gbc.readMem(0xe655));
        // CB 2A 016F
        gbc.setState(0xb46b, 0x3b6e, 0x4c10, 0x71a5, 0x5117, 0x9bec, 0x1, 0x0);
        gbc.writeMem(0xb46b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3b6e, gbc.sp());
        EXPECT(0xb46d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb46b));
        EXPECT(0x2a, gbc.readMem(0xb46c));
        // CB 2A 0170
        gbc.setState(0x23f, 0x5bc7, 0xa000, 0xcf39, 0xf865, 0xa417, 0x1, 0x0);
        gbc.writeMem(0x23f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5bc7, gbc.sp());
        EXPECT(0x241, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0172
        gbc.setState(0x6f35, 0x388c, 0x2c00, 0x3d56, 0xe921, 0x2410, 0x1, 0x1);
        gbc.writeMem(0x6f35, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x388c, gbc.sp());
        EXPECT(0x6f37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0173
        gbc.setState(0x89b4, 0xc6c0, 0x3870, 0x1a44, 0xae8, 0x5f82, 0x0, 0x1);
        gbc.writeMem(0x89b4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xc6c0, gbc.sp());
        EXPECT(0x89b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89b4));
        EXPECT(0x2a, gbc.readMem(0x89b5));
        // CB 2A 0174
        gbc.setState(0x78aa, 0x6, 0xa650, 0x3c0f, 0x6351, 0x537c, 0x1, 0x0);
        gbc.writeMem(0x78aa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x6, gbc.sp());
        EXPECT(0x78ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0175
        gbc.setState(0x6a9f, 0xc126, 0x33d0, 0x445a, 0xa35, 0xcf1a, 0x1, 0x1);
        gbc.writeMem(0x6a9f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xc126, gbc.sp());
        EXPECT(0x6aa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0176
        gbc.setState(0xeb9c, 0xe2d6, 0xb070, 0xf29, 0x2cdb, 0x5bf2, 0x0, 0x0);
        gbc.writeMem(0xeb9c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe2d6, gbc.sp());
        EXPECT(0xeb9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb9c));
        EXPECT(0x2a, gbc.readMem(0xeb9d));
        // CB 2A 0177
        gbc.setState(0x3a9d, 0xaffc, 0x6580, 0xb026, 0xcaf3, 0xd713, 0x1, 0x0);
        gbc.writeMem(0x3a9d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xaffc, gbc.sp());
        EXPECT(0x3a9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0178
        gbc.setState(0x830f, 0xddb4, 0x6e60, 0x932, 0x65af, 0xcac0, 0x1, 0x0);
        gbc.writeMem(0x830f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xddb4, gbc.sp());
        EXPECT(0x8311, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x830f));
        EXPECT(0x2a, gbc.readMem(0x8310));
        // CB 2A 0179
        gbc.setState(0xa4ee, 0x4ee1, 0x7c30, 0x5102, 0x8602, 0xd98f, 0x0, 0x0);
        gbc.writeMem(0xa4ee, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x4ee1, gbc.sp());
        EXPECT(0xa4f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4ee));
        EXPECT(0x2a, gbc.readMem(0xa4ef));
        // CB 2A 017A
        gbc.setState(0xd651, 0x342c, 0x43f0, 0xd39a, 0x3ab5, 0x4cf2, 0x1, 0x0);
        gbc.writeMem(0xd651, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x342c, gbc.sp());
        EXPECT(0xd653, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd651));
        EXPECT(0x2a, gbc.readMem(0xd652));
        // CB 2A 017B
        gbc.setState(0x7971, 0x6eb0, 0x8f10, 0xe92e, 0x6ac3, 0x5004, 0x0, 0x0);
        gbc.writeMem(0x7971, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6eb0, gbc.sp());
        EXPECT(0x7973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 017C
        gbc.setState(0xd481, 0x7afc, 0x8c10, 0x9c8a, 0x4f76, 0x7b49, 0x1, 0x1);
        gbc.writeMem(0xd481, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x7afc, gbc.sp());
        EXPECT(0xd483, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd481));
        EXPECT(0x2a, gbc.readMem(0xd482));
        // CB 2A 017D
        gbc.setState(0x66f8, 0x712b, 0xe320, 0x76b5, 0xdbb0, 0xe645, 0x0, 0x1);
        gbc.writeMem(0x66f8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x712b, gbc.sp());
        EXPECT(0x66fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 017E
        gbc.setState(0x3ec6, 0x8107, 0x9ca0, 0xf744, 0x7984, 0xf56, 0x1, 0x0);
        gbc.writeMem(0x3ec6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x8107, gbc.sp());
        EXPECT(0x3ec8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 017F
        gbc.setState(0x4036, 0x80f9, 0xb790, 0x6b87, 0xf038, 0xea7f, 0x1, 0x1);
        gbc.writeMem(0x4036, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x80f9, gbc.sp());
        EXPECT(0x4038, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0180
        gbc.setState(0x7601, 0x83be, 0xfc80, 0x5f3f, 0x93a8, 0xa36a, 0x0, 0x0);
        gbc.writeMem(0x7601, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x83be, gbc.sp());
        EXPECT(0x7603, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0181
        gbc.setState(0x1d2e, 0xad82, 0x4f10, 0x8f0, 0x79ec, 0x5441, 0x0, 0x0);
        gbc.writeMem(0x1d2e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xad82, gbc.sp());
        EXPECT(0x1d30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0182
        gbc.setState(0xb9f0, 0x1d9, 0x25d0, 0x3149, 0xa409, 0x952b, 0x0, 0x0);
        gbc.writeMem(0xb9f0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x1d9, gbc.sp());
        EXPECT(0xb9f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9f0));
        EXPECT(0x2a, gbc.readMem(0xb9f1));
        // CB 2A 0183
        gbc.setState(0x2a00, 0x73e9, 0x6490, 0xfe2a, 0xb20f, 0x8b2b, 0x0, 0x1);
        gbc.writeMem(0x2a00, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x73e9, gbc.sp());
        EXPECT(0x2a02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0184
        gbc.setState(0xc821, 0xc75f, 0x1560, 0x4a3b, 0x9436, 0x9aed, 0x0, 0x1);
        gbc.writeMem(0xc821, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xc75f, gbc.sp());
        EXPECT(0xc823, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc821));
        EXPECT(0x2a, gbc.readMem(0xc822));
        // CB 2A 0185
        gbc.setState(0xc3a0, 0x1c13, 0x6a60, 0xb66b, 0x8d84, 0x9951, 0x0, 0x1);
        gbc.writeMem(0xc3a0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x1c13, gbc.sp());
        EXPECT(0xc3a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3a0));
        EXPECT(0x2a, gbc.readMem(0xc3a1));
        // CB 2A 0187
        gbc.setState(0x4344, 0x1a92, 0x7e10, 0x542f, 0xf564, 0xe62c, 0x0, 0x1);
        gbc.writeMem(0x4344, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x1a92, gbc.sp());
        EXPECT(0x4346, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0188
        gbc.setState(0x9a32, 0x3e40, 0xfb00, 0x2304, 0xd15, 0x4209, 0x1, 0x1);
        gbc.writeMem(0x9a32, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x3e40, gbc.sp());
        EXPECT(0x9a34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a32));
        EXPECT(0x2a, gbc.readMem(0x9a33));
        // CB 2A 0189
        gbc.setState(0xccf9, 0xdf4c, 0xb2a0, 0x19df, 0x63ba, 0xf1bb, 0x0, 0x0);
        gbc.writeMem(0xccf9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xdf4c, gbc.sp());
        EXPECT(0xccfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf9));
        EXPECT(0x2a, gbc.readMem(0xccfa));
        // CB 2A 018A
        gbc.setState(0x1807, 0x207b, 0xb220, 0xf0d3, 0x920a, 0x887, 0x1, 0x1);
        gbc.writeMem(0x1807, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x207b, gbc.sp());
        EXPECT(0x1809, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 018C
        gbc.setState(0x820, 0x245d, 0x9550, 0x107c, 0x674a, 0x7e36, 0x1, 0x1);
        gbc.writeMem(0x820, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x245d, gbc.sp());
        EXPECT(0x822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 018D
        gbc.setState(0x613b, 0x8dd8, 0x86f0, 0x4834, 0x79d, 0xf2c5, 0x0, 0x0);
        gbc.writeMem(0x613b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x8dd8, gbc.sp());
        EXPECT(0x613d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 018E
        gbc.setState(0x9cca, 0x385d, 0x1140, 0xf88b, 0x2a6a, 0xea21, 0x1, 0x1);
        gbc.writeMem(0x9cca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x385d, gbc.sp());
        EXPECT(0x9ccc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cca));
        EXPECT(0x2a, gbc.readMem(0x9ccb));
        // CB 2A 018F
        gbc.setState(0xac23, 0xec5c, 0x3140, 0xd3c3, 0xe281, 0xf19a, 0x0, 0x0);
        gbc.writeMem(0xac23, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xec5c, gbc.sp());
        EXPECT(0xac25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac23));
        EXPECT(0x2a, gbc.readMem(0xac24));
        // CB 2A 0190
        gbc.setState(0xeb31, 0xff9b, 0x45d0, 0x7cb2, 0x4816, 0xbeaa, 0x1, 0x0);
        gbc.writeMem(0xeb31, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xff9b, gbc.sp());
        EXPECT(0xeb33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb31));
        EXPECT(0x2a, gbc.readMem(0xeb32));
        // CB 2A 0191
        gbc.setState(0x7dc2, 0xc9c1, 0x8a10, 0xf300, 0xaba4, 0x8693, 0x0, 0x0);
        gbc.writeMem(0x7dc2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xc9c1, gbc.sp());
        EXPECT(0x7dc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0192
        gbc.setState(0x4346, 0x26f8, 0xcc40, 0xc730, 0xafa9, 0xf746, 0x1, 0x0);
        gbc.writeMem(0x4346, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x26f8, gbc.sp());
        EXPECT(0x4348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0193
        gbc.setState(0x4746, 0x2f55, 0x3cc0, 0x5ded, 0x6fa8, 0x9c0f, 0x1, 0x1);
        gbc.writeMem(0x4746, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2f55, gbc.sp());
        EXPECT(0x4748, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0195
        gbc.setState(0xd181, 0x260f, 0x54c0, 0xfbee, 0xf2ae, 0xa14f, 0x1, 0x0);
        gbc.writeMem(0xd181, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x260f, gbc.sp());
        EXPECT(0xd183, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd181));
        EXPECT(0x2a, gbc.readMem(0xd182));
        // CB 2A 0196
        gbc.setState(0xdb1b, 0xaf53, 0x5c0, 0x2727, 0xbff4, 0x6421, 0x1, 0x1);
        gbc.writeMem(0xdb1b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xaf53, gbc.sp());
        EXPECT(0xdb1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb1b));
        EXPECT(0x2a, gbc.readMem(0xdb1c));
        // CB 2A 0197
        gbc.setState(0x5a02, 0xa457, 0x37c0, 0x6c11, 0x9607, 0xf62b, 0x0, 0x0);
        gbc.writeMem(0x5a02, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xa457, gbc.sp());
        EXPECT(0x5a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0198
        gbc.setState(0xb3c6, 0xdc58, 0x3890, 0xa513, 0x8ea6, 0x8ae9, 0x0, 0x1);
        gbc.writeMem(0xb3c6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xdc58, gbc.sp());
        EXPECT(0xb3c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3c6));
        EXPECT(0x2a, gbc.readMem(0xb3c7));
        // CB 2A 0199
        gbc.setState(0x1bf2, 0x25c, 0xfc10, 0x4683, 0x76ae, 0x94d9, 0x1, 0x0);
        gbc.writeMem(0x1bf2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x25c, gbc.sp());
        EXPECT(0x1bf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 019A
        gbc.setState(0x40dc, 0xbcc, 0x370, 0xb5f, 0x86d5, 0x9ffc, 0x1, 0x1);
        gbc.writeMem(0x40dc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xbcc, gbc.sp());
        EXPECT(0x40de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 019B
        gbc.setState(0x6cc2, 0x566c, 0x60c0, 0x447a, 0x3e18, 0xcc0a, 0x0, 0x0);
        gbc.writeMem(0x6cc2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x566c, gbc.sp());
        EXPECT(0x6cc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 019C
        gbc.setState(0xb805, 0x4477, 0x4e70, 0x4d25, 0x8016, 0x28a8, 0x1, 0x0);
        gbc.writeMem(0xb805, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x4477, gbc.sp());
        EXPECT(0xb807, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb805));
        EXPECT(0x2a, gbc.readMem(0xb806));
        // CB 2A 019D
        gbc.setState(0x7454, 0xc17e, 0xcd10, 0x7de, 0xe824, 0x4b2c, 0x1, 0x1);
        gbc.writeMem(0x7454, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xc17e, gbc.sp());
        EXPECT(0x7456, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 019E
        gbc.setState(0xe475, 0x58cb, 0x54a0, 0xfd8e, 0x45b0, 0x5970, 0x0, 0x1);
        gbc.writeMem(0xe475, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x58cb, gbc.sp());
        EXPECT(0xe477, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe475));
        EXPECT(0x2a, gbc.readMem(0xe476));
        // CB 2A 019F
        gbc.setState(0x6391, 0x2972, 0xbbb0, 0xa02e, 0xd55a, 0x4524, 0x0, 0x1);
        gbc.writeMem(0x6391, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x2972, gbc.sp());
        EXPECT(0x6393, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01A0
        gbc.setState(0xc387, 0x51b8, 0x14a0, 0xdbb4, 0x3484, 0x70f6, 0x1, 0x0);
        gbc.writeMem(0xc387, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x51b8, gbc.sp());
        EXPECT(0xc389, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc387));
        EXPECT(0x2a, gbc.readMem(0xc388));
        // CB 2A 01A1
        gbc.setState(0xbf72, 0xe64d, 0x9720, 0xe7e2, 0x7cda, 0x8211, 0x1, 0x0);
        gbc.writeMem(0xbf72, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xe64d, gbc.sp());
        EXPECT(0xbf74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf72));
        EXPECT(0x2a, gbc.readMem(0xbf73));
        // CB 2A 01A2
        gbc.setState(0x9769, 0xba06, 0x2870, 0x7650, 0x7252, 0xbfc1, 0x0, 0x0);
        gbc.writeMem(0x9769, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xba06, gbc.sp());
        EXPECT(0x976b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9769));
        EXPECT(0x2a, gbc.readMem(0x976a));
        // CB 2A 01A3
        gbc.setState(0x1c9e, 0x75b8, 0x4620, 0x51d7, 0x75fb, 0xc65b, 0x1, 0x0);
        gbc.writeMem(0x1c9e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x75b8, gbc.sp());
        EXPECT(0x1ca0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01A4
        gbc.setState(0xdb21, 0x2d3e, 0x91e0, 0xd759, 0x38d, 0xeb36, 0x1, 0x1);
        gbc.writeMem(0xdb21, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x2d3e, gbc.sp());
        EXPECT(0xdb23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb21));
        EXPECT(0x2a, gbc.readMem(0xdb22));
        // CB 2A 01A5
        gbc.setState(0x3012, 0x6cb7, 0x20b0, 0xc754, 0xd4d7, 0x9fd0, 0x0, 0x0);
        gbc.writeMem(0x3012, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6cb7, gbc.sp());
        EXPECT(0x3014, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01A6
        gbc.setState(0x52c1, 0xcb, 0x4650, 0x37f9, 0x149, 0x59ca, 0x1, 0x1);
        gbc.writeMem(0x52c1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xcb, gbc.sp());
        EXPECT(0x52c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01A7
        gbc.setState(0xc145, 0xa1e7, 0xa550, 0x2791, 0x864f, 0x1116, 0x1, 0x0);
        gbc.writeMem(0xc145, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa1e7, gbc.sp());
        EXPECT(0xc147, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc145));
        EXPECT(0x2a, gbc.readMem(0xc146));
        // CB 2A 01A8
        gbc.setState(0xaed8, 0x8d2, 0xc2e0, 0xdcc7, 0xa9d8, 0x7881, 0x1, 0x1);
        gbc.writeMem(0xaed8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x8d2, gbc.sp());
        EXPECT(0xaeda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaed8));
        EXPECT(0x2a, gbc.readMem(0xaed9));
        // CB 2A 01AA
        gbc.setState(0x92f5, 0x78c7, 0xcba0, 0x9465, 0x1b01, 0xbc50, 0x0, 0x0);
        gbc.writeMem(0x92f5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x78c7, gbc.sp());
        EXPECT(0x92f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92f5));
        EXPECT(0x2a, gbc.readMem(0x92f6));
        // CB 2A 01AB
        gbc.setState(0x235b, 0x615a, 0x7da0, 0xfcff, 0xd0ac, 0xded8, 0x1, 0x0);
        gbc.writeMem(0x235b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x615a, gbc.sp());
        EXPECT(0x235d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01AC
        gbc.setState(0x41c, 0x73b6, 0xa200, 0x2ab2, 0xf95f, 0xc043, 0x0, 0x1);
        gbc.writeMem(0x41c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x73b6, gbc.sp());
        EXPECT(0x41e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01AF
        gbc.setState(0x7e9d, 0x2b64, 0x5bb0, 0xd246, 0xb5d7, 0x2b7d, 0x0, 0x1);
        gbc.writeMem(0x7e9d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2b64, gbc.sp());
        EXPECT(0x7e9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01B0
        gbc.setState(0x47ff, 0xfd99, 0x610, 0xa5f0, 0xaeb, 0xc005, 0x0, 0x0);
        gbc.writeMem(0x47ff, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xfd99, gbc.sp());
        EXPECT(0x4801, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01B1
        gbc.setState(0x6b8f, 0xf7cc, 0x1940, 0x3e69, 0x80ad, 0x288b, 0x1, 0x0);
        gbc.writeMem(0x6b8f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xf7cc, gbc.sp());
        EXPECT(0x6b91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01B2
        gbc.setState(0x2122, 0xde44, 0xa910, 0xedcd, 0xb0d6, 0x36ea, 0x0, 0x0);
        gbc.writeMem(0x2122, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xde44, gbc.sp());
        EXPECT(0x2124, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01B3
        gbc.setState(0x73e, 0xfc9a, 0x3ce0, 0x8886, 0x75b0, 0xc9b5, 0x0, 0x0);
        gbc.writeMem(0x73e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xfc9a, gbc.sp());
        EXPECT(0x740, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01B4
        gbc.setState(0xd052, 0xc15a, 0xb820, 0x50ed, 0xb7fc, 0x5662, 0x0, 0x1);
        gbc.writeMem(0xd052, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xc15a, gbc.sp());
        EXPECT(0xd054, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd052));
        EXPECT(0x2a, gbc.readMem(0xd053));
        // CB 2A 01B5
        gbc.setState(0xbc5d, 0x13e8, 0xa790, 0x8773, 0x31dc, 0x3956, 0x0, 0x1);
        gbc.writeMem(0xbc5d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x13e8, gbc.sp());
        EXPECT(0xbc5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc5d));
        EXPECT(0x2a, gbc.readMem(0xbc5e));
        // CB 2A 01B6
        gbc.setState(0x4f23, 0xebe0, 0x6220, 0xd11e, 0x97d2, 0xa20d, 0x1, 0x0);
        gbc.writeMem(0x4f23, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xebe0, gbc.sp());
        EXPECT(0x4f25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01B7
        gbc.setState(0xe5fa, 0x8ef9, 0xd600, 0xb4f5, 0x38c, 0x2e8d, 0x0, 0x0);
        gbc.writeMem(0xe5fa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8ef9, gbc.sp());
        EXPECT(0xe5fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5fa));
        EXPECT(0x2a, gbc.readMem(0xe5fb));
        // CB 2A 01B8
        gbc.setState(0xa84d, 0xa29b, 0xb6c0, 0x8019, 0xa4b9, 0x6257, 0x0, 0x1);
        gbc.writeMem(0xa84d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xa29b, gbc.sp());
        EXPECT(0xa84f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa84d));
        EXPECT(0x2a, gbc.readMem(0xa84e));
        // CB 2A 01B9
        gbc.setState(0x4d50, 0x8e4a, 0xd490, 0x7073, 0x1c84, 0xffe, 0x0, 0x0);
        gbc.writeMem(0x4d50, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8e4a, gbc.sp());
        EXPECT(0x4d52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01BA
        gbc.setState(0x89b7, 0x8a9a, 0xc440, 0x2f6b, 0x4e32, 0x485c, 0x1, 0x0);
        gbc.writeMem(0x89b7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x8a9a, gbc.sp());
        EXPECT(0x89b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89b7));
        EXPECT(0x2a, gbc.readMem(0x89b8));
        // CB 2A 01BB
        gbc.setState(0xa96, 0xe6db, 0xe260, 0x2f71, 0xe052, 0x26d1, 0x1, 0x0);
        gbc.writeMem(0xa96, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe6db, gbc.sp());
        EXPECT(0xa98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01BC
        gbc.setState(0x9126, 0x248d, 0x81a0, 0xfd33, 0x5a13, 0x4c18, 0x1, 0x1);
        gbc.writeMem(0x9126, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x248d, gbc.sp());
        EXPECT(0x9128, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9126));
        EXPECT(0x2a, gbc.readMem(0x9127));
        // CB 2A 01BD
        gbc.setState(0x2ed3, 0x9287, 0x440, 0x1867, 0x1adf, 0x61, 0x1, 0x0);
        gbc.writeMem(0x2ed3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x9287, gbc.sp());
        EXPECT(0x2ed5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01BE
        gbc.setState(0x93ab, 0x91ce, 0x3fa0, 0x153c, 0x367, 0x5d14, 0x1, 0x0);
        gbc.writeMem(0x93ab, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x91ce, gbc.sp());
        EXPECT(0x93ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93ab));
        EXPECT(0x2a, gbc.readMem(0x93ac));
        // CB 2A 01BF
        gbc.setState(0x1309, 0x1652, 0x7000, 0x5445, 0x3c8e, 0xc08b, 0x0, 0x0);
        gbc.writeMem(0x1309, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x1652, gbc.sp());
        EXPECT(0x130b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01C0
        gbc.setState(0x932f, 0x8d9d, 0xfae0, 0x5b1, 0x11b5, 0x1814, 0x0, 0x0);
        gbc.writeMem(0x932f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8d9d, gbc.sp());
        EXPECT(0x9331, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x932f));
        EXPECT(0x2a, gbc.readMem(0x9330));
        // CB 2A 01C1
        gbc.setState(0xac12, 0x899a, 0x4510, 0x36bb, 0xb84d, 0xc0cb, 0x1, 0x1);
        gbc.writeMem(0xac12, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x899a, gbc.sp());
        EXPECT(0xac14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac12));
        EXPECT(0x2a, gbc.readMem(0xac13));
        // CB 2A 01C2
        gbc.setState(0xcbad, 0x17e2, 0xc2b0, 0x14e6, 0x3ebe, 0xfaba, 0x1, 0x0);
        gbc.writeMem(0xcbad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x17e2, gbc.sp());
        EXPECT(0xcbaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbad));
        EXPECT(0x2a, gbc.readMem(0xcbae));
        // CB 2A 01C3
        gbc.setState(0x39db, 0x3877, 0xcc00, 0x3f1b, 0x7a0f, 0x780a, 0x0, 0x1);
        gbc.writeMem(0x39db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3877, gbc.sp());
        EXPECT(0x39dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01C4
        gbc.setState(0x5a76, 0x23f2, 0x1970, 0x624e, 0x5a7f, 0x46c3, 0x1, 0x1);
        gbc.writeMem(0x5a76, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x23f2, gbc.sp());
        EXPECT(0x5a78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01C6
        gbc.setState(0xd077, 0xdd4e, 0x2b00, 0x3aca, 0xdb24, 0x3877, 0x1, 0x1);
        gbc.writeMem(0xd077, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xdd4e, gbc.sp());
        EXPECT(0xd079, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd077));
        EXPECT(0x2a, gbc.readMem(0xd078));
        // CB 2A 01C7
        gbc.setState(0xa08c, 0x343f, 0x9c70, 0xf685, 0x15a4, 0xb66c, 0x1, 0x1);
        gbc.writeMem(0xa08c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x343f, gbc.sp());
        EXPECT(0xa08e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa08c));
        EXPECT(0x2a, gbc.readMem(0xa08d));
        // CB 2A 01C8
        gbc.setState(0xa1c7, 0x7e67, 0x76a0, 0xdc05, 0xe76, 0x527c, 0x1, 0x0);
        gbc.writeMem(0xa1c7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x7e67, gbc.sp());
        EXPECT(0xa1c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1c7));
        EXPECT(0x2a, gbc.readMem(0xa1c8));
        // CB 2A 01C9
        gbc.setState(0xbf18, 0xc42c, 0xf6a0, 0xcfc1, 0xc64f, 0xbc67, 0x0, 0x0);
        gbc.writeMem(0xbf18, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xc42c, gbc.sp());
        EXPECT(0xbf1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf18));
        EXPECT(0x2a, gbc.readMem(0xbf19));
        // CB 2A 01CA
        gbc.setState(0x6da4, 0x2ac5, 0x20, 0x14fa, 0x386c, 0xba70, 0x0, 0x0);
        gbc.writeMem(0x6da4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x2ac5, gbc.sp());
        EXPECT(0x6da6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01CB
        gbc.setState(0x2faa, 0x331b, 0xf40, 0x547c, 0xdad7, 0xe381, 0x1, 0x1);
        gbc.writeMem(0x2faa, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x331b, gbc.sp());
        EXPECT(0x2fac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01CC
        gbc.setState(0x1f92, 0xf20d, 0xb690, 0xc089, 0x83df, 0x5615, 0x0, 0x0);
        gbc.writeMem(0x1f92, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xf20d, gbc.sp());
        EXPECT(0x1f94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01CD
        gbc.setState(0x12, 0x927f, 0xdfb0, 0x7af1, 0x8c1e, 0x1ed2, 0x0, 0x1);
        gbc.writeMem(0x12, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x927f, gbc.sp());
        EXPECT(0x14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01CE
        gbc.setState(0x3d28, 0xded2, 0xfcf0, 0x87f6, 0xc506, 0xa14a, 0x1, 0x1);
        gbc.writeMem(0x3d28, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xded2, gbc.sp());
        EXPECT(0x3d2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01CF
        gbc.setState(0x9bb, 0xe775, 0xe830, 0x2341, 0x817e, 0x44f2, 0x0, 0x0);
        gbc.writeMem(0x9bb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe775, gbc.sp());
        EXPECT(0x9bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01D0
        gbc.setState(0x965, 0x80f, 0x4890, 0xc9ea, 0x32d, 0xf696, 0x0, 0x1);
        gbc.writeMem(0x965, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x80f, gbc.sp());
        EXPECT(0x967, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01D1
        gbc.setState(0xd3ed, 0xfb, 0x7830, 0xcc8e, 0x5a70, 0x78b9, 0x0, 0x0);
        gbc.writeMem(0xd3ed, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xfb, gbc.sp());
        EXPECT(0xd3ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3ed));
        EXPECT(0x2a, gbc.readMem(0xd3ee));
        // CB 2A 01D2
        gbc.setState(0x2af5, 0x4d0a, 0x92d0, 0xaca7, 0x6263, 0x1b0e, 0x0, 0x1);
        gbc.writeMem(0x2af5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x4d0a, gbc.sp());
        EXPECT(0x2af7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01D3
        gbc.setState(0xc2d6, 0xa80e, 0x500, 0xc3d7, 0x926e, 0x8854, 0x1, 0x0);
        gbc.writeMem(0xc2d6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xa80e, gbc.sp());
        EXPECT(0xc2d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2d6));
        EXPECT(0x2a, gbc.readMem(0xc2d7));
        // CB 2A 01D4
        gbc.setState(0xd07b, 0xfa9a, 0x6c70, 0x52c2, 0x33bb, 0x8408, 0x1, 0x0);
        gbc.writeMem(0xd07b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xfa9a, gbc.sp());
        EXPECT(0xd07d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd07b));
        EXPECT(0x2a, gbc.readMem(0xd07c));
        // CB 2A 01D5
        gbc.setState(0x6843, 0x1696, 0x24a0, 0x2333, 0x1179, 0x6ada, 0x1, 0x0);
        gbc.writeMem(0x6843, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x1696, gbc.sp());
        EXPECT(0x6845, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01D6
        gbc.setState(0xed71, 0x3b19, 0xbbc0, 0xd703, 0x440a, 0x477c, 0x0, 0x1);
        gbc.writeMem(0xed71, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x3b19, gbc.sp());
        EXPECT(0xed73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed71));
        EXPECT(0x2a, gbc.readMem(0xed72));
        // CB 2A 01D7
        gbc.setState(0xe9f7, 0x8d86, 0xe650, 0x4808, 0x2e58, 0x40b1, 0x1, 0x0);
        gbc.writeMem(0xe9f7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x8d86, gbc.sp());
        EXPECT(0xe9f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9f7));
        EXPECT(0x2a, gbc.readMem(0xe9f8));
        // CB 2A 01D8
        gbc.setState(0x8ff5, 0xeb4e, 0xeb90, 0xb37c, 0x1045, 0xcbcd, 0x0, 0x1);
        gbc.writeMem(0x8ff5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xeb4e, gbc.sp());
        EXPECT(0x8ff7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ff5));
        EXPECT(0x2a, gbc.readMem(0x8ff6));
        // CB 2A 01D9
        gbc.setState(0x3554, 0xe08b, 0x5170, 0x5a92, 0x2e99, 0x7542, 0x0, 0x0);
        gbc.writeMem(0x3554, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xe08b, gbc.sp());
        EXPECT(0x3556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01DA
        gbc.setState(0xbcfc, 0x2508, 0x5f30, 0xdf55, 0x4971, 0x23b5, 0x0, 0x0);
        gbc.writeMem(0xbcfc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x2508, gbc.sp());
        EXPECT(0xbcfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcfc));
        EXPECT(0x2a, gbc.readMem(0xbcfd));
        // CB 2A 01DB
        gbc.setState(0xcdcb, 0x2cef, 0x2f0, 0x103, 0x6d07, 0xd12c, 0x1, 0x0);
        gbc.writeMem(0xcdcb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x2cef, gbc.sp());
        EXPECT(0xcdcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdcb));
        EXPECT(0x2a, gbc.readMem(0xcdcc));
        // CB 2A 01DC
        gbc.setState(0xe71, 0x5e28, 0x5ef0, 0x8fc7, 0xe806, 0x7ca2, 0x0, 0x1);
        gbc.writeMem(0xe71, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x5e28, gbc.sp());
        EXPECT(0xe73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01DD
        gbc.setState(0x6fa4, 0xd111, 0x550, 0xebbe, 0x98b4, 0x2fd6, 0x0, 0x1);
        gbc.writeMem(0x6fa4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xd111, gbc.sp());
        EXPECT(0x6fa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01DE
        gbc.setState(0x26af, 0xf8b8, 0x5a20, 0xac93, 0x5586, 0x430d, 0x0, 0x1);
        gbc.writeMem(0x26af, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xf8b8, gbc.sp());
        EXPECT(0x26b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01DF
        gbc.setState(0x9fe7, 0x62bd, 0x1cc0, 0xb1a6, 0xf7e6, 0x34bd, 0x0, 0x0);
        gbc.writeMem(0x9fe7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x62bd, gbc.sp());
        EXPECT(0x9fe9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fe7));
        EXPECT(0x2a, gbc.readMem(0x9fe8));
        // CB 2A 01E0
        gbc.setState(0x8662, 0x9b3d, 0xc580, 0x79fb, 0x965, 0x2533, 0x0, 0x1);
        gbc.writeMem(0x8662, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x9b3d, gbc.sp());
        EXPECT(0x8664, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8662));
        EXPECT(0x2a, gbc.readMem(0x8663));
        // CB 2A 01E1
        gbc.setState(0x7be7, 0xb09c, 0x2a0, 0xa55f, 0x353d, 0x8aa2, 0x0, 0x1);
        gbc.writeMem(0x7be7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xb09c, gbc.sp());
        EXPECT(0x7be9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01E2
        gbc.setState(0x56fc, 0x4f60, 0xfad0, 0xce38, 0x52c7, 0x7724, 0x0, 0x0);
        gbc.writeMem(0x56fc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x4f60, gbc.sp());
        EXPECT(0x56fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01E3
        gbc.setState(0xd784, 0xa56, 0x45a0, 0x4d5b, 0xa597, 0xd93e, 0x1, 0x0);
        gbc.writeMem(0xd784, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa56, gbc.sp());
        EXPECT(0xd786, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd784));
        EXPECT(0x2a, gbc.readMem(0xd785));
        // CB 2A 01E4
        gbc.setState(0x71e4, 0xaf17, 0x47c0, 0x482c, 0x7a09, 0x3c40, 0x1, 0x0);
        gbc.writeMem(0x71e4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xaf17, gbc.sp());
        EXPECT(0x71e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01E5
        gbc.setState(0x2edd, 0x2359, 0x5b60, 0xc4f6, 0x7449, 0x9e2b, 0x1, 0x0);
        gbc.writeMem(0x2edd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2359, gbc.sp());
        EXPECT(0x2edf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01E6
        gbc.setState(0xd4ec, 0x9a69, 0xdf40, 0x21c, 0x4273, 0x6da3, 0x1, 0x0);
        gbc.writeMem(0xd4ec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x9a69, gbc.sp());
        EXPECT(0xd4ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4ec));
        EXPECT(0x2a, gbc.readMem(0xd4ed));
        // CB 2A 01E7
        gbc.setState(0x28da, 0x95df, 0xc740, 0x4e4c, 0xe6ad, 0x3adf, 0x0, 0x0);
        gbc.writeMem(0x28da, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x95df, gbc.sp());
        EXPECT(0x28dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01E8
        gbc.setState(0xb0ad, 0x89ed, 0x6690, 0x6c48, 0x1c4e, 0x3519, 0x0, 0x1);
        gbc.writeMem(0xb0ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x89ed, gbc.sp());
        EXPECT(0xb0af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0ad));
        EXPECT(0x2a, gbc.readMem(0xb0ae));
        // CB 2A 01E9
        gbc.setState(0x7346, 0x929e, 0xcd30, 0x77cf, 0x960f, 0xfb7b, 0x1, 0x1);
        gbc.writeMem(0x7346, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x929e, gbc.sp());
        EXPECT(0x7348, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01EA
        gbc.setState(0xafd5, 0x6263, 0xe020, 0xa209, 0xb1f5, 0x963b, 0x0, 0x1);
        gbc.writeMem(0xafd5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x6263, gbc.sp());
        EXPECT(0xafd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafd5));
        EXPECT(0x2a, gbc.readMem(0xafd6));
        // CB 2A 01EB
        gbc.setState(0x44fd, 0x499a, 0x24f0, 0x2891, 0x4516, 0x736d, 0x0, 0x0);
        gbc.writeMem(0x44fd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x499a, gbc.sp());
        EXPECT(0x44ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01EC
        gbc.setState(0x389f, 0x7959, 0x4930, 0x6e18, 0x46a6, 0x98e5, 0x0, 0x1);
        gbc.writeMem(0x389f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x7959, gbc.sp());
        EXPECT(0x38a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01ED
        gbc.setState(0x8997, 0xb49b, 0x1500, 0xf63e, 0x9c35, 0xe7d5, 0x0, 0x1);
        gbc.writeMem(0x8997, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xb49b, gbc.sp());
        EXPECT(0x8999, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8997));
        EXPECT(0x2a, gbc.readMem(0x8998));
        // CB 2A 01EE
        gbc.setState(0x85c2, 0x72fd, 0xed00, 0x843e, 0x9176, 0xba52, 0x1, 0x1);
        gbc.writeMem(0x85c2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x72fd, gbc.sp());
        EXPECT(0x85c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85c2));
        EXPECT(0x2a, gbc.readMem(0x85c3));
        // CB 2A 01EF
        gbc.setState(0x1eea, 0xabbc, 0xe530, 0x7f77, 0x987, 0xe3b7, 0x1, 0x0);
        gbc.writeMem(0x1eea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xabbc, gbc.sp());
        EXPECT(0x1eec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01F0
        gbc.setState(0x5818, 0x4c84, 0xac10, 0xc728, 0x5b8d, 0x4db4, 0x0, 0x0);
        gbc.writeMem(0x5818, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4c84, gbc.sp());
        EXPECT(0x581a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01F1
        gbc.setState(0x84d5, 0xb49e, 0x9800, 0x1de1, 0x86ea, 0x949e, 0x0, 0x1);
        gbc.writeMem(0x84d5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb49e, gbc.sp());
        EXPECT(0x84d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84d5));
        EXPECT(0x2a, gbc.readMem(0x84d6));
        // CB 2A 01F2
        gbc.setState(0x646f, 0xa936, 0xd6c0, 0x3d7f, 0xbd3, 0x6857, 0x0, 0x0);
        gbc.writeMem(0x646f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xa936, gbc.sp());
        EXPECT(0x6471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01F3
        gbc.setState(0xad4, 0xd4ed, 0xde90, 0x8371, 0x939e, 0xa7dc, 0x1, 0x1);
        gbc.writeMem(0xad4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xd4ed, gbc.sp());
        EXPECT(0xad6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01F4
        gbc.setState(0xf13, 0x7bf, 0xe4c0, 0x9b25, 0x4693, 0xa930, 0x1, 0x0);
        gbc.writeMem(0xf13, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x7bf, gbc.sp());
        EXPECT(0xf15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01F5
        gbc.setState(0x1567, 0x58be, 0xfa0, 0x5cec, 0xb0d3, 0x1f3e, 0x1, 0x1);
        gbc.writeMem(0x1567, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x58be, gbc.sp());
        EXPECT(0x1569, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01F6
        gbc.setState(0x4eaf, 0x7239, 0x7e10, 0x81ad, 0x72a4, 0x1937, 0x1, 0x1);
        gbc.writeMem(0x4eaf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x7239, gbc.sp());
        EXPECT(0x4eb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01F7
        gbc.setState(0xee34, 0x9c90, 0x4a70, 0x6339, 0xfc39, 0xe645, 0x0, 0x1);
        gbc.writeMem(0xee34, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x9c90, gbc.sp());
        EXPECT(0xee36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee34));
        EXPECT(0x2a, gbc.readMem(0xee35));
        // CB 2A 01F8
        gbc.setState(0x53e3, 0x5605, 0xc980, 0xa905, 0xa1cb, 0xdd22, 0x1, 0x0);
        gbc.writeMem(0x53e3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x5605, gbc.sp());
        EXPECT(0x53e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01F9
        gbc.setState(0x4229, 0xd209, 0x45b0, 0xb676, 0x621a, 0x21c, 0x0, 0x1);
        gbc.writeMem(0x4229, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xd209, gbc.sp());
        EXPECT(0x422b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01FA
        gbc.setState(0x9124, 0x9e14, 0xedf0, 0x9cf, 0x470, 0x33de, 0x1, 0x0);
        gbc.writeMem(0x9124, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x9e14, gbc.sp());
        EXPECT(0x9126, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9124));
        EXPECT(0x2a, gbc.readMem(0x9125));
        // CB 2A 01FB
        gbc.setState(0x5d46, 0xf8f4, 0x4150, 0x9689, 0x8093, 0xb7ae, 0x0, 0x1);
        gbc.writeMem(0x5d46, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xf8f4, gbc.sp());
        EXPECT(0x5d48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01FC
        gbc.setState(0x57ad, 0xa71b, 0x3560, 0xb180, 0xbd3c, 0xb815, 0x0, 0x1);
        gbc.writeMem(0x57ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xa71b, gbc.sp());
        EXPECT(0x57af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 01FD
        gbc.setState(0xf16, 0x40e1, 0x6840, 0x1bc7, 0x46e3, 0x99d9, 0x1, 0x0);
        gbc.writeMem(0xf16, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x40e1, gbc.sp());
        EXPECT(0xf18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01FE
        gbc.setState(0x1958, 0xf1ff, 0x9c00, 0x3a84, 0x9005, 0x2a32, 0x0, 0x0);
        gbc.writeMem(0x1958, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xf1ff, gbc.sp());
        EXPECT(0x195a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 01FF
        gbc.setState(0xb730, 0x86f7, 0x90, 0x869c, 0x225b, 0xc973, 0x0, 0x1);
        gbc.writeMem(0xb730, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x86f7, gbc.sp());
        EXPECT(0xb732, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb730));
        EXPECT(0x2a, gbc.readMem(0xb731));
        // CB 2A 0200
        gbc.setState(0x7976, 0x6f0c, 0x190, 0x9409, 0xcfeb, 0xd02, 0x1, 0x0);
        gbc.writeMem(0x7976, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x6f0c, gbc.sp());
        EXPECT(0x7978, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0201
        gbc.setState(0xe18b, 0x8949, 0x5340, 0x51ff, 0x66e9, 0x6970, 0x1, 0x1);
        gbc.writeMem(0xe18b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x8949, gbc.sp());
        EXPECT(0xe18d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe18b));
        EXPECT(0x2a, gbc.readMem(0xe18c));
        // CB 2A 0202
        gbc.setState(0x6950, 0x6726, 0x63e0, 0x5754, 0x4893, 0x1c96, 0x0, 0x0);
        gbc.writeMem(0x6950, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x6726, gbc.sp());
        EXPECT(0x6952, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0203
        gbc.setState(0x3a2, 0x305d, 0x8970, 0xd791, 0x5b1c, 0xead0, 0x1, 0x1);
        gbc.writeMem(0x3a2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x305d, gbc.sp());
        EXPECT(0x3a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0204
        gbc.setState(0xabba, 0xfae4, 0x64d0, 0x1812, 0x6863, 0xb58, 0x1, 0x1);
        gbc.writeMem(0xabba, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xfae4, gbc.sp());
        EXPECT(0xabbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabba));
        EXPECT(0x2a, gbc.readMem(0xabbb));
        // CB 2A 0205
        gbc.setState(0xcc4f, 0x76d3, 0xd7b0, 0x199d, 0x1d4c, 0x36c4, 0x0, 0x0);
        gbc.writeMem(0xcc4f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x76d3, gbc.sp());
        EXPECT(0xcc51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc4f));
        EXPECT(0x2a, gbc.readMem(0xcc50));
        // CB 2A 0206
        gbc.setState(0xce37, 0x5aa6, 0x5100, 0xcf95, 0x4b8, 0x7b65, 0x0, 0x0);
        gbc.writeMem(0xce37, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5aa6, gbc.sp());
        EXPECT(0xce39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce37));
        EXPECT(0x2a, gbc.readMem(0xce38));
        // CB 2A 0207
        gbc.setState(0x67c6, 0xc8a0, 0x7560, 0x5cd0, 0xf8f5, 0xd883, 0x0, 0x1);
        gbc.writeMem(0x67c6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xc8a0, gbc.sp());
        EXPECT(0x67c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0208
        gbc.setState(0x2511, 0x85f9, 0x4a70, 0xd139, 0x8063, 0xba7c, 0x0, 0x0);
        gbc.writeMem(0x2511, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x85f9, gbc.sp());
        EXPECT(0x2513, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0209
        gbc.setState(0x952f, 0xc658, 0xbde0, 0xa6af, 0x2a7, 0x4d83, 0x0, 0x1);
        gbc.writeMem(0x952f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xc658, gbc.sp());
        EXPECT(0x9531, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x952f));
        EXPECT(0x2a, gbc.readMem(0x9530));
        // CB 2A 020A
        gbc.setState(0x5ee7, 0x3429, 0xb830, 0xf259, 0x99b9, 0xd9a0, 0x1, 0x1);
        gbc.writeMem(0x5ee7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x3429, gbc.sp());
        EXPECT(0x5ee9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 020B
        gbc.setState(0x2463, 0xc7ef, 0xd5f0, 0x2619, 0xdd3b, 0x23d4, 0x0, 0x0);
        gbc.writeMem(0x2463, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xc7ef, gbc.sp());
        EXPECT(0x2465, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 020C
        gbc.setState(0x5da0, 0x539, 0x41f0, 0x3a03, 0x804c, 0xdbbc, 0x1, 0x0);
        gbc.writeMem(0x5da0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x539, gbc.sp());
        EXPECT(0x5da2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 020D
        gbc.setState(0x1bb1, 0xbb5a, 0x85f0, 0xf7b9, 0x2d8e, 0xaaa4, 0x0, 0x0);
        gbc.writeMem(0x1bb1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xbb5a, gbc.sp());
        EXPECT(0x1bb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 020E
        gbc.setState(0xbe4d, 0x73eb, 0xac70, 0xb1f6, 0xe7b9, 0x6f87, 0x0, 0x0);
        gbc.writeMem(0xbe4d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x73eb, gbc.sp());
        EXPECT(0xbe4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe4d));
        EXPECT(0x2a, gbc.readMem(0xbe4e));
        // CB 2A 020F
        gbc.setState(0x4e91, 0x3bff, 0x6a0, 0x7bac, 0xf57e, 0x4b6, 0x0, 0x0);
        gbc.writeMem(0x4e91, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x3bff, gbc.sp());
        EXPECT(0x4e93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0210
        gbc.setState(0x8976, 0x1f1b, 0xa290, 0xbf7e, 0xdf7e, 0x30a6, 0x1, 0x1);
        gbc.writeMem(0x8976, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1f1b, gbc.sp());
        EXPECT(0x8978, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8976));
        EXPECT(0x2a, gbc.readMem(0x8977));
        // CB 2A 0211
        gbc.setState(0xcd6e, 0xebff, 0x4f40, 0x38bf, 0x1220, 0x7f06, 0x1, 0x1);
        gbc.writeMem(0xcd6e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xebff, gbc.sp());
        EXPECT(0xcd70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd6e));
        EXPECT(0x2a, gbc.readMem(0xcd6f));
        // CB 2A 0212
        gbc.setState(0x6d09, 0x4022, 0xdda0, 0x1a2a, 0xde62, 0x8221, 0x0, 0x0);
        gbc.writeMem(0x6d09, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4022, gbc.sp());
        EXPECT(0x6d0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0213
        gbc.setState(0x5408, 0xdf36, 0x6bd0, 0x7df1, 0x263a, 0xe311, 0x1, 0x0);
        gbc.writeMem(0x5408, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xdf36, gbc.sp());
        EXPECT(0x540a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0214
        gbc.setState(0x5378, 0x300b, 0x6160, 0x10f4, 0xd493, 0x267f, 0x0, 0x1);
        gbc.writeMem(0x5378, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x300b, gbc.sp());
        EXPECT(0x537a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0215
        gbc.setState(0x3b9c, 0x63d, 0x2ac0, 0x9b4e, 0x1c32, 0x3b25, 0x1, 0x1);
        gbc.writeMem(0x3b9c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x63d, gbc.sp());
        EXPECT(0x3b9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0216
        gbc.setState(0x464b, 0x3c18, 0xc7d0, 0x447d, 0xb85a, 0x8d18, 0x1, 0x0);
        gbc.writeMem(0x464b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x3c18, gbc.sp());
        EXPECT(0x464d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0217
        gbc.setState(0x652c, 0x649a, 0x43e0, 0x84cf, 0x7b9b, 0x27d0, 0x1, 0x1);
        gbc.writeMem(0x652c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x649a, gbc.sp());
        EXPECT(0x652e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0218
        gbc.setState(0x5c03, 0xd7a8, 0xd230, 0x3185, 0xb5e7, 0x552d, 0x1, 0x1);
        gbc.writeMem(0x5c03, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xd7a8, gbc.sp());
        EXPECT(0x5c05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0219
        gbc.setState(0x8e4c, 0xa8ec, 0xcd30, 0xfef7, 0x44ee, 0x6eee, 0x1, 0x1);
        gbc.writeMem(0x8e4c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xa8ec, gbc.sp());
        EXPECT(0x8e4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e4c));
        EXPECT(0x2a, gbc.readMem(0x8e4d));
        // CB 2A 021A
        gbc.setState(0xba39, 0x8c17, 0x1220, 0xbdc2, 0xa352, 0xc098, 0x0, 0x0);
        gbc.writeMem(0xba39, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x8c17, gbc.sp());
        EXPECT(0xba3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba39));
        EXPECT(0x2a, gbc.readMem(0xba3a));
        // CB 2A 021B
        gbc.setState(0x9004, 0x2d82, 0x8eb0, 0x6891, 0x27ce, 0x713a, 0x0, 0x1);
        gbc.writeMem(0x9004, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x2d82, gbc.sp());
        EXPECT(0x9006, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9004));
        EXPECT(0x2a, gbc.readMem(0x9005));
        // CB 2A 021C
        gbc.setState(0x11e1, 0x2452, 0x3790, 0x2a43, 0x4575, 0xf250, 0x0, 0x1);
        gbc.writeMem(0x11e1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x2452, gbc.sp());
        EXPECT(0x11e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 021D
        gbc.setState(0x9900, 0x1d53, 0x4660, 0xfa6c, 0x310e, 0x3a3b, 0x0, 0x1);
        gbc.writeMem(0x9900, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x1d53, gbc.sp());
        EXPECT(0x9902, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9900));
        EXPECT(0x2a, gbc.readMem(0x9901));
        // CB 2A 021E
        gbc.setState(0x10db, 0xa237, 0x8c30, 0x569e, 0x1671, 0x24d1, 0x1, 0x1);
        gbc.writeMem(0x10db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa237, gbc.sp());
        EXPECT(0x10dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 021F
        gbc.setState(0xa6b6, 0x7a64, 0x4350, 0x3822, 0xcd44, 0x5cbd, 0x1, 0x1);
        gbc.writeMem(0xa6b6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x7a64, gbc.sp());
        EXPECT(0xa6b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6b6));
        EXPECT(0x2a, gbc.readMem(0xa6b7));
        // CB 2A 0220
        gbc.setState(0xc44c, 0x243b, 0x9240, 0x324e, 0xdd3a, 0xa8c1, 0x1, 0x0);
        gbc.writeMem(0xc44c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x243b, gbc.sp());
        EXPECT(0xc44e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc44c));
        EXPECT(0x2a, gbc.readMem(0xc44d));
        // CB 2A 0221
        gbc.setState(0x77fc, 0x7d08, 0x4390, 0x80ed, 0x2a46, 0x896e, 0x1, 0x0);
        gbc.writeMem(0x77fc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x7d08, gbc.sp());
        EXPECT(0x77fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0222
        gbc.setState(0xbd28, 0xa974, 0x4e50, 0xb9a1, 0x1000, 0xbe16, 0x0, 0x0);
        gbc.writeMem(0xbd28, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa974, gbc.sp());
        EXPECT(0xbd2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd28));
        EXPECT(0x2a, gbc.readMem(0xbd29));
        // CB 2A 0223
        gbc.setState(0x5031, 0x1d5, 0x9c0, 0xf2d5, 0x93ec, 0x4a45, 0x1, 0x1);
        gbc.writeMem(0x5031, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1d5, gbc.sp());
        EXPECT(0x5033, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0224
        gbc.setState(0x4c1e, 0xe1e1, 0x8a80, 0x36c1, 0x55fc, 0xecb8, 0x1, 0x1);
        gbc.writeMem(0x4c1e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xe1e1, gbc.sp());
        EXPECT(0x4c20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0225
        gbc.setState(0x52ea, 0x4c5b, 0x1d0, 0xf133, 0x1388, 0xba70, 0x0, 0x0);
        gbc.writeMem(0x52ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x4c5b, gbc.sp());
        EXPECT(0x52ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0226
        gbc.setState(0xaa75, 0xeca4, 0x59c0, 0x4400, 0x6dff, 0x7ff4, 0x0, 0x0);
        gbc.writeMem(0xaa75, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xeca4, gbc.sp());
        EXPECT(0xaa77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa75));
        EXPECT(0x2a, gbc.readMem(0xaa76));
        // CB 2A 0227
        gbc.setState(0x8e1c, 0x5ed8, 0x7b70, 0x14aa, 0xacd0, 0x16b3, 0x0, 0x1);
        gbc.writeMem(0x8e1c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x5ed8, gbc.sp());
        EXPECT(0x8e1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e1c));
        EXPECT(0x2a, gbc.readMem(0x8e1d));
        // CB 2A 0229
        gbc.setState(0xaf9a, 0x8ec0, 0x4a20, 0x6a2d, 0xfc62, 0x88e9, 0x0, 0x0);
        gbc.writeMem(0xaf9a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8ec0, gbc.sp());
        EXPECT(0xaf9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf9a));
        EXPECT(0x2a, gbc.readMem(0xaf9b));
        // CB 2A 022A
        gbc.setState(0x4c42, 0xe206, 0x7fc0, 0xd9df, 0x2f1c, 0xe13, 0x0, 0x1);
        gbc.writeMem(0x4c42, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xe206, gbc.sp());
        EXPECT(0x4c44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 022B
        gbc.setState(0xd088, 0x1bb, 0x2f50, 0x75a0, 0xff1f, 0xb776, 0x1, 0x0);
        gbc.writeMem(0xd088, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1bb, gbc.sp());
        EXPECT(0xd08a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd088));
        EXPECT(0x2a, gbc.readMem(0xd089));
        // CB 2A 022C
        gbc.setState(0xac74, 0x6293, 0x8b0, 0x633f, 0x9330, 0x6b31, 0x0, 0x0);
        gbc.writeMem(0xac74, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x6293, gbc.sp());
        EXPECT(0xac76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac74));
        EXPECT(0x2a, gbc.readMem(0xac75));
        // CB 2A 022D
        gbc.setState(0xd3ea, 0xb5ae, 0xf9e0, 0x9b87, 0xdec7, 0x463c, 0x1, 0x1);
        gbc.writeMem(0xd3ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb5ae, gbc.sp());
        EXPECT(0xd3ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3ea));
        EXPECT(0x2a, gbc.readMem(0xd3eb));
        // CB 2A 022E
        gbc.setState(0x26a2, 0xe3e5, 0xddc0, 0xac53, 0x963, 0xab71, 0x1, 0x0);
        gbc.writeMem(0x26a2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xe3e5, gbc.sp());
        EXPECT(0x26a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 022F
        gbc.setState(0x2815, 0x5d9f, 0xbad0, 0xbeb, 0x7256, 0x2aae, 0x1, 0x0);
        gbc.writeMem(0x2815, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x5d9f, gbc.sp());
        EXPECT(0x2817, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0230
        gbc.setState(0x63eb, 0xf4eb, 0x8190, 0xadf2, 0x9ed2, 0xa79b, 0x0, 0x0);
        gbc.writeMem(0x63eb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xf4eb, gbc.sp());
        EXPECT(0x63ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0231
        gbc.setState(0x1df, 0x4a61, 0x5270, 0xd1b7, 0xaa3a, 0xd5ca, 0x0, 0x1);
        gbc.writeMem(0x1df, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x4a61, gbc.sp());
        EXPECT(0x1e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0232
        gbc.setState(0xefb, 0x4825, 0x9f20, 0x7ce0, 0x1bac, 0x8590, 0x0, 0x1);
        gbc.writeMem(0xefb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x4825, gbc.sp());
        EXPECT(0xefd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0233
        gbc.setState(0x684d, 0x5adc, 0x98b0, 0x6453, 0xbdcc, 0xeedc, 0x1, 0x1);
        gbc.writeMem(0x684d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x5adc, gbc.sp());
        EXPECT(0x684f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0235
        gbc.setState(0xb867, 0x567b, 0xbea0, 0x92a2, 0x4441, 0x29c2, 0x0, 0x1);
        gbc.writeMem(0xb867, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x567b, gbc.sp());
        EXPECT(0xb869, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb867));
        EXPECT(0x2a, gbc.readMem(0xb868));
        // CB 2A 0236
        gbc.setState(0x96f, 0x1a17, 0x18f0, 0x8b59, 0x19cf, 0x28fd, 0x1, 0x1);
        gbc.writeMem(0x96f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x1a17, gbc.sp());
        EXPECT(0x971, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0237
        gbc.setState(0x7f10, 0x1242, 0xff90, 0x8710, 0xd59e, 0x9b6d, 0x0, 0x1);
        gbc.writeMem(0x7f10, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x1242, gbc.sp());
        EXPECT(0x7f12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0238
        gbc.setState(0x7831, 0x571, 0xf460, 0x2659, 0xec73, 0xa5e0, 0x1, 0x0);
        gbc.writeMem(0x7831, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x571, gbc.sp());
        EXPECT(0x7833, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0239
        gbc.setState(0xc5e3, 0x95d, 0xeaa0, 0x1bcb, 0xe706, 0x90c9, 0x0, 0x1);
        gbc.writeMem(0xc5e3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x95d, gbc.sp());
        EXPECT(0xc5e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5e3));
        EXPECT(0x2a, gbc.readMem(0xc5e4));
        // CB 2A 023A
        gbc.setState(0x89fd, 0x8511, 0xf780, 0x4cc, 0xfdac, 0xfc5e, 0x0, 0x1);
        gbc.writeMem(0x89fd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x8511, gbc.sp());
        EXPECT(0x89ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89fd));
        EXPECT(0x2a, gbc.readMem(0x89fe));
        // CB 2A 023B
        gbc.setState(0x29ed, 0x9ae7, 0x27d0, 0xaea2, 0x77c9, 0x3b84, 0x1, 0x1);
        gbc.writeMem(0x29ed, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x9ae7, gbc.sp());
        EXPECT(0x29ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 023C
        gbc.setState(0x820d, 0x96f2, 0xe950, 0x82f8, 0x14d1, 0xf2ab, 0x0, 0x0);
        gbc.writeMem(0x820d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x96f2, gbc.sp());
        EXPECT(0x820f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x820d));
        EXPECT(0x2a, gbc.readMem(0x820e));
        // CB 2A 023D
        gbc.setState(0xa88a, 0x6601, 0xf0f0, 0x5401, 0x508, 0x9a65, 0x0, 0x1);
        gbc.writeMem(0xa88a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x6601, gbc.sp());
        EXPECT(0xa88c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa88a));
        EXPECT(0x2a, gbc.readMem(0xa88b));
        // CB 2A 023E
        gbc.setState(0x9fff, 0x71f1, 0xa3e0, 0xb8c7, 0x4969, 0x7d3b, 0x0, 0x0);
        gbc.writeMem(0x9fff, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x71f1, gbc.sp());
        EXPECT(0xa001, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fff));
        EXPECT(0x2a, gbc.readMem(0xa000));
        // CB 2A 023F
        gbc.setState(0xc1fc, 0xd81b, 0x6bd0, 0xc2b, 0x2929, 0xd76e, 0x1, 0x0);
        gbc.writeMem(0xc1fc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd81b, gbc.sp());
        EXPECT(0xc1fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1fc));
        EXPECT(0x2a, gbc.readMem(0xc1fd));
        // CB 2A 0240
        gbc.setState(0x2afc, 0xc4eb, 0x7c10, 0xd4cf, 0x6b6b, 0x531, 0x1, 0x0);
        gbc.writeMem(0x2afc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xc4eb, gbc.sp());
        EXPECT(0x2afe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0241
        gbc.setState(0x2f88, 0x2858, 0x20e0, 0x8986, 0x95cb, 0x4e65, 0x0, 0x1);
        gbc.writeMem(0x2f88, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2858, gbc.sp());
        EXPECT(0x2f8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0242
        gbc.setState(0x64f4, 0x4076, 0x430, 0x9c9e, 0x45a9, 0x15dd, 0x1, 0x0);
        gbc.writeMem(0x64f4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x4076, gbc.sp());
        EXPECT(0x64f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0243
        gbc.setState(0x897f, 0x3687, 0x15b0, 0xc023, 0xbe75, 0x67a, 0x1, 0x0);
        gbc.writeMem(0x897f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x3687, gbc.sp());
        EXPECT(0x8981, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x897f));
        EXPECT(0x2a, gbc.readMem(0x8980));
        // CB 2A 0244
        gbc.setState(0xcbcd, 0x6e9e, 0x2020, 0xb503, 0x851d, 0xca04, 0x1, 0x0);
        gbc.writeMem(0xcbcd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6e9e, gbc.sp());
        EXPECT(0xcbcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbcd));
        EXPECT(0x2a, gbc.readMem(0xcbce));
        // CB 2A 0245
        gbc.setState(0x29df, 0x1e1a, 0xb730, 0x8ca9, 0x8e32, 0x21ef, 0x1, 0x1);
        gbc.writeMem(0x29df, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x1e1a, gbc.sp());
        EXPECT(0x29e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0246
        gbc.setState(0xafa1, 0x1e0e, 0x5880, 0x45ff, 0xd2fb, 0xea79, 0x1, 0x1);
        gbc.writeMem(0xafa1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x1e0e, gbc.sp());
        EXPECT(0xafa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafa1));
        EXPECT(0x2a, gbc.readMem(0xafa2));
        // CB 2A 0247
        gbc.setState(0x9a1e, 0x4706, 0xc5e0, 0xa914, 0xca44, 0x4f05, 0x0, 0x1);
        gbc.writeMem(0x9a1e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x4706, gbc.sp());
        EXPECT(0x9a20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a1e));
        EXPECT(0x2a, gbc.readMem(0x9a1f));
        // CB 2A 0248
        gbc.setState(0x307b, 0x823c, 0x3870, 0x5fc6, 0x2655, 0x253d, 0x0, 0x1);
        gbc.writeMem(0x307b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x823c, gbc.sp());
        EXPECT(0x307d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0249
        gbc.setState(0x1786, 0x9a03, 0x6a70, 0x9ee8, 0xc8e4, 0x3be5, 0x0, 0x1);
        gbc.writeMem(0x1786, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x9a03, gbc.sp());
        EXPECT(0x1788, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 024A
        gbc.setState(0x9d80, 0x4f2d, 0xdf40, 0x2254, 0xc3d9, 0x4a6b, 0x1, 0x1);
        gbc.writeMem(0x9d80, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x4f2d, gbc.sp());
        EXPECT(0x9d82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d80));
        EXPECT(0x2a, gbc.readMem(0x9d81));
        // CB 2A 024B
        gbc.setState(0x86f5, 0xf0ee, 0x8630, 0x6187, 0x251a, 0x7107, 0x1, 0x1);
        gbc.writeMem(0x86f5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xf0ee, gbc.sp());
        EXPECT(0x86f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86f5));
        EXPECT(0x2a, gbc.readMem(0x86f6));
        // CB 2A 024C
        gbc.setState(0x1f48, 0x77ca, 0x5e70, 0xc3a3, 0xe844, 0xcbc5, 0x0, 0x1);
        gbc.writeMem(0x1f48, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x77ca, gbc.sp());
        EXPECT(0x1f4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 024D
        gbc.setState(0xa581, 0xdd44, 0x69b0, 0x9533, 0xe449, 0x2c5c, 0x1, 0x0);
        gbc.writeMem(0xa581, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xdd44, gbc.sp());
        EXPECT(0xa583, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa581));
        EXPECT(0x2a, gbc.readMem(0xa582));
        // CB 2A 024E
        gbc.setState(0x59ac, 0x962f, 0x3180, 0x56f6, 0xf0e5, 0x3a73, 0x1, 0x0);
        gbc.writeMem(0x59ac, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x962f, gbc.sp());
        EXPECT(0x59ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0250
        gbc.setState(0xe606, 0x175b, 0x1160, 0x4904, 0xc298, 0xfdb3, 0x1, 0x1);
        gbc.writeMem(0xe606, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x175b, gbc.sp());
        EXPECT(0xe608, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe606));
        EXPECT(0x2a, gbc.readMem(0xe607));
        // CB 2A 0251
        gbc.setState(0x2b6c, 0x6979, 0x8910, 0x7e9a, 0xb74e, 0x8064, 0x1, 0x1);
        gbc.writeMem(0x2b6c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6979, gbc.sp());
        EXPECT(0x2b6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0252
        gbc.setState(0x35e6, 0xb94d, 0xede0, 0x87e5, 0x84df, 0x719e, 0x1, 0x1);
        gbc.writeMem(0x35e6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb94d, gbc.sp());
        EXPECT(0x35e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0253
        gbc.setState(0xb790, 0x9441, 0x5bd0, 0x495e, 0x3625, 0x4342, 0x0, 0x1);
        gbc.writeMem(0xb790, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x9441, gbc.sp());
        EXPECT(0xb792, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb790));
        EXPECT(0x2a, gbc.readMem(0xb791));
        // CB 2A 0255
        gbc.setState(0x84e7, 0x184b, 0x16f0, 0x70c7, 0x98b5, 0xb354, 0x1, 0x0);
        gbc.writeMem(0x84e7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x184b, gbc.sp());
        EXPECT(0x84e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84e7));
        EXPECT(0x2a, gbc.readMem(0x84e8));
        // CB 2A 0256
        gbc.setState(0x9033, 0x9995, 0xce60, 0x294c, 0xbab9, 0x392f, 0x1, 0x1);
        gbc.writeMem(0x9033, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x9995, gbc.sp());
        EXPECT(0x9035, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9033));
        EXPECT(0x2a, gbc.readMem(0x9034));
        // CB 2A 0257
        gbc.setState(0x9f54, 0xecd0, 0xa100, 0xb265, 0xdb66, 0x9b3d, 0x0, 0x1);
        gbc.writeMem(0x9f54, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xecd0, gbc.sp());
        EXPECT(0x9f56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f54));
        EXPECT(0x2a, gbc.readMem(0x9f55));
        // CB 2A 0258
        gbc.setState(0xb646, 0x1b10, 0xea20, 0xedb7, 0x6656, 0xdcfb, 0x1, 0x1);
        gbc.writeMem(0xb646, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x1b10, gbc.sp());
        EXPECT(0xb648, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb646));
        EXPECT(0x2a, gbc.readMem(0xb647));
        // CB 2A 0259
        gbc.setState(0x42d4, 0xba33, 0x7070, 0xd93, 0x5422, 0xbe4b, 0x1, 0x0);
        gbc.writeMem(0x42d4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xba33, gbc.sp());
        EXPECT(0x42d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 025A
        gbc.setState(0x8a4b, 0xb58c, 0x16c0, 0xd745, 0xfec5, 0xfa13, 0x1, 0x1);
        gbc.writeMem(0x8a4b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xb58c, gbc.sp());
        EXPECT(0x8a4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a4b));
        EXPECT(0x2a, gbc.readMem(0x8a4c));
        // CB 2A 025B
        gbc.setState(0x342c, 0x5a7a, 0x3270, 0xe900, 0x4c7a, 0x457d, 0x0, 0x0);
        gbc.writeMem(0x342c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x5a7a, gbc.sp());
        EXPECT(0x342e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 025C
        gbc.setState(0x5d47, 0x3a2f, 0x310, 0x2eec, 0xc653, 0x7201, 0x0, 0x0);
        gbc.writeMem(0x5d47, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x3a2f, gbc.sp());
        EXPECT(0x5d49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 025D
        gbc.setState(0x8995, 0x4c03, 0xfdb0, 0xfe47, 0x344c, 0xdf68, 0x0, 0x1);
        gbc.writeMem(0x8995, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x4c03, gbc.sp());
        EXPECT(0x8997, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8995));
        EXPECT(0x2a, gbc.readMem(0x8996));
        // CB 2A 025E
        gbc.setState(0x39db, 0x68b4, 0xffc0, 0x4f90, 0x9ebb, 0xe54a, 0x1, 0x0);
        gbc.writeMem(0x39db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x68b4, gbc.sp());
        EXPECT(0x39dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 025F
        gbc.setState(0x76b4, 0x1089, 0x5030, 0x426e, 0xe507, 0x9145, 0x1, 0x1);
        gbc.writeMem(0x76b4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x1089, gbc.sp());
        EXPECT(0x76b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0260
        gbc.setState(0xde9, 0xaef9, 0xda70, 0x12a1, 0xcb0d, 0xe3d, 0x1, 0x1);
        gbc.writeMem(0xde9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xaef9, gbc.sp());
        EXPECT(0xdeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0261
        gbc.setState(0xe934, 0x833f, 0x540, 0x4928, 0xa800, 0xc749, 0x0, 0x1);
        gbc.writeMem(0xe934, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x833f, gbc.sp());
        EXPECT(0xe936, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe934));
        EXPECT(0x2a, gbc.readMem(0xe935));
        // CB 2A 0262
        gbc.setState(0x2fd, 0xed46, 0xfd50, 0xc90e, 0x4cf, 0x8818, 0x1, 0x0);
        gbc.writeMem(0x2fd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xed46, gbc.sp());
        EXPECT(0x2ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0263
        gbc.setState(0x2823, 0xe6d8, 0x2390, 0x8813, 0xdd8a, 0xe683, 0x1, 0x1);
        gbc.writeMem(0x2823, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe6d8, gbc.sp());
        EXPECT(0x2825, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0264
        gbc.setState(0x9bce, 0x8e6b, 0x3db0, 0x192f, 0xb6e3, 0xc1bd, 0x1, 0x0);
        gbc.writeMem(0x9bce, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x8e6b, gbc.sp());
        EXPECT(0x9bd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bce));
        EXPECT(0x2a, gbc.readMem(0x9bcf));
        // CB 2A 0265
        gbc.setState(0x3de7, 0x33ea, 0xe6d0, 0x5092, 0x570d, 0x932, 0x1, 0x0);
        gbc.writeMem(0x3de7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x33ea, gbc.sp());
        EXPECT(0x3de9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0266
        gbc.setState(0x150e, 0x2a7, 0xc9b0, 0xc059, 0x458a, 0x7295, 0x1, 0x1);
        gbc.writeMem(0x150e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x2a7, gbc.sp());
        EXPECT(0x1510, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0267
        gbc.setState(0x1b83, 0x46b6, 0x20e0, 0xb20d, 0x28b4, 0xe87e, 0x0, 0x0);
        gbc.writeMem(0x1b83, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x46b6, gbc.sp());
        EXPECT(0x1b85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0268
        gbc.setState(0x7669, 0x789f, 0x90d0, 0x4530, 0xe292, 0x5b12, 0x0, 0x0);
        gbc.writeMem(0x7669, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x789f, gbc.sp());
        EXPECT(0x766b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0269
        gbc.setState(0x7c74, 0xb14f, 0xd7b0, 0xa6e2, 0xe0ff, 0x5c82, 0x0, 0x0);
        gbc.writeMem(0x7c74, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xb14f, gbc.sp());
        EXPECT(0x7c76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 026A
        gbc.setState(0xdd7a, 0x4465, 0x1d80, 0x1d47, 0xaab6, 0x4ee8, 0x0, 0x0);
        gbc.writeMem(0xdd7a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x4465, gbc.sp());
        EXPECT(0xdd7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd7a));
        EXPECT(0x2a, gbc.readMem(0xdd7b));
        // CB 2A 026B
        gbc.setState(0x66e8, 0x4dea, 0x6c40, 0xa22d, 0xb769, 0xca4b, 0x0, 0x1);
        gbc.writeMem(0x66e8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x4dea, gbc.sp());
        EXPECT(0x66ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 026C
        gbc.setState(0x8f66, 0x5c14, 0x9370, 0x57b, 0x8272, 0x13b8, 0x1, 0x1);
        gbc.writeMem(0x8f66, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x5c14, gbc.sp());
        EXPECT(0x8f68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f66));
        EXPECT(0x2a, gbc.readMem(0x8f67));
        // CB 2A 026D
        gbc.setState(0x762c, 0xebe1, 0xc090, 0x5418, 0xb2be, 0x4bf5, 0x1, 0x1);
        gbc.writeMem(0x762c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xebe1, gbc.sp());
        EXPECT(0x762e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 026E
        gbc.setState(0x151f, 0x7685, 0x8b60, 0xe70a, 0x1c1c, 0x900b, 0x0, 0x0);
        gbc.writeMem(0x151f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7685, gbc.sp());
        EXPECT(0x1521, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 026F
        gbc.setState(0x1ec5, 0xe33e, 0x4260, 0x7c24, 0xc321, 0xf3b8, 0x0, 0x1);
        gbc.writeMem(0x1ec5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xe33e, gbc.sp());
        EXPECT(0x1ec7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0271
        gbc.setState(0xbfc9, 0xbea2, 0x8650, 0x101d, 0xdd2c, 0x1f09, 0x1, 0x1);
        gbc.writeMem(0xbfc9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xbea2, gbc.sp());
        EXPECT(0xbfcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfc9));
        EXPECT(0x2a, gbc.readMem(0xbfca));
        // CB 2A 0272
        gbc.setState(0xeb9d, 0x2c3c, 0xddf0, 0x7012, 0xc7f8, 0x20cc, 0x1, 0x1);
        gbc.writeMem(0xeb9d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x2c3c, gbc.sp());
        EXPECT(0xeb9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb9d));
        EXPECT(0x2a, gbc.readMem(0xeb9e));
        // CB 2A 0273
        gbc.setState(0x3870, 0x65, 0xc750, 0xffa0, 0x9893, 0xf463, 0x0, 0x0);
        gbc.writeMem(0x3870, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x65, gbc.sp());
        EXPECT(0x3872, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0274
        gbc.setState(0xee63, 0xeb1a, 0xcd20, 0xab90, 0x9653, 0x704b, 0x0, 0x0);
        gbc.writeMem(0xee63, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xeb1a, gbc.sp());
        EXPECT(0xee65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee63));
        EXPECT(0x2a, gbc.readMem(0xee64));
        // CB 2A 0275
        gbc.setState(0xc275, 0xe0cc, 0x7880, 0xd9cd, 0xa7f7, 0x5f8a, 0x0, 0x1);
        gbc.writeMem(0xc275, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xe0cc, gbc.sp());
        EXPECT(0xc277, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc275));
        EXPECT(0x2a, gbc.readMem(0xc276));
        // CB 2A 0277
        gbc.setState(0x6b6f, 0xd0db, 0x9b10, 0xe3a2, 0x63cf, 0xf796, 0x0, 0x0);
        gbc.writeMem(0x6b6f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xd0db, gbc.sp());
        EXPECT(0x6b71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0278
        gbc.setState(0x3a8c, 0xb69d, 0xe7b0, 0x1cd9, 0xb27f, 0xa1f8, 0x0, 0x0);
        gbc.writeMem(0x3a8c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xb69d, gbc.sp());
        EXPECT(0x3a8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0279
        gbc.setState(0x2db4, 0x1e8b, 0x2610, 0x9caa, 0x22bc, 0xf6f5, 0x0, 0x0);
        gbc.writeMem(0x2db4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x1e8b, gbc.sp());
        EXPECT(0x2db6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 027B
        gbc.setState(0x82ee, 0x55b9, 0x5cf0, 0x800f, 0x55b6, 0x5b1a, 0x0, 0x0);
        gbc.writeMem(0x82ee, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x55b9, gbc.sp());
        EXPECT(0x82f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82ee));
        EXPECT(0x2a, gbc.readMem(0x82ef));
        // CB 2A 027C
        gbc.setState(0xef8a, 0x3abb, 0x54b0, 0xdb2a, 0xdc8e, 0xacec, 0x1, 0x1);
        gbc.writeMem(0xef8a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3abb, gbc.sp());
        EXPECT(0xef8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef8a));
        EXPECT(0x2a, gbc.readMem(0xef8b));
        // CB 2A 027D
        gbc.setState(0xb385, 0x659b, 0x4a90, 0x25e4, 0x1c96, 0xb4d5, 0x0, 0x1);
        gbc.writeMem(0xb385, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x659b, gbc.sp());
        EXPECT(0xb387, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb385));
        EXPECT(0x2a, gbc.readMem(0xb386));
        // CB 2A 027E
        gbc.setState(0x856e, 0xcb2f, 0xc030, 0x1b75, 0x48c0, 0x1b6b, 0x0, 0x0);
        gbc.writeMem(0x856e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xcb2f, gbc.sp());
        EXPECT(0x8570, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x856e));
        EXPECT(0x2a, gbc.readMem(0x856f));
        // CB 2A 027F
        gbc.setState(0xb7f8, 0x148d, 0xaee0, 0x2ca9, 0xda32, 0x50e8, 0x0, 0x1);
        gbc.writeMem(0xb7f8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x148d, gbc.sp());
        EXPECT(0xb7fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7f8));
        EXPECT(0x2a, gbc.readMem(0xb7f9));
        // CB 2A 0280
        gbc.setState(0xd158, 0x2dc1, 0xc160, 0x69c2, 0xefb, 0x8a6, 0x1, 0x1);
        gbc.writeMem(0xd158, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x2dc1, gbc.sp());
        EXPECT(0xd15a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd158));
        EXPECT(0x2a, gbc.readMem(0xd159));
        // CB 2A 0281
        gbc.setState(0x35ad, 0x5217, 0x5190, 0x6cb2, 0x203b, 0x717, 0x1, 0x1);
        gbc.writeMem(0x35ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5217, gbc.sp());
        EXPECT(0x35af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0282
        gbc.setState(0x71bd, 0x147e, 0x9670, 0xdd70, 0xb5e1, 0x2321, 0x0, 0x1);
        gbc.writeMem(0x71bd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x147e, gbc.sp());
        EXPECT(0x71bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0283
        gbc.setState(0xae79, 0x7140, 0x5520, 0xec9, 0x2e9b, 0x9c7a, 0x0, 0x1);
        gbc.writeMem(0xae79, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x7140, gbc.sp());
        EXPECT(0xae7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae79));
        EXPECT(0x2a, gbc.readMem(0xae7a));
        // CB 2A 0284
        gbc.setState(0xba5a, 0x5b4b, 0x6450, 0x34f2, 0xea3b, 0xc00a, 0x1, 0x0);
        gbc.writeMem(0xba5a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x5b4b, gbc.sp());
        EXPECT(0xba5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba5a));
        EXPECT(0x2a, gbc.readMem(0xba5b));
        // CB 2A 0285
        gbc.setState(0x6606, 0x225a, 0xd9a0, 0x3921, 0x8563, 0x276c, 0x0, 0x0);
        gbc.writeMem(0x6606, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x225a, gbc.sp());
        EXPECT(0x6608, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0286
        gbc.setState(0xcfcd, 0x11a, 0xab30, 0x8453, 0xf6ac, 0x5f84, 0x1, 0x0);
        gbc.writeMem(0xcfcd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x11a, gbc.sp());
        EXPECT(0xcfcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfcd));
        EXPECT(0x2a, gbc.readMem(0xcfce));
        // CB 2A 0288
        gbc.setState(0xd703, 0x8c90, 0x2860, 0x170, 0x8264, 0xd902, 0x0, 0x1);
        gbc.writeMem(0xd703, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x8c90, gbc.sp());
        EXPECT(0xd705, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd703));
        EXPECT(0x2a, gbc.readMem(0xd704));
        // CB 2A 0289
        gbc.setState(0xdf52, 0x4013, 0x12b0, 0x9745, 0x2cb8, 0x916a, 0x0, 0x0);
        gbc.writeMem(0xdf52, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x4013, gbc.sp());
        EXPECT(0xdf54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf52));
        EXPECT(0x2a, gbc.readMem(0xdf53));
        // CB 2A 028A
        gbc.setState(0x7712, 0x2f99, 0xdf0, 0x1d24, 0x3d37, 0x8dbe, 0x1, 0x0);
        gbc.writeMem(0x7712, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x2f99, gbc.sp());
        EXPECT(0x7714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 028B
        gbc.setState(0x1787, 0x9c58, 0x63a0, 0xb4de, 0x7a5f, 0x84f0, 0x1, 0x1);
        gbc.writeMem(0x1787, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x9c58, gbc.sp());
        EXPECT(0x1789, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 028C
        gbc.setState(0x256, 0x4210, 0x9400, 0x4c48, 0x3521, 0x40ad, 0x1, 0x1);
        gbc.writeMem(0x256, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x4210, gbc.sp());
        EXPECT(0x258, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 028D
        gbc.setState(0xd3c9, 0x9dc5, 0x54a0, 0x48f5, 0x3fdd, 0xbe1c, 0x0, 0x0);
        gbc.writeMem(0xd3c9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x9dc5, gbc.sp());
        EXPECT(0xd3cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3c9));
        EXPECT(0x2a, gbc.readMem(0xd3ca));
        // CB 2A 028E
        gbc.setState(0x969a, 0x247, 0x8aa0, 0xc412, 0xaa18, 0x7fc9, 0x1, 0x0);
        gbc.writeMem(0x969a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x247, gbc.sp());
        EXPECT(0x969c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x969a));
        EXPECT(0x2a, gbc.readMem(0x969b));
        // CB 2A 028F
        gbc.setState(0x734, 0x3213, 0x2320, 0x95b2, 0x72c3, 0x2936, 0x1, 0x0);
        gbc.writeMem(0x734, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x3213, gbc.sp());
        EXPECT(0x736, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0291
        gbc.setState(0x2578, 0x2d2a, 0x1130, 0x1f26, 0x5d08, 0x6fc7, 0x0, 0x0);
        gbc.writeMem(0x2578, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x2d2a, gbc.sp());
        EXPECT(0x257a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0292
        gbc.setState(0xd1dd, 0x196c, 0x47b0, 0x955c, 0xc2a, 0xb14c, 0x0, 0x0);
        gbc.writeMem(0xd1dd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x196c, gbc.sp());
        EXPECT(0xd1df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1dd));
        EXPECT(0x2a, gbc.readMem(0xd1de));
        // CB 2A 0293
        gbc.setState(0x6b6a, 0x6f2b, 0xacc0, 0xe9e8, 0xcecf, 0xee76, 0x1, 0x1);
        gbc.writeMem(0x6b6a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x6f2b, gbc.sp());
        EXPECT(0x6b6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0294
        gbc.setState(0x1033, 0x7421, 0xca70, 0x710, 0xf756, 0x9d63, 0x1, 0x0);
        gbc.writeMem(0x1033, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x7421, gbc.sp());
        EXPECT(0x1035, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0295
        gbc.setState(0x7f6f, 0x5825, 0xba90, 0x33f5, 0xea0, 0x2014, 0x0, 0x0);
        gbc.writeMem(0x7f6f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x5825, gbc.sp());
        EXPECT(0x7f71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0296
        gbc.setState(0x40a, 0xefbd, 0x88f0, 0xa004, 0xa8d9, 0x3038, 0x1, 0x1);
        gbc.writeMem(0x40a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xefbd, gbc.sp());
        EXPECT(0x40c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0297
        gbc.setState(0x974a, 0x891d, 0x830, 0xbae5, 0x44d1, 0x945e, 0x1, 0x0);
        gbc.writeMem(0x974a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x891d, gbc.sp());
        EXPECT(0x974c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x974a));
        EXPECT(0x2a, gbc.readMem(0x974b));
        // CB 2A 0298
        gbc.setState(0x684f, 0x5244, 0xec40, 0x1f05, 0x9ff0, 0x493c, 0x0, 0x0);
        gbc.writeMem(0x684f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x5244, gbc.sp());
        EXPECT(0x6851, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0299
        gbc.setState(0x45, 0x5181, 0x6970, 0xc939, 0x5d8, 0xb8b6, 0x1, 0x1);
        gbc.writeMem(0x45, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x5181, gbc.sp());
        EXPECT(0x47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 029A
        gbc.setState(0x80a2, 0xa05a, 0xf170, 0xdd86, 0x930c, 0x3ea3, 0x0, 0x0);
        gbc.writeMem(0x80a2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xa05a, gbc.sp());
        EXPECT(0x80a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80a2));
        EXPECT(0x2a, gbc.readMem(0x80a3));
        // CB 2A 029C
        gbc.setState(0x2cee, 0x9e99, 0x5a50, 0xffc0, 0xafad, 0xfc49, 0x1, 0x1);
        gbc.writeMem(0x2cee, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x9e99, gbc.sp());
        EXPECT(0x2cf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 029D
        gbc.setState(0xbef0, 0x3a35, 0x10, 0x8e1c, 0x3893, 0xfab3, 0x0, 0x1);
        gbc.writeMem(0xbef0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x3a35, gbc.sp());
        EXPECT(0xbef2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbef0));
        EXPECT(0x2a, gbc.readMem(0xbef1));
        // CB 2A 029E
        gbc.setState(0x822c, 0x5690, 0x9300, 0xd08b, 0xb2a5, 0x9388, 0x1, 0x0);
        gbc.writeMem(0x822c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x5690, gbc.sp());
        EXPECT(0x822e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x822c));
        EXPECT(0x2a, gbc.readMem(0x822d));
        // CB 2A 029F
        gbc.setState(0x68b5, 0x5b50, 0xd070, 0x4539, 0x3a2c, 0xae2f, 0x0, 0x1);
        gbc.writeMem(0x68b5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x5b50, gbc.sp());
        EXPECT(0x68b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02A0
        gbc.setState(0xd84, 0x87ae, 0xc3f0, 0x8c69, 0xe571, 0xad52, 0x1, 0x1);
        gbc.writeMem(0xd84, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x87ae, gbc.sp());
        EXPECT(0xd86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02A1
        gbc.setState(0x72ec, 0xeb18, 0x1190, 0xaf9d, 0x86d4, 0x2c6a, 0x1, 0x1);
        gbc.writeMem(0x72ec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xeb18, gbc.sp());
        EXPECT(0x72ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02A2
        gbc.setState(0xd641, 0xf6d3, 0xf4c0, 0x4f18, 0x34c7, 0xb838, 0x0, 0x1);
        gbc.writeMem(0xd641, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xf6d3, gbc.sp());
        EXPECT(0xd643, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd641));
        EXPECT(0x2a, gbc.readMem(0xd642));
        // CB 2A 02A3
        gbc.setState(0xe1e5, 0x1fc8, 0xcb0, 0xcd2b, 0x7cc0, 0xe0d9, 0x1, 0x0);
        gbc.writeMem(0xe1e5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x1fc8, gbc.sp());
        EXPECT(0xe1e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1e5));
        EXPECT(0x2a, gbc.readMem(0xe1e6));
        // CB 2A 02A4
        gbc.setState(0x3c9b, 0x2161, 0x4800, 0xf324, 0xdbb, 0x4274, 0x0, 0x0);
        gbc.writeMem(0x3c9b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x2161, gbc.sp());
        EXPECT(0x3c9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02A5
        gbc.setState(0x93c9, 0x44f2, 0x15f0, 0x2aa3, 0x3ee1, 0x49df, 0x1, 0x0);
        gbc.writeMem(0x93c9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x44f2, gbc.sp());
        EXPECT(0x93cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93c9));
        EXPECT(0x2a, gbc.readMem(0x93ca));
        // CB 2A 02A6
        gbc.setState(0xb713, 0xaa7f, 0xf440, 0x9905, 0xe245, 0xf19d, 0x0, 0x1);
        gbc.writeMem(0xb713, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xaa7f, gbc.sp());
        EXPECT(0xb715, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb713));
        EXPECT(0x2a, gbc.readMem(0xb714));
        // CB 2A 02A7
        gbc.setState(0xb222, 0x2039, 0x1600, 0xbc4d, 0x433a, 0x8ce0, 0x0, 0x1);
        gbc.writeMem(0xb222, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x2039, gbc.sp());
        EXPECT(0xb224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb222));
        EXPECT(0x2a, gbc.readMem(0xb223));
        // CB 2A 02A8
        gbc.setState(0x68cf, 0xd1af, 0x5860, 0x98ed, 0x6199, 0xfbc2, 0x1, 0x0);
        gbc.writeMem(0x68cf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xd1af, gbc.sp());
        EXPECT(0x68d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02A9
        gbc.setState(0xd421, 0x9f2d, 0x3630, 0x3ac5, 0x9c7e, 0xc466, 0x1, 0x0);
        gbc.writeMem(0xd421, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x9f2d, gbc.sp());
        EXPECT(0xd423, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd421));
        EXPECT(0x2a, gbc.readMem(0xd422));
        // CB 2A 02AA
        gbc.setState(0xd61b, 0xf863, 0xeb50, 0x9707, 0xd75c, 0xef71, 0x0, 0x1);
        gbc.writeMem(0xd61b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xf863, gbc.sp());
        EXPECT(0xd61d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd61b));
        EXPECT(0x2a, gbc.readMem(0xd61c));
        // CB 2A 02AB
        gbc.setState(0x4bc4, 0xbded, 0xc260, 0x556a, 0x1558, 0xf5b7, 0x0, 0x1);
        gbc.writeMem(0x4bc4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xbded, gbc.sp());
        EXPECT(0x4bc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02AC
        gbc.setState(0x27eb, 0x3cbe, 0x5990, 0xae39, 0x82c5, 0xd34c, 0x0, 0x1);
        gbc.writeMem(0x27eb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x3cbe, gbc.sp());
        EXPECT(0x27ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02AD
        gbc.setState(0xd4f9, 0x287f, 0x6920, 0xe22a, 0x22bb, 0x9bcc, 0x0, 0x0);
        gbc.writeMem(0xd4f9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x287f, gbc.sp());
        EXPECT(0xd4fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4f9));
        EXPECT(0x2a, gbc.readMem(0xd4fa));
        // CB 2A 02AE
        gbc.setState(0x176d, 0x4818, 0x4040, 0xf8ed, 0x88ef, 0xdd54, 0x1, 0x1);
        gbc.writeMem(0x176d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4818, gbc.sp());
        EXPECT(0x176f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02AF
        gbc.setState(0x4395, 0xf604, 0xaa00, 0x1b8e, 0x9dd0, 0x8bb2, 0x0, 0x1);
        gbc.writeMem(0x4395, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xf604, gbc.sp());
        EXPECT(0x4397, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02B1
        gbc.setState(0xb7c0, 0x6c5b, 0x8b70, 0xe65c, 0x440f, 0x3203, 0x1, 0x0);
        gbc.writeMem(0xb7c0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x6c5b, gbc.sp());
        EXPECT(0xb7c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7c0));
        EXPECT(0x2a, gbc.readMem(0xb7c1));
        // CB 2A 02B3
        gbc.setState(0x9a18, 0x2aa2, 0x440, 0xb0f6, 0x1967, 0xe4f, 0x0, 0x1);
        gbc.writeMem(0x9a18, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x2aa2, gbc.sp());
        EXPECT(0x9a1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a18));
        EXPECT(0x2a, gbc.readMem(0x9a19));
        // CB 2A 02B4
        gbc.setState(0xddc7, 0x73da, 0x76f0, 0x7026, 0x19ac, 0x8895, 0x1, 0x1);
        gbc.writeMem(0xddc7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x73da, gbc.sp());
        EXPECT(0xddc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddc7));
        EXPECT(0x2a, gbc.readMem(0xddc8));
        // CB 2A 02B5
        gbc.setState(0x3762, 0x6e37, 0xcb90, 0x9705, 0x3539, 0x906f, 0x1, 0x0);
        gbc.writeMem(0x3762, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x6e37, gbc.sp());
        EXPECT(0x3764, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02B6
        gbc.setState(0xbfc0, 0x9b68, 0x1c60, 0x17e4, 0x3d7f, 0x9a16, 0x1, 0x1);
        gbc.writeMem(0xbfc0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x9b68, gbc.sp());
        EXPECT(0xbfc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfc0));
        EXPECT(0x2a, gbc.readMem(0xbfc1));
        // CB 2A 02B7
        gbc.setState(0xbe72, 0x4c6, 0x52e0, 0x999d, 0xb53e, 0x60ec, 0x1, 0x0);
        gbc.writeMem(0xbe72, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x4c6, gbc.sp());
        EXPECT(0xbe74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe72));
        EXPECT(0x2a, gbc.readMem(0xbe73));
        // CB 2A 02B8
        gbc.setState(0xc8db, 0x2981, 0x1f00, 0x55c0, 0xd70c, 0x976f, 0x1, 0x0);
        gbc.writeMem(0xc8db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x2981, gbc.sp());
        EXPECT(0xc8dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8db));
        EXPECT(0x2a, gbc.readMem(0xc8dc));
        // CB 2A 02B9
        gbc.setState(0x3b2b, 0xa34, 0xcd0, 0xf7db, 0x35c6, 0x7763, 0x1, 0x1);
        gbc.writeMem(0x3b2b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xa34, gbc.sp());
        EXPECT(0x3b2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02BA
        gbc.setState(0x5bc5, 0x940c, 0x80f0, 0xdc50, 0x48fb, 0x5708, 0x0, 0x1);
        gbc.writeMem(0x5bc5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x940c, gbc.sp());
        EXPECT(0x5bc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02BB
        gbc.setState(0xe0d1, 0xf6c1, 0x1e80, 0x9af4, 0xaf41, 0xec88, 0x1, 0x0);
        gbc.writeMem(0xe0d1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xf6c1, gbc.sp());
        EXPECT(0xe0d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0d1));
        EXPECT(0x2a, gbc.readMem(0xe0d2));
        // CB 2A 02BC
        gbc.setState(0x4cbb, 0x4724, 0x1ac0, 0x1c0, 0x260e, 0xa74d, 0x1, 0x1);
        gbc.writeMem(0x4cbb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x4724, gbc.sp());
        EXPECT(0x4cbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02BD
        gbc.setState(0x53db, 0xb52d, 0x9e0, 0xa60, 0xc1f0, 0xe9ac, 0x1, 0x0);
        gbc.writeMem(0x53db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xb52d, gbc.sp());
        EXPECT(0x53dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02BE
        gbc.setState(0xb292, 0x9eb5, 0xf530, 0x5794, 0xd80c, 0x8bc, 0x0, 0x0);
        gbc.writeMem(0xb292, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x9eb5, gbc.sp());
        EXPECT(0xb294, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb292));
        EXPECT(0x2a, gbc.readMem(0xb293));
        // CB 2A 02BF
        gbc.setState(0x55c2, 0x92ed, 0x1120, 0x650c, 0x7efa, 0x3bf, 0x0, 0x1);
        gbc.writeMem(0x55c2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x92ed, gbc.sp());
        EXPECT(0x55c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02C0
        gbc.setState(0x91bd, 0xb78c, 0xba50, 0x2f2c, 0x54d0, 0xff79, 0x0, 0x0);
        gbc.writeMem(0x91bd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xb78c, gbc.sp());
        EXPECT(0x91bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91bd));
        EXPECT(0x2a, gbc.readMem(0x91be));
        // CB 2A 02C1
        gbc.setState(0x810a, 0xd200, 0x3070, 0xccd1, 0x9b3, 0xdef5, 0x1, 0x1);
        gbc.writeMem(0x810a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xd200, gbc.sp());
        EXPECT(0x810c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x810a));
        EXPECT(0x2a, gbc.readMem(0x810b));
        // CB 2A 02C2
        gbc.setState(0x4594, 0xc5f7, 0xd460, 0x24ed, 0x7be6, 0xcffb, 0x1, 0x0);
        gbc.writeMem(0x4594, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xc5f7, gbc.sp());
        EXPECT(0x4596, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02C3
        gbc.setState(0x8c0d, 0x3eab, 0xe1a0, 0x9f80, 0xbbdb, 0xe73b, 0x0, 0x1);
        gbc.writeMem(0x8c0d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3eab, gbc.sp());
        EXPECT(0x8c0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c0d));
        EXPECT(0x2a, gbc.readMem(0x8c0e));
        // CB 2A 02C4
        gbc.setState(0xed3d, 0xf1e9, 0x3950, 0xd578, 0x2346, 0x7ad3, 0x0, 0x0);
        gbc.writeMem(0xed3d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xf1e9, gbc.sp());
        EXPECT(0xed3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed3d));
        EXPECT(0x2a, gbc.readMem(0xed3e));
        // CB 2A 02C5
        gbc.setState(0xe52a, 0x9a53, 0x6d60, 0x4414, 0x3477, 0x730c, 0x0, 0x0);
        gbc.writeMem(0xe52a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x9a53, gbc.sp());
        EXPECT(0xe52c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe52a));
        EXPECT(0x2a, gbc.readMem(0xe52b));
        // CB 2A 02C6
        gbc.setState(0x9cd8, 0x7a6d, 0x3630, 0x1974, 0x22a0, 0xd33f, 0x0, 0x1);
        gbc.writeMem(0x9cd8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x7a6d, gbc.sp());
        EXPECT(0x9cda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cd8));
        EXPECT(0x2a, gbc.readMem(0x9cd9));
        // CB 2A 02C7
        gbc.setState(0xb4d2, 0x6725, 0x9c70, 0xe43b, 0xa4a3, 0x5fb9, 0x1, 0x0);
        gbc.writeMem(0xb4d2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x6725, gbc.sp());
        EXPECT(0xb4d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4d2));
        EXPECT(0x2a, gbc.readMem(0xb4d3));
        // CB 2A 02C8
        gbc.setState(0x155e, 0x71ff, 0x5820, 0x461f, 0xd1d8, 0x7648, 0x1, 0x1);
        gbc.writeMem(0x155e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x71ff, gbc.sp());
        EXPECT(0x1560, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02C9
        gbc.setState(0x15b2, 0xa58, 0x7420, 0x29cb, 0x4f03, 0xa71, 0x0, 0x1);
        gbc.writeMem(0x15b2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xa58, gbc.sp());
        EXPECT(0x15b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02CA
        gbc.setState(0x3b2f, 0x5d04, 0xde60, 0x7fa1, 0xc06d, 0x57d4, 0x0, 0x0);
        gbc.writeMem(0x3b2f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x5d04, gbc.sp());
        EXPECT(0x3b31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02CB
        gbc.setState(0x6e0b, 0xd99, 0x3960, 0x3c17, 0x5504, 0x41f, 0x1, 0x0);
        gbc.writeMem(0x6e0b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xd99, gbc.sp());
        EXPECT(0x6e0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02CC
        gbc.setState(0x9492, 0xe255, 0x3eb0, 0xc893, 0x8a7f, 0xf5fc, 0x0, 0x1);
        gbc.writeMem(0x9492, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xe255, gbc.sp());
        EXPECT(0x9494, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9492));
        EXPECT(0x2a, gbc.readMem(0x9493));
        // CB 2A 02CD
        gbc.setState(0x9e2f, 0xafa6, 0x8dd0, 0x4625, 0xae25, 0xec1f, 0x0, 0x1);
        gbc.writeMem(0x9e2f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xafa6, gbc.sp());
        EXPECT(0x9e31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e2f));
        EXPECT(0x2a, gbc.readMem(0x9e30));
        // CB 2A 02CE
        gbc.setState(0xed48, 0x30f, 0x6e10, 0x6cc3, 0xbc5f, 0x2b36, 0x1, 0x1);
        gbc.writeMem(0xed48, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x30f, gbc.sp());
        EXPECT(0xed4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed48));
        EXPECT(0x2a, gbc.readMem(0xed49));
        // CB 2A 02CF
        gbc.setState(0x237c, 0x410b, 0x940, 0xe51, 0xc23c, 0xc459, 0x1, 0x0);
        gbc.writeMem(0x237c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x410b, gbc.sp());
        EXPECT(0x237e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02D0
        gbc.setState(0x15b7, 0xd1eb, 0xf5f0, 0x66ef, 0x354f, 0xae1e, 0x1, 0x0);
        gbc.writeMem(0x15b7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xd1eb, gbc.sp());
        EXPECT(0x15b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02D1
        gbc.setState(0x1298, 0x5dfa, 0x92c0, 0xec5, 0x5d6, 0x6316, 0x0, 0x1);
        gbc.writeMem(0x1298, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x5dfa, gbc.sp());
        EXPECT(0x129a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02D2
        gbc.setState(0x6691, 0x5020, 0x8ed0, 0xa90b, 0xada0, 0x36a, 0x1, 0x0);
        gbc.writeMem(0x6691, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x5020, gbc.sp());
        EXPECT(0x6693, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02D3
        gbc.setState(0xe878, 0x9dfa, 0xe9b0, 0x33bf, 0xb05b, 0x6062, 0x1, 0x1);
        gbc.writeMem(0xe878, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9dfa, gbc.sp());
        EXPECT(0xe87a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe878));
        EXPECT(0x2a, gbc.readMem(0xe879));
        // CB 2A 02D4
        gbc.setState(0x4890, 0xf623, 0x90e0, 0x8c82, 0x7d5b, 0xdee5, 0x1, 0x1);
        gbc.writeMem(0x4890, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xf623, gbc.sp());
        EXPECT(0x4892, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02D6
        gbc.setState(0x775f, 0xcc43, 0xa990, 0xfede, 0x9e9d, 0x3eac, 0x1, 0x0);
        gbc.writeMem(0x775f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xcc43, gbc.sp());
        EXPECT(0x7761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02D8
        gbc.setState(0x975a, 0xe554, 0xf330, 0x8023, 0x5562, 0x188c, 0x1, 0x0);
        gbc.writeMem(0x975a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xe554, gbc.sp());
        EXPECT(0x975c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x975a));
        EXPECT(0x2a, gbc.readMem(0x975b));
        // CB 2A 02D9
        gbc.setState(0x1a5d, 0x6e39, 0x27b0, 0x5817, 0xa389, 0x6496, 0x1, 0x1);
        gbc.writeMem(0x1a5d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x6e39, gbc.sp());
        EXPECT(0x1a5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02DA
        gbc.setState(0xc4a0, 0x8219, 0x3730, 0xd6c1, 0xada4, 0x4c36, 0x1, 0x0);
        gbc.writeMem(0xc4a0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x8219, gbc.sp());
        EXPECT(0xc4a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4a0));
        EXPECT(0x2a, gbc.readMem(0xc4a1));
        // CB 2A 02DB
        gbc.setState(0x49cd, 0x699e, 0x3ef0, 0x22e0, 0xa3d4, 0x8b2, 0x1, 0x0);
        gbc.writeMem(0x49cd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x699e, gbc.sp());
        EXPECT(0x49cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02DC
        gbc.setState(0x91cb, 0x6be2, 0xa420, 0xe5e9, 0x1557, 0xceeb, 0x0, 0x0);
        gbc.writeMem(0x91cb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x6be2, gbc.sp());
        EXPECT(0x91cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91cb));
        EXPECT(0x2a, gbc.readMem(0x91cc));
        // CB 2A 02DD
        gbc.setState(0xefbd, 0x19bc, 0xf850, 0x9e90, 0x898f, 0xe1e1, 0x0, 0x1);
        gbc.writeMem(0xefbd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x19bc, gbc.sp());
        EXPECT(0xefbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefbd));
        EXPECT(0x2a, gbc.readMem(0xefbe));
        // CB 2A 02DF
        gbc.setState(0xb0c, 0x8ebe, 0x5bb0, 0x3f1a, 0x8cef, 0x6c15, 0x0, 0x0);
        gbc.writeMem(0xb0c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8ebe, gbc.sp());
        EXPECT(0xb0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02E1
        gbc.setState(0x95f1, 0x97e7, 0x9250, 0x5174, 0xb1b8, 0x7a6b, 0x0, 0x1);
        gbc.writeMem(0x95f1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x97e7, gbc.sp());
        EXPECT(0x95f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95f1));
        EXPECT(0x2a, gbc.readMem(0x95f2));
        // CB 2A 02E2
        gbc.setState(0x76c8, 0x9e31, 0x88f0, 0x85a2, 0x224f, 0x9007, 0x1, 0x0);
        gbc.writeMem(0x76c8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x9e31, gbc.sp());
        EXPECT(0x76ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02E3
        gbc.setState(0x2a2f, 0x2bc8, 0x4d60, 0x38f, 0x6f6d, 0x59af, 0x0, 0x0);
        gbc.writeMem(0x2a2f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x2bc8, gbc.sp());
        EXPECT(0x2a31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02E4
        gbc.setState(0xb577, 0x4e6c, 0x15a0, 0x86fa, 0xcda4, 0xef5d, 0x0, 0x0);
        gbc.writeMem(0xb577, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x4e6c, gbc.sp());
        EXPECT(0xb579, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb577));
        EXPECT(0x2a, gbc.readMem(0xb578));
        // CB 2A 02E5
        gbc.setState(0x9215, 0xec57, 0xc510, 0xe9d, 0x2636, 0x9773, 0x1, 0x1);
        gbc.writeMem(0x9215, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xec57, gbc.sp());
        EXPECT(0x9217, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9215));
        EXPECT(0x2a, gbc.readMem(0x9216));
        // CB 2A 02E7
        gbc.setState(0x98bc, 0x98cf, 0xc0e0, 0xbd90, 0x63af, 0x1238, 0x1, 0x0);
        gbc.writeMem(0x98bc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x98cf, gbc.sp());
        EXPECT(0x98be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98bc));
        EXPECT(0x2a, gbc.readMem(0x98bd));
        // CB 2A 02E8
        gbc.setState(0xea28, 0x45e7, 0xa400, 0x578e, 0x95e4, 0xbe2f, 0x1, 0x1);
        gbc.writeMem(0xea28, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x45e7, gbc.sp());
        EXPECT(0xea2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea28));
        EXPECT(0x2a, gbc.readMem(0xea29));
        // CB 2A 02E9
        gbc.setState(0x5d33, 0x7925, 0x28d0, 0x7f7a, 0x7698, 0xe778, 0x1, 0x1);
        gbc.writeMem(0x5d33, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x7925, gbc.sp());
        EXPECT(0x5d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02EA
        gbc.setState(0xc93b, 0x7eda, 0x3b10, 0x48d1, 0xfd4e, 0xa5c5, 0x0, 0x0);
        gbc.writeMem(0xc93b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x7eda, gbc.sp());
        EXPECT(0xc93d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc93b));
        EXPECT(0x2a, gbc.readMem(0xc93c));
        // CB 2A 02EB
        gbc.setState(0x5f5a, 0x95b5, 0xdd00, 0xe0d5, 0x6be3, 0xa3c2, 0x0, 0x1);
        gbc.writeMem(0x5f5a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x95b5, gbc.sp());
        EXPECT(0x5f5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02EC
        gbc.setState(0x2d13, 0x1b7e, 0x3f30, 0x1d36, 0x3db9, 0x645a, 0x1, 0x0);
        gbc.writeMem(0x2d13, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x1b7e, gbc.sp());
        EXPECT(0x2d15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02ED
        gbc.setState(0x7cd8, 0x980a, 0x7b90, 0xad98, 0x661b, 0xa42e, 0x1, 0x0);
        gbc.writeMem(0x7cd8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x980a, gbc.sp());
        EXPECT(0x7cda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02EE
        gbc.setState(0x56a5, 0x2c9a, 0x7080, 0x5f27, 0xf7af, 0x6aa9, 0x1, 0x0);
        gbc.writeMem(0x56a5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x2c9a, gbc.sp());
        EXPECT(0x56a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02EF
        gbc.setState(0x7455, 0x4149, 0x3920, 0x1a8d, 0xd356, 0x22b8, 0x0, 0x0);
        gbc.writeMem(0x7455, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x4149, gbc.sp());
        EXPECT(0x7457, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02F0
        gbc.setState(0x299f, 0x59a, 0x7da0, 0x4cf1, 0x695a, 0x3654, 0x0, 0x0);
        gbc.writeMem(0x299f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x59a, gbc.sp());
        EXPECT(0x29a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02F1
        gbc.setState(0x79d3, 0x98c6, 0x52a0, 0x3eb3, 0xb8e1, 0x3a9f, 0x1, 0x0);
        gbc.writeMem(0x79d3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x98c6, gbc.sp());
        EXPECT(0x79d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02F3
        gbc.setState(0x406f, 0x22f1, 0xc310, 0x696f, 0x6266, 0xb82f, 0x1, 0x0);
        gbc.writeMem(0x406f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x22f1, gbc.sp());
        EXPECT(0x4071, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02F4
        gbc.setState(0x595, 0x4c92, 0x4480, 0xc3b8, 0x6fd1, 0x12cc, 0x0, 0x0);
        gbc.writeMem(0x595, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x4c92, gbc.sp());
        EXPECT(0x597, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02F5
        gbc.setState(0x5080, 0x2562, 0xbb60, 0x5b91, 0xdcd, 0xb17b, 0x1, 0x0);
        gbc.writeMem(0x5080, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x2562, gbc.sp());
        EXPECT(0x5082, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02F6
        gbc.setState(0x58dd, 0x9313, 0xca00, 0x8cab, 0xf111, 0xfe5, 0x1, 0x0);
        gbc.writeMem(0x58dd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x9313, gbc.sp());
        EXPECT(0x58df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02F7
        gbc.setState(0xe86f, 0xb3e9, 0x8d80, 0xb25e, 0x10be, 0xd6d6, 0x1, 0x0);
        gbc.writeMem(0xe86f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb3e9, gbc.sp());
        EXPECT(0xe871, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe86f));
        EXPECT(0x2a, gbc.readMem(0xe870));
        // CB 2A 02F8
        gbc.setState(0x98e6, 0x3be4, 0x4c10, 0x7128, 0xb2c5, 0xf272, 0x0, 0x0);
        gbc.writeMem(0x98e6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x3be4, gbc.sp());
        EXPECT(0x98e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98e6));
        EXPECT(0x2a, gbc.readMem(0x98e7));
        // CB 2A 02F9
        gbc.setState(0xef46, 0xf9ba, 0x9440, 0xacb, 0xf9fe, 0x688e, 0x0, 0x1);
        gbc.writeMem(0xef46, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf9ba, gbc.sp());
        EXPECT(0xef48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef46));
        EXPECT(0x2a, gbc.readMem(0xef47));
        // CB 2A 02FA
        gbc.setState(0x3bc3, 0x2d4f, 0x9cb0, 0x1ac1, 0xb34c, 0xf057, 0x0, 0x0);
        gbc.writeMem(0x3bc3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x2d4f, gbc.sp());
        EXPECT(0x3bc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 02FB
        gbc.setState(0x8af, 0x5254, 0xb7f0, 0x6b19, 0x8899, 0xbe5f, 0x1, 0x1);
        gbc.writeMem(0x8af, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x5254, gbc.sp());
        EXPECT(0x8b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 02FC
        gbc.setState(0x431a, 0x443f, 0x8300, 0x29b5, 0x35bb, 0x270a, 0x0, 0x1);
        gbc.writeMem(0x431a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x443f, gbc.sp());
        EXPECT(0x431c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0300
        gbc.setState(0x1d1c, 0x15da, 0xf120, 0xabc2, 0x2398, 0xc71e, 0x0, 0x0);
        gbc.writeMem(0x1d1c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x15da, gbc.sp());
        EXPECT(0x1d1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0302
        gbc.setState(0xd50a, 0x50d, 0xd350, 0xb06f, 0xb6cd, 0x5b96, 0x1, 0x1);
        gbc.writeMem(0xd50a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x50d, gbc.sp());
        EXPECT(0xd50c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd50a));
        EXPECT(0x2a, gbc.readMem(0xd50b));
        // CB 2A 0303
        gbc.setState(0x3d6f, 0x637e, 0x8f00, 0x8391, 0x338b, 0xd10c, 0x1, 0x0);
        gbc.writeMem(0x3d6f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x637e, gbc.sp());
        EXPECT(0x3d71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0304
        gbc.setState(0x83f, 0x2431, 0xaf0, 0x548a, 0x658e, 0xf01b, 0x1, 0x1);
        gbc.writeMem(0x83f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x2431, gbc.sp());
        EXPECT(0x841, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0305
        gbc.setState(0x158a, 0x23db, 0x2f00, 0xd05d, 0x5285, 0x4a2f, 0x0, 0x0);
        gbc.writeMem(0x158a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x23db, gbc.sp());
        EXPECT(0x158c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0306
        gbc.setState(0xcb35, 0xa94a, 0xb120, 0x50ff, 0xe944, 0x2e4d, 0x0, 0x1);
        gbc.writeMem(0xcb35, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xa94a, gbc.sp());
        EXPECT(0xcb37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb35));
        EXPECT(0x2a, gbc.readMem(0xcb36));
        // CB 2A 0307
        gbc.setState(0x4d01, 0x5f6c, 0x7920, 0x3258, 0x38b9, 0x88f9, 0x0, 0x0);
        gbc.writeMem(0x4d01, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x5f6c, gbc.sp());
        EXPECT(0x4d03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0308
        gbc.setState(0xa1b1, 0xbc81, 0x9550, 0xbe6e, 0x817f, 0x43c3, 0x0, 0x0);
        gbc.writeMem(0xa1b1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xbc81, gbc.sp());
        EXPECT(0xa1b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1b1));
        EXPECT(0x2a, gbc.readMem(0xa1b2));
        // CB 2A 0309
        gbc.setState(0xbf13, 0x95f7, 0xf520, 0x54cc, 0xf48a, 0x8f25, 0x1, 0x1);
        gbc.writeMem(0xbf13, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x95f7, gbc.sp());
        EXPECT(0xbf15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf13));
        EXPECT(0x2a, gbc.readMem(0xbf14));
        // CB 2A 030A
        gbc.setState(0xa54a, 0xaef1, 0x4fd0, 0xa140, 0x400e, 0xa8ef, 0x0, 0x1);
        gbc.writeMem(0xa54a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xaef1, gbc.sp());
        EXPECT(0xa54c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa54a));
        EXPECT(0x2a, gbc.readMem(0xa54b));
        // CB 2A 030B
        gbc.setState(0x9cc5, 0x6226, 0x3ca0, 0x1de6, 0xc43f, 0xf63b, 0x1, 0x1);
        gbc.writeMem(0x9cc5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x6226, gbc.sp());
        EXPECT(0x9cc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cc5));
        EXPECT(0x2a, gbc.readMem(0x9cc6));
        // CB 2A 030C
        gbc.setState(0x6728, 0xa81, 0x9340, 0x85ba, 0x40aa, 0xc0d5, 0x0, 0x0);
        gbc.writeMem(0x6728, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xa81, gbc.sp());
        EXPECT(0x672a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 030D
        gbc.setState(0xbf6a, 0xe83b, 0xdad0, 0x5926, 0x215, 0x51ee, 0x1, 0x1);
        gbc.writeMem(0xbf6a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xe83b, gbc.sp());
        EXPECT(0xbf6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf6a));
        EXPECT(0x2a, gbc.readMem(0xbf6b));
        // CB 2A 030E
        gbc.setState(0x7482, 0xe1a1, 0xbed0, 0x1479, 0x77db, 0x4d52, 0x0, 0x0);
        gbc.writeMem(0x7482, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xe1a1, gbc.sp());
        EXPECT(0x7484, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 030F
        gbc.setState(0xed79, 0x7743, 0x2f50, 0x6224, 0x959f, 0x85a3, 0x0, 0x1);
        gbc.writeMem(0xed79, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x7743, gbc.sp());
        EXPECT(0xed7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed79));
        EXPECT(0x2a, gbc.readMem(0xed7a));
        // CB 2A 0310
        gbc.setState(0xd6f8, 0xd560, 0xe90, 0x7c27, 0xf36, 0x1072, 0x0, 0x1);
        gbc.writeMem(0xd6f8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xd560, gbc.sp());
        EXPECT(0xd6fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6f8));
        EXPECT(0x2a, gbc.readMem(0xd6f9));
        // CB 2A 0311
        gbc.setState(0xba89, 0x41e2, 0x1c60, 0x6a62, 0x1441, 0xdce7, 0x1, 0x1);
        gbc.writeMem(0xba89, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x41e2, gbc.sp());
        EXPECT(0xba8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba89));
        EXPECT(0x2a, gbc.readMem(0xba8a));
        // CB 2A 0312
        gbc.setState(0x44e6, 0xa048, 0x3590, 0xee83, 0x29a1, 0xec8f, 0x1, 0x0);
        gbc.writeMem(0x44e6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xa048, gbc.sp());
        EXPECT(0x44e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0313
        gbc.setState(0xad6a, 0x4db2, 0x31c0, 0x64d6, 0x9146, 0xe64e, 0x1, 0x1);
        gbc.writeMem(0xad6a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x4db2, gbc.sp());
        EXPECT(0xad6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad6a));
        EXPECT(0x2a, gbc.readMem(0xad6b));
        // CB 2A 0314
        gbc.setState(0x2807, 0x7097, 0x1810, 0xd851, 0x4610, 0xc01d, 0x0, 0x0);
        gbc.writeMem(0x2807, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x7097, gbc.sp());
        EXPECT(0x2809, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0315
        gbc.setState(0x3b91, 0x718f, 0xaa30, 0x610b, 0x4c8d, 0x73aa, 0x1, 0x1);
        gbc.writeMem(0x3b91, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x718f, gbc.sp());
        EXPECT(0x3b93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0316
        gbc.setState(0x5a7a, 0x5f06, 0x19d0, 0x56f5, 0xb5fa, 0x87a5, 0x0, 0x1);
        gbc.writeMem(0x5a7a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x5f06, gbc.sp());
        EXPECT(0x5a7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0317
        gbc.setState(0x6586, 0x54cc, 0x18b0, 0xf95f, 0x7909, 0x73d2, 0x1, 0x1);
        gbc.writeMem(0x6586, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x54cc, gbc.sp());
        EXPECT(0x6588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0318
        gbc.setState(0x6e1, 0xefab, 0xf9e0, 0xe25d, 0x69d6, 0xb4d, 0x0, 0x0);
        gbc.writeMem(0x6e1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xefab, gbc.sp());
        EXPECT(0x6e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0319
        gbc.setState(0xbce1, 0xef57, 0x4930, 0xb03f, 0xbb2d, 0x63cf, 0x0, 0x1);
        gbc.writeMem(0xbce1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xef57, gbc.sp());
        EXPECT(0xbce3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbce1));
        EXPECT(0x2a, gbc.readMem(0xbce2));
        // CB 2A 031A
        gbc.setState(0xcf05, 0x96c8, 0x1d70, 0xfd75, 0x1533, 0x1d6, 0x1, 0x0);
        gbc.writeMem(0xcf05, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x96c8, gbc.sp());
        EXPECT(0xcf07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf05));
        EXPECT(0x2a, gbc.readMem(0xcf06));
        // CB 2A 031B
        gbc.setState(0x771a, 0x95b4, 0xd4a0, 0xe62, 0xf39b, 0x68a4, 0x1, 0x1);
        gbc.writeMem(0x771a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x95b4, gbc.sp());
        EXPECT(0x771c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 031C
        gbc.setState(0x2816, 0x3120, 0x7220, 0xc168, 0xcc4, 0xd50f, 0x0, 0x1);
        gbc.writeMem(0x2816, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x3120, gbc.sp());
        EXPECT(0x2818, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 031D
        gbc.setState(0x305, 0xdf86, 0x57e0, 0xd552, 0x72bc, 0x728c, 0x1, 0x0);
        gbc.writeMem(0x305, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xdf86, gbc.sp());
        EXPECT(0x307, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 031E
        gbc.setState(0x3543, 0x6e12, 0x49c0, 0x69dc, 0xce87, 0x7d11, 0x0, 0x1);
        gbc.writeMem(0x3543, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x6e12, gbc.sp());
        EXPECT(0x3545, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0320
        gbc.setState(0x3d0a, 0xa6fa, 0x8910, 0x688e, 0xb700, 0xb5ae, 0x1, 0x0);
        gbc.writeMem(0x3d0a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xa6fa, gbc.sp());
        EXPECT(0x3d0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0321
        gbc.setState(0x3b6b, 0xfd5, 0xbc90, 0x68d2, 0x82d9, 0x9d83, 0x0, 0x0);
        gbc.writeMem(0x3b6b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xfd5, gbc.sp());
        EXPECT(0x3b6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0322
        gbc.setState(0x9877, 0x8c62, 0x88c0, 0x33b, 0xb8b0, 0xffcb, 0x0, 0x1);
        gbc.writeMem(0x9877, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8c62, gbc.sp());
        EXPECT(0x9879, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9877));
        EXPECT(0x2a, gbc.readMem(0x9878));
        // CB 2A 0323
        gbc.setState(0x7fd4, 0x2044, 0xd0, 0x8570, 0x8113, 0xf01e, 0x0, 0x1);
        gbc.writeMem(0x7fd4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x2044, gbc.sp());
        EXPECT(0x7fd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0324
        gbc.setState(0x82d0, 0x1d71, 0xa840, 0x5e95, 0xef95, 0x37f9, 0x0, 0x1);
        gbc.writeMem(0x82d0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1d71, gbc.sp());
        EXPECT(0x82d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82d0));
        EXPECT(0x2a, gbc.readMem(0x82d1));
        // CB 2A 0325
        gbc.setState(0x57db, 0x4c62, 0x1f80, 0xc476, 0xce7a, 0x648f, 0x0, 0x1);
        gbc.writeMem(0x57db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x4c62, gbc.sp());
        EXPECT(0x57dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0326
        gbc.setState(0x2455, 0xbbfb, 0x4930, 0x30fe, 0x512e, 0xb9ca, 0x1, 0x1);
        gbc.writeMem(0x2455, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xbbfb, gbc.sp());
        EXPECT(0x2457, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0327
        gbc.setState(0xefbd, 0x8b73, 0x33d0, 0xbe16, 0x64ff, 0x77d3, 0x1, 0x0);
        gbc.writeMem(0xefbd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x8b73, gbc.sp());
        EXPECT(0xefbf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefbd));
        EXPECT(0x2a, gbc.readMem(0xefbe));
        // CB 2A 0328
        gbc.setState(0x98ad, 0x932b, 0x6760, 0x68ff, 0xe9a0, 0xb63f, 0x0, 0x0);
        gbc.writeMem(0x98ad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x932b, gbc.sp());
        EXPECT(0x98af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98ad));
        EXPECT(0x2a, gbc.readMem(0x98ae));
        // CB 2A 0329
        gbc.setState(0x9c1f, 0xb21, 0xbec0, 0x4ada, 0x5ee, 0x6c8f, 0x1, 0x0);
        gbc.writeMem(0x9c1f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb21, gbc.sp());
        EXPECT(0x9c21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c1f));
        EXPECT(0x2a, gbc.readMem(0x9c20));
        // CB 2A 032A
        gbc.setState(0x3732, 0xbac4, 0xd7d0, 0x5f09, 0x5f9d, 0xbe6e, 0x1, 0x0);
        gbc.writeMem(0x3732, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xbac4, gbc.sp());
        EXPECT(0x3734, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 032B
        gbc.setState(0x2ccb, 0x3b94, 0x3630, 0x82fe, 0xed41, 0xb6e2, 0x0, 0x0);
        gbc.writeMem(0x2ccb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x3b94, gbc.sp());
        EXPECT(0x2ccd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 032C
        gbc.setState(0xaa13, 0xf91e, 0x5810, 0xd48f, 0x4420, 0x5ae8, 0x0, 0x1);
        gbc.writeMem(0xaa13, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xf91e, gbc.sp());
        EXPECT(0xaa15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa13));
        EXPECT(0x2a, gbc.readMem(0xaa14));
        // CB 2A 032D
        gbc.setState(0x3711, 0x1c1a, 0xb1b0, 0x76fa, 0x9775, 0x4c14, 0x1, 0x1);
        gbc.writeMem(0x3711, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1c1a, gbc.sp());
        EXPECT(0x3713, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 032E
        gbc.setState(0xdb0f, 0x8628, 0xd820, 0x9385, 0x424a, 0x8ff7, 0x0, 0x0);
        gbc.writeMem(0xdb0f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x8628, gbc.sp());
        EXPECT(0xdb11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb0f));
        EXPECT(0x2a, gbc.readMem(0xdb10));
        // CB 2A 032F
        gbc.setState(0x7fae, 0x7134, 0xffc0, 0xdd83, 0x1126, 0xb725, 0x0, 0x1);
        gbc.writeMem(0x7fae, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x7134, gbc.sp());
        EXPECT(0x7fb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0330
        gbc.setState(0xed32, 0xacef, 0x7660, 0x6d46, 0xb7a6, 0xab1e, 0x1, 0x1);
        gbc.writeMem(0xed32, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xacef, gbc.sp());
        EXPECT(0xed34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed32));
        EXPECT(0x2a, gbc.readMem(0xed33));
        // CB 2A 0331
        gbc.setState(0xc112, 0xf59e, 0x6fe0, 0xecd2, 0x2784, 0x7a5f, 0x1, 0x1);
        gbc.writeMem(0xc112, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xf59e, gbc.sp());
        EXPECT(0xc114, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc112));
        EXPECT(0x2a, gbc.readMem(0xc113));
        // CB 2A 0332
        gbc.setState(0xaddc, 0x8f94, 0xa5f0, 0x9044, 0xe34f, 0x35c6, 0x0, 0x0);
        gbc.writeMem(0xaddc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x8f94, gbc.sp());
        EXPECT(0xadde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaddc));
        EXPECT(0x2a, gbc.readMem(0xaddd));
        // CB 2A 0333
        gbc.setState(0x4eec, 0xd5ed, 0xfa40, 0xb888, 0xd0ac, 0xe84, 0x1, 0x0);
        gbc.writeMem(0x4eec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xd5ed, gbc.sp());
        EXPECT(0x4eee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0334
        gbc.setState(0xdc9f, 0x4661, 0x2030, 0xec8f, 0xbab0, 0x1fbb, 0x0, 0x1);
        gbc.writeMem(0xdc9f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x4661, gbc.sp());
        EXPECT(0xdca1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc9f));
        EXPECT(0x2a, gbc.readMem(0xdca0));
        // CB 2A 0335
        gbc.setState(0xe2a8, 0x1c0b, 0x1620, 0x3d0d, 0xd3e, 0xaba8, 0x1, 0x1);
        gbc.writeMem(0xe2a8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x1c0b, gbc.sp());
        EXPECT(0xe2aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2a8));
        EXPECT(0x2a, gbc.readMem(0xe2a9));
        // CB 2A 0336
        gbc.setState(0x17ea, 0x8e94, 0x10b0, 0xd8f1, 0x80, 0xe370, 0x0, 0x0);
        gbc.writeMem(0x17ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x8e94, gbc.sp());
        EXPECT(0x17ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0337
        gbc.setState(0x9a1b, 0x92f3, 0x7220, 0x5241, 0xc01c, 0xb7f3, 0x0, 0x0);
        gbc.writeMem(0x9a1b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x92f3, gbc.sp());
        EXPECT(0x9a1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a1b));
        EXPECT(0x2a, gbc.readMem(0x9a1c));
        // CB 2A 0338
        gbc.setState(0x1920, 0xcc80, 0xaa0, 0x41dd, 0xb142, 0xc3dc, 0x1, 0x0);
        gbc.writeMem(0x1920, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xcc80, gbc.sp());
        EXPECT(0x1922, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 033A
        gbc.setState(0xc9ea, 0x294a, 0x3fb0, 0xf5d8, 0x7b8c, 0xc20c, 0x0, 0x0);
        gbc.writeMem(0xc9ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x294a, gbc.sp());
        EXPECT(0xc9ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9ea));
        EXPECT(0x2a, gbc.readMem(0xc9eb));
        // CB 2A 033B
        gbc.setState(0xb0d5, 0x8a95, 0x2f0, 0xa1da, 0x483d, 0x353d, 0x0, 0x0);
        gbc.writeMem(0xb0d5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x8a95, gbc.sp());
        EXPECT(0xb0d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0d5));
        EXPECT(0x2a, gbc.readMem(0xb0d6));
        // CB 2A 033C
        gbc.setState(0x93a6, 0x91c3, 0xde00, 0xdf38, 0xed1e, 0xc1fd, 0x0, 0x1);
        gbc.writeMem(0x93a6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x91c3, gbc.sp());
        EXPECT(0x93a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93a6));
        EXPECT(0x2a, gbc.readMem(0x93a7));
        // CB 2A 033D
        gbc.setState(0x45d5, 0xb261, 0xdfe0, 0x3571, 0x8d0c, 0x3994, 0x1, 0x0);
        gbc.writeMem(0x45d5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xb261, gbc.sp());
        EXPECT(0x45d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 033E
        gbc.setState(0x7a29, 0xd22b, 0x2230, 0xc55d, 0x5779, 0xe243, 0x1, 0x1);
        gbc.writeMem(0x7a29, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xd22b, gbc.sp());
        EXPECT(0x7a2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 033F
        gbc.setState(0x1e12, 0xd070, 0x6ff0, 0x855c, 0xdb3e, 0x6a6e, 0x1, 0x1);
        gbc.writeMem(0x1e12, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd070, gbc.sp());
        EXPECT(0x1e14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0340
        gbc.setState(0x39ea, 0xb9d4, 0xbe90, 0x5f5e, 0x7829, 0x3f49, 0x1, 0x1);
        gbc.writeMem(0x39ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xb9d4, gbc.sp());
        EXPECT(0x39ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0341
        gbc.setState(0xe55f, 0x23f8, 0xa610, 0x3023, 0x7bd0, 0xf323, 0x1, 0x0);
        gbc.writeMem(0xe55f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x23f8, gbc.sp());
        EXPECT(0xe561, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe55f));
        EXPECT(0x2a, gbc.readMem(0xe560));
        // CB 2A 0342
        gbc.setState(0x1dda, 0x21f0, 0xcb60, 0xed32, 0xa2d4, 0xf4c3, 0x0, 0x0);
        gbc.writeMem(0x1dda, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x21f0, gbc.sp());
        EXPECT(0x1ddc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0343
        gbc.setState(0xd943, 0xde21, 0xa0c0, 0x449, 0x7b83, 0x6794, 0x0, 0x0);
        gbc.writeMem(0xd943, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xde21, gbc.sp());
        EXPECT(0xd945, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd943));
        EXPECT(0x2a, gbc.readMem(0xd944));
        // CB 2A 0344
        gbc.setState(0xc547, 0x2053, 0xffb0, 0xe687, 0xc12a, 0xd3fa, 0x0, 0x1);
        gbc.writeMem(0xc547, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x2053, gbc.sp());
        EXPECT(0xc549, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc547));
        EXPECT(0x2a, gbc.readMem(0xc548));
        // CB 2A 0345
        gbc.setState(0xae99, 0x8e8b, 0xc2d0, 0x3e23, 0x1835, 0x354d, 0x0, 0x1);
        gbc.writeMem(0xae99, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8e8b, gbc.sp());
        EXPECT(0xae9b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae99));
        EXPECT(0x2a, gbc.readMem(0xae9a));
        // CB 2A 0346
        gbc.setState(0x82ca, 0xc1ff, 0x5bf0, 0x7edf, 0x8811, 0xd6e0, 0x0, 0x1);
        gbc.writeMem(0x82ca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xc1ff, gbc.sp());
        EXPECT(0x82cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82ca));
        EXPECT(0x2a, gbc.readMem(0x82cb));
        // CB 2A 0347
        gbc.setState(0x5289, 0x27cb, 0x8f00, 0x44bc, 0x49f7, 0xf344, 0x0, 0x1);
        gbc.writeMem(0x5289, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x27cb, gbc.sp());
        EXPECT(0x528b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0348
        gbc.setState(0x2375, 0xcbcf, 0xd700, 0x2f13, 0x23fe, 0x5629, 0x1, 0x0);
        gbc.writeMem(0x2375, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xcbcf, gbc.sp());
        EXPECT(0x2377, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 034A
        gbc.setState(0xa436, 0xed95, 0x29c0, 0xe747, 0x41b0, 0x5b16, 0x1, 0x0);
        gbc.writeMem(0xa436, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xed95, gbc.sp());
        EXPECT(0xa438, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa436));
        EXPECT(0x2a, gbc.readMem(0xa437));
        // CB 2A 034B
        gbc.setState(0x84b6, 0xb7e8, 0x1ea0, 0x9d92, 0x824f, 0xbbcd, 0x1, 0x0);
        gbc.writeMem(0x84b6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xb7e8, gbc.sp());
        EXPECT(0x84b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84b6));
        EXPECT(0x2a, gbc.readMem(0x84b7));
        // CB 2A 034C
        gbc.setState(0x9f0e, 0x613b, 0xebe0, 0x6056, 0x87c4, 0x26d6, 0x0, 0x0);
        gbc.writeMem(0x9f0e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x613b, gbc.sp());
        EXPECT(0x9f10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f0e));
        EXPECT(0x2a, gbc.readMem(0x9f0f));
        // CB 2A 034D
        gbc.setState(0x8abe, 0x551c, 0xcd30, 0x73b3, 0xb7fa, 0x7921, 0x1, 0x1);
        gbc.writeMem(0x8abe, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x551c, gbc.sp());
        EXPECT(0x8ac0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8abe));
        EXPECT(0x2a, gbc.readMem(0x8abf));
        // CB 2A 034E
        gbc.setState(0xdf91, 0x4d31, 0xf2f0, 0x7ad, 0x1fc9, 0xfe34, 0x0, 0x0);
        gbc.writeMem(0xdf91, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x4d31, gbc.sp());
        EXPECT(0xdf93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf91));
        EXPECT(0x2a, gbc.readMem(0xdf92));
        // CB 2A 034F
        gbc.setState(0x41e2, 0xba27, 0x95f0, 0xae6f, 0xcb10, 0x77d5, 0x1, 0x1);
        gbc.writeMem(0x41e2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xba27, gbc.sp());
        EXPECT(0x41e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0351
        gbc.setState(0xd172, 0x2c90, 0x7c0, 0x3e0d, 0x5290, 0xd81f, 0x1, 0x1);
        gbc.writeMem(0xd172, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x2c90, gbc.sp());
        EXPECT(0xd174, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd172));
        EXPECT(0x2a, gbc.readMem(0xd173));
        // CB 2A 0352
        gbc.setState(0xbdd, 0x570a, 0xbf60, 0x8c24, 0x9571, 0xff90, 0x1, 0x1);
        gbc.writeMem(0xbdd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x570a, gbc.sp());
        EXPECT(0xbdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0353
        gbc.setState(0x241, 0x6fe7, 0xee00, 0xbba, 0xb16c, 0x47d9, 0x0, 0x1);
        gbc.writeMem(0x241, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x6fe7, gbc.sp());
        EXPECT(0x243, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0354
        gbc.setState(0x7cbe, 0x3d78, 0xe900, 0x4a4b, 0xa574, 0xd1a9, 0x1, 0x0);
        gbc.writeMem(0x7cbe, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x3d78, gbc.sp());
        EXPECT(0x7cc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0355
        gbc.setState(0x807c, 0x7a64, 0x7a60, 0x7424, 0x3785, 0x7716, 0x0, 0x0);
        gbc.writeMem(0x807c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x7a64, gbc.sp());
        EXPECT(0x807e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x807c));
        EXPECT(0x2a, gbc.readMem(0x807d));
        // CB 2A 0356
        gbc.setState(0xb297, 0xa43f, 0xef40, 0x2f6b, 0x400c, 0xb838, 0x1, 0x0);
        gbc.writeMem(0xb297, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa43f, gbc.sp());
        EXPECT(0xb299, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb297));
        EXPECT(0x2a, gbc.readMem(0xb298));
        // CB 2A 0357
        gbc.setState(0xbdfe, 0xfbdd, 0x73d0, 0xbce9, 0x35dd, 0xe494, 0x0, 0x0);
        gbc.writeMem(0xbdfe, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xfbdd, gbc.sp());
        EXPECT(0xbe00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdfe));
        EXPECT(0x2a, gbc.readMem(0xbdff));
        // CB 2A 0359
        gbc.setState(0xcb3a, 0x620c, 0xf4e0, 0xc5ef, 0x6c4, 0xa0bc, 0x1, 0x0);
        gbc.writeMem(0xcb3a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x620c, gbc.sp());
        EXPECT(0xcb3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb3a));
        EXPECT(0x2a, gbc.readMem(0xcb3b));
        // CB 2A 035A
        gbc.setState(0xeead, 0xa4bf, 0x1c80, 0x4a64, 0xf809, 0x7f10, 0x0, 0x0);
        gbc.writeMem(0xeead, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xa4bf, gbc.sp());
        EXPECT(0xeeaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeead));
        EXPECT(0x2a, gbc.readMem(0xeeae));
        // CB 2A 035B
        gbc.setState(0x3f2f, 0xa342, 0x5e0, 0xfbf4, 0x952, 0x4f9a, 0x0, 0x0);
        gbc.writeMem(0x3f2f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa342, gbc.sp());
        EXPECT(0x3f31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 035D
        gbc.setState(0x322e, 0x7d0c, 0xd7f0, 0xfdc6, 0x585a, 0xf37c, 0x0, 0x1);
        gbc.writeMem(0x322e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x7d0c, gbc.sp());
        EXPECT(0x3230, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 035E
        gbc.setState(0xb094, 0x8f1d, 0x2690, 0x4b63, 0x89d, 0xbb27, 0x1, 0x1);
        gbc.writeMem(0xb094, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x8f1d, gbc.sp());
        EXPECT(0xb096, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb094));
        EXPECT(0x2a, gbc.readMem(0xb095));
        // CB 2A 035F
        gbc.setState(0xb394, 0x9fb9, 0xc980, 0xdd45, 0x69ab, 0x19c3, 0x1, 0x1);
        gbc.writeMem(0xb394, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9fb9, gbc.sp());
        EXPECT(0xb396, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb394));
        EXPECT(0x2a, gbc.readMem(0xb395));
        // CB 2A 0360
        gbc.setState(0xe429, 0xb09c, 0x4630, 0xa067, 0xbe98, 0xc260, 0x1, 0x0);
        gbc.writeMem(0xe429, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb09c, gbc.sp());
        EXPECT(0xe42b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe429));
        EXPECT(0x2a, gbc.readMem(0xe42a));
        // CB 2A 0361
        gbc.setState(0x73bc, 0x856f, 0x2120, 0x5edf, 0xfd7d, 0x7ed7, 0x0, 0x0);
        gbc.writeMem(0x73bc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x856f, gbc.sp());
        EXPECT(0x73be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0362
        gbc.setState(0xc622, 0x8045, 0x7480, 0x46ff, 0xeaa9, 0x8d93, 0x1, 0x0);
        gbc.writeMem(0xc622, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x8045, gbc.sp());
        EXPECT(0xc624, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc622));
        EXPECT(0x2a, gbc.readMem(0xc623));
        // CB 2A 0363
        gbc.setState(0x4e60, 0x3ffe, 0xbdf0, 0x88b2, 0x7952, 0x2060, 0x0, 0x0);
        gbc.writeMem(0x4e60, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x3ffe, gbc.sp());
        EXPECT(0x4e62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0364
        gbc.setState(0xe40a, 0x8145, 0x450, 0xee6c, 0xc738, 0x70cb, 0x0, 0x0);
        gbc.writeMem(0xe40a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8145, gbc.sp());
        EXPECT(0xe40c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe40a));
        EXPECT(0x2a, gbc.readMem(0xe40b));
        // CB 2A 0365
        gbc.setState(0xc0e6, 0xa6fe, 0x2560, 0xd498, 0x478f, 0xd3df, 0x1, 0x0);
        gbc.writeMem(0xc0e6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xa6fe, gbc.sp());
        EXPECT(0xc0e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0e6));
        EXPECT(0x2a, gbc.readMem(0xc0e7));
        // CB 2A 0366
        gbc.setState(0x61c3, 0x22e6, 0x24c0, 0xc903, 0x3268, 0xf997, 0x1, 0x0);
        gbc.writeMem(0x61c3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x22e6, gbc.sp());
        EXPECT(0x61c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0367
        gbc.setState(0xd219, 0x42b5, 0x2040, 0x1555, 0xc345, 0x2ca7, 0x0, 0x1);
        gbc.writeMem(0xd219, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x42b5, gbc.sp());
        EXPECT(0xd21b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd219));
        EXPECT(0x2a, gbc.readMem(0xd21a));
        // CB 2A 0368
        gbc.setState(0x4185, 0x4d2e, 0xaac0, 0x11bb, 0xfc45, 0x9a21, 0x0, 0x1);
        gbc.writeMem(0x4185, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4d2e, gbc.sp());
        EXPECT(0x4187, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0369
        gbc.setState(0xd6be, 0x112d, 0xd90, 0xb007, 0xcc4a, 0xca38, 0x1, 0x0);
        gbc.writeMem(0xd6be, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x112d, gbc.sp());
        EXPECT(0xd6c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6be));
        EXPECT(0x2a, gbc.readMem(0xd6bf));
        // CB 2A 036A
        gbc.setState(0xbdec, 0xfda9, 0x1570, 0xe929, 0x36bd, 0x9e55, 0x1, 0x0);
        gbc.writeMem(0xbdec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xfda9, gbc.sp());
        EXPECT(0xbdee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdec));
        EXPECT(0x2a, gbc.readMem(0xbded));
        // CB 2A 036B
        gbc.setState(0xc6a, 0xbc9f, 0xbeb0, 0xff12, 0x47e, 0xe200, 0x1, 0x0);
        gbc.writeMem(0xc6a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xbc9f, gbc.sp());
        EXPECT(0xc6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 036D
        gbc.setState(0xaadd, 0xc8e3, 0xf360, 0xb210, 0x5e4e, 0xa0de, 0x0, 0x0);
        gbc.writeMem(0xaadd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xc8e3, gbc.sp());
        EXPECT(0xaadf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaadd));
        EXPECT(0x2a, gbc.readMem(0xaade));
        // CB 2A 036F
        gbc.setState(0xe92a, 0x3ea1, 0x4dd0, 0xd450, 0x835b, 0x8606, 0x1, 0x0);
        gbc.writeMem(0xe92a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x3ea1, gbc.sp());
        EXPECT(0xe92c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe92a));
        EXPECT(0x2a, gbc.readMem(0xe92b));
        // CB 2A 0370
        gbc.setState(0x3a0, 0x2966, 0xc020, 0x7ae3, 0x1a64, 0x7cb1, 0x0, 0x0);
        gbc.writeMem(0x3a0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2966, gbc.sp());
        EXPECT(0x3a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0371
        gbc.setState(0x5b64, 0xf13b, 0x8650, 0x694f, 0xaf29, 0x4076, 0x0, 0x1);
        gbc.writeMem(0x5b64, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xf13b, gbc.sp());
        EXPECT(0x5b66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0372
        gbc.setState(0xbbec, 0x668f, 0x8bb0, 0xded6, 0xf40b, 0xf9d5, 0x1, 0x1);
        gbc.writeMem(0xbbec, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x668f, gbc.sp());
        EXPECT(0xbbee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbec));
        EXPECT(0x2a, gbc.readMem(0xbbed));
        // CB 2A 0373
        gbc.setState(0x1438, 0xe91, 0x5df0, 0x545d, 0x4727, 0x7e4e, 0x0, 0x0);
        gbc.writeMem(0x1438, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xe91, gbc.sp());
        EXPECT(0x143a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0374
        gbc.setState(0x2824, 0xf957, 0x4f20, 0x74d9, 0xbd65, 0x6e20, 0x1, 0x1);
        gbc.writeMem(0x2824, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xf957, gbc.sp());
        EXPECT(0x2826, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0375
        gbc.setState(0xa0bb, 0x6489, 0x7f00, 0x8251, 0x3f0c, 0xd2c4, 0x0, 0x1);
        gbc.writeMem(0xa0bb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x6489, gbc.sp());
        EXPECT(0xa0bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0bb));
        EXPECT(0x2a, gbc.readMem(0xa0bc));
        // CB 2A 0376
        gbc.setState(0x2106, 0x9d85, 0xd7c0, 0x81fe, 0xea22, 0x5fb5, 0x0, 0x1);
        gbc.writeMem(0x2106, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x9d85, gbc.sp());
        EXPECT(0x2108, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0377
        gbc.setState(0x875, 0xc521, 0x4590, 0xe811, 0x814e, 0x806d, 0x0, 0x0);
        gbc.writeMem(0x875, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xc521, gbc.sp());
        EXPECT(0x877, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0378
        gbc.setState(0xd9b2, 0x919a, 0xbad0, 0xc954, 0xd98f, 0x3859, 0x1, 0x1);
        gbc.writeMem(0xd9b2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x919a, gbc.sp());
        EXPECT(0xd9b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9b2));
        EXPECT(0x2a, gbc.readMem(0xd9b3));
        // CB 2A 0379
        gbc.setState(0x541b, 0xc340, 0xc480, 0x8e9b, 0x8009, 0xe7cf, 0x1, 0x1);
        gbc.writeMem(0x541b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xc340, gbc.sp());
        EXPECT(0x541d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 037A
        gbc.setState(0x552d, 0xa957, 0x84e0, 0x7f0d, 0x2a94, 0x5217, 0x0, 0x1);
        gbc.writeMem(0x552d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xa957, gbc.sp());
        EXPECT(0x552f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 037B
        gbc.setState(0x64d9, 0xe549, 0x8d20, 0x9a70, 0x177f, 0xd215, 0x0, 0x1);
        gbc.writeMem(0x64d9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xe549, gbc.sp());
        EXPECT(0x64db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 037C
        gbc.setState(0xba76, 0x6e72, 0x25c0, 0xfb1d, 0x3713, 0xf26, 0x1, 0x1);
        gbc.writeMem(0xba76, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x6e72, gbc.sp());
        EXPECT(0xba78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba76));
        EXPECT(0x2a, gbc.readMem(0xba77));
        // CB 2A 037D
        gbc.setState(0x3631, 0x7004, 0x2cf0, 0xaca8, 0x9f31, 0x5b44, 0x1, 0x1);
        gbc.writeMem(0x3631, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x7004, gbc.sp());
        EXPECT(0x3633, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 037E
        gbc.setState(0x8f86, 0x63ca, 0x9100, 0xbc8f, 0x8cd5, 0x66b5, 0x0, 0x1);
        gbc.writeMem(0x8f86, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x63ca, gbc.sp());
        EXPECT(0x8f88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f86));
        EXPECT(0x2a, gbc.readMem(0x8f87));
        // CB 2A 037F
        gbc.setState(0xaaac, 0xc1af, 0xb4c0, 0x5ae4, 0x7374, 0x2861, 0x1, 0x0);
        gbc.writeMem(0xaaac, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xc1af, gbc.sp());
        EXPECT(0xaaae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaac));
        EXPECT(0x2a, gbc.readMem(0xaaad));
        // CB 2A 0380
        gbc.setState(0xd62a, 0xb82f, 0xbb10, 0x6a38, 0x4564, 0xfe6e, 0x1, 0x0);
        gbc.writeMem(0xd62a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xb82f, gbc.sp());
        EXPECT(0xd62c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd62a));
        EXPECT(0x2a, gbc.readMem(0xd62b));
        // CB 2A 0381
        gbc.setState(0x7f3c, 0xc1da, 0x32e0, 0xe8f9, 0xfcd7, 0xfe9c, 0x1, 0x1);
        gbc.writeMem(0x7f3c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xc1da, gbc.sp());
        EXPECT(0x7f3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0382
        gbc.setState(0xbe57, 0xdbf9, 0xf450, 0x3981, 0xebcd, 0xbd10, 0x0, 0x0);
        gbc.writeMem(0xbe57, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xdbf9, gbc.sp());
        EXPECT(0xbe59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe57));
        EXPECT(0x2a, gbc.readMem(0xbe58));
        // CB 2A 0383
        gbc.setState(0x6123, 0xbbac, 0x6040, 0xd53, 0xee38, 0x399, 0x0, 0x1);
        gbc.writeMem(0x6123, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xbbac, gbc.sp());
        EXPECT(0x6125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0384
        gbc.setState(0x96c5, 0x5356, 0x5f60, 0xf688, 0xffee, 0xa33e, 0x0, 0x0);
        gbc.writeMem(0x96c5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x5356, gbc.sp());
        EXPECT(0x96c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96c5));
        EXPECT(0x2a, gbc.readMem(0x96c6));
        // CB 2A 0385
        gbc.setState(0xe928, 0xe7c7, 0x35f0, 0x244c, 0x89db, 0xf00e, 0x1, 0x1);
        gbc.writeMem(0xe928, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xe7c7, gbc.sp());
        EXPECT(0xe92a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe928));
        EXPECT(0x2a, gbc.readMem(0xe929));
        // CB 2A 0386
        gbc.setState(0xb82b, 0x1fb8, 0xe310, 0xe6f5, 0xee4d, 0xe12d, 0x0, 0x0);
        gbc.writeMem(0xb82b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x1fb8, gbc.sp());
        EXPECT(0xb82d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb82b));
        EXPECT(0x2a, gbc.readMem(0xb82c));
        // CB 2A 0387
        gbc.setState(0x64a1, 0x69af, 0xc930, 0x82c3, 0x6a25, 0x7684, 0x0, 0x0);
        gbc.writeMem(0x64a1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x69af, gbc.sp());
        EXPECT(0x64a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0388
        gbc.setState(0x6d63, 0x19ee, 0xd950, 0xc163, 0x85c0, 0x5109, 0x0, 0x1);
        gbc.writeMem(0x6d63, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x19ee, gbc.sp());
        EXPECT(0x6d65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0389
        gbc.setState(0xac87, 0x9916, 0x2e20, 0x2409, 0x44c6, 0x99d9, 0x1, 0x0);
        gbc.writeMem(0xac87, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x9916, gbc.sp());
        EXPECT(0xac89, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac87));
        EXPECT(0x2a, gbc.readMem(0xac88));
        // CB 2A 038A
        gbc.setState(0xca0f, 0x14e5, 0x4670, 0xefc0, 0xde1, 0x629a, 0x1, 0x1);
        gbc.writeMem(0xca0f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x14e5, gbc.sp());
        EXPECT(0xca11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca0f));
        EXPECT(0x2a, gbc.readMem(0xca10));
        // CB 2A 038C
        gbc.setState(0x9b8e, 0xe97, 0x2470, 0x16ce, 0xd97f, 0xc11e, 0x1, 0x0);
        gbc.writeMem(0x9b8e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xe97, gbc.sp());
        EXPECT(0x9b90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b8e));
        EXPECT(0x2a, gbc.readMem(0x9b8f));
        // CB 2A 038D
        gbc.setState(0x7b74, 0xd549, 0x7790, 0x9a7, 0x3bd4, 0xf423, 0x1, 0x0);
        gbc.writeMem(0x7b74, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd549, gbc.sp());
        EXPECT(0x7b76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 038E
        gbc.setState(0x3512, 0x301c, 0xdd60, 0xe466, 0xe9a9, 0x5e67, 0x1, 0x1);
        gbc.writeMem(0x3512, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x301c, gbc.sp());
        EXPECT(0x3514, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 038F
        gbc.setState(0x6e9b, 0xc4e8, 0xda40, 0xeac4, 0x646b, 0xf8f6, 0x0, 0x1);
        gbc.writeMem(0x6e9b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc4e8, gbc.sp());
        EXPECT(0x6e9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0390
        gbc.setState(0xde3b, 0x3546, 0x7850, 0xdf69, 0x28a5, 0x7205, 0x1, 0x0);
        gbc.writeMem(0xde3b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x3546, gbc.sp());
        EXPECT(0xde3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde3b));
        EXPECT(0x2a, gbc.readMem(0xde3c));
        // CB 2A 0391
        gbc.setState(0x3a40, 0x40dc, 0xc6c0, 0x951, 0x7178, 0xdd72, 0x0, 0x0);
        gbc.writeMem(0x3a40, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x40dc, gbc.sp());
        EXPECT(0x3a42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 0392
        gbc.setState(0xed21, 0x9305, 0xfa10, 0x9f0d, 0x8a8, 0xd582, 0x0, 0x1);
        gbc.writeMem(0xed21, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9305, gbc.sp());
        EXPECT(0xed23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed21));
        EXPECT(0x2a, gbc.readMem(0xed22));
        // CB 2A 0393
        gbc.setState(0xddff, 0x3ffe, 0xab40, 0xfe16, 0x3f35, 0x19d3, 0x0, 0x0);
        gbc.writeMem(0xddff, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x3ffe, gbc.sp());
        EXPECT(0xde01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddff));
        EXPECT(0x2a, gbc.readMem(0xde00));
        // CB 2A 0394
        gbc.setState(0xd7f3, 0x7ba3, 0x7ce0, 0x950, 0x123e, 0x1f34, 0x0, 0x1);
        gbc.writeMem(0xd7f3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x7ba3, gbc.sp());
        EXPECT(0xd7f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7f3));
        EXPECT(0x2a, gbc.readMem(0xd7f4));
        // CB 2A 0395
        gbc.setState(0xcd30, 0xf53e, 0xb660, 0x207c, 0xcca2, 0x766b, 0x0, 0x0);
        gbc.writeMem(0xcd30, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xf53e, gbc.sp());
        EXPECT(0xcd32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd30));
        EXPECT(0x2a, gbc.readMem(0xcd31));
        // CB 2A 0396
        gbc.setState(0x78fd, 0x81ea, 0xe30, 0x4398, 0x82a9, 0x1952, 0x0, 0x0);
        gbc.writeMem(0x78fd, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x81ea, gbc.sp());
        EXPECT(0x78ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0397
        gbc.setState(0x2003, 0xda2d, 0x8790, 0x6d83, 0x3ea1, 0x1b2a, 0x0, 0x1);
        gbc.writeMem(0x2003, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xda2d, gbc.sp());
        EXPECT(0x2005, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 0398
        gbc.setState(0xc662, 0x8ac5, 0x59c0, 0x5087, 0x3451, 0x7328, 0x1, 0x0);
        gbc.writeMem(0xc662, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x8ac5, gbc.sp());
        EXPECT(0xc664, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc662));
        EXPECT(0x2a, gbc.readMem(0xc663));
        // CB 2A 0399
        gbc.setState(0x9db, 0x8363, 0x55d0, 0x7521, 0x4756, 0x1914, 0x1, 0x0);
        gbc.writeMem(0x9db, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8363, gbc.sp());
        EXPECT(0x9dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 039A
        gbc.setState(0x83ca, 0xd577, 0x94a0, 0x1d33, 0x9f82, 0x2e14, 0x1, 0x0);
        gbc.writeMem(0x83ca, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd577, gbc.sp());
        EXPECT(0x83cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83ca));
        EXPECT(0x2a, gbc.readMem(0x83cb));
        // CB 2A 039B
        gbc.setState(0xe8b4, 0x4600, 0x55f0, 0x63cc, 0xba33, 0xb98c, 0x1, 0x1);
        gbc.writeMem(0xe8b4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x4600, gbc.sp());
        EXPECT(0xe8b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8b4));
        EXPECT(0x2a, gbc.readMem(0xe8b5));
        // CB 2A 039C
        gbc.setState(0x4a56, 0x7d25, 0x4fd0, 0x27c7, 0xfed7, 0xe6cf, 0x0, 0x1);
        gbc.writeMem(0x4a56, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x7d25, gbc.sp());
        EXPECT(0x4a58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 039D
        gbc.setState(0x26b, 0x9dfe, 0x3be0, 0x3a8d, 0x2883, 0x3d8f, 0x1, 0x1);
        gbc.writeMem(0x26b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9dfe, gbc.sp());
        EXPECT(0x26d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 039E
        gbc.setState(0xe384, 0x29a5, 0x5590, 0xd9bb, 0xeeec, 0x59de, 0x1, 0x1);
        gbc.writeMem(0xe384, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x29a5, gbc.sp());
        EXPECT(0xe386, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe384));
        EXPECT(0x2a, gbc.readMem(0xe385));
        // CB 2A 039F
        gbc.setState(0x13ea, 0x68ef, 0x91b0, 0x9d77, 0x86ca, 0xa53e, 0x1, 0x0);
        gbc.writeMem(0x13ea, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x68ef, gbc.sp());
        EXPECT(0x13ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03A0
        gbc.setState(0xd0b3, 0x1638, 0xb7d0, 0xb867, 0x879d, 0xe0aa, 0x1, 0x1);
        gbc.writeMem(0xd0b3, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x1638, gbc.sp());
        EXPECT(0xd0b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0b3));
        EXPECT(0x2a, gbc.readMem(0xd0b4));
        // CB 2A 03A1
        gbc.setState(0x70ff, 0x487d, 0x9be0, 0x7d1e, 0x67e4, 0x5886, 0x1, 0x0);
        gbc.writeMem(0x70ff, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x487d, gbc.sp());
        EXPECT(0x7101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03A2
        gbc.setState(0xafad, 0xb206, 0x96f0, 0x680e, 0x547f, 0x8837, 0x1, 0x1);
        gbc.writeMem(0xafad, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb206, gbc.sp());
        EXPECT(0xafaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafad));
        EXPECT(0x2a, gbc.readMem(0xafae));
        // CB 2A 03A4
        gbc.setState(0xb206, 0xa7cb, 0x4e30, 0x1cdf, 0xa3de, 0x6adc, 0x1, 0x0);
        gbc.writeMem(0xb206, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xa7cb, gbc.sp());
        EXPECT(0xb208, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb206));
        EXPECT(0x2a, gbc.readMem(0xb207));
        // CB 2A 03A5
        gbc.setState(0xcb98, 0x2a9d, 0xe9a0, 0x90a9, 0xfd4, 0xa956, 0x1, 0x1);
        gbc.writeMem(0xcb98, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x2a9d, gbc.sp());
        EXPECT(0xcb9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb98));
        EXPECT(0x2a, gbc.readMem(0xcb99));
        // CB 2A 03A6
        gbc.setState(0x15bc, 0x7569, 0x7e90, 0xed85, 0xec6d, 0x946d, 0x0, 0x0);
        gbc.writeMem(0x15bc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x7569, gbc.sp());
        EXPECT(0x15be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03A7
        gbc.setState(0xa2e2, 0x31a9, 0x2960, 0xb592, 0x9f3b, 0x4997, 0x1, 0x0);
        gbc.writeMem(0xa2e2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x31a9, gbc.sp());
        EXPECT(0xa2e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2e2));
        EXPECT(0x2a, gbc.readMem(0xa2e3));
        // CB 2A 03A8
        gbc.setState(0x1e65, 0xfe03, 0x2b80, 0xd36f, 0x143a, 0x565, 0x1, 0x0);
        gbc.writeMem(0x1e65, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xfe03, gbc.sp());
        EXPECT(0x1e67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03A9
        gbc.setState(0xd9c7, 0x1860, 0xf810, 0x11b0, 0xbfd0, 0x500f, 0x0, 0x1);
        gbc.writeMem(0xd9c7, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x1860, gbc.sp());
        EXPECT(0xd9c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9c7));
        EXPECT(0x2a, gbc.readMem(0xd9c8));
        // CB 2A 03AA
        gbc.setState(0xda16, 0xcd48, 0x97b0, 0x749f, 0x147b, 0xe91e, 0x0, 0x1);
        gbc.writeMem(0xda16, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xcd48, gbc.sp());
        EXPECT(0xda18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda16));
        EXPECT(0x2a, gbc.readMem(0xda17));
        // CB 2A 03AB
        gbc.setState(0x90a2, 0xd58b, 0xc5e0, 0xac71, 0x2343, 0xceea, 0x0, 0x1);
        gbc.writeMem(0x90a2, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xd58b, gbc.sp());
        EXPECT(0x90a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x90a2));
        EXPECT(0x2a, gbc.readMem(0x90a3));
        // CB 2A 03AC
        gbc.setState(0xea84, 0x2965, 0x5f00, 0x19e7, 0x7ada, 0xd135, 0x0, 0x0);
        gbc.writeMem(0xea84, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x2965, gbc.sp());
        EXPECT(0xea86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea84));
        EXPECT(0x2a, gbc.readMem(0xea85));
        // CB 2A 03AD
        gbc.setState(0x10be, 0x3b9, 0x5880, 0xc279, 0x3593, 0x1658, 0x0, 0x1);
        gbc.writeMem(0x10be, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x3b9, gbc.sp());
        EXPECT(0x10c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03AE
        gbc.setState(0x6387, 0x9743, 0xf080, 0x1bf5, 0xf9ba, 0x46ac, 0x0, 0x1);
        gbc.writeMem(0x6387, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x9743, gbc.sp());
        EXPECT(0x6389, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03AF
        gbc.setState(0x14ac, 0xb508, 0xd020, 0x3829, 0xa1b, 0xd8ba, 0x1, 0x1);
        gbc.writeMem(0x14ac, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xb508, gbc.sp());
        EXPECT(0x14ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03B0
        gbc.setState(0xa4fb, 0x2cd6, 0x2170, 0xe6ab, 0xe741, 0xd3d4, 0x0, 0x0);
        gbc.writeMem(0xa4fb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x2cd6, gbc.sp());
        EXPECT(0xa4fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4fb));
        EXPECT(0x2a, gbc.readMem(0xa4fc));
        // CB 2A 03B1
        gbc.setState(0x4f42, 0x2fb7, 0x2490, 0x4a2e, 0x967b, 0x49c4, 0x0, 0x1);
        gbc.writeMem(0x4f42, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x2fb7, gbc.sp());
        EXPECT(0x4f44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03B2
        gbc.setState(0x982c, 0x6295, 0x66f0, 0xdfbd, 0xf27b, 0x7602, 0x1, 0x0);
        gbc.writeMem(0x982c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x6295, gbc.sp());
        EXPECT(0x982e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x982c));
        EXPECT(0x2a, gbc.readMem(0x982d));
        // CB 2A 03B3
        gbc.setState(0x6450, 0x7b3a, 0xa190, 0xbbe3, 0x8b0f, 0x6f5c, 0x1, 0x0);
        gbc.writeMem(0x6450, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7b3a, gbc.sp());
        EXPECT(0x6452, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03B4
        gbc.setState(0xc316, 0xa0fb, 0x5170, 0x85a3, 0xe47b, 0x2b18, 0x1, 0x0);
        gbc.writeMem(0xc316, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xa0fb, gbc.sp());
        EXPECT(0xc318, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc316));
        EXPECT(0x2a, gbc.readMem(0xc317));
        // CB 2A 03B5
        gbc.setState(0x8954, 0x7172, 0xd940, 0x8be1, 0x505e, 0x1abd, 0x0, 0x0);
        gbc.writeMem(0x8954, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x7172, gbc.sp());
        EXPECT(0x8956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8954));
        EXPECT(0x2a, gbc.readMem(0x8955));
        // CB 2A 03B6
        gbc.setState(0x4f0, 0x9135, 0xd7c0, 0x7e46, 0x997b, 0xb46e, 0x0, 0x1);
        gbc.writeMem(0x4f0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x9135, gbc.sp());
        EXPECT(0x4f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03B7
        gbc.setState(0x597b, 0x8726, 0x8a10, 0x83fa, 0x2884, 0x6142, 0x0, 0x0);
        gbc.writeMem(0x597b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x8726, gbc.sp());
        EXPECT(0x597d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03B8
        gbc.setState(0xbf5, 0x49de, 0xb9a0, 0xfa46, 0xb208, 0x7a0d, 0x1, 0x1);
        gbc.writeMem(0xbf5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x49de, gbc.sp());
        EXPECT(0xbf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03B9
        gbc.setState(0x763a, 0xff1a, 0x5fd0, 0x86f9, 0xc6c3, 0xaff8, 0x0, 0x1);
        gbc.writeMem(0x763a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xff1a, gbc.sp());
        EXPECT(0x763c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03BA
        gbc.setState(0x5a69, 0x5fd6, 0x4e20, 0x6e6, 0xde42, 0x6264, 0x0, 0x1);
        gbc.writeMem(0x5a69, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x5fd6, gbc.sp());
        EXPECT(0x5a6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03BB
        gbc.setState(0x3c10, 0xfa13, 0x66f0, 0x753c, 0x8f50, 0x28a5, 0x1, 0x0);
        gbc.writeMem(0x3c10, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xfa13, gbc.sp());
        EXPECT(0x3c12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03BC
        gbc.setState(0xbda5, 0x1f20, 0xf960, 0xa540, 0x73db, 0x99f9, 0x1, 0x0);
        gbc.writeMem(0xbda5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1f20, gbc.sp());
        EXPECT(0xbda7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbda5));
        EXPECT(0x2a, gbc.readMem(0xbda6));
        // CB 2A 03BD
        gbc.setState(0x6c45, 0x5cd8, 0xe3d0, 0x62c, 0x2ae8, 0xca3b, 0x0, 0x1);
        gbc.writeMem(0x6c45, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x5cd8, gbc.sp());
        EXPECT(0x6c47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03BE
        gbc.setState(0x389c, 0xc229, 0xe140, 0x5681, 0xdddf, 0x4e70, 0x0, 0x1);
        gbc.writeMem(0x389c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc229, gbc.sp());
        EXPECT(0x389e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03BF
        gbc.setState(0x66f6, 0xe9c1, 0xb7f0, 0xf725, 0x79ba, 0xa106, 0x0, 0x0);
        gbc.writeMem(0x66f6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xe9c1, gbc.sp());
        EXPECT(0x66f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03C0
        gbc.setState(0x26c9, 0x9579, 0x92d0, 0x6c55, 0x3c49, 0x8ecd, 0x0, 0x1);
        gbc.writeMem(0x26c9, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x9579, gbc.sp());
        EXPECT(0x26cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03C1
        gbc.setState(0x4a3f, 0x62fd, 0x8e60, 0x9216, 0x562c, 0x5680, 0x1, 0x0);
        gbc.writeMem(0x4a3f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x62fd, gbc.sp());
        EXPECT(0x4a41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03C2
        gbc.setState(0xe068, 0x1a3c, 0xb2f0, 0x6f90, 0x1df9, 0xefd6, 0x1, 0x0);
        gbc.writeMem(0xe068, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x1a3c, gbc.sp());
        EXPECT(0xe06a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe068));
        EXPECT(0x2a, gbc.readMem(0xe069));
        // CB 2A 03C3
        gbc.setState(0x551a, 0xf490, 0xc1f0, 0xaeae, 0xea7a, 0x7849, 0x0, 0x0);
        gbc.writeMem(0x551a, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf490, gbc.sp());
        EXPECT(0x551c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03C4
        gbc.setState(0xeda0, 0xdb46, 0xa9b0, 0x75c3, 0x89a3, 0x5b87, 0x1, 0x1);
        gbc.writeMem(0xeda0, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xdb46, gbc.sp());
        EXPECT(0xeda2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeda0));
        EXPECT(0x2a, gbc.readMem(0xeda1));
        // CB 2A 03C5
        gbc.setState(0x4913, 0x618d, 0x7000, 0x4f16, 0xbf79, 0x9219, 0x1, 0x0);
        gbc.writeMem(0x4913, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x618d, gbc.sp());
        EXPECT(0x4915, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03C6
        gbc.setState(0xb024, 0xc93f, 0xf800, 0x8336, 0x621, 0x39c7, 0x0, 0x1);
        gbc.writeMem(0xb024, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xc93f, gbc.sp());
        EXPECT(0xb026, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb024));
        EXPECT(0x2a, gbc.readMem(0xb025));
        // CB 2A 03C7
        gbc.setState(0xd74b, 0x5f35, 0x61b0, 0xc182, 0x8f90, 0x9f93, 0x1, 0x1);
        gbc.writeMem(0xd74b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x5f35, gbc.sp());
        EXPECT(0xd74d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd74b));
        EXPECT(0x2a, gbc.readMem(0xd74c));
        // CB 2A 03C9
        gbc.setState(0x3b4b, 0x6d44, 0xfa10, 0x1146, 0xacdf, 0x6f52, 0x0, 0x1);
        gbc.writeMem(0x3b4b, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x6d44, gbc.sp());
        EXPECT(0x3b4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03CA
        gbc.setState(0x7be8, 0xbc84, 0x9e70, 0xb39e, 0xa1aa, 0x3881, 0x1, 0x0);
        gbc.writeMem(0x7be8, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xbc84, gbc.sp());
        EXPECT(0x7bea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03CB
        gbc.setState(0xe15, 0x4b30, 0xff60, 0xdbda, 0xf9ed, 0x9d1f, 0x1, 0x0);
        gbc.writeMem(0xe15, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x4b30, gbc.sp());
        EXPECT(0xe17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03CC
        gbc.setState(0x6a56, 0xf474, 0xb7b0, 0x1e72, 0x5983, 0xf8d, 0x0, 0x1);
        gbc.writeMem(0x6a56, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf474, gbc.sp());
        EXPECT(0x6a58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03CD
        gbc.setState(0x286d, 0x2690, 0x9ca0, 0x1a6f, 0xe56c, 0xe3e3, 0x0, 0x0);
        gbc.writeMem(0x286d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x2690, gbc.sp());
        EXPECT(0x286f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03CE
        gbc.setState(0x91cb, 0x76a9, 0x5700, 0xc9cb, 0x3e49, 0xbb85, 0x1, 0x0);
        gbc.writeMem(0x91cb, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x76a9, gbc.sp());
        EXPECT(0x91cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91cb));
        EXPECT(0x2a, gbc.readMem(0x91cc));
        // CB 2A 03CF
        gbc.setState(0xb26d, 0x785b, 0xed60, 0xc051, 0x45b4, 0x5394, 0x1, 0x1);
        gbc.writeMem(0xb26d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x785b, gbc.sp());
        EXPECT(0xb26f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb26d));
        EXPECT(0x2a, gbc.readMem(0xb26e));
        // CB 2A 03D0
        gbc.setState(0x5142, 0xa1f, 0x1bb0, 0x43b7, 0x8759, 0xbfd2, 0x1, 0x1);
        gbc.writeMem(0x5142, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa1f, gbc.sp());
        EXPECT(0x5144, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03D1
        gbc.setState(0x564d, 0xdce2, 0xdc40, 0xc86f, 0x767e, 0xc8f, 0x1, 0x1);
        gbc.writeMem(0x564d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xdce2, gbc.sp());
        EXPECT(0x564f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03D2
        gbc.setState(0x4cf, 0xa8f0, 0x9ff0, 0x939d, 0x4f87, 0x562b, 0x0, 0x1);
        gbc.writeMem(0x4cf, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xa8f0, gbc.sp());
        EXPECT(0x4d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03D3
        gbc.setState(0xec12, 0xf63a, 0x2aa0, 0xe75d, 0xb698, 0x44be, 0x1, 0x1);
        gbc.writeMem(0xec12, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xf63a, gbc.sp());
        EXPECT(0xec14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec12));
        EXPECT(0x2a, gbc.readMem(0xec13));
        // CB 2A 03D4
        gbc.setState(0x32e5, 0x3be4, 0xb580, 0xb049, 0x9a3, 0x51eb, 0x0, 0x1);
        gbc.writeMem(0x32e5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x3be4, gbc.sp());
        EXPECT(0x32e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03D5
        gbc.setState(0xe361, 0x79bd, 0xce40, 0x8bcf, 0xf1d7, 0x3ecb, 0x1, 0x1);
        gbc.writeMem(0xe361, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x79bd, gbc.sp());
        EXPECT(0xe363, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe361));
        EXPECT(0x2a, gbc.readMem(0xe362));
        // CB 2A 03D6
        gbc.setState(0x69e1, 0xc2eb, 0x1de0, 0x8df7, 0xdc92, 0x15ea, 0x0, 0x0);
        gbc.writeMem(0x69e1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xc2eb, gbc.sp());
        EXPECT(0x69e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03D7
        gbc.setState(0xe416, 0x5ca, 0x72b0, 0x5808, 0x923f, 0xec02, 0x1, 0x1);
        gbc.writeMem(0xe416, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x5ca, gbc.sp());
        EXPECT(0xe418, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe416));
        EXPECT(0x2a, gbc.readMem(0xe417));
        // CB 2A 03D8
        gbc.setState(0x54e4, 0x1e73, 0xc6e0, 0x61d0, 0x5516, 0xf7ed, 0x1, 0x0);
        gbc.writeMem(0x54e4, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x1e73, gbc.sp());
        EXPECT(0x54e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03D9
        gbc.setState(0x9a79, 0xfde, 0xeb30, 0xf053, 0x6b70, 0xd0a0, 0x0, 0x0);
        gbc.writeMem(0x9a79, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xfde, gbc.sp());
        EXPECT(0x9a7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a79));
        EXPECT(0x2a, gbc.readMem(0x9a7a));
        // CB 2A 03DA
        gbc.setState(0xc02d, 0x4057, 0x6460, 0x3a0, 0x4226, 0x8816, 0x0, 0x0);
        gbc.writeMem(0xc02d, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x4057, gbc.sp());
        EXPECT(0xc02f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc02d));
        EXPECT(0x2a, gbc.readMem(0xc02e));
        // CB 2A 03DB
        gbc.setState(0x9e16, 0x601f, 0xa070, 0x6b96, 0x7433, 0xedbf, 0x0, 0x1);
        gbc.writeMem(0x9e16, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x601f, gbc.sp());
        EXPECT(0x9e18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e16));
        EXPECT(0x2a, gbc.readMem(0x9e17));
        // CB 2A 03DC
        gbc.setState(0xed5, 0x8649, 0xc40, 0xbf33, 0x7726, 0xb574, 0x0, 0x0);
        gbc.writeMem(0xed5, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x8649, gbc.sp());
        EXPECT(0xed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03DD
        gbc.setState(0x2c53, 0x5c54, 0xdb90, 0x9a72, 0x68c, 0xc78f, 0x1, 0x0);
        gbc.writeMem(0x2c53, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x5c54, gbc.sp());
        EXPECT(0x2c55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03DE
        gbc.setState(0x25c6, 0xec1f, 0x7e30, 0xb665, 0x5ba8, 0xdcc2, 0x0, 0x1);
        gbc.writeMem(0x25c6, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xec1f, gbc.sp());
        EXPECT(0x25c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03DF
        gbc.setState(0xd68f, 0x3f24, 0x1890, 0x9d46, 0xa461, 0x3269, 0x0, 0x0);
        gbc.writeMem(0xd68f, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x3f24, gbc.sp());
        EXPECT(0xd691, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd68f));
        EXPECT(0x2a, gbc.readMem(0xd690));
        // CB 2A 03E0
        gbc.setState(0xae8c, 0x84d5, 0x1990, 0x6f2c, 0x6d76, 0x91f6, 0x1, 0x1);
        gbc.writeMem(0xae8c, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x84d5, gbc.sp());
        EXPECT(0xae8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae8c));
        EXPECT(0x2a, gbc.readMem(0xae8d));
        // CB 2A 03E1
        gbc.setState(0xd48e, 0x8d3a, 0xac40, 0xe4a2, 0xe8c7, 0xddbd, 0x0, 0x0);
        gbc.writeMem(0xd48e, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x8d3a, gbc.sp());
        EXPECT(0xd490, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd48e));
        EXPECT(0x2a, gbc.readMem(0xd48f));
        // CB 2A 03E2
        gbc.setState(0x6112, 0xaac4, 0x3e50, 0x6dbb, 0x4d89, 0x2dd0, 0x1, 0x1);
        gbc.writeMem(0x6112, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xaac4, gbc.sp());
        EXPECT(0x6114, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03E3
        gbc.setState(0x7280, 0x2b8, 0x6280, 0xad90, 0x977c, 0x26d8, 0x1, 0x0);
        gbc.writeMem(0x7280, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x2b8, gbc.sp());
        EXPECT(0x7282, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03E4
        gbc.setState(0xe530, 0x85c0, 0x31c0, 0x6095, 0x9571, 0x8158, 0x1, 0x1);
        gbc.writeMem(0xe530, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x85c0, gbc.sp());
        EXPECT(0xe532, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe530));
        EXPECT(0x2a, gbc.readMem(0xe531));
        // CB 2A 03E5
        gbc.setState(0x1383, 0x8ee7, 0x2d00, 0x4d2c, 0xb875, 0x6096, 0x0, 0x0);
        gbc.writeMem(0x1383, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x8ee7, gbc.sp());
        EXPECT(0x1385, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 2A 03E6
        gbc.setState(0x67dc, 0x444c, 0x7130, 0xacd4, 0xe32c, 0x3ef1, 0x1, 0x0);
        gbc.writeMem(0x67dc, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x444c, gbc.sp());
        EXPECT(0x67de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 2A 03E7
        gbc.setState(0x21e1, 0x718d, 0xa4e0, 0xedd9, 0xa0e9, 0x1798, 0x1, 0x1);
        gbc.writeMem(0x21e1, { 0xcb, 0x2a });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x718d, gbc.sp());
        EXPECT(0x21e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
