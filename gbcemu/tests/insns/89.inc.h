    TEST(gbcemu, opcode_89) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 89 0000
        gbc.setState(0x84da, 0x6980, 0x4660, 0x66f7, 0x3bfe, 0x1f31, 0x0, 0x0);
        gbc.writeMem(0x84da, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6980);
        EXPECT(gbc.pc(), 0x84db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84da), 0x89);
        // 89 0001
        gbc.setState(0x73d6, 0x5b1e, 0x1d20, 0xf046, 0xa07e, 0xf630, 0x1, 0x0);
        gbc.writeMem(0x73d6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5b1e);
        EXPECT(gbc.pc(), 0x73d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0002
        gbc.setState(0xe9ce, 0x24e0, 0x9170, 0x9235, 0xc9c7, 0x1afe, 0x0, 0x0);
        gbc.writeMem(0xe9ce, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x24e0);
        EXPECT(gbc.pc(), 0xe9cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ce), 0x89);
        // 89 0003
        gbc.setState(0xe5d8, 0x531f, 0xcb10, 0x953a, 0x44f9, 0x598, 0x0, 0x1);
        gbc.writeMem(0xe5d8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x531f);
        EXPECT(gbc.pc(), 0xe5d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5d8), 0x89);
        // 89 0004
        gbc.setState(0xcada, 0xe4f3, 0xb7f0, 0xb838, 0x6e5e, 0x6de7, 0x1, 0x0);
        gbc.writeMem(0xcada, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe4f3);
        EXPECT(gbc.pc(), 0xcadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcada), 0x89);
        // 89 0005
        gbc.setState(0x59ba, 0x5c69, 0x54f0, 0x9c60, 0x279d, 0xcd08, 0x0, 0x1);
        gbc.writeMem(0x59ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5c69);
        EXPECT(gbc.pc(), 0x59bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0006
        gbc.setState(0xb6ac, 0x751f, 0x42c0, 0x53e5, 0xdb5e, 0x9d02, 0x1, 0x1);
        gbc.writeMem(0xb6ac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x751f);
        EXPECT(gbc.pc(), 0xb6ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6ac), 0x89);
        // 89 0007
        gbc.setState(0x5825, 0xd80c, 0x37f0, 0x2ae8, 0x58f, 0x7e81, 0x1, 0x0);
        gbc.writeMem(0x5825, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd80c);
        EXPECT(gbc.pc(), 0x5826);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0008
        gbc.setState(0x31e4, 0x129e, 0x6c30, 0xff14, 0x4222, 0x1196, 0x0, 0x0);
        gbc.writeMem(0x31e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x129e);
        EXPECT(gbc.pc(), 0x31e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0009
        gbc.setState(0xdfa3, 0xb61c, 0xfa70, 0x80f8, 0x582c, 0x644d, 0x0, 0x1);
        gbc.writeMem(0xdfa3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb61c);
        EXPECT(gbc.pc(), 0xdfa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfa3), 0x89);
        // 89 000A
        gbc.setState(0x88ab, 0x6207, 0x12f0, 0x8654, 0xdf8f, 0x655f, 0x0, 0x0);
        gbc.writeMem(0x88ab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6207);
        EXPECT(gbc.pc(), 0x88ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88ab), 0x89);
        // 89 000B
        gbc.setState(0x5562, 0x83e4, 0xaaa0, 0x53c9, 0xfc4b, 0x1b97, 0x0, 0x0);
        gbc.writeMem(0x5562, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x83e4);
        EXPECT(gbc.pc(), 0x5563);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 000C
        gbc.setState(0x9e97, 0x6afb, 0x7da0, 0x492d, 0xae55, 0x4408, 0x1, 0x0);
        gbc.writeMem(0x9e97, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6afb);
        EXPECT(gbc.pc(), 0x9e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e97), 0x89);
        // 89 000D
        gbc.setState(0x9046, 0x49ca, 0x83a0, 0x4000, 0x35ce, 0x46f6, 0x1, 0x1);
        gbc.writeMem(0x9046, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x49ca);
        EXPECT(gbc.pc(), 0x9047);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9046), 0x89);
        // 89 000E
        gbc.setState(0x27e7, 0x2cb6, 0xcf0, 0x37d5, 0x47ca, 0x257f, 0x0, 0x1);
        gbc.writeMem(0x27e7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2cb6);
        EXPECT(gbc.pc(), 0x27e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 000F
        gbc.setState(0xb403, 0x752a, 0xa3f0, 0x9018, 0xff67, 0xd908, 0x0, 0x1);
        gbc.writeMem(0xb403, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x752a);
        EXPECT(gbc.pc(), 0xb404);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb403), 0x89);
        // 89 0010
        gbc.setState(0x7aaa, 0xfb3e, 0xee20, 0x1933, 0xb00a, 0xe350, 0x0, 0x1);
        gbc.writeMem(0x7aaa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xfb3e);
        EXPECT(gbc.pc(), 0x7aab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0011
        gbc.setState(0xdb6d, 0x2018, 0x1fc0, 0xbfa4, 0x655e, 0xf78f, 0x0, 0x1);
        gbc.writeMem(0xdb6d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2018);
        EXPECT(gbc.pc(), 0xdb6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb6d), 0x89);
        // 89 0012
        gbc.setState(0x265c, 0x78dd, 0x4ae0, 0x8e8c, 0xa8bc, 0xdb08, 0x1, 0x1);
        gbc.writeMem(0x265c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x78dd);
        EXPECT(gbc.pc(), 0x265d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0013
        gbc.setState(0x3b23, 0xd44d, 0xd420, 0x5b7c, 0x909e, 0xc0d1, 0x1, 0x1);
        gbc.writeMem(0x3b23, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xd44d);
        EXPECT(gbc.pc(), 0x3b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0014
        gbc.setState(0x4230, 0xaaa8, 0x2370, 0x48a2, 0x25e4, 0x48b2, 0x0, 0x1);
        gbc.writeMem(0x4230, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xaaa8);
        EXPECT(gbc.pc(), 0x4231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0015
        gbc.setState(0x8636, 0xf287, 0x7f70, 0x223c, 0xcdb2, 0xabb5, 0x0, 0x0);
        gbc.writeMem(0x8636, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf287);
        EXPECT(gbc.pc(), 0x8637);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8636), 0x89);
        // 89 0016
        gbc.setState(0x7f78, 0x4dfa, 0xcc40, 0x20ad, 0x4df8, 0xff3f, 0x0, 0x0);
        gbc.writeMem(0x7f78, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4dfa);
        EXPECT(gbc.pc(), 0x7f79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0017
        gbc.setState(0x271b, 0x7e94, 0x6d40, 0xe43a, 0xffb0, 0x347c, 0x1, 0x0);
        gbc.writeMem(0x271b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x7e94);
        EXPECT(gbc.pc(), 0x271c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0018
        gbc.setState(0xc9bd, 0xa88a, 0x29c0, 0x735b, 0x9747, 0xa6f, 0x1, 0x0);
        gbc.writeMem(0xc9bd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa88a);
        EXPECT(gbc.pc(), 0xc9be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9bd), 0x89);
        // 89 001A
        gbc.setState(0x7364, 0x847c, 0xb470, 0xea32, 0x111b, 0x15a9, 0x1, 0x0);
        gbc.writeMem(0x7364, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x847c);
        EXPECT(gbc.pc(), 0x7365);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 001B
        gbc.setState(0x3a7b, 0x7f67, 0x8d00, 0xd48c, 0x6bfc, 0xf921, 0x0, 0x0);
        gbc.writeMem(0x3a7b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x7f67);
        EXPECT(gbc.pc(), 0x3a7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 001C
        gbc.setState(0xd3ce, 0xe727, 0x4fe0, 0x188e, 0x3bb1, 0x71, 0x0, 0x0);
        gbc.writeMem(0xd3ce, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe727);
        EXPECT(gbc.pc(), 0xd3cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ce), 0x89);
        // 89 001D
        gbc.setState(0x10e7, 0xab34, 0x1360, 0xb92c, 0xe26b, 0x96d0, 0x0, 0x1);
        gbc.writeMem(0x10e7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xab34);
        EXPECT(gbc.pc(), 0x10e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 001E
        gbc.setState(0xc710, 0x349f, 0x1da0, 0x45c5, 0xf5c2, 0xd45b, 0x1, 0x1);
        gbc.writeMem(0xc710, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x349f);
        EXPECT(gbc.pc(), 0xc711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc710), 0x89);
        // 89 001F
        gbc.setState(0x28cc, 0x5789, 0x4b40, 0x840b, 0x9b53, 0xa894, 0x1, 0x0);
        gbc.writeMem(0x28cc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5789);
        EXPECT(gbc.pc(), 0x28cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0021
        gbc.setState(0xc2b7, 0xe33b, 0xdd30, 0x8412, 0xd312, 0x8d2c, 0x0, 0x0);
        gbc.writeMem(0xc2b7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe33b);
        EXPECT(gbc.pc(), 0xc2b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2b7), 0x89);
        // 89 0022
        gbc.setState(0x2c65, 0x48a7, 0x2990, 0x1185, 0xc604, 0xf4d7, 0x1, 0x0);
        gbc.writeMem(0x2c65, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x48a7);
        EXPECT(gbc.pc(), 0x2c66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0023
        gbc.setState(0x1d5a, 0xabde, 0x990, 0x6547, 0xcfd5, 0x1c5e, 0x1, 0x0);
        gbc.writeMem(0x1d5a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xabde);
        EXPECT(gbc.pc(), 0x1d5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0025
        gbc.setState(0xb6ea, 0xc5fa, 0xcc60, 0x99f8, 0x7daa, 0x50cd, 0x0, 0x1);
        gbc.writeMem(0xb6ea, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc5fa);
        EXPECT(gbc.pc(), 0xb6eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6ea), 0x89);
        // 89 0026
        gbc.setState(0xbb5e, 0xc924, 0x39c0, 0x3d7, 0xa420, 0xb17f, 0x0, 0x0);
        gbc.writeMem(0xbb5e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc924);
        EXPECT(gbc.pc(), 0xbb5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb5e), 0x89);
        // 89 0027
        gbc.setState(0xc8f3, 0xe586, 0x38d0, 0xc4c, 0x207d, 0x12fc, 0x1, 0x1);
        gbc.writeMem(0xc8f3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe586);
        EXPECT(gbc.pc(), 0xc8f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f3), 0x89);
        // 89 0028
        gbc.setState(0xb5b0, 0x88fb, 0xb270, 0x6958, 0x918d, 0xb0d3, 0x1, 0x1);
        gbc.writeMem(0xb5b0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x88fb);
        EXPECT(gbc.pc(), 0xb5b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5b0), 0x89);
        // 89 0029
        gbc.setState(0x3e14, 0x45f0, 0x7da0, 0x91aa, 0xab43, 0x7208, 0x1, 0x1);
        gbc.writeMem(0x3e14, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x45f0);
        EXPECT(gbc.pc(), 0x3e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 002A
        gbc.setState(0xcc69, 0x3d62, 0xd7e0, 0x4d6a, 0xfcab, 0x46d1, 0x1, 0x1);
        gbc.writeMem(0xcc69, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3d62);
        EXPECT(gbc.pc(), 0xcc6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc69), 0x89);
        // 89 002B
        gbc.setState(0x4841, 0x168a, 0x3e60, 0xe5c9, 0xcc6d, 0xc910, 0x0, 0x1);
        gbc.writeMem(0x4841, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x168a);
        EXPECT(gbc.pc(), 0x4842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 002C
        gbc.setState(0x31a4, 0xfaa0, 0xbb10, 0xa869, 0x14c0, 0x46e3, 0x0, 0x1);
        gbc.writeMem(0x31a4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xfaa0);
        EXPECT(gbc.pc(), 0x31a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 002D
        gbc.setState(0x8685, 0x2065, 0xbb90, 0x942c, 0x5347, 0xc9bf, 0x0, 0x0);
        gbc.writeMem(0x8685, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2065);
        EXPECT(gbc.pc(), 0x8686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8685), 0x89);
        // 89 002E
        gbc.setState(0x3e6, 0xeede, 0x26d0, 0xbf0f, 0xb27f, 0x47ff, 0x1, 0x0);
        gbc.writeMem(0x3e6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xeede);
        EXPECT(gbc.pc(), 0x3e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 002F
        gbc.setState(0x9114, 0xb989, 0x22e0, 0xbe6, 0x5f07, 0x621e, 0x1, 0x1);
        gbc.writeMem(0x9114, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xb989);
        EXPECT(gbc.pc(), 0x9115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9114), 0x89);
        // 89 0031
        gbc.setState(0xa664, 0x6486, 0x5530, 0x1175, 0x9a9a, 0xa318, 0x0, 0x1);
        gbc.writeMem(0xa664, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6486);
        EXPECT(gbc.pc(), 0xa665);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa664), 0x89);
        // 89 0033
        gbc.setState(0x3073, 0xabe0, 0x3610, 0x6cf5, 0x6bd, 0x4378, 0x0, 0x0);
        gbc.writeMem(0x3073, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xabe0);
        EXPECT(gbc.pc(), 0x3074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0034
        gbc.setState(0x5863, 0x5317, 0x8ed0, 0xbde9, 0x72d6, 0x8742, 0x0, 0x1);
        gbc.writeMem(0x5863, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5317);
        EXPECT(gbc.pc(), 0x5864);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0035
        gbc.setState(0xa590, 0x5aac, 0xec0, 0x5942, 0xfb34, 0x5d41, 0x1, 0x1);
        gbc.writeMem(0xa590, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x5aac);
        EXPECT(gbc.pc(), 0xa591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa590), 0x89);
        // 89 0036
        gbc.setState(0x99e4, 0x695d, 0x9f20, 0xd328, 0x5272, 0xc67d, 0x1, 0x0);
        gbc.writeMem(0x99e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x695d);
        EXPECT(gbc.pc(), 0x99e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99e4), 0x89);
        // 89 0037
        gbc.setState(0xcbd6, 0x7e5b, 0x8630, 0x63e, 0xfeaf, 0x6f65, 0x0, 0x0);
        gbc.writeMem(0xcbd6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7e5b);
        EXPECT(gbc.pc(), 0xcbd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbd6), 0x89);
        // 89 0038
        gbc.setState(0xe82d, 0x39d1, 0x3700, 0xbe07, 0xde62, 0x3e05, 0x0, 0x1);
        gbc.writeMem(0xe82d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x39d1);
        EXPECT(gbc.pc(), 0xe82e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe82d), 0x89);
        // 89 0039
        gbc.setState(0x2895, 0xb206, 0x8120, 0xc65c, 0xce81, 0xf9ab, 0x0, 0x0);
        gbc.writeMem(0x2895, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb206);
        EXPECT(gbc.pc(), 0x2896);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 003A
        gbc.setState(0x6834, 0x919a, 0xdf40, 0xa7ab, 0xbfac, 0xa563, 0x1, 0x1);
        gbc.writeMem(0x6834, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x919a);
        EXPECT(gbc.pc(), 0x6835);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 003B
        gbc.setState(0x3bd1, 0x69e2, 0x1a80, 0x7bd6, 0x600c, 0xe2a1, 0x1, 0x0);
        gbc.writeMem(0x3bd1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x69e2);
        EXPECT(gbc.pc(), 0x3bd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 003C
        gbc.setState(0xc7, 0xce01, 0xca50, 0xff38, 0xd6b5, 0xb2b3, 0x0, 0x1);
        gbc.writeMem(0xc7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xce01);
        EXPECT(gbc.pc(), 0xc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 003D
        gbc.setState(0x42b9, 0x3060, 0x9fd0, 0x7466, 0x1fdb, 0x7bf1, 0x1, 0x0);
        gbc.writeMem(0x42b9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3060);
        EXPECT(gbc.pc(), 0x42ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 003E
        gbc.setState(0xd05, 0xbe4e, 0xcee0, 0xfa5d, 0xb5b0, 0x401, 0x0, 0x0);
        gbc.writeMem(0xd05, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xbe4e);
        EXPECT(gbc.pc(), 0xd06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 003F
        gbc.setState(0xa55a, 0xc776, 0x4560, 0xae16, 0x1a2b, 0x58cf, 0x1, 0x0);
        gbc.writeMem(0xa55a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc776);
        EXPECT(gbc.pc(), 0xa55b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa55a), 0x89);
        // 89 0040
        gbc.setState(0x9bff, 0x24fc, 0x9250, 0xb884, 0x3d86, 0x8318, 0x0, 0x1);
        gbc.writeMem(0x9bff, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x24fc);
        EXPECT(gbc.pc(), 0x9c00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bff), 0x89);
        // 89 0041
        gbc.setState(0x349e, 0xca9a, 0x4940, 0x2cb8, 0x5176, 0x982c, 0x1, 0x0);
        gbc.writeMem(0x349e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xca9a);
        EXPECT(gbc.pc(), 0x349f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0042
        gbc.setState(0xe6ce, 0x4799, 0xfef0, 0xf452, 0x6322, 0x3006, 0x0, 0x1);
        gbc.writeMem(0xe6ce, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4799);
        EXPECT(gbc.pc(), 0xe6cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6ce), 0x89);
        // 89 0043
        gbc.setState(0x6e2f, 0x7418, 0x4ea0, 0x59d, 0xc1a0, 0xf8bc, 0x1, 0x0);
        gbc.writeMem(0x6e2f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7418);
        EXPECT(gbc.pc(), 0x6e30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0044
        gbc.setState(0x3b5, 0xb77b, 0xcf20, 0xb339, 0x3388, 0xf998, 0x1, 0x1);
        gbc.writeMem(0x3b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb77b);
        EXPECT(gbc.pc(), 0x3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0045
        gbc.setState(0x3d9d, 0xc18b, 0xf80, 0xf8b9, 0x9ce2, 0x81e0, 0x1, 0x1);
        gbc.writeMem(0x3d9d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc18b);
        EXPECT(gbc.pc(), 0x3d9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0046
        gbc.setState(0x1d5, 0x5c96, 0x6530, 0x6c2f, 0x6b9f, 0xa7c, 0x1, 0x1);
        gbc.writeMem(0x1d5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5c96);
        EXPECT(gbc.pc(), 0x1d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0047
        gbc.setState(0x7e42, 0xd7d6, 0x4560, 0x8bc3, 0xd24, 0x683b, 0x0, 0x1);
        gbc.writeMem(0x7e42, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd7d6);
        EXPECT(gbc.pc(), 0x7e43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0048
        gbc.setState(0x4ae3, 0x9546, 0xcf50, 0xeaf3, 0xc529, 0x37ad, 0x1, 0x0);
        gbc.writeMem(0x4ae3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9546);
        EXPECT(gbc.pc(), 0x4ae4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0049
        gbc.setState(0xa8e2, 0x5539, 0xc480, 0x4fb0, 0x5699, 0x5059, 0x1, 0x1);
        gbc.writeMem(0xa8e2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x5539);
        EXPECT(gbc.pc(), 0xa8e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8e2), 0x89);
        // 89 004B
        gbc.setState(0xd42b, 0xe8e, 0xad60, 0x8a99, 0x15f4, 0x586d, 0x1, 0x0);
        gbc.writeMem(0xd42b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe8e);
        EXPECT(gbc.pc(), 0xd42c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd42b), 0x89);
        // 89 004C
        gbc.setState(0xdc8d, 0x3526, 0xc900, 0xe930, 0x53c, 0x1858, 0x1, 0x1);
        gbc.writeMem(0xdc8d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3526);
        EXPECT(gbc.pc(), 0xdc8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc8d), 0x89);
        // 89 004D
        gbc.setState(0x1163, 0xc3ba, 0x2720, 0xda6, 0x9258, 0x3636, 0x0, 0x1);
        gbc.writeMem(0x1163, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc3ba);
        EXPECT(gbc.pc(), 0x1164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 004E
        gbc.setState(0x2d00, 0xbbd6, 0x9450, 0xd1e3, 0x85c0, 0x7f07, 0x0, 0x0);
        gbc.writeMem(0x2d00, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xbbd6);
        EXPECT(gbc.pc(), 0x2d01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0050
        gbc.setState(0x1450, 0xc510, 0xa990, 0x812f, 0xb3c4, 0x3094, 0x0, 0x0);
        gbc.writeMem(0x1450, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xc510);
        EXPECT(gbc.pc(), 0x1451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0051
        gbc.setState(0x7620, 0x562d, 0x5b10, 0x4683, 0xd5eb, 0x9c12, 0x0, 0x0);
        gbc.writeMem(0x7620, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x562d);
        EXPECT(gbc.pc(), 0x7621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0052
        gbc.setState(0x87cb, 0x45b5, 0x9c90, 0x2ca0, 0xc998, 0xdbac, 0x0, 0x0);
        gbc.writeMem(0x87cb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x45b5);
        EXPECT(gbc.pc(), 0x87cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87cb), 0x89);
        // 89 0053
        gbc.setState(0x925a, 0xc920, 0xe810, 0xfb3d, 0xa925, 0x4631, 0x0, 0x0);
        gbc.writeMem(0x925a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc920);
        EXPECT(gbc.pc(), 0x925b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x925a), 0x89);
        // 89 0054
        gbc.setState(0x3b30, 0x3f9b, 0x66d0, 0x7c8a, 0x1a2c, 0x4cc7, 0x0, 0x0);
        gbc.writeMem(0x3b30, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x3f9b);
        EXPECT(gbc.pc(), 0x3b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0056
        gbc.setState(0x307a, 0x5978, 0xbea0, 0x78e9, 0xbf81, 0xc26b, 0x1, 0x0);
        gbc.writeMem(0x307a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5978);
        EXPECT(gbc.pc(), 0x307b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0057
        gbc.setState(0x9236, 0x7824, 0xad40, 0xc9de, 0xcd63, 0x8ce, 0x1, 0x1);
        gbc.writeMem(0x9236, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7824);
        EXPECT(gbc.pc(), 0x9237);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9236), 0x89);
        // 89 0058
        gbc.setState(0xa8ba, 0x6d68, 0xd240, 0x81ca, 0x2919, 0x31, 0x0, 0x1);
        gbc.writeMem(0xa8ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6d68);
        EXPECT(gbc.pc(), 0xa8bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8ba), 0x89);
        // 89 0059
        gbc.setState(0x62b9, 0x1704, 0xf100, 0x5d73, 0x5fd7, 0x3e3b, 0x0, 0x0);
        gbc.writeMem(0x62b9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1704);
        EXPECT(gbc.pc(), 0x62ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 005A
        gbc.setState(0xa14a, 0xd250, 0xd0a0, 0xd9b8, 0x4e2d, 0x8796, 0x0, 0x0);
        gbc.writeMem(0xa14a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd250);
        EXPECT(gbc.pc(), 0xa14b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa14a), 0x89);
        // 89 005B
        gbc.setState(0x3b04, 0x64ec, 0x4520, 0x40ad, 0xc044, 0x7208, 0x1, 0x1);
        gbc.writeMem(0x3b04, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x64ec);
        EXPECT(gbc.pc(), 0x3b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 005C
        gbc.setState(0x3b15, 0x1590, 0x3490, 0xde4f, 0x2c6, 0xb1ae, 0x0, 0x1);
        gbc.writeMem(0x3b15, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1590);
        EXPECT(gbc.pc(), 0x3b16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 005D
        gbc.setState(0xd665, 0xf3c2, 0xe4b0, 0xa435, 0x75eb, 0x8385, 0x1, 0x0);
        gbc.writeMem(0xd665, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xf3c2);
        EXPECT(gbc.pc(), 0xd666);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd665), 0x89);
        // 89 005E
        gbc.setState(0xedea, 0x3b0d, 0x8650, 0x4a45, 0xeb3e, 0x8852, 0x1, 0x0);
        gbc.writeMem(0xedea, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3b0d);
        EXPECT(gbc.pc(), 0xedeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedea), 0x89);
        // 89 005F
        gbc.setState(0x82ed, 0x3865, 0x4f50, 0xbfc1, 0xb19b, 0xa47a, 0x0, 0x1);
        gbc.writeMem(0x82ed, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x3865);
        EXPECT(gbc.pc(), 0x82ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82ed), 0x89);
        // 89 0060
        gbc.setState(0xd061, 0x32dc, 0x25d0, 0xbefd, 0x5094, 0x3951, 0x1, 0x1);
        gbc.writeMem(0xd061, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x32dc);
        EXPECT(gbc.pc(), 0xd062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd061), 0x89);
        // 89 0061
        gbc.setState(0x66ac, 0xa456, 0xf460, 0x1639, 0xab0a, 0x771, 0x1, 0x0);
        gbc.writeMem(0x66ac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa456);
        EXPECT(gbc.pc(), 0x66ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0062
        gbc.setState(0x936d, 0x7655, 0x6600, 0x93f8, 0x9226, 0xc5f1, 0x1, 0x1);
        gbc.writeMem(0x936d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7655);
        EXPECT(gbc.pc(), 0x936e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x936d), 0x89);
        // 89 0063
        gbc.setState(0x935d, 0x50f8, 0x1730, 0x9f40, 0x2e60, 0xe69b, 0x1, 0x1);
        gbc.writeMem(0x935d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x50f8);
        EXPECT(gbc.pc(), 0x935e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x935d), 0x89);
        // 89 0064
        gbc.setState(0x35b5, 0xb692, 0xf400, 0x78bf, 0x5932, 0x3a9b, 0x0, 0x1);
        gbc.writeMem(0x35b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb692);
        EXPECT(gbc.pc(), 0x35b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0065
        gbc.setState(0x48ec, 0x2d81, 0xaa40, 0x386c, 0x1174, 0xe6cf, 0x1, 0x0);
        gbc.writeMem(0x48ec, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x2d81);
        EXPECT(gbc.pc(), 0x48ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0066
        gbc.setState(0x7139, 0xdf63, 0x29f0, 0x5c79, 0xd5f1, 0xfe60, 0x1, 0x0);
        gbc.writeMem(0x7139, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xdf63);
        EXPECT(gbc.pc(), 0x713a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0067
        gbc.setState(0xdbf0, 0x6d1e, 0x15b0, 0x7fc5, 0xe418, 0xffc2, 0x1, 0x0);
        gbc.writeMem(0xdbf0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6d1e);
        EXPECT(gbc.pc(), 0xdbf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbf0), 0x89);
        // 89 006A
        gbc.setState(0xe643, 0xa755, 0x1230, 0x3c35, 0x24a, 0xf125, 0x0, 0x1);
        gbc.writeMem(0xe643, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa755);
        EXPECT(gbc.pc(), 0xe644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe643), 0x89);
        // 89 006B
        gbc.setState(0x3938, 0x5e91, 0x2fb0, 0xe058, 0xa9ee, 0xc30d, 0x1, 0x1);
        gbc.writeMem(0x3938, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5e91);
        EXPECT(gbc.pc(), 0x3939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 006C
        gbc.setState(0xcf4b, 0x4ea9, 0x4b60, 0xfccb, 0xa37a, 0xb0a0, 0x0, 0x0);
        gbc.writeMem(0xcf4b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4ea9);
        EXPECT(gbc.pc(), 0xcf4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf4b), 0x89);
        // 89 006D
        gbc.setState(0x5985, 0x9928, 0xc0f0, 0x91ac, 0x82df, 0x54ac, 0x1, 0x0);
        gbc.writeMem(0x5985, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9928);
        EXPECT(gbc.pc(), 0x5986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 006E
        gbc.setState(0x87a9, 0xf0d4, 0xaf80, 0x153c, 0xa88d, 0x3905, 0x1, 0x0);
        gbc.writeMem(0x87a9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf0d4);
        EXPECT(gbc.pc(), 0x87aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a9), 0x89);
        // 89 006F
        gbc.setState(0x1f74, 0x2263, 0x1fc0, 0x41ab, 0xcf6f, 0x6a6b, 0x1, 0x0);
        gbc.writeMem(0x1f74, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2263);
        EXPECT(gbc.pc(), 0x1f75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0070
        gbc.setState(0xc07c, 0x2800, 0xb370, 0x8134, 0x3f38, 0xae3d, 0x0, 0x0);
        gbc.writeMem(0xc07c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2800);
        EXPECT(gbc.pc(), 0xc07d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc07c), 0x89);
        // 89 0071
        gbc.setState(0xcdf4, 0x695d, 0xf50, 0x390f, 0xe636, 0xc033, 0x0, 0x1);
        gbc.writeMem(0xcdf4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x695d);
        EXPECT(gbc.pc(), 0xcdf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf4), 0x89);
        // 89 0072
        gbc.setState(0x73b6, 0x94b0, 0xed00, 0xed3a, 0x11b5, 0xc7e9, 0x0, 0x0);
        gbc.writeMem(0x73b6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x94b0);
        EXPECT(gbc.pc(), 0x73b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0074
        gbc.setState(0x71b, 0x65fb, 0xf960, 0xa17b, 0x1da0, 0x3a9c, 0x0, 0x1);
        gbc.writeMem(0x71b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x65fb);
        EXPECT(gbc.pc(), 0x71c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0075
        gbc.setState(0xcb12, 0x12cf, 0x59b0, 0xdb95, 0x26ee, 0x79ec, 0x1, 0x1);
        gbc.writeMem(0xcb12, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x12cf);
        EXPECT(gbc.pc(), 0xcb13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb12), 0x89);
        // 89 0076
        gbc.setState(0xaf03, 0x51f8, 0x3e40, 0xe601, 0xa5fb, 0x5e4e, 0x1, 0x0);
        gbc.writeMem(0xaf03, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x51f8);
        EXPECT(gbc.pc(), 0xaf04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf03), 0x89);
        // 89 0077
        gbc.setState(0x5493, 0x2993, 0x5cb0, 0xb486, 0xeab7, 0x5488, 0x0, 0x1);
        gbc.writeMem(0x5493, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2993);
        EXPECT(gbc.pc(), 0x5494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0078
        gbc.setState(0x9548, 0x3bb9, 0x7450, 0x1764, 0x2eb9, 0x4e39, 0x0, 0x1);
        gbc.writeMem(0x9548, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3bb9);
        EXPECT(gbc.pc(), 0x9549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9548), 0x89);
        // 89 0079
        gbc.setState(0x3dfe, 0xfcf, 0x2cd0, 0x4fbb, 0xed5f, 0x88f, 0x1, 0x1);
        gbc.writeMem(0x3dfe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfcf);
        EXPECT(gbc.pc(), 0x3dff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 007A
        gbc.setState(0xbf98, 0x556, 0x3350, 0x5c1b, 0x86b1, 0xc44, 0x1, 0x0);
        gbc.writeMem(0xbf98, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x556);
        EXPECT(gbc.pc(), 0xbf99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf98), 0x89);
        // 89 007B
        gbc.setState(0x26f1, 0x4a42, 0x5c60, 0xf59c, 0xadb7, 0xcfbf, 0x1, 0x0);
        gbc.writeMem(0x26f1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4a42);
        EXPECT(gbc.pc(), 0x26f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 007C
        gbc.setState(0x83ac, 0x7b63, 0xe4c0, 0xb341, 0x1bb6, 0x114a, 0x0, 0x1);
        gbc.writeMem(0x83ac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7b63);
        EXPECT(gbc.pc(), 0x83ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ac), 0x89);
        // 89 007D
        gbc.setState(0x570e, 0xa159, 0x7060, 0xdd88, 0x5c18, 0x3f9, 0x0, 0x1);
        gbc.writeMem(0x570e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa159);
        EXPECT(gbc.pc(), 0x570f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 007E
        gbc.setState(0x8cf6, 0xd8a9, 0x1de0, 0xab3d, 0xa4af, 0x1be2, 0x0, 0x1);
        gbc.writeMem(0x8cf6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd8a9);
        EXPECT(gbc.pc(), 0x8cf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cf6), 0x89);
        // 89 007F
        gbc.setState(0x37e4, 0x3d14, 0x9020, 0x8140, 0x937d, 0x5652, 0x0, 0x0);
        gbc.writeMem(0x37e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3d14);
        EXPECT(gbc.pc(), 0x37e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0080
        gbc.setState(0xdc2c, 0x6c8, 0xda20, 0xa1a8, 0x45ea, 0x509e, 0x0, 0x1);
        gbc.writeMem(0xdc2c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6c8);
        EXPECT(gbc.pc(), 0xdc2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc2c), 0x89);
        // 89 0081
        gbc.setState(0x500, 0x1efb, 0xdad0, 0xf19b, 0xee0, 0x37c8, 0x0, 0x0);
        gbc.writeMem(0x500, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x1efb);
        EXPECT(gbc.pc(), 0x501);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0082
        gbc.setState(0xcd2f, 0xd506, 0x2b70, 0xe8f8, 0xe288, 0x92db, 0x1, 0x1);
        gbc.writeMem(0xcd2f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd506);
        EXPECT(gbc.pc(), 0xcd30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd2f), 0x89);
        // 89 0083
        gbc.setState(0x259f, 0xc3df, 0x9d30, 0x8a5e, 0x9642, 0x4571, 0x1, 0x0);
        gbc.writeMem(0x259f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc3df);
        EXPECT(gbc.pc(), 0x25a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0084
        gbc.setState(0x5f03, 0xe62a, 0xd9c0, 0xbb6d, 0x90ef, 0x2048, 0x0, 0x1);
        gbc.writeMem(0x5f03, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe62a);
        EXPECT(gbc.pc(), 0x5f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0085
        gbc.setState(0x4827, 0xfe0d, 0x2530, 0xafaa, 0x4313, 0x4129, 0x0, 0x0);
        gbc.writeMem(0x4827, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfe0d);
        EXPECT(gbc.pc(), 0x4828);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0086
        gbc.setState(0xa93, 0x1b6a, 0x8420, 0x4fd, 0x6184, 0xd85, 0x0, 0x1);
        gbc.writeMem(0xa93, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1b6a);
        EXPECT(gbc.pc(), 0xa94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0087
        gbc.setState(0x50d4, 0xab58, 0x17e0, 0x4f20, 0xe9f5, 0xc36e, 0x1, 0x1);
        gbc.writeMem(0x50d4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xab58);
        EXPECT(gbc.pc(), 0x50d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0088
        gbc.setState(0xdfc7, 0x9a6, 0xe550, 0xb629, 0x586b, 0xf984, 0x0, 0x1);
        gbc.writeMem(0xdfc7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9a6);
        EXPECT(gbc.pc(), 0xdfc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfc7), 0x89);
        // 89 0089
        gbc.setState(0xd7bc, 0xc984, 0xaa00, 0x1a89, 0x8af5, 0x5956, 0x0, 0x1);
        gbc.writeMem(0xd7bc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc984);
        EXPECT(gbc.pc(), 0xd7bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7bc), 0x89);
        // 89 008A
        gbc.setState(0x9ed0, 0x8fbf, 0x53b0, 0x5ba4, 0x4470, 0x89b3, 0x1, 0x0);
        gbc.writeMem(0x9ed0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8fbf);
        EXPECT(gbc.pc(), 0x9ed1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ed0), 0x89);
        // 89 008B
        gbc.setState(0x1bb7, 0x8ef4, 0x43c0, 0xb4d7, 0x8bda, 0x34a8, 0x1, 0x0);
        gbc.writeMem(0x1bb7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x8ef4);
        EXPECT(gbc.pc(), 0x1bb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 008C
        gbc.setState(0x1236, 0xecdb, 0xe5e0, 0xca21, 0x4c57, 0x5ea4, 0x0, 0x1);
        gbc.writeMem(0x1236, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xecdb);
        EXPECT(gbc.pc(), 0x1237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 008D
        gbc.setState(0x7183, 0x9138, 0x69e0, 0xfa2f, 0xea3a, 0x9397, 0x0, 0x1);
        gbc.writeMem(0x7183, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9138);
        EXPECT(gbc.pc(), 0x7184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 008E
        gbc.setState(0x4d72, 0x559e, 0x1e90, 0x6592, 0x779a, 0xad3b, 0x0, 0x0);
        gbc.writeMem(0x4d72, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x559e);
        EXPECT(gbc.pc(), 0x4d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 008F
        gbc.setState(0x970d, 0x6e77, 0xab50, 0x6952, 0x8249, 0x1c63, 0x0, 0x1);
        gbc.writeMem(0x970d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6e77);
        EXPECT(gbc.pc(), 0x970e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x970d), 0x89);
        // 89 0090
        gbc.setState(0xd029, 0xa892, 0x7d50, 0xe8a4, 0xc0b7, 0xfb50, 0x0, 0x1);
        gbc.writeMem(0xd029, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa892);
        EXPECT(gbc.pc(), 0xd02a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd029), 0x89);
        // 89 0091
        gbc.setState(0x52b4, 0xe1a8, 0xb340, 0x7a24, 0x9591, 0x4c52, 0x1, 0x0);
        gbc.writeMem(0x52b4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe1a8);
        EXPECT(gbc.pc(), 0x52b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0092
        gbc.setState(0x958f, 0xcd9d, 0xec90, 0x89fd, 0x1a72, 0xddf9, 0x1, 0x0);
        gbc.writeMem(0x958f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xcd9d);
        EXPECT(gbc.pc(), 0x9590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958f), 0x89);
        // 89 0093
        gbc.setState(0x696, 0xc730, 0x18a0, 0x3b92, 0xbc4f, 0x19b7, 0x1, 0x0);
        gbc.writeMem(0x696, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc730);
        EXPECT(gbc.pc(), 0x697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0094
        gbc.setState(0x66ba, 0x53ba, 0x5cb0, 0xc822, 0x2615, 0xd7cd, 0x1, 0x1);
        gbc.writeMem(0x66ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x53ba);
        EXPECT(gbc.pc(), 0x66bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0095
        gbc.setState(0xe902, 0x5c6a, 0xcbd0, 0xd854, 0xd0c0, 0x6ee, 0x0, 0x0);
        gbc.writeMem(0xe902, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5c6a);
        EXPECT(gbc.pc(), 0xe903);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe902), 0x89);
        // 89 0096
        gbc.setState(0x4a38, 0x599, 0x3600, 0xdead, 0x6239, 0x6add, 0x0, 0x0);
        gbc.writeMem(0x4a38, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x599);
        EXPECT(gbc.pc(), 0x4a39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0097
        gbc.setState(0xa2f1, 0x330, 0xba80, 0x9cfe, 0x5ea8, 0xc115, 0x1, 0x1);
        gbc.writeMem(0xa2f1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x330);
        EXPECT(gbc.pc(), 0xa2f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2f1), 0x89);
        // 89 0098
        gbc.setState(0x97f4, 0x462f, 0x24f0, 0xf30a, 0x671b, 0xc627, 0x0, 0x1);
        gbc.writeMem(0x97f4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x462f);
        EXPECT(gbc.pc(), 0x97f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f4), 0x89);
        // 89 0099
        gbc.setState(0xaca7, 0x4f7c, 0x9fd0, 0x9297, 0xa70, 0xe255, 0x0, 0x0);
        gbc.writeMem(0xaca7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4f7c);
        EXPECT(gbc.pc(), 0xaca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaca7), 0x89);
        // 89 009A
        gbc.setState(0xdffe, 0x5f34, 0xd390, 0xb0f3, 0xaf7, 0xa1ba, 0x0, 0x0);
        gbc.writeMem(0xdffe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5f34);
        EXPECT(gbc.pc(), 0xdfff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdffe), 0x89);
        // 89 009B
        gbc.setState(0x544e, 0xf7d5, 0xee50, 0xdd23, 0x2c8d, 0x7f5f, 0x1, 0x0);
        gbc.writeMem(0x544e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf7d5);
        EXPECT(gbc.pc(), 0x544f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 009C
        gbc.setState(0xd852, 0x9049, 0x67b0, 0xef1a, 0x2908, 0x79b0, 0x1, 0x1);
        gbc.writeMem(0xd852, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9049);
        EXPECT(gbc.pc(), 0xd853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd852), 0x89);
        // 89 009D
        gbc.setState(0x8296, 0x4d67, 0x5420, 0x9c22, 0x9fcd, 0x46f5, 0x1, 0x1);
        gbc.writeMem(0x8296, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4d67);
        EXPECT(gbc.pc(), 0x8297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8296), 0x89);
        // 89 009E
        gbc.setState(0x715b, 0x7d10, 0x55b0, 0xad2b, 0x6c9f, 0x41df, 0x1, 0x1);
        gbc.writeMem(0x715b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7d10);
        EXPECT(gbc.pc(), 0x715c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 009F
        gbc.setState(0x1f52, 0x7c97, 0x5520, 0xaa6f, 0x18ff, 0x1b17, 0x1, 0x1);
        gbc.writeMem(0x1f52, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7c97);
        EXPECT(gbc.pc(), 0x1f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00A0
        gbc.setState(0xad7, 0x47b3, 0x3610, 0x4010, 0xf5, 0x192e, 0x0, 0x0);
        gbc.writeMem(0xad7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x47b3);
        EXPECT(gbc.pc(), 0xad8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00A1
        gbc.setState(0x7ecc, 0x4481, 0x3ae0, 0xc6a2, 0x5b24, 0xf2dd, 0x1, 0x0);
        gbc.writeMem(0x7ecc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4481);
        EXPECT(gbc.pc(), 0x7ecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00A2
        gbc.setState(0xc74c, 0x19d7, 0xb310, 0x6b64, 0x6015, 0x86b1, 0x0, 0x0);
        gbc.writeMem(0xc74c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x19d7);
        EXPECT(gbc.pc(), 0xc74d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc74c), 0x89);
        // 89 00A3
        gbc.setState(0xaeca, 0xbd78, 0x7fe0, 0x4c2f, 0xfb8, 0x2849, 0x1, 0x1);
        gbc.writeMem(0xaeca, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbd78);
        EXPECT(gbc.pc(), 0xaecb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeca), 0x89);
        // 89 00A4
        gbc.setState(0x6097, 0xb9c5, 0x29b0, 0x1597, 0xed23, 0x4c9e, 0x1, 0x1);
        gbc.writeMem(0x6097, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb9c5);
        EXPECT(gbc.pc(), 0x6098);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00A5
        gbc.setState(0x7db0, 0x840, 0x1e00, 0x5cb8, 0xba13, 0x63da, 0x0, 0x1);
        gbc.writeMem(0x7db0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x840);
        EXPECT(gbc.pc(), 0x7db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00A6
        gbc.setState(0x69b5, 0x3029, 0xde20, 0x4b37, 0x318b, 0x3a1c, 0x0, 0x0);
        gbc.writeMem(0x69b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3029);
        EXPECT(gbc.pc(), 0x69b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00A7
        gbc.setState(0x207c, 0x6db9, 0xa620, 0x5bc0, 0xc31, 0x834b, 0x0, 0x1);
        gbc.writeMem(0x207c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x6db9);
        EXPECT(gbc.pc(), 0x207d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00A8
        gbc.setState(0x6e87, 0x9d85, 0x3a20, 0x2e8a, 0x3585, 0x9aa9, 0x1, 0x1);
        gbc.writeMem(0x6e87, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9d85);
        EXPECT(gbc.pc(), 0x6e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00A9
        gbc.setState(0x2248, 0x65da, 0x4260, 0xb0dc, 0xf3ee, 0xefe, 0x0, 0x1);
        gbc.writeMem(0x2248, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x65da);
        EXPECT(gbc.pc(), 0x2249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00AA
        gbc.setState(0x25db, 0x11e1, 0x3b00, 0xf820, 0xe4a1, 0xe696, 0x0, 0x1);
        gbc.writeMem(0x25db, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x11e1);
        EXPECT(gbc.pc(), 0x25dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00AB
        gbc.setState(0x3291, 0xa472, 0x2c30, 0xe239, 0xfe90, 0x9998, 0x0, 0x0);
        gbc.writeMem(0x3291, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xa472);
        EXPECT(gbc.pc(), 0x3292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00AC
        gbc.setState(0x12f2, 0x83d9, 0x6dc0, 0x7b9a, 0xf202, 0x2e77, 0x1, 0x1);
        gbc.writeMem(0x12f2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x83d9);
        EXPECT(gbc.pc(), 0x12f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00AD
        gbc.setState(0x2dcc, 0x7cb7, 0x4bf0, 0x5394, 0xff96, 0x7075, 0x0, 0x1);
        gbc.writeMem(0x2dcc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x7cb7);
        EXPECT(gbc.pc(), 0x2dcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00AE
        gbc.setState(0xab26, 0xdca8, 0xdd40, 0xf3ab, 0x45c8, 0xe28, 0x0, 0x0);
        gbc.writeMem(0xab26, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdca8);
        EXPECT(gbc.pc(), 0xab27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab26), 0x89);
        // 89 00AF
        gbc.setState(0xd651, 0x61a5, 0xa220, 0x65cf, 0x3e8e, 0x5102, 0x0, 0x0);
        gbc.writeMem(0xd651, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x61a5);
        EXPECT(gbc.pc(), 0xd652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd651), 0x89);
        // 89 00B0
        gbc.setState(0x8d6c, 0xe12e, 0x1000, 0x8f04, 0x570f, 0x3fd, 0x1, 0x1);
        gbc.writeMem(0x8d6c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe12e);
        EXPECT(gbc.pc(), 0x8d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6c), 0x89);
        // 89 00B1
        gbc.setState(0x793b, 0xf241, 0x2e50, 0x830, 0xad55, 0x78ef, 0x0, 0x1);
        gbc.writeMem(0x793b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf241);
        EXPECT(gbc.pc(), 0x793c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00B3
        gbc.setState(0x14eb, 0x4088, 0x3d0, 0xbe72, 0xfeff, 0xf5ec, 0x0, 0x1);
        gbc.writeMem(0x14eb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4088);
        EXPECT(gbc.pc(), 0x14ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00B4
        gbc.setState(0x2b24, 0x8a7a, 0x8a0, 0x95ae, 0x9582, 0xf419, 0x1, 0x1);
        gbc.writeMem(0x2b24, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8a7a);
        EXPECT(gbc.pc(), 0x2b25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00B5
        gbc.setState(0xa9db, 0x1243, 0xddb0, 0x5489, 0x5c2, 0x7e25, 0x0, 0x1);
        gbc.writeMem(0xa9db, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1243);
        EXPECT(gbc.pc(), 0xa9dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9db), 0x89);
        // 89 00B6
        gbc.setState(0xcfd7, 0x1a1e, 0xc890, 0xf8ed, 0xb1a0, 0xab49, 0x0, 0x1);
        gbc.writeMem(0xcfd7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1a1e);
        EXPECT(gbc.pc(), 0xcfd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfd7), 0x89);
        // 89 00B7
        gbc.setState(0x46ff, 0x99b3, 0x15e0, 0x5d7b, 0xf915, 0x9f74, 0x0, 0x0);
        gbc.writeMem(0x46ff, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x99b3);
        EXPECT(gbc.pc(), 0x4700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00B8
        gbc.setState(0x7daf, 0x36d9, 0xf60, 0xd71b, 0x2fbd, 0xbd98, 0x0, 0x0);
        gbc.writeMem(0x7daf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x36d9);
        EXPECT(gbc.pc(), 0x7db0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00B9
        gbc.setState(0xe57d, 0x8009, 0xd930, 0xdc8c, 0xa88e, 0x3d84, 0x1, 0x0);
        gbc.writeMem(0xe57d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8009);
        EXPECT(gbc.pc(), 0xe57e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe57d), 0x89);
        // 89 00BA
        gbc.setState(0xc1f8, 0xb173, 0x2860, 0x4d2, 0xb4ce, 0x5870, 0x0, 0x0);
        gbc.writeMem(0xc1f8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb173);
        EXPECT(gbc.pc(), 0xc1f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1f8), 0x89);
        // 89 00BC
        gbc.setState(0xdce3, 0xcdbf, 0x62e0, 0x7f0a, 0xbb10, 0xc9c0, 0x0, 0x0);
        gbc.writeMem(0xdce3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xcdbf);
        EXPECT(gbc.pc(), 0xdce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce3), 0x89);
        // 89 00BD
        gbc.setState(0xe7ab, 0x674, 0xe5f0, 0xc6ff, 0x14d7, 0xaffa, 0x0, 0x0);
        gbc.writeMem(0xe7ab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x674);
        EXPECT(gbc.pc(), 0xe7ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ab), 0x89);
        // 89 00BE
        gbc.setState(0x2dbe, 0x5aa8, 0x2f60, 0x9ffd, 0xe7f3, 0xc4f0, 0x1, 0x0);
        gbc.writeMem(0x2dbe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5aa8);
        EXPECT(gbc.pc(), 0x2dbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00BF
        gbc.setState(0x79c5, 0xf13, 0x60d0, 0xe1ff, 0x72b6, 0x3d42, 0x1, 0x0);
        gbc.writeMem(0x79c5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf13);
        EXPECT(gbc.pc(), 0x79c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00C0
        gbc.setState(0xdc5f, 0xa2d2, 0x550, 0xb43d, 0xced9, 0x6349, 0x1, 0x1);
        gbc.writeMem(0xdc5f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa2d2);
        EXPECT(gbc.pc(), 0xdc60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5f), 0x89);
        // 89 00C1
        gbc.setState(0x4750, 0x6b3, 0xfd60, 0x33b0, 0x5815, 0x7b84, 0x1, 0x0);
        gbc.writeMem(0x4750, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6b3);
        EXPECT(gbc.pc(), 0x4751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00C2
        gbc.setState(0xdbcf, 0xfa34, 0xd5c0, 0xcb51, 0x3ba7, 0x4866, 0x1, 0x0);
        gbc.writeMem(0xdbcf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xfa34);
        EXPECT(gbc.pc(), 0xdbd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbcf), 0x89);
        // 89 00C3
        gbc.setState(0x2bee, 0x99e3, 0x6710, 0x727b, 0x466b, 0xca36, 0x0, 0x1);
        gbc.writeMem(0x2bee, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x99e3);
        EXPECT(gbc.pc(), 0x2bef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00C4
        gbc.setState(0x9d16, 0x13e5, 0x1350, 0x50c3, 0xcc9c, 0xa4bd, 0x1, 0x1);
        gbc.writeMem(0x9d16, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x13e5);
        EXPECT(gbc.pc(), 0x9d17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d16), 0x89);
        // 89 00C5
        gbc.setState(0xd73, 0x2cd0, 0x8b30, 0x7e81, 0x6d2a, 0xa48d, 0x0, 0x0);
        gbc.writeMem(0xd73, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2cd0);
        EXPECT(gbc.pc(), 0xd74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00C6
        gbc.setState(0x97e8, 0xf767, 0xe090, 0xb1a0, 0xf7dc, 0xcc6e, 0x0, 0x0);
        gbc.writeMem(0x97e8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf767);
        EXPECT(gbc.pc(), 0x97e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e8), 0x89);
        // 89 00C7
        gbc.setState(0xe38, 0x38f1, 0x51b0, 0x7f8a, 0x4bee, 0x2d27, 0x1, 0x0);
        gbc.writeMem(0xe38, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x38f1);
        EXPECT(gbc.pc(), 0xe39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00C8
        gbc.setState(0x1139, 0xbcb1, 0xecf0, 0x3aed, 0xf315, 0x1e2e, 0x0, 0x1);
        gbc.writeMem(0x1139, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xbcb1);
        EXPECT(gbc.pc(), 0x113a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00C9
        gbc.setState(0xdafc, 0x5385, 0x8d40, 0xb252, 0xb2d, 0x9212, 0x0, 0x1);
        gbc.writeMem(0xdafc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5385);
        EXPECT(gbc.pc(), 0xdafd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdafc), 0x89);
        // 89 00CA
        gbc.setState(0xda21, 0x8f09, 0x1630, 0x3989, 0x1612, 0x8eb4, 0x1, 0x1);
        gbc.writeMem(0xda21, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8f09);
        EXPECT(gbc.pc(), 0xda22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda21), 0x89);
        // 89 00CB
        gbc.setState(0xbad6, 0x7a2d, 0x4b70, 0xb2a3, 0x77b5, 0xc10a, 0x1, 0x1);
        gbc.writeMem(0xbad6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x7a2d);
        EXPECT(gbc.pc(), 0xbad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad6), 0x89);
        // 89 00CC
        gbc.setState(0x2165, 0x7f7c, 0x8cf0, 0x3587, 0x93a5, 0x423a, 0x0, 0x1);
        gbc.writeMem(0x2165, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x7f7c);
        EXPECT(gbc.pc(), 0x2166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00CD
        gbc.setState(0xc877, 0xaff9, 0xcaa0, 0x1707, 0x5ff, 0x7b16, 0x1, 0x0);
        gbc.writeMem(0xc877, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xaff9);
        EXPECT(gbc.pc(), 0xc878);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc877), 0x89);
        // 89 00CF
        gbc.setState(0x86c5, 0x3bd3, 0x7a80, 0x6a36, 0x54a, 0x4f, 0x0, 0x0);
        gbc.writeMem(0x86c5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3bd3);
        EXPECT(gbc.pc(), 0x86c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c5), 0x89);
        // 89 00D1
        gbc.setState(0xbb70, 0xa097, 0x8250, 0xb192, 0x6c52, 0xa94c, 0x1, 0x0);
        gbc.writeMem(0xbb70, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa097);
        EXPECT(gbc.pc(), 0xbb71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb70), 0x89);
        // 89 00D2
        gbc.setState(0xada, 0x8136, 0xa8b0, 0xd8db, 0xcb75, 0x86ac, 0x0, 0x0);
        gbc.writeMem(0xada, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x8136);
        EXPECT(gbc.pc(), 0xadb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00D3
        gbc.setState(0x9407, 0xb99c, 0xc5d0, 0x2c8c, 0xe40, 0xebad, 0x0, 0x0);
        gbc.writeMem(0x9407, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb99c);
        EXPECT(gbc.pc(), 0x9408);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9407), 0x89);
        // 89 00D4
        gbc.setState(0x3e97, 0xebda, 0xdb10, 0xd84c, 0x9cf5, 0x1642, 0x1, 0x1);
        gbc.writeMem(0x3e97, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xebda);
        EXPECT(gbc.pc(), 0x3e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00D5
        gbc.setState(0x8f23, 0x490, 0xbd80, 0x6b32, 0x981c, 0x402e, 0x0, 0x0);
        gbc.writeMem(0x8f23, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x490);
        EXPECT(gbc.pc(), 0x8f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f23), 0x89);
        // 89 00D6
        gbc.setState(0xcdec, 0x7bc5, 0xbea0, 0xb6bf, 0xc62a, 0x854, 0x0, 0x0);
        gbc.writeMem(0xcdec, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7bc5);
        EXPECT(gbc.pc(), 0xcded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdec), 0x89);
        // 89 00D7
        gbc.setState(0xdfe5, 0xcae4, 0x1990, 0x4417, 0x5bfe, 0x82f6, 0x0, 0x1);
        gbc.writeMem(0xdfe5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcae4);
        EXPECT(gbc.pc(), 0xdfe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe5), 0x89);
        // 89 00D8
        gbc.setState(0x8e43, 0x904b, 0x9bb0, 0x3d70, 0x4004, 0xb00a, 0x1, 0x0);
        gbc.writeMem(0x8e43, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x904b);
        EXPECT(gbc.pc(), 0x8e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e43), 0x89);
        // 89 00D9
        gbc.setState(0x8e5e, 0x7d38, 0xd9c0, 0xbe70, 0x33d3, 0x5420, 0x1, 0x0);
        gbc.writeMem(0x8e5e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7d38);
        EXPECT(gbc.pc(), 0x8e5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5e), 0x89);
        // 89 00DA
        gbc.setState(0x8d8e, 0xe215, 0x8320, 0x93e, 0x46a, 0xa35e, 0x1, 0x0);
        gbc.writeMem(0x8d8e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xe215);
        EXPECT(gbc.pc(), 0x8d8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d8e), 0x89);
        // 89 00DB
        gbc.setState(0x1a38, 0xc7d7, 0x6fb0, 0xc654, 0xa3d2, 0x4867, 0x1, 0x0);
        gbc.writeMem(0x1a38, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc7d7);
        EXPECT(gbc.pc(), 0x1a39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00DC
        gbc.setState(0xe08, 0xc210, 0x77d0, 0xe8da, 0x6f13, 0x7df0, 0x1, 0x1);
        gbc.writeMem(0xe08, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xc210);
        EXPECT(gbc.pc(), 0xe09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00DE
        gbc.setState(0x33e8, 0x7271, 0x22f0, 0x7507, 0x399d, 0xe807, 0x0, 0x1);
        gbc.writeMem(0x33e8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7271);
        EXPECT(gbc.pc(), 0x33e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00DF
        gbc.setState(0xcca1, 0x911f, 0xd2f0, 0x4a2e, 0xb4c0, 0x633b, 0x0, 0x1);
        gbc.writeMem(0xcca1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x911f);
        EXPECT(gbc.pc(), 0xcca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcca1), 0x89);
        // 89 00E0
        gbc.setState(0xc856, 0xe546, 0x7a0, 0x1115, 0xbaf0, 0x3a8e, 0x0, 0x1);
        gbc.writeMem(0xc856, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe546);
        EXPECT(gbc.pc(), 0xc857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc856), 0x89);
        // 89 00E1
        gbc.setState(0x84ff, 0xf026, 0xbf60, 0x6496, 0x1df8, 0x158c, 0x0, 0x1);
        gbc.writeMem(0x84ff, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf026);
        EXPECT(gbc.pc(), 0x8500);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ff), 0x89);
        // 89 00E2
        gbc.setState(0x20eb, 0xa2b8, 0x2430, 0x4475, 0x21c2, 0xfd19, 0x1, 0x1);
        gbc.writeMem(0x20eb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa2b8);
        EXPECT(gbc.pc(), 0x20ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00E3
        gbc.setState(0x6c5d, 0xb7b1, 0xd520, 0xd5d6, 0xe3a8, 0xfa1, 0x0, 0x1);
        gbc.writeMem(0x6c5d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xb7b1);
        EXPECT(gbc.pc(), 0x6c5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00E4
        gbc.setState(0x270f, 0xaabf, 0x4190, 0xfd44, 0x87a7, 0x17be, 0x0, 0x1);
        gbc.writeMem(0x270f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xaabf);
        EXPECT(gbc.pc(), 0x2710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00E5
        gbc.setState(0x1727, 0x3b32, 0x8800, 0xe8e5, 0xdce3, 0x6db9, 0x0, 0x1);
        gbc.writeMem(0x1727, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3b32);
        EXPECT(gbc.pc(), 0x1728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00E6
        gbc.setState(0x7cc2, 0xa418, 0x6610, 0x1350, 0x84f9, 0x397b, 0x0, 0x0);
        gbc.writeMem(0x7cc2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xa418);
        EXPECT(gbc.pc(), 0x7cc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00E7
        gbc.setState(0xb827, 0x483a, 0x86b0, 0x524e, 0x2cb6, 0x705d, 0x1, 0x1);
        gbc.writeMem(0xb827, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x483a);
        EXPECT(gbc.pc(), 0xb828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb827), 0x89);
        // 89 00E8
        gbc.setState(0xc656, 0x4994, 0x7ba0, 0xb02, 0xede8, 0xddc2, 0x0, 0x1);
        gbc.writeMem(0xc656, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4994);
        EXPECT(gbc.pc(), 0xc657);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc656), 0x89);
        // 89 00E9
        gbc.setState(0x8251, 0x798d, 0x12c0, 0xa120, 0x5437, 0x21a2, 0x0, 0x1);
        gbc.writeMem(0x8251, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x798d);
        EXPECT(gbc.pc(), 0x8252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8251), 0x89);
        // 89 00EA
        gbc.setState(0x1e3e, 0x8319, 0x5520, 0x7f2d, 0x7f68, 0xeb02, 0x1, 0x0);
        gbc.writeMem(0x1e3e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8319);
        EXPECT(gbc.pc(), 0x1e3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00EB
        gbc.setState(0xac29, 0xf2f, 0xcd20, 0xf567, 0x5cfb, 0x144a, 0x0, 0x1);
        gbc.writeMem(0xac29, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf2f);
        EXPECT(gbc.pc(), 0xac2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac29), 0x89);
        // 89 00EC
        gbc.setState(0x187c, 0x355e, 0x3d00, 0x85bb, 0xe04b, 0xd95a, 0x1, 0x1);
        gbc.writeMem(0x187c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x355e);
        EXPECT(gbc.pc(), 0x187d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00ED
        gbc.setState(0xcb67, 0x954c, 0x2120, 0x9d09, 0xa2fb, 0xb04, 0x0, 0x0);
        gbc.writeMem(0xcb67, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x954c);
        EXPECT(gbc.pc(), 0xcb68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb67), 0x89);
        // 89 00EE
        gbc.setState(0xd0f4, 0x1c66, 0x91f0, 0xb61b, 0xc398, 0xba02, 0x0, 0x0);
        gbc.writeMem(0xd0f4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1c66);
        EXPECT(gbc.pc(), 0xd0f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0f4), 0x89);
        // 89 00EF
        gbc.setState(0xaabe, 0x3e43, 0x5da0, 0x2cd3, 0xff02, 0xb6a0, 0x0, 0x1);
        gbc.writeMem(0xaabe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3e43);
        EXPECT(gbc.pc(), 0xaabf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaabe), 0x89);
        // 89 00F0
        gbc.setState(0x662a, 0x34ea, 0xe1d0, 0xca3f, 0x427e, 0x23ed, 0x1, 0x0);
        gbc.writeMem(0x662a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x34ea);
        EXPECT(gbc.pc(), 0x662b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00F1
        gbc.setState(0x162f, 0x8551, 0xaaf0, 0xf292, 0x1f08, 0xc85, 0x0, 0x0);
        gbc.writeMem(0x162f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x8551);
        EXPECT(gbc.pc(), 0x1630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00F3
        gbc.setState(0x25f3, 0x85d8, 0xfc90, 0x6165, 0xf017, 0x9cbb, 0x1, 0x0);
        gbc.writeMem(0x25f3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x85d8);
        EXPECT(gbc.pc(), 0x25f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 00F4
        gbc.setState(0xe530, 0xd2ed, 0xc410, 0x72fc, 0xde6b, 0xebe5, 0x0, 0x0);
        gbc.writeMem(0xe530, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd2ed);
        EXPECT(gbc.pc(), 0xe531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe530), 0x89);
        // 89 00F5
        gbc.setState(0xd3b1, 0x787b, 0x6020, 0x6b83, 0x99fe, 0x70ad, 0x0, 0x0);
        gbc.writeMem(0xd3b1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x787b);
        EXPECT(gbc.pc(), 0xd3b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3b1), 0x89);
        // 89 00F6
        gbc.setState(0xf66, 0x3d1, 0xc9d0, 0xa624, 0xa5dd, 0x7d59, 0x0, 0x1);
        gbc.writeMem(0xf66, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3d1);
        EXPECT(gbc.pc(), 0xf67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00F7
        gbc.setState(0xd684, 0x3a1, 0x50d0, 0x9ec7, 0xa5b2, 0x6fc4, 0x1, 0x0);
        gbc.writeMem(0xd684, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3a1);
        EXPECT(gbc.pc(), 0xd685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd684), 0x89);
        // 89 00F8
        gbc.setState(0x450e, 0xeb82, 0x4d80, 0x4bc2, 0x93e4, 0x40d6, 0x0, 0x0);
        gbc.writeMem(0x450e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xeb82);
        EXPECT(gbc.pc(), 0x450f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 00F9
        gbc.setState(0x3b9f, 0xcbaf, 0x6a90, 0xe242, 0x2972, 0xbce3, 0x0, 0x0);
        gbc.writeMem(0x3b9f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xcbaf);
        EXPECT(gbc.pc(), 0x3ba0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 00FA
        gbc.setState(0xb8e, 0x6aef, 0x2f10, 0xb1a7, 0xa034, 0xb6cc, 0x1, 0x1);
        gbc.writeMem(0xb8e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x6aef);
        EXPECT(gbc.pc(), 0xb8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 00FB
        gbc.setState(0x9cc0, 0xba5c, 0x2fd0, 0xe2bc, 0xbb3f, 0x8000, 0x0, 0x1);
        gbc.writeMem(0x9cc0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xba5c);
        EXPECT(gbc.pc(), 0x9cc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cc0), 0x89);
        // 89 00FC
        gbc.setState(0x9583, 0x654e, 0x8480, 0xfede, 0x5ea1, 0x6037, 0x0, 0x1);
        gbc.writeMem(0x9583, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x654e);
        EXPECT(gbc.pc(), 0x9584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9583), 0x89);
        // 89 00FD
        gbc.setState(0xc8b5, 0x3c1e, 0xb8b0, 0x30cd, 0xf9e5, 0xb78d, 0x0, 0x0);
        gbc.writeMem(0xc8b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3c1e);
        EXPECT(gbc.pc(), 0xc8b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b5), 0x89);
        // 89 00FE
        gbc.setState(0xc2b9, 0x7048, 0x5c00, 0xa63b, 0xd167, 0x4fca, 0x0, 0x0);
        gbc.writeMem(0xc2b9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7048);
        EXPECT(gbc.pc(), 0xc2ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2b9), 0x89);
        // 89 00FF
        gbc.setState(0xa23e, 0xc921, 0xc4a0, 0x3fac, 0x4eb7, 0xfc5d, 0x0, 0x1);
        gbc.writeMem(0xa23e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc921);
        EXPECT(gbc.pc(), 0xa23f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa23e), 0x89);
        // 89 0100
        gbc.setState(0x133f, 0xa5b0, 0x3990, 0xee4d, 0x62e0, 0x14fa, 0x1, 0x1);
        gbc.writeMem(0x133f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa5b0);
        EXPECT(gbc.pc(), 0x1340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0101
        gbc.setState(0xdbac, 0x67db, 0xebe0, 0x3a62, 0x3a6e, 0x351c, 0x0, 0x0);
        gbc.writeMem(0xdbac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x67db);
        EXPECT(gbc.pc(), 0xdbad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbac), 0x89);
        // 89 0102
        gbc.setState(0x2917, 0x34ae, 0x3570, 0x46db, 0xcf59, 0x46e6, 0x1, 0x1);
        gbc.writeMem(0x2917, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x34ae);
        EXPECT(gbc.pc(), 0x2918);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0103
        gbc.setState(0x650d, 0x70f3, 0xa7d0, 0x7740, 0xd8dd, 0x90b9, 0x0, 0x0);
        gbc.writeMem(0x650d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x70f3);
        EXPECT(gbc.pc(), 0x650e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0104
        gbc.setState(0xa0ca, 0x7d4a, 0x7f0, 0xff37, 0xd3ba, 0xec92, 0x1, 0x1);
        gbc.writeMem(0xa0ca, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7d4a);
        EXPECT(gbc.pc(), 0xa0cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ca), 0x89);
        // 89 0105
        gbc.setState(0x8c6e, 0x6e18, 0x43f0, 0x85a1, 0x91b9, 0x30b6, 0x0, 0x1);
        gbc.writeMem(0x8c6e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6e18);
        EXPECT(gbc.pc(), 0x8c6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c6e), 0x89);
        // 89 0106
        gbc.setState(0x7036, 0xcbfc, 0x5380, 0x5599, 0xab50, 0xeb2d, 0x1, 0x0);
        gbc.writeMem(0x7036, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xcbfc);
        EXPECT(gbc.pc(), 0x7037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0107
        gbc.setState(0xcda1, 0xd70c, 0x5500, 0x6dd8, 0x3131, 0xd459, 0x0, 0x0);
        gbc.writeMem(0xcda1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd70c);
        EXPECT(gbc.pc(), 0xcda2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcda1), 0x89);
        // 89 0108
        gbc.setState(0x29a4, 0x1f1e, 0xd340, 0x2bb7, 0xf8cf, 0x9495, 0x0, 0x0);
        gbc.writeMem(0x29a4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x1f1e);
        EXPECT(gbc.pc(), 0x29a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0109
        gbc.setState(0xe0a4, 0xc8da, 0x51b0, 0xb803, 0xe184, 0xa289, 0x0, 0x1);
        gbc.writeMem(0xe0a4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc8da);
        EXPECT(gbc.pc(), 0xe0a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a4), 0x89);
        // 89 010A
        gbc.setState(0x6fb3, 0xf24a, 0x6490, 0x4f0c, 0x5def, 0xcfe6, 0x0, 0x0);
        gbc.writeMem(0x6fb3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf24a);
        EXPECT(gbc.pc(), 0x6fb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 010B
        gbc.setState(0x808d, 0x29ea, 0xcf40, 0xa298, 0xf3c9, 0xe6f3, 0x0, 0x0);
        gbc.writeMem(0x808d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x29ea);
        EXPECT(gbc.pc(), 0x808e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x808d), 0x89);
        // 89 010C
        gbc.setState(0xadb1, 0x3f62, 0x3080, 0x51c3, 0x5325, 0x52c, 0x1, 0x0);
        gbc.writeMem(0xadb1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3f62);
        EXPECT(gbc.pc(), 0xadb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadb1), 0x89);
        // 89 010D
        gbc.setState(0x6df3, 0xe586, 0x3350, 0xb0ce, 0x3401, 0xf953, 0x0, 0x1);
        gbc.writeMem(0x6df3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe586);
        EXPECT(gbc.pc(), 0x6df4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 010E
        gbc.setState(0xb066, 0x5902, 0xad30, 0xa11e, 0x15d3, 0xc8, 0x0, 0x0);
        gbc.writeMem(0xb066, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5902);
        EXPECT(gbc.pc(), 0xb067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb066), 0x89);
        // 89 0110
        gbc.setState(0x13ae, 0x5ae0, 0x78a0, 0x7100, 0xba23, 0x5411, 0x1, 0x1);
        gbc.writeMem(0x13ae, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5ae0);
        EXPECT(gbc.pc(), 0x13af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0111
        gbc.setState(0x7eb1, 0xd4ed, 0xa630, 0x4a4d, 0x224c, 0x54bf, 0x0, 0x1);
        gbc.writeMem(0x7eb1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd4ed);
        EXPECT(gbc.pc(), 0x7eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0112
        gbc.setState(0xa219, 0x4b07, 0x65d0, 0xe6f4, 0x7a3e, 0x24a3, 0x0, 0x0);
        gbc.writeMem(0xa219, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4b07);
        EXPECT(gbc.pc(), 0xa21a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa219), 0x89);
        // 89 0113
        gbc.setState(0xde5d, 0x1993, 0xd5f0, 0xe64f, 0xed94, 0x1c03, 0x1, 0x1);
        gbc.writeMem(0xde5d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1993);
        EXPECT(gbc.pc(), 0xde5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5d), 0x89);
        // 89 0114
        gbc.setState(0x8e66, 0xa59e, 0x800, 0x82c1, 0x5b26, 0x757e, 0x0, 0x1);
        gbc.writeMem(0x8e66, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa59e);
        EXPECT(gbc.pc(), 0x8e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e66), 0x89);
        // 89 0115
        gbc.setState(0x869a, 0x4e05, 0x8b80, 0xa2c6, 0x3b8b, 0x8920, 0x0, 0x0);
        gbc.writeMem(0x869a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4e05);
        EXPECT(gbc.pc(), 0x869b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x869a), 0x89);
        // 89 0116
        gbc.setState(0xc7b2, 0x80f5, 0x1ae0, 0x179a, 0x91dd, 0xb115, 0x1, 0x1);
        gbc.writeMem(0xc7b2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x80f5);
        EXPECT(gbc.pc(), 0xc7b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b2), 0x89);
        // 89 0117
        gbc.setState(0x3ec6, 0x48c6, 0xc360, 0x4f13, 0xce4c, 0xa3dd, 0x1, 0x1);
        gbc.writeMem(0x3ec6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x48c6);
        EXPECT(gbc.pc(), 0x3ec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0118
        gbc.setState(0x1131, 0x9d09, 0x2100, 0x6c23, 0xaf75, 0xd8a8, 0x0, 0x0);
        gbc.writeMem(0x1131, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9d09);
        EXPECT(gbc.pc(), 0x1132);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0119
        gbc.setState(0xe14e, 0x6233, 0xe610, 0x61b5, 0xa68a, 0xbf9b, 0x1, 0x0);
        gbc.writeMem(0xe14e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6233);
        EXPECT(gbc.pc(), 0xe14f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe14e), 0x89);
        // 89 011A
        gbc.setState(0xdf73, 0x4f2a, 0xf160, 0xe2dd, 0x1f20, 0x79dc, 0x1, 0x0);
        gbc.writeMem(0xdf73, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4f2a);
        EXPECT(gbc.pc(), 0xdf74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf73), 0x89);
        // 89 011B
        gbc.setState(0xc9ca, 0x6e88, 0x3950, 0x1deb, 0xfc5c, 0x340b, 0x1, 0x1);
        gbc.writeMem(0xc9ca, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6e88);
        EXPECT(gbc.pc(), 0xc9cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ca), 0x89);
        // 89 011C
        gbc.setState(0x78f6, 0x7c8f, 0x5830, 0x64f5, 0xf713, 0x3423, 0x0, 0x0);
        gbc.writeMem(0x78f6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7c8f);
        EXPECT(gbc.pc(), 0x78f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 011D
        gbc.setState(0x6b9e, 0x9426, 0x86c0, 0xfbd8, 0xf6dc, 0x5c3e, 0x0, 0x0);
        gbc.writeMem(0x6b9e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9426);
        EXPECT(gbc.pc(), 0x6b9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 011E
        gbc.setState(0x70d1, 0x567a, 0x7ec0, 0x79e, 0xb895, 0x7217, 0x1, 0x1);
        gbc.writeMem(0x70d1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x567a);
        EXPECT(gbc.pc(), 0x70d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 011F
        gbc.setState(0x39ec, 0x9fa0, 0xd330, 0xdab6, 0xbf1e, 0x4e0c, 0x0, 0x1);
        gbc.writeMem(0x39ec, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9fa0);
        EXPECT(gbc.pc(), 0x39ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0120
        gbc.setState(0x3295, 0x213e, 0x6c50, 0x59f6, 0x345e, 0xc390, 0x1, 0x1);
        gbc.writeMem(0x3295, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x213e);
        EXPECT(gbc.pc(), 0x3296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0121
        gbc.setState(0x150c, 0xd99c, 0x2bb0, 0xcfcd, 0xfd14, 0x9e01, 0x1, 0x0);
        gbc.writeMem(0x150c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xd99c);
        EXPECT(gbc.pc(), 0x150d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0122
        gbc.setState(0x4071, 0xc5bf, 0x47b0, 0x977f, 0xb6af, 0xf840, 0x1, 0x1);
        gbc.writeMem(0x4071, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc5bf);
        EXPECT(gbc.pc(), 0x4072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0123
        gbc.setState(0xbded, 0xc867, 0xa8b0, 0xecc8, 0xe797, 0x3e55, 0x0, 0x1);
        gbc.writeMem(0xbded, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xc867);
        EXPECT(gbc.pc(), 0xbdee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbded), 0x89);
        // 89 0124
        gbc.setState(0x3f5e, 0x9cc8, 0xf360, 0x2722, 0xc037, 0x38d9, 0x1, 0x1);
        gbc.writeMem(0x3f5e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x9cc8);
        EXPECT(gbc.pc(), 0x3f5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0126
        gbc.setState(0x29e7, 0x566f, 0x5d20, 0xed71, 0xeb8f, 0x8c78, 0x1, 0x0);
        gbc.writeMem(0x29e7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x566f);
        EXPECT(gbc.pc(), 0x29e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0127
        gbc.setState(0x2100, 0xf3a3, 0xf4c0, 0x59e7, 0xe4b, 0xa6d8, 0x0, 0x0);
        gbc.writeMem(0x2100, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf3a3);
        EXPECT(gbc.pc(), 0x2101);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0128
        gbc.setState(0x1a2, 0x78f8, 0x5ac0, 0xd89a, 0xd34c, 0x8f2c, 0x1, 0x1);
        gbc.writeMem(0x1a2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x78f8);
        EXPECT(gbc.pc(), 0x1a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0129
        gbc.setState(0x509a, 0x1a06, 0x45b0, 0xff3b, 0x1fc2, 0xbff2, 0x1, 0x0);
        gbc.writeMem(0x509a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1a06);
        EXPECT(gbc.pc(), 0x509b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 012B
        gbc.setState(0xd74b, 0xf672, 0x7560, 0x9e5, 0xe872, 0x3c2c, 0x1, 0x1);
        gbc.writeMem(0xd74b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xf672);
        EXPECT(gbc.pc(), 0xd74c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd74b), 0x89);
        // 89 012C
        gbc.setState(0xd049, 0x399d, 0xa050, 0x53d1, 0xb5fc, 0xe842, 0x0, 0x1);
        gbc.writeMem(0xd049, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x399d);
        EXPECT(gbc.pc(), 0xd04a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd049), 0x89);
        // 89 012D
        gbc.setState(0x8d8c, 0x5443, 0x340, 0x4833, 0xd992, 0x413, 0x1, 0x1);
        gbc.writeMem(0x8d8c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5443);
        EXPECT(gbc.pc(), 0x8d8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d8c), 0x89);
        // 89 012E
        gbc.setState(0xcb48, 0x7e14, 0x7e20, 0x1442, 0x776, 0xbdfd, 0x0, 0x0);
        gbc.writeMem(0xcb48, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7e14);
        EXPECT(gbc.pc(), 0xcb49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb48), 0x89);
        // 89 012F
        gbc.setState(0x6e8d, 0xb510, 0xe880, 0xa038, 0x11c1, 0x8caf, 0x1, 0x1);
        gbc.writeMem(0x6e8d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb510);
        EXPECT(gbc.pc(), 0x6e8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0130
        gbc.setState(0x7d1c, 0x8dd7, 0x5e90, 0xbad2, 0x3da4, 0xa050, 0x0, 0x0);
        gbc.writeMem(0x7d1c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8dd7);
        EXPECT(gbc.pc(), 0x7d1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0131
        gbc.setState(0x1477, 0xb071, 0xe9c0, 0xa2e3, 0x40f3, 0x5c12, 0x1, 0x0);
        gbc.writeMem(0x1477, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xb071);
        EXPECT(gbc.pc(), 0x1478);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0132
        gbc.setState(0x9bcc, 0x43f6, 0x21d0, 0x3610, 0xd118, 0xe6ad, 0x1, 0x1);
        gbc.writeMem(0x9bcc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x43f6);
        EXPECT(gbc.pc(), 0x9bcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bcc), 0x89);
        // 89 0133
        gbc.setState(0x1b79, 0xc7a5, 0x13c0, 0x7c13, 0xeba5, 0x632c, 0x1, 0x0);
        gbc.writeMem(0x1b79, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xc7a5);
        EXPECT(gbc.pc(), 0x1b7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0134
        gbc.setState(0x64bf, 0xb48a, 0xef60, 0xe0ee, 0x1593, 0x77d2, 0x0, 0x1);
        gbc.writeMem(0x64bf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb48a);
        EXPECT(gbc.pc(), 0x64c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0135
        gbc.setState(0xd2f, 0x70ff, 0x7160, 0x6ea0, 0x25fa, 0xc4f1, 0x0, 0x0);
        gbc.writeMem(0xd2f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x70ff);
        EXPECT(gbc.pc(), 0xd30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0136
        gbc.setState(0xe86d, 0x7c69, 0x15b0, 0x615c, 0xb9f, 0x3725, 0x1, 0x0);
        gbc.writeMem(0xe86d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7c69);
        EXPECT(gbc.pc(), 0xe86e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86d), 0x89);
        // 89 0137
        gbc.setState(0x74ef, 0x7a5a, 0x4c50, 0x9b72, 0x7edb, 0x3252, 0x1, 0x1);
        gbc.writeMem(0x74ef, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7a5a);
        EXPECT(gbc.pc(), 0x74f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0138
        gbc.setState(0xd06e, 0xa9b, 0xe990, 0xc07a, 0x45e7, 0xe1b8, 0x1, 0x0);
        gbc.writeMem(0xd06e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa9b);
        EXPECT(gbc.pc(), 0xd06f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd06e), 0x89);
        // 89 0139
        gbc.setState(0xd248, 0x3e9, 0x2ce0, 0x34eb, 0x14ff, 0x94a9, 0x0, 0x0);
        gbc.writeMem(0xd248, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3e9);
        EXPECT(gbc.pc(), 0xd249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd248), 0x89);
        // 89 013A
        gbc.setState(0xa83c, 0xa29, 0x83c0, 0xfe5c, 0x33d, 0x6017, 0x0, 0x0);
        gbc.writeMem(0xa83c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa29);
        EXPECT(gbc.pc(), 0xa83d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83c), 0x89);
        // 89 013B
        gbc.setState(0xd2e0, 0x2b78, 0xa070, 0xe7d1, 0xdf3e, 0x707d, 0x1, 0x1);
        gbc.writeMem(0xd2e0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2b78);
        EXPECT(gbc.pc(), 0xd2e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2e0), 0x89);
        // 89 013C
        gbc.setState(0x90c7, 0x885, 0xe350, 0xc73a, 0x9aa1, 0x2e55, 0x1, 0x1);
        gbc.writeMem(0x90c7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x885);
        EXPECT(gbc.pc(), 0x90c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c7), 0x89);
        // 89 013D
        gbc.setState(0x5375, 0xd167, 0x190, 0xf05e, 0x3b71, 0xffb8, 0x0, 0x1);
        gbc.writeMem(0x5375, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xd167);
        EXPECT(gbc.pc(), 0x5376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 013E
        gbc.setState(0x95b5, 0x5e0f, 0x3750, 0xc24f, 0xc594, 0xbf6, 0x1, 0x1);
        gbc.writeMem(0x95b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5e0f);
        EXPECT(gbc.pc(), 0x95b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95b5), 0x89);
        // 89 013F
        gbc.setState(0x267f, 0x9e1b, 0xbde0, 0x5955, 0x85c9, 0xcd41, 0x1, 0x1);
        gbc.writeMem(0x267f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x9e1b);
        EXPECT(gbc.pc(), 0x2680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0140
        gbc.setState(0x5fe5, 0xdd3f, 0xf70, 0x2bc8, 0x8d8a, 0x477c, 0x0, 0x0);
        gbc.writeMem(0x5fe5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdd3f);
        EXPECT(gbc.pc(), 0x5fe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0141
        gbc.setState(0x1f4f, 0xd579, 0xe0, 0xd039, 0x82a4, 0xdb58, 0x1, 0x0);
        gbc.writeMem(0x1f4f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd579);
        EXPECT(gbc.pc(), 0x1f50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0142
        gbc.setState(0x8c69, 0x1bc0, 0xe80, 0xa1e0, 0x4edd, 0x3fbb, 0x1, 0x0);
        gbc.writeMem(0x8c69, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1bc0);
        EXPECT(gbc.pc(), 0x8c6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c69), 0x89);
        // 89 0143
        gbc.setState(0x4c76, 0x6a06, 0x6750, 0xc4da, 0xa92, 0xaee1, 0x0, 0x0);
        gbc.writeMem(0x4c76, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6a06);
        EXPECT(gbc.pc(), 0x4c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0144
        gbc.setState(0x392f, 0xba1, 0x8920, 0x5d3a, 0x32b7, 0xdedc, 0x1, 0x0);
        gbc.writeMem(0x392f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xba1);
        EXPECT(gbc.pc(), 0x3930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0145
        gbc.setState(0xdf9a, 0xa8de, 0xe1a0, 0xf119, 0x54de, 0xcc0d, 0x1, 0x0);
        gbc.writeMem(0xdf9a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa8de);
        EXPECT(gbc.pc(), 0xdf9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf9a), 0x89);
        // 89 0146
        gbc.setState(0x3206, 0x2de9, 0x210, 0xd6c3, 0x4bc1, 0xa392, 0x1, 0x1);
        gbc.writeMem(0x3206, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2de9);
        EXPECT(gbc.pc(), 0x3207);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0147
        gbc.setState(0x2365, 0x2800, 0x4e70, 0xdbc, 0xe592, 0xdb27, 0x1, 0x0);
        gbc.writeMem(0x2365, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2800);
        EXPECT(gbc.pc(), 0x2366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0148
        gbc.setState(0xae2d, 0x3056, 0x4010, 0x84d0, 0x78c2, 0x9b0c, 0x0, 0x0);
        gbc.writeMem(0xae2d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3056);
        EXPECT(gbc.pc(), 0xae2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae2d), 0x89);
        // 89 0149
        gbc.setState(0x7811, 0x5a4b, 0x5d80, 0x44d5, 0x9ace, 0x85c6, 0x0, 0x1);
        gbc.writeMem(0x7811, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5a4b);
        EXPECT(gbc.pc(), 0x7812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 014B
        gbc.setState(0x27dd, 0x2b9d, 0xb8b0, 0xd24e, 0xfae4, 0x8a64, 0x1, 0x0);
        gbc.writeMem(0x27dd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2b9d);
        EXPECT(gbc.pc(), 0x27de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 014C
        gbc.setState(0x19c6, 0x4a43, 0xa600, 0xb691, 0xdcf9, 0x75a8, 0x1, 0x0);
        gbc.writeMem(0x19c6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4a43);
        EXPECT(gbc.pc(), 0x19c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 014D
        gbc.setState(0x78d6, 0xa700, 0x25a0, 0xc2fd, 0xcd2a, 0x15c4, 0x0, 0x1);
        gbc.writeMem(0x78d6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa700);
        EXPECT(gbc.pc(), 0x78d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 014F
        gbc.setState(0x1958, 0x234a, 0xfec0, 0x88bd, 0x2fea, 0x9e67, 0x0, 0x1);
        gbc.writeMem(0x1958, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x234a);
        EXPECT(gbc.pc(), 0x1959);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0150
        gbc.setState(0xee0, 0xc026, 0x8d80, 0x5b44, 0x1775, 0xaab7, 0x1, 0x0);
        gbc.writeMem(0xee0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc026);
        EXPECT(gbc.pc(), 0xee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0151
        gbc.setState(0x51dc, 0x38b3, 0xb4d0, 0x7d42, 0x61e0, 0x7d60, 0x1, 0x1);
        gbc.writeMem(0x51dc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x38b3);
        EXPECT(gbc.pc(), 0x51dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0152
        gbc.setState(0x3379, 0xed2, 0x720, 0xa528, 0x48f1, 0x4cd9, 0x1, 0x1);
        gbc.writeMem(0x3379, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xed2);
        EXPECT(gbc.pc(), 0x337a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0153
        gbc.setState(0xe2bb, 0xf759, 0x6380, 0x3058, 0x8d28, 0x5825, 0x1, 0x0);
        gbc.writeMem(0xe2bb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf759);
        EXPECT(gbc.pc(), 0xe2bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2bb), 0x89);
        // 89 0154
        gbc.setState(0xb52d, 0xcfa2, 0xf9e0, 0x758a, 0x96f, 0x8aec, 0x0, 0x0);
        gbc.writeMem(0xb52d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xcfa2);
        EXPECT(gbc.pc(), 0xb52e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb52d), 0x89);
        // 89 0155
        gbc.setState(0x9671, 0x4c9a, 0xd0a0, 0x89f4, 0x7808, 0xc7fc, 0x1, 0x1);
        gbc.writeMem(0x9671, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4c9a);
        EXPECT(gbc.pc(), 0x9672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9671), 0x89);
        // 89 0156
        gbc.setState(0xa9e7, 0xb5b0, 0xa2f0, 0x8a58, 0x5eee, 0xd9a8, 0x0, 0x0);
        gbc.writeMem(0xa9e7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb5b0);
        EXPECT(gbc.pc(), 0xa9e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9e7), 0x89);
        // 89 0157
        gbc.setState(0x1f7c, 0x4ea8, 0x7e70, 0xd53b, 0xfa15, 0xbcd7, 0x1, 0x0);
        gbc.writeMem(0x1f7c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x4ea8);
        EXPECT(gbc.pc(), 0x1f7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0159
        gbc.setState(0x6d79, 0xf7ef, 0x6400, 0xa525, 0x7791, 0x3944, 0x0, 0x1);
        gbc.writeMem(0x6d79, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf7ef);
        EXPECT(gbc.pc(), 0x6d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 015A
        gbc.setState(0x22b7, 0x9136, 0x3cd0, 0x1dd3, 0x6e11, 0x7736, 0x1, 0x1);
        gbc.writeMem(0x22b7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9136);
        EXPECT(gbc.pc(), 0x22b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 015B
        gbc.setState(0xb38a, 0x8f48, 0x1fb0, 0x791f, 0x88dc, 0x2bb4, 0x1, 0x0);
        gbc.writeMem(0xb38a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8f48);
        EXPECT(gbc.pc(), 0xb38b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb38a), 0x89);
        // 89 015C
        gbc.setState(0xea80, 0xdccb, 0x4bf0, 0xc50f, 0x528a, 0xbdc2, 0x1, 0x0);
        gbc.writeMem(0xea80, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xdccb);
        EXPECT(gbc.pc(), 0xea81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea80), 0x89);
        // 89 015D
        gbc.setState(0x71f5, 0xfa40, 0x38e0, 0x2b84, 0x8ab7, 0x76e6, 0x0, 0x0);
        gbc.writeMem(0x71f5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xfa40);
        EXPECT(gbc.pc(), 0x71f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 015E
        gbc.setState(0x83e8, 0x1409, 0x45a0, 0x2f1d, 0x18d2, 0x316d, 0x0, 0x0);
        gbc.writeMem(0x83e8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1409);
        EXPECT(gbc.pc(), 0x83e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e8), 0x89);
        // 89 015F
        gbc.setState(0x4359, 0xbe12, 0xe050, 0x275d, 0x30ce, 0xd4fd, 0x0, 0x0);
        gbc.writeMem(0x4359, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xbe12);
        EXPECT(gbc.pc(), 0x435a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0160
        gbc.setState(0x5404, 0x2abe, 0x20c0, 0x3304, 0xe4f, 0x563c, 0x0, 0x0);
        gbc.writeMem(0x5404, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2abe);
        EXPECT(gbc.pc(), 0x5405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0161
        gbc.setState(0x79bb, 0x909f, 0xf2f0, 0x2d4c, 0x163b, 0x4473, 0x0, 0x1);
        gbc.writeMem(0x79bb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x909f);
        EXPECT(gbc.pc(), 0x79bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0162
        gbc.setState(0x47e9, 0x5321, 0xe150, 0xc4b5, 0x27bc, 0x3ab2, 0x1, 0x1);
        gbc.writeMem(0x47e9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x5321);
        EXPECT(gbc.pc(), 0x47ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0163
        gbc.setState(0xb83f, 0x9427, 0x430, 0x8204, 0x2687, 0xc6da, 0x1, 0x0);
        gbc.writeMem(0xb83f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9427);
        EXPECT(gbc.pc(), 0xb840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb83f), 0x89);
        // 89 0164
        gbc.setState(0x91db, 0x2717, 0x6b60, 0x2770, 0xa1cb, 0xbe75, 0x1, 0x1);
        gbc.writeMem(0x91db, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2717);
        EXPECT(gbc.pc(), 0x91dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91db), 0x89);
        // 89 0165
        gbc.setState(0xd425, 0x9b38, 0x56c0, 0x414c, 0x3284, 0x2ddf, 0x1, 0x0);
        gbc.writeMem(0xd425, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9b38);
        EXPECT(gbc.pc(), 0xd426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd425), 0x89);
        // 89 0166
        gbc.setState(0x538a, 0x9eca, 0x3ab0, 0xeb8a, 0xebfe, 0x3229, 0x1, 0x1);
        gbc.writeMem(0x538a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x9eca);
        EXPECT(gbc.pc(), 0x538b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0167
        gbc.setState(0x320d, 0x7e91, 0xf930, 0x5d81, 0x99a3, 0x529d, 0x1, 0x1);
        gbc.writeMem(0x320d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7e91);
        EXPECT(gbc.pc(), 0x320e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0168
        gbc.setState(0xc21c, 0xaa5e, 0x7630, 0xaba0, 0xa6a1, 0x4df8, 0x1, 0x1);
        gbc.writeMem(0xc21c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xaa5e);
        EXPECT(gbc.pc(), 0xc21d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc21c), 0x89);
        // 89 0169
        gbc.setState(0x4be8, 0x5cf8, 0xfb10, 0xab01, 0x92eb, 0x265d, 0x0, 0x1);
        gbc.writeMem(0x4be8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5cf8);
        EXPECT(gbc.pc(), 0x4be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 016B
        gbc.setState(0x3fae, 0xfa9a, 0x27f0, 0x74ee, 0x399b, 0xacc2, 0x1, 0x0);
        gbc.writeMem(0x3fae, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xfa9a);
        EXPECT(gbc.pc(), 0x3faf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 016C
        gbc.setState(0xa945, 0x5d6c, 0xd8f0, 0x566f, 0x8a8a, 0x140a, 0x0, 0x0);
        gbc.writeMem(0xa945, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5d6c);
        EXPECT(gbc.pc(), 0xa946);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa945), 0x89);
        // 89 016E
        gbc.setState(0xed9a, 0x6c4a, 0xb3b0, 0x134c, 0x8483, 0xf86d, 0x1, 0x1);
        gbc.writeMem(0xed9a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6c4a);
        EXPECT(gbc.pc(), 0xed9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed9a), 0x89);
        // 89 0170
        gbc.setState(0x5f07, 0x7268, 0xce00, 0xc738, 0x637, 0xee45, 0x1, 0x0);
        gbc.writeMem(0x5f07, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7268);
        EXPECT(gbc.pc(), 0x5f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0171
        gbc.setState(0xd7f0, 0xb782, 0x6280, 0xf8c0, 0xeea8, 0xac97, 0x0, 0x0);
        gbc.writeMem(0xd7f0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xb782);
        EXPECT(gbc.pc(), 0xd7f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7f0), 0x89);
        // 89 0172
        gbc.setState(0x3f1f, 0x4dda, 0xf310, 0x1a60, 0x873f, 0x8f14, 0x1, 0x1);
        gbc.writeMem(0x3f1f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4dda);
        EXPECT(gbc.pc(), 0x3f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0173
        gbc.setState(0xe659, 0xa537, 0x62c0, 0x22ca, 0x76cf, 0x3235, 0x0, 0x0);
        gbc.writeMem(0xe659, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xa537);
        EXPECT(gbc.pc(), 0xe65a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe659), 0x89);
        // 89 0175
        gbc.setState(0x3343, 0xf367, 0xf860, 0xd62e, 0x84d, 0xca01, 0x1, 0x0);
        gbc.writeMem(0x3343, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf367);
        EXPECT(gbc.pc(), 0x3344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0176
        gbc.setState(0x34ee, 0xa2e8, 0xfa70, 0xed7f, 0x3561, 0x848e, 0x0, 0x1);
        gbc.writeMem(0x34ee, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa2e8);
        EXPECT(gbc.pc(), 0x34ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0177
        gbc.setState(0xac22, 0x26ff, 0xbac0, 0x6ef6, 0x5c04, 0x8e04, 0x1, 0x0);
        gbc.writeMem(0xac22, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x26ff);
        EXPECT(gbc.pc(), 0xac23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac22), 0x89);
        // 89 0178
        gbc.setState(0x1066, 0x9688, 0x8980, 0xca40, 0x112e, 0xa2f1, 0x1, 0x1);
        gbc.writeMem(0x1066, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9688);
        EXPECT(gbc.pc(), 0x1067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0179
        gbc.setState(0x81cf, 0xa72c, 0x1830, 0x4abd, 0xecd2, 0x27b4, 0x1, 0x0);
        gbc.writeMem(0x81cf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xa72c);
        EXPECT(gbc.pc(), 0x81d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81cf), 0x89);
        // 89 017A
        gbc.setState(0xb346, 0xe7e5, 0x8d60, 0xedea, 0x9a51, 0xbaeb, 0x0, 0x1);
        gbc.writeMem(0xb346, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe7e5);
        EXPECT(gbc.pc(), 0xb347);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb346), 0x89);
        // 89 017B
        gbc.setState(0x1f9d, 0x1775, 0x2f60, 0x9ca7, 0x6460, 0xbbff, 0x1, 0x0);
        gbc.writeMem(0x1f9d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1775);
        EXPECT(gbc.pc(), 0x1f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 017C
        gbc.setState(0x631b, 0x704e, 0xdf10, 0x9ed3, 0xc826, 0x40be, 0x0, 0x0);
        gbc.writeMem(0x631b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x704e);
        EXPECT(gbc.pc(), 0x631c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 017D
        gbc.setState(0xd558, 0x9fcb, 0x5af0, 0x2c98, 0x94d6, 0xfcee, 0x0, 0x1);
        gbc.writeMem(0xd558, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x9fcb);
        EXPECT(gbc.pc(), 0xd559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd558), 0x89);
        // 89 017E
        gbc.setState(0xdd1b, 0xad32, 0xf50, 0x81ad, 0x103e, 0x2ad6, 0x0, 0x0);
        gbc.writeMem(0xdd1b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xad32);
        EXPECT(gbc.pc(), 0xdd1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1b), 0x89);
        // 89 0180
        gbc.setState(0x23b4, 0xac5f, 0xda40, 0xcfd4, 0x328d, 0xc51c, 0x1, 0x1);
        gbc.writeMem(0x23b4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xac5f);
        EXPECT(gbc.pc(), 0x23b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0181
        gbc.setState(0xa4d, 0x4bc2, 0xfd50, 0x45d0, 0x4396, 0xc49, 0x0, 0x1);
        gbc.writeMem(0xa4d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4bc2);
        EXPECT(gbc.pc(), 0xa4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0182
        gbc.setState(0x9224, 0x3144, 0x24b0, 0xe28e, 0x723b, 0xab9d, 0x0, 0x1);
        gbc.writeMem(0x9224, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3144);
        EXPECT(gbc.pc(), 0x9225);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9224), 0x89);
        // 89 0183
        gbc.setState(0xbbfb, 0x8f07, 0x29a0, 0x10fc, 0xd9fa, 0x1001, 0x1, 0x0);
        gbc.writeMem(0xbbfb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x8f07);
        EXPECT(gbc.pc(), 0xbbfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbfb), 0x89);
        // 89 0184
        gbc.setState(0x4812, 0x59c9, 0xcf60, 0x2bca, 0xf70a, 0x628a, 0x0, 0x0);
        gbc.writeMem(0x4812, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x59c9);
        EXPECT(gbc.pc(), 0x4813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0185
        gbc.setState(0x3ea0, 0x92f5, 0xe920, 0xbd7d, 0x644a, 0xab96, 0x1, 0x0);
        gbc.writeMem(0x3ea0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x92f5);
        EXPECT(gbc.pc(), 0x3ea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0186
        gbc.setState(0x6354, 0xc969, 0x1be0, 0x24e, 0xc53f, 0x451e, 0x0, 0x0);
        gbc.writeMem(0x6354, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xc969);
        EXPECT(gbc.pc(), 0x6355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0187
        gbc.setState(0xb2ba, 0xc546, 0xf260, 0xe806, 0x8425, 0x4f87, 0x0, 0x1);
        gbc.writeMem(0xb2ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xc546);
        EXPECT(gbc.pc(), 0xb2bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ba), 0x89);
        // 89 0188
        gbc.setState(0xc714, 0xdd75, 0x9c30, 0xcfee, 0x9071, 0x78e, 0x1, 0x1);
        gbc.writeMem(0xc714, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdd75);
        EXPECT(gbc.pc(), 0xc715);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc714), 0x89);
        // 89 0189
        gbc.setState(0xb259, 0xa63, 0xc9a0, 0x2aba, 0xeb38, 0x4f0e, 0x0, 0x1);
        gbc.writeMem(0xb259, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa63);
        EXPECT(gbc.pc(), 0xb25a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb259), 0x89);
        // 89 018B
        gbc.setState(0xb39a, 0xeac5, 0x68d0, 0xb8e6, 0xcaba, 0xbcdf, 0x0, 0x0);
        gbc.writeMem(0xb39a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xeac5);
        EXPECT(gbc.pc(), 0xb39b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb39a), 0x89);
        // 89 018C
        gbc.setState(0x7aa4, 0xc3bd, 0x740, 0x7b7d, 0xd93, 0xcce6, 0x1, 0x0);
        gbc.writeMem(0x7aa4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc3bd);
        EXPECT(gbc.pc(), 0x7aa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 018D
        gbc.setState(0xc8b8, 0xdbb1, 0x9500, 0xe157, 0x78f5, 0x85a, 0x1, 0x0);
        gbc.writeMem(0xc8b8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xdbb1);
        EXPECT(gbc.pc(), 0xc8b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8b8), 0x89);
        // 89 018E
        gbc.setState(0x8952, 0x2e26, 0xb250, 0xa792, 0x4c87, 0x4e4e, 0x1, 0x1);
        gbc.writeMem(0x8952, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x2e26);
        EXPECT(gbc.pc(), 0x8953);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8952), 0x89);
        // 89 018F
        gbc.setState(0x395a, 0xe096, 0xe080, 0x1d32, 0x8406, 0xe76, 0x1, 0x0);
        gbc.writeMem(0x395a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe096);
        EXPECT(gbc.pc(), 0x395b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0191
        gbc.setState(0xd691, 0xf956, 0x8ce0, 0x32dc, 0x1fa2, 0xca9c, 0x0, 0x0);
        gbc.writeMem(0xd691, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xf956);
        EXPECT(gbc.pc(), 0xd692);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd691), 0x89);
        // 89 0192
        gbc.setState(0x9003, 0x7ba2, 0xb500, 0x8dad, 0xc563, 0x22ed, 0x1, 0x0);
        gbc.writeMem(0x9003, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7ba2);
        EXPECT(gbc.pc(), 0x9004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9003), 0x89);
        // 89 0193
        gbc.setState(0x1b85, 0x183c, 0xa990, 0x6048, 0x31da, 0x675d, 0x0, 0x1);
        gbc.writeMem(0x1b85, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x183c);
        EXPECT(gbc.pc(), 0x1b86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0194
        gbc.setState(0x3cc4, 0x7961, 0x1830, 0x6473, 0x6dc5, 0xa5b7, 0x1, 0x0);
        gbc.writeMem(0x3cc4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7961);
        EXPECT(gbc.pc(), 0x3cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0195
        gbc.setState(0x8277, 0xdd7f, 0x7ce0, 0xb7ec, 0x69e1, 0x5bc7, 0x1, 0x1);
        gbc.writeMem(0x8277, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xdd7f);
        EXPECT(gbc.pc(), 0x8278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8277), 0x89);
        // 89 0196
        gbc.setState(0xafad, 0x70ee, 0x67f0, 0xac97, 0xc32b, 0x5839, 0x0, 0x0);
        gbc.writeMem(0xafad, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x70ee);
        EXPECT(gbc.pc(), 0xafae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafad), 0x89);
        // 89 0197
        gbc.setState(0x80a4, 0x486f, 0x1390, 0xe319, 0xd31a, 0x9e4d, 0x1, 0x0);
        gbc.writeMem(0x80a4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x486f);
        EXPECT(gbc.pc(), 0x80a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80a4), 0x89);
        // 89 0198
        gbc.setState(0x9c8f, 0x1951, 0xa1c0, 0x6a2, 0xf179, 0xfe53, 0x0, 0x1);
        gbc.writeMem(0x9c8f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1951);
        EXPECT(gbc.pc(), 0x9c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c8f), 0x89);
        // 89 0199
        gbc.setState(0x9084, 0xd05b, 0xb720, 0x54c6, 0xf71c, 0xd82b, 0x0, 0x0);
        gbc.writeMem(0x9084, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd05b);
        EXPECT(gbc.pc(), 0x9085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9084), 0x89);
        // 89 019A
        gbc.setState(0xbf1b, 0xad1c, 0x7130, 0x86e9, 0x52e3, 0xf9a2, 0x0, 0x0);
        gbc.writeMem(0xbf1b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xad1c);
        EXPECT(gbc.pc(), 0xbf1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf1b), 0x89);
        // 89 019B
        gbc.setState(0xabe0, 0x56f5, 0xd80, 0x89e0, 0x34f0, 0xfb68, 0x1, 0x1);
        gbc.writeMem(0xabe0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x56f5);
        EXPECT(gbc.pc(), 0xabe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabe0), 0x89);
        // 89 019C
        gbc.setState(0x190e, 0x593f, 0xb020, 0xb63a, 0xdb5c, 0x972b, 0x0, 0x0);
        gbc.writeMem(0x190e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x593f);
        EXPECT(gbc.pc(), 0x190f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 019D
        gbc.setState(0xe5f, 0xb6c6, 0x2040, 0x344b, 0xbd59, 0x6331, 0x1, 0x1);
        gbc.writeMem(0xe5f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb6c6);
        EXPECT(gbc.pc(), 0xe60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 019E
        gbc.setState(0x7bd, 0x6783, 0xa480, 0xbecb, 0xbb6b, 0xb2fe, 0x1, 0x0);
        gbc.writeMem(0x7bd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x6783);
        EXPECT(gbc.pc(), 0x7be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 019F
        gbc.setState(0x8936, 0x4b64, 0x190, 0xc514, 0xa226, 0x2029, 0x1, 0x0);
        gbc.writeMem(0x8936, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4b64);
        EXPECT(gbc.pc(), 0x8937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8936), 0x89);
        // 89 01A0
        gbc.setState(0x458e, 0x7cfa, 0x1fa0, 0x5003, 0x4a31, 0x9c3d, 0x0, 0x1);
        gbc.writeMem(0x458e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7cfa);
        EXPECT(gbc.pc(), 0x458f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01A2
        gbc.setState(0x9a83, 0x88fc, 0x9e40, 0x797b, 0xc606, 0x138b, 0x1, 0x0);
        gbc.writeMem(0x9a83, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x88fc);
        EXPECT(gbc.pc(), 0x9a84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a83), 0x89);
        // 89 01A3
        gbc.setState(0xb198, 0xf1eb, 0x7b70, 0x4d55, 0xa57a, 0x346, 0x1, 0x0);
        gbc.writeMem(0xb198, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf1eb);
        EXPECT(gbc.pc(), 0xb199);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb198), 0x89);
        // 89 01A4
        gbc.setState(0x9f28, 0x3b25, 0x60e0, 0x63b0, 0x6e56, 0x4c8, 0x1, 0x0);
        gbc.writeMem(0x9f28, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x3b25);
        EXPECT(gbc.pc(), 0x9f29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f28), 0x89);
        // 89 01A5
        gbc.setState(0x3d2e, 0x8fdc, 0x6510, 0xdb45, 0x3f25, 0x17fa, 0x0, 0x0);
        gbc.writeMem(0x3d2e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8fdc);
        EXPECT(gbc.pc(), 0x3d2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01A6
        gbc.setState(0xa123, 0xc98e, 0x2fe0, 0x4f95, 0x7c2, 0x6bee, 0x0, 0x0);
        gbc.writeMem(0xa123, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc98e);
        EXPECT(gbc.pc(), 0xa124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa123), 0x89);
        // 89 01A8
        gbc.setState(0x6b39, 0xee56, 0x8b20, 0xb36a, 0xd667, 0xbed6, 0x1, 0x0);
        gbc.writeMem(0x6b39, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xee56);
        EXPECT(gbc.pc(), 0x6b3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01A9
        gbc.setState(0xc319, 0xbb09, 0xf490, 0xcf1b, 0xdbc4, 0xdda6, 0x0, 0x1);
        gbc.writeMem(0xc319, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbb09);
        EXPECT(gbc.pc(), 0xc31a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc319), 0x89);
        // 89 01AA
        gbc.setState(0x12cf, 0xfd9f, 0x20c0, 0x78fd, 0x9908, 0xf23b, 0x1, 0x1);
        gbc.writeMem(0x12cf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xfd9f);
        EXPECT(gbc.pc(), 0x12d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01AB
        gbc.setState(0x23dc, 0xaaf4, 0x2fe0, 0x1fb1, 0xa939, 0x6986, 0x1, 0x1);
        gbc.writeMem(0x23dc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xaaf4);
        EXPECT(gbc.pc(), 0x23dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01AC
        gbc.setState(0x9d5b, 0x6c2a, 0xa30, 0x372a, 0x37ba, 0xceaa, 0x1, 0x1);
        gbc.writeMem(0x9d5b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x6c2a);
        EXPECT(gbc.pc(), 0x9d5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d5b), 0x89);
        // 89 01AD
        gbc.setState(0xae0e, 0x63ca, 0xff30, 0x965a, 0x58c5, 0x9993, 0x1, 0x0);
        gbc.writeMem(0xae0e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x63ca);
        EXPECT(gbc.pc(), 0xae0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae0e), 0x89);
        // 89 01AE
        gbc.setState(0xc5e9, 0xa95e, 0x56b0, 0xf102, 0x6202, 0xd271, 0x0, 0x1);
        gbc.writeMem(0xc5e9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa95e);
        EXPECT(gbc.pc(), 0xc5ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5e9), 0x89);
        // 89 01AF
        gbc.setState(0xd1ab, 0x2076, 0x5140, 0xea17, 0x6abc, 0x1704, 0x0, 0x1);
        gbc.writeMem(0xd1ab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2076);
        EXPECT(gbc.pc(), 0xd1ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ab), 0x89);
        // 89 01B0
        gbc.setState(0x618d, 0xbc4e, 0x72b0, 0x92f0, 0x3394, 0xcdba, 0x0, 0x0);
        gbc.writeMem(0x618d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbc4e);
        EXPECT(gbc.pc(), 0x618e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01B1
        gbc.setState(0xa5f8, 0x4de5, 0xe70, 0x4453, 0xcb17, 0x9fb2, 0x0, 0x1);
        gbc.writeMem(0xa5f8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4de5);
        EXPECT(gbc.pc(), 0xa5f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5f8), 0x89);
        // 89 01B2
        gbc.setState(0x67eb, 0x2323, 0xd230, 0x5d29, 0x1103, 0x3581, 0x0, 0x0);
        gbc.writeMem(0x67eb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2323);
        EXPECT(gbc.pc(), 0x67ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01B3
        gbc.setState(0x9970, 0x8745, 0xe0f0, 0x35d5, 0xb46c, 0xcc87, 0x0, 0x1);
        gbc.writeMem(0x9970, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x8745);
        EXPECT(gbc.pc(), 0x9971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9970), 0x89);
        // 89 01B4
        gbc.setState(0x18ef, 0x5b61, 0xea00, 0x2b57, 0xe9da, 0xf88d, 0x1, 0x0);
        gbc.writeMem(0x18ef, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5b61);
        EXPECT(gbc.pc(), 0x18f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01B5
        gbc.setState(0xcf8d, 0x5d30, 0xb070, 0x6fd5, 0x424d, 0x49e3, 0x1, 0x1);
        gbc.writeMem(0xcf8d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5d30);
        EXPECT(gbc.pc(), 0xcf8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf8d), 0x89);
        // 89 01B6
        gbc.setState(0x7f3f, 0x7311, 0x68f0, 0xc912, 0x675e, 0xc19f, 0x0, 0x1);
        gbc.writeMem(0x7f3f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7311);
        EXPECT(gbc.pc(), 0x7f40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01B7
        gbc.setState(0x5b5b, 0x34c5, 0xefd0, 0x945e, 0x6dcf, 0xea43, 0x0, 0x1);
        gbc.writeMem(0x5b5b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x34c5);
        EXPECT(gbc.pc(), 0x5b5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01B8
        gbc.setState(0x47dc, 0x7c12, 0xaa0, 0xe942, 0x318a, 0x84d5, 0x0, 0x0);
        gbc.writeMem(0x47dc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7c12);
        EXPECT(gbc.pc(), 0x47dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01B9
        gbc.setState(0x7c8f, 0x4281, 0xf130, 0x1311, 0x7031, 0x14bd, 0x1, 0x0);
        gbc.writeMem(0x7c8f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4281);
        EXPECT(gbc.pc(), 0x7c90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01BA
        gbc.setState(0xab31, 0x72d5, 0x66c0, 0x760b, 0xcd66, 0x8dab, 0x1, 0x1);
        gbc.writeMem(0xab31, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x72d5);
        EXPECT(gbc.pc(), 0xab32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab31), 0x89);
        // 89 01BB
        gbc.setState(0x4151, 0x953f, 0xcea0, 0xdbd2, 0x3601, 0xfa59, 0x0, 0x0);
        gbc.writeMem(0x4151, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x953f);
        EXPECT(gbc.pc(), 0x4152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01BC
        gbc.setState(0x2938, 0xb5a8, 0x1d30, 0x3db3, 0x2bcf, 0xbb8d, 0x0, 0x0);
        gbc.writeMem(0x2938, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xb5a8);
        EXPECT(gbc.pc(), 0x2939);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01BD
        gbc.setState(0x6a12, 0x31a1, 0x40, 0x1135, 0x4826, 0x2042, 0x1, 0x1);
        gbc.writeMem(0x6a12, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x31a1);
        EXPECT(gbc.pc(), 0x6a13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01BE
        gbc.setState(0x62bc, 0x58e0, 0x2900, 0x4c7c, 0x84e8, 0xf83a, 0x1, 0x1);
        gbc.writeMem(0x62bc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x58e0);
        EXPECT(gbc.pc(), 0x62bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01BF
        gbc.setState(0xe983, 0x5ee2, 0xe8a0, 0x5fa2, 0xff37, 0xe1cd, 0x1, 0x0);
        gbc.writeMem(0xe983, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5ee2);
        EXPECT(gbc.pc(), 0xe984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe983), 0x89);
        // 89 01C0
        gbc.setState(0x5da9, 0xf194, 0x8e0, 0xdc25, 0xcedf, 0x746f, 0x1, 0x1);
        gbc.writeMem(0x5da9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xf194);
        EXPECT(gbc.pc(), 0x5daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01C1
        gbc.setState(0x285f, 0xc18c, 0xedd0, 0x10cb, 0xbd1, 0xd689, 0x1, 0x1);
        gbc.writeMem(0x285f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc18c);
        EXPECT(gbc.pc(), 0x2860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01C2
        gbc.setState(0x4d5b, 0x17a4, 0x68b0, 0x516f, 0xc469, 0x2072, 0x1, 0x0);
        gbc.writeMem(0x4d5b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x17a4);
        EXPECT(gbc.pc(), 0x4d5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01C3
        gbc.setState(0xf74, 0x94ad, 0x6940, 0xb29b, 0xfd75, 0xbd2d, 0x1, 0x1);
        gbc.writeMem(0xf74, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x94ad);
        EXPECT(gbc.pc(), 0xf75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01C4
        gbc.setState(0xb472, 0xa567, 0x2070, 0x7bbb, 0x547, 0xbe9, 0x0, 0x0);
        gbc.writeMem(0xb472, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa567);
        EXPECT(gbc.pc(), 0xb473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb472), 0x89);
        // 89 01C5
        gbc.setState(0xeb31, 0xca, 0xd250, 0x226a, 0xfd9d, 0x35d8, 0x1, 0x1);
        gbc.writeMem(0xeb31, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xca);
        EXPECT(gbc.pc(), 0xeb32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb31), 0x89);
        // 89 01C6
        gbc.setState(0x5138, 0xdbc4, 0xe640, 0x3934, 0xff8d, 0x21b4, 0x1, 0x1);
        gbc.writeMem(0x5138, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xdbc4);
        EXPECT(gbc.pc(), 0x5139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01C7
        gbc.setState(0x500a, 0x4b9d, 0xfaf0, 0xf631, 0xafa, 0x159b, 0x0, 0x0);
        gbc.writeMem(0x500a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4b9d);
        EXPECT(gbc.pc(), 0x500b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01C8
        gbc.setState(0xe507, 0x661a, 0xfd00, 0x509f, 0x69d4, 0xb771, 0x1, 0x1);
        gbc.writeMem(0xe507, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x661a);
        EXPECT(gbc.pc(), 0xe508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe507), 0x89);
        // 89 01C9
        gbc.setState(0x11ea, 0xa258, 0x76a0, 0x47b3, 0x95f3, 0x8286, 0x1, 0x1);
        gbc.writeMem(0x11ea, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xa258);
        EXPECT(gbc.pc(), 0x11eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01CA
        gbc.setState(0xb003, 0x3d6, 0x71b0, 0x6d9e, 0x6fab, 0xa282, 0x1, 0x1);
        gbc.writeMem(0xb003, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3d6);
        EXPECT(gbc.pc(), 0xb004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb003), 0x89);
        // 89 01CB
        gbc.setState(0x1002, 0xd27a, 0x9e60, 0xbdda, 0xaa03, 0x270d, 0x1, 0x1);
        gbc.writeMem(0x1002, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd27a);
        EXPECT(gbc.pc(), 0x1003);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01CC
        gbc.setState(0x2959, 0xdaba, 0x4d90, 0x7c82, 0xd0a7, 0x1b84, 0x0, 0x1);
        gbc.writeMem(0x2959, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xdaba);
        EXPECT(gbc.pc(), 0x295a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01CD
        gbc.setState(0xac4, 0xda11, 0x6230, 0xd3fa, 0x4fdd, 0x99cc, 0x1, 0x1);
        gbc.writeMem(0xac4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xda11);
        EXPECT(gbc.pc(), 0xac5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01CF
        gbc.setState(0x4b2f, 0xe22d, 0x2490, 0xe354, 0x5909, 0xffdd, 0x0, 0x1);
        gbc.writeMem(0x4b2f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe22d);
        EXPECT(gbc.pc(), 0x4b30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01D0
        gbc.setState(0x582e, 0xf2e7, 0xe6a0, 0xf31c, 0xc1a, 0x2647, 0x1, 0x0);
        gbc.writeMem(0x582e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xf2e7);
        EXPECT(gbc.pc(), 0x582f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01D1
        gbc.setState(0xcd56, 0x34e, 0x6c30, 0x7afa, 0xe500, 0xb2bc, 0x1, 0x1);
        gbc.writeMem(0xcd56, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x34e);
        EXPECT(gbc.pc(), 0xcd57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd56), 0x89);
        // 89 01D2
        gbc.setState(0x3651, 0x897b, 0xe600, 0xcd1f, 0x4e8, 0xa2e8, 0x0, 0x1);
        gbc.writeMem(0x3651, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x897b);
        EXPECT(gbc.pc(), 0x3652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01D3
        gbc.setState(0xc1f8, 0x32cd, 0x3a0, 0x6ebd, 0x6e91, 0x41c3, 0x0, 0x0);
        gbc.writeMem(0xc1f8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x32cd);
        EXPECT(gbc.pc(), 0xc1f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1f8), 0x89);
        // 89 01D4
        gbc.setState(0xb296, 0xdf0d, 0x4980, 0xc82b, 0xf9e7, 0xc32a, 0x0, 0x0);
        gbc.writeMem(0xb296, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdf0d);
        EXPECT(gbc.pc(), 0xb297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb296), 0x89);
        // 89 01D5
        gbc.setState(0x6ca2, 0x2758, 0xfe10, 0xd2a5, 0xd6de, 0x498b, 0x0, 0x1);
        gbc.writeMem(0x6ca2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x2758);
        EXPECT(gbc.pc(), 0x6ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01D6
        gbc.setState(0xeb5f, 0x14c6, 0x54b0, 0x2269, 0x10b6, 0x48d4, 0x0, 0x0);
        gbc.writeMem(0xeb5f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x14c6);
        EXPECT(gbc.pc(), 0xeb60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb5f), 0x89);
        // 89 01D7
        gbc.setState(0x29ba, 0x3de0, 0xbab0, 0x8ebd, 0x7208, 0x29b2, 0x1, 0x0);
        gbc.writeMem(0x29ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3de0);
        EXPECT(gbc.pc(), 0x29bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01D9
        gbc.setState(0xcde6, 0xa402, 0xd490, 0x23a7, 0x4fda, 0x5fbc, 0x0, 0x0);
        gbc.writeMem(0xcde6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa402);
        EXPECT(gbc.pc(), 0xcde7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcde6), 0x89);
        // 89 01DA
        gbc.setState(0x1c2d, 0x63d5, 0x7770, 0x5b7a, 0x9bfe, 0xb15d, 0x1, 0x1);
        gbc.writeMem(0x1c2d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x63d5);
        EXPECT(gbc.pc(), 0x1c2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01DB
        gbc.setState(0x4801, 0xf90e, 0xf200, 0x6c55, 0x8050, 0xe85d, 0x0, 0x0);
        gbc.writeMem(0x4801, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf90e);
        EXPECT(gbc.pc(), 0x4802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01DC
        gbc.setState(0x826, 0xf7ec, 0xd600, 0xbbc8, 0x9fc1, 0xf182, 0x1, 0x0);
        gbc.writeMem(0x826, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf7ec);
        EXPECT(gbc.pc(), 0x827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01DD
        gbc.setState(0x340e, 0xdb7d, 0x6540, 0x81d8, 0x6cab, 0x5a41, 0x1, 0x1);
        gbc.writeMem(0x340e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdb7d);
        EXPECT(gbc.pc(), 0x340f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01DE
        gbc.setState(0x6e8b, 0xa190, 0xcd80, 0x2448, 0x777f, 0x9114, 0x0, 0x1);
        gbc.writeMem(0x6e8b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa190);
        EXPECT(gbc.pc(), 0x6e8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01DF
        gbc.setState(0x9aa6, 0x2293, 0x4cb0, 0xb9b5, 0x85c4, 0x7fe5, 0x1, 0x0);
        gbc.writeMem(0x9aa6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x2293);
        EXPECT(gbc.pc(), 0x9aa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aa6), 0x89);
        // 89 01E0
        gbc.setState(0x9362, 0x7324, 0x3070, 0x3c70, 0xa378, 0xd2c9, 0x0, 0x1);
        gbc.writeMem(0x9362, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7324);
        EXPECT(gbc.pc(), 0x9363);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9362), 0x89);
        // 89 01E1
        gbc.setState(0x7f93, 0x996f, 0xd560, 0x7c14, 0x3888, 0x7cc3, 0x1, 0x0);
        gbc.writeMem(0x7f93, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x996f);
        EXPECT(gbc.pc(), 0x7f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01E2
        gbc.setState(0x3e2d, 0x8aa4, 0x3630, 0x3b3a, 0xcea5, 0x7dc3, 0x0, 0x0);
        gbc.writeMem(0x3e2d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8aa4);
        EXPECT(gbc.pc(), 0x3e2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01E3
        gbc.setState(0x10ac, 0x4929, 0x77d0, 0x9bb1, 0xfa0f, 0x7be1, 0x0, 0x0);
        gbc.writeMem(0x10ac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x4929);
        EXPECT(gbc.pc(), 0x10ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01E4
        gbc.setState(0x1b4, 0xbc43, 0xd340, 0xbdc6, 0x7247, 0xe203, 0x1, 0x1);
        gbc.writeMem(0x1b4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xbc43);
        EXPECT(gbc.pc(), 0x1b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01E5
        gbc.setState(0x2564, 0x3cf0, 0xc980, 0x63d4, 0x7382, 0x8769, 0x0, 0x0);
        gbc.writeMem(0x2564, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3cf0);
        EXPECT(gbc.pc(), 0x2565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01E6
        gbc.setState(0xadd, 0xa28c, 0x3570, 0x1163, 0xf245, 0x6cee, 0x0, 0x1);
        gbc.writeMem(0xadd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xa28c);
        EXPECT(gbc.pc(), 0xade);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01E7
        gbc.setState(0x97c7, 0x228c, 0x61a0, 0xbe3f, 0xcc78, 0x9265, 0x1, 0x0);
        gbc.writeMem(0x97c7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x228c);
        EXPECT(gbc.pc(), 0x97c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c7), 0x89);
        // 89 01E8
        gbc.setState(0x9be9, 0x88e5, 0x350, 0x3884, 0x2165, 0xf482, 0x0, 0x0);
        gbc.writeMem(0x9be9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x88e5);
        EXPECT(gbc.pc(), 0x9bea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9be9), 0x89);
        // 89 01E9
        gbc.setState(0x686e, 0xac29, 0xf4d0, 0x86c1, 0x230a, 0x6f55, 0x0, 0x0);
        gbc.writeMem(0x686e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xac29);
        EXPECT(gbc.pc(), 0x686f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01EA
        gbc.setState(0xb3ad, 0x644, 0xdf00, 0xe441, 0x9b2, 0xb81b, 0x0, 0x1);
        gbc.writeMem(0xb3ad, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x644);
        EXPECT(gbc.pc(), 0xb3ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ad), 0x89);
        // 89 01EB
        gbc.setState(0x5777, 0xb650, 0x83b0, 0xaa4b, 0xe1ce, 0x7210, 0x1, 0x1);
        gbc.writeMem(0x5777, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb650);
        EXPECT(gbc.pc(), 0x5778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01EC
        gbc.setState(0xce6b, 0xbf86, 0x7f0, 0x8c9a, 0x5015, 0x823e, 0x0, 0x1);
        gbc.writeMem(0xce6b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbf86);
        EXPECT(gbc.pc(), 0xce6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6b), 0x89);
        // 89 01ED
        gbc.setState(0x4f49, 0xc664, 0xf010, 0xfd62, 0x136a, 0xda3d, 0x0, 0x1);
        gbc.writeMem(0x4f49, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc664);
        EXPECT(gbc.pc(), 0x4f4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01EE
        gbc.setState(0xef1c, 0x34d0, 0xe520, 0xca96, 0x8673, 0xa11e, 0x1, 0x0);
        gbc.writeMem(0xef1c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x34d0);
        EXPECT(gbc.pc(), 0xef1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef1c), 0x89);
        // 89 01EF
        gbc.setState(0x6313, 0x5fed, 0x7a0, 0x5bf4, 0x4d8a, 0xcfd7, 0x1, 0x1);
        gbc.writeMem(0x6313, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x5fed);
        EXPECT(gbc.pc(), 0x6314);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 01F0
        gbc.setState(0x2c92, 0xbeb0, 0x2c80, 0xdf95, 0x51ec, 0xbb8a, 0x1, 0x1);
        gbc.writeMem(0x2c92, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbeb0);
        EXPECT(gbc.pc(), 0x2c93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01F1
        gbc.setState(0x156, 0xc14d, 0xb4c0, 0xac6a, 0x1b42, 0xb881, 0x1, 0x0);
        gbc.writeMem(0x156, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc14d);
        EXPECT(gbc.pc(), 0x157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01F2
        gbc.setState(0xadc3, 0x6f74, 0x850, 0xe447, 0x4e21, 0xff0d, 0x0, 0x0);
        gbc.writeMem(0xadc3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6f74);
        EXPECT(gbc.pc(), 0xadc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadc3), 0x89);
        // 89 01F3
        gbc.setState(0x34c9, 0xd13f, 0xcd40, 0x6f62, 0xcbe7, 0xc581, 0x0, 0x1);
        gbc.writeMem(0x34c9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd13f);
        EXPECT(gbc.pc(), 0x34ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01F4
        gbc.setState(0x2ac7, 0xb3fb, 0xb120, 0xbdc2, 0xfc50, 0x1488, 0x0, 0x0);
        gbc.writeMem(0x2ac7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb3fb);
        EXPECT(gbc.pc(), 0x2ac8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 01F6
        gbc.setState(0xa18, 0x71b9, 0x5b50, 0xffbb, 0x19e9, 0x7d3d, 0x0, 0x0);
        gbc.writeMem(0xa18, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x71b9);
        EXPECT(gbc.pc(), 0xa19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01F7
        gbc.setState(0x5a93, 0x143d, 0x6f40, 0xd77c, 0xa887, 0x11ee, 0x1, 0x1);
        gbc.writeMem(0x5a93, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x143d);
        EXPECT(gbc.pc(), 0x5a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 01F8
        gbc.setState(0x1ebb, 0xf748, 0xfd90, 0xc6d9, 0xe298, 0x95a8, 0x0, 0x0);
        gbc.writeMem(0x1ebb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf748);
        EXPECT(gbc.pc(), 0x1ebc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 01F9
        gbc.setState(0xef6d, 0xc7e0, 0xa460, 0x1561, 0x7532, 0xed69, 0x0, 0x1);
        gbc.writeMem(0xef6d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc7e0);
        EXPECT(gbc.pc(), 0xef6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef6d), 0x89);
        // 89 01FA
        gbc.setState(0xabd3, 0xec4f, 0x5b00, 0x60cb, 0xf0fc, 0x4461, 0x0, 0x1);
        gbc.writeMem(0xabd3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xec4f);
        EXPECT(gbc.pc(), 0xabd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabd3), 0x89);
        // 89 01FB
        gbc.setState(0xcc9a, 0xbadd, 0xb6b0, 0xcde4, 0xd8fc, 0xcfc3, 0x1, 0x1);
        gbc.writeMem(0xcc9a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xbadd);
        EXPECT(gbc.pc(), 0xcc9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc9a), 0x89);
        // 89 01FC
        gbc.setState(0xef0d, 0x8883, 0x4100, 0xba29, 0x79f9, 0x40bf, 0x1, 0x1);
        gbc.writeMem(0xef0d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8883);
        EXPECT(gbc.pc(), 0xef0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef0d), 0x89);
        // 89 01FD
        gbc.setState(0xce00, 0xbdd4, 0xacf0, 0x5da6, 0xcdd7, 0x7f5b, 0x1, 0x0);
        gbc.writeMem(0xce00, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbdd4);
        EXPECT(gbc.pc(), 0xce01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce00), 0x89);
        // 89 01FE
        gbc.setState(0x2c3b, 0x2e31, 0xca0, 0x90d3, 0xdb78, 0x81d2, 0x0, 0x1);
        gbc.writeMem(0x2c3b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2e31);
        EXPECT(gbc.pc(), 0x2c3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0200
        gbc.setState(0x4e43, 0xa6f7, 0xe20, 0xcb83, 0x3f16, 0xeada, 0x0, 0x1);
        gbc.writeMem(0x4e43, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa6f7);
        EXPECT(gbc.pc(), 0x4e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0201
        gbc.setState(0xccbc, 0x78f, 0x1af0, 0x288d, 0x24c3, 0xa857, 0x1, 0x1);
        gbc.writeMem(0xccbc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x78f);
        EXPECT(gbc.pc(), 0xccbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccbc), 0x89);
        // 89 0203
        gbc.setState(0xc8d5, 0x9247, 0xd040, 0x4729, 0x7225, 0x2eb9, 0x1, 0x0);
        gbc.writeMem(0xc8d5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9247);
        EXPECT(gbc.pc(), 0xc8d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d5), 0x89);
        // 89 0204
        gbc.setState(0x2fb0, 0xa063, 0x27b0, 0x47cc, 0x40e0, 0x7fbb, 0x0, 0x0);
        gbc.writeMem(0x2fb0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa063);
        EXPECT(gbc.pc(), 0x2fb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0205
        gbc.setState(0x86f2, 0xe188, 0xb10, 0x45ea, 0x87e9, 0xce2f, 0x0, 0x1);
        gbc.writeMem(0x86f2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe188);
        EXPECT(gbc.pc(), 0x86f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86f2), 0x89);
        // 89 0206
        gbc.setState(0x3ff0, 0xed20, 0x8310, 0x22cc, 0x505, 0xcae0, 0x1, 0x0);
        gbc.writeMem(0x3ff0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xed20);
        EXPECT(gbc.pc(), 0x3ff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0207
        gbc.setState(0x7b12, 0xed0f, 0xbb40, 0x4123, 0x9a91, 0xa890, 0x1, 0x0);
        gbc.writeMem(0x7b12, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xed0f);
        EXPECT(gbc.pc(), 0x7b13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0208
        gbc.setState(0x9b9, 0x12fc, 0xec80, 0xedb8, 0xb0c5, 0xe61e, 0x1, 0x0);
        gbc.writeMem(0x9b9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x12fc);
        EXPECT(gbc.pc(), 0x9ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0209
        gbc.setState(0x373e, 0x9169, 0xbf0, 0x2d1c, 0x7109, 0x6455, 0x1, 0x1);
        gbc.writeMem(0x373e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9169);
        EXPECT(gbc.pc(), 0x373f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 020A
        gbc.setState(0x8729, 0xc442, 0x27a0, 0xb5c7, 0x46cd, 0x938e, 0x0, 0x0);
        gbc.writeMem(0x8729, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc442);
        EXPECT(gbc.pc(), 0x872a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8729), 0x89);
        // 89 020B
        gbc.setState(0x9b24, 0x6b51, 0x96d0, 0x4db8, 0xe865, 0x3583, 0x0, 0x1);
        gbc.writeMem(0x9b24, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6b51);
        EXPECT(gbc.pc(), 0x9b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b24), 0x89);
        // 89 020C
        gbc.setState(0x1282, 0x2821, 0xd270, 0xbe97, 0x2cf9, 0x1c53, 0x0, 0x1);
        gbc.writeMem(0x1282, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2821);
        EXPECT(gbc.pc(), 0x1283);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 020D
        gbc.setState(0x6325, 0xa55a, 0x1fb0, 0x98d3, 0x3302, 0x8be7, 0x0, 0x0);
        gbc.writeMem(0x6325, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa55a);
        EXPECT(gbc.pc(), 0x6326);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 020E
        gbc.setState(0xe92e, 0xe810, 0x5f60, 0x28f9, 0xab1, 0xf0cf, 0x1, 0x1);
        gbc.writeMem(0xe92e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe810);
        EXPECT(gbc.pc(), 0xe92f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe92e), 0x89);
        // 89 020F
        gbc.setState(0x8e0, 0x5436, 0x9560, 0x5762, 0xefa4, 0x2f13, 0x0, 0x0);
        gbc.writeMem(0x8e0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5436);
        EXPECT(gbc.pc(), 0x8e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0210
        gbc.setState(0x569, 0x4f8a, 0xea80, 0xca16, 0x7322, 0xc883, 0x1, 0x0);
        gbc.writeMem(0x569, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x4f8a);
        EXPECT(gbc.pc(), 0x56a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0211
        gbc.setState(0xb890, 0xcb6d, 0xa810, 0xa0c6, 0xb45c, 0x6745, 0x1, 0x0);
        gbc.writeMem(0xb890, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xcb6d);
        EXPECT(gbc.pc(), 0xb891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb890), 0x89);
        // 89 0212
        gbc.setState(0x36d5, 0x1114, 0xf210, 0xd0d8, 0x88cc, 0x22f7, 0x1, 0x0);
        gbc.writeMem(0x36d5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1114);
        EXPECT(gbc.pc(), 0x36d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0213
        gbc.setState(0x4730, 0x6c29, 0x7600, 0x707d, 0xc4dc, 0xc04f, 0x0, 0x1);
        gbc.writeMem(0x4730, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x6c29);
        EXPECT(gbc.pc(), 0x4731);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0214
        gbc.setState(0x6ce5, 0xe5c8, 0xd80, 0x474b, 0x56bf, 0xd8a9, 0x1, 0x0);
        gbc.writeMem(0x6ce5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe5c8);
        EXPECT(gbc.pc(), 0x6ce6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0215
        gbc.setState(0xe876, 0x2aa5, 0x9700, 0x64b6, 0xbcc2, 0x260f, 0x0, 0x0);
        gbc.writeMem(0xe876, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2aa5);
        EXPECT(gbc.pc(), 0xe877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe876), 0x89);
        // 89 0216
        gbc.setState(0x3da9, 0x3ef0, 0x1cc0, 0x9b7, 0x9c28, 0xbd4, 0x0, 0x1);
        gbc.writeMem(0x3da9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3ef0);
        EXPECT(gbc.pc(), 0x3daa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0217
        gbc.setState(0xd68d, 0x31bb, 0x3370, 0x81e7, 0xf8aa, 0x695f, 0x0, 0x1);
        gbc.writeMem(0xd68d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x31bb);
        EXPECT(gbc.pc(), 0xd68e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd68d), 0x89);
        // 89 0218
        gbc.setState(0xb390, 0x8392, 0xf50, 0x96ae, 0xfe16, 0x3427, 0x1, 0x0);
        gbc.writeMem(0xb390, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8392);
        EXPECT(gbc.pc(), 0xb391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb390), 0x89);
        // 89 0219
        gbc.setState(0x4afb, 0x7572, 0xa900, 0x1e7b, 0x619e, 0xc5, 0x0, 0x1);
        gbc.writeMem(0x4afb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7572);
        EXPECT(gbc.pc(), 0x4afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 021A
        gbc.setState(0x9eeb, 0x8561, 0x6160, 0xf615, 0x1db5, 0x7d09, 0x1, 0x1);
        gbc.writeMem(0x9eeb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8561);
        EXPECT(gbc.pc(), 0x9eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eeb), 0x89);
        // 89 021B
        gbc.setState(0x43bf, 0x7fa8, 0x8070, 0x9172, 0xe51f, 0x6830, 0x0, 0x1);
        gbc.writeMem(0x43bf, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x7fa8);
        EXPECT(gbc.pc(), 0x43c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 021C
        gbc.setState(0xb457, 0x9782, 0x8240, 0xcd59, 0x1179, 0x8c7a, 0x1, 0x1);
        gbc.writeMem(0xb457, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x9782);
        EXPECT(gbc.pc(), 0xb458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb457), 0x89);
        // 89 021D
        gbc.setState(0x796b, 0x9ac8, 0x4840, 0x3827, 0xa88b, 0xb9ff, 0x0, 0x1);
        gbc.writeMem(0x796b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x9ac8);
        EXPECT(gbc.pc(), 0x796c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 021E
        gbc.setState(0xb592, 0xe609, 0x5c00, 0xd265, 0xde0f, 0xd2ef, 0x0, 0x0);
        gbc.writeMem(0xb592, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe609);
        EXPECT(gbc.pc(), 0xb593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb592), 0x89);
        // 89 021F
        gbc.setState(0xd2d, 0xadf7, 0x8c80, 0x4a13, 0xd989, 0xfabe, 0x0, 0x1);
        gbc.writeMem(0xd2d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xadf7);
        EXPECT(gbc.pc(), 0xd2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0220
        gbc.setState(0x1410, 0xfb64, 0xf170, 0x65f7, 0x86d6, 0x41a4, 0x1, 0x1);
        gbc.writeMem(0x1410, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xfb64);
        EXPECT(gbc.pc(), 0x1411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0221
        gbc.setState(0xb003, 0x931e, 0xa710, 0x74a8, 0xf59b, 0xafea, 0x0, 0x1);
        gbc.writeMem(0xb003, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x931e);
        EXPECT(gbc.pc(), 0xb004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb003), 0x89);
        // 89 0223
        gbc.setState(0x82e3, 0x48fb, 0xd7b0, 0x5dfb, 0xc717, 0xf227, 0x0, 0x1);
        gbc.writeMem(0x82e3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x48fb);
        EXPECT(gbc.pc(), 0x82e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82e3), 0x89);
        // 89 0224
        gbc.setState(0x22a4, 0xd76b, 0x5e0, 0xcded, 0x92bc, 0xac93, 0x1, 0x0);
        gbc.writeMem(0x22a4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd76b);
        EXPECT(gbc.pc(), 0x22a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0225
        gbc.setState(0xc8f8, 0xc579, 0xa240, 0xb0a3, 0x91b6, 0xcb9b, 0x1, 0x1);
        gbc.writeMem(0xc8f8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc579);
        EXPECT(gbc.pc(), 0xc8f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f8), 0x89);
        // 89 0226
        gbc.setState(0xc452, 0x3d8f, 0x6e60, 0x736f, 0x1296, 0x3274, 0x0, 0x1);
        gbc.writeMem(0xc452, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3d8f);
        EXPECT(gbc.pc(), 0xc453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc452), 0x89);
        // 89 0227
        gbc.setState(0xd78a, 0x1a8f, 0xb410, 0xd3ad, 0x56f6, 0xde95, 0x0, 0x0);
        gbc.writeMem(0xd78a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x1a8f);
        EXPECT(gbc.pc(), 0xd78b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd78a), 0x89);
        // 89 0228
        gbc.setState(0x6dec, 0x5bb6, 0xe830, 0xdcd5, 0xaa0f, 0x8bb3, 0x0, 0x1);
        gbc.writeMem(0x6dec, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5bb6);
        EXPECT(gbc.pc(), 0x6ded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0229
        gbc.setState(0x3190, 0xe733, 0xd740, 0x425c, 0x52d6, 0x545d, 0x0, 0x0);
        gbc.writeMem(0x3190, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xe733);
        EXPECT(gbc.pc(), 0x3191);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 022A
        gbc.setState(0xa841, 0x2bb6, 0xac0, 0x69d, 0x9a8, 0x958a, 0x0, 0x1);
        gbc.writeMem(0xa841, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2bb6);
        EXPECT(gbc.pc(), 0xa842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa841), 0x89);
        // 89 022B
        gbc.setState(0x132, 0xb2db, 0xaef0, 0xb258, 0xa54c, 0x4b52, 0x0, 0x0);
        gbc.writeMem(0x132, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb2db);
        EXPECT(gbc.pc(), 0x133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 022C
        gbc.setState(0x158f, 0xac04, 0x5b00, 0x785d, 0xdb16, 0x4f54, 0x0, 0x0);
        gbc.writeMem(0x158f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xac04);
        EXPECT(gbc.pc(), 0x1590);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 022D
        gbc.setState(0x757b, 0x797e, 0xfdf0, 0x81a0, 0x9d93, 0x7626, 0x0, 0x0);
        gbc.writeMem(0x757b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x797e);
        EXPECT(gbc.pc(), 0x757c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 022E
        gbc.setState(0x2c6e, 0x2588, 0xbb40, 0xba63, 0x7ed5, 0x37e1, 0x1, 0x0);
        gbc.writeMem(0x2c6e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2588);
        EXPECT(gbc.pc(), 0x2c6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 022F
        gbc.setState(0xc998, 0x614e, 0xba00, 0x82c9, 0x2bc6, 0x1abb, 0x1, 0x1);
        gbc.writeMem(0xc998, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x614e);
        EXPECT(gbc.pc(), 0xc999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc998), 0x89);
        // 89 0230
        gbc.setState(0x8445, 0x8dfe, 0x7290, 0x2e79, 0xc761, 0xc2b7, 0x0, 0x1);
        gbc.writeMem(0x8445, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8dfe);
        EXPECT(gbc.pc(), 0x8446);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8445), 0x89);
        // 89 0231
        gbc.setState(0x18b4, 0x369d, 0xff40, 0x861, 0xc8f, 0x508e, 0x0, 0x1);
        gbc.writeMem(0x18b4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x369d);
        EXPECT(gbc.pc(), 0x18b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0232
        gbc.setState(0xde5b, 0xe774, 0xecc0, 0x94de, 0xecf2, 0xedaf, 0x0, 0x0);
        gbc.writeMem(0xde5b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe774);
        EXPECT(gbc.pc(), 0xde5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5b), 0x89);
        // 89 0234
        gbc.setState(0x63c1, 0x8095, 0x38e0, 0xef71, 0xb92e, 0x4f6d, 0x0, 0x0);
        gbc.writeMem(0x63c1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8095);
        EXPECT(gbc.pc(), 0x63c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0235
        gbc.setState(0x4455, 0xfbb3, 0x6ad0, 0x3838, 0x6ba4, 0xd964, 0x1, 0x1);
        gbc.writeMem(0x4455, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xfbb3);
        EXPECT(gbc.pc(), 0x4456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0236
        gbc.setState(0xd19b, 0x3c72, 0xeb30, 0x8819, 0x6625, 0xa2, 0x1, 0x1);
        gbc.writeMem(0xd19b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3c72);
        EXPECT(gbc.pc(), 0xd19c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd19b), 0x89);
        // 89 0237
        gbc.setState(0x6da0, 0x48a8, 0x4a50, 0xdc4d, 0x5c36, 0xb9e2, 0x0, 0x0);
        gbc.writeMem(0x6da0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x48a8);
        EXPECT(gbc.pc(), 0x6da1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0238
        gbc.setState(0xa3af, 0x8213, 0x9180, 0xb131, 0x4d6a, 0xd2dd, 0x1, 0x1);
        gbc.writeMem(0xa3af, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x8213);
        EXPECT(gbc.pc(), 0xa3b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3af), 0x89);
        // 89 0239
        gbc.setState(0xb3fb, 0xd50d, 0x8ff0, 0xc9ae, 0x4687, 0xdd00, 0x1, 0x1);
        gbc.writeMem(0xb3fb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd50d);
        EXPECT(gbc.pc(), 0xb3fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3fb), 0x89);
        // 89 023A
        gbc.setState(0xa9ef, 0xe290, 0xdeb0, 0xfcd2, 0x6044, 0xfc0, 0x0, 0x1);
        gbc.writeMem(0xa9ef, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe290);
        EXPECT(gbc.pc(), 0xa9f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ef), 0x89);
        // 89 023B
        gbc.setState(0xc8c5, 0x42aa, 0x16a0, 0xb8ce, 0x1a31, 0x7bb9, 0x1, 0x1);
        gbc.writeMem(0xc8c5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x42aa);
        EXPECT(gbc.pc(), 0xc8c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8c5), 0x89);
        // 89 023C
        gbc.setState(0x1c13, 0xb55, 0x30f0, 0x37cf, 0x3da2, 0xbb2b, 0x0, 0x1);
        gbc.writeMem(0x1c13, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xb55);
        EXPECT(gbc.pc(), 0x1c14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 023D
        gbc.setState(0xeee7, 0x8543, 0xefe0, 0xdf62, 0xdfdf, 0x4124, 0x0, 0x0);
        gbc.writeMem(0xeee7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8543);
        EXPECT(gbc.pc(), 0xeee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeee7), 0x89);
        // 89 023E
        gbc.setState(0x13ff, 0x9e55, 0xca10, 0xb6e1, 0x7e37, 0x8fbd, 0x0, 0x0);
        gbc.writeMem(0x13ff, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9e55);
        EXPECT(gbc.pc(), 0x1400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0240
        gbc.setState(0x215, 0x2236, 0x6050, 0x3c58, 0x7c1, 0x5161, 0x1, 0x0);
        gbc.writeMem(0x215, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x2236);
        EXPECT(gbc.pc(), 0x216);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0241
        gbc.setState(0xec3, 0x82ad, 0xbcc0, 0xb724, 0xf25, 0xad56, 0x0, 0x1);
        gbc.writeMem(0xec3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x82ad);
        EXPECT(gbc.pc(), 0xec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0242
        gbc.setState(0xec6f, 0x7b76, 0x2f70, 0x2604, 0x561d, 0xceb1, 0x0, 0x1);
        gbc.writeMem(0xec6f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7b76);
        EXPECT(gbc.pc(), 0xec70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec6f), 0x89);
        // 89 0243
        gbc.setState(0x85bb, 0xf684, 0xda40, 0x85a7, 0x3e59, 0x2036, 0x1, 0x1);
        gbc.writeMem(0x85bb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf684);
        EXPECT(gbc.pc(), 0x85bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85bb), 0x89);
        // 89 0244
        gbc.setState(0x24f6, 0xfdb7, 0xc6d0, 0x69bc, 0xeb39, 0x82bb, 0x0, 0x1);
        gbc.writeMem(0x24f6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xfdb7);
        EXPECT(gbc.pc(), 0x24f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0245
        gbc.setState(0x981e, 0x2ed5, 0xb100, 0x6890, 0xdd6e, 0xcb24, 0x0, 0x0);
        gbc.writeMem(0x981e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2ed5);
        EXPECT(gbc.pc(), 0x981f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x981e), 0x89);
        // 89 0246
        gbc.setState(0x7274, 0x9596, 0x1060, 0x8f79, 0xcdf9, 0x3225, 0x0, 0x0);
        gbc.writeMem(0x7274, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9596);
        EXPECT(gbc.pc(), 0x7275);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0247
        gbc.setState(0xa2b5, 0x3c48, 0x6330, 0xbdcd, 0x52b7, 0x6044, 0x0, 0x1);
        gbc.writeMem(0xa2b5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3c48);
        EXPECT(gbc.pc(), 0xa2b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2b5), 0x89);
        // 89 0248
        gbc.setState(0xb62b, 0x664c, 0x7f30, 0x64e8, 0x9728, 0x7248, 0x0, 0x0);
        gbc.writeMem(0xb62b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x664c);
        EXPECT(gbc.pc(), 0xb62c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb62b), 0x89);
        // 89 0249
        gbc.setState(0x1f60, 0xa29e, 0x530, 0x63ca, 0x2819, 0x4ae6, 0x1, 0x1);
        gbc.writeMem(0x1f60, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xa29e);
        EXPECT(gbc.pc(), 0x1f61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 024A
        gbc.setState(0xd877, 0xeeb1, 0xd60, 0xaf67, 0xfdc3, 0xea67, 0x1, 0x0);
        gbc.writeMem(0xd877, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xeeb1);
        EXPECT(gbc.pc(), 0xd878);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd877), 0x89);
        // 89 024B
        gbc.setState(0x92e9, 0x7c99, 0x3d60, 0xd022, 0xd90, 0x1be9, 0x0, 0x1);
        gbc.writeMem(0x92e9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7c99);
        EXPECT(gbc.pc(), 0x92ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92e9), 0x89);
        // 89 024C
        gbc.setState(0xa7e, 0x1f47, 0xc770, 0xd6b7, 0x5a0, 0x253e, 0x1, 0x0);
        gbc.writeMem(0xa7e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1f47);
        EXPECT(gbc.pc(), 0xa7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 024D
        gbc.setState(0x182, 0xe942, 0xd070, 0x16f0, 0x8f6d, 0x4969, 0x1, 0x1);
        gbc.writeMem(0x182, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe942);
        EXPECT(gbc.pc(), 0x183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 024E
        gbc.setState(0xa63d, 0xc6f6, 0xa190, 0xac0c, 0xbb94, 0x18c5, 0x0, 0x0);
        gbc.writeMem(0xa63d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc6f6);
        EXPECT(gbc.pc(), 0xa63e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa63d), 0x89);
        // 89 024F
        gbc.setState(0xa2b9, 0x5aa8, 0xd0, 0x992c, 0xaad7, 0x3596, 0x1, 0x1);
        gbc.writeMem(0xa2b9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5aa8);
        EXPECT(gbc.pc(), 0xa2ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2b9), 0x89);
        // 89 0250
        gbc.setState(0x6f33, 0x58fb, 0x3d60, 0x35bb, 0x7895, 0x691a, 0x1, 0x1);
        gbc.writeMem(0x6f33, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x58fb);
        EXPECT(gbc.pc(), 0x6f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0251
        gbc.setState(0xa644, 0xfd6, 0xd220, 0x3c13, 0x30ca, 0x1cd0, 0x1, 0x1);
        gbc.writeMem(0xa644, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xfd6);
        EXPECT(gbc.pc(), 0xa645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa644), 0x89);
        // 89 0252
        gbc.setState(0xc8f5, 0xe16a, 0xb680, 0x50e8, 0xf935, 0x8537, 0x1, 0x0);
        gbc.writeMem(0xc8f5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe16a);
        EXPECT(gbc.pc(), 0xc8f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f5), 0x89);
        // 89 0253
        gbc.setState(0x424d, 0x178d, 0xa890, 0x7bf3, 0x1f33, 0x6c1d, 0x0, 0x1);
        gbc.writeMem(0x424d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x178d);
        EXPECT(gbc.pc(), 0x424e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0254
        gbc.setState(0x9f4, 0xff4f, 0x93a0, 0x6dae, 0x1d45, 0x2019, 0x1, 0x1);
        gbc.writeMem(0x9f4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xff4f);
        EXPECT(gbc.pc(), 0x9f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0256
        gbc.setState(0x3fe1, 0x4834, 0x4f50, 0xa928, 0xd625, 0x8728, 0x1, 0x0);
        gbc.writeMem(0x3fe1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x4834);
        EXPECT(gbc.pc(), 0x3fe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0257
        gbc.setState(0xa484, 0x303a, 0xf320, 0x9121, 0x1075, 0x499, 0x1, 0x1);
        gbc.writeMem(0xa484, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x303a);
        EXPECT(gbc.pc(), 0xa485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa484), 0x89);
        // 89 0258
        gbc.setState(0xe433, 0xc89a, 0xa80, 0x139a, 0xbb64, 0xb6a7, 0x1, 0x1);
        gbc.writeMem(0xe433, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xc89a);
        EXPECT(gbc.pc(), 0xe434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe433), 0x89);
        // 89 0259
        gbc.setState(0xafb0, 0xaf17, 0xa130, 0x1be3, 0xb472, 0xedd7, 0x1, 0x0);
        gbc.writeMem(0xafb0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xaf17);
        EXPECT(gbc.pc(), 0xafb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafb0), 0x89);
        // 89 025A
        gbc.setState(0xa725, 0xb319, 0xab10, 0xab05, 0xaacf, 0x9f92, 0x1, 0x0);
        gbc.writeMem(0xa725, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xb319);
        EXPECT(gbc.pc(), 0xa726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa725), 0x89);
        // 89 025D
        gbc.setState(0xe4d7, 0x15c1, 0xe550, 0xc71d, 0xa888, 0x2cea, 0x0, 0x1);
        gbc.writeMem(0xe4d7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x15c1);
        EXPECT(gbc.pc(), 0xe4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d7), 0x89);
        // 89 025E
        gbc.setState(0x19eb, 0xaaef, 0x2600, 0xfbfa, 0xec92, 0x13c6, 0x0, 0x1);
        gbc.writeMem(0x19eb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xaaef);
        EXPECT(gbc.pc(), 0x19ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 025F
        gbc.setState(0x4c81, 0x7802, 0xe450, 0xb757, 0x56cf, 0x4472, 0x0, 0x1);
        gbc.writeMem(0x4c81, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7802);
        EXPECT(gbc.pc(), 0x4c82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0260
        gbc.setState(0x55dd, 0x844b, 0x5880, 0xb68b, 0x2da2, 0xbd43, 0x0, 0x0);
        gbc.writeMem(0x55dd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x844b);
        EXPECT(gbc.pc(), 0x55de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0261
        gbc.setState(0xd2ee, 0x5f5c, 0x1a40, 0x1f6d, 0x909, 0x4083, 0x0, 0x0);
        gbc.writeMem(0xd2ee, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x5f5c);
        EXPECT(gbc.pc(), 0xd2ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2ee), 0x89);
        // 89 0262
        gbc.setState(0xaa9b, 0x4189, 0xf770, 0x8f07, 0xcd15, 0xe798, 0x1, 0x1);
        gbc.writeMem(0xaa9b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4189);
        EXPECT(gbc.pc(), 0xaa9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa9b), 0x89);
        // 89 0263
        gbc.setState(0x43cd, 0x59ca, 0x7c20, 0x789f, 0x10e8, 0xa824, 0x1, 0x1);
        gbc.writeMem(0x43cd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x59ca);
        EXPECT(gbc.pc(), 0x43ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0264
        gbc.setState(0xe965, 0xdc2f, 0x90d0, 0xac02, 0xc933, 0x8284, 0x0, 0x1);
        gbc.writeMem(0xe965, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xdc2f);
        EXPECT(gbc.pc(), 0xe966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe965), 0x89);
        // 89 0265
        gbc.setState(0xfb9, 0xb4e7, 0xa0c0, 0xee3f, 0x8f68, 0xa6cd, 0x0, 0x1);
        gbc.writeMem(0xfb9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb4e7);
        EXPECT(gbc.pc(), 0xfba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0266
        gbc.setState(0x5e0b, 0xa8b6, 0xd460, 0x1e31, 0xd661, 0xb50f, 0x0, 0x1);
        gbc.writeMem(0x5e0b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa8b6);
        EXPECT(gbc.pc(), 0x5e0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0267
        gbc.setState(0x2f7, 0xb2f, 0x68b0, 0xa0fe, 0x8b1b, 0xe10d, 0x0, 0x1);
        gbc.writeMem(0x2f7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb2f);
        EXPECT(gbc.pc(), 0x2f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0268
        gbc.setState(0xce1c, 0x9b72, 0xc270, 0x4604, 0x68bc, 0x1870, 0x1, 0x0);
        gbc.writeMem(0xce1c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9b72);
        EXPECT(gbc.pc(), 0xce1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce1c), 0x89);
        // 89 0269
        gbc.setState(0xc425, 0xa319, 0x2ea0, 0xc61c, 0x8ad3, 0xc5c1, 0x1, 0x1);
        gbc.writeMem(0xc425, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa319);
        EXPECT(gbc.pc(), 0xc426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc425), 0x89);
        // 89 026A
        gbc.setState(0xb382, 0x29b, 0xc5f0, 0x87c9, 0xcd68, 0x1de8, 0x1, 0x0);
        gbc.writeMem(0xb382, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x29b);
        EXPECT(gbc.pc(), 0xb383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb382), 0x89);
        // 89 026B
        gbc.setState(0x9741, 0xd0d, 0x7c30, 0xb613, 0x8294, 0x91a6, 0x1, 0x1);
        gbc.writeMem(0x9741, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xd0d);
        EXPECT(gbc.pc(), 0x9742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9741), 0x89);
        // 89 026C
        gbc.setState(0x7373, 0x3b4e, 0x1b90, 0x4531, 0x561d, 0xe29d, 0x1, 0x0);
        gbc.writeMem(0x7373, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3b4e);
        EXPECT(gbc.pc(), 0x7374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 026D
        gbc.setState(0x523a, 0xb5c1, 0x9130, 0x2057, 0x7558, 0xd865, 0x0, 0x0);
        gbc.writeMem(0x523a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb5c1);
        EXPECT(gbc.pc(), 0x523b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 026E
        gbc.setState(0x76dc, 0x9960, 0xb4c0, 0xb20f, 0xeed1, 0x375a, 0x1, 0x1);
        gbc.writeMem(0x76dc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9960);
        EXPECT(gbc.pc(), 0x76dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 026F
        gbc.setState(0xa130, 0xd745, 0x1aa0, 0x9b27, 0x57f2, 0xf58a, 0x1, 0x1);
        gbc.writeMem(0xa130, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd745);
        EXPECT(gbc.pc(), 0xa131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa130), 0x89);
        // 89 0270
        gbc.setState(0x300, 0x32c7, 0xd20, 0x293b, 0xdff5, 0x1e9c, 0x1, 0x1);
        gbc.writeMem(0x300, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x32c7);
        EXPECT(gbc.pc(), 0x301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0272
        gbc.setState(0xde66, 0x777c, 0xd7d0, 0x2f14, 0xa8f6, 0xa86e, 0x0, 0x0);
        gbc.writeMem(0xde66, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x777c);
        EXPECT(gbc.pc(), 0xde67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde66), 0x89);
        // 89 0273
        gbc.setState(0x72e3, 0x37d9, 0x4a90, 0x655b, 0x6650, 0xec4e, 0x0, 0x0);
        gbc.writeMem(0x72e3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x37d9);
        EXPECT(gbc.pc(), 0x72e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0274
        gbc.setState(0x799b, 0x3283, 0xc30, 0x623f, 0xc54f, 0x6877, 0x1, 0x0);
        gbc.writeMem(0x799b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3283);
        EXPECT(gbc.pc(), 0x799c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0275
        gbc.setState(0xee5e, 0xa87c, 0xb3d0, 0xec83, 0xc14, 0xd394, 0x0, 0x1);
        gbc.writeMem(0xee5e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa87c);
        EXPECT(gbc.pc(), 0xee5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee5e), 0x89);
        // 89 0276
        gbc.setState(0x64e5, 0xfde, 0x2a50, 0x2b6e, 0xccbe, 0xd982, 0x0, 0x1);
        gbc.writeMem(0x64e5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xfde);
        EXPECT(gbc.pc(), 0x64e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0277
        gbc.setState(0x6bb9, 0x264, 0x3c90, 0xfa4b, 0xb8ec, 0xef76, 0x0, 0x0);
        gbc.writeMem(0x6bb9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x264);
        EXPECT(gbc.pc(), 0x6bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0278
        gbc.setState(0x5913, 0x87a6, 0x7530, 0x21a5, 0xbc8d, 0x4b58, 0x0, 0x1);
        gbc.writeMem(0x5913, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x87a6);
        EXPECT(gbc.pc(), 0x5914);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0279
        gbc.setState(0x2333, 0xb45e, 0xd800, 0x70e3, 0x872d, 0xe20d, 0x0, 0x1);
        gbc.writeMem(0x2333, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb45e);
        EXPECT(gbc.pc(), 0x2334);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 027A
        gbc.setState(0x61d4, 0x2ef1, 0x8680, 0xb50a, 0x1d7, 0xb6ba, 0x1, 0x0);
        gbc.writeMem(0x61d4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x2ef1);
        EXPECT(gbc.pc(), 0x61d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 027B
        gbc.setState(0x6112, 0x64d9, 0xbea0, 0xcd0f, 0x5221, 0xb4ca, 0x1, 0x1);
        gbc.writeMem(0x6112, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x64d9);
        EXPECT(gbc.pc(), 0x6113);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 027C
        gbc.setState(0x6889, 0x94e6, 0x74b0, 0x8e62, 0xd5a8, 0x24b5, 0x0, 0x0);
        gbc.writeMem(0x6889, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x94e6);
        EXPECT(gbc.pc(), 0x688a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 027D
        gbc.setState(0x74fc, 0x763e, 0x32d0, 0xdc98, 0x986a, 0x3ed9, 0x1, 0x1);
        gbc.writeMem(0x74fc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x763e);
        EXPECT(gbc.pc(), 0x74fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 027E
        gbc.setState(0x9c90, 0x6be6, 0x60c0, 0x8a80, 0x6c9b, 0x5f01, 0x1, 0x0);
        gbc.writeMem(0x9c90, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6be6);
        EXPECT(gbc.pc(), 0x9c91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c90), 0x89);
        // 89 027F
        gbc.setState(0x1de3, 0xbdc6, 0x36a0, 0xb2c0, 0xe209, 0x8167, 0x0, 0x0);
        gbc.writeMem(0x1de3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbdc6);
        EXPECT(gbc.pc(), 0x1de4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0280
        gbc.setState(0x90a5, 0xc03c, 0xc080, 0xfdb1, 0x8a5e, 0x9ae9, 0x1, 0x0);
        gbc.writeMem(0x90a5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc03c);
        EXPECT(gbc.pc(), 0x90a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90a5), 0x89);
        // 89 0281
        gbc.setState(0x9f75, 0x76db, 0xe90, 0xc0b9, 0x59ba, 0x7164, 0x0, 0x0);
        gbc.writeMem(0x9f75, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x76db);
        EXPECT(gbc.pc(), 0x9f76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f75), 0x89);
        // 89 0282
        gbc.setState(0xbef1, 0x53b7, 0xd7d0, 0xb734, 0xe683, 0xe819, 0x1, 0x1);
        gbc.writeMem(0xbef1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x53b7);
        EXPECT(gbc.pc(), 0xbef2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef1), 0x89);
        // 89 0283
        gbc.setState(0xd124, 0xae30, 0xf2a0, 0xe008, 0xc734, 0xd725, 0x1, 0x1);
        gbc.writeMem(0xd124, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xae30);
        EXPECT(gbc.pc(), 0xd125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd124), 0x89);
        // 89 0284
        gbc.setState(0x9307, 0x735b, 0xb000, 0x5657, 0xab60, 0x9593, 0x0, 0x0);
        gbc.writeMem(0x9307, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x735b);
        EXPECT(gbc.pc(), 0x9308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9307), 0x89);
        // 89 0285
        gbc.setState(0x5136, 0x6984, 0xe3c0, 0xfa0f, 0x2e03, 0xbe7d, 0x0, 0x1);
        gbc.writeMem(0x5136, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x6984);
        EXPECT(gbc.pc(), 0x5137);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0286
        gbc.setState(0xd82, 0x32e, 0xd160, 0xdb61, 0xadd5, 0x3e49, 0x0, 0x1);
        gbc.writeMem(0xd82, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x32e);
        EXPECT(gbc.pc(), 0xd83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0287
        gbc.setState(0x4a01, 0xd3b3, 0x7770, 0xde76, 0x9775, 0x7858, 0x1, 0x0);
        gbc.writeMem(0x4a01, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd3b3);
        EXPECT(gbc.pc(), 0x4a02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0288
        gbc.setState(0x1df2, 0x81a9, 0x40c0, 0xbd33, 0x6075, 0xd873, 0x1, 0x0);
        gbc.writeMem(0x1df2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x81a9);
        EXPECT(gbc.pc(), 0x1df3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0289
        gbc.setState(0x1a1f, 0xc563, 0xa310, 0xbee, 0x8be4, 0xa648, 0x1, 0x1);
        gbc.writeMem(0x1a1f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xc563);
        EXPECT(gbc.pc(), 0x1a20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 028A
        gbc.setState(0xd183, 0xf0b1, 0x1360, 0xb204, 0x42e8, 0x141d, 0x0, 0x1);
        gbc.writeMem(0xd183, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf0b1);
        EXPECT(gbc.pc(), 0xd184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd183), 0x89);
        // 89 028B
        gbc.setState(0xee15, 0x903d, 0xafe0, 0x7db1, 0x534d, 0x4375, 0x1, 0x1);
        gbc.writeMem(0xee15, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x903d);
        EXPECT(gbc.pc(), 0xee16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee15), 0x89);
        // 89 028C
        gbc.setState(0x7a65, 0x7a56, 0xead0, 0x5f21, 0x79df, 0x2220, 0x0, 0x1);
        gbc.writeMem(0x7a65, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7a56);
        EXPECT(gbc.pc(), 0x7a66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 028D
        gbc.setState(0x5c02, 0xe422, 0x5d20, 0x2d9a, 0x1d0b, 0xaf1a, 0x0, 0x1);
        gbc.writeMem(0x5c02, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xe422);
        EXPECT(gbc.pc(), 0x5c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 028E
        gbc.setState(0xd472, 0x131f, 0xb810, 0x56ca, 0x87f6, 0x32da, 0x1, 0x0);
        gbc.writeMem(0xd472, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x131f);
        EXPECT(gbc.pc(), 0xd473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd472), 0x89);
        // 89 028F
        gbc.setState(0x66, 0x1106, 0xff90, 0xc795, 0x2eb7, 0xcc0b, 0x0, 0x0);
        gbc.writeMem(0x66, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x1106);
        EXPECT(gbc.pc(), 0x67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0290
        gbc.setState(0xbcce, 0xe032, 0xa8f0, 0xa06, 0x30ee, 0xd8d3, 0x1, 0x0);
        gbc.writeMem(0xbcce, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe032);
        EXPECT(gbc.pc(), 0xbccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcce), 0x89);
        // 89 0291
        gbc.setState(0x3413, 0x2b4e, 0x2bc0, 0xb24c, 0x8fca, 0x7da9, 0x1, 0x0);
        gbc.writeMem(0x3413, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x2b4e);
        EXPECT(gbc.pc(), 0x3414);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0292
        gbc.setState(0xb21a, 0x1dd5, 0xaae0, 0xc56c, 0x78b9, 0x2d00, 0x1, 0x0);
        gbc.writeMem(0xb21a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1dd5);
        EXPECT(gbc.pc(), 0xb21b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb21a), 0x89);
        // 89 0293
        gbc.setState(0xc04f, 0xc030, 0xec0, 0x4a81, 0x6ca3, 0x1ef2, 0x0, 0x0);
        gbc.writeMem(0xc04f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc030);
        EXPECT(gbc.pc(), 0xc050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc04f), 0x89);
        // 89 0294
        gbc.setState(0x9855, 0x4612, 0xff10, 0x3e7a, 0xc72d, 0xde79, 0x1, 0x1);
        gbc.writeMem(0x9855, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4612);
        EXPECT(gbc.pc(), 0x9856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9855), 0x89);
        // 89 0295
        gbc.setState(0x69aa, 0x187f, 0xd590, 0x6af1, 0x49cd, 0xe69c, 0x1, 0x1);
        gbc.writeMem(0x69aa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x187f);
        EXPECT(gbc.pc(), 0x69ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0296
        gbc.setState(0x549e, 0x44c, 0x9b60, 0x3e83, 0xddc2, 0xb5ff, 0x0, 0x1);
        gbc.writeMem(0x549e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x44c);
        EXPECT(gbc.pc(), 0x549f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0297
        gbc.setState(0xeaa5, 0xdf9a, 0x7aa0, 0x90ad, 0x9fb6, 0x78f0, 0x1, 0x0);
        gbc.writeMem(0xeaa5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xdf9a);
        EXPECT(gbc.pc(), 0xeaa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaa5), 0x89);
        // 89 0299
        gbc.setState(0x579c, 0x5ed0, 0xdcd0, 0xa8c5, 0x621b, 0x1228, 0x1, 0x1);
        gbc.writeMem(0x579c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x5ed0);
        EXPECT(gbc.pc(), 0x579d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 029A
        gbc.setState(0x5445, 0x158d, 0x2070, 0xc5e, 0xe3da, 0x53a, 0x1, 0x0);
        gbc.writeMem(0x5445, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x158d);
        EXPECT(gbc.pc(), 0x5446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 029B
        gbc.setState(0x5c22, 0xc2c0, 0x57b0, 0x1dc0, 0x612d, 0xd0b6, 0x0, 0x1);
        gbc.writeMem(0x5c22, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc2c0);
        EXPECT(gbc.pc(), 0x5c23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 029C
        gbc.setState(0x706e, 0x73ce, 0xa3c0, 0xcbc, 0x632c, 0x6d73, 0x1, 0x1);
        gbc.writeMem(0x706e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x73ce);
        EXPECT(gbc.pc(), 0x706f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 029D
        gbc.setState(0x7074, 0x54ec, 0x33d0, 0x334c, 0x34e0, 0x7627, 0x0, 0x1);
        gbc.writeMem(0x7074, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x54ec);
        EXPECT(gbc.pc(), 0x7075);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 029E
        gbc.setState(0x2e74, 0xaeaf, 0xdf00, 0xddf0, 0x7c, 0x53eb, 0x1, 0x1);
        gbc.writeMem(0x2e74, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xaeaf);
        EXPECT(gbc.pc(), 0x2e75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 029F
        gbc.setState(0xb887, 0x239e, 0x47f0, 0xcec4, 0x5140, 0x5b30, 0x1, 0x1);
        gbc.writeMem(0xb887, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x239e);
        EXPECT(gbc.pc(), 0xb888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb887), 0x89);
        // 89 02A0
        gbc.setState(0x2fc6, 0x8516, 0xd470, 0x4167, 0xddd5, 0xc1ea, 0x0, 0x1);
        gbc.writeMem(0x2fc6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8516);
        EXPECT(gbc.pc(), 0x2fc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02A1
        gbc.setState(0x5b35, 0xda3a, 0xe0e0, 0x44f8, 0x874, 0xfef1, 0x0, 0x0);
        gbc.writeMem(0x5b35, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xda3a);
        EXPECT(gbc.pc(), 0x5b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02A2
        gbc.setState(0x478c, 0xee8a, 0x4860, 0x14b4, 0xf40, 0x9efc, 0x0, 0x0);
        gbc.writeMem(0x478c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xee8a);
        EXPECT(gbc.pc(), 0x478d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02A3
        gbc.setState(0x58ce, 0x7fb3, 0xf620, 0xa37f, 0x6a86, 0x5836, 0x1, 0x1);
        gbc.writeMem(0x58ce, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7fb3);
        EXPECT(gbc.pc(), 0x58cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02A4
        gbc.setState(0xb245, 0xb648, 0xeda0, 0x4bf8, 0xdcc0, 0xc115, 0x0, 0x0);
        gbc.writeMem(0xb245, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb648);
        EXPECT(gbc.pc(), 0xb246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb245), 0x89);
        // 89 02A5
        gbc.setState(0x7096, 0x72, 0x6550, 0x20d2, 0x739e, 0x618c, 0x0, 0x1);
        gbc.writeMem(0x7096, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x72);
        EXPECT(gbc.pc(), 0x7097);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02A6
        gbc.setState(0x8efa, 0xdb17, 0x4d10, 0x1acc, 0xca4e, 0x8bfe, 0x0, 0x1);
        gbc.writeMem(0x8efa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xdb17);
        EXPECT(gbc.pc(), 0x8efb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8efa), 0x89);
        // 89 02A8
        gbc.setState(0x5ad, 0x2340, 0x7300, 0xd9bf, 0x6a21, 0xa777, 0x1, 0x1);
        gbc.writeMem(0x5ad, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x2340);
        EXPECT(gbc.pc(), 0x5ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02A9
        gbc.setState(0x6160, 0x9600, 0xd990, 0x3c71, 0x3ec2, 0x8e58, 0x0, 0x0);
        gbc.writeMem(0x6160, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9600);
        EXPECT(gbc.pc(), 0x6161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02AA
        gbc.setState(0x5554, 0xbb5b, 0x46f0, 0xfeb3, 0xd375, 0xf812, 0x1, 0x1);
        gbc.writeMem(0x5554, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbb5b);
        EXPECT(gbc.pc(), 0x5555);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02AB
        gbc.setState(0x86c3, 0xacff, 0x7340, 0x1b16, 0x9e3b, 0xa808, 0x0, 0x1);
        gbc.writeMem(0x86c3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xacff);
        EXPECT(gbc.pc(), 0x86c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86c3), 0x89);
        // 89 02AC
        gbc.setState(0x1aac, 0x5e9a, 0xecd0, 0x8bb4, 0x658, 0xa42b, 0x1, 0x0);
        gbc.writeMem(0x1aac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x5e9a);
        EXPECT(gbc.pc(), 0x1aad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02AD
        gbc.setState(0x7a14, 0xbd16, 0xdd30, 0xf0d8, 0x8ea6, 0xc31a, 0x0, 0x0);
        gbc.writeMem(0x7a14, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xbd16);
        EXPECT(gbc.pc(), 0x7a15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02AE
        gbc.setState(0xc21d, 0x8af0, 0x1140, 0x114d, 0x7c4a, 0x8c16, 0x0, 0x0);
        gbc.writeMem(0xc21d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8af0);
        EXPECT(gbc.pc(), 0xc21e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc21d), 0x89);
        // 89 02AF
        gbc.setState(0xda65, 0x90be, 0x30, 0x9008, 0xeeb1, 0xf04, 0x0, 0x0);
        gbc.writeMem(0xda65, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x90be);
        EXPECT(gbc.pc(), 0xda66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda65), 0x89);
        // 89 02B0
        gbc.setState(0xa391, 0xfbff, 0xc1e0, 0xde67, 0xb0b6, 0xdd65, 0x1, 0x1);
        gbc.writeMem(0xa391, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xfbff);
        EXPECT(gbc.pc(), 0xa392);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa391), 0x89);
        // 89 02B1
        gbc.setState(0x758a, 0x4d6e, 0x6e70, 0xcb99, 0xf6eb, 0x2764, 0x0, 0x1);
        gbc.writeMem(0x758a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4d6e);
        EXPECT(gbc.pc(), 0x758b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02B2
        gbc.setState(0x27b6, 0xd63e, 0xd020, 0x99cd, 0x767c, 0x1a1b, 0x1, 0x0);
        gbc.writeMem(0x27b6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd63e);
        EXPECT(gbc.pc(), 0x27b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02B3
        gbc.setState(0xdb82, 0x64ce, 0x9c70, 0x93de, 0x9d3, 0xf9c1, 0x1, 0x1);
        gbc.writeMem(0xdb82, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x64ce);
        EXPECT(gbc.pc(), 0xdb83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb82), 0x89);
        // 89 02B4
        gbc.setState(0x9530, 0xdd0f, 0x51f0, 0xe2d1, 0x53b8, 0xa0f, 0x1, 0x1);
        gbc.writeMem(0x9530, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xdd0f);
        EXPECT(gbc.pc(), 0x9531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9530), 0x89);
        // 89 02B5
        gbc.setState(0xbeee, 0x7a5b, 0xa5e0, 0xaddf, 0x1037, 0xf3b2, 0x0, 0x0);
        gbc.writeMem(0xbeee, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7a5b);
        EXPECT(gbc.pc(), 0xbeef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeee), 0x89);
        // 89 02B6
        gbc.setState(0x921b, 0x5626, 0xab60, 0xdd8f, 0x3177, 0x24da, 0x0, 0x0);
        gbc.writeMem(0x921b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5626);
        EXPECT(gbc.pc(), 0x921c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x921b), 0x89);
        // 89 02B7
        gbc.setState(0xd341, 0x64ae, 0xe340, 0x11b9, 0xa686, 0x8e0, 0x1, 0x1);
        gbc.writeMem(0xd341, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x64ae);
        EXPECT(gbc.pc(), 0xd342);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd341), 0x89);
        // 89 02B8
        gbc.setState(0x78aa, 0x8431, 0x8120, 0xee72, 0x606e, 0x574e, 0x1, 0x1);
        gbc.writeMem(0x78aa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8431);
        EXPECT(gbc.pc(), 0x78ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02B9
        gbc.setState(0x9037, 0x29d1, 0x2b20, 0x7c67, 0xf23c, 0xb967, 0x1, 0x1);
        gbc.writeMem(0x9037, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x29d1);
        EXPECT(gbc.pc(), 0x9038);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9037), 0x89);
        // 89 02BA
        gbc.setState(0x26e2, 0x32dd, 0x6390, 0xa6d3, 0x58e, 0xcaf7, 0x1, 0x0);
        gbc.writeMem(0x26e2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x32dd);
        EXPECT(gbc.pc(), 0x26e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02BB
        gbc.setState(0xed97, 0x301a, 0xc160, 0x6071, 0x7674, 0xe1a3, 0x1, 0x0);
        gbc.writeMem(0xed97, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x301a);
        EXPECT(gbc.pc(), 0xed98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed97), 0x89);
        // 89 02BD
        gbc.setState(0x8516, 0x6bb9, 0xb270, 0x9354, 0xf945, 0xb6f0, 0x1, 0x0);
        gbc.writeMem(0x8516, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6bb9);
        EXPECT(gbc.pc(), 0x8517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8516), 0x89);
        // 89 02BE
        gbc.setState(0xa87e, 0x4baf, 0x5ae0, 0xc3da, 0x821a, 0x2f60, 0x1, 0x1);
        gbc.writeMem(0xa87e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4baf);
        EXPECT(gbc.pc(), 0xa87f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa87e), 0x89);
        // 89 02BF
        gbc.setState(0x32ba, 0x3dd, 0x45e0, 0xe1c6, 0x55f4, 0x89a0, 0x0, 0x0);
        gbc.writeMem(0x32ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3dd);
        EXPECT(gbc.pc(), 0x32bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02C1
        gbc.setState(0x1ea8, 0xb2bc, 0x3190, 0xde5f, 0x52f8, 0xa4a8, 0x1, 0x1);
        gbc.writeMem(0x1ea8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb2bc);
        EXPECT(gbc.pc(), 0x1ea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02C2
        gbc.setState(0xeac, 0x3b47, 0xafa0, 0x24c5, 0x4019, 0x178a, 0x1, 0x0);
        gbc.writeMem(0xeac, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x3b47);
        EXPECT(gbc.pc(), 0xead);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02C3
        gbc.setState(0xd16b, 0x227, 0x9970, 0x5eae, 0xfff7, 0x98e0, 0x1, 0x0);
        gbc.writeMem(0xd16b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x227);
        EXPECT(gbc.pc(), 0xd16c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd16b), 0x89);
        // 89 02C4
        gbc.setState(0xa458, 0xeb47, 0x6800, 0x8c8f, 0x7a83, 0x9d89, 0x0, 0x0);
        gbc.writeMem(0xa458, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xeb47);
        EXPECT(gbc.pc(), 0xa459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa458), 0x89);
        // 89 02C5
        gbc.setState(0x55e2, 0x3d46, 0x99f0, 0x20b3, 0xb9f1, 0x27af, 0x1, 0x0);
        gbc.writeMem(0x55e2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3d46);
        EXPECT(gbc.pc(), 0x55e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02C6
        gbc.setState(0xba79, 0x3dfe, 0x15e0, 0x81b8, 0xd1e3, 0xc15f, 0x1, 0x0);
        gbc.writeMem(0xba79, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x3dfe);
        EXPECT(gbc.pc(), 0xba7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba79), 0x89);
        // 89 02C8
        gbc.setState(0xa24e, 0x788, 0x1bf0, 0x29f9, 0x9c0c, 0x6c67, 0x1, 0x1);
        gbc.writeMem(0xa24e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x788);
        EXPECT(gbc.pc(), 0xa24f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa24e), 0x89);
        // 89 02C9
        gbc.setState(0x7a19, 0x593b, 0x71e0, 0x67dd, 0x3d53, 0x7a03, 0x1, 0x0);
        gbc.writeMem(0x7a19, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x593b);
        EXPECT(gbc.pc(), 0x7a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02CA
        gbc.setState(0x7e1d, 0xfeb7, 0x2330, 0xfb2, 0x8402, 0xc28a, 0x0, 0x1);
        gbc.writeMem(0x7e1d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xfeb7);
        EXPECT(gbc.pc(), 0x7e1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02CB
        gbc.setState(0x5764, 0x92ef, 0x45c0, 0x753f, 0x74fb, 0x3fb9, 0x1, 0x0);
        gbc.writeMem(0x5764, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x92ef);
        EXPECT(gbc.pc(), 0x5765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02CC
        gbc.setState(0xdc17, 0xac20, 0x4ad0, 0x46c9, 0xda1c, 0xa316, 0x1, 0x1);
        gbc.writeMem(0xdc17, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xac20);
        EXPECT(gbc.pc(), 0xdc18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc17), 0x89);
        // 89 02CD
        gbc.setState(0xd425, 0x3e7b, 0xd0f0, 0xf090, 0x5610, 0xeef7, 0x1, 0x1);
        gbc.writeMem(0xd425, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3e7b);
        EXPECT(gbc.pc(), 0xd426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd425), 0x89);
        // 89 02CE
        gbc.setState(0x85b6, 0x1855, 0x2d10, 0x96ae, 0xa8e3, 0x254f, 0x0, 0x0);
        gbc.writeMem(0x85b6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1855);
        EXPECT(gbc.pc(), 0x85b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85b6), 0x89);
        // 89 02CF
        gbc.setState(0x7, 0x9580, 0x7b00, 0x2dab, 0x819b, 0x5651, 0x0, 0x0);
        gbc.writeMem(0x7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x9580);
        EXPECT(gbc.pc(), 0x8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02D0
        gbc.setState(0x76f1, 0xc781, 0xd2a0, 0xc940, 0xd864, 0x5e89, 0x0, 0x1);
        gbc.writeMem(0x76f1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc781);
        EXPECT(gbc.pc(), 0x76f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02D1
        gbc.setState(0x5d2d, 0xbb86, 0xebc0, 0x126e, 0x3622, 0x125c, 0x0, 0x0);
        gbc.writeMem(0x5d2d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbb86);
        EXPECT(gbc.pc(), 0x5d2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02D2
        gbc.setState(0x90a5, 0x1f61, 0xe9e0, 0xa4d4, 0xe324, 0x9de4, 0x0, 0x0);
        gbc.writeMem(0x90a5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1f61);
        EXPECT(gbc.pc(), 0x90a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90a5), 0x89);
        // 89 02D3
        gbc.setState(0x5bd5, 0xcbd8, 0xdef0, 0xdd5c, 0xd89e, 0x2b1c, 0x0, 0x1);
        gbc.writeMem(0x5bd5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xcbd8);
        EXPECT(gbc.pc(), 0x5bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02D4
        gbc.setState(0xed67, 0x1958, 0x2da0, 0x4e9a, 0x7182, 0x8422, 0x0, 0x0);
        gbc.writeMem(0xed67, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1958);
        EXPECT(gbc.pc(), 0xed68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed67), 0x89);
        // 89 02D5
        gbc.setState(0xbe6d, 0x7598, 0x95b0, 0x3bc0, 0x7d5, 0xb154, 0x0, 0x1);
        gbc.writeMem(0xbe6d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7598);
        EXPECT(gbc.pc(), 0xbe6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe6d), 0x89);
        // 89 02D6
        gbc.setState(0xdd1e, 0xda19, 0x7aa0, 0xf0d2, 0x9cbf, 0x64db, 0x1, 0x0);
        gbc.writeMem(0xdd1e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xda19);
        EXPECT(gbc.pc(), 0xdd1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd1e), 0x89);
        // 89 02D7
        gbc.setState(0x29e6, 0x859f, 0x6b10, 0x305e, 0xde15, 0xf913, 0x0, 0x1);
        gbc.writeMem(0x29e6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x859f);
        EXPECT(gbc.pc(), 0x29e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02D8
        gbc.setState(0x68b3, 0x4c12, 0xa090, 0x693b, 0x7da8, 0x146c, 0x0, 0x1);
        gbc.writeMem(0x68b3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4c12);
        EXPECT(gbc.pc(), 0x68b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02D9
        gbc.setState(0x9a21, 0x8dd, 0xd910, 0x9069, 0x81e0, 0x8268, 0x0, 0x1);
        gbc.writeMem(0x9a21, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8dd);
        EXPECT(gbc.pc(), 0x9a22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a21), 0x89);
        // 89 02DA
        gbc.setState(0x4db0, 0x78c3, 0x1a90, 0xba87, 0xabf5, 0x98aa, 0x1, 0x1);
        gbc.writeMem(0x4db0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x78c3);
        EXPECT(gbc.pc(), 0x4db1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02DB
        gbc.setState(0x2db2, 0xccae, 0xecd0, 0xdb1c, 0x1530, 0x463, 0x0, 0x0);
        gbc.writeMem(0x2db2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xccae);
        EXPECT(gbc.pc(), 0x2db3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02DC
        gbc.setState(0x8d45, 0x6d65, 0xa830, 0x323c, 0x2f02, 0x22cb, 0x1, 0x0);
        gbc.writeMem(0x8d45, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6d65);
        EXPECT(gbc.pc(), 0x8d46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d45), 0x89);
        // 89 02DD
        gbc.setState(0x5a36, 0xe6b5, 0x8da0, 0x23b2, 0xa77d, 0xa350, 0x1, 0x1);
        gbc.writeMem(0x5a36, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe6b5);
        EXPECT(gbc.pc(), 0x5a37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02DE
        gbc.setState(0x63dd, 0x9c0a, 0x4e70, 0x6542, 0x42f0, 0x3f9a, 0x1, 0x1);
        gbc.writeMem(0x63dd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9c0a);
        EXPECT(gbc.pc(), 0x63de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02DF
        gbc.setState(0xaaa0, 0x4179, 0xfbc0, 0x9394, 0x5a22, 0x6c2b, 0x0, 0x0);
        gbc.writeMem(0xaaa0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4179);
        EXPECT(gbc.pc(), 0xaaa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa0), 0x89);
        // 89 02E0
        gbc.setState(0x7d82, 0xf9aa, 0xcd00, 0x3a3a, 0x1dcf, 0x43b7, 0x1, 0x0);
        gbc.writeMem(0x7d82, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf9aa);
        EXPECT(gbc.pc(), 0x7d83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02E1
        gbc.setState(0x49bc, 0x5e8f, 0x1460, 0xbcc1, 0xd7c1, 0xae45, 0x0, 0x0);
        gbc.writeMem(0x49bc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5e8f);
        EXPECT(gbc.pc(), 0x49bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02E2
        gbc.setState(0x9a22, 0xfd76, 0xa10, 0x551, 0x9b8d, 0xe878, 0x1, 0x0);
        gbc.writeMem(0x9a22, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xfd76);
        EXPECT(gbc.pc(), 0x9a23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a22), 0x89);
        // 89 02E3
        gbc.setState(0x2edb, 0x9523, 0x1b40, 0xc58f, 0x5b20, 0xce52, 0x1, 0x1);
        gbc.writeMem(0x2edb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x9523);
        EXPECT(gbc.pc(), 0x2edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02E4
        gbc.setState(0x2d38, 0x6d12, 0xb660, 0xc1c3, 0x61f5, 0xe1a7, 0x1, 0x1);
        gbc.writeMem(0x2d38, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x6d12);
        EXPECT(gbc.pc(), 0x2d39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 02E5
        gbc.setState(0x6b79, 0x5852, 0xed0, 0x1746, 0x6582, 0x997d, 0x1, 0x0);
        gbc.writeMem(0x6b79, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x5852);
        EXPECT(gbc.pc(), 0x6b7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02E6
        gbc.setState(0xd511, 0x9140, 0x8b10, 0xe102, 0x666, 0xba6e, 0x0, 0x0);
        gbc.writeMem(0xd511, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9140);
        EXPECT(gbc.pc(), 0xd512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd511), 0x89);
        // 89 02E7
        gbc.setState(0xfe0, 0xd2f6, 0xc410, 0x6108, 0x8257, 0x41f, 0x1, 0x0);
        gbc.writeMem(0xfe0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xd2f6);
        EXPECT(gbc.pc(), 0xfe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02E8
        gbc.setState(0x961c, 0xaabf, 0x3e00, 0x342a, 0x8890, 0xcbc8, 0x0, 0x1);
        gbc.writeMem(0x961c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xaabf);
        EXPECT(gbc.pc(), 0x961d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x961c), 0x89);
        // 89 02E9
        gbc.setState(0x3f25, 0xb2a0, 0x69e0, 0xa337, 0xca23, 0x958, 0x0, 0x1);
        gbc.writeMem(0x3f25, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xb2a0);
        EXPECT(gbc.pc(), 0x3f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02EA
        gbc.setState(0xe269, 0x92d3, 0x7ff0, 0xf404, 0x364, 0x3434, 0x0, 0x0);
        gbc.writeMem(0xe269, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x92d3);
        EXPECT(gbc.pc(), 0xe26a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe269), 0x89);
        // 89 02EB
        gbc.setState(0x9cb5, 0xea89, 0xb6a0, 0xa4c3, 0x75b9, 0x706, 0x0, 0x0);
        gbc.writeMem(0x9cb5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xea89);
        EXPECT(gbc.pc(), 0x9cb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cb5), 0x89);
        // 89 02EC
        gbc.setState(0x8138, 0xa333, 0x3700, 0x1c60, 0x74d3, 0xd715, 0x0, 0x1);
        gbc.writeMem(0x8138, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa333);
        EXPECT(gbc.pc(), 0x8139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8138), 0x89);
        // 89 02EE
        gbc.setState(0xef8d, 0xed76, 0x67b0, 0x9aa1, 0xecb4, 0xf55b, 0x0, 0x1);
        gbc.writeMem(0xef8d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xed76);
        EXPECT(gbc.pc(), 0xef8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef8d), 0x89);
        // 89 02EF
        gbc.setState(0x34fa, 0x6c8b, 0xb900, 0x3ebd, 0x18ea, 0xb90e, 0x0, 0x1);
        gbc.writeMem(0x34fa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6c8b);
        EXPECT(gbc.pc(), 0x34fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02F0
        gbc.setState(0x5ca8, 0x54d3, 0x2da0, 0xe77e, 0x9c50, 0x7926, 0x1, 0x1);
        gbc.writeMem(0x5ca8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x54d3);
        EXPECT(gbc.pc(), 0x5ca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 02F1
        gbc.setState(0x94c6, 0x156c, 0xde70, 0xc7ee, 0x3dca, 0x4479, 0x1, 0x0);
        gbc.writeMem(0x94c6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x156c);
        EXPECT(gbc.pc(), 0x94c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94c6), 0x89);
        // 89 02F2
        gbc.setState(0x277, 0xf4ec, 0x33d0, 0x1a50, 0xb99d, 0x57b, 0x0, 0x0);
        gbc.writeMem(0x277, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xf4ec);
        EXPECT(gbc.pc(), 0x278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02F3
        gbc.setState(0xd7ab, 0x7d02, 0x43d0, 0xb7d1, 0x5053, 0xf2b0, 0x1, 0x1);
        gbc.writeMem(0xd7ab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7d02);
        EXPECT(gbc.pc(), 0xd7ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ab), 0x89);
        // 89 02F4
        gbc.setState(0x994f, 0xee1, 0xa9b0, 0x9ac0, 0x67b5, 0x36c9, 0x0, 0x0);
        gbc.writeMem(0x994f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xee1);
        EXPECT(gbc.pc(), 0x9950);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x994f), 0x89);
        // 89 02F5
        gbc.setState(0xb396, 0x28f9, 0x69e0, 0xb21e, 0x6bee, 0xceeb, 0x0, 0x1);
        gbc.writeMem(0xb396, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x28f9);
        EXPECT(gbc.pc(), 0xb397);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb396), 0x89);
        // 89 02F6
        gbc.setState(0x614a, 0x1bd1, 0x9d00, 0x96ed, 0x6c93, 0xb636, 0x1, 0x1);
        gbc.writeMem(0x614a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1bd1);
        EXPECT(gbc.pc(), 0x614b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02F7
        gbc.setState(0x1fe0, 0x69fd, 0x88e0, 0x5f63, 0x90f4, 0x365d, 0x1, 0x1);
        gbc.writeMem(0x1fe0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x69fd);
        EXPECT(gbc.pc(), 0x1fe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02F8
        gbc.setState(0xb13a, 0xa1c5, 0xfb60, 0xe3af, 0x6b99, 0x9248, 0x1, 0x1);
        gbc.writeMem(0xb13a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa1c5);
        EXPECT(gbc.pc(), 0xb13b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb13a), 0x89);
        // 89 02F9
        gbc.setState(0xd89d, 0x46bc, 0xcae0, 0xbc20, 0xf545, 0x5a53, 0x0, 0x1);
        gbc.writeMem(0xd89d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x46bc);
        EXPECT(gbc.pc(), 0xd89e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd89d), 0x89);
        // 89 02FA
        gbc.setState(0x3f04, 0xddd0, 0xf550, 0x418d, 0x9aeb, 0x79b2, 0x0, 0x1);
        gbc.writeMem(0x3f04, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xddd0);
        EXPECT(gbc.pc(), 0x3f05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 02FB
        gbc.setState(0x3a55, 0xcf4b, 0x41c0, 0xe56, 0x36ea, 0xeade, 0x0, 0x0);
        gbc.writeMem(0x3a55, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xcf4b);
        EXPECT(gbc.pc(), 0x3a56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02FC
        gbc.setState(0x6a6d, 0x33a1, 0x21a0, 0xd213, 0x581b, 0xae70, 0x1, 0x0);
        gbc.writeMem(0x6a6d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x33a1);
        EXPECT(gbc.pc(), 0x6a6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 02FD
        gbc.setState(0xbc54, 0xbd35, 0xeb50, 0xb6c3, 0x6ee1, 0x50a6, 0x1, 0x0);
        gbc.writeMem(0xbc54, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbd35);
        EXPECT(gbc.pc(), 0xbc55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc54), 0x89);
        // 89 02FF
        gbc.setState(0xa6c5, 0xb152, 0x82a0, 0xb0c, 0xf54c, 0x1ad4, 0x1, 0x1);
        gbc.writeMem(0xa6c5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb152);
        EXPECT(gbc.pc(), 0xa6c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c5), 0x89);
        // 89 0300
        gbc.setState(0x2659, 0x4fa6, 0xa880, 0x3bed, 0x6a6a, 0xe90f, 0x1, 0x0);
        gbc.writeMem(0x2659, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4fa6);
        EXPECT(gbc.pc(), 0x265a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0301
        gbc.setState(0xb6bc, 0x2c35, 0xc060, 0xbdd8, 0xa29b, 0xfb6a, 0x0, 0x1);
        gbc.writeMem(0xb6bc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2c35);
        EXPECT(gbc.pc(), 0xb6bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6bc), 0x89);
        // 89 0302
        gbc.setState(0x4ce3, 0xdbf9, 0xb040, 0xdb82, 0x6e13, 0xd269, 0x0, 0x0);
        gbc.writeMem(0x4ce3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xdbf9);
        EXPECT(gbc.pc(), 0x4ce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0303
        gbc.setState(0x45cd, 0x8a3d, 0xfb50, 0xe4f7, 0x4be6, 0x52a3, 0x1, 0x0);
        gbc.writeMem(0x45cd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8a3d);
        EXPECT(gbc.pc(), 0x45ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0304
        gbc.setState(0x90b0, 0x71ca, 0xb3d0, 0xa3ea, 0x9e46, 0x86bb, 0x0, 0x1);
        gbc.writeMem(0x90b0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x71ca);
        EXPECT(gbc.pc(), 0x90b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90b0), 0x89);
        // 89 0305
        gbc.setState(0xae8f, 0x4d4, 0x9960, 0x98bb, 0x1596, 0xcbd1, 0x0, 0x0);
        gbc.writeMem(0xae8f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4d4);
        EXPECT(gbc.pc(), 0xae90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8f), 0x89);
        // 89 0306
        gbc.setState(0xc109, 0x7cec, 0x5b10, 0x342b, 0xd046, 0x1a1d, 0x0, 0x0);
        gbc.writeMem(0xc109, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x7cec);
        EXPECT(gbc.pc(), 0xc10a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc109), 0x89);
        // 89 0307
        gbc.setState(0x10bd, 0xd68, 0x46c0, 0xe9c, 0xf97c, 0xcc38, 0x1, 0x1);
        gbc.writeMem(0x10bd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd68);
        EXPECT(gbc.pc(), 0x10be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0309
        gbc.setState(0xed46, 0x392f, 0xc260, 0x751e, 0x276, 0x19c2, 0x1, 0x0);
        gbc.writeMem(0xed46, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x392f);
        EXPECT(gbc.pc(), 0xed47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed46), 0x89);
        // 89 030A
        gbc.setState(0xb3ea, 0xa931, 0xe9d0, 0x5685, 0x259f, 0xa5c9, 0x0, 0x1);
        gbc.writeMem(0xb3ea, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa931);
        EXPECT(gbc.pc(), 0xb3eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ea), 0x89);
        // 89 030B
        gbc.setState(0x2cf3, 0xecaf, 0xe4a0, 0xcd44, 0x4604, 0xfa43, 0x1, 0x0);
        gbc.writeMem(0x2cf3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xecaf);
        EXPECT(gbc.pc(), 0x2cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 030C
        gbc.setState(0x9922, 0xaaf2, 0xc400, 0x4330, 0x9b7d, 0xa19d, 0x1, 0x0);
        gbc.writeMem(0x9922, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xaaf2);
        EXPECT(gbc.pc(), 0x9923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9922), 0x89);
        // 89 030D
        gbc.setState(0xe8d9, 0xf727, 0xfe60, 0x766a, 0xc9a7, 0xb5ac, 0x0, 0x0);
        gbc.writeMem(0xe8d9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf727);
        EXPECT(gbc.pc(), 0xe8da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d9), 0x89);
        // 89 030E
        gbc.setState(0xc7d, 0x9938, 0x3a90, 0x763c, 0xdc6d, 0x8b2b, 0x1, 0x1);
        gbc.writeMem(0xc7d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9938);
        EXPECT(gbc.pc(), 0xc7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 030F
        gbc.setState(0x3d0f, 0x9dcb, 0xc090, 0xe50d, 0x6efe, 0x8a49, 0x0, 0x1);
        gbc.writeMem(0x3d0f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9dcb);
        EXPECT(gbc.pc(), 0x3d10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0310
        gbc.setState(0x2ffe, 0x7c8, 0x2a00, 0x4599, 0x584f, 0xf740, 0x1, 0x0);
        gbc.writeMem(0x2ffe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7c8);
        EXPECT(gbc.pc(), 0x2fff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0311
        gbc.setState(0x1a8e, 0x7eb3, 0x69d0, 0x6b32, 0xbd62, 0x6e3a, 0x0, 0x0);
        gbc.writeMem(0x1a8e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x7eb3);
        EXPECT(gbc.pc(), 0x1a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0313
        gbc.setState(0xe642, 0x2058, 0x2500, 0x286b, 0x61aa, 0x1cd7, 0x0, 0x1);
        gbc.writeMem(0xe642, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2058);
        EXPECT(gbc.pc(), 0xe643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe642), 0x89);
        // 89 0314
        gbc.setState(0x9e78, 0xbed3, 0xe1e0, 0x2a4c, 0xeb1, 0x994, 0x0, 0x1);
        gbc.writeMem(0x9e78, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xbed3);
        EXPECT(gbc.pc(), 0x9e79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e78), 0x89);
        // 89 0315
        gbc.setState(0x6292, 0x6a00, 0xe790, 0xe6d2, 0xb11e, 0x6552, 0x1, 0x0);
        gbc.writeMem(0x6292, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6a00);
        EXPECT(gbc.pc(), 0x6293);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0316
        gbc.setState(0x544c, 0xe166, 0xc690, 0x1d46, 0xf529, 0x5928, 0x0, 0x1);
        gbc.writeMem(0x544c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe166);
        EXPECT(gbc.pc(), 0x544d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0317
        gbc.setState(0x687f, 0x4662, 0x5900, 0x3ce2, 0x1ed0, 0xfbe4, 0x1, 0x1);
        gbc.writeMem(0x687f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4662);
        EXPECT(gbc.pc(), 0x6880);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0318
        gbc.setState(0xe16f, 0x27be, 0x6290, 0x3b1c, 0xe132, 0xe2aa, 0x0, 0x0);
        gbc.writeMem(0xe16f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x27be);
        EXPECT(gbc.pc(), 0xe170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16f), 0x89);
        // 89 0319
        gbc.setState(0xd1c0, 0xb7b0, 0x5210, 0xd198, 0x2ff1, 0x8b74, 0x1, 0x0);
        gbc.writeMem(0xd1c0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb7b0);
        EXPECT(gbc.pc(), 0xd1c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1c0), 0x89);
        // 89 031A
        gbc.setState(0xa757, 0xb45, 0xa040, 0x7f71, 0x6931, 0xd866, 0x1, 0x0);
        gbc.writeMem(0xa757, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb45);
        EXPECT(gbc.pc(), 0xa758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa757), 0x89);
        // 89 031B
        gbc.setState(0xaafb, 0x9999, 0xd480, 0xdfe5, 0x6376, 0xffec, 0x0, 0x0);
        gbc.writeMem(0xaafb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9999);
        EXPECT(gbc.pc(), 0xaafc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaafb), 0x89);
        // 89 031C
        gbc.setState(0x4817, 0xb716, 0xd430, 0xbd1d, 0x3ba3, 0x650b, 0x0, 0x1);
        gbc.writeMem(0x4817, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb716);
        EXPECT(gbc.pc(), 0x4818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 031D
        gbc.setState(0x160d, 0x6927, 0x7750, 0x1bfa, 0x751b, 0x43cd, 0x1, 0x0);
        gbc.writeMem(0x160d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6927);
        EXPECT(gbc.pc(), 0x160e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 031E
        gbc.setState(0x9f52, 0x9056, 0x7af0, 0x9c24, 0x9a86, 0x1a0b, 0x1, 0x0);
        gbc.writeMem(0x9f52, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9056);
        EXPECT(gbc.pc(), 0x9f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f52), 0x89);
        // 89 031F
        gbc.setState(0x426e, 0x80e6, 0x5940, 0x5a24, 0xbd36, 0x756a, 0x1, 0x0);
        gbc.writeMem(0x426e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x80e6);
        EXPECT(gbc.pc(), 0x426f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0321
        gbc.setState(0xca40, 0xbe9a, 0xddc0, 0xe693, 0x34a7, 0x3110, 0x0, 0x0);
        gbc.writeMem(0xca40, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xbe9a);
        EXPECT(gbc.pc(), 0xca41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca40), 0x89);
        // 89 0322
        gbc.setState(0x9c54, 0x8675, 0x3740, 0x94ee, 0x58e9, 0x95f3, 0x1, 0x1);
        gbc.writeMem(0x9c54, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8675);
        EXPECT(gbc.pc(), 0x9c55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c54), 0x89);
        // 89 0323
        gbc.setState(0xbd31, 0x46dd, 0x96a0, 0x1dbb, 0x890b, 0x45d9, 0x1, 0x0);
        gbc.writeMem(0xbd31, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x46dd);
        EXPECT(gbc.pc(), 0xbd32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd31), 0x89);
        // 89 0324
        gbc.setState(0x25bd, 0x5386, 0x6290, 0x6258, 0xeb82, 0xada0, 0x0, 0x1);
        gbc.writeMem(0x25bd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5386);
        EXPECT(gbc.pc(), 0x25be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0325
        gbc.setState(0xd89c, 0x4439, 0xde80, 0x2a68, 0xe771, 0xd253, 0x0, 0x0);
        gbc.writeMem(0xd89c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4439);
        EXPECT(gbc.pc(), 0xd89d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd89c), 0x89);
        // 89 0326
        gbc.setState(0xdb57, 0x5d19, 0xe8b0, 0xb8af, 0x6d1a, 0xef87, 0x0, 0x1);
        gbc.writeMem(0xdb57, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x5d19);
        EXPECT(gbc.pc(), 0xdb58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb57), 0x89);
        // 89 0327
        gbc.setState(0x34f7, 0x5d14, 0x2d40, 0xd58d, 0xf0fe, 0x5d0f, 0x0, 0x0);
        gbc.writeMem(0x34f7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5d14);
        EXPECT(gbc.pc(), 0x34f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0328
        gbc.setState(0xaec5, 0x4bc4, 0xaa20, 0x12b4, 0x38de, 0x1f34, 0x0, 0x1);
        gbc.writeMem(0xaec5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4bc4);
        EXPECT(gbc.pc(), 0xaec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec5), 0x89);
        // 89 0329
        gbc.setState(0x3c7a, 0xa12f, 0xddd0, 0xe00d, 0xaf7b, 0xfeed, 0x1, 0x0);
        gbc.writeMem(0x3c7a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xa12f);
        EXPECT(gbc.pc(), 0x3c7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 032A
        gbc.setState(0xd83e, 0x82db, 0x9fa0, 0x71ce, 0x21e9, 0xf58c, 0x1, 0x0);
        gbc.writeMem(0xd83e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x82db);
        EXPECT(gbc.pc(), 0xd83f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd83e), 0x89);
        // 89 032B
        gbc.setState(0x2be7, 0x83d0, 0x24d0, 0x1d39, 0xf109, 0x71d5, 0x1, 0x1);
        gbc.writeMem(0x2be7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x83d0);
        EXPECT(gbc.pc(), 0x2be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 032C
        gbc.setState(0x52e1, 0xc932, 0x8440, 0xbb39, 0xa694, 0x128c, 0x0, 0x0);
        gbc.writeMem(0x52e1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc932);
        EXPECT(gbc.pc(), 0x52e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 032D
        gbc.setState(0x3a98, 0xf6c5, 0x4d10, 0x55da, 0xa036, 0x3d88, 0x0, 0x1);
        gbc.writeMem(0x3a98, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xf6c5);
        EXPECT(gbc.pc(), 0x3a99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 032E
        gbc.setState(0xd56b, 0x4051, 0x4e00, 0x6cbc, 0x3f29, 0x1d8d, 0x1, 0x1);
        gbc.writeMem(0xd56b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4051);
        EXPECT(gbc.pc(), 0xd56c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd56b), 0x89);
        // 89 032F
        gbc.setState(0x123e, 0x10df, 0xd8e0, 0x54c, 0xbcac, 0xd960, 0x0, 0x1);
        gbc.writeMem(0x123e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x10df);
        EXPECT(gbc.pc(), 0x123f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0330
        gbc.setState(0x8a75, 0xd774, 0xb0c0, 0xc2b8, 0xcbb0, 0xce5c, 0x1, 0x1);
        gbc.writeMem(0x8a75, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd774);
        EXPECT(gbc.pc(), 0x8a76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a75), 0x89);
        // 89 0331
        gbc.setState(0x33fc, 0x8d60, 0x3250, 0xcce7, 0xd49e, 0x6938, 0x0, 0x0);
        gbc.writeMem(0x33fc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8d60);
        EXPECT(gbc.pc(), 0x33fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0332
        gbc.setState(0xd087, 0x8ed7, 0xec20, 0xdf88, 0x99ef, 0xf8bd, 0x1, 0x0);
        gbc.writeMem(0xd087, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x8ed7);
        EXPECT(gbc.pc(), 0xd088);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd087), 0x89);
        // 89 0333
        gbc.setState(0x5f68, 0x65a0, 0x9750, 0xb1e1, 0x11ad, 0x4b67, 0x0, 0x0);
        gbc.writeMem(0x5f68, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x65a0);
        EXPECT(gbc.pc(), 0x5f69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0334
        gbc.setState(0xb684, 0x8422, 0x74a0, 0x559e, 0x827f, 0x6eb4, 0x0, 0x0);
        gbc.writeMem(0xb684, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8422);
        EXPECT(gbc.pc(), 0xb685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb684), 0x89);
        // 89 0335
        gbc.setState(0x42, 0x13, 0x2450, 0xbc32, 0x8912, 0xef21, 0x0, 0x1);
        gbc.writeMem(0x42, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x13);
        EXPECT(gbc.pc(), 0x43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0336
        gbc.setState(0xe342, 0xcd1d, 0xe480, 0xcf37, 0xe82a, 0xe3e8, 0x0, 0x1);
        gbc.writeMem(0xe342, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xcd1d);
        EXPECT(gbc.pc(), 0xe343);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe342), 0x89);
        // 89 0337
        gbc.setState(0x59f4, 0x369b, 0xca0, 0xf1ba, 0x5e37, 0x2dbf, 0x0, 0x1);
        gbc.writeMem(0x59f4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x369b);
        EXPECT(gbc.pc(), 0x59f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0338
        gbc.setState(0x327c, 0x6a52, 0x5780, 0x7cd6, 0xc4b3, 0x9766, 0x0, 0x0);
        gbc.writeMem(0x327c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6a52);
        EXPECT(gbc.pc(), 0x327d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0339
        gbc.setState(0x1383, 0x7074, 0xc690, 0x3cf, 0x9193, 0xded6, 0x0, 0x1);
        gbc.writeMem(0x1383, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7074);
        EXPECT(gbc.pc(), 0x1384);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 033A
        gbc.setState(0x1e0a, 0xcc90, 0xdd40, 0x523c, 0x5aab, 0x4ad8, 0x0, 0x0);
        gbc.writeMem(0x1e0a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xcc90);
        EXPECT(gbc.pc(), 0x1e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 033B
        gbc.setState(0x8c15, 0xba1e, 0x74e0, 0x299b, 0x5f93, 0xe384, 0x0, 0x1);
        gbc.writeMem(0x8c15, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xba1e);
        EXPECT(gbc.pc(), 0x8c16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c15), 0x89);
        // 89 033C
        gbc.setState(0xe03c, 0x6145, 0xbd0, 0x909f, 0x60da, 0xbef2, 0x1, 0x1);
        gbc.writeMem(0xe03c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6145);
        EXPECT(gbc.pc(), 0xe03d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe03c), 0x89);
        // 89 033D
        gbc.setState(0x9bdd, 0xd1b1, 0xe620, 0x4654, 0x6b8e, 0xfaa7, 0x0, 0x1);
        gbc.writeMem(0x9bdd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd1b1);
        EXPECT(gbc.pc(), 0x9bde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bdd), 0x89);
        // 89 033E
        gbc.setState(0x9ebd, 0xb8c0, 0xee70, 0x2441, 0x1585, 0x8a3e, 0x1, 0x1);
        gbc.writeMem(0x9ebd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb8c0);
        EXPECT(gbc.pc(), 0x9ebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ebd), 0x89);
        // 89 033F
        gbc.setState(0x6aa7, 0x6f9a, 0xedf0, 0x5fa9, 0xa56, 0x543c, 0x1, 0x1);
        gbc.writeMem(0x6aa7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6f9a);
        EXPECT(gbc.pc(), 0x6aa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0340
        gbc.setState(0xdb37, 0x611f, 0x9270, 0xc125, 0x37d7, 0xbf42, 0x0, 0x1);
        gbc.writeMem(0xdb37, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x611f);
        EXPECT(gbc.pc(), 0xdb38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb37), 0x89);
        // 89 0342
        gbc.setState(0x5909, 0x7105, 0xcf0, 0x6b97, 0xb97c, 0xb879, 0x0, 0x1);
        gbc.writeMem(0x5909, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7105);
        EXPECT(gbc.pc(), 0x590a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0343
        gbc.setState(0x426c, 0x56e1, 0xb080, 0x6ab0, 0x3b92, 0x9129, 0x0, 0x1);
        gbc.writeMem(0x426c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x56e1);
        EXPECT(gbc.pc(), 0x426d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0344
        gbc.setState(0x2ca8, 0x9cc, 0x82c0, 0x2e33, 0xfbb7, 0x1e2c, 0x0, 0x1);
        gbc.writeMem(0x2ca8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9cc);
        EXPECT(gbc.pc(), 0x2ca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0345
        gbc.setState(0xc946, 0x972b, 0x2480, 0x1eb5, 0x3150, 0x894b, 0x0, 0x1);
        gbc.writeMem(0xc946, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x972b);
        EXPECT(gbc.pc(), 0xc947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc946), 0x89);
        // 89 0346
        gbc.setState(0xceba, 0xe016, 0x3150, 0x4a1d, 0x9fdb, 0xf030, 0x1, 0x1);
        gbc.writeMem(0xceba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe016);
        EXPECT(gbc.pc(), 0xcebb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceba), 0x89);
        // 89 0347
        gbc.setState(0x6858, 0xde67, 0xbc70, 0x142d, 0xf630, 0xd0b3, 0x0, 0x0);
        gbc.writeMem(0x6858, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xde67);
        EXPECT(gbc.pc(), 0x6859);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0348
        gbc.setState(0xd0f1, 0x8be, 0x8e50, 0xb974, 0xff1c, 0xf475, 0x1, 0x1);
        gbc.writeMem(0xd0f1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8be);
        EXPECT(gbc.pc(), 0xd0f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0f1), 0x89);
        // 89 0349
        gbc.setState(0x6b58, 0x9069, 0x83e0, 0x8eea, 0xab0d, 0x5489, 0x0, 0x0);
        gbc.writeMem(0x6b58, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x9069);
        EXPECT(gbc.pc(), 0x6b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 034A
        gbc.setState(0xc6e4, 0x76d9, 0xafe0, 0x73f2, 0xfc4c, 0x62f, 0x0, 0x0);
        gbc.writeMem(0xc6e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x76d9);
        EXPECT(gbc.pc(), 0xc6e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6e4), 0x89);
        // 89 034B
        gbc.setState(0xbe12, 0xef4e, 0x270, 0xe753, 0x31c2, 0x147f, 0x1, 0x0);
        gbc.writeMem(0xbe12, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xef4e);
        EXPECT(gbc.pc(), 0xbe13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe12), 0x89);
        // 89 034C
        gbc.setState(0x9998, 0x578a, 0x65d0, 0x1005, 0x9860, 0xa5d9, 0x0, 0x1);
        gbc.writeMem(0x9998, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x578a);
        EXPECT(gbc.pc(), 0x9999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9998), 0x89);
        // 89 034D
        gbc.setState(0xd04f, 0x5127, 0x5380, 0x1a10, 0x373b, 0xfb61, 0x0, 0x0);
        gbc.writeMem(0xd04f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5127);
        EXPECT(gbc.pc(), 0xd050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd04f), 0x89);
        // 89 034E
        gbc.setState(0xb804, 0x46ef, 0xe420, 0x517f, 0xfeec, 0x54a5, 0x0, 0x0);
        gbc.writeMem(0xb804, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x46ef);
        EXPECT(gbc.pc(), 0xb805);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb804), 0x89);
        // 89 034F
        gbc.setState(0x4bd0, 0xa68b, 0x7960, 0x4b0b, 0x4939, 0x936c, 0x0, 0x0);
        gbc.writeMem(0x4bd0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa68b);
        EXPECT(gbc.pc(), 0x4bd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0350
        gbc.setState(0xbc97, 0x21fc, 0xd7d0, 0xc559, 0xec96, 0x9537, 0x0, 0x0);
        gbc.writeMem(0xbc97, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x21fc);
        EXPECT(gbc.pc(), 0xbc98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc97), 0x89);
        // 89 0351
        gbc.setState(0x7b15, 0x3e03, 0x12f0, 0xc0aa, 0xba69, 0x993e, 0x1, 0x0);
        gbc.writeMem(0x7b15, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3e03);
        EXPECT(gbc.pc(), 0x7b16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0352
        gbc.setState(0xd2b2, 0xe97d, 0x55c0, 0xff94, 0xec7, 0x444c, 0x0, 0x1);
        gbc.writeMem(0xd2b2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe97d);
        EXPECT(gbc.pc(), 0xd2b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2b2), 0x89);
        // 89 0353
        gbc.setState(0x72a7, 0xf01, 0xe680, 0xb6bc, 0x2b04, 0x37ab, 0x0, 0x1);
        gbc.writeMem(0x72a7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf01);
        EXPECT(gbc.pc(), 0x72a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0354
        gbc.setState(0xe4e4, 0x8c9f, 0x62c0, 0x5d34, 0x52a9, 0xae9f, 0x1, 0x1);
        gbc.writeMem(0xe4e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8c9f);
        EXPECT(gbc.pc(), 0xe4e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4e4), 0x89);
        // 89 0355
        gbc.setState(0xeb75, 0x4a92, 0x9ae0, 0xdd54, 0xa9d5, 0xf838, 0x1, 0x1);
        gbc.writeMem(0xeb75, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x4a92);
        EXPECT(gbc.pc(), 0xeb76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb75), 0x89);
        // 89 0356
        gbc.setState(0x3776, 0x3788, 0xb990, 0x4d2b, 0xa3e5, 0x5b88, 0x1, 0x0);
        gbc.writeMem(0x3776, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3788);
        EXPECT(gbc.pc(), 0x3777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0357
        gbc.setState(0x3af7, 0xc25e, 0x5d60, 0x3abd, 0xb574, 0x4ed6, 0x1, 0x1);
        gbc.writeMem(0x3af7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc25e);
        EXPECT(gbc.pc(), 0x3af8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0358
        gbc.setState(0xd50f, 0x7881, 0x4fe0, 0xc059, 0x643b, 0x2cc2, 0x0, 0x0);
        gbc.writeMem(0xd50f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7881);
        EXPECT(gbc.pc(), 0xd510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd50f), 0x89);
        // 89 0359
        gbc.setState(0x203b, 0x9868, 0x4bf0, 0xf8f4, 0x1b3c, 0x3e57, 0x0, 0x1);
        gbc.writeMem(0x203b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9868);
        EXPECT(gbc.pc(), 0x203c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 035A
        gbc.setState(0x3785, 0xca28, 0x1b00, 0xe056, 0x9e5c, 0xd3c6, 0x0, 0x1);
        gbc.writeMem(0x3785, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xca28);
        EXPECT(gbc.pc(), 0x3786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 035B
        gbc.setState(0x2107, 0x3d12, 0x9b50, 0x4d66, 0x5b7, 0x127f, 0x1, 0x0);
        gbc.writeMem(0x2107, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3d12);
        EXPECT(gbc.pc(), 0x2108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 035C
        gbc.setState(0xb737, 0x81eb, 0xcbd0, 0xb1ad, 0x9188, 0x8607, 0x0, 0x0);
        gbc.writeMem(0xb737, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x81eb);
        EXPECT(gbc.pc(), 0xb738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb737), 0x89);
        // 89 035D
        gbc.setState(0x61d0, 0x9717, 0x5930, 0x347c, 0x6b4b, 0x7dba, 0x1, 0x0);
        gbc.writeMem(0x61d0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9717);
        EXPECT(gbc.pc(), 0x61d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 035E
        gbc.setState(0xac30, 0x8e8e, 0xdce0, 0xc862, 0x82da, 0xfefd, 0x1, 0x0);
        gbc.writeMem(0xac30, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8e8e);
        EXPECT(gbc.pc(), 0xac31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac30), 0x89);
        // 89 035F
        gbc.setState(0x362f, 0x9ee9, 0x2e10, 0xad71, 0xb9ce, 0x57b0, 0x1, 0x0);
        gbc.writeMem(0x362f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9ee9);
        EXPECT(gbc.pc(), 0x3630);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0360
        gbc.setState(0x2f41, 0xfc2c, 0xbeb0, 0xa3cc, 0xbc61, 0xf081, 0x0, 0x1);
        gbc.writeMem(0x2f41, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xfc2c);
        EXPECT(gbc.pc(), 0x2f42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0361
        gbc.setState(0x8456, 0x5463, 0x1510, 0x96b5, 0x77e6, 0x1670, 0x0, 0x0);
        gbc.writeMem(0x8456, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5463);
        EXPECT(gbc.pc(), 0x8457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8456), 0x89);
        // 89 0362
        gbc.setState(0x4607, 0xd16b, 0x4490, 0x9d26, 0x209f, 0xf122, 0x0, 0x1);
        gbc.writeMem(0x4607, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd16b);
        EXPECT(gbc.pc(), 0x4608);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0363
        gbc.setState(0x80e4, 0x4e98, 0x9670, 0xdbb0, 0x2a41, 0x8c26, 0x1, 0x1);
        gbc.writeMem(0x80e4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4e98);
        EXPECT(gbc.pc(), 0x80e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80e4), 0x89);
        // 89 0365
        gbc.setState(0xacfd, 0x7124, 0xe060, 0x3f1d, 0xbeda, 0x2cc3, 0x0, 0x1);
        gbc.writeMem(0xacfd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7124);
        EXPECT(gbc.pc(), 0xacfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacfd), 0x89);
        // 89 0366
        gbc.setState(0xb1b8, 0x8b27, 0x1640, 0x14d3, 0x7e16, 0x4068, 0x0, 0x1);
        gbc.writeMem(0xb1b8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8b27);
        EXPECT(gbc.pc(), 0xb1b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1b8), 0x89);
        // 89 0367
        gbc.setState(0x8ea4, 0x2bdd, 0x6890, 0x6e84, 0x52a9, 0x8d22, 0x1, 0x1);
        gbc.writeMem(0x8ea4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x2bdd);
        EXPECT(gbc.pc(), 0x8ea5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ea4), 0x89);
        // 89 0368
        gbc.setState(0x85b4, 0xee3c, 0xddb0, 0xaf70, 0x3271, 0xc366, 0x0, 0x1);
        gbc.writeMem(0x85b4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xee3c);
        EXPECT(gbc.pc(), 0x85b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85b4), 0x89);
        // 89 036A
        gbc.setState(0xe6b6, 0x8641, 0x7800, 0xbb82, 0xe117, 0x376c, 0x0, 0x1);
        gbc.writeMem(0xe6b6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8641);
        EXPECT(gbc.pc(), 0xe6b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b6), 0x89);
        // 89 036B
        gbc.setState(0x6e2a, 0x484b, 0x5880, 0x9d69, 0xd4eb, 0x80ce, 0x0, 0x1);
        gbc.writeMem(0x6e2a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x484b);
        EXPECT(gbc.pc(), 0x6e2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 036C
        gbc.setState(0xb7dc, 0xa91, 0x2ac0, 0xb342, 0xf237, 0x79f2, 0x1, 0x0);
        gbc.writeMem(0xb7dc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa91);
        EXPECT(gbc.pc(), 0xb7dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7dc), 0x89);
        // 89 036D
        gbc.setState(0x2969, 0x890f, 0xd3a0, 0xecbd, 0xf5c9, 0x55a4, 0x0, 0x1);
        gbc.writeMem(0x2969, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x890f);
        EXPECT(gbc.pc(), 0x296a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 036E
        gbc.setState(0xcdf6, 0xa1ad, 0x14e0, 0xcb7b, 0x6fb0, 0x956b, 0x0, 0x1);
        gbc.writeMem(0xcdf6, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa1ad);
        EXPECT(gbc.pc(), 0xcdf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdf6), 0x89);
        // 89 036F
        gbc.setState(0xc1e8, 0xdad0, 0xb10, 0xc929, 0xdb34, 0xcb91, 0x1, 0x1);
        gbc.writeMem(0xc1e8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xdad0);
        EXPECT(gbc.pc(), 0xc1e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e8), 0x89);
        // 89 0370
        gbc.setState(0xdda3, 0x7861, 0x8e90, 0x22f6, 0x5b90, 0xeedb, 0x0, 0x0);
        gbc.writeMem(0xdda3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x7861);
        EXPECT(gbc.pc(), 0xdda4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdda3), 0x89);
        // 89 0371
        gbc.setState(0x612, 0x8852, 0xfd0, 0xc9b7, 0x8bd6, 0xd300, 0x1, 0x0);
        gbc.writeMem(0x612, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x8852);
        EXPECT(gbc.pc(), 0x613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0372
        gbc.setState(0x8c49, 0x4f24, 0xdb70, 0x862f, 0x8f97, 0x7d9e, 0x0, 0x1);
        gbc.writeMem(0x8c49, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x4f24);
        EXPECT(gbc.pc(), 0x8c4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c49), 0x89);
        // 89 0373
        gbc.setState(0xc85f, 0xd7e6, 0x9fb0, 0x4c29, 0x6f70, 0xed86, 0x0, 0x1);
        gbc.writeMem(0xc85f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd7e6);
        EXPECT(gbc.pc(), 0xc860);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc85f), 0x89);
        // 89 0374
        gbc.setState(0x7a31, 0x656c, 0x8ed0, 0x48ad, 0xf711, 0xf892, 0x1, 0x1);
        gbc.writeMem(0x7a31, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x656c);
        EXPECT(gbc.pc(), 0x7a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0375
        gbc.setState(0xbb65, 0x2bfe, 0x9070, 0x80d1, 0x9a7d, 0x23b7, 0x0, 0x1);
        gbc.writeMem(0xbb65, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2bfe);
        EXPECT(gbc.pc(), 0xbb66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb65), 0x89);
        // 89 0376
        gbc.setState(0x4e01, 0xc2e4, 0xc970, 0x5f89, 0x705f, 0x19dc, 0x1, 0x0);
        gbc.writeMem(0x4e01, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc2e4);
        EXPECT(gbc.pc(), 0x4e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0377
        gbc.setState(0x7683, 0xdb8f, 0xef50, 0x2155, 0xa1d5, 0x7ae0, 0x0, 0x1);
        gbc.writeMem(0x7683, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xdb8f);
        EXPECT(gbc.pc(), 0x7684);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0378
        gbc.setState(0x4425, 0x9158, 0xe20, 0xe229, 0x153e, 0xcc3f, 0x0, 0x0);
        gbc.writeMem(0x4425, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x9158);
        EXPECT(gbc.pc(), 0x4426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0379
        gbc.setState(0x7895, 0xb958, 0x2b70, 0xc975, 0x4312, 0x3851, 0x1, 0x0);
        gbc.writeMem(0x7895, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb958);
        EXPECT(gbc.pc(), 0x7896);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 037A
        gbc.setState(0xbe38, 0x54ae, 0x49f0, 0xa43c, 0x7282, 0xbfd1, 0x0, 0x1);
        gbc.writeMem(0xbe38, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x54ae);
        EXPECT(gbc.pc(), 0xbe39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe38), 0x89);
        // 89 037B
        gbc.setState(0x3b68, 0x9ddb, 0x4740, 0xada9, 0xeca2, 0x3c3c, 0x1, 0x1);
        gbc.writeMem(0x3b68, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x9ddb);
        EXPECT(gbc.pc(), 0x3b69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 037C
        gbc.setState(0x272e, 0x3eb1, 0x7610, 0x794c, 0x2737, 0x38ae, 0x0, 0x1);
        gbc.writeMem(0x272e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3eb1);
        EXPECT(gbc.pc(), 0x272f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 037D
        gbc.setState(0x913c, 0xf7a2, 0x61d0, 0x930a, 0x1234, 0x6322, 0x1, 0x0);
        gbc.writeMem(0x913c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xf7a2);
        EXPECT(gbc.pc(), 0x913d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x913c), 0x89);
        // 89 037E
        gbc.setState(0x660b, 0x9ca6, 0xcaa0, 0x2a8c, 0xe66c, 0x6668, 0x1, 0x1);
        gbc.writeMem(0x660b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x9ca6);
        EXPECT(gbc.pc(), 0x660c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 037F
        gbc.setState(0x6b30, 0x5b9b, 0x5890, 0x553c, 0xaeb2, 0x7e9e, 0x0, 0x1);
        gbc.writeMem(0x6b30, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5b9b);
        EXPECT(gbc.pc(), 0x6b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0380
        gbc.setState(0x38c0, 0xe94a, 0x9ab0, 0x4019, 0x77c, 0x1677, 0x0, 0x1);
        gbc.writeMem(0x38c0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe94a);
        EXPECT(gbc.pc(), 0x38c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0381
        gbc.setState(0x7146, 0x4d49, 0xf640, 0x5224, 0xd71a, 0xa45, 0x1, 0x0);
        gbc.writeMem(0x7146, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4d49);
        EXPECT(gbc.pc(), 0x7147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0382
        gbc.setState(0x23af, 0x95c0, 0xd1d0, 0x9a6e, 0xa5c2, 0x4dff, 0x0, 0x1);
        gbc.writeMem(0x23af, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x95c0);
        EXPECT(gbc.pc(), 0x23b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0383
        gbc.setState(0x9a06, 0x6e64, 0xbb40, 0xa6a4, 0xa037, 0xc5df, 0x1, 0x0);
        gbc.writeMem(0x9a06, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x6e64);
        EXPECT(gbc.pc(), 0x9a07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a06), 0x89);
        // 89 0384
        gbc.setState(0x6ef4, 0xa6ba, 0xd430, 0x9806, 0x45b2, 0xc2e0, 0x0, 0x0);
        gbc.writeMem(0x6ef4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xa6ba);
        EXPECT(gbc.pc(), 0x6ef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0385
        gbc.setState(0xa2e0, 0xa7dc, 0xfed0, 0x3daa, 0xdeaa, 0xc053, 0x0, 0x0);
        gbc.writeMem(0xa2e0, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa7dc);
        EXPECT(gbc.pc(), 0xa2e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2e0), 0x89);
        // 89 0386
        gbc.setState(0xabbd, 0x8007, 0xf070, 0x13b3, 0x2ad0, 0xb527, 0x1, 0x1);
        gbc.writeMem(0xabbd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8007);
        EXPECT(gbc.pc(), 0xabbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabbd), 0x89);
        // 89 0387
        gbc.setState(0x28a, 0x10c, 0x2ee0, 0x3dbe, 0x1230, 0xfd3b, 0x0, 0x1);
        gbc.writeMem(0x28a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x10c);
        EXPECT(gbc.pc(), 0x28b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0388
        gbc.setState(0x744e, 0x79f0, 0xd9c0, 0xb09b, 0x4757, 0xfc0f, 0x0, 0x1);
        gbc.writeMem(0x744e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x79f0);
        EXPECT(gbc.pc(), 0x744f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0389
        gbc.setState(0xabd9, 0x166a, 0xc9a0, 0x65af, 0x2d4e, 0x5f69, 0x1, 0x1);
        gbc.writeMem(0xabd9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x166a);
        EXPECT(gbc.pc(), 0xabda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabd9), 0x89);
        // 89 038B
        gbc.setState(0xb783, 0x6f2d, 0xa900, 0x97f8, 0x9e6d, 0x1b3d, 0x1, 0x1);
        gbc.writeMem(0xb783, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6f2d);
        EXPECT(gbc.pc(), 0xb784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb783), 0x89);
        // 89 038C
        gbc.setState(0xcdcc, 0x740e, 0x5c40, 0x8c78, 0x98b5, 0x8b42, 0x1, 0x1);
        gbc.writeMem(0xcdcc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x740e);
        EXPECT(gbc.pc(), 0xcdcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdcc), 0x89);
        // 89 038D
        gbc.setState(0x3edb, 0xd298, 0xf5a0, 0xecf5, 0xf0d5, 0x2f24, 0x1, 0x1);
        gbc.writeMem(0x3edb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xd298);
        EXPECT(gbc.pc(), 0x3edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 038E
        gbc.setState(0x1006, 0x249e, 0x5410, 0x39df, 0xfec8, 0xc445, 0x0, 0x0);
        gbc.writeMem(0x1006, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x249e);
        EXPECT(gbc.pc(), 0x1007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0390
        gbc.setState(0x4426, 0xeaf6, 0xdac0, 0x5455, 0xae0, 0x148, 0x0, 0x0);
        gbc.writeMem(0x4426, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xeaf6);
        EXPECT(gbc.pc(), 0x4427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0391
        gbc.setState(0x2ab, 0x9381, 0x21d0, 0xb699, 0xc489, 0x5d74, 0x0, 0x1);
        gbc.writeMem(0x2ab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x9381);
        EXPECT(gbc.pc(), 0x2ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 0392
        gbc.setState(0x2d23, 0x735f, 0xf580, 0xb1e9, 0xe798, 0x96b7, 0x1, 0x1);
        gbc.writeMem(0x2d23, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x735f);
        EXPECT(gbc.pc(), 0x2d24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 0393
        gbc.setState(0x3d8, 0xe446, 0x3fd0, 0x4501, 0xd160, 0x8f6e, 0x0, 0x0);
        gbc.writeMem(0x3d8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe446);
        EXPECT(gbc.pc(), 0x3d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 0394
        gbc.setState(0x1d15, 0x1a66, 0x5a80, 0x97ea, 0x7844, 0x77b5, 0x1, 0x1);
        gbc.writeMem(0x1d15, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1a66);
        EXPECT(gbc.pc(), 0x1d16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 0395
        gbc.setState(0xd4fe, 0x22e7, 0x7a00, 0x37c9, 0x80ea, 0xf5e8, 0x1, 0x0);
        gbc.writeMem(0xd4fe, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x22e7);
        EXPECT(gbc.pc(), 0xd4ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4fe), 0x89);
        // 89 0397
        gbc.setState(0x95e9, 0x2005, 0x1900, 0x4796, 0x3f70, 0x37b0, 0x0, 0x1);
        gbc.writeMem(0x95e9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2005);
        EXPECT(gbc.pc(), 0x95ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95e9), 0x89);
        // 89 0398
        gbc.setState(0xe0ef, 0x4976, 0xb590, 0x7e77, 0x3659, 0x6ac4, 0x1, 0x0);
        gbc.writeMem(0xe0ef, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x4976);
        EXPECT(gbc.pc(), 0xe0f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ef), 0x89);
        // 89 0399
        gbc.setState(0xedeb, 0xce92, 0x100, 0x3e33, 0xfc46, 0x2972, 0x0, 0x1);
        gbc.writeMem(0xedeb, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xce92);
        EXPECT(gbc.pc(), 0xedec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedeb), 0x89);
        // 89 039A
        gbc.setState(0x27ed, 0x3e03, 0xad0, 0xe848, 0xa3a4, 0x7441, 0x0, 0x0);
        gbc.writeMem(0x27ed, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3e03);
        EXPECT(gbc.pc(), 0x27ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 039B
        gbc.setState(0x3a78, 0xfa5b, 0x3850, 0x70f2, 0x7cc5, 0x2254, 0x0, 0x1);
        gbc.writeMem(0x3a78, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xfa5b);
        EXPECT(gbc.pc(), 0x3a79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 039C
        gbc.setState(0x8de, 0xbf8, 0xd830, 0x5849, 0x53d7, 0x784, 0x1, 0x0);
        gbc.writeMem(0x8de, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xbf8);
        EXPECT(gbc.pc(), 0x8df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 039D
        gbc.setState(0x3455, 0x7ed3, 0x64f0, 0x8711, 0x4925, 0x6722, 0x1, 0x1);
        gbc.writeMem(0x3455, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x7ed3);
        EXPECT(gbc.pc(), 0x3456);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 039E
        gbc.setState(0x5e1d, 0x9965, 0xb530, 0x972f, 0x1429, 0x7b13, 0x0, 0x1);
        gbc.writeMem(0x5e1d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9965);
        EXPECT(gbc.pc(), 0x5e1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 039F
        gbc.setState(0xda5b, 0x4849, 0x6cb0, 0xe49c, 0x6db7, 0xedf3, 0x1, 0x0);
        gbc.writeMem(0xda5b, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4849);
        EXPECT(gbc.pc(), 0xda5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda5b), 0x89);
        // 89 03A0
        gbc.setState(0x16d3, 0xf8, 0x4f30, 0xf9a3, 0x28e5, 0x5eb0, 0x0, 0x1);
        gbc.writeMem(0x16d3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf8);
        EXPECT(gbc.pc(), 0x16d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03A1
        gbc.setState(0x8bc3, 0xf3f9, 0x5d40, 0x411, 0x585c, 0x2a1, 0x1, 0x0);
        gbc.writeMem(0x8bc3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf3f9);
        EXPECT(gbc.pc(), 0x8bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc3), 0x89);
        // 89 03A2
        gbc.setState(0xeede, 0x2706, 0x680, 0x9fbb, 0x923, 0xc0dd, 0x0, 0x0);
        gbc.writeMem(0xeede, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2706);
        EXPECT(gbc.pc(), 0xeedf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeede), 0x89);
        // 89 03A3
        gbc.setState(0xcf8a, 0xc1ad, 0xd6c0, 0x6ffc, 0x4b4, 0x64cb, 0x0, 0x1);
        gbc.writeMem(0xcf8a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xc1ad);
        EXPECT(gbc.pc(), 0xcf8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf8a), 0x89);
        // 89 03A4
        gbc.setState(0xa745, 0xb81f, 0xc580, 0x996, 0x5342, 0x6898, 0x0, 0x1);
        gbc.writeMem(0xa745, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb81f);
        EXPECT(gbc.pc(), 0xa746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa745), 0x89);
        // 89 03A5
        gbc.setState(0xa890, 0xedac, 0xf000, 0x3f04, 0xd52, 0x6a2c, 0x0, 0x0);
        gbc.writeMem(0xa890, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xedac);
        EXPECT(gbc.pc(), 0xa891);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa890), 0x89);
        // 89 03A6
        gbc.setState(0x3bb8, 0xa7ac, 0xd460, 0xf2fa, 0x65df, 0x4a1d, 0x0, 0x1);
        gbc.writeMem(0x3bb8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa7ac);
        EXPECT(gbc.pc(), 0x3bb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03A7
        gbc.setState(0x6b5f, 0xc2ae, 0x8aa0, 0xb51d, 0x35cb, 0xb58e, 0x0, 0x1);
        gbc.writeMem(0x6b5f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc2ae);
        EXPECT(gbc.pc(), 0x6b60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03A8
        gbc.setState(0xd2e2, 0xac7d, 0xfb30, 0xdf2f, 0xeccb, 0xc5a5, 0x1, 0x1);
        gbc.writeMem(0xd2e2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xac7d);
        EXPECT(gbc.pc(), 0xd2e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2e2), 0x89);
        // 89 03A9
        gbc.setState(0x3d36, 0x54c9, 0x8420, 0x2057, 0x7905, 0xde6e, 0x0, 0x0);
        gbc.writeMem(0x3d36, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x54c9);
        EXPECT(gbc.pc(), 0x3d37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03AA
        gbc.setState(0x493d, 0xb061, 0x3e50, 0x554b, 0xbaf4, 0xacce, 0x1, 0x1);
        gbc.writeMem(0x493d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xb061);
        EXPECT(gbc.pc(), 0x493e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03AB
        gbc.setState(0x4c9e, 0xb79d, 0xcaa0, 0x34dd, 0x5fa9, 0x80ef, 0x0, 0x0);
        gbc.writeMem(0x4c9e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb79d);
        EXPECT(gbc.pc(), 0x4c9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03AC
        gbc.setState(0xddad, 0x6226, 0x6330, 0x8a95, 0x8c3c, 0x5787, 0x1, 0x1);
        gbc.writeMem(0xddad, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6226);
        EXPECT(gbc.pc(), 0xddae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddad), 0x89);
        // 89 03AD
        gbc.setState(0x895a, 0x9310, 0x2370, 0x4bbb, 0x5b94, 0xb61a, 0x1, 0x1);
        gbc.writeMem(0x895a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9310);
        EXPECT(gbc.pc(), 0x895b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x895a), 0x89);
        // 89 03AE
        gbc.setState(0x7eda, 0xc136, 0x3250, 0xa6c6, 0x73dc, 0x2116, 0x0, 0x0);
        gbc.writeMem(0x7eda, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xc136);
        EXPECT(gbc.pc(), 0x7edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03AF
        gbc.setState(0xcca2, 0x82ef, 0x7110, 0x5cf7, 0x7219, 0x2bb6, 0x1, 0x0);
        gbc.writeMem(0xcca2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x82ef);
        EXPECT(gbc.pc(), 0xcca3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcca2), 0x89);
        // 89 03B0
        gbc.setState(0xe58a, 0x720, 0x1240, 0xaa88, 0x8476, 0xf2a9, 0x0, 0x0);
        gbc.writeMem(0xe58a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x720);
        EXPECT(gbc.pc(), 0xe58b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe58a), 0x89);
        // 89 03B1
        gbc.setState(0xd387, 0x8d51, 0xe510, 0xe87f, 0xf0f2, 0xcc4f, 0x0, 0x1);
        gbc.writeMem(0xd387, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x8d51);
        EXPECT(gbc.pc(), 0xd388);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd387), 0x89);
        // 89 03B2
        gbc.setState(0x2366, 0xf3e2, 0x4a10, 0xcdcd, 0xa214, 0xcc5c, 0x1, 0x0);
        gbc.writeMem(0x2366, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf3e2);
        EXPECT(gbc.pc(), 0x2367);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03B3
        gbc.setState(0x92b8, 0xf3a9, 0x5d00, 0xb9a7, 0xd218, 0x6ab9, 0x1, 0x1);
        gbc.writeMem(0x92b8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf3a9);
        EXPECT(gbc.pc(), 0x92b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92b8), 0x89);
        // 89 03B4
        gbc.setState(0x5ed3, 0x2227, 0x8400, 0xd9da, 0xaf94, 0x13ea, 0x0, 0x1);
        gbc.writeMem(0x5ed3, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2227);
        EXPECT(gbc.pc(), 0x5ed4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03B5
        gbc.setState(0xed26, 0xeda1, 0x62f0, 0xfafc, 0x5f14, 0xc50d, 0x0, 0x0);
        gbc.writeMem(0xed26, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xeda1);
        EXPECT(gbc.pc(), 0xed27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed26), 0x89);
        // 89 03B6
        gbc.setState(0x2840, 0x4cd8, 0x1a40, 0xd790, 0x7437, 0x7f1a, 0x0, 0x0);
        gbc.writeMem(0x2840, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4cd8);
        EXPECT(gbc.pc(), 0x2841);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03B7
        gbc.setState(0x6962, 0x5248, 0x42f0, 0x4db5, 0x3f61, 0xbcc4, 0x0, 0x1);
        gbc.writeMem(0x6962, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5248);
        EXPECT(gbc.pc(), 0x6963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03B8
        gbc.setState(0x75d9, 0x27b9, 0xeb90, 0xb018, 0x245d, 0xcbb2, 0x1, 0x1);
        gbc.writeMem(0x75d9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x27b9);
        EXPECT(gbc.pc(), 0x75da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03B9
        gbc.setState(0xa79f, 0xdaa7, 0x8b10, 0x5aed, 0x1438, 0xf8a6, 0x0, 0x0);
        gbc.writeMem(0xa79f, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xdaa7);
        EXPECT(gbc.pc(), 0xa7a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa79f), 0x89);
        // 89 03BA
        gbc.setState(0x7036, 0x2949, 0x9a80, 0x84e5, 0xe5eb, 0x287, 0x0, 0x0);
        gbc.writeMem(0x7036, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2949);
        EXPECT(gbc.pc(), 0x7037);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03BB
        gbc.setState(0xc254, 0xd7fc, 0xb940, 0x5e3a, 0xecfe, 0x797, 0x0, 0x1);
        gbc.writeMem(0xc254, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd7fc);
        EXPECT(gbc.pc(), 0xc255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc254), 0x89);
        // 89 03BC
        gbc.setState(0x6d9d, 0x5c36, 0x17a0, 0x137b, 0x1f01, 0x7c04, 0x0, 0x0);
        gbc.writeMem(0x6d9d, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x5c36);
        EXPECT(gbc.pc(), 0x6d9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03BD
        gbc.setState(0x5bbc, 0x3519, 0x7c70, 0xc67e, 0x6e11, 0x5ae3, 0x0, 0x1);
        gbc.writeMem(0x5bbc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3519);
        EXPECT(gbc.pc(), 0x5bbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03BE
        gbc.setState(0x847c, 0x3f7e, 0xfec0, 0x6178, 0x916c, 0x6aef, 0x1, 0x0);
        gbc.writeMem(0x847c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3f7e);
        EXPECT(gbc.pc(), 0x847d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x847c), 0x89);
        // 89 03BF
        gbc.setState(0x76bc, 0x9880, 0x7470, 0x819b, 0xf660, 0x4038, 0x0, 0x0);
        gbc.writeMem(0x76bc, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9880);
        EXPECT(gbc.pc(), 0x76bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03C0
        gbc.setState(0x1a94, 0x799d, 0xa740, 0x76e5, 0x4e2f, 0x9d6b, 0x0, 0x1);
        gbc.writeMem(0x1a94, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x799d);
        EXPECT(gbc.pc(), 0x1a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03C1
        gbc.setState(0xc122, 0x768, 0x53d0, 0x306f, 0x5c25, 0xade0, 0x1, 0x1);
        gbc.writeMem(0xc122, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x768);
        EXPECT(gbc.pc(), 0xc123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc122), 0x89);
        // 89 03C2
        gbc.setState(0x6233, 0x6415, 0xa960, 0xa5fb, 0x1aca, 0xaf1b, 0x1, 0x1);
        gbc.writeMem(0x6233, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6415);
        EXPECT(gbc.pc(), 0x6234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03C3
        gbc.setState(0xbb63, 0x789d, 0x1680, 0x9d4a, 0x5504, 0xbbeb, 0x0, 0x1);
        gbc.writeMem(0xbb63, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x789d);
        EXPECT(gbc.pc(), 0xbb64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb63), 0x89);
        // 89 03C4
        gbc.setState(0x4eab, 0x2e3, 0x6250, 0xc7d9, 0x4283, 0x52e3, 0x1, 0x0);
        gbc.writeMem(0x4eab, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2e3);
        EXPECT(gbc.pc(), 0x4eac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03C5
        gbc.setState(0xbd6e, 0x972d, 0xbd60, 0xf48, 0x14bc, 0xea45, 0x1, 0x1);
        gbc.writeMem(0xbd6e, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x972d);
        EXPECT(gbc.pc(), 0xbd6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd6e), 0x89);
        // 89 03C6
        gbc.setState(0xd334, 0xa906, 0x5800, 0x31ee, 0x6bce, 0x251, 0x1, 0x1);
        gbc.writeMem(0xd334, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa906);
        EXPECT(gbc.pc(), 0xd335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd334), 0x89);
        // 89 03C7
        gbc.setState(0x8c3c, 0xd9dd, 0x2100, 0x60c4, 0x9947, 0x9b67, 0x1, 0x0);
        gbc.writeMem(0x8c3c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd9dd);
        EXPECT(gbc.pc(), 0x8c3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c3c), 0x89);
        // 89 03C8
        gbc.setState(0x5dd5, 0x4d40, 0x47d0, 0x5319, 0x91c1, 0x2e7d, 0x1, 0x1);
        gbc.writeMem(0x5dd5, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4d40);
        EXPECT(gbc.pc(), 0x5dd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03C9
        gbc.setState(0x74c7, 0xf8f6, 0xbf60, 0x28f4, 0x9428, 0xc1ce, 0x0, 0x1);
        gbc.writeMem(0x74c7, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf8f6);
        EXPECT(gbc.pc(), 0x74c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03CB
        gbc.setState(0x2a8a, 0x36c1, 0x6d0, 0x6656, 0xff03, 0x4286, 0x1, 0x1);
        gbc.writeMem(0x2a8a, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x36c1);
        EXPECT(gbc.pc(), 0x2a8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03CC
        gbc.setState(0xd659, 0x1b01, 0x8f40, 0xae0b, 0xd05f, 0x5d1b, 0x0, 0x1);
        gbc.writeMem(0xd659, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1b01);
        EXPECT(gbc.pc(), 0xd65a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd659), 0x89);
        // 89 03CD
        gbc.setState(0x4971, 0xc8e9, 0x3c80, 0xa33d, 0x371e, 0xf48d, 0x1, 0x1);
        gbc.writeMem(0x4971, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc8e9);
        EXPECT(gbc.pc(), 0x4972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03CE
        gbc.setState(0x6ae8, 0x3a37, 0x8080, 0xe390, 0x2562, 0xaf4, 0x1, 0x0);
        gbc.writeMem(0x6ae8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3a37);
        EXPECT(gbc.pc(), 0x6ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03CF
        gbc.setState(0x46ba, 0x72ea, 0x4ce0, 0x35f8, 0xe2ae, 0x2b9e, 0x0, 0x1);
        gbc.writeMem(0x46ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x72ea);
        EXPECT(gbc.pc(), 0x46bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03D0
        gbc.setState(0x5b09, 0xaf1a, 0x3ec0, 0xc03c, 0x511, 0xbf83, 0x1, 0x1);
        gbc.writeMem(0x5b09, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xaf1a);
        EXPECT(gbc.pc(), 0x5b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03D1
        gbc.setState(0x2160, 0x8289, 0xdba0, 0xe6f4, 0xb941, 0xee67, 0x0, 0x1);
        gbc.writeMem(0x2160, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x8289);
        EXPECT(gbc.pc(), 0x2161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03D2
        gbc.setState(0x3c80, 0x2669, 0xd320, 0xc907, 0x24c0, 0x7096, 0x1, 0x0);
        gbc.writeMem(0x3c80, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x2669);
        EXPECT(gbc.pc(), 0x3c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03D3
        gbc.setState(0x2a01, 0x365c, 0xfe40, 0x4c55, 0x1014, 0x6bdd, 0x0, 0x0);
        gbc.writeMem(0x2a01, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x365c);
        EXPECT(gbc.pc(), 0x2a02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03D4
        gbc.setState(0x4052, 0x42b0, 0x7c10, 0x8415, 0x4376, 0x1263, 0x1, 0x0);
        gbc.writeMem(0x4052, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x42b0);
        EXPECT(gbc.pc(), 0x4053);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 89 03D5
        gbc.setState(0x8ab1, 0xcb7e, 0xb6a0, 0xb8f0, 0x526e, 0xe2b3, 0x1, 0x1);
        gbc.writeMem(0x8ab1, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xcb7e);
        EXPECT(gbc.pc(), 0x8ab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ab1), 0x89);
        // 89 03D6
        gbc.setState(0xb903, 0x8b00, 0x4c50, 0xb348, 0x1893, 0x7c77, 0x1, 0x0);
        gbc.writeMem(0xb903, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8b00);
        EXPECT(gbc.pc(), 0xb904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb903), 0x89);
        // 89 03D7
        gbc.setState(0x8da2, 0x34b9, 0x64d0, 0xc3e9, 0xe18e, 0x5520, 0x0, 0x0);
        gbc.writeMem(0x8da2, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x34b9);
        EXPECT(gbc.pc(), 0x8da3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8da2), 0x89);
        // 89 03D8
        gbc.setState(0x940, 0x21b6, 0x12f0, 0x1f80, 0xc6b8, 0x22bc, 0x1, 0x1);
        gbc.writeMem(0x940, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x21b6);
        EXPECT(gbc.pc(), 0x941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03D9
        gbc.setState(0x8493, 0xfb05, 0x22e0, 0x52d8, 0x6e34, 0xbdb0, 0x0, 0x1);
        gbc.writeMem(0x8493, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xfb05);
        EXPECT(gbc.pc(), 0x8494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8493), 0x89);
        // 89 03DA
        gbc.setState(0x27bd, 0xaa36, 0xbd80, 0xe121, 0x25e5, 0x550b, 0x0, 0x1);
        gbc.writeMem(0x27bd, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xaa36);
        EXPECT(gbc.pc(), 0x27be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03DB
        gbc.setState(0x526, 0xe6d, 0x8260, 0xdfa1, 0x8e1f, 0x7be5, 0x1, 0x0);
        gbc.writeMem(0x526, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xe6d);
        EXPECT(gbc.pc(), 0x527);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03DC
        gbc.setState(0xd8a8, 0x615d, 0x40d0, 0xd301, 0x2f62, 0xa5d, 0x1, 0x0);
        gbc.writeMem(0xd8a8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x615d);
        EXPECT(gbc.pc(), 0xd8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8a8), 0x89);
        // 89 03DD
        gbc.setState(0x32ba, 0x4f49, 0x89c0, 0x79d6, 0x4d8a, 0xf7ca, 0x1, 0x1);
        gbc.writeMem(0x32ba, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4f49);
        EXPECT(gbc.pc(), 0x32bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03DE
        gbc.setState(0xc082, 0xa102, 0xeec0, 0x60a4, 0x4f18, 0xe610, 0x1, 0x1);
        gbc.writeMem(0xc082, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xa102);
        EXPECT(gbc.pc(), 0xc083);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc082), 0x89);
        // 89 03DF
        gbc.setState(0x3ce9, 0xa66c, 0xaef0, 0xa54, 0xb4da, 0xfcec, 0x0, 0x0);
        gbc.writeMem(0x3ce9, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa66c);
        EXPECT(gbc.pc(), 0x3cea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 89 03E0
        gbc.setState(0xc802, 0x1345, 0xef50, 0x3d46, 0x6e28, 0xffa2, 0x0, 0x0);
        gbc.writeMem(0xc802, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1345);
        EXPECT(gbc.pc(), 0xc803);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc802), 0x89);
        // 89 03E1
        gbc.setState(0x6494, 0x6a4d, 0x4110, 0x6693, 0xecb1, 0x8ab8, 0x0, 0x0);
        gbc.writeMem(0x6494, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x6a4d);
        EXPECT(gbc.pc(), 0x6495);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03E3
        gbc.setState(0x3ef4, 0x4ab5, 0x84c0, 0xb764, 0x3d42, 0x3c47, 0x0, 0x1);
        gbc.writeMem(0x3ef4, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4ab5);
        EXPECT(gbc.pc(), 0x3ef5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03E4
        gbc.setState(0x4157, 0xe12f, 0xf1b0, 0x6157, 0x5dfb, 0xe0f0, 0x1, 0x1);
        gbc.writeMem(0x4157, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe12f);
        EXPECT(gbc.pc(), 0x4158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 89 03E5
        gbc.setState(0xd52c, 0xc4f7, 0x1a80, 0x9769, 0x1579, 0x4462, 0x1, 0x1);
        gbc.writeMem(0xd52c, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc4f7);
        EXPECT(gbc.pc(), 0xd52d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd52c), 0x89);
        // 89 03E6
        gbc.setState(0x5ffa, 0x343a, 0x3070, 0x73b0, 0x749a, 0x328d, 0x1, 0x1);
        gbc.writeMem(0x5ffa, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x343a);
        EXPECT(gbc.pc(), 0x5ffb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 89 03E7
        gbc.setState(0x97f8, 0xed6b, 0x8970, 0x1a3a, 0x1427, 0xa74f, 0x0, 0x1);
        gbc.writeMem(0x97f8, { 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xed6b);
        EXPECT(gbc.pc(), 0x97f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f8), 0x89);
    }
