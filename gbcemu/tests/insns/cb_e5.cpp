#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_e5)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_e5) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB E5 0000
        gbc.setState(0x63fd, 0xfb35, 0x570, 0x1cc1, 0xee5e, 0xfcf3, 0x0, 0x1);
        gbc.writeMem(0x63fd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xfb35);
        EXPECT(gbc.pc(), 0x63ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0001
        gbc.setState(0xa521, 0x7771, 0x2870, 0xc889, 0x9bb6, 0xa7e3, 0x1, 0x0);
        gbc.writeMem(0xa521, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7771);
        EXPECT(gbc.pc(), 0xa523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa521), 0xcb);
        EXPECT(gbc.readMem(0xa522), 0xe5);
        // CB E5 0003
        gbc.setState(0x9250, 0xd420, 0xbac0, 0xd0c, 0x814e, 0xdeb5, 0x0, 0x1);
        gbc.writeMem(0x9250, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd420);
        EXPECT(gbc.pc(), 0x9252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9250), 0xcb);
        EXPECT(gbc.readMem(0x9251), 0xe5);
        // CB E5 0004
        gbc.setState(0x9b7b, 0xafb2, 0x2630, 0x5d50, 0xb8fa, 0x2d5f, 0x1, 0x1);
        gbc.writeMem(0x9b7b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xafb2);
        EXPECT(gbc.pc(), 0x9b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7b), 0xcb);
        EXPECT(gbc.readMem(0x9b7c), 0xe5);
        // CB E5 0005
        gbc.setState(0xc3b0, 0xc172, 0xc0a0, 0xd35e, 0xc1d1, 0xb243, 0x0, 0x1);
        gbc.writeMem(0xc3b0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xc172);
        EXPECT(gbc.pc(), 0xc3b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3b0), 0xcb);
        EXPECT(gbc.readMem(0xc3b1), 0xe5);
        // CB E5 0006
        gbc.setState(0x147f, 0xcf1d, 0xc310, 0x7475, 0xab3d, 0x1efb, 0x1, 0x1);
        gbc.writeMem(0x147f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcf1d);
        EXPECT(gbc.pc(), 0x1481);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0007
        gbc.setState(0xb426, 0x288e, 0x4f70, 0x5257, 0xe51c, 0x6d21, 0x1, 0x1);
        gbc.writeMem(0xb426, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x288e);
        EXPECT(gbc.pc(), 0xb428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb426), 0xcb);
        EXPECT(gbc.readMem(0xb427), 0xe5);
        // CB E5 0008
        gbc.setState(0x2ad7, 0xd86, 0x9ca0, 0xdd36, 0xd379, 0x1339, 0x1, 0x0);
        gbc.writeMem(0x2ad7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd86);
        EXPECT(gbc.pc(), 0x2ad9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0009
        gbc.setState(0x90ac, 0xe674, 0x7440, 0x1698, 0x454e, 0xd7c4, 0x0, 0x0);
        gbc.writeMem(0x90ac, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe674);
        EXPECT(gbc.pc(), 0x90ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ac), 0xcb);
        EXPECT(gbc.readMem(0x90ad), 0xe5);
        // CB E5 000A
        gbc.setState(0xcdba, 0xb383, 0x8260, 0xe8f1, 0x1dbe, 0x1355, 0x0, 0x0);
        gbc.writeMem(0xcdba, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb383);
        EXPECT(gbc.pc(), 0xcdbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdba), 0xcb);
        EXPECT(gbc.readMem(0xcdbb), 0xe5);
        // CB E5 000B
        gbc.setState(0x8ad, 0xd4d1, 0xc490, 0x499b, 0x33f2, 0xb464, 0x1, 0x0);
        gbc.writeMem(0x8ad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd4d1);
        EXPECT(gbc.pc(), 0x8af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 000C
        gbc.setState(0x81e9, 0xd68a, 0xe0b0, 0xcf6a, 0x50d5, 0xaf86, 0x1, 0x0);
        gbc.writeMem(0x81e9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd68a);
        EXPECT(gbc.pc(), 0x81eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81e9), 0xcb);
        EXPECT(gbc.readMem(0x81ea), 0xe5);
        // CB E5 000D
        gbc.setState(0x701d, 0xb909, 0x37f0, 0x72c4, 0x81f2, 0xf2, 0x1, 0x1);
        gbc.writeMem(0x701d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb909);
        EXPECT(gbc.pc(), 0x701f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 000E
        gbc.setState(0x7d02, 0xe439, 0x31e0, 0x39dc, 0xd9bd, 0xf2e9, 0x0, 0x0);
        gbc.writeMem(0x7d02, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe439);
        EXPECT(gbc.pc(), 0x7d04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 000F
        gbc.setState(0xeba6, 0xd004, 0xc100, 0xfe36, 0x2ab0, 0xa04c, 0x0, 0x1);
        gbc.writeMem(0xeba6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd004);
        EXPECT(gbc.pc(), 0xeba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba6), 0xcb);
        EXPECT(gbc.readMem(0xeba7), 0xe5);
        // CB E5 0010
        gbc.setState(0x53ad, 0xd4db, 0xfcf0, 0xf05d, 0xddcd, 0x14e5, 0x1, 0x0);
        gbc.writeMem(0x53ad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xd4db);
        EXPECT(gbc.pc(), 0x53af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0011
        gbc.setState(0x2a5c, 0x9359, 0xe2d0, 0xc2ae, 0xdabe, 0xc5af, 0x0, 0x1);
        gbc.writeMem(0x2a5c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x9359);
        EXPECT(gbc.pc(), 0x2a5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0012
        gbc.setState(0xa0cb, 0x5bdd, 0xfe80, 0x6e9, 0xebf0, 0x406c, 0x1, 0x0);
        gbc.writeMem(0xa0cb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5bdd);
        EXPECT(gbc.pc(), 0xa0cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0cb), 0xcb);
        EXPECT(gbc.readMem(0xa0cc), 0xe5);
        // CB E5 0013
        gbc.setState(0x1185, 0xfd0e, 0xaf30, 0x83d6, 0x7879, 0xdd32, 0x0, 0x1);
        gbc.writeMem(0x1185, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfd0e);
        EXPECT(gbc.pc(), 0x1187);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0014
        gbc.setState(0x5dfc, 0xb2f, 0x1660, 0x85e7, 0xf10e, 0xe036, 0x0, 0x1);
        gbc.writeMem(0x5dfc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb2f);
        EXPECT(gbc.pc(), 0x5dfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0015
        gbc.setState(0xd6f1, 0x452, 0xfc30, 0x22, 0xe66f, 0x3e4b, 0x1, 0x1);
        gbc.writeMem(0xd6f1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x452);
        EXPECT(gbc.pc(), 0xd6f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6f1), 0xcb);
        EXPECT(gbc.readMem(0xd6f2), 0xe5);
        // CB E5 0016
        gbc.setState(0x5cfd, 0x128e, 0x26e0, 0x155c, 0x8f9, 0xc81, 0x0, 0x1);
        gbc.writeMem(0x5cfd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x128e);
        EXPECT(gbc.pc(), 0x5cff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0017
        gbc.setState(0x7fa4, 0x4f9, 0x5840, 0x83c8, 0x8cb9, 0xd0e5, 0x0, 0x1);
        gbc.writeMem(0x7fa4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4f9);
        EXPECT(gbc.pc(), 0x7fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0018
        gbc.setState(0x67d7, 0x42fc, 0x5540, 0x6222, 0x548f, 0x3bd6, 0x0, 0x1);
        gbc.writeMem(0x67d7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x42fc);
        EXPECT(gbc.pc(), 0x67d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0019
        gbc.setState(0xd6d2, 0x3184, 0x60f0, 0x4231, 0xaf2b, 0x2f3c, 0x0, 0x1);
        gbc.writeMem(0xd6d2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3184);
        EXPECT(gbc.pc(), 0xd6d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6d2), 0xcb);
        EXPECT(gbc.readMem(0xd6d3), 0xe5);
        // CB E5 001A
        gbc.setState(0x863, 0xf213, 0x3690, 0xce61, 0x3ac, 0x5424, 0x1, 0x0);
        gbc.writeMem(0x863, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf213);
        EXPECT(gbc.pc(), 0x865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 001B
        gbc.setState(0x94e4, 0x8ad8, 0x25e0, 0xd341, 0xe739, 0x2551, 0x1, 0x0);
        gbc.writeMem(0x94e4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8ad8);
        EXPECT(gbc.pc(), 0x94e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94e4), 0xcb);
        EXPECT(gbc.readMem(0x94e5), 0xe5);
        // CB E5 001C
        gbc.setState(0xca29, 0xb229, 0x8e60, 0xb816, 0x17ae, 0xacd6, 0x1, 0x1);
        gbc.writeMem(0xca29, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb229);
        EXPECT(gbc.pc(), 0xca2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca29), 0xcb);
        EXPECT(gbc.readMem(0xca2a), 0xe5);
        // CB E5 001D
        gbc.setState(0x3f38, 0x90e8, 0xd710, 0x508d, 0x8d45, 0x917c, 0x1, 0x0);
        gbc.writeMem(0x3f38, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x90e8);
        EXPECT(gbc.pc(), 0x3f3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 001E
        gbc.setState(0x2d8b, 0x9a3a, 0xf1e0, 0x576f, 0x22a6, 0x6bf3, 0x1, 0x0);
        gbc.writeMem(0x2d8b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9a3a);
        EXPECT(gbc.pc(), 0x2d8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 001F
        gbc.setState(0x1a6f, 0xb11e, 0x9170, 0x984b, 0xd534, 0xddf7, 0x1, 0x1);
        gbc.writeMem(0x1a6f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xb11e);
        EXPECT(gbc.pc(), 0x1a71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0020
        gbc.setState(0x5c18, 0x197, 0x8320, 0x500c, 0xd912, 0x825d, 0x0, 0x1);
        gbc.writeMem(0x5c18, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x197);
        EXPECT(gbc.pc(), 0x5c1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0021
        gbc.setState(0xa201, 0xc473, 0x1bd0, 0x312d, 0x5d33, 0xebfa, 0x0, 0x1);
        gbc.writeMem(0xa201, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc473);
        EXPECT(gbc.pc(), 0xa203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa201), 0xcb);
        EXPECT(gbc.readMem(0xa202), 0xe5);
        // CB E5 0022
        gbc.setState(0x39a2, 0xef29, 0x7340, 0xb409, 0x78, 0x95f1, 0x1, 0x0);
        gbc.writeMem(0x39a2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xef29);
        EXPECT(gbc.pc(), 0x39a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0023
        gbc.setState(0xa6a6, 0xc19d, 0x2f40, 0x86e1, 0xfef1, 0x626a, 0x1, 0x0);
        gbc.writeMem(0xa6a6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xc19d);
        EXPECT(gbc.pc(), 0xa6a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6a6), 0xcb);
        EXPECT(gbc.readMem(0xa6a7), 0xe5);
        // CB E5 0024
        gbc.setState(0xbd47, 0x65f8, 0xe290, 0xf6c4, 0x4119, 0x5d73, 0x1, 0x0);
        gbc.writeMem(0xbd47, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x65f8);
        EXPECT(gbc.pc(), 0xbd49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd47), 0xcb);
        EXPECT(gbc.readMem(0xbd48), 0xe5);
        // CB E5 0025
        gbc.setState(0x846f, 0x97f3, 0xfdd0, 0xa62, 0x436, 0x1b04, 0x0, 0x1);
        gbc.writeMem(0x846f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x97f3);
        EXPECT(gbc.pc(), 0x8471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x846f), 0xcb);
        EXPECT(gbc.readMem(0x8470), 0xe5);
        // CB E5 0026
        gbc.setState(0x70ae, 0x7a4, 0x5860, 0x41c, 0x7ef8, 0xa07d, 0x1, 0x0);
        gbc.writeMem(0x70ae, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7a4);
        EXPECT(gbc.pc(), 0x70b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0027
        gbc.setState(0x33aa, 0x8d47, 0xf460, 0xafe6, 0xcc0e, 0xc2e4, 0x1, 0x1);
        gbc.writeMem(0x33aa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8d47);
        EXPECT(gbc.pc(), 0x33ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0028
        gbc.setState(0x4118, 0xb9d3, 0xd6c0, 0xa9d0, 0xc51c, 0xd3cd, 0x0, 0x0);
        gbc.writeMem(0x4118, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb9d3);
        EXPECT(gbc.pc(), 0x411a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 002A
        gbc.setState(0x8bd1, 0xcc27, 0xec40, 0xd036, 0xf5d4, 0xd5dd, 0x0, 0x1);
        gbc.writeMem(0x8bd1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcc27);
        EXPECT(gbc.pc(), 0x8bd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bd1), 0xcb);
        EXPECT(gbc.readMem(0x8bd2), 0xe5);
        // CB E5 002B
        gbc.setState(0xdb3e, 0x422e, 0xcde0, 0x9731, 0x44cc, 0x154, 0x1, 0x1);
        gbc.writeMem(0xdb3e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x422e);
        EXPECT(gbc.pc(), 0xdb40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb3e), 0xcb);
        EXPECT(gbc.readMem(0xdb3f), 0xe5);
        // CB E5 002D
        gbc.setState(0x7ba4, 0xca5, 0xfc90, 0x3ea0, 0xe0f4, 0xfbe9, 0x1, 0x1);
        gbc.writeMem(0x7ba4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xca5);
        EXPECT(gbc.pc(), 0x7ba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 002E
        gbc.setState(0xa600, 0xa484, 0x70e0, 0x976e, 0x8c73, 0xe2a9, 0x0, 0x1);
        gbc.writeMem(0xa600, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa484);
        EXPECT(gbc.pc(), 0xa602);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa600), 0xcb);
        EXPECT(gbc.readMem(0xa601), 0xe5);
        // CB E5 002F
        gbc.setState(0xc706, 0x7e9, 0x3f40, 0x37c, 0x3911, 0xe7f9, 0x0, 0x1);
        gbc.writeMem(0xc706, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7e9);
        EXPECT(gbc.pc(), 0xc708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc706), 0xcb);
        EXPECT(gbc.readMem(0xc707), 0xe5);
        // CB E5 0030
        gbc.setState(0x1d95, 0x3e49, 0x87b0, 0xf6ee, 0x8eeb, 0x89ae, 0x0, 0x0);
        gbc.writeMem(0x1d95, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3e49);
        EXPECT(gbc.pc(), 0x1d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0031
        gbc.setState(0x7494, 0xdbf4, 0xd080, 0xb3a4, 0x74a1, 0xa6fc, 0x0, 0x1);
        gbc.writeMem(0x7494, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xdbf4);
        EXPECT(gbc.pc(), 0x7496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0032
        gbc.setState(0xcc7e, 0xe194, 0xca70, 0x65c3, 0x3b27, 0xf4d3, 0x1, 0x1);
        gbc.writeMem(0xcc7e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xe194);
        EXPECT(gbc.pc(), 0xcc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc7e), 0xcb);
        EXPECT(gbc.readMem(0xcc7f), 0xe5);
        // CB E5 0033
        gbc.setState(0xa027, 0x9976, 0xe810, 0x9ab6, 0x66c3, 0x614f, 0x0, 0x0);
        gbc.writeMem(0xa027, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9976);
        EXPECT(gbc.pc(), 0xa029);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa027), 0xcb);
        EXPECT(gbc.readMem(0xa028), 0xe5);
        // CB E5 0034
        gbc.setState(0x47e1, 0x30c3, 0xb3c0, 0x52c6, 0x9779, 0x6711, 0x1, 0x1);
        gbc.writeMem(0x47e1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x30c3);
        EXPECT(gbc.pc(), 0x47e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0035
        gbc.setState(0xa4c9, 0x6d15, 0x3890, 0xc7b5, 0xa6be, 0x8889, 0x1, 0x0);
        gbc.writeMem(0xa4c9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6d15);
        EXPECT(gbc.pc(), 0xa4cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4c9), 0xcb);
        EXPECT(gbc.readMem(0xa4ca), 0xe5);
        // CB E5 0036
        gbc.setState(0x817c, 0x263c, 0xf5a0, 0x63e7, 0xa89e, 0x85e5, 0x0, 0x0);
        gbc.writeMem(0x817c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x263c);
        EXPECT(gbc.pc(), 0x817e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x817c), 0xcb);
        EXPECT(gbc.readMem(0x817d), 0xe5);
        // CB E5 0037
        gbc.setState(0x3362, 0x1db1, 0x4d00, 0x1b20, 0xf942, 0xeccc, 0x0, 0x0);
        gbc.writeMem(0x3362, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1db1);
        EXPECT(gbc.pc(), 0x3364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0038
        gbc.setState(0xbf1d, 0x289a, 0x2f00, 0xcd84, 0x8ed, 0xb490, 0x1, 0x1);
        gbc.writeMem(0xbf1d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x289a);
        EXPECT(gbc.pc(), 0xbf1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf1d), 0xcb);
        EXPECT(gbc.readMem(0xbf1e), 0xe5);
        // CB E5 0039
        gbc.setState(0x6eea, 0xcdfb, 0x6c40, 0xcf9a, 0xab30, 0x4002, 0x1, 0x1);
        gbc.writeMem(0x6eea, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcdfb);
        EXPECT(gbc.pc(), 0x6eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 003A
        gbc.setState(0xbb6a, 0x969c, 0x4c40, 0x2210, 0x783a, 0x157e, 0x0, 0x0);
        gbc.writeMem(0xbb6a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x969c);
        EXPECT(gbc.pc(), 0xbb6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb6a), 0xcb);
        EXPECT(gbc.readMem(0xbb6b), 0xe5);
        // CB E5 003B
        gbc.setState(0xe6e4, 0x805e, 0x1540, 0xdbf7, 0x726c, 0x6473, 0x0, 0x1);
        gbc.writeMem(0xe6e4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x805e);
        EXPECT(gbc.pc(), 0xe6e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6e4), 0xcb);
        EXPECT(gbc.readMem(0xe6e5), 0xe5);
        // CB E5 003C
        gbc.setState(0x4249, 0xaf28, 0xb60, 0x682f, 0xc38e, 0xed29, 0x1, 0x1);
        gbc.writeMem(0x4249, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xaf28);
        EXPECT(gbc.pc(), 0x424b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 003D
        gbc.setState(0x8c1f, 0xa9c6, 0xa5c0, 0xe470, 0x7989, 0x4d97, 0x1, 0x0);
        gbc.writeMem(0x8c1f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa9c6);
        EXPECT(gbc.pc(), 0x8c21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c1f), 0xcb);
        EXPECT(gbc.readMem(0x8c20), 0xe5);
        // CB E5 003E
        gbc.setState(0x48fb, 0x1c82, 0x260, 0x148d, 0x2062, 0xafe, 0x0, 0x1);
        gbc.writeMem(0x48fb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1c82);
        EXPECT(gbc.pc(), 0x48fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 003F
        gbc.setState(0x68ff, 0x68ca, 0x8180, 0x1fd2, 0xe511, 0xa8cd, 0x1, 0x0);
        gbc.writeMem(0x68ff, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x68ca);
        EXPECT(gbc.pc(), 0x6901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0041
        gbc.setState(0xc257, 0x6863, 0xaab0, 0xb79a, 0xff87, 0xc614, 0x0, 0x1);
        gbc.writeMem(0xc257, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6863);
        EXPECT(gbc.pc(), 0xc259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc257), 0xcb);
        EXPECT(gbc.readMem(0xc258), 0xe5);
        // CB E5 0042
        gbc.setState(0xe056, 0x16aa, 0xb9d0, 0x4d3a, 0x92cd, 0x26c4, 0x1, 0x0);
        gbc.writeMem(0xe056, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x16aa);
        EXPECT(gbc.pc(), 0xe058);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe056), 0xcb);
        EXPECT(gbc.readMem(0xe057), 0xe5);
        // CB E5 0043
        gbc.setState(0x9222, 0x256, 0xbeb0, 0xcee5, 0x791d, 0x3c55, 0x0, 0x0);
        gbc.writeMem(0x9222, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x256);
        EXPECT(gbc.pc(), 0x9224);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9222), 0xcb);
        EXPECT(gbc.readMem(0x9223), 0xe5);
        // CB E5 0044
        gbc.setState(0x14f5, 0x8104, 0x6df0, 0x205e, 0x9e4e, 0x2123, 0x1, 0x1);
        gbc.writeMem(0x14f5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8104);
        EXPECT(gbc.pc(), 0x14f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0045
        gbc.setState(0x67bb, 0xef83, 0x90d0, 0x9e41, 0xc611, 0xebd9, 0x1, 0x0);
        gbc.writeMem(0x67bb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xef83);
        EXPECT(gbc.pc(), 0x67bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0046
        gbc.setState(0xc441, 0x7401, 0xea10, 0x9edc, 0xde33, 0xb142, 0x0, 0x0);
        gbc.writeMem(0xc441, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7401);
        EXPECT(gbc.pc(), 0xc443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc441), 0xcb);
        EXPECT(gbc.readMem(0xc442), 0xe5);
        // CB E5 0047
        gbc.setState(0x4deb, 0x459d, 0x3d30, 0x3ea1, 0xd884, 0xf128, 0x1, 0x1);
        gbc.writeMem(0x4deb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x459d);
        EXPECT(gbc.pc(), 0x4ded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0048
        gbc.setState(0x4562, 0xa7bf, 0xc150, 0xe17b, 0xce36, 0x1b6, 0x1, 0x0);
        gbc.writeMem(0x4562, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa7bf);
        EXPECT(gbc.pc(), 0x4564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0049
        gbc.setState(0x4d85, 0xfec6, 0x2290, 0x5eca, 0x6897, 0x1bb7, 0x0, 0x1);
        gbc.writeMem(0x4d85, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xfec6);
        EXPECT(gbc.pc(), 0x4d87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 004A
        gbc.setState(0x3e95, 0x54a7, 0x8080, 0x9d2f, 0x93f4, 0x2b5e, 0x0, 0x0);
        gbc.writeMem(0x3e95, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x54a7);
        EXPECT(gbc.pc(), 0x3e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 004B
        gbc.setState(0xfea, 0x5712, 0x3f80, 0x5b3e, 0x598d, 0x32cc, 0x1, 0x0);
        gbc.writeMem(0xfea, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5712);
        EXPECT(gbc.pc(), 0xfec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 004C
        gbc.setState(0xd87c, 0xf049, 0x9c10, 0xd3a4, 0x458f, 0xaef2, 0x1, 0x1);
        gbc.writeMem(0xd87c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xf049);
        EXPECT(gbc.pc(), 0xd87e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd87c), 0xcb);
        EXPECT(gbc.readMem(0xd87d), 0xe5);
        // CB E5 004D
        gbc.setState(0xce54, 0xabed, 0xad60, 0xce2, 0xc0b5, 0x765f, 0x1, 0x1);
        gbc.writeMem(0xce54, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xabed);
        EXPECT(gbc.pc(), 0xce56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce54), 0xcb);
        EXPECT(gbc.readMem(0xce55), 0xe5);
        // CB E5 004E
        gbc.setState(0xd8bd, 0x59ed, 0xb460, 0xf9a8, 0x639f, 0xbc69, 0x1, 0x0);
        gbc.writeMem(0xd8bd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x59ed);
        EXPECT(gbc.pc(), 0xd8bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8bd), 0xcb);
        EXPECT(gbc.readMem(0xd8be), 0xe5);
        // CB E5 004F
        gbc.setState(0x2070, 0x499, 0x7ae0, 0xe163, 0xcb71, 0x972c, 0x1, 0x0);
        gbc.writeMem(0x2070, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x499);
        EXPECT(gbc.pc(), 0x2072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0050
        gbc.setState(0xdc3f, 0xca10, 0x2070, 0x3a70, 0x3b0e, 0x935e, 0x0, 0x1);
        gbc.writeMem(0xdc3f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xca10);
        EXPECT(gbc.pc(), 0xdc41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc3f), 0xcb);
        EXPECT(gbc.readMem(0xdc40), 0xe5);
        // CB E5 0051
        gbc.setState(0x2f40, 0x9969, 0xb9c0, 0xfda, 0xf186, 0xe0a, 0x1, 0x0);
        gbc.writeMem(0x2f40, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9969);
        EXPECT(gbc.pc(), 0x2f42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0052
        gbc.setState(0x353e, 0xf72, 0xdfc0, 0x93fd, 0xddc7, 0x3c0f, 0x1, 0x0);
        gbc.writeMem(0x353e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf72);
        EXPECT(gbc.pc(), 0x3540);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0053
        gbc.setState(0xa931, 0x527d, 0x73f0, 0xb29f, 0x34a5, 0x537e, 0x1, 0x1);
        gbc.writeMem(0xa931, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x527d);
        EXPECT(gbc.pc(), 0xa933);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa931), 0xcb);
        EXPECT(gbc.readMem(0xa932), 0xe5);
        // CB E5 0054
        gbc.setState(0xd451, 0x86f0, 0xe130, 0x1d65, 0x4eac, 0xe16f, 0x1, 0x1);
        gbc.writeMem(0xd451, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x86f0);
        EXPECT(gbc.pc(), 0xd453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd451), 0xcb);
        EXPECT(gbc.readMem(0xd452), 0xe5);
        // CB E5 0055
        gbc.setState(0x1448, 0x1451, 0x6650, 0xf295, 0x381, 0x8ce0, 0x0, 0x0);
        gbc.writeMem(0x1448, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x1451);
        EXPECT(gbc.pc(), 0x144a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0057
        gbc.setState(0x2145, 0x29a9, 0x430, 0xc5f, 0xe1c5, 0x6ea0, 0x1, 0x0);
        gbc.writeMem(0x2145, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x29a9);
        EXPECT(gbc.pc(), 0x2147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0058
        gbc.setState(0xb39f, 0x54fa, 0x7570, 0xeca7, 0x33e2, 0xe9ad, 0x1, 0x0);
        gbc.writeMem(0xb39f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x54fa);
        EXPECT(gbc.pc(), 0xb3a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb39f), 0xcb);
        EXPECT(gbc.readMem(0xb3a0), 0xe5);
        // CB E5 0059
        gbc.setState(0xbba8, 0xf26f, 0x1ac0, 0x9a43, 0x9fe7, 0x711e, 0x1, 0x1);
        gbc.writeMem(0xbba8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf26f);
        EXPECT(gbc.pc(), 0xbbaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbba8), 0xcb);
        EXPECT(gbc.readMem(0xbba9), 0xe5);
        // CB E5 005A
        gbc.setState(0xbbbf, 0xa558, 0x6630, 0x5d19, 0xcf21, 0x7d22, 0x1, 0x0);
        gbc.writeMem(0xbbbf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xa558);
        EXPECT(gbc.pc(), 0xbbc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbbf), 0xcb);
        EXPECT(gbc.readMem(0xbbc0), 0xe5);
        // CB E5 005B
        gbc.setState(0x34df, 0x5f82, 0x50, 0xbba7, 0xccae, 0x2ca3, 0x0, 0x1);
        gbc.writeMem(0x34df, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5f82);
        EXPECT(gbc.pc(), 0x34e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 005C
        gbc.setState(0xb934, 0x79b6, 0xd60, 0x325a, 0xe072, 0xfce7, 0x1, 0x1);
        gbc.writeMem(0xb934, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x79b6);
        EXPECT(gbc.pc(), 0xb936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb934), 0xcb);
        EXPECT(gbc.readMem(0xb935), 0xe5);
        // CB E5 005D
        gbc.setState(0x707f, 0xb76a, 0xacd0, 0xbd28, 0x2add, 0x3718, 0x0, 0x0);
        gbc.writeMem(0x707f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb76a);
        EXPECT(gbc.pc(), 0x7081);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 005E
        gbc.setState(0xc562, 0xa4b1, 0x1f60, 0xad55, 0xd1ca, 0x5959, 0x0, 0x1);
        gbc.writeMem(0xc562, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa4b1);
        EXPECT(gbc.pc(), 0xc564);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc562), 0xcb);
        EXPECT(gbc.readMem(0xc563), 0xe5);
        // CB E5 005F
        gbc.setState(0x5644, 0x6b11, 0x6e80, 0xe6c1, 0xdeb7, 0x6240, 0x0, 0x0);
        gbc.writeMem(0x5644, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x6b11);
        EXPECT(gbc.pc(), 0x5646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0061
        gbc.setState(0x72f, 0x2e9a, 0xd900, 0x8085, 0x8a48, 0xf042, 0x1, 0x1);
        gbc.writeMem(0x72f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2e9a);
        EXPECT(gbc.pc(), 0x731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0062
        gbc.setState(0xb95e, 0xac90, 0xd310, 0x3142, 0x455e, 0xffbe, 0x0, 0x0);
        gbc.writeMem(0xb95e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xac90);
        EXPECT(gbc.pc(), 0xb960);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb95e), 0xcb);
        EXPECT(gbc.readMem(0xb95f), 0xe5);
        // CB E5 0063
        gbc.setState(0x6f20, 0x8c4b, 0xaa70, 0x6df, 0xc7e0, 0x3ff8, 0x0, 0x1);
        gbc.writeMem(0x6f20, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8c4b);
        EXPECT(gbc.pc(), 0x6f22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0064
        gbc.setState(0xa8ee, 0xcfe8, 0xe320, 0x939a, 0x6ca1, 0x7daa, 0x0, 0x0);
        gbc.writeMem(0xa8ee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcfe8);
        EXPECT(gbc.pc(), 0xa8f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ee), 0xcb);
        EXPECT(gbc.readMem(0xa8ef), 0xe5);
        // CB E5 0066
        gbc.setState(0x39b5, 0x9e3c, 0xbe90, 0xc660, 0xb433, 0x56bc, 0x0, 0x1);
        gbc.writeMem(0x39b5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x9e3c);
        EXPECT(gbc.pc(), 0x39b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0067
        gbc.setState(0xdb16, 0x9fcd, 0xd5e0, 0xf4be, 0x499c, 0x5e61, 0x0, 0x1);
        gbc.writeMem(0xdb16, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x9fcd);
        EXPECT(gbc.pc(), 0xdb18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb16), 0xcb);
        EXPECT(gbc.readMem(0xdb17), 0xe5);
        // CB E5 0068
        gbc.setState(0x93, 0x24cd, 0xac10, 0x6cd0, 0xf406, 0xa981, 0x0, 0x1);
        gbc.writeMem(0x93, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x24cd);
        EXPECT(gbc.pc(), 0x95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0069
        gbc.setState(0x7aae, 0x961d, 0x7210, 0x8137, 0x6ce0, 0xe2b5, 0x1, 0x1);
        gbc.writeMem(0x7aae, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x961d);
        EXPECT(gbc.pc(), 0x7ab0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 006A
        gbc.setState(0xec09, 0xc863, 0xb2a0, 0xe077, 0xe227, 0x7d2d, 0x0, 0x0);
        gbc.writeMem(0xec09, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc863);
        EXPECT(gbc.pc(), 0xec0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec09), 0xcb);
        EXPECT(gbc.readMem(0xec0a), 0xe5);
        // CB E5 006B
        gbc.setState(0x5d05, 0x7da8, 0x10d0, 0x682b, 0xc0d1, 0x6d27, 0x1, 0x0);
        gbc.writeMem(0x5d05, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7da8);
        EXPECT(gbc.pc(), 0x5d07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 006C
        gbc.setState(0x87e2, 0x5b9a, 0x9b10, 0x6935, 0x1567, 0x6f43, 0x1, 0x0);
        gbc.writeMem(0x87e2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5b9a);
        EXPECT(gbc.pc(), 0x87e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e2), 0xcb);
        EXPECT(gbc.readMem(0x87e3), 0xe5);
        // CB E5 006E
        gbc.setState(0x2fee, 0x41ab, 0x6130, 0xe1f3, 0x3744, 0x2d59, 0x0, 0x1);
        gbc.writeMem(0x2fee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x41ab);
        EXPECT(gbc.pc(), 0x2ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 006F
        gbc.setState(0x6052, 0xe8ca, 0xedb0, 0xf89e, 0xb436, 0x8c2, 0x1, 0x0);
        gbc.writeMem(0x6052, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe8ca);
        EXPECT(gbc.pc(), 0x6054);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0070
        gbc.setState(0x113f, 0xfa9b, 0x1870, 0x42b6, 0x8906, 0xbac6, 0x1, 0x1);
        gbc.writeMem(0x113f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfa9b);
        EXPECT(gbc.pc(), 0x1141);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0071
        gbc.setState(0x9791, 0x7d5c, 0x3c20, 0xebd9, 0x5f9e, 0x298b, 0x1, 0x0);
        gbc.writeMem(0x9791, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7d5c);
        EXPECT(gbc.pc(), 0x9793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9791), 0xcb);
        EXPECT(gbc.readMem(0x9792), 0xe5);
        // CB E5 0072
        gbc.setState(0xdf15, 0xa8cb, 0xc420, 0x69df, 0x3a62, 0x98a0, 0x1, 0x1);
        gbc.writeMem(0xdf15, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0xdf17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf15), 0xcb);
        EXPECT(gbc.readMem(0xdf16), 0xe5);
        // CB E5 0073
        gbc.setState(0xa5aa, 0xa821, 0x72b0, 0x2544, 0x8657, 0xb855, 0x1, 0x0);
        gbc.writeMem(0xa5aa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa821);
        EXPECT(gbc.pc(), 0xa5ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5aa), 0xcb);
        EXPECT(gbc.readMem(0xa5ab), 0xe5);
        // CB E5 0074
        gbc.setState(0x43d5, 0xeb53, 0x2aa0, 0x133e, 0xca2d, 0x56df, 0x0, 0x1);
        gbc.writeMem(0x43d5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xeb53);
        EXPECT(gbc.pc(), 0x43d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0075
        gbc.setState(0x3ee4, 0x84a2, 0xa270, 0x753c, 0x2d3, 0xd144, 0x1, 0x0);
        gbc.writeMem(0x3ee4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x84a2);
        EXPECT(gbc.pc(), 0x3ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0076
        gbc.setState(0x7287, 0x88f6, 0x8d0, 0x244d, 0x3363, 0x9fd6, 0x0, 0x0);
        gbc.writeMem(0x7287, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x88f6);
        EXPECT(gbc.pc(), 0x7289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0077
        gbc.setState(0xb00a, 0x7d94, 0x4a0, 0xa21, 0x4683, 0xa427, 0x0, 0x1);
        gbc.writeMem(0xb00a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7d94);
        EXPECT(gbc.pc(), 0xb00c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb00a), 0xcb);
        EXPECT(gbc.readMem(0xb00b), 0xe5);
        // CB E5 0078
        gbc.setState(0xb569, 0xf2f5, 0x7460, 0x4492, 0xb165, 0xb3ac, 0x1, 0x1);
        gbc.writeMem(0xb569, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf2f5);
        EXPECT(gbc.pc(), 0xb56b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb569), 0xcb);
        EXPECT(gbc.readMem(0xb56a), 0xe5);
        // CB E5 0079
        gbc.setState(0xaba8, 0x7807, 0x82a0, 0x961f, 0x3e96, 0x9764, 0x1, 0x0);
        gbc.writeMem(0xaba8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7807);
        EXPECT(gbc.pc(), 0xabaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba8), 0xcb);
        EXPECT(gbc.readMem(0xaba9), 0xe5);
        // CB E5 007A
        gbc.setState(0x98df, 0x44d2, 0x88f0, 0xc241, 0x6134, 0x6798, 0x0, 0x1);
        gbc.writeMem(0x98df, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x44d2);
        EXPECT(gbc.pc(), 0x98e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98df), 0xcb);
        EXPECT(gbc.readMem(0x98e0), 0xe5);
        // CB E5 007B
        gbc.setState(0x8080, 0x34bb, 0xdf90, 0x7d15, 0xdd18, 0x7783, 0x1, 0x1);
        gbc.writeMem(0x8080, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x34bb);
        EXPECT(gbc.pc(), 0x8082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8080), 0xcb);
        EXPECT(gbc.readMem(0x8081), 0xe5);
        // CB E5 007C
        gbc.setState(0x3a1f, 0x810a, 0x2740, 0x3f23, 0xb771, 0x16e2, 0x1, 0x0);
        gbc.writeMem(0x3a1f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x810a);
        EXPECT(gbc.pc(), 0x3a21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 007D
        gbc.setState(0xd78f, 0xf7, 0x93f0, 0x2273, 0x217, 0x8b0, 0x0, 0x1);
        gbc.writeMem(0xd78f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf7);
        EXPECT(gbc.pc(), 0xd791);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd78f), 0xcb);
        EXPECT(gbc.readMem(0xd790), 0xe5);
        // CB E5 007E
        gbc.setState(0x2ed4, 0x80d6, 0xdd40, 0x17df, 0xb603, 0x5bc4, 0x1, 0x1);
        gbc.writeMem(0x2ed4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x80d6);
        EXPECT(gbc.pc(), 0x2ed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 007F
        gbc.setState(0x3019, 0xc210, 0xd280, 0x1f99, 0xaf7, 0xbd0f, 0x1, 0x1);
        gbc.writeMem(0x3019, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc210);
        EXPECT(gbc.pc(), 0x301b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0080
        gbc.setState(0x68, 0x8003, 0xf710, 0x9dc2, 0x2a07, 0xc8a0, 0x0, 0x1);
        gbc.writeMem(0x68, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8003);
        EXPECT(gbc.pc(), 0x6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0081
        gbc.setState(0x3ac8, 0x87dc, 0xd3c0, 0xb641, 0xd3b7, 0x476c, 0x0, 0x1);
        gbc.writeMem(0x3ac8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x87dc);
        EXPECT(gbc.pc(), 0x3aca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0082
        gbc.setState(0x8594, 0xc666, 0xb0d0, 0x76d2, 0x2ffb, 0xce0a, 0x0, 0x1);
        gbc.writeMem(0x8594, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xc666);
        EXPECT(gbc.pc(), 0x8596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8594), 0xcb);
        EXPECT(gbc.readMem(0x8595), 0xe5);
        // CB E5 0083
        gbc.setState(0x5558, 0xb55f, 0x8c40, 0x2383, 0xd542, 0xa039, 0x1, 0x0);
        gbc.writeMem(0x5558, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb55f);
        EXPECT(gbc.pc(), 0x555a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0084
        gbc.setState(0x4bb0, 0x444b, 0xb440, 0xa981, 0xbc66, 0x9e21, 0x0, 0x0);
        gbc.writeMem(0x4bb0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x444b);
        EXPECT(gbc.pc(), 0x4bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0085
        gbc.setState(0xccbc, 0xacb9, 0x6090, 0x597a, 0x64a3, 0x520f, 0x1, 0x1);
        gbc.writeMem(0xccbc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xacb9);
        EXPECT(gbc.pc(), 0xccbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccbc), 0xcb);
        EXPECT(gbc.readMem(0xccbd), 0xe5);
        // CB E5 0086
        gbc.setState(0x1033, 0xa4b9, 0xc0b0, 0xd834, 0x95c5, 0x1ead, 0x1, 0x0);
        gbc.writeMem(0x1033, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa4b9);
        EXPECT(gbc.pc(), 0x1035);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0087
        gbc.setState(0xc423, 0x2fb3, 0xa650, 0xff30, 0x7edc, 0x50f9, 0x0, 0x1);
        gbc.writeMem(0xc423, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2fb3);
        EXPECT(gbc.pc(), 0xc425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc423), 0xcb);
        EXPECT(gbc.readMem(0xc424), 0xe5);
        // CB E5 0088
        gbc.setState(0x8b06, 0x90a4, 0x2820, 0x9a5, 0xea5f, 0x2e41, 0x0, 0x0);
        gbc.writeMem(0x8b06, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x90a4);
        EXPECT(gbc.pc(), 0x8b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b06), 0xcb);
        EXPECT(gbc.readMem(0x8b07), 0xe5);
        // CB E5 0089
        gbc.setState(0xed04, 0x9fe6, 0xf590, 0xc505, 0xb599, 0xa241, 0x0, 0x0);
        gbc.writeMem(0xed04, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x9fe6);
        EXPECT(gbc.pc(), 0xed06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed04), 0xcb);
        EXPECT(gbc.readMem(0xed05), 0xe5);
        // CB E5 008A
        gbc.setState(0x416d, 0xeedc, 0xd9f0, 0x79b9, 0x4413, 0x33a7, 0x1, 0x0);
        gbc.writeMem(0x416d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xeedc);
        EXPECT(gbc.pc(), 0x416f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 008B
        gbc.setState(0x926c, 0x4032, 0x1610, 0xd3e0, 0xfaec, 0x2768, 0x0, 0x0);
        gbc.writeMem(0x926c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x4032);
        EXPECT(gbc.pc(), 0x926e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x926c), 0xcb);
        EXPECT(gbc.readMem(0x926d), 0xe5);
        // CB E5 008C
        gbc.setState(0xc3eb, 0x5772, 0x7d70, 0x3a3c, 0x4d9f, 0xf1df, 0x1, 0x0);
        gbc.writeMem(0xc3eb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5772);
        EXPECT(gbc.pc(), 0xc3ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3eb), 0xcb);
        EXPECT(gbc.readMem(0xc3ec), 0xe5);
        // CB E5 008D
        gbc.setState(0x26b4, 0x8381, 0xc930, 0xeef0, 0x8985, 0x7d26, 0x0, 0x1);
        gbc.writeMem(0x26b4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x8381);
        EXPECT(gbc.pc(), 0x26b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 008E
        gbc.setState(0xcd58, 0x8d92, 0x2f60, 0x62fb, 0x7af8, 0x3fcf, 0x1, 0x1);
        gbc.writeMem(0xcd58, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8d92);
        EXPECT(gbc.pc(), 0xcd5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd58), 0xcb);
        EXPECT(gbc.readMem(0xcd59), 0xe5);
        // CB E5 008F
        gbc.setState(0x3bdc, 0x5c11, 0x540, 0x39ad, 0xddae, 0x5e9a, 0x1, 0x1);
        gbc.writeMem(0x3bdc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5c11);
        EXPECT(gbc.pc(), 0x3bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0091
        gbc.setState(0xe1e8, 0xba70, 0xa6b0, 0x91ca, 0x8054, 0x15f4, 0x0, 0x1);
        gbc.writeMem(0xe1e8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xba70);
        EXPECT(gbc.pc(), 0xe1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1e8), 0xcb);
        EXPECT(gbc.readMem(0xe1e9), 0xe5);
        // CB E5 0092
        gbc.setState(0x8184, 0x457b, 0x19e0, 0x1ab5, 0xdeb2, 0x4701, 0x0, 0x1);
        gbc.writeMem(0x8184, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x457b);
        EXPECT(gbc.pc(), 0x8186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8184), 0xcb);
        EXPECT(gbc.readMem(0x8185), 0xe5);
        // CB E5 0093
        gbc.setState(0xd58d, 0x8479, 0x6220, 0xd6d4, 0x1302, 0xd14d, 0x1, 0x0);
        gbc.writeMem(0xd58d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8479);
        EXPECT(gbc.pc(), 0xd58f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd58d), 0xcb);
        EXPECT(gbc.readMem(0xd58e), 0xe5);
        // CB E5 0094
        gbc.setState(0xc789, 0x8a3f, 0xec50, 0x8ebd, 0xba10, 0xd354, 0x1, 0x1);
        gbc.writeMem(0xc789, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8a3f);
        EXPECT(gbc.pc(), 0xc78b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc789), 0xcb);
        EXPECT(gbc.readMem(0xc78a), 0xe5);
        // CB E5 0095
        gbc.setState(0x9f6c, 0x6d14, 0xf840, 0xb5ef, 0x6cbd, 0x4641, 0x0, 0x1);
        gbc.writeMem(0x9f6c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6d14);
        EXPECT(gbc.pc(), 0x9f6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f6c), 0xcb);
        EXPECT(gbc.readMem(0x9f6d), 0xe5);
        // CB E5 0096
        gbc.setState(0xec93, 0x8e5c, 0x5020, 0xd989, 0x43d3, 0x4d9e, 0x0, 0x0);
        gbc.writeMem(0xec93, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8e5c);
        EXPECT(gbc.pc(), 0xec95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec93), 0xcb);
        EXPECT(gbc.readMem(0xec94), 0xe5);
        // CB E5 0097
        gbc.setState(0x636, 0xffb5, 0x2490, 0xa544, 0xdf2c, 0xf36b, 0x1, 0x1);
        gbc.writeMem(0x636, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xffb5);
        EXPECT(gbc.pc(), 0x638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0098
        gbc.setState(0xc53a, 0x3df, 0xc070, 0x58fd, 0x1b1e, 0x78dc, 0x0, 0x1);
        gbc.writeMem(0xc53a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3df);
        EXPECT(gbc.pc(), 0xc53c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc53a), 0xcb);
        EXPECT(gbc.readMem(0xc53b), 0xe5);
        // CB E5 0099
        gbc.setState(0x2f04, 0xb0eb, 0x2960, 0x990f, 0xb3a7, 0x9f74, 0x1, 0x0);
        gbc.writeMem(0x2f04, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb0eb);
        EXPECT(gbc.pc(), 0x2f06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 009A
        gbc.setState(0xdd65, 0x806e, 0xa570, 0xc2, 0x9c29, 0x4ce3, 0x0, 0x1);
        gbc.writeMem(0xdd65, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x806e);
        EXPECT(gbc.pc(), 0xdd67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd65), 0xcb);
        EXPECT(gbc.readMem(0xdd66), 0xe5);
        // CB E5 009B
        gbc.setState(0xeb1f, 0x3eee, 0x2270, 0xb020, 0xde7e, 0xfe93, 0x0, 0x0);
        gbc.writeMem(0xeb1f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3eee);
        EXPECT(gbc.pc(), 0xeb21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb1f), 0xcb);
        EXPECT(gbc.readMem(0xeb20), 0xe5);
        // CB E5 009C
        gbc.setState(0x923d, 0xf333, 0x9ee0, 0x814f, 0x41f4, 0x5617, 0x0, 0x1);
        gbc.writeMem(0x923d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf333);
        EXPECT(gbc.pc(), 0x923f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x923d), 0xcb);
        EXPECT(gbc.readMem(0x923e), 0xe5);
        // CB E5 009D
        gbc.setState(0x8e8a, 0xa5d1, 0x2a80, 0x26af, 0xd5cc, 0x5f81, 0x1, 0x0);
        gbc.writeMem(0x8e8a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa5d1);
        EXPECT(gbc.pc(), 0x8e8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e8a), 0xcb);
        EXPECT(gbc.readMem(0x8e8b), 0xe5);
        // CB E5 009E
        gbc.setState(0xc386, 0x56c9, 0x6660, 0x9b7d, 0x4d9f, 0xc4e3, 0x0, 0x0);
        gbc.writeMem(0xc386, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x56c9);
        EXPECT(gbc.pc(), 0xc388);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc386), 0xcb);
        EXPECT(gbc.readMem(0xc387), 0xe5);
        // CB E5 009F
        gbc.setState(0x2aa1, 0xaba4, 0x7b80, 0x3a9c, 0xc788, 0x5b8c, 0x1, 0x1);
        gbc.writeMem(0x2aa1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xaba4);
        EXPECT(gbc.pc(), 0x2aa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00A0
        gbc.setState(0x8105, 0x6cfe, 0x3b90, 0xb646, 0xb243, 0xadce, 0x1, 0x0);
        gbc.writeMem(0x8105, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6cfe);
        EXPECT(gbc.pc(), 0x8107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8105), 0xcb);
        EXPECT(gbc.readMem(0x8106), 0xe5);
        // CB E5 00A1
        gbc.setState(0xb080, 0xb64a, 0x5810, 0x82eb, 0x701, 0xb1f4, 0x0, 0x0);
        gbc.writeMem(0xb080, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb64a);
        EXPECT(gbc.pc(), 0xb082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb080), 0xcb);
        EXPECT(gbc.readMem(0xb081), 0xe5);
        // CB E5 00A2
        gbc.setState(0x271d, 0x5521, 0x95e0, 0xd4e3, 0x51da, 0x58a3, 0x0, 0x0);
        gbc.writeMem(0x271d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5521);
        EXPECT(gbc.pc(), 0x271f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00A3
        gbc.setState(0x2898, 0xc3a0, 0x60b0, 0x71a9, 0xc4d5, 0x3a, 0x0, 0x0);
        gbc.writeMem(0x2898, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc3a0);
        EXPECT(gbc.pc(), 0x289a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00A4
        gbc.setState(0x4a3d, 0x8a0f, 0x18c0, 0x33c0, 0x13a7, 0x151a, 0x1, 0x1);
        gbc.writeMem(0x4a3d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x8a0f);
        EXPECT(gbc.pc(), 0x4a3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00A5
        gbc.setState(0x3a32, 0x61d2, 0x3410, 0xf354, 0xbb65, 0x7db4, 0x1, 0x1);
        gbc.writeMem(0x3a32, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x61d2);
        EXPECT(gbc.pc(), 0x3a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00A6
        gbc.setState(0xc668, 0x56e6, 0x9e20, 0x3862, 0xa945, 0x5919, 0x1, 0x1);
        gbc.writeMem(0xc668, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x56e6);
        EXPECT(gbc.pc(), 0xc66a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc668), 0xcb);
        EXPECT(gbc.readMem(0xc669), 0xe5);
        // CB E5 00A7
        gbc.setState(0xadf9, 0xf7ee, 0xe90, 0x271, 0xedae, 0xabf7, 0x1, 0x1);
        gbc.writeMem(0xadf9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf7ee);
        EXPECT(gbc.pc(), 0xadfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadf9), 0xcb);
        EXPECT(gbc.readMem(0xadfa), 0xe5);
        // CB E5 00A8
        gbc.setState(0x44e5, 0x571c, 0xb6a0, 0xa077, 0xc080, 0x954c, 0x0, 0x0);
        gbc.writeMem(0x44e5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x571c);
        EXPECT(gbc.pc(), 0x44e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00A9
        gbc.setState(0x1de4, 0xfde5, 0xd370, 0xc00, 0x229, 0xd95f, 0x0, 0x0);
        gbc.writeMem(0x1de4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfde5);
        EXPECT(gbc.pc(), 0x1de6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00AA
        gbc.setState(0xa17f, 0x2dab, 0x5130, 0xb4c1, 0xeb00, 0x2749, 0x1, 0x0);
        gbc.writeMem(0xa17f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2dab);
        EXPECT(gbc.pc(), 0xa181);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa17f), 0xcb);
        EXPECT(gbc.readMem(0xa180), 0xe5);
        // CB E5 00AB
        gbc.setState(0x460e, 0xa29a, 0x9cf0, 0xbe27, 0x57cc, 0xecf2, 0x1, 0x0);
        gbc.writeMem(0x460e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa29a);
        EXPECT(gbc.pc(), 0x4610);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00AD
        gbc.setState(0x875, 0xa9a1, 0xdd60, 0x75ad, 0x67e9, 0x98bc, 0x0, 0x1);
        gbc.writeMem(0x875, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa9a1);
        EXPECT(gbc.pc(), 0x877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00AE
        gbc.setState(0xa946, 0x9843, 0xc320, 0x26e3, 0x10f9, 0xfc3, 0x1, 0x1);
        gbc.writeMem(0xa946, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9843);
        EXPECT(gbc.pc(), 0xa948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa946), 0xcb);
        EXPECT(gbc.readMem(0xa947), 0xe5);
        // CB E5 00AF
        gbc.setState(0x3763, 0xf7b9, 0xfd70, 0x3fc1, 0x8f27, 0x6513, 0x0, 0x0);
        gbc.writeMem(0x3763, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xf7b9);
        EXPECT(gbc.pc(), 0x3765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00B0
        gbc.setState(0x546d, 0xde19, 0x5830, 0x4f71, 0x77dd, 0x96a2, 0x0, 0x0);
        gbc.writeMem(0x546d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xde19);
        EXPECT(gbc.pc(), 0x546f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00B1
        gbc.setState(0x5298, 0xf46b, 0x6e20, 0x7d5b, 0xecd7, 0x2cf3, 0x1, 0x0);
        gbc.writeMem(0x5298, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf46b);
        EXPECT(gbc.pc(), 0x529a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00B2
        gbc.setState(0x1fa7, 0x1544, 0x1340, 0x1f1b, 0x7f2a, 0xef6d, 0x1, 0x0);
        gbc.writeMem(0x1fa7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1544);
        EXPECT(gbc.pc(), 0x1fa9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00B3
        gbc.setState(0xe68c, 0x5087, 0x91c0, 0xccd8, 0xaee4, 0xfbee, 0x1, 0x0);
        gbc.writeMem(0xe68c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5087);
        EXPECT(gbc.pc(), 0xe68e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe68c), 0xcb);
        EXPECT(gbc.readMem(0xe68d), 0xe5);
        // CB E5 00B4
        gbc.setState(0x5828, 0x6144, 0x5de0, 0xb0da, 0x2885, 0x2995, 0x0, 0x0);
        gbc.writeMem(0x5828, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6144);
        EXPECT(gbc.pc(), 0x582a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00B5
        gbc.setState(0x625e, 0x2d11, 0x710, 0x28b8, 0xc376, 0xad01, 0x1, 0x0);
        gbc.writeMem(0x625e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2d11);
        EXPECT(gbc.pc(), 0x6260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00B7
        gbc.setState(0x7beb, 0x7750, 0x5cd0, 0xcafe, 0xe167, 0x2e45, 0x1, 0x0);
        gbc.writeMem(0x7beb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7750);
        EXPECT(gbc.pc(), 0x7bed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00B8
        gbc.setState(0xa97e, 0x4b48, 0xe200, 0x7a95, 0x4a5b, 0x3f6f, 0x0, 0x1);
        gbc.writeMem(0xa97e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4b48);
        EXPECT(gbc.pc(), 0xa980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa97e), 0xcb);
        EXPECT(gbc.readMem(0xa97f), 0xe5);
        // CB E5 00B9
        gbc.setState(0xb695, 0x7a8a, 0x7010, 0xedd, 0x7f2d, 0x989b, 0x0, 0x0);
        gbc.writeMem(0xb695, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7a8a);
        EXPECT(gbc.pc(), 0xb697);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb695), 0xcb);
        EXPECT(gbc.readMem(0xb696), 0xe5);
        // CB E5 00BA
        gbc.setState(0x7693, 0xd1a0, 0xb460, 0x66d0, 0xa08f, 0x6ef3, 0x1, 0x1);
        gbc.writeMem(0x7693, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd1a0);
        EXPECT(gbc.pc(), 0x7695);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00BB
        gbc.setState(0x76c3, 0xdbec, 0x22f0, 0x8055, 0xb44b, 0xc64f, 0x1, 0x0);
        gbc.writeMem(0x76c3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0x76c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00BC
        gbc.setState(0x729a, 0x1e26, 0x5aa0, 0x79c9, 0x2ab5, 0x71e1, 0x0, 0x0);
        gbc.writeMem(0x729a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1e26);
        EXPECT(gbc.pc(), 0x729c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00BD
        gbc.setState(0x28ce, 0x6f21, 0x8930, 0x3a0a, 0x8837, 0x39, 0x0, 0x0);
        gbc.writeMem(0x28ce, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6f21);
        EXPECT(gbc.pc(), 0x28d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00BE
        gbc.setState(0xca43, 0xbff9, 0xff20, 0x3a22, 0x49ed, 0x59d0, 0x0, 0x0);
        gbc.writeMem(0xca43, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbff9);
        EXPECT(gbc.pc(), 0xca45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca43), 0xcb);
        EXPECT(gbc.readMem(0xca44), 0xe5);
        // CB E5 00C0
        gbc.setState(0x6888, 0xe6, 0x5bb0, 0x1ed, 0x1d0a, 0x4b58, 0x1, 0x0);
        gbc.writeMem(0x6888, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe6);
        EXPECT(gbc.pc(), 0x688a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00C1
        gbc.setState(0xc5dd, 0x9e94, 0x28b0, 0xdd2f, 0x4180, 0x953a, 0x0, 0x1);
        gbc.writeMem(0xc5dd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9e94);
        EXPECT(gbc.pc(), 0xc5df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5dd), 0xcb);
        EXPECT(gbc.readMem(0xc5de), 0xe5);
        // CB E5 00C2
        gbc.setState(0xa6a7, 0x8c26, 0x36d0, 0xb48f, 0x46c6, 0xc2b6, 0x1, 0x1);
        gbc.writeMem(0xa6a7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8c26);
        EXPECT(gbc.pc(), 0xa6a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6a7), 0xcb);
        EXPECT(gbc.readMem(0xa6a8), 0xe5);
        // CB E5 00C3
        gbc.setState(0x8cc, 0x73d9, 0x2490, 0x47cd, 0xed92, 0x198, 0x0, 0x0);
        gbc.writeMem(0x8cc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x73d9);
        EXPECT(gbc.pc(), 0x8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00C4
        gbc.setState(0xba4, 0xb7aa, 0x3f60, 0xda32, 0xe8cf, 0x5bbc, 0x0, 0x0);
        gbc.writeMem(0xba4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb7aa);
        EXPECT(gbc.pc(), 0xba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00C5
        gbc.setState(0x7871, 0x6002, 0x27c0, 0x2f29, 0x8fa4, 0x96a5, 0x0, 0x1);
        gbc.writeMem(0x7871, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6002);
        EXPECT(gbc.pc(), 0x7873);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00C7
        gbc.setState(0xb40e, 0xad42, 0xe5e0, 0x4007, 0x3e8e, 0xa7b4, 0x0, 0x0);
        gbc.writeMem(0xb40e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xad42);
        EXPECT(gbc.pc(), 0xb410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40e), 0xcb);
        EXPECT(gbc.readMem(0xb40f), 0xe5);
        // CB E5 00C8
        gbc.setState(0x8a19, 0xb909, 0x5150, 0x151c, 0x6978, 0xbd70, 0x0, 0x0);
        gbc.writeMem(0x8a19, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb909);
        EXPECT(gbc.pc(), 0x8a1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a19), 0xcb);
        EXPECT(gbc.readMem(0x8a1a), 0xe5);
        // CB E5 00C9
        gbc.setState(0x8d94, 0x1a4b, 0xacc0, 0x49d6, 0x8908, 0xa345, 0x0, 0x1);
        gbc.writeMem(0x8d94, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1a4b);
        EXPECT(gbc.pc(), 0x8d96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d94), 0xcb);
        EXPECT(gbc.readMem(0x8d95), 0xe5);
        // CB E5 00CA
        gbc.setState(0xd25, 0x3e1a, 0x8ef0, 0x5e75, 0x13e0, 0x14aa, 0x1, 0x1);
        gbc.writeMem(0xd25, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3e1a);
        EXPECT(gbc.pc(), 0xd27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00CB
        gbc.setState(0x8511, 0xa8c3, 0x4350, 0xcac0, 0xd4dc, 0x7857, 0x0, 0x0);
        gbc.writeMem(0x8511, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa8c3);
        EXPECT(gbc.pc(), 0x8513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8511), 0xcb);
        EXPECT(gbc.readMem(0x8512), 0xe5);
        // CB E5 00CC
        gbc.setState(0x36dc, 0x7961, 0xdda0, 0x977a, 0x989e, 0xfa3f, 0x1, 0x1);
        gbc.writeMem(0x36dc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x7961);
        EXPECT(gbc.pc(), 0x36de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00CD
        gbc.setState(0x6f9, 0xc935, 0x1c80, 0x64d2, 0xc09f, 0x83c1, 0x1, 0x0);
        gbc.writeMem(0x6f9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc935);
        EXPECT(gbc.pc(), 0x6fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00CE
        gbc.setState(0x2b8a, 0xe869, 0x4520, 0xf298, 0xf941, 0xd07f, 0x1, 0x0);
        gbc.writeMem(0x2b8a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe869);
        EXPECT(gbc.pc(), 0x2b8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00CF
        gbc.setState(0x5a42, 0xb851, 0x5ea0, 0xb8a2, 0x7e0f, 0xd2bf, 0x0, 0x0);
        gbc.writeMem(0x5a42, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb851);
        EXPECT(gbc.pc(), 0x5a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00D0
        gbc.setState(0x379f, 0xb7e1, 0x88e0, 0xfe05, 0x74f0, 0xfa9f, 0x0, 0x1);
        gbc.writeMem(0x379f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb7e1);
        EXPECT(gbc.pc(), 0x37a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00D1
        gbc.setState(0x432b, 0x6c0, 0x5500, 0x77, 0xf20c, 0x2bb5, 0x0, 0x0);
        gbc.writeMem(0x432b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6c0);
        EXPECT(gbc.pc(), 0x432d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00D2
        gbc.setState(0x3fdd, 0x7140, 0x7920, 0xa45f, 0xd058, 0x77c2, 0x0, 0x1);
        gbc.writeMem(0x3fdd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7140);
        EXPECT(gbc.pc(), 0x3fdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00D3
        gbc.setState(0x1881, 0xab40, 0x64a0, 0x5490, 0x55b3, 0x60f, 0x1, 0x0);
        gbc.writeMem(0x1881, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xab40);
        EXPECT(gbc.pc(), 0x1883);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00D4
        gbc.setState(0xe561, 0x4f36, 0x8c30, 0x8b92, 0x426f, 0x5fc1, 0x0, 0x0);
        gbc.writeMem(0xe561, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x4f36);
        EXPECT(gbc.pc(), 0xe563);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe561), 0xcb);
        EXPECT(gbc.readMem(0xe562), 0xe5);
        // CB E5 00D5
        gbc.setState(0x8b78, 0x3f8c, 0x3580, 0x3136, 0x7a64, 0x10d2, 0x0, 0x0);
        gbc.writeMem(0x8b78, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3f8c);
        EXPECT(gbc.pc(), 0x8b7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b78), 0xcb);
        EXPECT(gbc.readMem(0x8b79), 0xe5);
        // CB E5 00D6
        gbc.setState(0x8b5e, 0x8885, 0x2ca0, 0xab0f, 0x352, 0x1f93, 0x1, 0x0);
        gbc.writeMem(0x8b5e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x8885);
        EXPECT(gbc.pc(), 0x8b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b5e), 0xcb);
        EXPECT(gbc.readMem(0x8b5f), 0xe5);
        // CB E5 00D7
        gbc.setState(0x15b5, 0x6837, 0x1510, 0xb2cf, 0xc0f, 0x2e2d, 0x0, 0x1);
        gbc.writeMem(0x15b5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6837);
        EXPECT(gbc.pc(), 0x15b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00D8
        gbc.setState(0x145c, 0x1331, 0x47d0, 0x152e, 0x6fd6, 0x6f6b, 0x1, 0x1);
        gbc.writeMem(0x145c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1331);
        EXPECT(gbc.pc(), 0x145e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00D9
        gbc.setState(0x2e9b, 0x4037, 0x300, 0xb142, 0xdcac, 0xffa2, 0x1, 0x0);
        gbc.writeMem(0x2e9b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4037);
        EXPECT(gbc.pc(), 0x2e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00DA
        gbc.setState(0x58c0, 0x20e4, 0x8390, 0x135e, 0x246f, 0x3642, 0x1, 0x0);
        gbc.writeMem(0x58c0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x20e4);
        EXPECT(gbc.pc(), 0x58c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00DB
        gbc.setState(0xe25, 0xe7ca, 0xa3d0, 0xcae9, 0xa8a, 0xd97b, 0x0, 0x1);
        gbc.writeMem(0xe25, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe7ca);
        EXPECT(gbc.pc(), 0xe27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00DC
        gbc.setState(0x51d6, 0x27e2, 0xa150, 0x4ead, 0xe063, 0x85a, 0x1, 0x1);
        gbc.writeMem(0x51d6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x27e2);
        EXPECT(gbc.pc(), 0x51d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00DD
        gbc.setState(0xc917, 0x3616, 0x2a30, 0x41ee, 0xfe14, 0x145c, 0x0, 0x1);
        gbc.writeMem(0xc917, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x3616);
        EXPECT(gbc.pc(), 0xc919);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc917), 0xcb);
        EXPECT(gbc.readMem(0xc918), 0xe5);
        // CB E5 00DE
        gbc.setState(0xeba6, 0x49b4, 0xbba0, 0x8efc, 0x51bd, 0x2365, 0x1, 0x1);
        gbc.writeMem(0xeba6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x49b4);
        EXPECT(gbc.pc(), 0xeba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba6), 0xcb);
        EXPECT(gbc.readMem(0xeba7), 0xe5);
        // CB E5 00DF
        gbc.setState(0xc7c1, 0xe757, 0x5530, 0x8cee, 0x7a05, 0xaa03, 0x0, 0x1);
        gbc.writeMem(0xc7c1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xe757);
        EXPECT(gbc.pc(), 0xc7c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7c1), 0xcb);
        EXPECT(gbc.readMem(0xc7c2), 0xe5);
        // CB E5 00E0
        gbc.setState(0x27b4, 0x2b48, 0x8a80, 0xf87a, 0xde2a, 0x619f, 0x0, 0x1);
        gbc.writeMem(0x27b4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2b48);
        EXPECT(gbc.pc(), 0x27b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00E1
        gbc.setState(0x83b8, 0xfa5c, 0xa030, 0xacb6, 0xc0cc, 0x958, 0x0, 0x0);
        gbc.writeMem(0x83b8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xfa5c);
        EXPECT(gbc.pc(), 0x83ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83b8), 0xcb);
        EXPECT(gbc.readMem(0x83b9), 0xe5);
        // CB E5 00E2
        gbc.setState(0x2d74, 0x3ae, 0xeff0, 0xe46, 0xefac, 0xe53d, 0x1, 0x1);
        gbc.writeMem(0x2d74, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3ae);
        EXPECT(gbc.pc(), 0x2d76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00E3
        gbc.setState(0xa97c, 0xbd1f, 0xb000, 0x863b, 0xd885, 0x2221, 0x0, 0x0);
        gbc.writeMem(0xa97c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xbd1f);
        EXPECT(gbc.pc(), 0xa97e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa97c), 0xcb);
        EXPECT(gbc.readMem(0xa97d), 0xe5);
        // CB E5 00E4
        gbc.setState(0x8d20, 0xb42c, 0x3830, 0x7b7f, 0xfc79, 0x435c, 0x1, 0x1);
        gbc.writeMem(0x8d20, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb42c);
        EXPECT(gbc.pc(), 0x8d22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d20), 0xcb);
        EXPECT(gbc.readMem(0x8d21), 0xe5);
        // CB E5 00E5
        gbc.setState(0x67dc, 0x52ed, 0x78c0, 0xfd31, 0x2dc3, 0x4650, 0x0, 0x0);
        gbc.writeMem(0x67dc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x52ed);
        EXPECT(gbc.pc(), 0x67de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00E6
        gbc.setState(0x278c, 0x9712, 0x6c90, 0xbcfa, 0x7c7b, 0xe1bd, 0x0, 0x0);
        gbc.writeMem(0x278c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9712);
        EXPECT(gbc.pc(), 0x278e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00E7
        gbc.setState(0x576d, 0x1c1e, 0xf530, 0x4684, 0xfea6, 0x30e3, 0x1, 0x0);
        gbc.writeMem(0x576d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1c1e);
        EXPECT(gbc.pc(), 0x576f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00E8
        gbc.setState(0x589e, 0xe95c, 0x8d30, 0x824b, 0x97d0, 0xe77, 0x1, 0x1);
        gbc.writeMem(0x589e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe95c);
        EXPECT(gbc.pc(), 0x58a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00E9
        gbc.setState(0xd928, 0xda7b, 0xf6e0, 0x9b2c, 0xcd87, 0x6cc0, 0x0, 0x1);
        gbc.writeMem(0xd928, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xda7b);
        EXPECT(gbc.pc(), 0xd92a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd928), 0xcb);
        EXPECT(gbc.readMem(0xd929), 0xe5);
        // CB E5 00EA
        gbc.setState(0xeb56, 0xbae1, 0xfbf0, 0x99a8, 0xa69b, 0x3c41, 0x1, 0x1);
        gbc.writeMem(0xeb56, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbae1);
        EXPECT(gbc.pc(), 0xeb58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb56), 0xcb);
        EXPECT(gbc.readMem(0xeb57), 0xe5);
        // CB E5 00EB
        gbc.setState(0xed4b, 0xbac3, 0x7950, 0x4983, 0xc47a, 0x16fb, 0x1, 0x1);
        gbc.writeMem(0xed4b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xbac3);
        EXPECT(gbc.pc(), 0xed4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed4b), 0xcb);
        EXPECT(gbc.readMem(0xed4c), 0xe5);
        // CB E5 00EC
        gbc.setState(0x53b4, 0x736f, 0xd3d0, 0x250, 0x3566, 0x5cbe, 0x1, 0x1);
        gbc.writeMem(0x53b4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x736f);
        EXPECT(gbc.pc(), 0x53b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00ED
        gbc.setState(0xb0a8, 0xbd87, 0x2ce0, 0x3741, 0x41c7, 0xb3f7, 0x1, 0x1);
        gbc.writeMem(0xb0a8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbd87);
        EXPECT(gbc.pc(), 0xb0aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a8), 0xcb);
        EXPECT(gbc.readMem(0xb0a9), 0xe5);
        // CB E5 00EF
        gbc.setState(0x93d6, 0xc235, 0xf6f0, 0x1ad2, 0x388c, 0x6cf3, 0x1, 0x0);
        gbc.writeMem(0x93d6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc235);
        EXPECT(gbc.pc(), 0x93d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d6), 0xcb);
        EXPECT(gbc.readMem(0x93d7), 0xe5);
        // CB E5 00F0
        gbc.setState(0x8971, 0x704d, 0xf650, 0x7a3b, 0xa2b3, 0x7f92, 0x0, 0x0);
        gbc.writeMem(0x8971, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x704d);
        EXPECT(gbc.pc(), 0x8973);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8971), 0xcb);
        EXPECT(gbc.readMem(0x8972), 0xe5);
        // CB E5 00F1
        gbc.setState(0x30d4, 0x9058, 0x7660, 0x40a9, 0xd7cd, 0x16f9, 0x0, 0x0);
        gbc.writeMem(0x30d4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x9058);
        EXPECT(gbc.pc(), 0x30d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 00F2
        gbc.setState(0x648, 0xb8a3, 0xa5b0, 0x8c77, 0xedce, 0xb5e1, 0x0, 0x1);
        gbc.writeMem(0x648, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb8a3);
        EXPECT(gbc.pc(), 0x64a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00F3
        gbc.setState(0xed6d, 0x400e, 0x1bd0, 0x254f, 0x7271, 0x9c90, 0x1, 0x1);
        gbc.writeMem(0xed6d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x400e);
        EXPECT(gbc.pc(), 0xed6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed6d), 0xcb);
        EXPECT(gbc.readMem(0xed6e), 0xe5);
        // CB E5 00F4
        gbc.setState(0x5f26, 0x2fc0, 0x4d70, 0x9ddb, 0x86b0, 0xe6ef, 0x0, 0x0);
        gbc.writeMem(0x5f26, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2fc0);
        EXPECT(gbc.pc(), 0x5f28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00F6
        gbc.setState(0x35e, 0x1371, 0xd4d0, 0xd8de, 0x77df, 0x9c5c, 0x1, 0x1);
        gbc.writeMem(0x35e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x1371);
        EXPECT(gbc.pc(), 0x360);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00F7
        gbc.setState(0x549f, 0xfb07, 0xbbb0, 0xe971, 0x5525, 0xb1f8, 0x0, 0x1);
        gbc.writeMem(0x549f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xfb07);
        EXPECT(gbc.pc(), 0x54a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00F8
        gbc.setState(0x3ef6, 0x9231, 0x8430, 0x17a8, 0x6304, 0x6db8, 0x1, 0x1);
        gbc.writeMem(0x3ef6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9231);
        EXPECT(gbc.pc(), 0x3ef8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00F9
        gbc.setState(0xd64, 0x31f6, 0xde90, 0x632b, 0x42f5, 0x27b7, 0x1, 0x1);
        gbc.writeMem(0xd64, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x31f6);
        EXPECT(gbc.pc(), 0xd66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00FA
        gbc.setState(0x5dca, 0x599, 0x7050, 0x4b36, 0x9bb3, 0xf5c1, 0x0, 0x1);
        gbc.writeMem(0x5dca, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x599);
        EXPECT(gbc.pc(), 0x5dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00FB
        gbc.setState(0x5e62, 0xf115, 0xa770, 0x4f31, 0xa67f, 0x661b, 0x1, 0x1);
        gbc.writeMem(0x5e62, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xf115);
        EXPECT(gbc.pc(), 0x5e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 00FC
        gbc.setState(0xb5f5, 0xfc20, 0x74a0, 0x9a83, 0x7e62, 0xbf5d, 0x0, 0x1);
        gbc.writeMem(0xb5f5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xfc20);
        EXPECT(gbc.pc(), 0xb5f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5f5), 0xcb);
        EXPECT(gbc.readMem(0xb5f6), 0xe5);
        // CB E5 00FD
        gbc.setState(0xa0ca, 0x82f5, 0x360, 0x760e, 0x9897, 0x6c7, 0x0, 0x0);
        gbc.writeMem(0xa0ca, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x82f5);
        EXPECT(gbc.pc(), 0xa0cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ca), 0xcb);
        EXPECT(gbc.readMem(0xa0cb), 0xe5);
        // CB E5 00FE
        gbc.setState(0xdc89, 0x4d81, 0x2c40, 0x21b9, 0xfc61, 0xbe57, 0x0, 0x1);
        gbc.writeMem(0xdc89, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4d81);
        EXPECT(gbc.pc(), 0xdc8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc89), 0xcb);
        EXPECT(gbc.readMem(0xdc8a), 0xe5);
        // CB E5 00FF
        gbc.setState(0x386f, 0x6530, 0xc9c0, 0xdc49, 0x5f8e, 0x636, 0x0, 0x1);
        gbc.writeMem(0x386f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6530);
        EXPECT(gbc.pc(), 0x3871);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0100
        gbc.setState(0xb2b7, 0x488a, 0xd590, 0x9e48, 0x78cb, 0xbc3f, 0x1, 0x1);
        gbc.writeMem(0xb2b7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x488a);
        EXPECT(gbc.pc(), 0xb2b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2b7), 0xcb);
        EXPECT(gbc.readMem(0xb2b8), 0xe5);
        // CB E5 0102
        gbc.setState(0x7959, 0xa06a, 0xcbf0, 0xf0d7, 0x9840, 0x7847, 0x1, 0x0);
        gbc.writeMem(0x7959, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa06a);
        EXPECT(gbc.pc(), 0x795b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0103
        gbc.setState(0xbece, 0x7ae8, 0xe580, 0xb9b1, 0xb6d1, 0x6207, 0x0, 0x0);
        gbc.writeMem(0xbece, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7ae8);
        EXPECT(gbc.pc(), 0xbed0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbece), 0xcb);
        EXPECT(gbc.readMem(0xbecf), 0xe5);
        // CB E5 0104
        gbc.setState(0xde42, 0x9791, 0x9370, 0xaffa, 0x1417, 0xfcc8, 0x0, 0x0);
        gbc.writeMem(0xde42, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x9791);
        EXPECT(gbc.pc(), 0xde44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde42), 0xcb);
        EXPECT(gbc.readMem(0xde43), 0xe5);
        // CB E5 0105
        gbc.setState(0xcf24, 0x5cfd, 0xecc0, 0x53e8, 0x2c6, 0xf3b5, 0x1, 0x0);
        gbc.writeMem(0xcf24, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x5cfd);
        EXPECT(gbc.pc(), 0xcf26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf24), 0xcb);
        EXPECT(gbc.readMem(0xcf25), 0xe5);
        // CB E5 0106
        gbc.setState(0x3283, 0x1943, 0x1240, 0xe3d8, 0xde97, 0x200d, 0x1, 0x0);
        gbc.writeMem(0x3283, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1943);
        EXPECT(gbc.pc(), 0x3285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0107
        gbc.setState(0x4a7e, 0xf7bb, 0xf930, 0x9eff, 0xf7cc, 0xb86, 0x0, 0x0);
        gbc.writeMem(0x4a7e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf7bb);
        EXPECT(gbc.pc(), 0x4a80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0108
        gbc.setState(0x2ece, 0x48d4, 0xf660, 0x4b7f, 0x258d, 0x767f, 0x1, 0x1);
        gbc.writeMem(0x2ece, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x48d4);
        EXPECT(gbc.pc(), 0x2ed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 010A
        gbc.setState(0x60e3, 0x7f34, 0x58b0, 0x58b1, 0x536b, 0x81cd, 0x0, 0x1);
        gbc.writeMem(0x60e3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7f34);
        EXPECT(gbc.pc(), 0x60e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 010B
        gbc.setState(0xa788, 0x5093, 0x60, 0x5fc1, 0xf7c0, 0x56e9, 0x1, 0x0);
        gbc.writeMem(0xa788, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5093);
        EXPECT(gbc.pc(), 0xa78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa788), 0xcb);
        EXPECT(gbc.readMem(0xa789), 0xe5);
        // CB E5 010C
        gbc.setState(0x7bca, 0xe2ea, 0xf110, 0x4270, 0x500e, 0x783f, 0x1, 0x0);
        gbc.writeMem(0x7bca, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe2ea);
        EXPECT(gbc.pc(), 0x7bcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 010D
        gbc.setState(0x5b3c, 0x98a8, 0x2050, 0x8a20, 0x9bd2, 0x1fce, 0x0, 0x0);
        gbc.writeMem(0x5b3c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x98a8);
        EXPECT(gbc.pc(), 0x5b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 010E
        gbc.setState(0x7f18, 0xcdea, 0x38f0, 0x14f6, 0xbfff, 0xe3fb, 0x0, 0x0);
        gbc.writeMem(0x7f18, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xcdea);
        EXPECT(gbc.pc(), 0x7f1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 010F
        gbc.setState(0x1d89, 0xa4cc, 0x4920, 0xa40b, 0x4b42, 0xad96, 0x0, 0x0);
        gbc.writeMem(0x1d89, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa4cc);
        EXPECT(gbc.pc(), 0x1d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0110
        gbc.setState(0x3c8b, 0x754b, 0x4f80, 0x9599, 0xbbef, 0xc0cc, 0x1, 0x0);
        gbc.writeMem(0x3c8b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x754b);
        EXPECT(gbc.pc(), 0x3c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0111
        gbc.setState(0x340c, 0x3335, 0x5cc0, 0x8e2f, 0xc2ec, 0xc30f, 0x1, 0x1);
        gbc.writeMem(0x340c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3335);
        EXPECT(gbc.pc(), 0x340e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0112
        gbc.setState(0x978c, 0x840a, 0xe000, 0xd097, 0x656, 0xf4e8, 0x1, 0x0);
        gbc.writeMem(0x978c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x840a);
        EXPECT(gbc.pc(), 0x978e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x978c), 0xcb);
        EXPECT(gbc.readMem(0x978d), 0xe5);
        // CB E5 0113
        gbc.setState(0xa756, 0x11a8, 0xd8c0, 0x1df6, 0xeaac, 0xc9f4, 0x0, 0x1);
        gbc.writeMem(0xa756, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x11a8);
        EXPECT(gbc.pc(), 0xa758);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa756), 0xcb);
        EXPECT(gbc.readMem(0xa757), 0xe5);
        // CB E5 0114
        gbc.setState(0x9def, 0x1adf, 0x77b0, 0x61d0, 0x79ea, 0xf548, 0x0, 0x0);
        gbc.writeMem(0x9def, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1adf);
        EXPECT(gbc.pc(), 0x9df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9def), 0xcb);
        EXPECT(gbc.readMem(0x9df0), 0xe5);
        // CB E5 0115
        gbc.setState(0x67f6, 0x78e4, 0xbbf0, 0xb118, 0x93d3, 0x7349, 0x0, 0x1);
        gbc.writeMem(0x67f6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x78e4);
        EXPECT(gbc.pc(), 0x67f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0116
        gbc.setState(0xd31d, 0x8f23, 0x4ec0, 0x2628, 0x3a2f, 0x4feb, 0x0, 0x1);
        gbc.writeMem(0xd31d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8f23);
        EXPECT(gbc.pc(), 0xd31f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd31d), 0xcb);
        EXPECT(gbc.readMem(0xd31e), 0xe5);
        // CB E5 0117
        gbc.setState(0x6ac0, 0x2945, 0x6590, 0x8a04, 0x12b6, 0xd00, 0x1, 0x0);
        gbc.writeMem(0x6ac0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2945);
        EXPECT(gbc.pc(), 0x6ac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0118
        gbc.setState(0x155e, 0xc1c3, 0xfae0, 0xdf9b, 0x4b7c, 0x866f, 0x0, 0x0);
        gbc.writeMem(0x155e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc1c3);
        EXPECT(gbc.pc(), 0x1560);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0119
        gbc.setState(0x6c81, 0x9700, 0x280, 0x6b1f, 0x1197, 0x6b54, 0x1, 0x0);
        gbc.writeMem(0x6c81, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9700);
        EXPECT(gbc.pc(), 0x6c83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 011A
        gbc.setState(0xc769, 0xfab7, 0x2ac0, 0xf59a, 0x4cc0, 0xae77, 0x0, 0x0);
        gbc.writeMem(0xc769, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xfab7);
        EXPECT(gbc.pc(), 0xc76b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc769), 0xcb);
        EXPECT(gbc.readMem(0xc76a), 0xe5);
        // CB E5 011B
        gbc.setState(0x8182, 0x3107, 0xc670, 0xb6cc, 0x9eb6, 0x2340, 0x1, 0x0);
        gbc.writeMem(0x8182, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3107);
        EXPECT(gbc.pc(), 0x8184);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8182), 0xcb);
        EXPECT(gbc.readMem(0x8183), 0xe5);
        // CB E5 011C
        gbc.setState(0xd9a7, 0x53e8, 0x16b0, 0xbff, 0xb87a, 0x32c, 0x0, 0x0);
        gbc.writeMem(0xd9a7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x53e8);
        EXPECT(gbc.pc(), 0xd9a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a7), 0xcb);
        EXPECT(gbc.readMem(0xd9a8), 0xe5);
        // CB E5 011D
        gbc.setState(0x1392, 0x54cd, 0x4b00, 0x1b7b, 0x4ad0, 0x864, 0x0, 0x0);
        gbc.writeMem(0x1392, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x54cd);
        EXPECT(gbc.pc(), 0x1394);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 011E
        gbc.setState(0x3e28, 0x5bdd, 0x55f0, 0xe38d, 0xe4e4, 0x4a9d, 0x1, 0x1);
        gbc.writeMem(0x3e28, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5bdd);
        EXPECT(gbc.pc(), 0x3e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 011F
        gbc.setState(0x5f1d, 0xd2e2, 0x6e0, 0x4e70, 0x17e4, 0xeb42, 0x0, 0x1);
        gbc.writeMem(0x5f1d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd2e2);
        EXPECT(gbc.pc(), 0x5f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0120
        gbc.setState(0x5b08, 0xc63a, 0xbd70, 0x1848, 0x170, 0xb515, 0x1, 0x0);
        gbc.writeMem(0x5b08, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc63a);
        EXPECT(gbc.pc(), 0x5b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0121
        gbc.setState(0xd34b, 0x965e, 0xf500, 0x71e0, 0xe921, 0x5e61, 0x0, 0x0);
        gbc.writeMem(0xd34b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x965e);
        EXPECT(gbc.pc(), 0xd34d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd34b), 0xcb);
        EXPECT(gbc.readMem(0xd34c), 0xe5);
        // CB E5 0122
        gbc.setState(0x747d, 0xb34c, 0x1030, 0xa12d, 0x4733, 0x1839, 0x0, 0x0);
        gbc.writeMem(0x747d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb34c);
        EXPECT(gbc.pc(), 0x747f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0123
        gbc.setState(0x4de6, 0xb506, 0x5820, 0x3a0f, 0x50da, 0xbaca, 0x0, 0x1);
        gbc.writeMem(0x4de6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb506);
        EXPECT(gbc.pc(), 0x4de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0124
        gbc.setState(0x7c15, 0xda0f, 0xfdd0, 0x4308, 0x37ad, 0x87af, 0x1, 0x1);
        gbc.writeMem(0x7c15, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xda0f);
        EXPECT(gbc.pc(), 0x7c17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0125
        gbc.setState(0xa800, 0xd18a, 0xb840, 0xfd03, 0x232e, 0x723e, 0x1, 0x0);
        gbc.writeMem(0xa800, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xd18a);
        EXPECT(gbc.pc(), 0xa802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa800), 0xcb);
        EXPECT(gbc.readMem(0xa801), 0xe5);
        // CB E5 0126
        gbc.setState(0xb7b5, 0xde9b, 0xbae0, 0xe9e8, 0xde29, 0x60cc, 0x1, 0x1);
        gbc.writeMem(0xb7b5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xde9b);
        EXPECT(gbc.pc(), 0xb7b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b5), 0xcb);
        EXPECT(gbc.readMem(0xb7b6), 0xe5);
        // CB E5 0127
        gbc.setState(0x571f, 0x3d0e, 0x5c80, 0xdedc, 0x5e7, 0x5d87, 0x1, 0x0);
        gbc.writeMem(0x571f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x3d0e);
        EXPECT(gbc.pc(), 0x5721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0129
        gbc.setState(0xd97e, 0xf825, 0x2b20, 0x5bdf, 0xcfdb, 0xca6c, 0x0, 0x0);
        gbc.writeMem(0xd97e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf825);
        EXPECT(gbc.pc(), 0xd980);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd97e), 0xcb);
        EXPECT(gbc.readMem(0xd97f), 0xe5);
        // CB E5 012B
        gbc.setState(0xb7e7, 0xc4d5, 0x9180, 0x2325, 0x8b99, 0xe2ea, 0x0, 0x1);
        gbc.writeMem(0xb7e7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc4d5);
        EXPECT(gbc.pc(), 0xb7e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7e7), 0xcb);
        EXPECT(gbc.readMem(0xb7e8), 0xe5);
        // CB E5 012C
        gbc.setState(0x5fbf, 0xdd39, 0x4690, 0xfa3e, 0x6cc9, 0xdb72, 0x0, 0x1);
        gbc.writeMem(0x5fbf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdd39);
        EXPECT(gbc.pc(), 0x5fc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 012D
        gbc.setState(0x3ac1, 0xf748, 0x3970, 0x4d23, 0xcb00, 0xc3de, 0x0, 0x0);
        gbc.writeMem(0x3ac1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf748);
        EXPECT(gbc.pc(), 0x3ac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 012E
        gbc.setState(0x4338, 0x3825, 0x63a0, 0xc516, 0x866c, 0xa4c0, 0x1, 0x1);
        gbc.writeMem(0x4338, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3825);
        EXPECT(gbc.pc(), 0x433a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 012F
        gbc.setState(0x1d97, 0x5850, 0xcb60, 0x9cfe, 0xa584, 0xc537, 0x1, 0x0);
        gbc.writeMem(0x1d97, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5850);
        EXPECT(gbc.pc(), 0x1d99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0130
        gbc.setState(0x6dd9, 0xe647, 0x33b0, 0xbf15, 0xac09, 0x995c, 0x1, 0x0);
        gbc.writeMem(0x6dd9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe647);
        EXPECT(gbc.pc(), 0x6ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0131
        gbc.setState(0x27e7, 0x124e, 0x5ec0, 0x305, 0xbec6, 0xd1c, 0x0, 0x1);
        gbc.writeMem(0x27e7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x124e);
        EXPECT(gbc.pc(), 0x27e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0132
        gbc.setState(0xec1b, 0x219, 0x1b60, 0xcb17, 0x157, 0xaae4, 0x0, 0x0);
        gbc.writeMem(0xec1b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x219);
        EXPECT(gbc.pc(), 0xec1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec1b), 0xcb);
        EXPECT(gbc.readMem(0xec1c), 0xe5);
        // CB E5 0133
        gbc.setState(0x4d69, 0x4107, 0xda90, 0x4b4d, 0x333c, 0x312f, 0x0, 0x1);
        gbc.writeMem(0x4d69, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4107);
        EXPECT(gbc.pc(), 0x4d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0134
        gbc.setState(0x6651, 0x879a, 0x1840, 0x2545, 0x3d96, 0xa9c3, 0x1, 0x1);
        gbc.writeMem(0x6651, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x879a);
        EXPECT(gbc.pc(), 0x6653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0135
        gbc.setState(0xe83e, 0x6ba5, 0xa180, 0xb8d6, 0xf55b, 0x5665, 0x1, 0x0);
        gbc.writeMem(0xe83e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x6ba5);
        EXPECT(gbc.pc(), 0xe840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe83e), 0xcb);
        EXPECT(gbc.readMem(0xe83f), 0xe5);
        // CB E5 0136
        gbc.setState(0x7e7e, 0x7b4a, 0xcab0, 0x104b, 0x5fb0, 0xf857, 0x1, 0x1);
        gbc.writeMem(0x7e7e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7b4a);
        EXPECT(gbc.pc(), 0x7e80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0137
        gbc.setState(0x297d, 0x5a5a, 0x8510, 0xdb90, 0x9a23, 0xf819, 0x1, 0x1);
        gbc.writeMem(0x297d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x5a5a);
        EXPECT(gbc.pc(), 0x297f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0138
        gbc.setState(0xbffa, 0xf495, 0x6a00, 0x5f4e, 0xa8b4, 0x242a, 0x0, 0x1);
        gbc.writeMem(0xbffa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf495);
        EXPECT(gbc.pc(), 0xbffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbffa), 0xcb);
        EXPECT(gbc.readMem(0xbffb), 0xe5);
        // CB E5 0139
        gbc.setState(0x75a1, 0xce5e, 0xd6f0, 0xbb8c, 0xe2c9, 0x743a, 0x1, 0x1);
        gbc.writeMem(0x75a1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xce5e);
        EXPECT(gbc.pc(), 0x75a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 013A
        gbc.setState(0x53d0, 0x2e09, 0x3780, 0x4bae, 0xc5cb, 0x2d97, 0x0, 0x1);
        gbc.writeMem(0x53d0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2e09);
        EXPECT(gbc.pc(), 0x53d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 013B
        gbc.setState(0xad48, 0xdcdf, 0x51b0, 0xb932, 0x5faa, 0x56b6, 0x1, 0x1);
        gbc.writeMem(0xad48, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xdcdf);
        EXPECT(gbc.pc(), 0xad4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad48), 0xcb);
        EXPECT(gbc.readMem(0xad49), 0xe5);
        // CB E5 013C
        gbc.setState(0x9e75, 0xe77, 0x3a30, 0x3aa7, 0xec8e, 0xd7e1, 0x0, 0x1);
        gbc.writeMem(0x9e75, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe77);
        EXPECT(gbc.pc(), 0x9e77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e75), 0xcb);
        EXPECT(gbc.readMem(0x9e76), 0xe5);
        // CB E5 013D
        gbc.setState(0x3c62, 0xe15b, 0x5520, 0x4cdf, 0xdc3e, 0xab4f, 0x0, 0x1);
        gbc.writeMem(0x3c62, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe15b);
        EXPECT(gbc.pc(), 0x3c64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 013E
        gbc.setState(0xd8b8, 0x204, 0xcc00, 0xb29, 0x9655, 0x948c, 0x0, 0x1);
        gbc.writeMem(0xd8b8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x204);
        EXPECT(gbc.pc(), 0xd8ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8b8), 0xcb);
        EXPECT(gbc.readMem(0xd8b9), 0xe5);
        // CB E5 013F
        gbc.setState(0x7363, 0xab89, 0xc860, 0xcb5a, 0x6755, 0x4b05, 0x1, 0x1);
        gbc.writeMem(0x7363, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xab89);
        EXPECT(gbc.pc(), 0x7365);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0140
        gbc.setState(0x85ad, 0xc07f, 0x1a0, 0xc7a0, 0xad2c, 0x3f88, 0x0, 0x0);
        gbc.writeMem(0x85ad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc07f);
        EXPECT(gbc.pc(), 0x85af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85ad), 0xcb);
        EXPECT(gbc.readMem(0x85ae), 0xe5);
        // CB E5 0141
        gbc.setState(0xefb1, 0x43d0, 0x45a0, 0x8f68, 0x3b94, 0xa29b, 0x1, 0x1);
        gbc.writeMem(0xefb1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x43d0);
        EXPECT(gbc.pc(), 0xefb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb1), 0xcb);
        EXPECT(gbc.readMem(0xefb2), 0xe5);
        // CB E5 0142
        gbc.setState(0x2ffd, 0xf91f, 0xd200, 0x5a44, 0xc4ba, 0xf81d, 0x1, 0x1);
        gbc.writeMem(0x2ffd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf91f);
        EXPECT(gbc.pc(), 0x2fff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0143
        gbc.setState(0x70f2, 0xfb6c, 0xe30, 0xeed3, 0x8199, 0x9ec1, 0x0, 0x1);
        gbc.writeMem(0x70f2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xfb6c);
        EXPECT(gbc.pc(), 0x70f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0144
        gbc.setState(0x55e3, 0xcd00, 0xec00, 0x7270, 0x4709, 0x703e, 0x1, 0x1);
        gbc.writeMem(0x55e3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcd00);
        EXPECT(gbc.pc(), 0x55e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0145
        gbc.setState(0xe347, 0xc3ef, 0xbf50, 0xbf93, 0x5c3d, 0x4981, 0x1, 0x0);
        gbc.writeMem(0xe347, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc3ef);
        EXPECT(gbc.pc(), 0xe349);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe347), 0xcb);
        EXPECT(gbc.readMem(0xe348), 0xe5);
        // CB E5 0147
        gbc.setState(0xc0c8, 0x2c0f, 0x8570, 0xb42a, 0x99b6, 0x66f3, 0x0, 0x0);
        gbc.writeMem(0xc0c8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2c0f);
        EXPECT(gbc.pc(), 0xc0ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0c8), 0xcb);
        EXPECT(gbc.readMem(0xc0c9), 0xe5);
        // CB E5 0148
        gbc.setState(0xcc9e, 0xf324, 0xf7c0, 0x4af5, 0xa2b2, 0xf568, 0x0, 0x0);
        gbc.writeMem(0xcc9e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xf324);
        EXPECT(gbc.pc(), 0xcca0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc9e), 0xcb);
        EXPECT(gbc.readMem(0xcc9f), 0xe5);
        // CB E5 0149
        gbc.setState(0x5081, 0xa328, 0x91c0, 0x418e, 0xca8e, 0x8c8, 0x0, 0x0);
        gbc.writeMem(0x5081, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa328);
        EXPECT(gbc.pc(), 0x5083);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 014A
        gbc.setState(0xeff3, 0xb473, 0xb8f0, 0xa075, 0x9191, 0xc621, 0x1, 0x0);
        gbc.writeMem(0xeff3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xb473);
        EXPECT(gbc.pc(), 0xeff5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeff3), 0xcb);
        EXPECT(gbc.readMem(0xeff4), 0xe5);
        // CB E5 014B
        gbc.setState(0xb13c, 0x8177, 0xb520, 0x2f7c, 0x670d, 0x6fa0, 0x1, 0x1);
        gbc.writeMem(0xb13c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8177);
        EXPECT(gbc.pc(), 0xb13e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13c), 0xcb);
        EXPECT(gbc.readMem(0xb13d), 0xe5);
        // CB E5 014C
        gbc.setState(0x9c42, 0x65c7, 0xe290, 0xabc7, 0x3e64, 0x7ae5, 0x1, 0x1);
        gbc.writeMem(0x9c42, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x65c7);
        EXPECT(gbc.pc(), 0x9c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c42), 0xcb);
        EXPECT(gbc.readMem(0x9c43), 0xe5);
        // CB E5 014D
        gbc.setState(0xe9ee, 0xdedc, 0x8790, 0x3903, 0xd777, 0x778a, 0x1, 0x1);
        gbc.writeMem(0xe9ee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xdedc);
        EXPECT(gbc.pc(), 0xe9f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ee), 0xcb);
        EXPECT(gbc.readMem(0xe9ef), 0xe5);
        // CB E5 014E
        gbc.setState(0xbf4e, 0x5fde, 0x71a0, 0xe609, 0x35fc, 0xd3c5, 0x0, 0x1);
        gbc.writeMem(0xbf4e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5fde);
        EXPECT(gbc.pc(), 0xbf50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf4e), 0xcb);
        EXPECT(gbc.readMem(0xbf4f), 0xe5);
        // CB E5 014F
        gbc.setState(0xb2a5, 0x65f8, 0x9e00, 0x6859, 0x744, 0xe431, 0x1, 0x1);
        gbc.writeMem(0xb2a5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x65f8);
        EXPECT(gbc.pc(), 0xb2a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a5), 0xcb);
        EXPECT(gbc.readMem(0xb2a6), 0xe5);
        // CB E5 0151
        gbc.setState(0x9c55, 0x170f, 0x5c50, 0x8233, 0xe4e4, 0x217c, 0x0, 0x0);
        gbc.writeMem(0x9c55, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x170f);
        EXPECT(gbc.pc(), 0x9c57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c55), 0xcb);
        EXPECT(gbc.readMem(0x9c56), 0xe5);
        // CB E5 0152
        gbc.setState(0x6ca8, 0xcd59, 0xcf10, 0xd24c, 0x57f4, 0xc8d0, 0x1, 0x1);
        gbc.writeMem(0x6ca8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xcd59);
        EXPECT(gbc.pc(), 0x6caa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0153
        gbc.setState(0xc005, 0x1ffe, 0x4a70, 0x71b9, 0x55cc, 0x5ea0, 0x0, 0x0);
        gbc.writeMem(0xc005, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x1ffe);
        EXPECT(gbc.pc(), 0xc007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc005), 0xcb);
        EXPECT(gbc.readMem(0xc006), 0xe5);
        // CB E5 0154
        gbc.setState(0x5ad2, 0x796a, 0x2020, 0xf00b, 0x95c3, 0x6cf7, 0x1, 0x1);
        gbc.writeMem(0x5ad2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x796a);
        EXPECT(gbc.pc(), 0x5ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0155
        gbc.setState(0x3558, 0x8273, 0x5540, 0x551f, 0xe735, 0x22de, 0x1, 0x0);
        gbc.writeMem(0x3558, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8273);
        EXPECT(gbc.pc(), 0x355a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0156
        gbc.setState(0xdef, 0x7644, 0x7780, 0x5e3e, 0xa3bc, 0x7d85, 0x0, 0x0);
        gbc.writeMem(0xdef, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7644);
        EXPECT(gbc.pc(), 0xdf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0157
        gbc.setState(0x80a7, 0x5d95, 0xbff0, 0x89a9, 0xe77a, 0x101f, 0x1, 0x0);
        gbc.writeMem(0x80a7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5d95);
        EXPECT(gbc.pc(), 0x80a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80a7), 0xcb);
        EXPECT(gbc.readMem(0x80a8), 0xe5);
        // CB E5 0158
        gbc.setState(0xbd8, 0x7c37, 0x1650, 0xb1ed, 0x5878, 0x3ec4, 0x1, 0x1);
        gbc.writeMem(0xbd8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7c37);
        EXPECT(gbc.pc(), 0xbda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0159
        gbc.setState(0x74ee, 0x7833, 0x2410, 0x8ab4, 0x2218, 0xdd67, 0x0, 0x0);
        gbc.writeMem(0x74ee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7833);
        EXPECT(gbc.pc(), 0x74f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 015A
        gbc.setState(0x31bd, 0x2ab6, 0x81c0, 0x70a6, 0x526e, 0x3aa1, 0x1, 0x0);
        gbc.writeMem(0x31bd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2ab6);
        EXPECT(gbc.pc(), 0x31bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 015B
        gbc.setState(0xe1bb, 0x9911, 0xf2e0, 0xa, 0x457b, 0x1739, 0x0, 0x0);
        gbc.writeMem(0xe1bb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9911);
        EXPECT(gbc.pc(), 0xe1bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1bb), 0xcb);
        EXPECT(gbc.readMem(0xe1bc), 0xe5);
        // CB E5 015C
        gbc.setState(0xc436, 0x1eca, 0x6450, 0x6c70, 0x2cdf, 0xcfb5, 0x1, 0x0);
        gbc.writeMem(0xc436, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1eca);
        EXPECT(gbc.pc(), 0xc438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc436), 0xcb);
        EXPECT(gbc.readMem(0xc437), 0xe5);
        // CB E5 015D
        gbc.setState(0xba06, 0xec15, 0x2000, 0xa093, 0xc54a, 0x3206, 0x1, 0x1);
        gbc.writeMem(0xba06, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xec15);
        EXPECT(gbc.pc(), 0xba08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba06), 0xcb);
        EXPECT(gbc.readMem(0xba07), 0xe5);
        // CB E5 015E
        gbc.setState(0x84f9, 0x791d, 0x1060, 0xf716, 0xad07, 0x14de, 0x1, 0x0);
        gbc.writeMem(0x84f9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x791d);
        EXPECT(gbc.pc(), 0x84fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84f9), 0xcb);
        EXPECT(gbc.readMem(0x84fa), 0xe5);
        // CB E5 0160
        gbc.setState(0xe233, 0xb39c, 0x6040, 0x6de7, 0x8ee6, 0x400a, 0x1, 0x1);
        gbc.writeMem(0xe233, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xb39c);
        EXPECT(gbc.pc(), 0xe235);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe233), 0xcb);
        EXPECT(gbc.readMem(0xe234), 0xe5);
        // CB E5 0161
        gbc.setState(0x73fc, 0x7d01, 0xb3f0, 0x4edd, 0xc462, 0xb15f, 0x0, 0x1);
        gbc.writeMem(0x73fc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7d01);
        EXPECT(gbc.pc(), 0x73fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0162
        gbc.setState(0x2093, 0x2cd1, 0xa160, 0x8747, 0xc702, 0x612a, 0x0, 0x1);
        gbc.writeMem(0x2093, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2cd1);
        EXPECT(gbc.pc(), 0x2095);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0163
        gbc.setState(0x8073, 0xce75, 0x9f70, 0xa8, 0xb92f, 0x9980, 0x0, 0x1);
        gbc.writeMem(0x8073, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xce75);
        EXPECT(gbc.pc(), 0x8075);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8073), 0xcb);
        EXPECT(gbc.readMem(0x8074), 0xe5);
        // CB E5 0164
        gbc.setState(0xa2a2, 0x1087, 0x1210, 0x9d3e, 0xd31b, 0xf5a9, 0x0, 0x1);
        gbc.writeMem(0xa2a2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1087);
        EXPECT(gbc.pc(), 0xa2a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2a2), 0xcb);
        EXPECT(gbc.readMem(0xa2a3), 0xe5);
        // CB E5 0165
        gbc.setState(0xe6f2, 0xf569, 0x61a0, 0x865f, 0x981b, 0xb31d, 0x0, 0x0);
        gbc.writeMem(0xe6f2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf569);
        EXPECT(gbc.pc(), 0xe6f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f2), 0xcb);
        EXPECT(gbc.readMem(0xe6f3), 0xe5);
        // CB E5 0166
        gbc.setState(0xc124, 0x578f, 0x4330, 0x155f, 0x5b5, 0x4ca4, 0x0, 0x0);
        gbc.writeMem(0xc124, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x578f);
        EXPECT(gbc.pc(), 0xc126);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc124), 0xcb);
        EXPECT(gbc.readMem(0xc125), 0xe5);
        // CB E5 0167
        gbc.setState(0x6ce3, 0x2378, 0x96f0, 0xcb59, 0xd930, 0xa111, 0x1, 0x0);
        gbc.writeMem(0x6ce3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2378);
        EXPECT(gbc.pc(), 0x6ce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0168
        gbc.setState(0x6005, 0xa51f, 0x9640, 0xc5d9, 0x9a4e, 0xdcc6, 0x0, 0x0);
        gbc.writeMem(0x6005, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa51f);
        EXPECT(gbc.pc(), 0x6007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0169
        gbc.setState(0xd9e9, 0xd6c, 0x6ea0, 0x3f39, 0x999a, 0xdcd, 0x1, 0x0);
        gbc.writeMem(0xd9e9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd6c);
        EXPECT(gbc.pc(), 0xd9eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9e9), 0xcb);
        EXPECT(gbc.readMem(0xd9ea), 0xe5);
        // CB E5 016A
        gbc.setState(0x5600, 0x797, 0x5f0, 0x1521, 0x86bb, 0x115e, 0x1, 0x1);
        gbc.writeMem(0x5600, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x797);
        EXPECT(gbc.pc(), 0x5602);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 016C
        gbc.setState(0x313c, 0x524e, 0x5200, 0x2267, 0xd2e, 0x20c4, 0x1, 0x0);
        gbc.writeMem(0x313c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x524e);
        EXPECT(gbc.pc(), 0x313e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 016D
        gbc.setState(0x93f5, 0xc544, 0x7770, 0x46f4, 0x7643, 0xaebc, 0x1, 0x0);
        gbc.writeMem(0x93f5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc544);
        EXPECT(gbc.pc(), 0x93f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93f5), 0xcb);
        EXPECT(gbc.readMem(0x93f6), 0xe5);
        // CB E5 016E
        gbc.setState(0xeedd, 0x2bc8, 0x6760, 0x38a7, 0x7441, 0x7361, 0x0, 0x1);
        gbc.writeMem(0xeedd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2bc8);
        EXPECT(gbc.pc(), 0xeedf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeedd), 0xcb);
        EXPECT(gbc.readMem(0xeede), 0xe5);
        // CB E5 016F
        gbc.setState(0xbee3, 0xc5e9, 0x9b00, 0x9671, 0x70e, 0xf10b, 0x1, 0x0);
        gbc.writeMem(0xbee3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc5e9);
        EXPECT(gbc.pc(), 0xbee5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee3), 0xcb);
        EXPECT(gbc.readMem(0xbee4), 0xe5);
        // CB E5 0170
        gbc.setState(0x7930, 0x8d08, 0x1a70, 0xf5bd, 0xcfb6, 0xe237, 0x1, 0x0);
        gbc.writeMem(0x7930, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8d08);
        EXPECT(gbc.pc(), 0x7932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0171
        gbc.setState(0xe4f0, 0xe572, 0x7740, 0x2a43, 0x6480, 0x891e, 0x1, 0x0);
        gbc.writeMem(0xe4f0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe572);
        EXPECT(gbc.pc(), 0xe4f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f0), 0xcb);
        EXPECT(gbc.readMem(0xe4f1), 0xe5);
        // CB E5 0172
        gbc.setState(0x47f1, 0xa11c, 0x60b0, 0x6db9, 0x471a, 0x71d8, 0x0, 0x0);
        gbc.writeMem(0x47f1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa11c);
        EXPECT(gbc.pc(), 0x47f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0173
        gbc.setState(0x94ab, 0x31e8, 0x69a0, 0x41c0, 0x4fb9, 0xa9b7, 0x0, 0x0);
        gbc.writeMem(0x94ab, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x31e8);
        EXPECT(gbc.pc(), 0x94ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ab), 0xcb);
        EXPECT(gbc.readMem(0x94ac), 0xe5);
        // CB E5 0174
        gbc.setState(0xcc70, 0x203, 0xb1f0, 0x34aa, 0x7e0e, 0x6f1f, 0x1, 0x1);
        gbc.writeMem(0xcc70, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x203);
        EXPECT(gbc.pc(), 0xcc72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc70), 0xcb);
        EXPECT(gbc.readMem(0xcc71), 0xe5);
        // CB E5 0175
        gbc.setState(0x4b86, 0xeeb7, 0x8ba0, 0x9a2e, 0xa768, 0xace0, 0x0, 0x0);
        gbc.writeMem(0x4b86, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xeeb7);
        EXPECT(gbc.pc(), 0x4b88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0176
        gbc.setState(0x170a, 0xc553, 0x59a0, 0x82f1, 0x35b2, 0xd88b, 0x1, 0x1);
        gbc.writeMem(0x170a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc553);
        EXPECT(gbc.pc(), 0x170c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0177
        gbc.setState(0xeaba, 0xaa13, 0x3480, 0x86ff, 0x9097, 0x5078, 0x1, 0x0);
        gbc.writeMem(0xeaba, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xaa13);
        EXPECT(gbc.pc(), 0xeabc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaba), 0xcb);
        EXPECT(gbc.readMem(0xeabb), 0xe5);
        // CB E5 0178
        gbc.setState(0x600f, 0x6d99, 0xb050, 0xc2f7, 0x6fb1, 0x107a, 0x0, 0x0);
        gbc.writeMem(0x600f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6d99);
        EXPECT(gbc.pc(), 0x6011);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0179
        gbc.setState(0xe4ee, 0x4673, 0xe890, 0xeea6, 0xd829, 0x5189, 0x1, 0x1);
        gbc.writeMem(0xe4ee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4673);
        EXPECT(gbc.pc(), 0xe4f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4ee), 0xcb);
        EXPECT(gbc.readMem(0xe4ef), 0xe5);
        // CB E5 017A
        gbc.setState(0xa3cc, 0x66b4, 0x1d60, 0x6cf4, 0x8b01, 0x2e4e, 0x0, 0x1);
        gbc.writeMem(0xa3cc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x66b4);
        EXPECT(gbc.pc(), 0xa3ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3cc), 0xcb);
        EXPECT(gbc.readMem(0xa3cd), 0xe5);
        // CB E5 017C
        gbc.setState(0x9616, 0x5eb4, 0x2e50, 0xbfce, 0xd94c, 0x8024, 0x0, 0x0);
        gbc.writeMem(0x9616, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5eb4);
        EXPECT(gbc.pc(), 0x9618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9616), 0xcb);
        EXPECT(gbc.readMem(0x9617), 0xe5);
        // CB E5 017D
        gbc.setState(0x6fbe, 0x81ae, 0x9490, 0xfac1, 0xd402, 0x28f8, 0x1, 0x1);
        gbc.writeMem(0x6fbe, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x81ae);
        EXPECT(gbc.pc(), 0x6fc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 017E
        gbc.setState(0x3da7, 0x7b81, 0x4000, 0x2c09, 0x3fa5, 0xb0a1, 0x0, 0x0);
        gbc.writeMem(0x3da7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7b81);
        EXPECT(gbc.pc(), 0x3da9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 017F
        gbc.setState(0x818e, 0x122d, 0xf110, 0x861b, 0x564a, 0xc57e, 0x1, 0x0);
        gbc.writeMem(0x818e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x122d);
        EXPECT(gbc.pc(), 0x8190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x818e), 0xcb);
        EXPECT(gbc.readMem(0x818f), 0xe5);
        // CB E5 0180
        gbc.setState(0x43fd, 0x7832, 0xde30, 0x3cbc, 0x423a, 0xc780, 0x0, 0x1);
        gbc.writeMem(0x43fd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7832);
        EXPECT(gbc.pc(), 0x43ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0181
        gbc.setState(0x5548, 0xf55d, 0xab30, 0xf23d, 0x622c, 0x3b5f, 0x0, 0x1);
        gbc.writeMem(0x5548, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf55d);
        EXPECT(gbc.pc(), 0x554a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0182
        gbc.setState(0xef94, 0xf42c, 0xcd10, 0xd79, 0x9b4d, 0x61b5, 0x1, 0x1);
        gbc.writeMem(0xef94, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf42c);
        EXPECT(gbc.pc(), 0xef96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef94), 0xcb);
        EXPECT(gbc.readMem(0xef95), 0xe5);
        // CB E5 0183
        gbc.setState(0xe86b, 0xd9e2, 0x54c0, 0x7edd, 0xff2, 0x48be, 0x1, 0x1);
        gbc.writeMem(0xe86b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xd9e2);
        EXPECT(gbc.pc(), 0xe86d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86b), 0xcb);
        EXPECT(gbc.readMem(0xe86c), 0xe5);
        // CB E5 0184
        gbc.setState(0xb27d, 0x2ab7, 0xa770, 0xbb1f, 0x50bd, 0x28e7, 0x1, 0x0);
        gbc.writeMem(0xb27d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x2ab7);
        EXPECT(gbc.pc(), 0xb27f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb27d), 0xcb);
        EXPECT(gbc.readMem(0xb27e), 0xe5);
        // CB E5 0185
        gbc.setState(0x7dff, 0xe024, 0x24b0, 0x270e, 0x7cb9, 0x9a32, 0x1, 0x0);
        gbc.writeMem(0x7dff, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe024);
        EXPECT(gbc.pc(), 0x7e01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0186
        gbc.setState(0x240d, 0xa2fe, 0x2430, 0x4311, 0x6e68, 0x1009, 0x0, 0x1);
        gbc.writeMem(0x240d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa2fe);
        EXPECT(gbc.pc(), 0x240f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0187
        gbc.setState(0x7838, 0xe2fa, 0xc0f0, 0xe4d2, 0x8237, 0x7c96, 0x0, 0x1);
        gbc.writeMem(0x7838, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe2fa);
        EXPECT(gbc.pc(), 0x783a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0188
        gbc.setState(0x108, 0xa5b9, 0x20d0, 0x24a5, 0x43de, 0xac8a, 0x1, 0x1);
        gbc.writeMem(0x108, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xa5b9);
        EXPECT(gbc.pc(), 0x10a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0189
        gbc.setState(0xd2fa, 0xe9b3, 0x7ce0, 0xdfeb, 0xc98b, 0xc5c5, 0x1, 0x0);
        gbc.writeMem(0xd2fa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe9b3);
        EXPECT(gbc.pc(), 0xd2fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2fa), 0xcb);
        EXPECT(gbc.readMem(0xd2fb), 0xe5);
        // CB E5 018A
        gbc.setState(0x6854, 0xafa7, 0x8340, 0xfb36, 0xc962, 0x8ac, 0x0, 0x1);
        gbc.writeMem(0x6854, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xafa7);
        EXPECT(gbc.pc(), 0x6856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 018B
        gbc.setState(0x34b3, 0x2fa7, 0xe1d0, 0x209d, 0x9ec7, 0x6f14, 0x0, 0x0);
        gbc.writeMem(0x34b3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2fa7);
        EXPECT(gbc.pc(), 0x34b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 018C
        gbc.setState(0x30eb, 0xa1de, 0x6310, 0x2b1, 0x652f, 0x2ec6, 0x1, 0x0);
        gbc.writeMem(0x30eb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa1de);
        EXPECT(gbc.pc(), 0x30ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 018D
        gbc.setState(0x12e7, 0x310f, 0xdce0, 0xb65f, 0x7f1c, 0x181e, 0x1, 0x0);
        gbc.writeMem(0x12e7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x310f);
        EXPECT(gbc.pc(), 0x12e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 018E
        gbc.setState(0x6d8c, 0xd1a1, 0xeb70, 0xdd03, 0x2d9b, 0xf6b4, 0x1, 0x0);
        gbc.writeMem(0x6d8c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd1a1);
        EXPECT(gbc.pc(), 0x6d8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 018F
        gbc.setState(0x4080, 0x8979, 0xdf00, 0xa25b, 0xbca0, 0xa741, 0x0, 0x0);
        gbc.writeMem(0x4080, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8979);
        EXPECT(gbc.pc(), 0x4082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0190
        gbc.setState(0x2acf, 0x9f2, 0x5630, 0xaa02, 0x9d2d, 0xe4d3, 0x1, 0x0);
        gbc.writeMem(0x2acf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9f2);
        EXPECT(gbc.pc(), 0x2ad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0191
        gbc.setState(0x4d8e, 0x6ff9, 0xb550, 0xadf5, 0x43c0, 0x22c0, 0x0, 0x1);
        gbc.writeMem(0x4d8e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6ff9);
        EXPECT(gbc.pc(), 0x4d90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0192
        gbc.setState(0x31e3, 0xf5ee, 0xe0f0, 0xc616, 0x7c57, 0x2cb4, 0x1, 0x0);
        gbc.writeMem(0x31e3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf5ee);
        EXPECT(gbc.pc(), 0x31e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0193
        gbc.setState(0xecbc, 0xa7f9, 0x3a30, 0x2eb5, 0xfbc2, 0x5d40, 0x0, 0x0);
        gbc.writeMem(0xecbc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xa7f9);
        EXPECT(gbc.pc(), 0xecbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecbc), 0xcb);
        EXPECT(gbc.readMem(0xecbd), 0xe5);
        // CB E5 0194
        gbc.setState(0xb7dc, 0x77b0, 0x500, 0x223a, 0x6487, 0x66af, 0x1, 0x0);
        gbc.writeMem(0xb7dc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x77b0);
        EXPECT(gbc.pc(), 0xb7de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7dc), 0xcb);
        EXPECT(gbc.readMem(0xb7dd), 0xe5);
        // CB E5 0195
        gbc.setState(0x891d, 0x474e, 0x9230, 0xeb86, 0xa9aa, 0x9b8, 0x1, 0x1);
        gbc.writeMem(0x891d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x474e);
        EXPECT(gbc.pc(), 0x891f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x891d), 0xcb);
        EXPECT(gbc.readMem(0x891e), 0xe5);
        // CB E5 0196
        gbc.setState(0xd4c0, 0x2e32, 0x47f0, 0x6d49, 0x3403, 0xc2b7, 0x0, 0x1);
        gbc.writeMem(0xd4c0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2e32);
        EXPECT(gbc.pc(), 0xd4c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4c0), 0xcb);
        EXPECT(gbc.readMem(0xd4c1), 0xe5);
        // CB E5 0197
        gbc.setState(0x849d, 0x8c84, 0xe4f0, 0xf2eb, 0x420f, 0xadc1, 0x0, 0x1);
        gbc.writeMem(0x849d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8c84);
        EXPECT(gbc.pc(), 0x849f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x849d), 0xcb);
        EXPECT(gbc.readMem(0x849e), 0xe5);
        // CB E5 0198
        gbc.setState(0xac11, 0x451a, 0x25e0, 0x768e, 0x15a, 0x36cc, 0x0, 0x0);
        gbc.writeMem(0xac11, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x451a);
        EXPECT(gbc.pc(), 0xac13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac11), 0xcb);
        EXPECT(gbc.readMem(0xac12), 0xe5);
        // CB E5 019B
        gbc.setState(0x4a17, 0xc3e4, 0xb6c0, 0xfa3a, 0x84f2, 0xc0e5, 0x1, 0x0);
        gbc.writeMem(0x4a17, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc3e4);
        EXPECT(gbc.pc(), 0x4a19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 019C
        gbc.setState(0x4653, 0x28eb, 0xf500, 0xa1d7, 0x5300, 0xa0ea, 0x0, 0x1);
        gbc.writeMem(0x4653, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x28eb);
        EXPECT(gbc.pc(), 0x4655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 019D
        gbc.setState(0xee0f, 0x4f9b, 0x9f30, 0x63da, 0xa08a, 0x77bb, 0x0, 0x0);
        gbc.writeMem(0xee0f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4f9b);
        EXPECT(gbc.pc(), 0xee11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee0f), 0xcb);
        EXPECT(gbc.readMem(0xee10), 0xe5);
        // CB E5 019E
        gbc.setState(0x997b, 0x4bb3, 0xce40, 0x7420, 0xdc36, 0xdba3, 0x0, 0x0);
        gbc.writeMem(0x997b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4bb3);
        EXPECT(gbc.pc(), 0x997d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x997b), 0xcb);
        EXPECT(gbc.readMem(0x997c), 0xe5);
        // CB E5 019F
        gbc.setState(0x8fe1, 0x7c15, 0x6a80, 0x6da4, 0xdb5f, 0xf6a2, 0x1, 0x0);
        gbc.writeMem(0x8fe1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7c15);
        EXPECT(gbc.pc(), 0x8fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe1), 0xcb);
        EXPECT(gbc.readMem(0x8fe2), 0xe5);
        // CB E5 01A0
        gbc.setState(0x27dc, 0x223b, 0xa1f0, 0xd6d3, 0x724f, 0x78f2, 0x0, 0x1);
        gbc.writeMem(0x27dc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x223b);
        EXPECT(gbc.pc(), 0x27de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01A1
        gbc.setState(0xc6fe, 0xb86b, 0x3e20, 0xf4a2, 0xa1da, 0x88f, 0x0, 0x0);
        gbc.writeMem(0xc6fe, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb86b);
        EXPECT(gbc.pc(), 0xc700);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6fe), 0xcb);
        EXPECT(gbc.readMem(0xc6ff), 0xe5);
        // CB E5 01A2
        gbc.setState(0x57a8, 0x9401, 0xb420, 0x26e3, 0x944f, 0x38e0, 0x1, 0x1);
        gbc.writeMem(0x57a8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9401);
        EXPECT(gbc.pc(), 0x57aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01A3
        gbc.setState(0xdbb2, 0x3e79, 0xc7e0, 0x51d4, 0xa5d, 0xe7cb, 0x0, 0x1);
        gbc.writeMem(0xdbb2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3e79);
        EXPECT(gbc.pc(), 0xdbb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb2), 0xcb);
        EXPECT(gbc.readMem(0xdbb3), 0xe5);
        // CB E5 01A4
        gbc.setState(0xa3d7, 0xaf82, 0x4ca0, 0x9a89, 0xa5f1, 0x46e6, 0x1, 0x0);
        gbc.writeMem(0xa3d7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xaf82);
        EXPECT(gbc.pc(), 0xa3d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3d7), 0xcb);
        EXPECT(gbc.readMem(0xa3d8), 0xe5);
        // CB E5 01A5
        gbc.setState(0x2f0f, 0xa754, 0xf550, 0x5bfc, 0xb492, 0x41c6, 0x0, 0x0);
        gbc.writeMem(0x2f0f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xa754);
        EXPECT(gbc.pc(), 0x2f11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01A6
        gbc.setState(0x7173, 0x6ddb, 0xccb0, 0x592f, 0xd5fa, 0x9295, 0x1, 0x1);
        gbc.writeMem(0x7173, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6ddb);
        EXPECT(gbc.pc(), 0x7175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01A7
        gbc.setState(0xb252, 0x2fb, 0x3430, 0x4dbf, 0x8674, 0x6ab8, 0x1, 0x1);
        gbc.writeMem(0xb252, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2fb);
        EXPECT(gbc.pc(), 0xb254);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb252), 0xcb);
        EXPECT(gbc.readMem(0xb253), 0xe5);
        // CB E5 01A8
        gbc.setState(0x157, 0xacbe, 0x5300, 0x3d29, 0x729d, 0xc51a, 0x1, 0x0);
        gbc.writeMem(0x157, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xacbe);
        EXPECT(gbc.pc(), 0x159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01A9
        gbc.setState(0x941d, 0x1d2a, 0xae90, 0xd8aa, 0xcd68, 0x620, 0x1, 0x1);
        gbc.writeMem(0x941d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1d2a);
        EXPECT(gbc.pc(), 0x941f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x941d), 0xcb);
        EXPECT(gbc.readMem(0x941e), 0xe5);
        // CB E5 01AA
        gbc.setState(0xca28, 0x5f46, 0xce50, 0xea87, 0x68b0, 0x9563, 0x0, 0x0);
        gbc.writeMem(0xca28, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5f46);
        EXPECT(gbc.pc(), 0xca2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca28), 0xcb);
        EXPECT(gbc.readMem(0xca29), 0xe5);
        // CB E5 01AB
        gbc.setState(0xe9bd, 0x3a1e, 0xc9c0, 0x13ba, 0x221d, 0x9682, 0x0, 0x1);
        gbc.writeMem(0xe9bd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3a1e);
        EXPECT(gbc.pc(), 0xe9bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9bd), 0xcb);
        EXPECT(gbc.readMem(0xe9be), 0xe5);
        // CB E5 01AC
        gbc.setState(0x7a75, 0x8fd7, 0xcf20, 0x283f, 0xff50, 0xe6b7, 0x1, 0x0);
        gbc.writeMem(0x7a75, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8fd7);
        EXPECT(gbc.pc(), 0x7a77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01AD
        gbc.setState(0x6869, 0xd91a, 0xac80, 0x539, 0x7f4, 0x4b0, 0x0, 0x0);
        gbc.writeMem(0x6869, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd91a);
        EXPECT(gbc.pc(), 0x686b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01AE
        gbc.setState(0x6a6c, 0x4dd1, 0x3b40, 0x846d, 0x4909, 0x6ead, 0x1, 0x1);
        gbc.writeMem(0x6a6c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4dd1);
        EXPECT(gbc.pc(), 0x6a6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01AF
        gbc.setState(0xebd0, 0xded5, 0x9f40, 0xc6f0, 0x4ccc, 0xd7e4, 0x0, 0x0);
        gbc.writeMem(0xebd0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xded5);
        EXPECT(gbc.pc(), 0xebd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebd0), 0xcb);
        EXPECT(gbc.readMem(0xebd1), 0xe5);
        // CB E5 01B0
        gbc.setState(0x8420, 0xbe9d, 0xb2b0, 0xc857, 0xf5d8, 0x5361, 0x1, 0x1);
        gbc.writeMem(0x8420, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbe9d);
        EXPECT(gbc.pc(), 0x8422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8420), 0xcb);
        EXPECT(gbc.readMem(0x8421), 0xe5);
        // CB E5 01B1
        gbc.setState(0x972c, 0x5c29, 0x7780, 0x30dc, 0xb8c7, 0xd61a, 0x0, 0x0);
        gbc.writeMem(0x972c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5c29);
        EXPECT(gbc.pc(), 0x972e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x972c), 0xcb);
        EXPECT(gbc.readMem(0x972d), 0xe5);
        // CB E5 01B2
        gbc.setState(0xdfac, 0xc9e, 0x3fa0, 0x53b8, 0x999b, 0xfe67, 0x0, 0x1);
        gbc.writeMem(0xdfac, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc9e);
        EXPECT(gbc.pc(), 0xdfae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfac), 0xcb);
        EXPECT(gbc.readMem(0xdfad), 0xe5);
        // CB E5 01B3
        gbc.setState(0x1c29, 0x8cd0, 0xf90, 0xc1e2, 0xd4f5, 0x6b98, 0x1, 0x1);
        gbc.writeMem(0x1c29, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8cd0);
        EXPECT(gbc.pc(), 0x1c2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01B6
        gbc.setState(0x35a6, 0xea11, 0x4cc0, 0x41f2, 0x4ff4, 0x916b, 0x1, 0x1);
        gbc.writeMem(0x35a6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xea11);
        EXPECT(gbc.pc(), 0x35a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01B7
        gbc.setState(0xb99a, 0x5c85, 0x5ec0, 0xeb66, 0xd520, 0xe1f5, 0x0, 0x1);
        gbc.writeMem(0xb99a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5c85);
        EXPECT(gbc.pc(), 0xb99c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb99a), 0xcb);
        EXPECT(gbc.readMem(0xb99b), 0xe5);
        // CB E5 01B8
        gbc.setState(0x36f9, 0x9711, 0x370, 0x6a19, 0x10de, 0xc1d, 0x1, 0x0);
        gbc.writeMem(0x36f9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9711);
        EXPECT(gbc.pc(), 0x36fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01B9
        gbc.setState(0x6f39, 0x6d15, 0x9c10, 0x8dc3, 0x43f6, 0x4242, 0x1, 0x1);
        gbc.writeMem(0x6f39, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6d15);
        EXPECT(gbc.pc(), 0x6f3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01BA
        gbc.setState(0x67ef, 0x42d0, 0x4260, 0xc8dc, 0x4d4f, 0x7842, 0x0, 0x1);
        gbc.writeMem(0x67ef, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x42d0);
        EXPECT(gbc.pc(), 0x67f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01BB
        gbc.setState(0x9328, 0x9180, 0xade0, 0x87d1, 0xbc0c, 0x91de, 0x0, 0x1);
        gbc.writeMem(0x9328, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x9180);
        EXPECT(gbc.pc(), 0x932a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9328), 0xcb);
        EXPECT(gbc.readMem(0x9329), 0xe5);
        // CB E5 01BC
        gbc.setState(0xbf42, 0x3f8d, 0xf910, 0xbd7f, 0x1a0c, 0x81e5, 0x0, 0x1);
        gbc.writeMem(0xbf42, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3f8d);
        EXPECT(gbc.pc(), 0xbf44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf42), 0xcb);
        EXPECT(gbc.readMem(0xbf43), 0xe5);
        // CB E5 01BD
        gbc.setState(0xb970, 0xc72d, 0x7210, 0xabd4, 0xd736, 0xdcac, 0x0, 0x1);
        gbc.writeMem(0xb970, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc72d);
        EXPECT(gbc.pc(), 0xb972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb970), 0xcb);
        EXPECT(gbc.readMem(0xb971), 0xe5);
        // CB E5 01BE
        gbc.setState(0x3692, 0x85c9, 0x7c60, 0xe126, 0x289b, 0x6fb0, 0x0, 0x0);
        gbc.writeMem(0x3692, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x85c9);
        EXPECT(gbc.pc(), 0x3694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01BF
        gbc.setState(0x3629, 0x9ea9, 0xc950, 0x6bf, 0x7117, 0x6bb1, 0x1, 0x1);
        gbc.writeMem(0x3629, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9ea9);
        EXPECT(gbc.pc(), 0x362b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01C0
        gbc.setState(0xef7d, 0xbab9, 0x1fe0, 0x5ff, 0x73e5, 0x64f, 0x0, 0x1);
        gbc.writeMem(0xef7d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbab9);
        EXPECT(gbc.pc(), 0xef7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef7d), 0xcb);
        EXPECT(gbc.readMem(0xef7e), 0xe5);
        // CB E5 01C1
        gbc.setState(0x91e7, 0x144, 0x24c0, 0xc87b, 0xffeb, 0xf38d, 0x1, 0x0);
        gbc.writeMem(0x91e7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x144);
        EXPECT(gbc.pc(), 0x91e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e7), 0xcb);
        EXPECT(gbc.readMem(0x91e8), 0xe5);
        // CB E5 01C2
        gbc.setState(0x4d0b, 0xe3ba, 0x9fb0, 0x17d4, 0x6d57, 0x3866, 0x0, 0x0);
        gbc.writeMem(0x4d0b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe3ba);
        EXPECT(gbc.pc(), 0x4d0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01C3
        gbc.setState(0x120e, 0xa3d9, 0xa70, 0xe8e5, 0x85b7, 0x81c1, 0x0, 0x1);
        gbc.writeMem(0x120e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa3d9);
        EXPECT(gbc.pc(), 0x1210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01C4
        gbc.setState(0x4be4, 0x3baa, 0x46d0, 0x728d, 0xdf36, 0xffa, 0x0, 0x0);
        gbc.writeMem(0x4be4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x3baa);
        EXPECT(gbc.pc(), 0x4be6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01C5
        gbc.setState(0xcea1, 0xa9d1, 0x9e50, 0xd1fd, 0x7370, 0xf275, 0x1, 0x1);
        gbc.writeMem(0xcea1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa9d1);
        EXPECT(gbc.pc(), 0xcea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcea1), 0xcb);
        EXPECT(gbc.readMem(0xcea2), 0xe5);
        // CB E5 01C6
        gbc.setState(0x72b9, 0xb820, 0xad80, 0x1cdd, 0x93f, 0x1328, 0x1, 0x1);
        gbc.writeMem(0x72b9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb820);
        EXPECT(gbc.pc(), 0x72bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01C7
        gbc.setState(0xbd16, 0xeeec, 0x1e00, 0xcb7d, 0xc47d, 0x45bd, 0x0, 0x1);
        gbc.writeMem(0xbd16, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xeeec);
        EXPECT(gbc.pc(), 0xbd18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd16), 0xcb);
        EXPECT(gbc.readMem(0xbd17), 0xe5);
        // CB E5 01C8
        gbc.setState(0xb686, 0x822, 0x6fd0, 0x5271, 0xfcb3, 0xe317, 0x1, 0x1);
        gbc.writeMem(0xb686, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x822);
        EXPECT(gbc.pc(), 0xb688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb686), 0xcb);
        EXPECT(gbc.readMem(0xb687), 0xe5);
        // CB E5 01C9
        gbc.setState(0x3453, 0x7937, 0x6d40, 0xcce5, 0xd5be, 0xabdf, 0x1, 0x1);
        gbc.writeMem(0x3453, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7937);
        EXPECT(gbc.pc(), 0x3455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01CA
        gbc.setState(0x727, 0x961, 0x2d70, 0x7eba, 0x71bd, 0xf7a0, 0x0, 0x1);
        gbc.writeMem(0x727, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x961);
        EXPECT(gbc.pc(), 0x729);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01CB
        gbc.setState(0x10ee, 0x4627, 0x2b90, 0x4ffa, 0x9fb2, 0x2ea2, 0x0, 0x1);
        gbc.writeMem(0x10ee, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4627);
        EXPECT(gbc.pc(), 0x10f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01CC
        gbc.setState(0x5512, 0x2519, 0xfa80, 0x8c4e, 0x85ba, 0x6870, 0x1, 0x1);
        gbc.writeMem(0x5512, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2519);
        EXPECT(gbc.pc(), 0x5514);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01CD
        gbc.setState(0x68af, 0xc620, 0x5140, 0x7b3f, 0x8b40, 0x9b05, 0x0, 0x1);
        gbc.writeMem(0x68af, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc620);
        EXPECT(gbc.pc(), 0x68b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01CE
        gbc.setState(0xa6b6, 0x262b, 0x9130, 0xe3b8, 0x9f22, 0x836d, 0x0, 0x0);
        gbc.writeMem(0xa6b6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x262b);
        EXPECT(gbc.pc(), 0xa6b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6b6), 0xcb);
        EXPECT(gbc.readMem(0xa6b7), 0xe5);
        // CB E5 01CF
        gbc.setState(0x98e9, 0x6844, 0x7850, 0x5b04, 0xd9d6, 0x9419, 0x0, 0x1);
        gbc.writeMem(0x98e9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6844);
        EXPECT(gbc.pc(), 0x98eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98e9), 0xcb);
        EXPECT(gbc.readMem(0x98ea), 0xe5);
        // CB E5 01D1
        gbc.setState(0x3cd3, 0x802c, 0xf0e0, 0xf3d7, 0xed63, 0xd1b, 0x1, 0x1);
        gbc.writeMem(0x3cd3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x802c);
        EXPECT(gbc.pc(), 0x3cd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01D2
        gbc.setState(0x8162, 0x606f, 0x6940, 0x4aa7, 0xa5ea, 0xade9, 0x1, 0x0);
        gbc.writeMem(0x8162, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x606f);
        EXPECT(gbc.pc(), 0x8164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8162), 0xcb);
        EXPECT(gbc.readMem(0x8163), 0xe5);
        // CB E5 01D3
        gbc.setState(0x88d5, 0x199d, 0xdcd0, 0xa192, 0x2527, 0xbeaf, 0x0, 0x0);
        gbc.writeMem(0x88d5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x199d);
        EXPECT(gbc.pc(), 0x88d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88d5), 0xcb);
        EXPECT(gbc.readMem(0x88d6), 0xe5);
        // CB E5 01D4
        gbc.setState(0x4850, 0x8ab8, 0x84e0, 0x3c28, 0xb7e9, 0x754d, 0x1, 0x1);
        gbc.writeMem(0x4850, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8ab8);
        EXPECT(gbc.pc(), 0x4852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01D5
        gbc.setState(0x2ded, 0xc2b9, 0x8800, 0xbb1, 0xa395, 0x246d, 0x1, 0x0);
        gbc.writeMem(0x2ded, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc2b9);
        EXPECT(gbc.pc(), 0x2def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01D6
        gbc.setState(0x7d5f, 0xc565, 0xbac0, 0xfc5e, 0x5614, 0xee0, 0x1, 0x1);
        gbc.writeMem(0x7d5f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xc565);
        EXPECT(gbc.pc(), 0x7d61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01D8
        gbc.setState(0x2568, 0xe73e, 0x8d40, 0x3342, 0xc204, 0x6bc9, 0x1, 0x1);
        gbc.writeMem(0x2568, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe73e);
        EXPECT(gbc.pc(), 0x256a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01D9
        gbc.setState(0xb8bd, 0xbd94, 0xac10, 0xbaf3, 0x588e, 0xadf8, 0x0, 0x1);
        gbc.writeMem(0xb8bd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbd94);
        EXPECT(gbc.pc(), 0xb8bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8bd), 0xcb);
        EXPECT(gbc.readMem(0xb8be), 0xe5);
        // CB E5 01DA
        gbc.setState(0xeb6f, 0x6cb2, 0x4b30, 0x1a45, 0x2d9a, 0x6a7f, 0x1, 0x0);
        gbc.writeMem(0xeb6f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6cb2);
        EXPECT(gbc.pc(), 0xeb71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb6f), 0xcb);
        EXPECT(gbc.readMem(0xeb70), 0xe5);
        // CB E5 01DB
        gbc.setState(0x5085, 0x2039, 0x6640, 0xa1e, 0x26be, 0x9f72, 0x0, 0x1);
        gbc.writeMem(0x5085, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2039);
        EXPECT(gbc.pc(), 0x5087);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01DD
        gbc.setState(0x4913, 0x4c41, 0x2970, 0xf953, 0xaa96, 0xddba, 0x0, 0x1);
        gbc.writeMem(0x4913, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4c41);
        EXPECT(gbc.pc(), 0x4915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01DE
        gbc.setState(0x1123, 0xcb2a, 0xe560, 0x4bba, 0xa4b7, 0xde76, 0x1, 0x0);
        gbc.writeMem(0x1123, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xcb2a);
        EXPECT(gbc.pc(), 0x1125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01DF
        gbc.setState(0x8e92, 0x8bf2, 0xba30, 0xcf1d, 0x8910, 0x92ea, 0x0, 0x1);
        gbc.writeMem(0x8e92, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x8bf2);
        EXPECT(gbc.pc(), 0x8e94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e92), 0xcb);
        EXPECT(gbc.readMem(0x8e93), 0xe5);
        // CB E5 01E0
        gbc.setState(0xa0a8, 0x109f, 0xea60, 0xe912, 0x7734, 0x4e9e, 0x0, 0x0);
        gbc.writeMem(0xa0a8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x109f);
        EXPECT(gbc.pc(), 0xa0aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a8), 0xcb);
        EXPECT(gbc.readMem(0xa0a9), 0xe5);
        // CB E5 01E1
        gbc.setState(0x1a6d, 0x62ea, 0xadb0, 0xe7f, 0xcc6b, 0xf3dc, 0x1, 0x0);
        gbc.writeMem(0x1a6d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x62ea);
        EXPECT(gbc.pc(), 0x1a6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01E2
        gbc.setState(0x3ba4, 0x3609, 0x2e00, 0xabb9, 0x3a66, 0xfb43, 0x0, 0x1);
        gbc.writeMem(0x3ba4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3609);
        EXPECT(gbc.pc(), 0x3ba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01E3
        gbc.setState(0x7628, 0x98a6, 0xe1d0, 0x5add, 0xae41, 0xb8c9, 0x0, 0x0);
        gbc.writeMem(0x7628, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x98a6);
        EXPECT(gbc.pc(), 0x762a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01E4
        gbc.setState(0x2ccb, 0xcdd8, 0x2d80, 0x7b9e, 0xc0f3, 0xd5de, 0x1, 0x1);
        gbc.writeMem(0x2ccb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xcdd8);
        EXPECT(gbc.pc(), 0x2ccd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01E5
        gbc.setState(0xe285, 0x9fd9, 0xf320, 0xdaf7, 0xece0, 0xcf72, 0x0, 0x0);
        gbc.writeMem(0xe285, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9fd9);
        EXPECT(gbc.pc(), 0xe287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe285), 0xcb);
        EXPECT(gbc.readMem(0xe286), 0xe5);
        // CB E5 01E6
        gbc.setState(0xc2de, 0x39aa, 0x7ec0, 0x3500, 0x8954, 0x2118, 0x0, 0x1);
        gbc.writeMem(0xc2de, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x39aa);
        EXPECT(gbc.pc(), 0xc2e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2de), 0xcb);
        EXPECT(gbc.readMem(0xc2df), 0xe5);
        // CB E5 01E7
        gbc.setState(0xee83, 0x66fe, 0xed40, 0xc1, 0x848, 0x7946, 0x1, 0x1);
        gbc.writeMem(0xee83, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x66fe);
        EXPECT(gbc.pc(), 0xee85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee83), 0xcb);
        EXPECT(gbc.readMem(0xee84), 0xe5);
        // CB E5 01E8
        gbc.setState(0x137e, 0xbcac, 0xd4b0, 0xbaed, 0x765b, 0xbcd1, 0x1, 0x1);
        gbc.writeMem(0x137e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xbcac);
        EXPECT(gbc.pc(), 0x1380);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01E9
        gbc.setState(0x197a, 0x2eb8, 0x4870, 0xc67e, 0xe456, 0x190a, 0x1, 0x1);
        gbc.writeMem(0x197a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2eb8);
        EXPECT(gbc.pc(), 0x197c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01EA
        gbc.setState(0xfc5, 0xb1be, 0x3ba0, 0x95ba, 0xdb03, 0x7ce3, 0x0, 0x1);
        gbc.writeMem(0xfc5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb1be);
        EXPECT(gbc.pc(), 0xfc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01EB
        gbc.setState(0x5a79, 0xaa8, 0x2dd0, 0x9959, 0xb1e4, 0xb7de, 0x0, 0x0);
        gbc.writeMem(0x5a79, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xaa8);
        EXPECT(gbc.pc(), 0x5a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01EC
        gbc.setState(0x13bf, 0x5c03, 0x9a20, 0x8946, 0xd4da, 0x8566, 0x1, 0x1);
        gbc.writeMem(0x13bf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5c03);
        EXPECT(gbc.pc(), 0x13c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01ED
        gbc.setState(0x39df, 0x4770, 0x6fd0, 0x4d03, 0xa4eb, 0x7a03, 0x0, 0x0);
        gbc.writeMem(0x39df, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4770);
        EXPECT(gbc.pc(), 0x39e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01EE
        gbc.setState(0xc859, 0x8ff7, 0xc8c0, 0x6089, 0x2933, 0xf041, 0x0, 0x0);
        gbc.writeMem(0xc859, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8ff7);
        EXPECT(gbc.pc(), 0xc85b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc859), 0xcb);
        EXPECT(gbc.readMem(0xc85a), 0xe5);
        // CB E5 01EF
        gbc.setState(0xe728, 0x2755, 0x4490, 0xda76, 0x300c, 0xd4b5, 0x1, 0x1);
        gbc.writeMem(0xe728, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x2755);
        EXPECT(gbc.pc(), 0xe72a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe728), 0xcb);
        EXPECT(gbc.readMem(0xe729), 0xe5);
        // CB E5 01F0
        gbc.setState(0xccf0, 0xb2b6, 0x4ff0, 0xc8dc, 0xfa37, 0x4a47, 0x1, 0x0);
        gbc.writeMem(0xccf0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb2b6);
        EXPECT(gbc.pc(), 0xccf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccf0), 0xcb);
        EXPECT(gbc.readMem(0xccf1), 0xe5);
        // CB E5 01F1
        gbc.setState(0x7738, 0x856f, 0x1140, 0x7ed2, 0xa499, 0xb4cb, 0x1, 0x1);
        gbc.writeMem(0x7738, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x856f);
        EXPECT(gbc.pc(), 0x773a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01F2
        gbc.setState(0xa016, 0xda49, 0x6890, 0x369, 0x2b21, 0xac96, 0x0, 0x1);
        gbc.writeMem(0xa016, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xda49);
        EXPECT(gbc.pc(), 0xa018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa016), 0xcb);
        EXPECT(gbc.readMem(0xa017), 0xe5);
        // CB E5 01F3
        gbc.setState(0x4ff7, 0x2808, 0x4910, 0x7d45, 0x2800, 0x3722, 0x0, 0x0);
        gbc.writeMem(0x4ff7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2808);
        EXPECT(gbc.pc(), 0x4ff9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01F4
        gbc.setState(0xd7c0, 0x3881, 0x4140, 0xfaa0, 0xe6, 0x3bb2, 0x1, 0x1);
        gbc.writeMem(0xd7c0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x3881);
        EXPECT(gbc.pc(), 0xd7c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c0), 0xcb);
        EXPECT(gbc.readMem(0xd7c1), 0xe5);
        // CB E5 01F5
        gbc.setState(0x5118, 0x3dbf, 0xd9d0, 0x4cdd, 0x8391, 0xedff, 0x0, 0x1);
        gbc.writeMem(0x5118, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x3dbf);
        EXPECT(gbc.pc(), 0x511a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01F6
        gbc.setState(0x1c8b, 0xa31b, 0x7bb0, 0x4431, 0xc72a, 0xb3d7, 0x1, 0x0);
        gbc.writeMem(0x1c8b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa31b);
        EXPECT(gbc.pc(), 0x1c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01F7
        gbc.setState(0xc265, 0x837a, 0x9010, 0x3023, 0x4f4e, 0x70b9, 0x0, 0x1);
        gbc.writeMem(0xc265, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x837a);
        EXPECT(gbc.pc(), 0xc267);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc265), 0xcb);
        EXPECT(gbc.readMem(0xc266), 0xe5);
        // CB E5 01F8
        gbc.setState(0xbb29, 0x67a5, 0xdb60, 0x9ba2, 0x41fb, 0x49ac, 0x0, 0x1);
        gbc.writeMem(0xbb29, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x67a5);
        EXPECT(gbc.pc(), 0xbb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb29), 0xcb);
        EXPECT(gbc.readMem(0xbb2a), 0xe5);
        // CB E5 01F9
        gbc.setState(0x796f, 0xb57, 0xf640, 0xd5bb, 0xeace, 0x69d3, 0x0, 0x0);
        gbc.writeMem(0x796f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb57);
        EXPECT(gbc.pc(), 0x7971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 01FA
        gbc.setState(0x5a89, 0xedee, 0xde30, 0xf3b3, 0x1ac6, 0xe4a7, 0x1, 0x0);
        gbc.writeMem(0x5a89, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xedee);
        EXPECT(gbc.pc(), 0x5a8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01FB
        gbc.setState(0x7d86, 0xd4eb, 0x6230, 0xb8cb, 0x3e2e, 0x94d6, 0x1, 0x1);
        gbc.writeMem(0x7d86, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd4eb);
        EXPECT(gbc.pc(), 0x7d88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 01FD
        gbc.setState(0xc8e1, 0xa313, 0x57b0, 0x1aba, 0xbc60, 0xfb65, 0x1, 0x0);
        gbc.writeMem(0xc8e1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa313);
        EXPECT(gbc.pc(), 0xc8e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8e1), 0xcb);
        EXPECT(gbc.readMem(0xc8e2), 0xe5);
        // CB E5 01FE
        gbc.setState(0x88ad, 0xe1aa, 0x860, 0x8b23, 0xf143, 0x2172, 0x0, 0x0);
        gbc.writeMem(0x88ad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe1aa);
        EXPECT(gbc.pc(), 0x88af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88ad), 0xcb);
        EXPECT(gbc.readMem(0x88ae), 0xe5);
        // CB E5 01FF
        gbc.setState(0x734d, 0xb46f, 0xf310, 0xb754, 0x82a5, 0x1914, 0x1, 0x1);
        gbc.writeMem(0x734d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xb46f);
        EXPECT(gbc.pc(), 0x734f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0200
        gbc.setState(0x98e1, 0x4796, 0xe640, 0xc140, 0x1417, 0x67b0, 0x1, 0x1);
        gbc.writeMem(0x98e1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4796);
        EXPECT(gbc.pc(), 0x98e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98e1), 0xcb);
        EXPECT(gbc.readMem(0x98e2), 0xe5);
        // CB E5 0201
        gbc.setState(0xd1a, 0xa649, 0xe1b0, 0x3949, 0xd3b5, 0xb814, 0x0, 0x0);
        gbc.writeMem(0xd1a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa649);
        EXPECT(gbc.pc(), 0xd1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0203
        gbc.setState(0xd604, 0xb394, 0x6aa0, 0x61f2, 0xb5a1, 0x8d59, 0x1, 0x1);
        gbc.writeMem(0xd604, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb394);
        EXPECT(gbc.pc(), 0xd606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd604), 0xcb);
        EXPECT(gbc.readMem(0xd605), 0xe5);
        // CB E5 0204
        gbc.setState(0x8b7e, 0x4157, 0xfff0, 0x830b, 0x1e36, 0x8ddc, 0x1, 0x1);
        gbc.writeMem(0x8b7e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4157);
        EXPECT(gbc.pc(), 0x8b80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b7e), 0xcb);
        EXPECT(gbc.readMem(0x8b7f), 0xe5);
        // CB E5 0205
        gbc.setState(0x28e5, 0x9b6a, 0xcef0, 0x8529, 0x63de, 0xcd69, 0x0, 0x1);
        gbc.writeMem(0x28e5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9b6a);
        EXPECT(gbc.pc(), 0x28e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0206
        gbc.setState(0xbfce, 0x1522, 0x8200, 0xbaf7, 0x628, 0x2449, 0x1, 0x1);
        gbc.writeMem(0xbfce, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x1522);
        EXPECT(gbc.pc(), 0xbfd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfce), 0xcb);
        EXPECT(gbc.readMem(0xbfcf), 0xe5);
        // CB E5 0207
        gbc.setState(0x66d, 0xf192, 0x4ad0, 0x2837, 0xa3d7, 0x5dfb, 0x1, 0x1);
        gbc.writeMem(0x66d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xf192);
        EXPECT(gbc.pc(), 0x66f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0208
        gbc.setState(0xc2c, 0xb054, 0xbcc0, 0x3737, 0x3511, 0x85ca, 0x0, 0x1);
        gbc.writeMem(0xc2c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb054);
        EXPECT(gbc.pc(), 0xc2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0209
        gbc.setState(0xbb94, 0x75a3, 0xdf40, 0xd75a, 0x191f, 0x3e4c, 0x1, 0x0);
        gbc.writeMem(0xbb94, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x75a3);
        EXPECT(gbc.pc(), 0xbb96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb94), 0xcb);
        EXPECT(gbc.readMem(0xbb95), 0xe5);
        // CB E5 020A
        gbc.setState(0x875c, 0x41fc, 0xb190, 0x909b, 0xe44e, 0xa5a1, 0x1, 0x1);
        gbc.writeMem(0x875c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x41fc);
        EXPECT(gbc.pc(), 0x875e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875c), 0xcb);
        EXPECT(gbc.readMem(0x875d), 0xe5);
        // CB E5 020B
        gbc.setState(0xe0a2, 0x3117, 0x9d50, 0x65bf, 0xeaa9, 0xba30, 0x0, 0x0);
        gbc.writeMem(0xe0a2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3117);
        EXPECT(gbc.pc(), 0xe0a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0a2), 0xcb);
        EXPECT(gbc.readMem(0xe0a3), 0xe5);
        // CB E5 020C
        gbc.setState(0x127c, 0x933a, 0x3dc0, 0xe2da, 0xc13b, 0xfe2b, 0x1, 0x1);
        gbc.writeMem(0x127c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x933a);
        EXPECT(gbc.pc(), 0x127e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 020D
        gbc.setState(0x16ad, 0x1480, 0xed50, 0xa91b, 0x960f, 0x7ddd, 0x1, 0x1);
        gbc.writeMem(0x16ad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1480);
        EXPECT(gbc.pc(), 0x16af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 020E
        gbc.setState(0x457, 0xc957, 0xe2c0, 0x5109, 0xb871, 0xc92, 0x1, 0x1);
        gbc.writeMem(0x457, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc957);
        EXPECT(gbc.pc(), 0x459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 020F
        gbc.setState(0xb1a4, 0xfff1, 0x80, 0x2ee, 0xfb04, 0xa8e6, 0x1, 0x0);
        gbc.writeMem(0xb1a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xfff1);
        EXPECT(gbc.pc(), 0xb1a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1a4), 0xcb);
        EXPECT(gbc.readMem(0xb1a5), 0xe5);
        // CB E5 0211
        gbc.setState(0x4226, 0x9da, 0xe300, 0xb89b, 0x6ab4, 0xbea8, 0x0, 0x1);
        gbc.writeMem(0x4226, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9da);
        EXPECT(gbc.pc(), 0x4228);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0213
        gbc.setState(0x5a17, 0x2981, 0xbb90, 0x4ee7, 0xc3e8, 0x4876, 0x0, 0x1);
        gbc.writeMem(0x5a17, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2981);
        EXPECT(gbc.pc(), 0x5a19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0214
        gbc.setState(0xd833, 0xc30b, 0x75b0, 0x819e, 0xe3ce, 0x3162, 0x1, 0x1);
        gbc.writeMem(0xd833, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc30b);
        EXPECT(gbc.pc(), 0xd835);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd833), 0xcb);
        EXPECT(gbc.readMem(0xd834), 0xe5);
        // CB E5 0215
        gbc.setState(0x903, 0xf36f, 0x62d0, 0xa231, 0xa964, 0xf136, 0x1, 0x1);
        gbc.writeMem(0x903, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf36f);
        EXPECT(gbc.pc(), 0x905);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0216
        gbc.setState(0x9144, 0xe01c, 0xccb0, 0xff7, 0x9e9b, 0xb85c, 0x1, 0x1);
        gbc.writeMem(0x9144, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe01c);
        EXPECT(gbc.pc(), 0x9146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9144), 0xcb);
        EXPECT(gbc.readMem(0x9145), 0xe5);
        // CB E5 0217
        gbc.setState(0xb313, 0x5b61, 0xda60, 0xe1d6, 0x3311, 0xac16, 0x0, 0x0);
        gbc.writeMem(0xb313, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5b61);
        EXPECT(gbc.pc(), 0xb315);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb313), 0xcb);
        EXPECT(gbc.readMem(0xb314), 0xe5);
        // CB E5 0218
        gbc.setState(0x6eed, 0xebbe, 0xf3c0, 0x93bd, 0xd952, 0x17f, 0x0, 0x0);
        gbc.writeMem(0x6eed, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xebbe);
        EXPECT(gbc.pc(), 0x6eef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0219
        gbc.setState(0x53fd, 0xc092, 0x9a50, 0x52a2, 0xb128, 0x1d1, 0x1, 0x1);
        gbc.writeMem(0x53fd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc092);
        EXPECT(gbc.pc(), 0x53ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 021A
        gbc.setState(0xdb40, 0x8064, 0xf0f0, 0x6ad7, 0x93f3, 0x1259, 0x1, 0x1);
        gbc.writeMem(0xdb40, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8064);
        EXPECT(gbc.pc(), 0xdb42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb40), 0xcb);
        EXPECT(gbc.readMem(0xdb41), 0xe5);
        // CB E5 021B
        gbc.setState(0x3567, 0x841e, 0x3530, 0x2ae, 0x1521, 0xcf14, 0x0, 0x1);
        gbc.writeMem(0x3567, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x841e);
        EXPECT(gbc.pc(), 0x3569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 021C
        gbc.setState(0x1f5e, 0xbd2c, 0x66e0, 0x3b2d, 0x3e33, 0xaa0c, 0x1, 0x1);
        gbc.writeMem(0x1f5e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xbd2c);
        EXPECT(gbc.pc(), 0x1f60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 021D
        gbc.setState(0x2833, 0x5132, 0x61b0, 0xabda, 0x13bd, 0x67d2, 0x0, 0x0);
        gbc.writeMem(0x2833, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5132);
        EXPECT(gbc.pc(), 0x2835);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 021E
        gbc.setState(0xd47, 0xf1a0, 0xd930, 0x3990, 0xd174, 0xdbbc, 0x0, 0x0);
        gbc.writeMem(0xd47, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf1a0);
        EXPECT(gbc.pc(), 0xd49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 021F
        gbc.setState(0xe5fc, 0x5864, 0xcae0, 0x554, 0xe3b, 0x1b39, 0x0, 0x0);
        gbc.writeMem(0xe5fc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5864);
        EXPECT(gbc.pc(), 0xe5fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5fc), 0xcb);
        EXPECT(gbc.readMem(0xe5fd), 0xe5);
        // CB E5 0220
        gbc.setState(0x56c5, 0xbe23, 0x90e0, 0xd79e, 0x721e, 0xa76d, 0x0, 0x1);
        gbc.writeMem(0x56c5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xbe23);
        EXPECT(gbc.pc(), 0x56c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0221
        gbc.setState(0x7bf2, 0x64aa, 0x5580, 0xd5ce, 0xf0a3, 0x18e8, 0x1, 0x1);
        gbc.writeMem(0x7bf2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x64aa);
        EXPECT(gbc.pc(), 0x7bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0222
        gbc.setState(0x10ea, 0x6823, 0x5670, 0x9d60, 0x1eb1, 0xfb44, 0x0, 0x0);
        gbc.writeMem(0x10ea, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6823);
        EXPECT(gbc.pc(), 0x10ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0223
        gbc.setState(0xdb55, 0x4238, 0x83c0, 0x3e5e, 0xfe1e, 0x1447, 0x0, 0x1);
        gbc.writeMem(0xdb55, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4238);
        EXPECT(gbc.pc(), 0xdb57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb55), 0xcb);
        EXPECT(gbc.readMem(0xdb56), 0xe5);
        // CB E5 0224
        gbc.setState(0x2778, 0x7d3b, 0x6fa0, 0xcdb8, 0x6e68, 0xc2ad, 0x1, 0x1);
        gbc.writeMem(0x2778, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7d3b);
        EXPECT(gbc.pc(), 0x277a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0225
        gbc.setState(0x19f0, 0x87ad, 0x2be0, 0xd0df, 0xb599, 0x1c8e, 0x0, 0x0);
        gbc.writeMem(0x19f0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x87ad);
        EXPECT(gbc.pc(), 0x19f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0226
        gbc.setState(0xe716, 0x9578, 0xc470, 0xf45c, 0x29c3, 0xe519, 0x0, 0x0);
        gbc.writeMem(0xe716, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9578);
        EXPECT(gbc.pc(), 0xe718);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe716), 0xcb);
        EXPECT(gbc.readMem(0xe717), 0xe5);
        // CB E5 0227
        gbc.setState(0x4ab6, 0xba22, 0x3f30, 0x81b1, 0xafe8, 0xb06, 0x1, 0x0);
        gbc.writeMem(0x4ab6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xba22);
        EXPECT(gbc.pc(), 0x4ab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0228
        gbc.setState(0xeb90, 0xb067, 0xe0e0, 0x6a2c, 0x1828, 0x149e, 0x1, 0x1);
        gbc.writeMem(0xeb90, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb067);
        EXPECT(gbc.pc(), 0xeb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb90), 0xcb);
        EXPECT(gbc.readMem(0xeb91), 0xe5);
        // CB E5 0229
        gbc.setState(0x3ed3, 0x37e8, 0x7c20, 0x430d, 0x5c22, 0x35a2, 0x0, 0x0);
        gbc.writeMem(0x3ed3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x37e8);
        EXPECT(gbc.pc(), 0x3ed5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 022A
        gbc.setState(0x23a4, 0x769b, 0xd500, 0x91f4, 0x36e2, 0x52cb, 0x0, 0x1);
        gbc.writeMem(0x23a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x769b);
        EXPECT(gbc.pc(), 0x23a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 022B
        gbc.setState(0x34c4, 0x6f1e, 0x9900, 0x1562, 0xd414, 0x147e, 0x1, 0x0);
        gbc.writeMem(0x34c4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6f1e);
        EXPECT(gbc.pc(), 0x34c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 022C
        gbc.setState(0xa5e7, 0xaab3, 0x7a30, 0x7e9e, 0x9fb7, 0x5a51, 0x0, 0x1);
        gbc.writeMem(0xa5e7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xaab3);
        EXPECT(gbc.pc(), 0xa5e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e7), 0xcb);
        EXPECT(gbc.readMem(0xa5e8), 0xe5);
        // CB E5 022D
        gbc.setState(0xac24, 0x4316, 0x4580, 0xa306, 0xccd9, 0x45b2, 0x0, 0x0);
        gbc.writeMem(0xac24, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4316);
        EXPECT(gbc.pc(), 0xac26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac24), 0xcb);
        EXPECT(gbc.readMem(0xac25), 0xe5);
        // CB E5 022E
        gbc.setState(0x5583, 0x8224, 0xf80, 0x5716, 0x70ae, 0x895a, 0x1, 0x1);
        gbc.writeMem(0x5583, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8224);
        EXPECT(gbc.pc(), 0x5585);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 022F
        gbc.setState(0x6fca, 0x5824, 0xa560, 0x2f3a, 0x17b7, 0xff34, 0x1, 0x1);
        gbc.writeMem(0x6fca, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5824);
        EXPECT(gbc.pc(), 0x6fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0230
        gbc.setState(0xad4d, 0xe44c, 0x8060, 0xbd36, 0xa390, 0xdb48, 0x0, 0x0);
        gbc.writeMem(0xad4d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe44c);
        EXPECT(gbc.pc(), 0xad4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad4d), 0xcb);
        EXPECT(gbc.readMem(0xad4e), 0xe5);
        // CB E5 0231
        gbc.setState(0x9e53, 0xb42b, 0xf170, 0xaebc, 0x101, 0xafee, 0x0, 0x0);
        gbc.writeMem(0x9e53, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb42b);
        EXPECT(gbc.pc(), 0x9e55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e53), 0xcb);
        EXPECT(gbc.readMem(0x9e54), 0xe5);
        // CB E5 0232
        gbc.setState(0x49f7, 0x284c, 0xe430, 0xca20, 0xff66, 0x26a2, 0x1, 0x0);
        gbc.writeMem(0x49f7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x284c);
        EXPECT(gbc.pc(), 0x49f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0233
        gbc.setState(0x90d8, 0xd8bd, 0xf3c0, 0x22bf, 0xc17c, 0x85ec, 0x0, 0x1);
        gbc.writeMem(0x90d8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd8bd);
        EXPECT(gbc.pc(), 0x90da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d8), 0xcb);
        EXPECT(gbc.readMem(0x90d9), 0xe5);
        // CB E5 0234
        gbc.setState(0x84aa, 0x7b69, 0x3760, 0x6926, 0xaa8a, 0xd589, 0x0, 0x0);
        gbc.writeMem(0x84aa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x7b69);
        EXPECT(gbc.pc(), 0x84ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84aa), 0xcb);
        EXPECT(gbc.readMem(0x84ab), 0xe5);
        // CB E5 0235
        gbc.setState(0x4574, 0xaf3e, 0xee60, 0x1d7a, 0x859, 0xcaa4, 0x0, 0x0);
        gbc.writeMem(0x4574, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xaf3e);
        EXPECT(gbc.pc(), 0x4576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0236
        gbc.setState(0x52b1, 0x5489, 0xa270, 0x3a29, 0x1d84, 0x7d06, 0x0, 0x0);
        gbc.writeMem(0x52b1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5489);
        EXPECT(gbc.pc(), 0x52b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0237
        gbc.setState(0x214e, 0x9f7d, 0x67b0, 0x7377, 0xa62c, 0x1eee, 0x0, 0x1);
        gbc.writeMem(0x214e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9f7d);
        EXPECT(gbc.pc(), 0x2150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0239
        gbc.setState(0x381, 0x4e7, 0xad40, 0x764a, 0x8bb1, 0xc050, 0x1, 0x1);
        gbc.writeMem(0x381, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4e7);
        EXPECT(gbc.pc(), 0x383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 023A
        gbc.setState(0xdbc, 0x9583, 0x8540, 0xeb88, 0x49f7, 0x16d, 0x0, 0x0);
        gbc.writeMem(0xdbc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9583);
        EXPECT(gbc.pc(), 0xdbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 023B
        gbc.setState(0x1cc7, 0x6a16, 0x72f0, 0xb06e, 0xebed, 0x3b95, 0x1, 0x1);
        gbc.writeMem(0x1cc7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6a16);
        EXPECT(gbc.pc(), 0x1cc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 023C
        gbc.setState(0x146, 0xab9a, 0xd060, 0xf7d, 0xd962, 0x9024, 0x1, 0x0);
        gbc.writeMem(0x146, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xab9a);
        EXPECT(gbc.pc(), 0x148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 023D
        gbc.setState(0xa1e8, 0xccd4, 0xd300, 0x388c, 0xe749, 0x8112, 0x0, 0x0);
        gbc.writeMem(0xa1e8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xccd4);
        EXPECT(gbc.pc(), 0xa1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e8), 0xcb);
        EXPECT(gbc.readMem(0xa1e9), 0xe5);
        // CB E5 023E
        gbc.setState(0x983, 0x167e, 0x40b0, 0x7887, 0xafbe, 0xeb9f, 0x1, 0x0);
        gbc.writeMem(0x983, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x167e);
        EXPECT(gbc.pc(), 0x985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 023F
        gbc.setState(0x37b6, 0x75d0, 0x3140, 0xd9b8, 0xa39, 0xcfb7, 0x1, 0x1);
        gbc.writeMem(0x37b6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x75d0);
        EXPECT(gbc.pc(), 0x37b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0240
        gbc.setState(0x4153, 0xc5aa, 0x5f60, 0x479b, 0x549d, 0xae72, 0x1, 0x0);
        gbc.writeMem(0x4153, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc5aa);
        EXPECT(gbc.pc(), 0x4155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0241
        gbc.setState(0x8887, 0x2487, 0x1ce0, 0x90c0, 0x99a3, 0xa25, 0x0, 0x1);
        gbc.writeMem(0x8887, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2487);
        EXPECT(gbc.pc(), 0x8889);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8887), 0xcb);
        EXPECT(gbc.readMem(0x8888), 0xe5);
        // CB E5 0242
        gbc.setState(0xe48d, 0xa3d, 0xa800, 0x62f5, 0xc5a9, 0x8c0b, 0x1, 0x0);
        gbc.writeMem(0xe48d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa3d);
        EXPECT(gbc.pc(), 0xe48f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe48d), 0xcb);
        EXPECT(gbc.readMem(0xe48e), 0xe5);
        // CB E5 0243
        gbc.setState(0xac32, 0xd6a, 0x440, 0x9b63, 0x9878, 0x1d5b, 0x1, 0x0);
        gbc.writeMem(0xac32, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xd6a);
        EXPECT(gbc.pc(), 0xac34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac32), 0xcb);
        EXPECT(gbc.readMem(0xac33), 0xe5);
        // CB E5 0244
        gbc.setState(0xc821, 0xb7b3, 0xdc60, 0xd56b, 0x9f16, 0x4c2b, 0x0, 0x1);
        gbc.writeMem(0xc821, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb7b3);
        EXPECT(gbc.pc(), 0xc823);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc821), 0xcb);
        EXPECT(gbc.readMem(0xc822), 0xe5);
        // CB E5 0245
        gbc.setState(0x97cf, 0x4e6, 0xe340, 0x445a, 0xc931, 0xdc7d, 0x1, 0x1);
        gbc.writeMem(0x97cf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x4e6);
        EXPECT(gbc.pc(), 0x97d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97cf), 0xcb);
        EXPECT(gbc.readMem(0x97d0), 0xe5);
        // CB E5 0246
        gbc.setState(0xaaa5, 0x5843, 0x55f0, 0x8bad, 0x41c1, 0x5653, 0x0, 0x1);
        gbc.writeMem(0xaaa5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5843);
        EXPECT(gbc.pc(), 0xaaa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa5), 0xcb);
        EXPECT(gbc.readMem(0xaaa6), 0xe5);
        // CB E5 0247
        gbc.setState(0x9c2a, 0x1b8b, 0xa8f0, 0x4d77, 0x8f02, 0x3408, 0x0, 0x0);
        gbc.writeMem(0x9c2a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1b8b);
        EXPECT(gbc.pc(), 0x9c2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c2a), 0xcb);
        EXPECT(gbc.readMem(0x9c2b), 0xe5);
        // CB E5 0248
        gbc.setState(0x1b63, 0x4416, 0x9470, 0xf821, 0x1afa, 0x878, 0x1, 0x0);
        gbc.writeMem(0x1b63, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x4416);
        EXPECT(gbc.pc(), 0x1b65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0249
        gbc.setState(0xe926, 0x729e, 0xeb0, 0x1bf5, 0xef0a, 0x235f, 0x0, 0x0);
        gbc.writeMem(0xe926, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x729e);
        EXPECT(gbc.pc(), 0xe928);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe926), 0xcb);
        EXPECT(gbc.readMem(0xe927), 0xe5);
        // CB E5 024A
        gbc.setState(0x2876, 0x3d77, 0x6230, 0xafe5, 0xadeb, 0x7081, 0x0, 0x0);
        gbc.writeMem(0x2876, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3d77);
        EXPECT(gbc.pc(), 0x2878);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 024C
        gbc.setState(0x5dd9, 0xb0cb, 0x97b0, 0x7fb3, 0x65de, 0xbcb4, 0x1, 0x0);
        gbc.writeMem(0x5dd9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb0cb);
        EXPECT(gbc.pc(), 0x5ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 024D
        gbc.setState(0xb685, 0xc8cd, 0xa340, 0x1e20, 0x625d, 0xac6d, 0x1, 0x1);
        gbc.writeMem(0xb685, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc8cd);
        EXPECT(gbc.pc(), 0xb687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb685), 0xcb);
        EXPECT(gbc.readMem(0xb686), 0xe5);
        // CB E5 024E
        gbc.setState(0x9861, 0x66bd, 0x4c50, 0x8ae9, 0x26fd, 0x853c, 0x1, 0x0);
        gbc.writeMem(0x9861, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x66bd);
        EXPECT(gbc.pc(), 0x9863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9861), 0xcb);
        EXPECT(gbc.readMem(0x9862), 0xe5);
        // CB E5 024F
        gbc.setState(0x6432, 0x59fc, 0x3bc0, 0xabe1, 0x7115, 0xadc7, 0x1, 0x0);
        gbc.writeMem(0x6432, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x59fc);
        EXPECT(gbc.pc(), 0x6434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0250
        gbc.setState(0xad7a, 0xab70, 0x7990, 0x4c83, 0x63da, 0x52ac, 0x0, 0x0);
        gbc.writeMem(0xad7a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xab70);
        EXPECT(gbc.pc(), 0xad7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad7a), 0xcb);
        EXPECT(gbc.readMem(0xad7b), 0xe5);
        // CB E5 0251
        gbc.setState(0x1d48, 0x1ca5, 0x22c0, 0xf1a2, 0x55af, 0xaebe, 0x0, 0x1);
        gbc.writeMem(0x1d48, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1ca5);
        EXPECT(gbc.pc(), 0x1d4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0252
        gbc.setState(0x3687, 0x63d0, 0x53c0, 0x85a0, 0x5ee8, 0x7cad, 0x0, 0x1);
        gbc.writeMem(0x3687, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x63d0);
        EXPECT(gbc.pc(), 0x3689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0253
        gbc.setState(0x82cb, 0x8bb4, 0x79b0, 0x9227, 0x3970, 0x1d73, 0x0, 0x0);
        gbc.writeMem(0x82cb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8bb4);
        EXPECT(gbc.pc(), 0x82cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82cb), 0xcb);
        EXPECT(gbc.readMem(0x82cc), 0xe5);
        // CB E5 0254
        gbc.setState(0x2586, 0x38b2, 0xcdc0, 0x8dda, 0x6404, 0x4748, 0x0, 0x1);
        gbc.writeMem(0x2586, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x38b2);
        EXPECT(gbc.pc(), 0x2588);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0255
        gbc.setState(0x12fe, 0xc7e, 0x5010, 0xfd31, 0x76a8, 0xf7fe, 0x1, 0x0);
        gbc.writeMem(0x12fe, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc7e);
        EXPECT(gbc.pc(), 0x1300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0256
        gbc.setState(0x12ea, 0x951b, 0xb330, 0x4691, 0x6836, 0x1ef1, 0x0, 0x0);
        gbc.writeMem(0x12ea, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x951b);
        EXPECT(gbc.pc(), 0x12ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0257
        gbc.setState(0x26cb, 0x3245, 0xb840, 0x7abb, 0x534d, 0x652e, 0x0, 0x0);
        gbc.writeMem(0x26cb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3245);
        EXPECT(gbc.pc(), 0x26cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0258
        gbc.setState(0x5b12, 0x7ccb, 0x9740, 0x618d, 0x5532, 0xb459, 0x1, 0x1);
        gbc.writeMem(0x5b12, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7ccb);
        EXPECT(gbc.pc(), 0x5b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0259
        gbc.setState(0xb1a3, 0x91f4, 0x7100, 0x6991, 0x6ec1, 0xcd6f, 0x1, 0x0);
        gbc.writeMem(0xb1a3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x91f4);
        EXPECT(gbc.pc(), 0xb1a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1a3), 0xcb);
        EXPECT(gbc.readMem(0xb1a4), 0xe5);
        // CB E5 025A
        gbc.setState(0x14a4, 0x95a1, 0x9c20, 0xa8a7, 0x4f47, 0x86c6, 0x0, 0x1);
        gbc.writeMem(0x14a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x95a1);
        EXPECT(gbc.pc(), 0x14a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 025B
        gbc.setState(0xd3ba, 0x97d9, 0xe8a0, 0x47cc, 0x2d4b, 0x86bf, 0x1, 0x1);
        gbc.writeMem(0xd3ba, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x97d9);
        EXPECT(gbc.pc(), 0xd3bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ba), 0xcb);
        EXPECT(gbc.readMem(0xd3bb), 0xe5);
        // CB E5 025C
        gbc.setState(0x3b61, 0xbb1a, 0xf790, 0x747b, 0xbb13, 0x2847, 0x0, 0x1);
        gbc.writeMem(0x3b61, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xbb1a);
        EXPECT(gbc.pc(), 0x3b63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 025D
        gbc.setState(0x490c, 0xf6d9, 0xcae0, 0xdee1, 0x7578, 0xcab3, 0x1, 0x0);
        gbc.writeMem(0x490c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf6d9);
        EXPECT(gbc.pc(), 0x490e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 025E
        gbc.setState(0x348f, 0xbee3, 0xc640, 0xe01, 0xe1ba, 0x5142, 0x0, 0x0);
        gbc.writeMem(0x348f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbee3);
        EXPECT(gbc.pc(), 0x3491);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 025F
        gbc.setState(0xb24d, 0x1086, 0x4410, 0x140c, 0xe1cf, 0xb140, 0x0, 0x1);
        gbc.writeMem(0xb24d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x1086);
        EXPECT(gbc.pc(), 0xb24f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb24d), 0xcb);
        EXPECT(gbc.readMem(0xb24e), 0xe5);
        // CB E5 0260
        gbc.setState(0x8b2f, 0x5ba4, 0xe9e0, 0xf5e3, 0x7e5c, 0x81af, 0x0, 0x0);
        gbc.writeMem(0x8b2f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5ba4);
        EXPECT(gbc.pc(), 0x8b31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b2f), 0xcb);
        EXPECT(gbc.readMem(0x8b30), 0xe5);
        // CB E5 0261
        gbc.setState(0x6302, 0xbe96, 0x28d0, 0x22fa, 0x179a, 0x7c56, 0x0, 0x0);
        gbc.writeMem(0x6302, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xbe96);
        EXPECT(gbc.pc(), 0x6304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0262
        gbc.setState(0xd6b2, 0x8170, 0x1b10, 0x971f, 0x8f1a, 0x25e9, 0x0, 0x0);
        gbc.writeMem(0xd6b2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8170);
        EXPECT(gbc.pc(), 0xd6b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6b2), 0xcb);
        EXPECT(gbc.readMem(0xd6b3), 0xe5);
        // CB E5 0263
        gbc.setState(0x2ae4, 0x6c11, 0x6940, 0xc54, 0xa2b5, 0x6fdc, 0x1, 0x0);
        gbc.writeMem(0x2ae4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6c11);
        EXPECT(gbc.pc(), 0x2ae6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0265
        gbc.setState(0xc8a7, 0x8f86, 0x1170, 0x3612, 0xb4ec, 0x275b, 0x1, 0x0);
        gbc.writeMem(0xc8a7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x8f86);
        EXPECT(gbc.pc(), 0xc8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8a7), 0xcb);
        EXPECT(gbc.readMem(0xc8a8), 0xe5);
        // CB E5 0266
        gbc.setState(0x7f0a, 0xfa0d, 0x2ba0, 0x2a5d, 0x4032, 0xd9ec, 0x0, 0x0);
        gbc.writeMem(0x7f0a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xfa0d);
        EXPECT(gbc.pc(), 0x7f0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0267
        gbc.setState(0x2960, 0x2750, 0xd9a0, 0x185, 0x90d1, 0xab38, 0x1, 0x1);
        gbc.writeMem(0x2960, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2750);
        EXPECT(gbc.pc(), 0x2962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0268
        gbc.setState(0x8b24, 0x12e0, 0xac80, 0x5992, 0x541f, 0x5780, 0x1, 0x1);
        gbc.writeMem(0x8b24, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x12e0);
        EXPECT(gbc.pc(), 0x8b26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b24), 0xcb);
        EXPECT(gbc.readMem(0x8b25), 0xe5);
        // CB E5 026A
        gbc.setState(0xe7b7, 0xacdc, 0xfc30, 0x9642, 0xb6a, 0x64c4, 0x1, 0x1);
        gbc.writeMem(0xe7b7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xacdc);
        EXPECT(gbc.pc(), 0xe7b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7b7), 0xcb);
        EXPECT(gbc.readMem(0xe7b8), 0xe5);
        // CB E5 026B
        gbc.setState(0x9083, 0x10be, 0x1b00, 0x828, 0xb14f, 0x3d31, 0x1, 0x1);
        gbc.writeMem(0x9083, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x10be);
        EXPECT(gbc.pc(), 0x9085);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9083), 0xcb);
        EXPECT(gbc.readMem(0x9084), 0xe5);
        // CB E5 026C
        gbc.setState(0xcfad, 0x46f7, 0x7ea0, 0x285b, 0xe077, 0xa42f, 0x1, 0x0);
        gbc.writeMem(0xcfad, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x46f7);
        EXPECT(gbc.pc(), 0xcfaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfad), 0xcb);
        EXPECT(gbc.readMem(0xcfae), 0xe5);
        // CB E5 026D
        gbc.setState(0x3ffe, 0x7a6d, 0x8b0, 0xa45f, 0x1449, 0x4033, 0x0, 0x0);
        gbc.writeMem(0x3ffe, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x7a6d);
        EXPECT(gbc.pc(), 0x4000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 026E
        gbc.setState(0x10c, 0xa3b7, 0x59c0, 0x9d0b, 0xec48, 0x9549, 0x1, 0x1);
        gbc.writeMem(0x10c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xa3b7);
        EXPECT(gbc.pc(), 0x10e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0270
        gbc.setState(0xd5f3, 0xc512, 0xc5f0, 0x39b0, 0x21d8, 0xc280, 0x0, 0x0);
        gbc.writeMem(0xd5f3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc512);
        EXPECT(gbc.pc(), 0xd5f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5f3), 0xcb);
        EXPECT(gbc.readMem(0xd5f4), 0xe5);
        // CB E5 0271
        gbc.setState(0xaf2c, 0x12f8, 0x8d50, 0x38db, 0xfc52, 0x581a, 0x0, 0x0);
        gbc.writeMem(0xaf2c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x12f8);
        EXPECT(gbc.pc(), 0xaf2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf2c), 0xcb);
        EXPECT(gbc.readMem(0xaf2d), 0xe5);
        // CB E5 0272
        gbc.setState(0x7461, 0x972a, 0x8640, 0x3d16, 0x192f, 0x2919, 0x0, 0x1);
        gbc.writeMem(0x7461, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x972a);
        EXPECT(gbc.pc(), 0x7463);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0273
        gbc.setState(0x7432, 0x6c0f, 0x3620, 0x3281, 0x16f, 0x2a0b, 0x1, 0x1);
        gbc.writeMem(0x7432, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6c0f);
        EXPECT(gbc.pc(), 0x7434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0274
        gbc.setState(0xe83b, 0xc2b2, 0x7ef0, 0x3321, 0x8ab2, 0x4ece, 0x0, 0x0);
        gbc.writeMem(0xe83b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc2b2);
        EXPECT(gbc.pc(), 0xe83d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe83b), 0xcb);
        EXPECT(gbc.readMem(0xe83c), 0xe5);
        // CB E5 0275
        gbc.setState(0xcfaf, 0xee7f, 0xa840, 0x71f5, 0x102, 0x7ca5, 0x0, 0x0);
        gbc.writeMem(0xcfaf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xee7f);
        EXPECT(gbc.pc(), 0xcfb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfaf), 0xcb);
        EXPECT(gbc.readMem(0xcfb0), 0xe5);
        // CB E5 0276
        gbc.setState(0x524a, 0x5bfe, 0x3f90, 0xf4e4, 0xa602, 0xc775, 0x0, 0x1);
        gbc.writeMem(0x524a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5bfe);
        EXPECT(gbc.pc(), 0x524c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0277
        gbc.setState(0x6cb, 0x8671, 0x9830, 0x17ba, 0xf618, 0xb3b6, 0x0, 0x1);
        gbc.writeMem(0x6cb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8671);
        EXPECT(gbc.pc(), 0x6cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0278
        gbc.setState(0x4d51, 0xc4d0, 0x1610, 0x5fdb, 0xe295, 0x2f7, 0x1, 0x0);
        gbc.writeMem(0x4d51, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc4d0);
        EXPECT(gbc.pc(), 0x4d53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0279
        gbc.setState(0x4e64, 0xd11c, 0x8100, 0xc134, 0xda26, 0x10cb, 0x1, 0x1);
        gbc.writeMem(0x4e64, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd11c);
        EXPECT(gbc.pc(), 0x4e66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 027A
        gbc.setState(0xa9a7, 0xd2bd, 0xd4c0, 0x769d, 0x3f14, 0x21ba, 0x1, 0x1);
        gbc.writeMem(0xa9a7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd2bd);
        EXPECT(gbc.pc(), 0xa9a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9a7), 0xcb);
        EXPECT(gbc.readMem(0xa9a8), 0xe5);
        // CB E5 027B
        gbc.setState(0x42fd, 0x9438, 0xd3e0, 0x6e6, 0xe3db, 0x7b92, 0x0, 0x0);
        gbc.writeMem(0x42fd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9438);
        EXPECT(gbc.pc(), 0x42ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 027C
        gbc.setState(0x74a1, 0xfb14, 0xabc0, 0xe3d2, 0xa1a9, 0x5e52, 0x1, 0x1);
        gbc.writeMem(0x74a1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xfb14);
        EXPECT(gbc.pc(), 0x74a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 027D
        gbc.setState(0x355f, 0x96a6, 0x9190, 0x968b, 0xc2ba, 0x3ea1, 0x1, 0x1);
        gbc.writeMem(0x355f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x96a6);
        EXPECT(gbc.pc(), 0x3561);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 027E
        gbc.setState(0xad08, 0xef3b, 0x72f0, 0xfb1a, 0x164c, 0x964c, 0x1, 0x1);
        gbc.writeMem(0xad08, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xef3b);
        EXPECT(gbc.pc(), 0xad0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad08), 0xcb);
        EXPECT(gbc.readMem(0xad09), 0xe5);
        // CB E5 027F
        gbc.setState(0xb81e, 0xecdf, 0x8cd0, 0xab66, 0xba77, 0x5a4a, 0x1, 0x0);
        gbc.writeMem(0xb81e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xecdf);
        EXPECT(gbc.pc(), 0xb820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb81e), 0xcb);
        EXPECT(gbc.readMem(0xb81f), 0xe5);
        // CB E5 0280
        gbc.setState(0xc560, 0x98cb, 0x4ae0, 0x650a, 0x3e9e, 0x2a4d, 0x0, 0x0);
        gbc.writeMem(0xc560, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x98cb);
        EXPECT(gbc.pc(), 0xc562);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc560), 0xcb);
        EXPECT(gbc.readMem(0xc561), 0xe5);
        // CB E5 0281
        gbc.setState(0x5049, 0x2c29, 0x42a0, 0xf5a4, 0xb47c, 0x89b2, 0x1, 0x0);
        gbc.writeMem(0x5049, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2c29);
        EXPECT(gbc.pc(), 0x504b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0282
        gbc.setState(0x9792, 0xfd4f, 0xcbe0, 0x723c, 0x3d41, 0xe8cc, 0x1, 0x0);
        gbc.writeMem(0x9792, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfd4f);
        EXPECT(gbc.pc(), 0x9794);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9792), 0xcb);
        EXPECT(gbc.readMem(0x9793), 0xe5);
        // CB E5 0283
        gbc.setState(0xdd13, 0x76d1, 0xe700, 0xea30, 0x75cb, 0xd0c1, 0x0, 0x0);
        gbc.writeMem(0xdd13, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x76d1);
        EXPECT(gbc.pc(), 0xdd15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd13), 0xcb);
        EXPECT(gbc.readMem(0xdd14), 0xe5);
        // CB E5 0284
        gbc.setState(0x7b31, 0x56e8, 0x9690, 0xb679, 0x15c4, 0xc27b, 0x0, 0x0);
        gbc.writeMem(0x7b31, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x56e8);
        EXPECT(gbc.pc(), 0x7b33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0285
        gbc.setState(0x6896, 0x2462, 0xbc0, 0x373, 0xe705, 0x6ae4, 0x1, 0x0);
        gbc.writeMem(0x6896, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2462);
        EXPECT(gbc.pc(), 0x6898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0286
        gbc.setState(0x36f9, 0x68c5, 0xff0, 0x348e, 0x49c5, 0x4dbd, 0x1, 0x1);
        gbc.writeMem(0x36f9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x68c5);
        EXPECT(gbc.pc(), 0x36fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0287
        gbc.setState(0xb07d, 0x8a57, 0xc180, 0xb08d, 0x5eea, 0xfce9, 0x0, 0x1);
        gbc.writeMem(0xb07d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8a57);
        EXPECT(gbc.pc(), 0xb07f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb07d), 0xcb);
        EXPECT(gbc.readMem(0xb07e), 0xe5);
        // CB E5 0288
        gbc.setState(0x1f22, 0xe225, 0xc0c0, 0x1114, 0x4068, 0x540d, 0x0, 0x1);
        gbc.writeMem(0x1f22, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe225);
        EXPECT(gbc.pc(), 0x1f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0289
        gbc.setState(0x1ea3, 0x40e4, 0xf80, 0x86c6, 0xfb5a, 0x3946, 0x0, 0x1);
        gbc.writeMem(0x1ea3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x40e4);
        EXPECT(gbc.pc(), 0x1ea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 028A
        gbc.setState(0x5a01, 0x4cb, 0x2b10, 0xb980, 0x6aaf, 0xbc11, 0x1, 0x0);
        gbc.writeMem(0x5a01, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4cb);
        EXPECT(gbc.pc(), 0x5a03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 028B
        gbc.setState(0x9b84, 0x415e, 0xfe70, 0x914d, 0xe367, 0x51c7, 0x1, 0x0);
        gbc.writeMem(0x9b84, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x415e);
        EXPECT(gbc.pc(), 0x9b86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b84), 0xcb);
        EXPECT(gbc.readMem(0x9b85), 0xe5);
        // CB E5 028C
        gbc.setState(0x3dff, 0x5c9d, 0x2520, 0x3ffc, 0xc29a, 0x6eed, 0x0, 0x1);
        gbc.writeMem(0x3dff, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5c9d);
        EXPECT(gbc.pc(), 0x3e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 028D
        gbc.setState(0x3ed3, 0xd2b7, 0xa2d0, 0xc5ce, 0x5b39, 0x9304, 0x1, 0x1);
        gbc.writeMem(0x3ed3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xd2b7);
        EXPECT(gbc.pc(), 0x3ed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 028F
        gbc.setState(0x933e, 0xa336, 0x5c00, 0xc15a, 0xc3c8, 0xcb54, 0x1, 0x0);
        gbc.writeMem(0x933e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa336);
        EXPECT(gbc.pc(), 0x9340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933e), 0xcb);
        EXPECT(gbc.readMem(0x933f), 0xe5);
        // CB E5 0290
        gbc.setState(0xe317, 0xe37c, 0x12a0, 0xe5b8, 0xa2b2, 0x4b6e, 0x0, 0x1);
        gbc.writeMem(0xe317, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe37c);
        EXPECT(gbc.pc(), 0xe319);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe317), 0xcb);
        EXPECT(gbc.readMem(0xe318), 0xe5);
        // CB E5 0291
        gbc.setState(0xd245, 0x2ec8, 0xa1e0, 0x3d82, 0xb524, 0x1401, 0x1, 0x1);
        gbc.writeMem(0xd245, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2ec8);
        EXPECT(gbc.pc(), 0xd247);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd245), 0xcb);
        EXPECT(gbc.readMem(0xd246), 0xe5);
        // CB E5 0292
        gbc.setState(0x3184, 0x88d5, 0x94b0, 0xe8a3, 0x31d6, 0x623f, 0x0, 0x0);
        gbc.writeMem(0x3184, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x88d5);
        EXPECT(gbc.pc(), 0x3186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0293
        gbc.setState(0x6b8d, 0xad41, 0x1000, 0x16fa, 0xb605, 0x9582, 0x1, 0x0);
        gbc.writeMem(0x6b8d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xad41);
        EXPECT(gbc.pc(), 0x6b8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0294
        gbc.setState(0x8200, 0x8a50, 0x8760, 0x5f3b, 0xa7b2, 0x4220, 0x0, 0x0);
        gbc.writeMem(0x8200, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8a50);
        EXPECT(gbc.pc(), 0x8202);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8200), 0xcb);
        EXPECT(gbc.readMem(0x8201), 0xe5);
        // CB E5 0295
        gbc.setState(0xae4a, 0x4ce3, 0xc040, 0xe6ac, 0xd8e5, 0xc396, 0x0, 0x0);
        gbc.writeMem(0xae4a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x4ce3);
        EXPECT(gbc.pc(), 0xae4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae4a), 0xcb);
        EXPECT(gbc.readMem(0xae4b), 0xe5);
        // CB E5 0296
        gbc.setState(0x3efd, 0xbb58, 0xde40, 0xb48f, 0x5d39, 0x2a81, 0x1, 0x1);
        gbc.writeMem(0x3efd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xbb58);
        EXPECT(gbc.pc(), 0x3eff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0297
        gbc.setState(0x5636, 0xcfcc, 0x9fa0, 0x7e23, 0xe08b, 0xed42, 0x1, 0x1);
        gbc.writeMem(0x5636, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xcfcc);
        EXPECT(gbc.pc(), 0x5638);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0298
        gbc.setState(0xb7d7, 0x739a, 0x1ca0, 0x3282, 0xc330, 0xc9e7, 0x1, 0x0);
        gbc.writeMem(0xb7d7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x739a);
        EXPECT(gbc.pc(), 0xb7d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d7), 0xcb);
        EXPECT(gbc.readMem(0xb7d8), 0xe5);
        // CB E5 0299
        gbc.setState(0x3f4, 0xacec, 0xc350, 0xbebb, 0x5f8e, 0xd459, 0x0, 0x0);
        gbc.writeMem(0x3f4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xacec);
        EXPECT(gbc.pc(), 0x3f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 029A
        gbc.setState(0x2da0, 0x9bfa, 0xb660, 0x1cb6, 0x7fc7, 0x77b4, 0x1, 0x1);
        gbc.writeMem(0x2da0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9bfa);
        EXPECT(gbc.pc(), 0x2da2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 029B
        gbc.setState(0x765d, 0x775a, 0x2c20, 0x3490, 0x98be, 0xc41d, 0x1, 0x1);
        gbc.writeMem(0x765d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x775a);
        EXPECT(gbc.pc(), 0x765f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 029C
        gbc.setState(0x1d19, 0x6da1, 0x9f90, 0x8375, 0x9f62, 0xc7a6, 0x1, 0x1);
        gbc.writeMem(0x1d19, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6da1);
        EXPECT(gbc.pc(), 0x1d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 029D
        gbc.setState(0xb210, 0x8888, 0xf7f0, 0xf3d8, 0x6a64, 0xa10d, 0x0, 0x0);
        gbc.writeMem(0xb210, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8888);
        EXPECT(gbc.pc(), 0xb212);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb210), 0xcb);
        EXPECT(gbc.readMem(0xb211), 0xe5);
        // CB E5 029E
        gbc.setState(0x4cd5, 0x75ff, 0xae00, 0xa18d, 0x58, 0xfd2c, 0x0, 0x1);
        gbc.writeMem(0x4cd5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x75ff);
        EXPECT(gbc.pc(), 0x4cd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 029F
        gbc.setState(0x9b2a, 0x7e78, 0x91d0, 0x6a83, 0xd582, 0xbd92, 0x1, 0x1);
        gbc.writeMem(0x9b2a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7e78);
        EXPECT(gbc.pc(), 0x9b2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b2a), 0xcb);
        EXPECT(gbc.readMem(0x9b2b), 0xe5);
        // CB E5 02A0
        gbc.setState(0x39fc, 0x47a8, 0x65b0, 0x8a55, 0x3224, 0x1104, 0x0, 0x1);
        gbc.writeMem(0x39fc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x47a8);
        EXPECT(gbc.pc(), 0x39fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02A1
        gbc.setState(0x434a, 0x72f2, 0x9540, 0xf7ac, 0x67ce, 0x1040, 0x1, 0x1);
        gbc.writeMem(0x434a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x72f2);
        EXPECT(gbc.pc(), 0x434c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02A2
        gbc.setState(0x5010, 0xff1, 0x7ec0, 0xf604, 0xd2e6, 0xd40a, 0x0, 0x0);
        gbc.writeMem(0x5010, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xff1);
        EXPECT(gbc.pc(), 0x5012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02A3
        gbc.setState(0x52ca, 0x7f43, 0xb3f0, 0xe332, 0xab03, 0xeb0e, 0x0, 0x1);
        gbc.writeMem(0x52ca, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7f43);
        EXPECT(gbc.pc(), 0x52cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02A4
        gbc.setState(0x715a, 0x58ee, 0xea0, 0xbcfd, 0xce97, 0x6a1f, 0x1, 0x1);
        gbc.writeMem(0x715a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x58ee);
        EXPECT(gbc.pc(), 0x715c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02A5
        gbc.setState(0x43ac, 0x2a50, 0xb40, 0x1c4b, 0x9604, 0x82ae, 0x0, 0x1);
        gbc.writeMem(0x43ac, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2a50);
        EXPECT(gbc.pc(), 0x43ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02A6
        gbc.setState(0x4897, 0xf368, 0x9e50, 0xb060, 0x1ca0, 0x6a7a, 0x0, 0x1);
        gbc.writeMem(0x4897, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf368);
        EXPECT(gbc.pc(), 0x4899);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02A7
        gbc.setState(0x30d2, 0xd216, 0xeea0, 0x624b, 0x66f1, 0xc01, 0x1, 0x0);
        gbc.writeMem(0x30d2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd216);
        EXPECT(gbc.pc(), 0x30d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02A8
        gbc.setState(0x869c, 0x963d, 0xb790, 0x897a, 0xe461, 0xd893, 0x0, 0x0);
        gbc.writeMem(0x869c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x963d);
        EXPECT(gbc.pc(), 0x869e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x869c), 0xcb);
        EXPECT(gbc.readMem(0x869d), 0xe5);
        // CB E5 02A9
        gbc.setState(0x2c9b, 0xabb7, 0xd950, 0x2609, 0xb644, 0x516a, 0x1, 0x1);
        gbc.writeMem(0x2c9b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xabb7);
        EXPECT(gbc.pc(), 0x2c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02AA
        gbc.setState(0x4b0f, 0x45f8, 0x7f20, 0xae3a, 0x6571, 0xfeb2, 0x1, 0x0);
        gbc.writeMem(0x4b0f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x45f8);
        EXPECT(gbc.pc(), 0x4b11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02AB
        gbc.setState(0xe35e, 0xca37, 0xca20, 0xde6c, 0x81ef, 0xac63, 0x1, 0x0);
        gbc.writeMem(0xe35e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xca37);
        EXPECT(gbc.pc(), 0xe360);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe35e), 0xcb);
        EXPECT(gbc.readMem(0xe35f), 0xe5);
        // CB E5 02AC
        gbc.setState(0xd33e, 0x84fc, 0xea80, 0xf94e, 0xc095, 0xbcc7, 0x0, 0x1);
        gbc.writeMem(0xd33e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x84fc);
        EXPECT(gbc.pc(), 0xd340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd33e), 0xcb);
        EXPECT(gbc.readMem(0xd33f), 0xe5);
        // CB E5 02AD
        gbc.setState(0x160f, 0xbd5f, 0x7480, 0x3592, 0xf7e0, 0x9ad6, 0x1, 0x0);
        gbc.writeMem(0x160f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xbd5f);
        EXPECT(gbc.pc(), 0x1611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02AE
        gbc.setState(0xa09, 0x6f41, 0x860, 0x90f4, 0x9852, 0x2f46, 0x1, 0x1);
        gbc.writeMem(0xa09, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6f41);
        EXPECT(gbc.pc(), 0xa0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02AF
        gbc.setState(0x2537, 0x162d, 0xa030, 0xf785, 0x1bed, 0x816c, 0x0, 0x0);
        gbc.writeMem(0x2537, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x162d);
        EXPECT(gbc.pc(), 0x2539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02B0
        gbc.setState(0x7ca0, 0xf755, 0xab50, 0x5fa8, 0x397, 0xd56f, 0x0, 0x0);
        gbc.writeMem(0x7ca0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf755);
        EXPECT(gbc.pc(), 0x7ca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02B1
        gbc.setState(0x5d9f, 0x6724, 0xfed0, 0xb958, 0x19af, 0xb373, 0x1, 0x0);
        gbc.writeMem(0x5d9f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6724);
        EXPECT(gbc.pc(), 0x5da1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02B2
        gbc.setState(0xfcc, 0x7f74, 0xd2c0, 0x9195, 0x7651, 0xe83c, 0x1, 0x0);
        gbc.writeMem(0xfcc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7f74);
        EXPECT(gbc.pc(), 0xfce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02B3
        gbc.setState(0x810f, 0xf2a1, 0xa710, 0xbbe4, 0x5de9, 0x1863, 0x1, 0x0);
        gbc.writeMem(0x810f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf2a1);
        EXPECT(gbc.pc(), 0x8111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x810f), 0xcb);
        EXPECT(gbc.readMem(0x8110), 0xe5);
        // CB E5 02B5
        gbc.setState(0x7af3, 0xbc6f, 0xe140, 0x787, 0x445f, 0x14f8, 0x0, 0x0);
        gbc.writeMem(0x7af3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbc6f);
        EXPECT(gbc.pc(), 0x7af5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02B6
        gbc.setState(0xe5a4, 0x9bb0, 0xb3b0, 0x6c78, 0x2920, 0x1dc7, 0x1, 0x1);
        gbc.writeMem(0xe5a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x9bb0);
        EXPECT(gbc.pc(), 0xe5a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5a4), 0xcb);
        EXPECT(gbc.readMem(0xe5a5), 0xe5);
        // CB E5 02B7
        gbc.setState(0x21be, 0xcd05, 0xc120, 0x399d, 0x5d77, 0x5644, 0x0, 0x1);
        gbc.writeMem(0x21be, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xcd05);
        EXPECT(gbc.pc(), 0x21c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02B8
        gbc.setState(0x1dd6, 0xeb59, 0x3a10, 0x5149, 0xaee7, 0x4e2b, 0x1, 0x0);
        gbc.writeMem(0x1dd6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xeb59);
        EXPECT(gbc.pc(), 0x1dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02B9
        gbc.setState(0x23b0, 0x5137, 0x2940, 0xb39f, 0x9c1f, 0xd668, 0x0, 0x0);
        gbc.writeMem(0x23b0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5137);
        EXPECT(gbc.pc(), 0x23b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02BA
        gbc.setState(0x7355, 0x99d9, 0xa8c0, 0xfc5d, 0xbb9, 0x794, 0x1, 0x0);
        gbc.writeMem(0x7355, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x99d9);
        EXPECT(gbc.pc(), 0x7357);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02BB
        gbc.setState(0x6057, 0xd394, 0xf210, 0x96e, 0x7cc8, 0x25d3, 0x1, 0x0);
        gbc.writeMem(0x6057, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd394);
        EXPECT(gbc.pc(), 0x6059);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02BC
        gbc.setState(0x982f, 0x4c13, 0xc550, 0xc311, 0x336, 0x4833, 0x0, 0x0);
        gbc.writeMem(0x982f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4c13);
        EXPECT(gbc.pc(), 0x9831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x982f), 0xcb);
        EXPECT(gbc.readMem(0x9830), 0xe5);
        // CB E5 02BE
        gbc.setState(0xde9, 0x477, 0xa3e0, 0xb05b, 0x4afb, 0x473e, 0x0, 0x0);
        gbc.writeMem(0xde9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x477);
        EXPECT(gbc.pc(), 0xdeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02C0
        gbc.setState(0x2534, 0xe787, 0x46b0, 0xc76d, 0xef53, 0x78fd, 0x1, 0x0);
        gbc.writeMem(0x2534, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe787);
        EXPECT(gbc.pc(), 0x2536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02C2
        gbc.setState(0x7949, 0x4f8f, 0x8a50, 0x4aaf, 0xa77b, 0xa347, 0x1, 0x1);
        gbc.writeMem(0x7949, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4f8f);
        EXPECT(gbc.pc(), 0x794b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02C3
        gbc.setState(0xb992, 0x8b3b, 0x31a0, 0xbaed, 0xcd69, 0xb422, 0x1, 0x0);
        gbc.writeMem(0xb992, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8b3b);
        EXPECT(gbc.pc(), 0xb994);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb992), 0xcb);
        EXPECT(gbc.readMem(0xb993), 0xe5);
        // CB E5 02C4
        gbc.setState(0x82ac, 0x24d4, 0x5d0, 0x6bd6, 0x55e1, 0xd4bb, 0x0, 0x0);
        gbc.writeMem(0x82ac, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x24d4);
        EXPECT(gbc.pc(), 0x82ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82ac), 0xcb);
        EXPECT(gbc.readMem(0x82ad), 0xe5);
        // CB E5 02C5
        gbc.setState(0xdd71, 0x614c, 0xb350, 0x5da3, 0x668c, 0x8001, 0x1, 0x1);
        gbc.writeMem(0xdd71, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x614c);
        EXPECT(gbc.pc(), 0xdd73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd71), 0xcb);
        EXPECT(gbc.readMem(0xdd72), 0xe5);
        // CB E5 02C6
        gbc.setState(0x3abd, 0xc8ab, 0xbff0, 0xfdeb, 0xf348, 0xccde, 0x0, 0x0);
        gbc.writeMem(0x3abd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xc8ab);
        EXPECT(gbc.pc(), 0x3abf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02C7
        gbc.setState(0x3ee6, 0x5a25, 0xdc00, 0x9fea, 0x4991, 0x6fc2, 0x0, 0x1);
        gbc.writeMem(0x3ee6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5a25);
        EXPECT(gbc.pc(), 0x3ee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02C8
        gbc.setState(0xe95e, 0xaeda, 0xbf70, 0x9024, 0x942e, 0x502, 0x1, 0x0);
        gbc.writeMem(0xe95e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xaeda);
        EXPECT(gbc.pc(), 0xe960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe95e), 0xcb);
        EXPECT(gbc.readMem(0xe95f), 0xe5);
        // CB E5 02C9
        gbc.setState(0x8394, 0x8cb8, 0x81f0, 0x8a5a, 0xc43, 0x660, 0x0, 0x1);
        gbc.writeMem(0x8394, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8cb8);
        EXPECT(gbc.pc(), 0x8396);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8394), 0xcb);
        EXPECT(gbc.readMem(0x8395), 0xe5);
        // CB E5 02CA
        gbc.setState(0x725d, 0x6eb1, 0x1b10, 0xcf64, 0x6f07, 0x7743, 0x0, 0x1);
        gbc.writeMem(0x725d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6eb1);
        EXPECT(gbc.pc(), 0x725f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02CB
        gbc.setState(0x12ae, 0xb5f3, 0x2200, 0xc772, 0x8, 0x92c4, 0x0, 0x1);
        gbc.writeMem(0x12ae, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb5f3);
        EXPECT(gbc.pc(), 0x12b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02CC
        gbc.setState(0x7997, 0x710, 0x7f80, 0x457d, 0xea21, 0x24e0, 0x0, 0x1);
        gbc.writeMem(0x7997, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x710);
        EXPECT(gbc.pc(), 0x7999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02CD
        gbc.setState(0xc763, 0x9bae, 0xbfe0, 0x4a08, 0x3b8c, 0x4ae2, 0x1, 0x0);
        gbc.writeMem(0xc763, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9bae);
        EXPECT(gbc.pc(), 0xc765);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc763), 0xcb);
        EXPECT(gbc.readMem(0xc764), 0xe5);
        // CB E5 02CE
        gbc.setState(0xaaf1, 0x713c, 0x6d00, 0xafec, 0x7373, 0x9b0a, 0x1, 0x0);
        gbc.writeMem(0xaaf1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x713c);
        EXPECT(gbc.pc(), 0xaaf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf1), 0xcb);
        EXPECT(gbc.readMem(0xaaf2), 0xe5);
        // CB E5 02CF
        gbc.setState(0x9a2, 0x81cd, 0xa210, 0x9a76, 0x39b, 0xefb6, 0x1, 0x1);
        gbc.writeMem(0x9a2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x81cd);
        EXPECT(gbc.pc(), 0x9a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02D0
        gbc.setState(0x1231, 0x2666, 0xa1c0, 0x99a8, 0x4c47, 0x9322, 0x0, 0x0);
        gbc.writeMem(0x1231, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2666);
        EXPECT(gbc.pc(), 0x1233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02D1
        gbc.setState(0xd8ce, 0x2942, 0xfd60, 0xe4b1, 0x8824, 0x5b1a, 0x1, 0x1);
        gbc.writeMem(0xd8ce, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x2942);
        EXPECT(gbc.pc(), 0xd8d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ce), 0xcb);
        EXPECT(gbc.readMem(0xd8cf), 0xe5);
        // CB E5 02D2
        gbc.setState(0x4fa4, 0x4de1, 0x50, 0x8300, 0x7024, 0x3650, 0x1, 0x0);
        gbc.writeMem(0x4fa4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4de1);
        EXPECT(gbc.pc(), 0x4fa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02D3
        gbc.setState(0xb8f7, 0xd2ed, 0x2f40, 0x8bb3, 0x911, 0xbf07, 0x1, 0x0);
        gbc.writeMem(0xb8f7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd2ed);
        EXPECT(gbc.pc(), 0xb8f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f7), 0xcb);
        EXPECT(gbc.readMem(0xb8f8), 0xe5);
        // CB E5 02D4
        gbc.setState(0x951e, 0xf9a9, 0x390, 0xf0e2, 0xc3cb, 0xb4c3, 0x0, 0x1);
        gbc.writeMem(0x951e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xf9a9);
        EXPECT(gbc.pc(), 0x9520);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x951e), 0xcb);
        EXPECT(gbc.readMem(0x951f), 0xe5);
        // CB E5 02D5
        gbc.setState(0xeb9b, 0xd14d, 0xac90, 0x487, 0x653, 0x114a, 0x0, 0x1);
        gbc.writeMem(0xeb9b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xd14d);
        EXPECT(gbc.pc(), 0xeb9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb9b), 0xcb);
        EXPECT(gbc.readMem(0xeb9c), 0xe5);
        // CB E5 02D6
        gbc.setState(0xe51a, 0xd9ec, 0x9cc0, 0xc620, 0xba45, 0x5087, 0x1, 0x0);
        gbc.writeMem(0xe51a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd9ec);
        EXPECT(gbc.pc(), 0xe51c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51a), 0xcb);
        EXPECT(gbc.readMem(0xe51b), 0xe5);
        // CB E5 02D7
        gbc.setState(0x44e, 0x5458, 0x9000, 0xf8ad, 0x7f59, 0x63ed, 0x0, 0x0);
        gbc.writeMem(0x44e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5458);
        EXPECT(gbc.pc(), 0x450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02D8
        gbc.setState(0xc23c, 0x89a4, 0xe3a0, 0xc0c2, 0x8387, 0x154e, 0x0, 0x1);
        gbc.writeMem(0xc23c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x89a4);
        EXPECT(gbc.pc(), 0xc23e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc23c), 0xcb);
        EXPECT(gbc.readMem(0xc23d), 0xe5);
        // CB E5 02D9
        gbc.setState(0xc1dd, 0x1777, 0x2e10, 0x30c2, 0xa892, 0xdbdc, 0x1, 0x0);
        gbc.writeMem(0xc1dd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1777);
        EXPECT(gbc.pc(), 0xc1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1dd), 0xcb);
        EXPECT(gbc.readMem(0xc1de), 0xe5);
        // CB E5 02DA
        gbc.setState(0x7466, 0xb72, 0xef00, 0x8e6, 0xa89, 0x181b, 0x0, 0x1);
        gbc.writeMem(0x7466, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xb72);
        EXPECT(gbc.pc(), 0x7468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02DB
        gbc.setState(0xc1d1, 0x1fce, 0x9c50, 0x43e8, 0x7cd9, 0x1c7b, 0x0, 0x1);
        gbc.writeMem(0xc1d1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1fce);
        EXPECT(gbc.pc(), 0xc1d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1d1), 0xcb);
        EXPECT(gbc.readMem(0xc1d2), 0xe5);
        // CB E5 02DC
        gbc.setState(0x9ab7, 0x63b6, 0xc6d0, 0xfd83, 0x8cb7, 0x8578, 0x1, 0x1);
        gbc.writeMem(0x9ab7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x63b6);
        EXPECT(gbc.pc(), 0x9ab9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ab7), 0xcb);
        EXPECT(gbc.readMem(0x9ab8), 0xe5);
        // CB E5 02DD
        gbc.setState(0x4374, 0x7508, 0xcf10, 0x3dc1, 0x247a, 0xa6e4, 0x0, 0x1);
        gbc.writeMem(0x4374, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x7508);
        EXPECT(gbc.pc(), 0x4376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02DE
        gbc.setState(0x96b6, 0xfa68, 0xff30, 0xefd0, 0x2505, 0xcc80, 0x1, 0x0);
        gbc.writeMem(0x96b6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xfa68);
        EXPECT(gbc.pc(), 0x96b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96b6), 0xcb);
        EXPECT(gbc.readMem(0x96b7), 0xe5);
        // CB E5 02DF
        gbc.setState(0xc610, 0x3f12, 0x7570, 0xadcd, 0x2120, 0x638f, 0x1, 0x1);
        gbc.writeMem(0xc610, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3f12);
        EXPECT(gbc.pc(), 0xc612);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc610), 0xcb);
        EXPECT(gbc.readMem(0xc611), 0xe5);
        // CB E5 02E0
        gbc.setState(0x7353, 0xd85c, 0xbea0, 0xa590, 0x6f3c, 0x3240, 0x0, 0x1);
        gbc.writeMem(0x7353, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xd85c);
        EXPECT(gbc.pc(), 0x7355);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02E3
        gbc.setState(0x6c11, 0x9406, 0x1c80, 0xe86f, 0x94fe, 0x8af1, 0x1, 0x0);
        gbc.writeMem(0x6c11, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9406);
        EXPECT(gbc.pc(), 0x6c13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02E4
        gbc.setState(0x6734, 0x9c2, 0x43b0, 0x5ef7, 0x8ccb, 0x70f0, 0x1, 0x1);
        gbc.writeMem(0x6734, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9c2);
        EXPECT(gbc.pc(), 0x6736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02E5
        gbc.setState(0x6d81, 0x4c3e, 0x93f0, 0xdee8, 0x1fce, 0x6175, 0x0, 0x0);
        gbc.writeMem(0x6d81, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4c3e);
        EXPECT(gbc.pc(), 0x6d83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02E6
        gbc.setState(0xd5a4, 0x8577, 0x31c0, 0xa3cb, 0xf3fb, 0x4b49, 0x1, 0x1);
        gbc.writeMem(0xd5a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8577);
        EXPECT(gbc.pc(), 0xd5a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5a4), 0xcb);
        EXPECT(gbc.readMem(0xd5a5), 0xe5);
        // CB E5 02E7
        gbc.setState(0x3d8e, 0x7672, 0xbce0, 0x4c71, 0x97a6, 0x1105, 0x1, 0x0);
        gbc.writeMem(0x3d8e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7672);
        EXPECT(gbc.pc(), 0x3d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02E8
        gbc.setState(0x5567, 0xfb9c, 0x9260, 0x5320, 0x245d, 0x2f1d, 0x1, 0x1);
        gbc.writeMem(0x5567, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xfb9c);
        EXPECT(gbc.pc(), 0x5569);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02E9
        gbc.setState(0x3903, 0x4e18, 0xf070, 0x7331, 0xe058, 0xca4c, 0x0, 0x1);
        gbc.writeMem(0x3903, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4e18);
        EXPECT(gbc.pc(), 0x3905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02EA
        gbc.setState(0xe5d5, 0x82b5, 0xab70, 0x67ae, 0x540c, 0xeb3, 0x0, 0x1);
        gbc.writeMem(0xe5d5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x82b5);
        EXPECT(gbc.pc(), 0xe5d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5d5), 0xcb);
        EXPECT(gbc.readMem(0xe5d6), 0xe5);
        // CB E5 02EB
        gbc.setState(0x82f1, 0x3d7a, 0x6040, 0x36d, 0x304e, 0x3d3e, 0x1, 0x1);
        gbc.writeMem(0x82f1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3d7a);
        EXPECT(gbc.pc(), 0x82f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82f1), 0xcb);
        EXPECT(gbc.readMem(0x82f2), 0xe5);
        // CB E5 02EC
        gbc.setState(0x19f8, 0xc43c, 0x5b10, 0x7e99, 0x4786, 0x982f, 0x0, 0x1);
        gbc.writeMem(0x19f8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xc43c);
        EXPECT(gbc.pc(), 0x19fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02ED
        gbc.setState(0xc9dc, 0x46ac, 0xabf0, 0x3e98, 0x51ab, 0xb44e, 0x1, 0x0);
        gbc.writeMem(0xc9dc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x46ac);
        EXPECT(gbc.pc(), 0xc9de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9dc), 0xcb);
        EXPECT(gbc.readMem(0xc9dd), 0xe5);
        // CB E5 02EE
        gbc.setState(0x44a8, 0x68df, 0xe550, 0x25d7, 0xb0ea, 0x73dd, 0x0, 0x1);
        gbc.writeMem(0x44a8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x68df);
        EXPECT(gbc.pc(), 0x44aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02EF
        gbc.setState(0xac8c, 0xbfab, 0x83a0, 0x26c8, 0x1556, 0x5fd0, 0x1, 0x0);
        gbc.writeMem(0xac8c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbfab);
        EXPECT(gbc.pc(), 0xac8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac8c), 0xcb);
        EXPECT(gbc.readMem(0xac8d), 0xe5);
        // CB E5 02F1
        gbc.setState(0x518, 0x18b, 0x29e0, 0xd0e3, 0xb88f, 0x490a, 0x0, 0x1);
        gbc.writeMem(0x518, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x18b);
        EXPECT(gbc.pc(), 0x51a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02F2
        gbc.setState(0x5dcb, 0x81b6, 0x15c0, 0xbab8, 0xc879, 0x4826, 0x0, 0x0);
        gbc.writeMem(0x5dcb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x81b6);
        EXPECT(gbc.pc(), 0x5dcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02F3
        gbc.setState(0xa840, 0x6a36, 0x9430, 0x226a, 0x17ce, 0xc29d, 0x0, 0x0);
        gbc.writeMem(0xa840, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6a36);
        EXPECT(gbc.pc(), 0xa842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa840), 0xcb);
        EXPECT(gbc.readMem(0xa841), 0xe5);
        // CB E5 02F4
        gbc.setState(0x573d, 0x7401, 0x4420, 0xf75b, 0xfe6b, 0xec78, 0x0, 0x0);
        gbc.writeMem(0x573d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7401);
        EXPECT(gbc.pc(), 0x573f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02F5
        gbc.setState(0x60db, 0x8a27, 0x650, 0x6dae, 0xb1ad, 0xe1ba, 0x0, 0x1);
        gbc.writeMem(0x60db, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x8a27);
        EXPECT(gbc.pc(), 0x60dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02F6
        gbc.setState(0x7609, 0xc44e, 0x9130, 0x1984, 0x8125, 0x4cf2, 0x0, 0x1);
        gbc.writeMem(0x7609, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc44e);
        EXPECT(gbc.pc(), 0x760b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02F7
        gbc.setState(0xd715, 0x8f1e, 0x9570, 0x93a2, 0x4c0f, 0xc4bb, 0x1, 0x1);
        gbc.writeMem(0xd715, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8f1e);
        EXPECT(gbc.pc(), 0xd717);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd715), 0xcb);
        EXPECT(gbc.readMem(0xd716), 0xe5);
        // CB E5 02F8
        gbc.setState(0xda74, 0x1d6b, 0xbd10, 0x7fc9, 0xefcb, 0xfa25, 0x0, 0x1);
        gbc.writeMem(0xda74, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1d6b);
        EXPECT(gbc.pc(), 0xda76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda74), 0xcb);
        EXPECT(gbc.readMem(0xda75), 0xe5);
        // CB E5 02F9
        gbc.setState(0x97e3, 0xb673, 0xd930, 0x77d1, 0xfbb4, 0x7dc7, 0x0, 0x1);
        gbc.writeMem(0x97e3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb673);
        EXPECT(gbc.pc(), 0x97e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e3), 0xcb);
        EXPECT(gbc.readMem(0x97e4), 0xe5);
        // CB E5 02FA
        gbc.setState(0x3a57, 0xc3cc, 0x3910, 0x9d98, 0xf238, 0x103d, 0x1, 0x1);
        gbc.writeMem(0x3a57, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc3cc);
        EXPECT(gbc.pc(), 0x3a59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02FB
        gbc.setState(0x6002, 0x5c22, 0x60d0, 0x6626, 0xc3bc, 0x67d0, 0x0, 0x1);
        gbc.writeMem(0x6002, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5c22);
        EXPECT(gbc.pc(), 0x6004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 02FC
        gbc.setState(0x97c9, 0x9ac3, 0x5c0, 0x6332, 0x211c, 0x689e, 0x1, 0x0);
        gbc.writeMem(0x97c9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9ac3);
        EXPECT(gbc.pc(), 0x97cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c9), 0xcb);
        EXPECT(gbc.readMem(0x97ca), 0xe5);
        // CB E5 02FD
        gbc.setState(0x42b8, 0x2e6f, 0x83c0, 0x47a0, 0xbbb5, 0x6e22, 0x1, 0x0);
        gbc.writeMem(0x42b8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2e6f);
        EXPECT(gbc.pc(), 0x42ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 02FE
        gbc.setState(0xccba, 0x1916, 0x7030, 0xa21, 0x3a1e, 0xdc70, 0x0, 0x1);
        gbc.writeMem(0xccba, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1916);
        EXPECT(gbc.pc(), 0xccbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccba), 0xcb);
        EXPECT(gbc.readMem(0xccbb), 0xe5);
        // CB E5 0300
        gbc.setState(0x9947, 0xffa, 0xb1e0, 0x5140, 0x9c38, 0x68a7, 0x0, 0x1);
        gbc.writeMem(0x9947, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xffa);
        EXPECT(gbc.pc(), 0x9949);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9947), 0xcb);
        EXPECT(gbc.readMem(0x9948), 0xe5);
        // CB E5 0301
        gbc.setState(0xd358, 0xa459, 0xe1b0, 0x2b9c, 0xd9e0, 0x651e, 0x1, 0x1);
        gbc.writeMem(0xd358, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa459);
        EXPECT(gbc.pc(), 0xd35a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd358), 0xcb);
        EXPECT(gbc.readMem(0xd359), 0xe5);
        // CB E5 0302
        gbc.setState(0x9b67, 0x6088, 0xaeb0, 0xe5f0, 0x6b85, 0x40a6, 0x1, 0x1);
        gbc.writeMem(0x9b67, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6088);
        EXPECT(gbc.pc(), 0x9b69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b67), 0xcb);
        EXPECT(gbc.readMem(0x9b68), 0xe5);
        // CB E5 0303
        gbc.setState(0x2dd9, 0xb351, 0x3ea0, 0x84f4, 0xc3a8, 0x3730, 0x1, 0x0);
        gbc.writeMem(0x2dd9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb351);
        EXPECT(gbc.pc(), 0x2ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0304
        gbc.setState(0xaab7, 0x6ef0, 0xfb20, 0x5d60, 0xd65e, 0xea14, 0x1, 0x0);
        gbc.writeMem(0xaab7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6ef0);
        EXPECT(gbc.pc(), 0xaab9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaab7), 0xcb);
        EXPECT(gbc.readMem(0xaab8), 0xe5);
        // CB E5 0305
        gbc.setState(0x4eff, 0xfa1a, 0x7840, 0x3887, 0x2ea8, 0x55ed, 0x0, 0x0);
        gbc.writeMem(0x4eff, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xfa1a);
        EXPECT(gbc.pc(), 0x4f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0306
        gbc.setState(0xb47d, 0x8f10, 0x3d00, 0x4f38, 0x547e, 0x50fb, 0x0, 0x0);
        gbc.writeMem(0xb47d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8f10);
        EXPECT(gbc.pc(), 0xb47f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb47d), 0xcb);
        EXPECT(gbc.readMem(0xb47e), 0xe5);
        // CB E5 0308
        gbc.setState(0x49c5, 0xdc46, 0xb7b0, 0xcbb7, 0x7c63, 0x8a4d, 0x0, 0x0);
        gbc.writeMem(0x49c5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xdc46);
        EXPECT(gbc.pc(), 0x49c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 030A
        gbc.setState(0x4117, 0x347c, 0x1010, 0x49a9, 0x4578, 0xced5, 0x0, 0x1);
        gbc.writeMem(0x4117, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x347c);
        EXPECT(gbc.pc(), 0x4119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 030B
        gbc.setState(0xc9fb, 0x185f, 0x95a0, 0x496d, 0x12f4, 0xd223, 0x0, 0x0);
        gbc.writeMem(0xc9fb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x185f);
        EXPECT(gbc.pc(), 0xc9fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9fb), 0xcb);
        EXPECT(gbc.readMem(0xc9fc), 0xe5);
        // CB E5 030C
        gbc.setState(0x987b, 0x1d52, 0x8ed0, 0xa40e, 0x3ff7, 0xa871, 0x1, 0x0);
        gbc.writeMem(0x987b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x1d52);
        EXPECT(gbc.pc(), 0x987d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x987b), 0xcb);
        EXPECT(gbc.readMem(0x987c), 0xe5);
        // CB E5 030D
        gbc.setState(0x504c, 0xd3a3, 0xbbe0, 0xc926, 0xcceb, 0x420d, 0x0, 0x1);
        gbc.writeMem(0x504c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd3a3);
        EXPECT(gbc.pc(), 0x504e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 030E
        gbc.setState(0x5062, 0xaaf0, 0x1170, 0xc007, 0x35b1, 0xc291, 0x0, 0x1);
        gbc.writeMem(0x5062, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xaaf0);
        EXPECT(gbc.pc(), 0x5064);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 030F
        gbc.setState(0xbe0b, 0xe853, 0xe050, 0x66d9, 0x4f83, 0xbc43, 0x1, 0x1);
        gbc.writeMem(0xbe0b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe853);
        EXPECT(gbc.pc(), 0xbe0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe0b), 0xcb);
        EXPECT(gbc.readMem(0xbe0c), 0xe5);
        // CB E5 0310
        gbc.setState(0xd560, 0xfded, 0x8550, 0xa0c1, 0xa1dd, 0xdc75, 0x1, 0x0);
        gbc.writeMem(0xd560, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xfded);
        EXPECT(gbc.pc(), 0xd562);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd560), 0xcb);
        EXPECT(gbc.readMem(0xd561), 0xe5);
        // CB E5 0311
        gbc.setState(0x3283, 0xb7db, 0x3780, 0x9fd3, 0x6ae5, 0x548b, 0x1, 0x0);
        gbc.writeMem(0x3283, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb7db);
        EXPECT(gbc.pc(), 0x3285);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0312
        gbc.setState(0x8fbc, 0xd26e, 0x8bf0, 0xbae7, 0x8b35, 0x78cd, 0x0, 0x0);
        gbc.writeMem(0x8fbc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd26e);
        EXPECT(gbc.pc(), 0x8fbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fbc), 0xcb);
        EXPECT(gbc.readMem(0x8fbd), 0xe5);
        // CB E5 0313
        gbc.setState(0xb76e, 0x4874, 0x1fc0, 0x9a84, 0x20ad, 0x9ecb, 0x0, 0x0);
        gbc.writeMem(0xb76e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x4874);
        EXPECT(gbc.pc(), 0xb770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb76e), 0xcb);
        EXPECT(gbc.readMem(0xb76f), 0xe5);
        // CB E5 0314
        gbc.setState(0x4bcb, 0x64f9, 0x9170, 0x8f89, 0x2645, 0xbac5, 0x1, 0x1);
        gbc.writeMem(0x4bcb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x64f9);
        EXPECT(gbc.pc(), 0x4bcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0315
        gbc.setState(0xb1f2, 0xecc1, 0x7940, 0xe3b5, 0x8ba0, 0x3dd1, 0x0, 0x1);
        gbc.writeMem(0xb1f2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xecc1);
        EXPECT(gbc.pc(), 0xb1f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1f2), 0xcb);
        EXPECT(gbc.readMem(0xb1f3), 0xe5);
        // CB E5 0316
        gbc.setState(0x124f, 0x7695, 0x8860, 0x98d0, 0xdf92, 0x143f, 0x0, 0x0);
        gbc.writeMem(0x124f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x7695);
        EXPECT(gbc.pc(), 0x1251);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0317
        gbc.setState(0x6d4b, 0xc7f1, 0xa410, 0x1fa5, 0xc441, 0xe097, 0x1, 0x1);
        gbc.writeMem(0x6d4b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc7f1);
        EXPECT(gbc.pc(), 0x6d4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0318
        gbc.setState(0xcd65, 0x2e0, 0x3840, 0x198a, 0xb465, 0x508f, 0x1, 0x1);
        gbc.writeMem(0xcd65, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2e0);
        EXPECT(gbc.pc(), 0xcd67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd65), 0xcb);
        EXPECT(gbc.readMem(0xcd66), 0xe5);
        // CB E5 0319
        gbc.setState(0x3ed, 0x64c4, 0x7020, 0xeabc, 0x7a54, 0x5315, 0x1, 0x0);
        gbc.writeMem(0x3ed, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x64c4);
        EXPECT(gbc.pc(), 0x3ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 031A
        gbc.setState(0xa423, 0xdbef, 0x8890, 0xab97, 0xda8c, 0x664c, 0x1, 0x0);
        gbc.writeMem(0xa423, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xdbef);
        EXPECT(gbc.pc(), 0xa425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa423), 0xcb);
        EXPECT(gbc.readMem(0xa424), 0xe5);
        // CB E5 031B
        gbc.setState(0x2419, 0x4d8b, 0xd7b0, 0x43c4, 0x64b6, 0x7862, 0x0, 0x1);
        gbc.writeMem(0x2419, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4d8b);
        EXPECT(gbc.pc(), 0x241b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 031C
        gbc.setState(0xc3c4, 0xda2, 0xfef0, 0x90ff, 0xe329, 0x4bd4, 0x0, 0x0);
        gbc.writeMem(0xc3c4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xda2);
        EXPECT(gbc.pc(), 0xc3c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3c4), 0xcb);
        EXPECT(gbc.readMem(0xc3c5), 0xe5);
        // CB E5 031D
        gbc.setState(0xb3bb, 0x802a, 0x8b20, 0x4147, 0xe40, 0x9c1f, 0x1, 0x0);
        gbc.writeMem(0xb3bb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x802a);
        EXPECT(gbc.pc(), 0xb3bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3bb), 0xcb);
        EXPECT(gbc.readMem(0xb3bc), 0xe5);
        // CB E5 031E
        gbc.setState(0xc829, 0xeb28, 0x2aa0, 0x9740, 0xa051, 0x5e32, 0x1, 0x1);
        gbc.writeMem(0xc829, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xeb28);
        EXPECT(gbc.pc(), 0xc82b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc829), 0xcb);
        EXPECT(gbc.readMem(0xc82a), 0xe5);
        // CB E5 031F
        gbc.setState(0x487f, 0xdf51, 0x93f0, 0xd30c, 0x30dd, 0x3d35, 0x1, 0x1);
        gbc.writeMem(0x487f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xdf51);
        EXPECT(gbc.pc(), 0x4881);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0320
        gbc.setState(0x7c5c, 0x718, 0xceb0, 0xaea9, 0xd41b, 0xd89, 0x0, 0x0);
        gbc.writeMem(0x7c5c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x718);
        EXPECT(gbc.pc(), 0x7c5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0321
        gbc.setState(0x7243, 0x911a, 0x49c0, 0x4f0f, 0x6358, 0x76a8, 0x1, 0x1);
        gbc.writeMem(0x7243, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x911a);
        EXPECT(gbc.pc(), 0x7245);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0322
        gbc.setState(0xb155, 0xd59, 0xe7e0, 0x7cc6, 0xd18a, 0x7020, 0x0, 0x0);
        gbc.writeMem(0xb155, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd59);
        EXPECT(gbc.pc(), 0xb157);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb155), 0xcb);
        EXPECT(gbc.readMem(0xb156), 0xe5);
        // CB E5 0323
        gbc.setState(0xba8b, 0x57e7, 0xffe0, 0x50b8, 0xba3e, 0x637c, 0x0, 0x0);
        gbc.writeMem(0xba8b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x57e7);
        EXPECT(gbc.pc(), 0xba8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8b), 0xcb);
        EXPECT(gbc.readMem(0xba8c), 0xe5);
        // CB E5 0324
        gbc.setState(0x6448, 0x59, 0x85c0, 0x9120, 0xfd1b, 0xb6a1, 0x1, 0x0);
        gbc.writeMem(0x6448, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x59);
        EXPECT(gbc.pc(), 0x644a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0325
        gbc.setState(0xc076, 0x33aa, 0x540, 0xdd91, 0x31b5, 0xad5c, 0x1, 0x0);
        gbc.writeMem(0xc076, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x33aa);
        EXPECT(gbc.pc(), 0xc078);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc076), 0xcb);
        EXPECT(gbc.readMem(0xc077), 0xe5);
        // CB E5 0326
        gbc.setState(0x89cb, 0xaa10, 0xa9e0, 0xa04d, 0xa4d5, 0x14bb, 0x0, 0x0);
        gbc.writeMem(0x89cb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xaa10);
        EXPECT(gbc.pc(), 0x89cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89cb), 0xcb);
        EXPECT(gbc.readMem(0x89cc), 0xe5);
        // CB E5 0327
        gbc.setState(0x8dd, 0x7861, 0xe2c0, 0x464e, 0xb506, 0xa9b7, 0x1, 0x1);
        gbc.writeMem(0x8dd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7861);
        EXPECT(gbc.pc(), 0x8df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0328
        gbc.setState(0xdcf4, 0x7b9f, 0x3ec0, 0x62c2, 0x8118, 0x91b6, 0x0, 0x1);
        gbc.writeMem(0xdcf4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x7b9f);
        EXPECT(gbc.pc(), 0xdcf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcf4), 0xcb);
        EXPECT(gbc.readMem(0xdcf5), 0xe5);
        // CB E5 0329
        gbc.setState(0xde64, 0xe22a, 0xbd00, 0xafc3, 0x2e9b, 0x6c8b, 0x0, 0x0);
        gbc.writeMem(0xde64, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe22a);
        EXPECT(gbc.pc(), 0xde66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde64), 0xcb);
        EXPECT(gbc.readMem(0xde65), 0xe5);
        // CB E5 032A
        gbc.setState(0xb68d, 0xa51d, 0xe940, 0x3a7d, 0x9a7b, 0x7a81, 0x0, 0x1);
        gbc.writeMem(0xb68d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa51d);
        EXPECT(gbc.pc(), 0xb68f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68d), 0xcb);
        EXPECT(gbc.readMem(0xb68e), 0xe5);
        // CB E5 032B
        gbc.setState(0xe32b, 0xd711, 0xf040, 0x44f8, 0xb4ab, 0x1618, 0x1, 0x1);
        gbc.writeMem(0xe32b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd711);
        EXPECT(gbc.pc(), 0xe32d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe32b), 0xcb);
        EXPECT(gbc.readMem(0xe32c), 0xe5);
        // CB E5 032C
        gbc.setState(0x3e31, 0x6b1d, 0xf570, 0xfac7, 0x7af4, 0xfe8e, 0x1, 0x1);
        gbc.writeMem(0x3e31, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6b1d);
        EXPECT(gbc.pc(), 0x3e33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 032D
        gbc.setState(0xae86, 0x9115, 0xc2b0, 0xd7b8, 0x37ab, 0xa967, 0x1, 0x1);
        gbc.writeMem(0xae86, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x9115);
        EXPECT(gbc.pc(), 0xae88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae86), 0xcb);
        EXPECT(gbc.readMem(0xae87), 0xe5);
        // CB E5 032E
        gbc.setState(0x75dd, 0x803a, 0xabc0, 0x3c9b, 0x2c5c, 0x2e88, 0x0, 0x0);
        gbc.writeMem(0x75dd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x803a);
        EXPECT(gbc.pc(), 0x75df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 032F
        gbc.setState(0x6baa, 0x3d95, 0x4f40, 0xdf62, 0x9694, 0x4cb5, 0x0, 0x0);
        gbc.writeMem(0x6baa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3d95);
        EXPECT(gbc.pc(), 0x6bac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0330
        gbc.setState(0x9bb2, 0x3d79, 0x6530, 0x53dd, 0x7d2b, 0x47a4, 0x1, 0x0);
        gbc.writeMem(0x9bb2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3d79);
        EXPECT(gbc.pc(), 0x9bb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bb2), 0xcb);
        EXPECT(gbc.readMem(0x9bb3), 0xe5);
        // CB E5 0331
        gbc.setState(0xa8d8, 0x47be, 0x2000, 0x59b7, 0x4ba2, 0x6436, 0x0, 0x1);
        gbc.writeMem(0xa8d8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x47be);
        EXPECT(gbc.pc(), 0xa8da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d8), 0xcb);
        EXPECT(gbc.readMem(0xa8d9), 0xe5);
        // CB E5 0332
        gbc.setState(0xbbfd, 0x689d, 0xa520, 0x59ac, 0x579b, 0xda4a, 0x1, 0x1);
        gbc.writeMem(0xbbfd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x689d);
        EXPECT(gbc.pc(), 0xbbff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbfd), 0xcb);
        EXPECT(gbc.readMem(0xbbfe), 0xe5);
        // CB E5 0334
        gbc.setState(0xd2bc, 0x22a, 0x1f90, 0xbaef, 0xbe7, 0x90a1, 0x1, 0x0);
        gbc.writeMem(0xd2bc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x22a);
        EXPECT(gbc.pc(), 0xd2be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2bc), 0xcb);
        EXPECT(gbc.readMem(0xd2bd), 0xe5);
        // CB E5 0335
        gbc.setState(0x34f8, 0x955f, 0xf000, 0x5d46, 0xa686, 0x1b53, 0x0, 0x1);
        gbc.writeMem(0x34f8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x955f);
        EXPECT(gbc.pc(), 0x34fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0336
        gbc.setState(0x1ed4, 0x80ad, 0xc130, 0xa7af, 0x878, 0x3792, 0x0, 0x1);
        gbc.writeMem(0x1ed4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x80ad);
        EXPECT(gbc.pc(), 0x1ed6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0337
        gbc.setState(0xbeeb, 0x96db, 0xae50, 0x564c, 0x92b8, 0x4ea9, 0x0, 0x0);
        gbc.writeMem(0xbeeb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x96db);
        EXPECT(gbc.pc(), 0xbeed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeeb), 0xcb);
        EXPECT(gbc.readMem(0xbeec), 0xe5);
        // CB E5 033A
        gbc.setState(0xa352, 0xdc63, 0xc710, 0x1faa, 0xc0a8, 0x9d48, 0x0, 0x0);
        gbc.writeMem(0xa352, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xdc63);
        EXPECT(gbc.pc(), 0xa354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa352), 0xcb);
        EXPECT(gbc.readMem(0xa353), 0xe5);
        // CB E5 033B
        gbc.setState(0x43d9, 0x9c0c, 0x5460, 0x34d1, 0x2e6c, 0x674e, 0x0, 0x1);
        gbc.writeMem(0x43d9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x9c0c);
        EXPECT(gbc.pc(), 0x43db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 033C
        gbc.setState(0x9f65, 0xab24, 0xcaa0, 0x8ac4, 0x8b13, 0x4bf0, 0x0, 0x0);
        gbc.writeMem(0x9f65, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xab24);
        EXPECT(gbc.pc(), 0x9f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f65), 0xcb);
        EXPECT(gbc.readMem(0x9f66), 0xe5);
        // CB E5 033D
        gbc.setState(0x383e, 0x9816, 0x8bf0, 0x5b18, 0x507b, 0x7cfa, 0x1, 0x1);
        gbc.writeMem(0x383e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9816);
        EXPECT(gbc.pc(), 0x3840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 033E
        gbc.setState(0x7886, 0xd375, 0x6f50, 0xb8e4, 0x730d, 0x8d82, 0x0, 0x1);
        gbc.writeMem(0x7886, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd375);
        EXPECT(gbc.pc(), 0x7888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 033F
        gbc.setState(0xa5a4, 0xba9b, 0x1bb0, 0xe7a2, 0x5e3a, 0x79c, 0x1, 0x0);
        gbc.writeMem(0xa5a4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xba9b);
        EXPECT(gbc.pc(), 0xa5a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5a4), 0xcb);
        EXPECT(gbc.readMem(0xa5a5), 0xe5);
        // CB E5 0340
        gbc.setState(0xc679, 0xb563, 0x9980, 0x6d2f, 0x1f0a, 0x38c8, 0x1, 0x1);
        gbc.writeMem(0xc679, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb563);
        EXPECT(gbc.pc(), 0xc67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc679), 0xcb);
        EXPECT(gbc.readMem(0xc67a), 0xe5);
        // CB E5 0341
        gbc.setState(0x9d81, 0xd7ef, 0x4080, 0x8b5f, 0x7c20, 0x4069, 0x1, 0x1);
        gbc.writeMem(0x9d81, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd7ef);
        EXPECT(gbc.pc(), 0x9d83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d81), 0xcb);
        EXPECT(gbc.readMem(0x9d82), 0xe5);
        // CB E5 0342
        gbc.setState(0xb00e, 0x5b2f, 0x9d60, 0x56af, 0xc39d, 0x8a21, 0x0, 0x1);
        gbc.writeMem(0xb00e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5b2f);
        EXPECT(gbc.pc(), 0xb010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb00e), 0xcb);
        EXPECT(gbc.readMem(0xb00f), 0xe5);
        // CB E5 0343
        gbc.setState(0xa78d, 0x4b1a, 0xf240, 0xd23c, 0x502b, 0x2b6a, 0x1, 0x1);
        gbc.writeMem(0xa78d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4b1a);
        EXPECT(gbc.pc(), 0xa78f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa78d), 0xcb);
        EXPECT(gbc.readMem(0xa78e), 0xe5);
        // CB E5 0344
        gbc.setState(0x7a53, 0x848a, 0xd320, 0x10ec, 0x5766, 0x8d20, 0x0, 0x1);
        gbc.writeMem(0x7a53, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x848a);
        EXPECT(gbc.pc(), 0x7a55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0345
        gbc.setState(0xc354, 0xe044, 0x8520, 0xc02, 0x2d70, 0xf99c, 0x1, 0x0);
        gbc.writeMem(0xc354, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe044);
        EXPECT(gbc.pc(), 0xc356);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc354), 0xcb);
        EXPECT(gbc.readMem(0xc355), 0xe5);
        // CB E5 0346
        gbc.setState(0x9bdd, 0xa939, 0x2c0, 0x8e18, 0xe411, 0x47f7, 0x1, 0x0);
        gbc.writeMem(0x9bdd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa939);
        EXPECT(gbc.pc(), 0x9bdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bdd), 0xcb);
        EXPECT(gbc.readMem(0x9bde), 0xe5);
        // CB E5 0347
        gbc.setState(0x9925, 0x6be1, 0x21d0, 0x2a40, 0x1253, 0x4f9c, 0x1, 0x1);
        gbc.writeMem(0x9925, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6be1);
        EXPECT(gbc.pc(), 0x9927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9925), 0xcb);
        EXPECT(gbc.readMem(0x9926), 0xe5);
        // CB E5 0348
        gbc.setState(0xdd38, 0x34e1, 0x6d50, 0x15ad, 0x314, 0xb6b7, 0x1, 0x0);
        gbc.writeMem(0xdd38, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x34e1);
        EXPECT(gbc.pc(), 0xdd3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd38), 0xcb);
        EXPECT(gbc.readMem(0xdd39), 0xe5);
        // CB E5 0349
        gbc.setState(0x4cd0, 0x8044, 0x33a0, 0xce0a, 0x7eaf, 0x30af, 0x0, 0x1);
        gbc.writeMem(0x4cd0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8044);
        EXPECT(gbc.pc(), 0x4cd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 034A
        gbc.setState(0xe0c1, 0x8d4e, 0x6990, 0xee44, 0x7b9f, 0x4730, 0x0, 0x1);
        gbc.writeMem(0xe0c1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8d4e);
        EXPECT(gbc.pc(), 0xe0c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0c1), 0xcb);
        EXPECT(gbc.readMem(0xe0c2), 0xe5);
        // CB E5 034B
        gbc.setState(0x6f58, 0xc900, 0x9910, 0xf842, 0x54a4, 0x7a5a, 0x0, 0x0);
        gbc.writeMem(0x6f58, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc900);
        EXPECT(gbc.pc(), 0x6f5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 034C
        gbc.setState(0x5d19, 0x3048, 0x7980, 0x1406, 0xb010, 0x3e00, 0x0, 0x1);
        gbc.writeMem(0x5d19, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x3048);
        EXPECT(gbc.pc(), 0x5d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 034D
        gbc.setState(0x93b, 0xe1f6, 0xc5e0, 0x8c61, 0x6838, 0xeddd, 0x0, 0x0);
        gbc.writeMem(0x93b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe1f6);
        EXPECT(gbc.pc(), 0x93d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 034E
        gbc.setState(0x7432, 0xfab3, 0x12d0, 0xb4e4, 0xca13, 0x7f32, 0x1, 0x0);
        gbc.writeMem(0x7432, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfab3);
        EXPECT(gbc.pc(), 0x7434);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 034F
        gbc.setState(0x8734, 0x3e3a, 0x56f0, 0x6b8e, 0x3ac2, 0x4d82, 0x1, 0x0);
        gbc.writeMem(0x8734, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x3e3a);
        EXPECT(gbc.pc(), 0x8736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8734), 0xcb);
        EXPECT(gbc.readMem(0x8735), 0xe5);
        // CB E5 0350
        gbc.setState(0xa262, 0xeab4, 0xc670, 0xe743, 0xe11b, 0x74c5, 0x1, 0x0);
        gbc.writeMem(0xa262, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xeab4);
        EXPECT(gbc.pc(), 0xa264);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa262), 0xcb);
        EXPECT(gbc.readMem(0xa263), 0xe5);
        // CB E5 0351
        gbc.setState(0x19fe, 0x67b3, 0xa4c0, 0x408f, 0x3730, 0xb712, 0x0, 0x1);
        gbc.writeMem(0x19fe, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x67b3);
        EXPECT(gbc.pc(), 0x1a00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0352
        gbc.setState(0x94ea, 0xc175, 0xbeb0, 0x3c47, 0x805f, 0xb4b3, 0x1, 0x0);
        gbc.writeMem(0x94ea, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc175);
        EXPECT(gbc.pc(), 0x94ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94ea), 0xcb);
        EXPECT(gbc.readMem(0x94eb), 0xe5);
        // CB E5 0353
        gbc.setState(0xabfa, 0xb9c, 0xce10, 0x40d5, 0xd499, 0xbc8e, 0x0, 0x1);
        gbc.writeMem(0xabfa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb9c);
        EXPECT(gbc.pc(), 0xabfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabfa), 0xcb);
        EXPECT(gbc.readMem(0xabfb), 0xe5);
        // CB E5 0354
        gbc.setState(0xa744, 0x685, 0x1cc0, 0xddcb, 0x531e, 0xc6f1, 0x0, 0x0);
        gbc.writeMem(0xa744, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x685);
        EXPECT(gbc.pc(), 0xa746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa744), 0xcb);
        EXPECT(gbc.readMem(0xa745), 0xe5);
        // CB E5 0355
        gbc.setState(0xdde5, 0xf55d, 0xd2d0, 0x9f68, 0xdb67, 0xcf89, 0x0, 0x1);
        gbc.writeMem(0xdde5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf55d);
        EXPECT(gbc.pc(), 0xdde7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdde5), 0xcb);
        EXPECT(gbc.readMem(0xdde6), 0xe5);
        // CB E5 0356
        gbc.setState(0x456, 0xaabb, 0xfb50, 0x710b, 0x86f7, 0x8e72, 0x1, 0x0);
        gbc.writeMem(0x456, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xaabb);
        EXPECT(gbc.pc(), 0x458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0357
        gbc.setState(0x4f8, 0xa084, 0x4cd0, 0x2c70, 0xe992, 0x964d, 0x0, 0x1);
        gbc.writeMem(0x4f8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa084);
        EXPECT(gbc.pc(), 0x4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0358
        gbc.setState(0xc125, 0xb60, 0xb4e0, 0x9b58, 0x560, 0x25cc, 0x0, 0x1);
        gbc.writeMem(0xc125, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb60);
        EXPECT(gbc.pc(), 0xc127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc125), 0xcb);
        EXPECT(gbc.readMem(0xc126), 0xe5);
        // CB E5 0359
        gbc.setState(0x5d5a, 0xc70c, 0x8170, 0x51fc, 0x365f, 0xe383, 0x1, 0x1);
        gbc.writeMem(0x5d5a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc70c);
        EXPECT(gbc.pc(), 0x5d5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 035B
        gbc.setState(0x908e, 0x7683, 0xcf50, 0x9f31, 0xd0b9, 0xa23e, 0x1, 0x1);
        gbc.writeMem(0x908e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7683);
        EXPECT(gbc.pc(), 0x9090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x908e), 0xcb);
        EXPECT(gbc.readMem(0x908f), 0xe5);
        // CB E5 035C
        gbc.setState(0xc821, 0x1a40, 0x1a10, 0x9bc7, 0xeb05, 0xfbe2, 0x1, 0x1);
        gbc.writeMem(0xc821, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x1a40);
        EXPECT(gbc.pc(), 0xc823);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc821), 0xcb);
        EXPECT(gbc.readMem(0xc822), 0xe5);
        // CB E5 035D
        gbc.setState(0x5b50, 0x6f98, 0x80f0, 0x3ab5, 0x213f, 0xd420, 0x1, 0x0);
        gbc.writeMem(0x5b50, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6f98);
        EXPECT(gbc.pc(), 0x5b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 035E
        gbc.setState(0x871d, 0x8d44, 0x2ac0, 0xe1c1, 0x2d4d, 0xf5ec, 0x1, 0x1);
        gbc.writeMem(0x871d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8d44);
        EXPECT(gbc.pc(), 0x871f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x871d), 0xcb);
        EXPECT(gbc.readMem(0x871e), 0xe5);
        // CB E5 035F
        gbc.setState(0x7b09, 0x4948, 0x17e0, 0xef7f, 0xf699, 0x7375, 0x1, 0x1);
        gbc.writeMem(0x7b09, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4948);
        EXPECT(gbc.pc(), 0x7b0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0360
        gbc.setState(0xc40, 0xc8fe, 0x2720, 0xec18, 0xde81, 0x4179, 0x1, 0x1);
        gbc.writeMem(0xc40, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc8fe);
        EXPECT(gbc.pc(), 0xc42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0361
        gbc.setState(0x19ae, 0x9911, 0x2c40, 0xfc85, 0x5a00, 0x7f53, 0x1, 0x1);
        gbc.writeMem(0x19ae, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9911);
        EXPECT(gbc.pc(), 0x19b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0362
        gbc.setState(0x8997, 0xf5b8, 0xbc0, 0xb05c, 0xd4bb, 0x7a40, 0x1, 0x0);
        gbc.writeMem(0x8997, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf5b8);
        EXPECT(gbc.pc(), 0x8999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8997), 0xcb);
        EXPECT(gbc.readMem(0x8998), 0xe5);
        // CB E5 0363
        gbc.setState(0xa3e3, 0x12c3, 0x5740, 0xf334, 0x879, 0xbb23, 0x0, 0x1);
        gbc.writeMem(0xa3e3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x12c3);
        EXPECT(gbc.pc(), 0xa3e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e3), 0xcb);
        EXPECT(gbc.readMem(0xa3e4), 0xe5);
        // CB E5 0364
        gbc.setState(0xd6b9, 0x4717, 0x5e30, 0x798c, 0xb86a, 0x1bc6, 0x0, 0x0);
        gbc.writeMem(0xd6b9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4717);
        EXPECT(gbc.pc(), 0xd6bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6b9), 0xcb);
        EXPECT(gbc.readMem(0xd6ba), 0xe5);
        // CB E5 0365
        gbc.setState(0x23c9, 0x75d9, 0x1a20, 0xcf21, 0x18ce, 0x3342, 0x0, 0x0);
        gbc.writeMem(0x23c9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x75d9);
        EXPECT(gbc.pc(), 0x23cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0366
        gbc.setState(0x2b0f, 0xcbe3, 0xa180, 0xe85, 0x3756, 0xdc58, 0x1, 0x1);
        gbc.writeMem(0x2b0f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xcbe3);
        EXPECT(gbc.pc(), 0x2b11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0367
        gbc.setState(0x9eec, 0xaff5, 0xb220, 0x29fb, 0x23a7, 0x7ac, 0x0, 0x0);
        gbc.writeMem(0x9eec, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xaff5);
        EXPECT(gbc.pc(), 0x9eee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eec), 0xcb);
        EXPECT(gbc.readMem(0x9eed), 0xe5);
        // CB E5 0368
        gbc.setState(0xb4e8, 0x5c2a, 0x8ac0, 0x7d03, 0x32c6, 0x539d, 0x1, 0x1);
        gbc.writeMem(0xb4e8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5c2a);
        EXPECT(gbc.pc(), 0xb4ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e8), 0xcb);
        EXPECT(gbc.readMem(0xb4e9), 0xe5);
        // CB E5 0369
        gbc.setState(0x812, 0x6f77, 0xef80, 0x5344, 0x12d4, 0xc1f, 0x1, 0x0);
        gbc.writeMem(0x812, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6f77);
        EXPECT(gbc.pc(), 0x814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 036A
        gbc.setState(0x7f3a, 0x812a, 0xad50, 0xa8d6, 0xaef2, 0x4ddb, 0x0, 0x0);
        gbc.writeMem(0x7f3a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x812a);
        EXPECT(gbc.pc(), 0x7f3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 036B
        gbc.setState(0xc27c, 0x643e, 0x7410, 0xcd8, 0xd1b6, 0xb322, 0x1, 0x0);
        gbc.writeMem(0xc27c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x643e);
        EXPECT(gbc.pc(), 0xc27e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc27c), 0xcb);
        EXPECT(gbc.readMem(0xc27d), 0xe5);
        // CB E5 036D
        gbc.setState(0x549d, 0x6aec, 0xcc70, 0xbb67, 0x8c6e, 0xfaa3, 0x1, 0x1);
        gbc.writeMem(0x549d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6aec);
        EXPECT(gbc.pc(), 0x549f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 036E
        gbc.setState(0x4beb, 0xa689, 0x2d90, 0xe24c, 0x5010, 0x90ce, 0x0, 0x1);
        gbc.writeMem(0x4beb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa689);
        EXPECT(gbc.pc(), 0x4bed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 036F
        gbc.setState(0x8b5e, 0x165b, 0x9530, 0x22b7, 0xd612, 0x6cba, 0x0, 0x0);
        gbc.writeMem(0x8b5e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x165b);
        EXPECT(gbc.pc(), 0x8b60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b5e), 0xcb);
        EXPECT(gbc.readMem(0x8b5f), 0xe5);
        // CB E5 0370
        gbc.setState(0xd50e, 0x99ab, 0xe220, 0x8b9a, 0xe33, 0x20e6, 0x1, 0x1);
        gbc.writeMem(0xd50e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x99ab);
        EXPECT(gbc.pc(), 0xd510);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd50e), 0xcb);
        EXPECT(gbc.readMem(0xd50f), 0xe5);
        // CB E5 0372
        gbc.setState(0xabc5, 0x6aa5, 0xab0, 0x5bae, 0x807d, 0x3881, 0x1, 0x0);
        gbc.writeMem(0xabc5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6aa5);
        EXPECT(gbc.pc(), 0xabc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabc5), 0xcb);
        EXPECT(gbc.readMem(0xabc6), 0xe5);
        // CB E5 0373
        gbc.setState(0x1e78, 0x9515, 0x9600, 0x2a63, 0x5062, 0x52bd, 0x0, 0x0);
        gbc.writeMem(0x1e78, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9515);
        EXPECT(gbc.pc(), 0x1e7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0374
        gbc.setState(0xbdeb, 0x5ae7, 0x2040, 0x9c63, 0x7ed5, 0x2e44, 0x0, 0x1);
        gbc.writeMem(0xbdeb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x5ae7);
        EXPECT(gbc.pc(), 0xbded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdeb), 0xcb);
        EXPECT(gbc.readMem(0xbdec), 0xe5);
        // CB E5 0375
        gbc.setState(0xeaf3, 0x515b, 0xbbf0, 0xd194, 0xb38e, 0xbe83, 0x0, 0x1);
        gbc.writeMem(0xeaf3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x515b);
        EXPECT(gbc.pc(), 0xeaf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaf3), 0xcb);
        EXPECT(gbc.readMem(0xeaf4), 0xe5);
        // CB E5 0376
        gbc.setState(0x4885, 0xc0ec, 0x9660, 0xea48, 0xf191, 0x39e1, 0x0, 0x0);
        gbc.writeMem(0x4885, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc0ec);
        EXPECT(gbc.pc(), 0x4887);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0377
        gbc.setState(0xc3a5, 0x282d, 0xa20, 0x6679, 0xaa0e, 0x1723, 0x1, 0x1);
        gbc.writeMem(0xc3a5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x282d);
        EXPECT(gbc.pc(), 0xc3a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3a5), 0xcb);
        EXPECT(gbc.readMem(0xc3a6), 0xe5);
        // CB E5 0378
        gbc.setState(0x702, 0x9ab5, 0x7a90, 0xb4ce, 0xbc09, 0xd650, 0x1, 0x1);
        gbc.writeMem(0x702, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9ab5);
        EXPECT(gbc.pc(), 0x704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0379
        gbc.setState(0xca4a, 0xf3af, 0x4cf0, 0xe408, 0x2e05, 0x5f70, 0x0, 0x1);
        gbc.writeMem(0xca4a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf3af);
        EXPECT(gbc.pc(), 0xca4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca4a), 0xcb);
        EXPECT(gbc.readMem(0xca4b), 0xe5);
        // CB E5 037B
        gbc.setState(0x918c, 0x87ed, 0xbf30, 0x8ba, 0x7f8c, 0x27f9, 0x1, 0x1);
        gbc.writeMem(0x918c, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x87ed);
        EXPECT(gbc.pc(), 0x918e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x918c), 0xcb);
        EXPECT(gbc.readMem(0x918d), 0xe5);
        // CB E5 037C
        gbc.setState(0x4e2d, 0x4a2f, 0x1900, 0x5892, 0x1fe2, 0xc499, 0x0, 0x0);
        gbc.writeMem(0x4e2d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x4a2f);
        EXPECT(gbc.pc(), 0x4e2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 037D
        gbc.setState(0x9c31, 0x990f, 0xa020, 0xe501, 0x3a2, 0x3e6f, 0x1, 0x0);
        gbc.writeMem(0x9c31, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x990f);
        EXPECT(gbc.pc(), 0x9c33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c31), 0xcb);
        EXPECT(gbc.readMem(0x9c32), 0xe5);
        // CB E5 037E
        gbc.setState(0x9739, 0xedff, 0x290, 0xfff2, 0x329b, 0x3030, 0x0, 0x1);
        gbc.writeMem(0x9739, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xedff);
        EXPECT(gbc.pc(), 0x973b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9739), 0xcb);
        EXPECT(gbc.readMem(0x973a), 0xe5);
        // CB E5 037F
        gbc.setState(0xcada, 0x7480, 0x300, 0x93d4, 0xa74b, 0x5edf, 0x1, 0x1);
        gbc.writeMem(0xcada, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7480);
        EXPECT(gbc.pc(), 0xcadc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcada), 0xcb);
        EXPECT(gbc.readMem(0xcadb), 0xe5);
        // CB E5 0380
        gbc.setState(0x3bba, 0x66df, 0x83a0, 0x7c95, 0x2136, 0xe839, 0x0, 0x0);
        gbc.writeMem(0x3bba, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x66df);
        EXPECT(gbc.pc(), 0x3bbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0381
        gbc.setState(0x3080, 0x933, 0x7880, 0x7b8a, 0x2d88, 0x1f5a, 0x0, 0x0);
        gbc.writeMem(0x3080, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x933);
        EXPECT(gbc.pc(), 0x3082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0382
        gbc.setState(0xb192, 0xa423, 0xb5b0, 0xbbb1, 0x3b9e, 0x2eee, 0x1, 0x0);
        gbc.writeMem(0xb192, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xa423);
        EXPECT(gbc.pc(), 0xb194);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb192), 0xcb);
        EXPECT(gbc.readMem(0xb193), 0xe5);
        // CB E5 0383
        gbc.setState(0x2231, 0x6c1b, 0xb950, 0x736d, 0x5b7d, 0x2dde, 0x0, 0x0);
        gbc.writeMem(0x2231, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6c1b);
        EXPECT(gbc.pc(), 0x2233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0384
        gbc.setState(0x1c5b, 0x4d31, 0x14d0, 0x1896, 0x60be, 0x5f5f, 0x0, 0x0);
        gbc.writeMem(0x1c5b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4d31);
        EXPECT(gbc.pc(), 0x1c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0385
        gbc.setState(0x79f5, 0xb8ce, 0x5a00, 0x5aaf, 0xbc77, 0x573a, 0x1, 0x0);
        gbc.writeMem(0x79f5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xb8ce);
        EXPECT(gbc.pc(), 0x79f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0386
        gbc.setState(0x34f3, 0xc282, 0xb380, 0x999b, 0x90e2, 0xe988, 0x0, 0x0);
        gbc.writeMem(0x34f3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc282);
        EXPECT(gbc.pc(), 0x34f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0387
        gbc.setState(0x2e26, 0xa5e0, 0xd0e0, 0xb874, 0x224d, 0x2c01, 0x0, 0x1);
        gbc.writeMem(0x2e26, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa5e0);
        EXPECT(gbc.pc(), 0x2e28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0388
        gbc.setState(0xa444, 0x2397, 0xe3d0, 0xebcd, 0xaec4, 0x2336, 0x1, 0x0);
        gbc.writeMem(0xa444, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x2397);
        EXPECT(gbc.pc(), 0xa446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa444), 0xcb);
        EXPECT(gbc.readMem(0xa445), 0xe5);
        // CB E5 0389
        gbc.setState(0x5b93, 0x1b80, 0xb8e0, 0xc954, 0xe206, 0xc1e1, 0x0, 0x0);
        gbc.writeMem(0x5b93, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1b80);
        EXPECT(gbc.pc(), 0x5b95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 038A
        gbc.setState(0x1623, 0x1136, 0xa6e0, 0x7b1c, 0x6e88, 0xaf57, 0x1, 0x1);
        gbc.writeMem(0x1623, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1136);
        EXPECT(gbc.pc(), 0x1625);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 038B
        gbc.setState(0xaa4e, 0xe2c2, 0x4a00, 0x5e81, 0xe291, 0xbc5a, 0x1, 0x1);
        gbc.writeMem(0xaa4e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe2c2);
        EXPECT(gbc.pc(), 0xaa50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa4e), 0xcb);
        EXPECT(gbc.readMem(0xaa4f), 0xe5);
        // CB E5 038C
        gbc.setState(0x43f3, 0xdaae, 0x1b10, 0xfeda, 0x30e9, 0xebb1, 0x0, 0x1);
        gbc.writeMem(0x43f3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdaae);
        EXPECT(gbc.pc(), 0x43f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 038D
        gbc.setState(0x351d, 0xd600, 0xfa10, 0xccef, 0xb935, 0x677e, 0x1, 0x0);
        gbc.writeMem(0x351d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd600);
        EXPECT(gbc.pc(), 0x351f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 038E
        gbc.setState(0xaac5, 0x5dbf, 0xa6a0, 0xf2a2, 0x8da8, 0x51c2, 0x1, 0x0);
        gbc.writeMem(0xaac5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5dbf);
        EXPECT(gbc.pc(), 0xaac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaac5), 0xcb);
        EXPECT(gbc.readMem(0xaac6), 0xe5);
        // CB E5 038F
        gbc.setState(0xa912, 0xab0b, 0x3cd0, 0x6df7, 0xdd31, 0xb226, 0x1, 0x0);
        gbc.writeMem(0xa912, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xab0b);
        EXPECT(gbc.pc(), 0xa914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa912), 0xcb);
        EXPECT(gbc.readMem(0xa913), 0xe5);
        // CB E5 0390
        gbc.setState(0x4791, 0x89, 0xc730, 0x422, 0x7d88, 0x41fa, 0x0, 0x1);
        gbc.writeMem(0x4791, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x89);
        EXPECT(gbc.pc(), 0x4793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0391
        gbc.setState(0xb1c0, 0xae65, 0xba10, 0xd6a0, 0x9de7, 0x5da4, 0x0, 0x0);
        gbc.writeMem(0xb1c0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xae65);
        EXPECT(gbc.pc(), 0xb1c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1c0), 0xcb);
        EXPECT(gbc.readMem(0xb1c1), 0xe5);
        // CB E5 0392
        gbc.setState(0x2ceb, 0xc5a, 0x7d80, 0x32a9, 0x400c, 0xfcb7, 0x0, 0x0);
        gbc.writeMem(0x2ceb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc5a);
        EXPECT(gbc.pc(), 0x2ced);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0393
        gbc.setState(0xec1a, 0xe065, 0x580, 0x5ea0, 0xc4ac, 0x7468, 0x1, 0x1);
        gbc.writeMem(0xec1a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe065);
        EXPECT(gbc.pc(), 0xec1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec1a), 0xcb);
        EXPECT(gbc.readMem(0xec1b), 0xe5);
        // CB E5 0394
        gbc.setState(0x1207, 0x766c, 0x3cc0, 0x87f9, 0xfb44, 0x76c8, 0x0, 0x1);
        gbc.writeMem(0x1207, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x766c);
        EXPECT(gbc.pc(), 0x1209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0395
        gbc.setState(0x2d83, 0xe0e0, 0x5c40, 0xb8b1, 0xdbf0, 0xfde0, 0x0, 0x0);
        gbc.writeMem(0x2d83, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe0e0);
        EXPECT(gbc.pc(), 0x2d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0396
        gbc.setState(0x152b, 0xd68, 0x25a0, 0xdaee, 0x3114, 0xd549, 0x0, 0x0);
        gbc.writeMem(0x152b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd68);
        EXPECT(gbc.pc(), 0x152d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 0397
        gbc.setState(0x78cc, 0x5f23, 0xc550, 0xf6ea, 0xaae3, 0x65da, 0x1, 0x0);
        gbc.writeMem(0x78cc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5f23);
        EXPECT(gbc.pc(), 0x78ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0398
        gbc.setState(0x758f, 0x217e, 0xa4b0, 0x30af, 0xf2dd, 0x29ae, 0x0, 0x1);
        gbc.writeMem(0x758f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x217e);
        EXPECT(gbc.pc(), 0x7591);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 0399
        gbc.setState(0xcef4, 0x8b6d, 0xe320, 0xd83d, 0xcc08, 0xba8e, 0x1, 0x1);
        gbc.writeMem(0xcef4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x8b6d);
        EXPECT(gbc.pc(), 0xcef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcef4), 0xcb);
        EXPECT(gbc.readMem(0xcef5), 0xe5);
        // CB E5 039A
        gbc.setState(0x91fd, 0x78ac, 0x4f60, 0xd91d, 0x1252, 0x6a57, 0x1, 0x1);
        gbc.writeMem(0x91fd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x78ac);
        EXPECT(gbc.pc(), 0x91ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91fd), 0xcb);
        EXPECT(gbc.readMem(0x91fe), 0xe5);
        // CB E5 039B
        gbc.setState(0x5e42, 0x15d6, 0xb780, 0x62b7, 0x76f0, 0x5bc0, 0x1, 0x1);
        gbc.writeMem(0x5e42, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x15d6);
        EXPECT(gbc.pc(), 0x5e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 039C
        gbc.setState(0x4a94, 0xc136, 0x5e0, 0x9e70, 0x314, 0xaeb5, 0x1, 0x1);
        gbc.writeMem(0x4a94, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xc136);
        EXPECT(gbc.pc(), 0x4a96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 039D
        gbc.setState(0xd508, 0xa3e0, 0x8780, 0x7a41, 0x6c7d, 0x534c, 0x0, 0x0);
        gbc.writeMem(0xd508, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa3e0);
        EXPECT(gbc.pc(), 0xd50a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd508), 0xcb);
        EXPECT(gbc.readMem(0xd509), 0xe5);
        // CB E5 039E
        gbc.setState(0x17d3, 0xb930, 0x7030, 0xb6b7, 0xadd9, 0xa447, 0x0, 0x1);
        gbc.writeMem(0x17d3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb930);
        EXPECT(gbc.pc(), 0x17d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 039F
        gbc.setState(0x2373, 0x8375, 0xc3a0, 0x1714, 0x309e, 0xdcb, 0x0, 0x0);
        gbc.writeMem(0x2373, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x8375);
        EXPECT(gbc.pc(), 0x2375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03A0
        gbc.setState(0x8781, 0x74b5, 0xd9e0, 0x7048, 0xd476, 0x1563, 0x0, 0x0);
        gbc.writeMem(0x8781, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x74b5);
        EXPECT(gbc.pc(), 0x8783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8781), 0xcb);
        EXPECT(gbc.readMem(0x8782), 0xe5);
        // CB E5 03A1
        gbc.setState(0xd841, 0x9cf7, 0x2600, 0x37b1, 0xa86f, 0x909c, 0x1, 0x1);
        gbc.writeMem(0xd841, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9cf7);
        EXPECT(gbc.pc(), 0xd843);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd841), 0xcb);
        EXPECT(gbc.readMem(0xd842), 0xe5);
        // CB E5 03A2
        gbc.setState(0x37f3, 0x8217, 0xb180, 0x6231, 0xd114, 0xc67f, 0x1, 0x0);
        gbc.writeMem(0x37f3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8217);
        EXPECT(gbc.pc(), 0x37f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03A3
        gbc.setState(0x574b, 0x6a10, 0xb150, 0x5ca7, 0x1d5d, 0xcc75, 0x0, 0x0);
        gbc.writeMem(0x574b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x6a10);
        EXPECT(gbc.pc(), 0x574d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03A4
        gbc.setState(0x8e26, 0xa8e1, 0x3890, 0xabd8, 0x91f, 0x2319, 0x1, 0x1);
        gbc.writeMem(0x8e26, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa8e1);
        EXPECT(gbc.pc(), 0x8e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e26), 0xcb);
        EXPECT(gbc.readMem(0x8e27), 0xe5);
        // CB E5 03A5
        gbc.setState(0xac1d, 0x694b, 0x8080, 0x22d9, 0x9d59, 0xf53, 0x0, 0x0);
        gbc.writeMem(0xac1d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x694b);
        EXPECT(gbc.pc(), 0xac1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac1d), 0xcb);
        EXPECT(gbc.readMem(0xac1e), 0xe5);
        // CB E5 03A6
        gbc.setState(0xb8db, 0x8683, 0x62f0, 0xc39e, 0xa182, 0xc8a3, 0x0, 0x1);
        gbc.writeMem(0xb8db, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8683);
        EXPECT(gbc.pc(), 0xb8dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8db), 0xcb);
        EXPECT(gbc.readMem(0xb8dc), 0xe5);
        // CB E5 03A7
        gbc.setState(0x32f0, 0xf2d1, 0x8d70, 0x165f, 0x2a2b, 0xaf3a, 0x1, 0x1);
        gbc.writeMem(0x32f0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf2d1);
        EXPECT(gbc.pc(), 0x32f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03A8
        gbc.setState(0x3386, 0x626c, 0x4de0, 0xbd28, 0xd3bc, 0x4823, 0x1, 0x1);
        gbc.writeMem(0x3386, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x626c);
        EXPECT(gbc.pc(), 0x3388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03AA
        gbc.setState(0x6d92, 0x7db4, 0xb440, 0x2699, 0x96f9, 0x2078, 0x1, 0x1);
        gbc.writeMem(0x6d92, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7db4);
        EXPECT(gbc.pc(), 0x6d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03AB
        gbc.setState(0x48d7, 0x350a, 0x81e0, 0x6ba2, 0x27f7, 0x389b, 0x0, 0x1);
        gbc.writeMem(0x48d7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x350a);
        EXPECT(gbc.pc(), 0x48d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03AC
        gbc.setState(0x4803, 0x2eb5, 0x9020, 0x20f8, 0x8409, 0x2964, 0x0, 0x1);
        gbc.writeMem(0x4803, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x2eb5);
        EXPECT(gbc.pc(), 0x4805);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03AD
        gbc.setState(0xb2fc, 0xbc26, 0x6220, 0x16f2, 0x487b, 0x9a89, 0x1, 0x1);
        gbc.writeMem(0xb2fc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xbc26);
        EXPECT(gbc.pc(), 0xb2fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2fc), 0xcb);
        EXPECT(gbc.readMem(0xb2fd), 0xe5);
        // CB E5 03AE
        gbc.setState(0x1faa, 0x711d, 0xa0, 0x14d8, 0x1d9f, 0xca63, 0x1, 0x0);
        gbc.writeMem(0x1faa, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x711d);
        EXPECT(gbc.pc(), 0x1fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03AF
        gbc.setState(0x54e4, 0x5284, 0xe910, 0xde7c, 0xb0f5, 0x2494, 0x1, 0x1);
        gbc.writeMem(0x54e4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5284);
        EXPECT(gbc.pc(), 0x54e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03B0
        gbc.setState(0xc864, 0xdfbb, 0x8980, 0x16bb, 0x9404, 0xc8a7, 0x0, 0x0);
        gbc.writeMem(0xc864, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xdfbb);
        EXPECT(gbc.pc(), 0xc866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc864), 0xcb);
        EXPECT(gbc.readMem(0xc865), 0xe5);
        // CB E5 03B1
        gbc.setState(0xd44f, 0x1b84, 0x1320, 0x7a32, 0xfc8, 0xffc4, 0x1, 0x1);
        gbc.writeMem(0xd44f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1b84);
        EXPECT(gbc.pc(), 0xd451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd44f), 0xcb);
        EXPECT(gbc.readMem(0xd450), 0xe5);
        // CB E5 03B2
        gbc.setState(0xd955, 0x729e, 0xdc40, 0x592f, 0x1a9c, 0xcfc7, 0x1, 0x0);
        gbc.writeMem(0xd955, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x729e);
        EXPECT(gbc.pc(), 0xd957);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd955), 0xcb);
        EXPECT(gbc.readMem(0xd956), 0xe5);
        // CB E5 03B4
        gbc.setState(0xa570, 0xe1b3, 0xa910, 0x2976, 0x4678, 0xfd34, 0x0, 0x0);
        gbc.writeMem(0xa570, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe1b3);
        EXPECT(gbc.pc(), 0xa572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa570), 0xcb);
        EXPECT(gbc.readMem(0xa571), 0xe5);
        // CB E5 03B5
        gbc.setState(0x8d23, 0x1b7, 0x18e0, 0xa6a9, 0xb8a2, 0xe22b, 0x0, 0x1);
        gbc.writeMem(0x8d23, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1b7);
        EXPECT(gbc.pc(), 0x8d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d23), 0xcb);
        EXPECT(gbc.readMem(0x8d24), 0xe5);
        // CB E5 03B6
        gbc.setState(0x9ffc, 0x35ec, 0xe710, 0x6e4a, 0x37c7, 0x6ac0, 0x1, 0x1);
        gbc.writeMem(0x9ffc, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x35ec);
        EXPECT(gbc.pc(), 0x9ffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ffc), 0xcb);
        EXPECT(gbc.readMem(0x9ffd), 0xe5);
        // CB E5 03B7
        gbc.setState(0x33f6, 0x5c01, 0xe590, 0x300c, 0x10bb, 0xc8be, 0x1, 0x0);
        gbc.writeMem(0x33f6, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x5c01);
        EXPECT(gbc.pc(), 0x33f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03B8
        gbc.setState(0xb2e4, 0x5f17, 0x54d0, 0x1782, 0x528a, 0xa387, 0x1, 0x1);
        gbc.writeMem(0xb2e4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x5f17);
        EXPECT(gbc.pc(), 0xb2e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2e4), 0xcb);
        EXPECT(gbc.readMem(0xb2e5), 0xe5);
        // CB E5 03B9
        gbc.setState(0x225d, 0x89df, 0x27b0, 0x612d, 0x5c4a, 0x7841, 0x0, 0x1);
        gbc.writeMem(0x225d, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x89df);
        EXPECT(gbc.pc(), 0x225f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03BA
        gbc.setState(0x8d84, 0x68a0, 0x420, 0x82a5, 0x36bc, 0x4d36, 0x0, 0x1);
        gbc.writeMem(0x8d84, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x68a0);
        EXPECT(gbc.pc(), 0x8d86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d84), 0xcb);
        EXPECT(gbc.readMem(0x8d85), 0xe5);
        // CB E5 03BB
        gbc.setState(0x4bb9, 0x1f49, 0x73c0, 0x526b, 0xd413, 0xeeb9, 0x0, 0x0);
        gbc.writeMem(0x4bb9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1f49);
        EXPECT(gbc.pc(), 0x4bbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03BC
        gbc.setState(0x8bb8, 0x86ef, 0x4520, 0xa94f, 0x2ca, 0x7af4, 0x0, 0x1);
        gbc.writeMem(0x8bb8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x86ef);
        EXPECT(gbc.pc(), 0x8bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bb8), 0xcb);
        EXPECT(gbc.readMem(0x8bb9), 0xe5);
        // CB E5 03BD
        gbc.setState(0x3767, 0x1216, 0xb4a0, 0xaab2, 0xa265, 0x5e6f, 0x0, 0x1);
        gbc.writeMem(0x3767, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1216);
        EXPECT(gbc.pc(), 0x3769);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03BE
        gbc.setState(0xd85f, 0x8fa4, 0x8eb0, 0xf033, 0x9f9a, 0x4076, 0x1, 0x1);
        gbc.writeMem(0xd85f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x8fa4);
        EXPECT(gbc.pc(), 0xd861);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd85f), 0xcb);
        EXPECT(gbc.readMem(0xd860), 0xe5);
        // CB E5 03C0
        gbc.setState(0x9dc4, 0x42d3, 0x62f0, 0xfbe9, 0x1fcd, 0xb76b, 0x1, 0x1);
        gbc.writeMem(0x9dc4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x42d3);
        EXPECT(gbc.pc(), 0x9dc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dc4), 0xcb);
        EXPECT(gbc.readMem(0x9dc5), 0xe5);
        // CB E5 03C1
        gbc.setState(0x51e9, 0x7a70, 0xf250, 0x6e62, 0xdcb8, 0xff8b, 0x1, 0x0);
        gbc.writeMem(0x51e9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7a70);
        EXPECT(gbc.pc(), 0x51eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03C2
        gbc.setState(0x10bb, 0x43db, 0x44b0, 0x300e, 0xb47b, 0x700a, 0x0, 0x1);
        gbc.writeMem(0x10bb, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x43db);
        EXPECT(gbc.pc(), 0x10bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03C3
        gbc.setState(0xd8e, 0x72f5, 0x88b0, 0x545b, 0xfcc4, 0xd5f1, 0x0, 0x0);
        gbc.writeMem(0xd8e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x72f5);
        EXPECT(gbc.pc(), 0xd90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03C4
        gbc.setState(0x91c8, 0x8fee, 0xf1b0, 0x6eb6, 0xb0c6, 0xbfc5, 0x1, 0x0);
        gbc.writeMem(0x91c8, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8fee);
        EXPECT(gbc.pc(), 0x91ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91c8), 0xcb);
        EXPECT(gbc.readMem(0x91c9), 0xe5);
        // CB E5 03C5
        gbc.setState(0x44d0, 0x8d70, 0x8e80, 0xf747, 0x76f9, 0xc07d, 0x0, 0x0);
        gbc.writeMem(0x44d0, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8d70);
        EXPECT(gbc.pc(), 0x44d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03C7
        gbc.setState(0x6fc2, 0xe1fb, 0x69c0, 0x41f9, 0xef23, 0xebd1, 0x0, 0x0);
        gbc.writeMem(0x6fc2, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe1fb);
        EXPECT(gbc.pc(), 0x6fc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03C8
        gbc.setState(0x9dd7, 0x5ff4, 0x4950, 0x5a5f, 0x29e5, 0x8de7, 0x0, 0x0);
        gbc.writeMem(0x9dd7, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5ff4);
        EXPECT(gbc.pc(), 0x9dd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dd7), 0xcb);
        EXPECT(gbc.readMem(0x9dd8), 0xe5);
        // CB E5 03C9
        gbc.setState(0xa1, 0xc0ba, 0xfed0, 0xc04c, 0x6995, 0x4c17, 0x0, 0x0);
        gbc.writeMem(0xa1, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc0ba);
        EXPECT(gbc.pc(), 0xa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03CA
        gbc.setState(0x72a, 0xea71, 0xcd90, 0x2d21, 0xd986, 0x4a81, 0x1, 0x0);
        gbc.writeMem(0x72a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xea71);
        EXPECT(gbc.pc(), 0x72c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03CB
        gbc.setState(0x8e5f, 0x60cb, 0x5660, 0xeabf, 0xe5b9, 0xae4f, 0x0, 0x0);
        gbc.writeMem(0x8e5f, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x60cb);
        EXPECT(gbc.pc(), 0x8e61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e5f), 0xcb);
        EXPECT(gbc.readMem(0x8e60), 0xe5);
        // CB E5 03CC
        gbc.setState(0x3a64, 0x9aae, 0xd1e0, 0x4546, 0xf645, 0x99ea, 0x1, 0x1);
        gbc.writeMem(0x3a64, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9aae);
        EXPECT(gbc.pc(), 0x3a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03CD
        gbc.setState(0xb5e, 0xd4ca, 0x9ec0, 0xdc61, 0x3a08, 0x69ba, 0x0, 0x0);
        gbc.writeMem(0xb5e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd4ca);
        EXPECT(gbc.pc(), 0xb60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03CE
        gbc.setState(0x7cf, 0xd6d5, 0x6780, 0x1067, 0xa397, 0x8742, 0x1, 0x0);
        gbc.writeMem(0x7cf, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd6d5);
        EXPECT(gbc.pc(), 0x7d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03D0
        gbc.setState(0x8e34, 0x6d48, 0x8f0, 0x78b9, 0x8d3, 0x2a07, 0x0, 0x1);
        gbc.writeMem(0x8e34, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6d48);
        EXPECT(gbc.pc(), 0x8e36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e34), 0xcb);
        EXPECT(gbc.readMem(0x8e35), 0xe5);
        // CB E5 03D1
        gbc.setState(0x75c9, 0x5e46, 0x7400, 0xc6ce, 0xae18, 0x91ad, 0x0, 0x0);
        gbc.writeMem(0x75c9, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x5e46);
        EXPECT(gbc.pc(), 0x75cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03D2
        gbc.setState(0x315, 0x490c, 0xb930, 0x24d8, 0x6868, 0x1b29, 0x1, 0x0);
        gbc.writeMem(0x315, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x490c);
        EXPECT(gbc.pc(), 0x317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03D3
        gbc.setState(0x3366, 0xad3d, 0x9440, 0xd7ef, 0xaa98, 0x9fc, 0x1, 0x0);
        gbc.writeMem(0x3366, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xad3d);
        EXPECT(gbc.pc(), 0x3368);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03D4
        gbc.setState(0xe20, 0xdbb8, 0xa9e0, 0x8082, 0xae43, 0x3b00, 0x0, 0x0);
        gbc.writeMem(0xe20, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xdbb8);
        EXPECT(gbc.pc(), 0xe22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03D5
        gbc.setState(0x8816, 0xe07c, 0x45e0, 0x85ca, 0x5b86, 0x70cb, 0x0, 0x1);
        gbc.writeMem(0x8816, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe07c);
        EXPECT(gbc.pc(), 0x8818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8816), 0xcb);
        EXPECT(gbc.readMem(0x8817), 0xe5);
        // CB E5 03D6
        gbc.setState(0x96b5, 0x193d, 0xaa70, 0xa679, 0x5405, 0xaa95, 0x1, 0x0);
        gbc.writeMem(0x96b5, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x193d);
        EXPECT(gbc.pc(), 0x96b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96b5), 0xcb);
        EXPECT(gbc.readMem(0x96b6), 0xe5);
        // CB E5 03D7
        gbc.setState(0xeebd, 0xbc14, 0x7700, 0x658, 0x454a, 0xb58d, 0x0, 0x1);
        gbc.writeMem(0xeebd, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xbc14);
        EXPECT(gbc.pc(), 0xeebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeebd), 0xcb);
        EXPECT(gbc.readMem(0xeebe), 0xe5);
        // CB E5 03D8
        gbc.setState(0xace4, 0x9228, 0xb090, 0x1515, 0x935a, 0x6548, 0x0, 0x1);
        gbc.writeMem(0xace4, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x9228);
        EXPECT(gbc.pc(), 0xace6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace4), 0xcb);
        EXPECT(gbc.readMem(0xace5), 0xe5);
        // CB E5 03D9
        gbc.setState(0xbd58, 0xd7cb, 0x9240, 0x242, 0x4eae, 0xbd70, 0x1, 0x1);
        gbc.writeMem(0xbd58, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd7cb);
        EXPECT(gbc.pc(), 0xbd5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd58), 0xcb);
        EXPECT(gbc.readMem(0xbd59), 0xe5);
        // CB E5 03DA
        gbc.setState(0xc04e, 0xde35, 0x4660, 0x774e, 0x5058, 0x7b08, 0x1, 0x0);
        gbc.writeMem(0xc04e, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xde35);
        EXPECT(gbc.pc(), 0xc050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc04e), 0xcb);
        EXPECT(gbc.readMem(0xc04f), 0xe5);
        // CB E5 03DB
        gbc.setState(0xde81, 0x45c9, 0xc10, 0xca30, 0x595b, 0x239e, 0x0, 0x0);
        gbc.writeMem(0xde81, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x45c9);
        EXPECT(gbc.pc(), 0xde83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde81), 0xcb);
        EXPECT(gbc.readMem(0xde82), 0xe5);
        // CB E5 03DC
        gbc.setState(0xb25b, 0xfdd6, 0xe2c0, 0xd049, 0x1536, 0xa171, 0x0, 0x0);
        gbc.writeMem(0xb25b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xfdd6);
        EXPECT(gbc.pc(), 0xb25d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb25b), 0xcb);
        EXPECT(gbc.readMem(0xb25c), 0xe5);
        // CB E5 03DD
        gbc.setState(0xea45, 0xc980, 0x2880, 0x5b1d, 0x5089, 0xef00, 0x0, 0x0);
        gbc.writeMem(0xea45, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc980);
        EXPECT(gbc.pc(), 0xea47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea45), 0xcb);
        EXPECT(gbc.readMem(0xea46), 0xe5);
        // CB E5 03DE
        gbc.setState(0xaf1b, 0x764a, 0xb9b0, 0x595e, 0x5f9a, 0xcad4, 0x1, 0x0);
        gbc.writeMem(0xaf1b, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x764a);
        EXPECT(gbc.pc(), 0xaf1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf1b), 0xcb);
        EXPECT(gbc.readMem(0xaf1c), 0xe5);
        // CB E5 03DF
        gbc.setState(0xa3df, 0x2d4, 0x4480, 0x4d3e, 0x3d51, 0xb210, 0x1, 0x0);
        gbc.writeMem(0xa3df, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x2d4);
        EXPECT(gbc.pc(), 0xa3e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3df), 0xcb);
        EXPECT(gbc.readMem(0xa3e0), 0xe5);
        // CB E5 03E0
        gbc.setState(0x2ce3, 0x216d, 0x3900, 0x3df6, 0xa86a, 0x2ecd, 0x0, 0x1);
        gbc.writeMem(0x2ce3, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x216d);
        EXPECT(gbc.pc(), 0x2ce5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03E1
        gbc.setState(0x904, 0x6419, 0xf510, 0x5680, 0x2135, 0x2c7f, 0x0, 0x0);
        gbc.writeMem(0x904, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6419);
        EXPECT(gbc.pc(), 0x906);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03E2
        gbc.setState(0x7142, 0x13db, 0x8110, 0x588, 0x91f8, 0xee03, 0x0, 0x1);
        gbc.writeMem(0x7142, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x13db);
        EXPECT(gbc.pc(), 0x7144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03E3
        gbc.setState(0x5e57, 0x9b7c, 0xfcb0, 0x4cb6, 0xbb15, 0x44df, 0x0, 0x1);
        gbc.writeMem(0x5e57, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9b7c);
        EXPECT(gbc.pc(), 0x5e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB E5 03E4
        gbc.setState(0x295a, 0xc964, 0x3fe0, 0x8534, 0x66ab, 0x9395, 0x1, 0x0);
        gbc.writeMem(0x295a, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc964);
        EXPECT(gbc.pc(), 0x295c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03E5
        gbc.setState(0x1932, 0xf1ca, 0x1ca0, 0x3292, 0x2103, 0xe2fa, 0x1, 0x1);
        gbc.writeMem(0x1932, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf1ca);
        EXPECT(gbc.pc(), 0x1934);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB E5 03E6
        gbc.setState(0x9084, 0xbb8d, 0x78d0, 0xc38d, 0x673e, 0xbf29, 0x1, 0x1);
        gbc.writeMem(0x9084, { 0xcb, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xbb8d);
        EXPECT(gbc.pc(), 0x9086);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9084), 0xcb);
        EXPECT(gbc.readMem(0x9085), 0xe5);
    }
}
#endif
