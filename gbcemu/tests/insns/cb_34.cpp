#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_34)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_34) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 34 0000
        gbc.setState(0x4aaf, 0xb03e, 0x6f20, 0x2868, 0x884, 0x1bab, 0x1, 0x0);
        gbc.writeMem(0x4aaf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb03e);
        EXPECT(gbc.pc(), 0x4ab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0001
        gbc.setState(0xc4e6, 0xb043, 0xa1c0, 0xfdba, 0x7bed, 0xc21f, 0x1, 0x1);
        gbc.writeMem(0xc4e6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb043);
        EXPECT(gbc.pc(), 0xc4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4e6), 0xcb);
        EXPECT(gbc.readMem(0xc4e7), 0x34);
        // CB 34 0002
        gbc.setState(0x3c9e, 0xcbec, 0x8b00, 0x544, 0x892f, 0xc310, 0x1, 0x0);
        gbc.writeMem(0x3c9e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcbec);
        EXPECT(gbc.pc(), 0x3ca0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0003
        gbc.setState(0xd818, 0x5cce, 0x2cd0, 0x4b34, 0x64dd, 0xf2d, 0x1, 0x1);
        gbc.writeMem(0xd818, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5cce);
        EXPECT(gbc.pc(), 0xd81a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd818), 0xcb);
        EXPECT(gbc.readMem(0xd819), 0x34);
        // CB 34 0004
        gbc.setState(0x2254, 0xf066, 0xa360, 0xc6a, 0xfbcb, 0x6725, 0x1, 0x0);
        gbc.writeMem(0x2254, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf066);
        EXPECT(gbc.pc(), 0x2256);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0005
        gbc.setState(0xd45c, 0xb10d, 0x61c0, 0xaaea, 0x8622, 0x4511, 0x0, 0x1);
        gbc.writeMem(0xd45c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb10d);
        EXPECT(gbc.pc(), 0xd45e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd45c), 0xcb);
        EXPECT(gbc.readMem(0xd45d), 0x34);
        // CB 34 0006
        gbc.setState(0x6667, 0x43c, 0xbed0, 0xddb1, 0x1bee, 0xdf78, 0x1, 0x1);
        gbc.writeMem(0x6667, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x43c);
        EXPECT(gbc.pc(), 0x6669);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0007
        gbc.setState(0x3af9, 0x25b1, 0x57e0, 0x1168, 0x71da, 0xfc40, 0x0, 0x1);
        gbc.writeMem(0x3af9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x25b1);
        EXPECT(gbc.pc(), 0x3afb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0008
        gbc.setState(0x9059, 0x9e8e, 0x8400, 0x17a1, 0xdb36, 0xb514, 0x0, 0x0);
        gbc.writeMem(0x9059, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x9e8e);
        EXPECT(gbc.pc(), 0x905b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9059), 0xcb);
        EXPECT(gbc.readMem(0x905a), 0x34);
        // CB 34 0009
        gbc.setState(0xc3b4, 0xcb1f, 0x1ca0, 0x298c, 0xbf28, 0xc50, 0x1, 0x0);
        gbc.writeMem(0xc3b4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xcb1f);
        EXPECT(gbc.pc(), 0xc3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3b4), 0xcb);
        EXPECT(gbc.readMem(0xc3b5), 0x34);
        // CB 34 000A
        gbc.setState(0xb69c, 0xd569, 0xa050, 0xa66d, 0x546a, 0x4b79, 0x0, 0x1);
        gbc.writeMem(0xb69c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd569);
        EXPECT(gbc.pc(), 0xb69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69c), 0xcb);
        EXPECT(gbc.readMem(0xb69d), 0x34);
        // CB 34 000C
        gbc.setState(0x93a4, 0xf1d5, 0xdba0, 0x7b62, 0x8048, 0x46a4, 0x1, 0x0);
        gbc.writeMem(0x93a4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf1d5);
        EXPECT(gbc.pc(), 0x93a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93a4), 0xcb);
        EXPECT(gbc.readMem(0x93a5), 0x34);
        // CB 34 000D
        gbc.setState(0x831b, 0x93cd, 0x6c50, 0xd16b, 0x9232, 0x31cb, 0x0, 0x1);
        gbc.writeMem(0x831b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x93cd);
        EXPECT(gbc.pc(), 0x831d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x831b), 0xcb);
        EXPECT(gbc.readMem(0x831c), 0x34);
        // CB 34 000E
        gbc.setState(0x240, 0xabb4, 0x8da0, 0xffec, 0x42ca, 0xd05c, 0x0, 0x1);
        gbc.writeMem(0x240, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xabb4);
        EXPECT(gbc.pc(), 0x242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 000F
        gbc.setState(0x32f1, 0x801c, 0x1b40, 0x9a3, 0x81, 0xbdfb, 0x0, 0x1);
        gbc.writeMem(0x32f1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x801c);
        EXPECT(gbc.pc(), 0x32f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0010
        gbc.setState(0x7321, 0xce1d, 0x9840, 0x7d05, 0xa859, 0x6e1a, 0x1, 0x0);
        gbc.writeMem(0x7321, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xce1d);
        EXPECT(gbc.pc(), 0x7323);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0012
        gbc.setState(0xbcc6, 0x70c, 0xcfd0, 0xa1c8, 0xaba8, 0x257, 0x1, 0x1);
        gbc.writeMem(0xbcc6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x70c);
        EXPECT(gbc.pc(), 0xbcc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcc6), 0xcb);
        EXPECT(gbc.readMem(0xbcc7), 0x34);
        // CB 34 0013
        gbc.setState(0x67af, 0x462e, 0x4ea0, 0xaf2a, 0x8351, 0x49b4, 0x0, 0x1);
        gbc.writeMem(0x67af, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x462e);
        EXPECT(gbc.pc(), 0x67b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0014
        gbc.setState(0x2b51, 0xbfe7, 0xa5a0, 0x2dd, 0xf840, 0x5602, 0x1, 0x0);
        gbc.writeMem(0x2b51, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbfe7);
        EXPECT(gbc.pc(), 0x2b53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0015
        gbc.setState(0xb6d9, 0x51a3, 0x18c0, 0xd59e, 0x2447, 0xca96, 0x1, 0x0);
        gbc.writeMem(0xb6d9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x51a3);
        EXPECT(gbc.pc(), 0xb6db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6d9), 0xcb);
        EXPECT(gbc.readMem(0xb6da), 0x34);
        // CB 34 0016
        gbc.setState(0xdcf4, 0x47a9, 0x7470, 0xcee, 0xb6b7, 0x8527, 0x1, 0x1);
        gbc.writeMem(0xdcf4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x47a9);
        EXPECT(gbc.pc(), 0xdcf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcf4), 0xcb);
        EXPECT(gbc.readMem(0xdcf5), 0x34);
        // CB 34 0017
        gbc.setState(0x19f8, 0x3a34, 0x25a0, 0x5917, 0x8e57, 0x8af, 0x1, 0x1);
        gbc.writeMem(0x19f8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3a34);
        EXPECT(gbc.pc(), 0x19fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0018
        gbc.setState(0xa239, 0xb2d8, 0x61c0, 0xb25b, 0xfb57, 0xfbba, 0x0, 0x0);
        gbc.writeMem(0xa239, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb2d8);
        EXPECT(gbc.pc(), 0xa23b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa239), 0xcb);
        EXPECT(gbc.readMem(0xa23a), 0x34);
        // CB 34 0019
        gbc.setState(0x9622, 0x8734, 0xb1b0, 0xcca1, 0x8313, 0x3de2, 0x0, 0x1);
        gbc.writeMem(0x9622, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8734);
        EXPECT(gbc.pc(), 0x9624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9622), 0xcb);
        EXPECT(gbc.readMem(0x9623), 0x34);
        // CB 34 001A
        gbc.setState(0xd0cd, 0x83f2, 0xb8c0, 0xf297, 0xf2f4, 0xc948, 0x1, 0x1);
        gbc.writeMem(0xd0cd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x83f2);
        EXPECT(gbc.pc(), 0xd0cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0cd), 0xcb);
        EXPECT(gbc.readMem(0xd0ce), 0x34);
        // CB 34 001B
        gbc.setState(0xcb9a, 0xd847, 0xded0, 0xd6e2, 0x8cf9, 0xf7df, 0x0, 0x0);
        gbc.writeMem(0xcb9a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd847);
        EXPECT(gbc.pc(), 0xcb9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb9a), 0xcb);
        EXPECT(gbc.readMem(0xcb9b), 0x34);
        // CB 34 001C
        gbc.setState(0x2151, 0x3378, 0xcba0, 0x4d9a, 0x5cd2, 0xf459, 0x0, 0x0);
        gbc.writeMem(0x2151, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3378);
        EXPECT(gbc.pc(), 0x2153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 001D
        gbc.setState(0x32df, 0xa57a, 0xbc90, 0x7b4a, 0x4500, 0x4763, 0x1, 0x0);
        gbc.writeMem(0x32df, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xa57a);
        EXPECT(gbc.pc(), 0x32e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 001E
        gbc.setState(0x7e8c, 0x1d2f, 0x3460, 0x1818, 0x411f, 0xe25f, 0x1, 0x0);
        gbc.writeMem(0x7e8c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1d2f);
        EXPECT(gbc.pc(), 0x7e8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 001F
        gbc.setState(0x7dab, 0x537f, 0xc140, 0x16fd, 0x4ec8, 0xcf9d, 0x0, 0x1);
        gbc.writeMem(0x7dab, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x537f);
        EXPECT(gbc.pc(), 0x7dad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0020
        gbc.setState(0x53fd, 0xf96e, 0x2640, 0xac55, 0x5886, 0x81b7, 0x0, 0x0);
        gbc.writeMem(0x53fd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf96e);
        EXPECT(gbc.pc(), 0x53ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0021
        gbc.setState(0x18bd, 0xa532, 0x5410, 0xffc7, 0xc5ab, 0xa3d9, 0x1, 0x1);
        gbc.writeMem(0x18bd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xa532);
        EXPECT(gbc.pc(), 0x18bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0022
        gbc.setState(0xb40f, 0x5aa3, 0xa060, 0x935a, 0x37a, 0x2a99, 0x0, 0x0);
        gbc.writeMem(0xb40f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5aa3);
        EXPECT(gbc.pc(), 0xb411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb40f), 0xcb);
        EXPECT(gbc.readMem(0xb410), 0x34);
        // CB 34 0023
        gbc.setState(0x6e0e, 0x4e8c, 0x5cf0, 0x7c31, 0x29ac, 0x1851, 0x1, 0x1);
        gbc.writeMem(0x6e0e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4e8c);
        EXPECT(gbc.pc(), 0x6e10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0024
        gbc.setState(0xb996, 0xad6d, 0x5fe0, 0x8665, 0xa5ec, 0x94c7, 0x0, 0x0);
        gbc.writeMem(0xb996, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xad6d);
        EXPECT(gbc.pc(), 0xb998);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb996), 0xcb);
        EXPECT(gbc.readMem(0xb997), 0x34);
        // CB 34 0026
        gbc.setState(0x3e36, 0xceb9, 0x6ff0, 0x8eee, 0x684c, 0x6a24, 0x1, 0x0);
        gbc.writeMem(0x3e36, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xceb9);
        EXPECT(gbc.pc(), 0x3e38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0027
        gbc.setState(0x58e2, 0xe9e1, 0xe5b0, 0xd769, 0x72de, 0x2f5a, 0x0, 0x1);
        gbc.writeMem(0x58e2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xe9e1);
        EXPECT(gbc.pc(), 0x58e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0028
        gbc.setState(0xc44, 0xc418, 0x900, 0x893c, 0x7b41, 0x10c6, 0x1, 0x0);
        gbc.writeMem(0xc44, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc418);
        EXPECT(gbc.pc(), 0xc46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0029
        gbc.setState(0x634a, 0x1a48, 0x4ec0, 0x45d1, 0x16ed, 0x16b2, 0x1, 0x0);
        gbc.writeMem(0x634a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x1a48);
        EXPECT(gbc.pc(), 0x634c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 002A
        gbc.setState(0x51cd, 0x9827, 0x3340, 0x8e8a, 0x5cd6, 0x37da, 0x0, 0x0);
        gbc.writeMem(0x51cd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9827);
        EXPECT(gbc.pc(), 0x51cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 002B
        gbc.setState(0xc80b, 0xdd1a, 0x6230, 0x52cc, 0xa705, 0xc6b6, 0x1, 0x0);
        gbc.writeMem(0xc80b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xdd1a);
        EXPECT(gbc.pc(), 0xc80d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc80b), 0xcb);
        EXPECT(gbc.readMem(0xc80c), 0x34);
        // CB 34 002C
        gbc.setState(0x483e, 0x594a, 0x5e00, 0x692a, 0x723c, 0xc77f, 0x1, 0x1);
        gbc.writeMem(0x483e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x594a);
        EXPECT(gbc.pc(), 0x4840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 002D
        gbc.setState(0xdc90, 0x950f, 0x3930, 0x6293, 0x296, 0xd5c3, 0x1, 0x0);
        gbc.writeMem(0xdc90, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x950f);
        EXPECT(gbc.pc(), 0xdc92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc90), 0xcb);
        EXPECT(gbc.readMem(0xdc91), 0x34);
        // CB 34 002E
        gbc.setState(0xbf51, 0x6db9, 0x65a0, 0x466d, 0xb170, 0xc01d, 0x1, 0x1);
        gbc.writeMem(0xbf51, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x6db9);
        EXPECT(gbc.pc(), 0xbf53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf51), 0xcb);
        EXPECT(gbc.readMem(0xbf52), 0x34);
        // CB 34 002F
        gbc.setState(0x9940, 0xaa37, 0xa760, 0x8336, 0x3b20, 0xb06c, 0x0, 0x0);
        gbc.writeMem(0x9940, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xaa37);
        EXPECT(gbc.pc(), 0x9942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9940), 0xcb);
        EXPECT(gbc.readMem(0x9941), 0x34);
        // CB 34 0030
        gbc.setState(0x6723, 0x7740, 0xb30, 0xe9ca, 0xb273, 0x7217, 0x1, 0x0);
        gbc.writeMem(0x6723, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7740);
        EXPECT(gbc.pc(), 0x6725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0031
        gbc.setState(0x938d, 0xd931, 0x5c00, 0x4032, 0xf3b3, 0x9dc8, 0x0, 0x1);
        gbc.writeMem(0x938d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd931);
        EXPECT(gbc.pc(), 0x938f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938d), 0xcb);
        EXPECT(gbc.readMem(0x938e), 0x34);
        // CB 34 0032
        gbc.setState(0xadf7, 0x86b6, 0xc050, 0x5e80, 0xaac, 0xf0fa, 0x0, 0x0);
        gbc.writeMem(0xadf7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x86b6);
        EXPECT(gbc.pc(), 0xadf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadf7), 0xcb);
        EXPECT(gbc.readMem(0xadf8), 0x34);
        // CB 34 0033
        gbc.setState(0x9629, 0x4a3b, 0xf9e0, 0xfa83, 0x348c, 0x6906, 0x1, 0x0);
        gbc.writeMem(0x9629, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4a3b);
        EXPECT(gbc.pc(), 0x962b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9629), 0xcb);
        EXPECT(gbc.readMem(0x962a), 0x34);
        // CB 34 0034
        gbc.setState(0x80d, 0xe1e1, 0x2590, 0x1e7a, 0x30dd, 0xd398, 0x1, 0x0);
        gbc.writeMem(0x80d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xe1e1);
        EXPECT(gbc.pc(), 0x80f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0035
        gbc.setState(0x62f2, 0x2492, 0xc5c0, 0x307f, 0xae4a, 0x2f42, 0x0, 0x0);
        gbc.writeMem(0x62f2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2492);
        EXPECT(gbc.pc(), 0x62f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0036
        gbc.setState(0x6ba7, 0x3d01, 0x2d10, 0x3d13, 0x80e1, 0xf649, 0x1, 0x1);
        gbc.writeMem(0x6ba7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3d01);
        EXPECT(gbc.pc(), 0x6ba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0037
        gbc.setState(0x952a, 0xe118, 0xc6d0, 0x8a30, 0xb1e0, 0xc4a, 0x0, 0x0);
        gbc.writeMem(0x952a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe118);
        EXPECT(gbc.pc(), 0x952c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x952a), 0xcb);
        EXPECT(gbc.readMem(0x952b), 0x34);
        // CB 34 0038
        gbc.setState(0xe90c, 0xfd39, 0xcf50, 0x401f, 0xad28, 0x3cc5, 0x1, 0x1);
        gbc.writeMem(0xe90c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xfd39);
        EXPECT(gbc.pc(), 0xe90e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe90c), 0xcb);
        EXPECT(gbc.readMem(0xe90d), 0x34);
        // CB 34 0039
        gbc.setState(0xd9ab, 0x68b6, 0x4540, 0x39d3, 0xf69d, 0xa036, 0x1, 0x1);
        gbc.writeMem(0xd9ab, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x68b6);
        EXPECT(gbc.pc(), 0xd9ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ab), 0xcb);
        EXPECT(gbc.readMem(0xd9ac), 0x34);
        // CB 34 003A
        gbc.setState(0x8154, 0xc398, 0x70f0, 0x9576, 0xb686, 0x4aab, 0x1, 0x0);
        gbc.writeMem(0x8154, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc398);
        EXPECT(gbc.pc(), 0x8156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8154), 0xcb);
        EXPECT(gbc.readMem(0x8155), 0x34);
        // CB 34 003B
        gbc.setState(0xf81, 0x5025, 0xc7d0, 0xf82d, 0x5a7f, 0xa37f, 0x1, 0x0);
        gbc.writeMem(0xf81, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5025);
        EXPECT(gbc.pc(), 0xf83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 003C
        gbc.setState(0x3d18, 0xc45, 0x43a0, 0x9a62, 0xec21, 0x61b6, 0x1, 0x0);
        gbc.writeMem(0x3d18, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc45);
        EXPECT(gbc.pc(), 0x3d1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 003D
        gbc.setState(0xeb5b, 0x8f5f, 0xf10, 0xffa1, 0x6095, 0x9562, 0x1, 0x1);
        gbc.writeMem(0xeb5b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8f5f);
        EXPECT(gbc.pc(), 0xeb5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb5b), 0xcb);
        EXPECT(gbc.readMem(0xeb5c), 0x34);
        // CB 34 003E
        gbc.setState(0x1fcf, 0x4170, 0x3ee0, 0x94be, 0xbbd1, 0x3a2, 0x1, 0x1);
        gbc.writeMem(0x1fcf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4170);
        EXPECT(gbc.pc(), 0x1fd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 003F
        gbc.setState(0xa178, 0x2f8f, 0x2220, 0xafe, 0xdbe9, 0xb1a6, 0x0, 0x0);
        gbc.writeMem(0xa178, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2f8f);
        EXPECT(gbc.pc(), 0xa17a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa178), 0xcb);
        EXPECT(gbc.readMem(0xa179), 0x34);
        // CB 34 0040
        gbc.setState(0xefdf, 0xf862, 0xbce0, 0xc502, 0x9db9, 0xe118, 0x1, 0x1);
        gbc.writeMem(0xefdf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf862);
        EXPECT(gbc.pc(), 0xefe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefdf), 0xcb);
        EXPECT(gbc.readMem(0xefe0), 0x34);
        // CB 34 0041
        gbc.setState(0x98e7, 0x3f71, 0x3c00, 0x40f3, 0x7c4a, 0xd81e, 0x0, 0x1);
        gbc.writeMem(0x98e7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3f71);
        EXPECT(gbc.pc(), 0x98e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98e7), 0xcb);
        EXPECT(gbc.readMem(0x98e8), 0x34);
        // CB 34 0042
        gbc.setState(0x3dfa, 0x4fe2, 0x9540, 0x92fa, 0x1507, 0x8811, 0x1, 0x0);
        gbc.writeMem(0x3dfa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4fe2);
        EXPECT(gbc.pc(), 0x3dfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0043
        gbc.setState(0xeb49, 0x19fa, 0x3950, 0xa918, 0x4acb, 0x8ec5, 0x1, 0x1);
        gbc.writeMem(0xeb49, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x19fa);
        EXPECT(gbc.pc(), 0xeb4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb49), 0xcb);
        EXPECT(gbc.readMem(0xeb4a), 0x34);
        // CB 34 0044
        gbc.setState(0x1e65, 0x4fe0, 0x7350, 0xefa0, 0x6c5d, 0xc0a8, 0x0, 0x0);
        gbc.writeMem(0x1e65, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x4fe0);
        EXPECT(gbc.pc(), 0x1e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0045
        gbc.setState(0x9bc6, 0xbeae, 0x9d40, 0xdedd, 0x3b35, 0x944f, 0x0, 0x0);
        gbc.writeMem(0x9bc6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xbeae);
        EXPECT(gbc.pc(), 0x9bc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bc6), 0xcb);
        EXPECT(gbc.readMem(0x9bc7), 0x34);
        // CB 34 0046
        gbc.setState(0xb848, 0x50e1, 0x6210, 0xc2e4, 0xff78, 0x4f22, 0x1, 0x1);
        gbc.writeMem(0xb848, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x50e1);
        EXPECT(gbc.pc(), 0xb84a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb848), 0xcb);
        EXPECT(gbc.readMem(0xb849), 0x34);
        // CB 34 0047
        gbc.setState(0xb6b7, 0x95dd, 0x2360, 0x75f3, 0xe640, 0x465c, 0x1, 0x0);
        gbc.writeMem(0xb6b7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x95dd);
        EXPECT(gbc.pc(), 0xb6b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b7), 0xcb);
        EXPECT(gbc.readMem(0xb6b8), 0x34);
        // CB 34 0049
        gbc.setState(0xc153, 0x29e5, 0xcd00, 0xf7af, 0x7d70, 0x4f64, 0x0, 0x1);
        gbc.writeMem(0xc153, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x29e5);
        EXPECT(gbc.pc(), 0xc155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc153), 0xcb);
        EXPECT(gbc.readMem(0xc154), 0x34);
        // CB 34 004A
        gbc.setState(0x4170, 0xc07a, 0xf140, 0x848, 0xd9cf, 0x3ef7, 0x0, 0x0);
        gbc.writeMem(0x4170, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc07a);
        EXPECT(gbc.pc(), 0x4172);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 004B
        gbc.setState(0x81dc, 0x3521, 0x4400, 0x2513, 0x1ca3, 0x6806, 0x1, 0x0);
        gbc.writeMem(0x81dc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3521);
        EXPECT(gbc.pc(), 0x81de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81dc), 0xcb);
        EXPECT(gbc.readMem(0x81dd), 0x34);
        // CB 34 004C
        gbc.setState(0x769f, 0x426d, 0x7320, 0x8f28, 0x40f6, 0x783d, 0x1, 0x1);
        gbc.writeMem(0x769f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x426d);
        EXPECT(gbc.pc(), 0x76a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 004D
        gbc.setState(0x5b9, 0x8169, 0x87f0, 0x3e60, 0xdeea, 0x7327, 0x0, 0x0);
        gbc.writeMem(0x5b9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8169);
        EXPECT(gbc.pc(), 0x5bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 004F
        gbc.setState(0x921c, 0x1f12, 0xb790, 0x3560, 0x1abb, 0x63a2, 0x1, 0x1);
        gbc.writeMem(0x921c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x1f12);
        EXPECT(gbc.pc(), 0x921e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x921c), 0xcb);
        EXPECT(gbc.readMem(0x921d), 0x34);
        // CB 34 0050
        gbc.setState(0xc8f8, 0xcabd, 0xd9e0, 0x90be, 0xd316, 0x6153, 0x0, 0x0);
        gbc.writeMem(0xc8f8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcabd);
        EXPECT(gbc.pc(), 0xc8fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f8), 0xcb);
        EXPECT(gbc.readMem(0xc8f9), 0x34);
        // CB 34 0051
        gbc.setState(0x47c2, 0xb8b0, 0x7e80, 0x1a36, 0x4140, 0x719c, 0x0, 0x1);
        gbc.writeMem(0x47c2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb8b0);
        EXPECT(gbc.pc(), 0x47c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0052
        gbc.setState(0x2d39, 0xcd92, 0x1810, 0xca6, 0x257e, 0xc33a, 0x1, 0x0);
        gbc.writeMem(0x2d39, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xcd92);
        EXPECT(gbc.pc(), 0x2d3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0053
        gbc.setState(0xe2c, 0xe710, 0x1110, 0x4d09, 0x8ba6, 0x719b, 0x1, 0x1);
        gbc.writeMem(0xe2c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe710);
        EXPECT(gbc.pc(), 0xe2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0054
        gbc.setState(0xd4e1, 0x21b2, 0xb9d0, 0xd5c1, 0xb381, 0x8b8, 0x0, 0x0);
        gbc.writeMem(0xd4e1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x21b2);
        EXPECT(gbc.pc(), 0xd4e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e1), 0xcb);
        EXPECT(gbc.readMem(0xd4e2), 0x34);
        // CB 34 0055
        gbc.setState(0x9a91, 0xe35a, 0x8dd0, 0xddb, 0x1958, 0xc870, 0x1, 0x0);
        gbc.writeMem(0x9a91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe35a);
        EXPECT(gbc.pc(), 0x9a93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a91), 0xcb);
        EXPECT(gbc.readMem(0x9a92), 0x34);
        // CB 34 0056
        gbc.setState(0x3e20, 0xd92d, 0x1e20, 0xd9fe, 0xb49d, 0x91e8, 0x1, 0x0);
        gbc.writeMem(0x3e20, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd92d);
        EXPECT(gbc.pc(), 0x3e22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0058
        gbc.setState(0xb01a, 0xe69b, 0xbc70, 0x6f3d, 0x11a8, 0x2d92, 0x0, 0x1);
        gbc.writeMem(0xb01a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xe69b);
        EXPECT(gbc.pc(), 0xb01c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb01a), 0xcb);
        EXPECT(gbc.readMem(0xb01b), 0x34);
        // CB 34 0059
        gbc.setState(0x883f, 0x2785, 0x6d20, 0x4256, 0x3c82, 0x5fe8, 0x1, 0x0);
        gbc.writeMem(0x883f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x2785);
        EXPECT(gbc.pc(), 0x8841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x883f), 0xcb);
        EXPECT(gbc.readMem(0x8840), 0x34);
        // CB 34 005A
        gbc.setState(0xdaf9, 0xf655, 0x5720, 0x355a, 0x9667, 0x4181, 0x1, 0x0);
        gbc.writeMem(0xdaf9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf655);
        EXPECT(gbc.pc(), 0xdafb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf9), 0xcb);
        EXPECT(gbc.readMem(0xdafa), 0x34);
        // CB 34 005B
        gbc.setState(0x2ba2, 0x8d99, 0x1290, 0xffaf, 0x478, 0x4341, 0x1, 0x1);
        gbc.writeMem(0x2ba2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8d99);
        EXPECT(gbc.pc(), 0x2ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 005C
        gbc.setState(0x2409, 0x1def, 0x5510, 0x1ff6, 0xa3b8, 0x4d3e, 0x0, 0x1);
        gbc.writeMem(0x2409, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1def);
        EXPECT(gbc.pc(), 0x240b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 005D
        gbc.setState(0x49ac, 0xbaf0, 0x94a0, 0xa118, 0xae84, 0xac32, 0x0, 0x0);
        gbc.writeMem(0x49ac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbaf0);
        EXPECT(gbc.pc(), 0x49ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 005E
        gbc.setState(0x5775, 0xcd49, 0x65d0, 0x73a0, 0xa079, 0x830a, 0x1, 0x0);
        gbc.writeMem(0x5775, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xcd49);
        EXPECT(gbc.pc(), 0x5777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 005F
        gbc.setState(0x3ea4, 0x116c, 0x4860, 0xb99a, 0xa70, 0xd31d, 0x0, 0x1);
        gbc.writeMem(0x3ea4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x116c);
        EXPECT(gbc.pc(), 0x3ea6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0060
        gbc.setState(0x2d8e, 0x9cdc, 0x4c80, 0x61c2, 0x51aa, 0x68a2, 0x0, 0x1);
        gbc.writeMem(0x2d8e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9cdc);
        EXPECT(gbc.pc(), 0x2d90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0061
        gbc.setState(0xc97f, 0x6bf9, 0xa0a0, 0xbb15, 0x84ac, 0x5349, 0x0, 0x1);
        gbc.writeMem(0xc97f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6bf9);
        EXPECT(gbc.pc(), 0xc981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc97f), 0xcb);
        EXPECT(gbc.readMem(0xc980), 0x34);
        // CB 34 0062
        gbc.setState(0xb7e1, 0x8671, 0x7a90, 0xe53f, 0xc6f, 0xba98, 0x1, 0x1);
        gbc.writeMem(0xb7e1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8671);
        EXPECT(gbc.pc(), 0xb7e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7e1), 0xcb);
        EXPECT(gbc.readMem(0xb7e2), 0x34);
        // CB 34 0063
        gbc.setState(0xda24, 0xa5aa, 0x9820, 0x57d6, 0x438d, 0xef6b, 0x0, 0x0);
        gbc.writeMem(0xda24, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa5aa);
        EXPECT(gbc.pc(), 0xda26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda24), 0xcb);
        EXPECT(gbc.readMem(0xda25), 0x34);
        // CB 34 0064
        gbc.setState(0x2c5d, 0xcb22, 0xe50, 0x7ea, 0x5c71, 0x9cd5, 0x1, 0x1);
        gbc.writeMem(0x2c5d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xcb22);
        EXPECT(gbc.pc(), 0x2c5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0065
        gbc.setState(0xaa33, 0x33c6, 0xdbf0, 0x676e, 0x11af, 0x9275, 0x0, 0x1);
        gbc.writeMem(0xaa33, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x33c6);
        EXPECT(gbc.pc(), 0xaa35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa33), 0xcb);
        EXPECT(gbc.readMem(0xaa34), 0x34);
        // CB 34 0066
        gbc.setState(0xe7e2, 0x3ae8, 0xb440, 0x3885, 0xbc48, 0x2bf2, 0x1, 0x0);
        gbc.writeMem(0xe7e2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3ae8);
        EXPECT(gbc.pc(), 0xe7e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7e2), 0xcb);
        EXPECT(gbc.readMem(0xe7e3), 0x34);
        // CB 34 0067
        gbc.setState(0x1184, 0x79b0, 0x8410, 0xec2e, 0x1294, 0x6689, 0x0, 0x1);
        gbc.writeMem(0x1184, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x79b0);
        EXPECT(gbc.pc(), 0x1186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0068
        gbc.setState(0x24f9, 0x5a66, 0xf90, 0x3a1, 0xcd11, 0x7432, 0x1, 0x0);
        gbc.writeMem(0x24f9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5a66);
        EXPECT(gbc.pc(), 0x24fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0069
        gbc.setState(0x2ae0, 0x9ee0, 0x7b00, 0xbc65, 0x37dd, 0x40a7, 0x1, 0x0);
        gbc.writeMem(0x2ae0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9ee0);
        EXPECT(gbc.pc(), 0x2ae2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 006A
        gbc.setState(0xddcb, 0xd1c2, 0xf8a0, 0x149a, 0x49aa, 0xba18, 0x1, 0x0);
        gbc.writeMem(0xddcb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd1c2);
        EXPECT(gbc.pc(), 0xddcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddcb), 0xcb);
        EXPECT(gbc.readMem(0xddcc), 0x34);
        // CB 34 006B
        gbc.setState(0xec1e, 0x9751, 0xce40, 0xbadf, 0x8f33, 0x51b3, 0x1, 0x0);
        gbc.writeMem(0xec1e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9751);
        EXPECT(gbc.pc(), 0xec20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec1e), 0xcb);
        EXPECT(gbc.readMem(0xec1f), 0x34);
        // CB 34 006C
        gbc.setState(0x4d4b, 0x5c3a, 0xfb20, 0x9f2b, 0x3e9f, 0xace9, 0x0, 0x0);
        gbc.writeMem(0x4d4b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5c3a);
        EXPECT(gbc.pc(), 0x4d4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 006D
        gbc.setState(0x1f1e, 0xd8a7, 0x15a0, 0x2532, 0xcb3c, 0x9891, 0x1, 0x0);
        gbc.writeMem(0x1f1e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd8a7);
        EXPECT(gbc.pc(), 0x1f20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 006E
        gbc.setState(0xcfe1, 0x3ae2, 0x1530, 0xe2a1, 0xf65d, 0x2ee1, 0x0, 0x0);
        gbc.writeMem(0xcfe1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x3ae2);
        EXPECT(gbc.pc(), 0xcfe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe1), 0xcb);
        EXPECT(gbc.readMem(0xcfe2), 0x34);
        // CB 34 006F
        gbc.setState(0xa81c, 0x1f1f, 0x9c40, 0x6a92, 0x284a, 0x135b, 0x0, 0x1);
        gbc.writeMem(0xa81c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1f1f);
        EXPECT(gbc.pc(), 0xa81e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81c), 0xcb);
        EXPECT(gbc.readMem(0xa81d), 0x34);
        // CB 34 0070
        gbc.setState(0x8397, 0x9554, 0x72d0, 0xa65f, 0xeabf, 0xe8b8, 0x1, 0x0);
        gbc.writeMem(0x8397, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9554);
        EXPECT(gbc.pc(), 0x8399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8397), 0xcb);
        EXPECT(gbc.readMem(0x8398), 0x34);
        // CB 34 0071
        gbc.setState(0x7561, 0x8787, 0x9900, 0x9623, 0x3739, 0xdb7c, 0x0, 0x1);
        gbc.writeMem(0x7561, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x8787);
        EXPECT(gbc.pc(), 0x7563);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0072
        gbc.setState(0xe7d9, 0xefa3, 0x8460, 0x68ca, 0xcfe0, 0x9d94, 0x1, 0x1);
        gbc.writeMem(0xe7d9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xefa3);
        EXPECT(gbc.pc(), 0xe7db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7d9), 0xcb);
        EXPECT(gbc.readMem(0xe7da), 0x34);
        // CB 34 0073
        gbc.setState(0x6400, 0x1b6e, 0x50e0, 0x5b70, 0x9898, 0xd9f1, 0x1, 0x0);
        gbc.writeMem(0x6400, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x1b6e);
        EXPECT(gbc.pc(), 0x6402);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0074
        gbc.setState(0xd99c, 0xb3e0, 0x1940, 0xbf73, 0xd5e6, 0xc2da, 0x0, 0x1);
        gbc.writeMem(0xd99c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xb3e0);
        EXPECT(gbc.pc(), 0xd99e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd99c), 0xcb);
        EXPECT(gbc.readMem(0xd99d), 0x34);
        // CB 34 0075
        gbc.setState(0x56a3, 0xe506, 0x7440, 0x2179, 0xcbd9, 0x655b, 0x1, 0x0);
        gbc.writeMem(0x56a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe506);
        EXPECT(gbc.pc(), 0x56a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0076
        gbc.setState(0x31d5, 0x9f7f, 0x7c70, 0x9926, 0xabad, 0x8194, 0x1, 0x1);
        gbc.writeMem(0x31d5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9f7f);
        EXPECT(gbc.pc(), 0x31d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0077
        gbc.setState(0xdf2f, 0xe5c6, 0x4a50, 0x4d8c, 0x1899, 0xbf60, 0x1, 0x1);
        gbc.writeMem(0xdf2f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe5c6);
        EXPECT(gbc.pc(), 0xdf31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf2f), 0xcb);
        EXPECT(gbc.readMem(0xdf30), 0x34);
        // CB 34 0078
        gbc.setState(0xcc26, 0x294c, 0x1330, 0x170e, 0x6f74, 0xc2d, 0x0, 0x1);
        gbc.writeMem(0xcc26, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x294c);
        EXPECT(gbc.pc(), 0xcc28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc26), 0xcb);
        EXPECT(gbc.readMem(0xcc27), 0x34);
        // CB 34 0079
        gbc.setState(0xa311, 0x14c9, 0x5fb0, 0x64be, 0xcd24, 0x6677, 0x0, 0x1);
        gbc.writeMem(0xa311, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x14c9);
        EXPECT(gbc.pc(), 0xa313);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa311), 0xcb);
        EXPECT(gbc.readMem(0xa312), 0x34);
        // CB 34 007B
        gbc.setState(0x1b9d, 0xf63c, 0x7bc0, 0x8858, 0x47b2, 0xa66e, 0x1, 0x1);
        gbc.writeMem(0x1b9d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf63c);
        EXPECT(gbc.pc(), 0x1b9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 007C
        gbc.setState(0x9c5c, 0x7fd6, 0xc5a0, 0x33dc, 0x205d, 0xa2, 0x0, 0x0);
        gbc.writeMem(0x9c5c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7fd6);
        EXPECT(gbc.pc(), 0x9c5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c5c), 0xcb);
        EXPECT(gbc.readMem(0x9c5d), 0x34);
        // CB 34 007D
        gbc.setState(0x3eb6, 0x58fd, 0xd5e0, 0x1dee, 0xff9, 0x758e, 0x0, 0x0);
        gbc.writeMem(0x3eb6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x58fd);
        EXPECT(gbc.pc(), 0x3eb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 007E
        gbc.setState(0xdf44, 0x7ea1, 0x360, 0x86c2, 0x1e67, 0xf7fe, 0x1, 0x1);
        gbc.writeMem(0xdf44, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7ea1);
        EXPECT(gbc.pc(), 0xdf46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf44), 0xcb);
        EXPECT(gbc.readMem(0xdf45), 0x34);
        // CB 34 007F
        gbc.setState(0xb1d1, 0xde5e, 0x67c0, 0x58f0, 0x4c4a, 0xfac1, 0x0, 0x0);
        gbc.writeMem(0xb1d1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xde5e);
        EXPECT(gbc.pc(), 0xb1d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1d1), 0xcb);
        EXPECT(gbc.readMem(0xb1d2), 0x34);
        // CB 34 0080
        gbc.setState(0x275a, 0x5e9a, 0x2eb0, 0xe7a4, 0xab7f, 0xba00, 0x0, 0x0);
        gbc.writeMem(0x275a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x5e9a);
        EXPECT(gbc.pc(), 0x275c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0081
        gbc.setState(0x7ce0, 0xe93b, 0x5230, 0x3f51, 0x3bfa, 0x48b1, 0x0, 0x1);
        gbc.writeMem(0x7ce0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe93b);
        EXPECT(gbc.pc(), 0x7ce2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0082
        gbc.setState(0xef45, 0xc80c, 0xb650, 0x8839, 0x48a9, 0x6b86, 0x0, 0x1);
        gbc.writeMem(0xef45, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc80c);
        EXPECT(gbc.pc(), 0xef47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef45), 0xcb);
        EXPECT(gbc.readMem(0xef46), 0x34);
        // CB 34 0083
        gbc.setState(0x9242, 0x2ded, 0x1470, 0xb1b4, 0x30af, 0xc3ce, 0x1, 0x1);
        gbc.writeMem(0x9242, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2ded);
        EXPECT(gbc.pc(), 0x9244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9242), 0xcb);
        EXPECT(gbc.readMem(0x9243), 0x34);
        // CB 34 0084
        gbc.setState(0xda83, 0x9e5c, 0x9400, 0xe68, 0x53b9, 0x9bed, 0x0, 0x0);
        gbc.writeMem(0xda83, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x9e5c);
        EXPECT(gbc.pc(), 0xda85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda83), 0xcb);
        EXPECT(gbc.readMem(0xda84), 0x34);
        // CB 34 0085
        gbc.setState(0x145, 0xc1c7, 0xb550, 0x1df9, 0x80eb, 0xb5fe, 0x1, 0x1);
        gbc.writeMem(0x145, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc1c7);
        EXPECT(gbc.pc(), 0x147);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0086
        gbc.setState(0x667e, 0xf0b3, 0x2f30, 0x57df, 0x9eb0, 0x3fef, 0x1, 0x0);
        gbc.writeMem(0x667e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf0b3);
        EXPECT(gbc.pc(), 0x6680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0087
        gbc.setState(0x20c1, 0xfeab, 0x7560, 0x377d, 0x454, 0xf2fa, 0x0, 0x0);
        gbc.writeMem(0x20c1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfeab);
        EXPECT(gbc.pc(), 0x20c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0088
        gbc.setState(0x6db6, 0x8462, 0x31f0, 0x25f4, 0x2ed9, 0xc386, 0x0, 0x0);
        gbc.writeMem(0x6db6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x8462);
        EXPECT(gbc.pc(), 0x6db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 008A
        gbc.setState(0xeaf3, 0xa6e6, 0xcb60, 0x50df, 0x37b4, 0x31c1, 0x0, 0x0);
        gbc.writeMem(0xeaf3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa6e6);
        EXPECT(gbc.pc(), 0xeaf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaf3), 0xcb);
        EXPECT(gbc.readMem(0xeaf4), 0x34);
        // CB 34 008B
        gbc.setState(0xb125, 0x733e, 0x25c0, 0xcfd3, 0xc8fc, 0x68bf, 0x1, 0x0);
        gbc.writeMem(0xb125, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x733e);
        EXPECT(gbc.pc(), 0xb127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb125), 0xcb);
        EXPECT(gbc.readMem(0xb126), 0x34);
        // CB 34 008D
        gbc.setState(0x40af, 0x413e, 0xbba0, 0x6497, 0x444a, 0x7e0e, 0x1, 0x1);
        gbc.writeMem(0x40af, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x413e);
        EXPECT(gbc.pc(), 0x40b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 008E
        gbc.setState(0xe214, 0x6ecb, 0x8470, 0x21f3, 0x18a9, 0x9a87, 0x1, 0x0);
        gbc.writeMem(0xe214, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6ecb);
        EXPECT(gbc.pc(), 0xe216);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe214), 0xcb);
        EXPECT(gbc.readMem(0xe215), 0x34);
        // CB 34 008F
        gbc.setState(0xc96f, 0x15fe, 0x9b90, 0xd500, 0x5b40, 0xfb46, 0x1, 0x1);
        gbc.writeMem(0xc96f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x15fe);
        EXPECT(gbc.pc(), 0xc971);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc96f), 0xcb);
        EXPECT(gbc.readMem(0xc970), 0x34);
        // CB 34 0090
        gbc.setState(0x9c89, 0x3358, 0xc3e0, 0xa74d, 0xd7ba, 0xeeb, 0x0, 0x1);
        gbc.writeMem(0x9c89, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3358);
        EXPECT(gbc.pc(), 0x9c8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c89), 0xcb);
        EXPECT(gbc.readMem(0x9c8a), 0x34);
        // CB 34 0091
        gbc.setState(0xd17c, 0x8982, 0x950, 0x9992, 0x39f4, 0x414e, 0x0, 0x1);
        gbc.writeMem(0xd17c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8982);
        EXPECT(gbc.pc(), 0xd17e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd17c), 0xcb);
        EXPECT(gbc.readMem(0xd17d), 0x34);
        // CB 34 0092
        gbc.setState(0x1f10, 0x9ddf, 0x4f10, 0xd102, 0xe331, 0x1e8c, 0x0, 0x1);
        gbc.writeMem(0x1f10, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x9ddf);
        EXPECT(gbc.pc(), 0x1f12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0093
        gbc.setState(0x40b0, 0xfa4b, 0x8cd0, 0xb5b9, 0x7243, 0x7813, 0x1, 0x0);
        gbc.writeMem(0x40b0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xfa4b);
        EXPECT(gbc.pc(), 0x40b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0094
        gbc.setState(0xa000, 0x477, 0x15c0, 0xd560, 0xbe01, 0xee93, 0x0, 0x0);
        gbc.writeMem(0xa000, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x477);
        EXPECT(gbc.pc(), 0xa002);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa000), 0xcb);
        EXPECT(gbc.readMem(0xa001), 0x34);
        // CB 34 0095
        gbc.setState(0xebee, 0x9cc2, 0x6ec0, 0x2f4b, 0x20ea, 0x76d2, 0x1, 0x1);
        gbc.writeMem(0xebee, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9cc2);
        EXPECT(gbc.pc(), 0xebf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebee), 0xcb);
        EXPECT(gbc.readMem(0xebef), 0x34);
        // CB 34 0096
        gbc.setState(0x5ae4, 0x395a, 0x69c0, 0x57f6, 0x793d, 0xdc16, 0x0, 0x1);
        gbc.writeMem(0x5ae4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x395a);
        EXPECT(gbc.pc(), 0x5ae6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0097
        gbc.setState(0x4377, 0x5830, 0x9070, 0xceda, 0x8ad8, 0xd25a, 0x0, 0x0);
        gbc.writeMem(0x4377, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5830);
        EXPECT(gbc.pc(), 0x4379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0099
        gbc.setState(0xd8e3, 0x3e49, 0x2b20, 0xfb51, 0xb635, 0x80a0, 0x1, 0x1);
        gbc.writeMem(0xd8e3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3e49);
        EXPECT(gbc.pc(), 0xd8e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8e3), 0xcb);
        EXPECT(gbc.readMem(0xd8e4), 0x34);
        // CB 34 009A
        gbc.setState(0xc893, 0x7973, 0x6ff0, 0xb84f, 0x1be5, 0x1384, 0x0, 0x1);
        gbc.writeMem(0xc893, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7973);
        EXPECT(gbc.pc(), 0xc895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc893), 0xcb);
        EXPECT(gbc.readMem(0xc894), 0x34);
        // CB 34 009B
        gbc.setState(0x9925, 0xba2b, 0xa8e0, 0xfa29, 0x2b29, 0x427b, 0x0, 0x0);
        gbc.writeMem(0x9925, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xba2b);
        EXPECT(gbc.pc(), 0x9927);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9925), 0xcb);
        EXPECT(gbc.readMem(0x9926), 0x34);
        // CB 34 009C
        gbc.setState(0xb132, 0x7073, 0x4340, 0x8c30, 0x74cc, 0x5737, 0x1, 0x1);
        gbc.writeMem(0xb132, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x7073);
        EXPECT(gbc.pc(), 0xb134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb132), 0xcb);
        EXPECT(gbc.readMem(0xb133), 0x34);
        // CB 34 009D
        gbc.setState(0x27fd, 0x8bc5, 0x5f50, 0x2dd7, 0xab6e, 0x83cb, 0x1, 0x1);
        gbc.writeMem(0x27fd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8bc5);
        EXPECT(gbc.pc(), 0x27ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 009F
        gbc.setState(0x2e25, 0xc8b0, 0x4980, 0x749b, 0xf9aa, 0x2b07, 0x0, 0x1);
        gbc.writeMem(0x2e25, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc8b0);
        EXPECT(gbc.pc(), 0x2e27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A0
        gbc.setState(0x32ff, 0xc290, 0x5950, 0x9ec3, 0x754b, 0x6bcb, 0x1, 0x1);
        gbc.writeMem(0x32ff, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xc290);
        EXPECT(gbc.pc(), 0x3301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A1
        gbc.setState(0xb701, 0xfeac, 0x97a0, 0xfc33, 0xaba1, 0xe340, 0x1, 0x0);
        gbc.writeMem(0xb701, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfeac);
        EXPECT(gbc.pc(), 0xb703);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb701), 0xcb);
        EXPECT(gbc.readMem(0xb702), 0x34);
        // CB 34 00A2
        gbc.setState(0x6ee5, 0xf494, 0xc410, 0x9a, 0x1fa4, 0xfe5d, 0x0, 0x0);
        gbc.writeMem(0x6ee5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf494);
        EXPECT(gbc.pc(), 0x6ee7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A3
        gbc.setState(0xed1b, 0xc347, 0x89a0, 0xab0b, 0xdfdf, 0xde93, 0x1, 0x1);
        gbc.writeMem(0xed1b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc347);
        EXPECT(gbc.pc(), 0xed1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed1b), 0xcb);
        EXPECT(gbc.readMem(0xed1c), 0x34);
        // CB 34 00A5
        gbc.setState(0x627d, 0x5528, 0x4cf0, 0x83ee, 0xfdd6, 0x45a5, 0x1, 0x1);
        gbc.writeMem(0x627d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5528);
        EXPECT(gbc.pc(), 0x627f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A6
        gbc.setState(0xdbac, 0x8e73, 0xd160, 0x23f8, 0x465f, 0x2dbe, 0x1, 0x1);
        gbc.writeMem(0xdbac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8e73);
        EXPECT(gbc.pc(), 0xdbae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbac), 0xcb);
        EXPECT(gbc.readMem(0xdbad), 0x34);
        // CB 34 00A7
        gbc.setState(0x1b90, 0xcd96, 0xe9e0, 0x5fba, 0xce98, 0x8aa9, 0x0, 0x1);
        gbc.writeMem(0x1b90, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcd96);
        EXPECT(gbc.pc(), 0x1b92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A8
        gbc.setState(0x3fbf, 0xd85f, 0xd9f0, 0x8d84, 0xafba, 0xef11, 0x1, 0x1);
        gbc.writeMem(0x3fbf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd85f);
        EXPECT(gbc.pc(), 0x3fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00A9
        gbc.setState(0x64c2, 0x80bf, 0xfd10, 0xc446, 0xe4b4, 0xe95c, 0x1, 0x0);
        gbc.writeMem(0x64c2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x80bf);
        EXPECT(gbc.pc(), 0x64c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00AA
        gbc.setState(0xed1d, 0x9a3e, 0xd7b0, 0x8978, 0xcb22, 0xb43e, 0x1, 0x0);
        gbc.writeMem(0xed1d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9a3e);
        EXPECT(gbc.pc(), 0xed1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed1d), 0xcb);
        EXPECT(gbc.readMem(0xed1e), 0x34);
        // CB 34 00AB
        gbc.setState(0x3f91, 0x9ce2, 0xc900, 0x929c, 0x4ffd, 0x3d08, 0x1, 0x0);
        gbc.writeMem(0x3f91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9ce2);
        EXPECT(gbc.pc(), 0x3f93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00AC
        gbc.setState(0x9287, 0x4fbc, 0x35c0, 0x8e37, 0x1be4, 0xb14, 0x1, 0x1);
        gbc.writeMem(0x9287, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4fbc);
        EXPECT(gbc.pc(), 0x9289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9287), 0xcb);
        EXPECT(gbc.readMem(0x9288), 0x34);
        // CB 34 00AD
        gbc.setState(0xa45f, 0x6770, 0x7300, 0x1586, 0x1aeb, 0x8b53, 0x0, 0x1);
        gbc.writeMem(0xa45f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6770);
        EXPECT(gbc.pc(), 0xa461);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa45f), 0xcb);
        EXPECT(gbc.readMem(0xa460), 0x34);
        // CB 34 00AE
        gbc.setState(0x5a24, 0x74bf, 0xb560, 0x99fa, 0x7b0a, 0x79b4, 0x1, 0x0);
        gbc.writeMem(0x5a24, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x74bf);
        EXPECT(gbc.pc(), 0x5a26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00B0
        gbc.setState(0xd910, 0x281c, 0xc380, 0xf5cc, 0x2de8, 0x61b9, 0x0, 0x0);
        gbc.writeMem(0xd910, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x281c);
        EXPECT(gbc.pc(), 0xd912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd910), 0xcb);
        EXPECT(gbc.readMem(0xd911), 0x34);
        // CB 34 00B1
        gbc.setState(0x7c35, 0x6f5b, 0x24b0, 0xb23c, 0x562c, 0xf5c9, 0x1, 0x0);
        gbc.writeMem(0x7c35, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6f5b);
        EXPECT(gbc.pc(), 0x7c37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00B2
        gbc.setState(0xa838, 0x4fb8, 0x8740, 0xc6f, 0x407b, 0xf1a0, 0x1, 0x1);
        gbc.writeMem(0xa838, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4fb8);
        EXPECT(gbc.pc(), 0xa83a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa838), 0xcb);
        EXPECT(gbc.readMem(0xa839), 0x34);
        // CB 34 00B3
        gbc.setState(0x3431, 0x7fe9, 0x8650, 0x7db4, 0x11b1, 0xda95, 0x0, 0x1);
        gbc.writeMem(0x3431, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7fe9);
        EXPECT(gbc.pc(), 0x3433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00B4
        gbc.setState(0xdcd8, 0xae54, 0xb8a0, 0xeb4, 0xbe02, 0xbf15, 0x0, 0x0);
        gbc.writeMem(0xdcd8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xae54);
        EXPECT(gbc.pc(), 0xdcda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd8), 0xcb);
        EXPECT(gbc.readMem(0xdcd9), 0x34);
        // CB 34 00B5
        gbc.setState(0x1e32, 0x432f, 0x1bb0, 0xe757, 0xeaec, 0xa534, 0x1, 0x1);
        gbc.writeMem(0x1e32, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x432f);
        EXPECT(gbc.pc(), 0x1e34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00B6
        gbc.setState(0xa6ff, 0xdb26, 0xabc0, 0x266, 0x89cb, 0xaf46, 0x1, 0x1);
        gbc.writeMem(0xa6ff, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xdb26);
        EXPECT(gbc.pc(), 0xa701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6ff), 0xcb);
        EXPECT(gbc.readMem(0xa700), 0x34);
        // CB 34 00B7
        gbc.setState(0xe22d, 0x6fca, 0x3540, 0x4e66, 0xf4e1, 0xe02f, 0x1, 0x0);
        gbc.writeMem(0xe22d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6fca);
        EXPECT(gbc.pc(), 0xe22f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe22d), 0xcb);
        EXPECT(gbc.readMem(0xe22e), 0x34);
        // CB 34 00B8
        gbc.setState(0xa82b, 0xbe57, 0x73e0, 0x9683, 0xe599, 0x22fe, 0x0, 0x1);
        gbc.writeMem(0xa82b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xbe57);
        EXPECT(gbc.pc(), 0xa82d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa82b), 0xcb);
        EXPECT(gbc.readMem(0xa82c), 0x34);
        // CB 34 00B9
        gbc.setState(0x5a1c, 0x5724, 0x5ba0, 0x5dc3, 0xbcde, 0xa131, 0x1, 0x1);
        gbc.writeMem(0x5a1c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5724);
        EXPECT(gbc.pc(), 0x5a1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00BB
        gbc.setState(0x9cb8, 0xabad, 0xc360, 0xc6c9, 0xf4a, 0xe7e9, 0x0, 0x0);
        gbc.writeMem(0x9cb8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xabad);
        EXPECT(gbc.pc(), 0x9cba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cb8), 0xcb);
        EXPECT(gbc.readMem(0x9cb9), 0x34);
        // CB 34 00BC
        gbc.setState(0x4e61, 0xc49f, 0xa520, 0xd451, 0xd17c, 0x99ac, 0x0, 0x1);
        gbc.writeMem(0x4e61, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc49f);
        EXPECT(gbc.pc(), 0x4e63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00BE
        gbc.setState(0xd6ed, 0x997c, 0xabe0, 0x2cad, 0x8d47, 0xc809, 0x1, 0x0);
        gbc.writeMem(0xd6ed, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x997c);
        EXPECT(gbc.pc(), 0xd6ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6ed), 0xcb);
        EXPECT(gbc.readMem(0xd6ee), 0x34);
        // CB 34 00BF
        gbc.setState(0x3b23, 0x2e72, 0x9550, 0x12a4, 0x4386, 0xf457, 0x0, 0x1);
        gbc.writeMem(0x3b23, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2e72);
        EXPECT(gbc.pc(), 0x3b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00C0
        gbc.setState(0x3770, 0x3edc, 0xabb0, 0x99a9, 0x9cfc, 0xfc42, 0x1, 0x0);
        gbc.writeMem(0x3770, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3edc);
        EXPECT(gbc.pc(), 0x3772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00C1
        gbc.setState(0xe60c, 0x86b6, 0xf6a0, 0x2761, 0x4f11, 0x5f2f, 0x0, 0x1);
        gbc.writeMem(0xe60c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x86b6);
        EXPECT(gbc.pc(), 0xe60e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe60c), 0xcb);
        EXPECT(gbc.readMem(0xe60d), 0x34);
        // CB 34 00C2
        gbc.setState(0x51f2, 0x776, 0x3ae0, 0x29cc, 0x79f8, 0x5782, 0x0, 0x0);
        gbc.writeMem(0x51f2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x776);
        EXPECT(gbc.pc(), 0x51f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00C3
        gbc.setState(0xb0e4, 0x1a7a, 0xe260, 0x5f0a, 0xee3f, 0xc97f, 0x0, 0x1);
        gbc.writeMem(0xb0e4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1a7a);
        EXPECT(gbc.pc(), 0xb0e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e4), 0xcb);
        EXPECT(gbc.readMem(0xb0e5), 0x34);
        // CB 34 00C4
        gbc.setState(0x7154, 0x8245, 0x6100, 0x1a96, 0x24be, 0x2d3d, 0x1, 0x0);
        gbc.writeMem(0x7154, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x8245);
        EXPECT(gbc.pc(), 0x7156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00C5
        gbc.setState(0xd75c, 0xef7e, 0x9890, 0xc521, 0x12ee, 0x7494, 0x0, 0x1);
        gbc.writeMem(0xd75c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xef7e);
        EXPECT(gbc.pc(), 0xd75e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd75c), 0xcb);
        EXPECT(gbc.readMem(0xd75d), 0x34);
        // CB 34 00C6
        gbc.setState(0x89cc, 0xaf5c, 0x4ed0, 0xc5e9, 0xf5e9, 0xd5af, 0x0, 0x1);
        gbc.writeMem(0x89cc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xaf5c);
        EXPECT(gbc.pc(), 0x89ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89cc), 0xcb);
        EXPECT(gbc.readMem(0x89cd), 0x34);
        // CB 34 00C7
        gbc.setState(0x82dd, 0x577a, 0x7380, 0xb760, 0x4625, 0xf638, 0x1, 0x0);
        gbc.writeMem(0x82dd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x577a);
        EXPECT(gbc.pc(), 0x82df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82dd), 0xcb);
        EXPECT(gbc.readMem(0x82de), 0x34);
        // CB 34 00C8
        gbc.setState(0xc44f, 0xba62, 0xf760, 0x27a0, 0x6f74, 0x1945, 0x1, 0x1);
        gbc.writeMem(0xc44f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xba62);
        EXPECT(gbc.pc(), 0xc451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc44f), 0xcb);
        EXPECT(gbc.readMem(0xc450), 0x34);
        // CB 34 00C9
        gbc.setState(0xe694, 0x20aa, 0x69e0, 0x435d, 0x92ec, 0x94d2, 0x1, 0x1);
        gbc.writeMem(0xe694, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x20aa);
        EXPECT(gbc.pc(), 0xe696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe694), 0xcb);
        EXPECT(gbc.readMem(0xe695), 0x34);
        // CB 34 00CA
        gbc.setState(0x6531, 0xf771, 0xf3c0, 0xe591, 0x8970, 0xe66b, 0x0, 0x1);
        gbc.writeMem(0x6531, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf771);
        EXPECT(gbc.pc(), 0x6533);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00CB
        gbc.setState(0x2ea4, 0x62a9, 0xecb0, 0x3203, 0x569f, 0x780d, 0x1, 0x1);
        gbc.writeMem(0x2ea4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x62a9);
        EXPECT(gbc.pc(), 0x2ea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00CC
        gbc.setState(0x2793, 0xe7b7, 0xb40, 0xfcd1, 0x196e, 0x50d5, 0x0, 0x1);
        gbc.writeMem(0x2793, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe7b7);
        EXPECT(gbc.pc(), 0x2795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00CD
        gbc.setState(0x3341, 0x1053, 0xeca0, 0xb9c3, 0xf360, 0xa18c, 0x1, 0x0);
        gbc.writeMem(0x3341, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1053);
        EXPECT(gbc.pc(), 0x3343);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00CE
        gbc.setState(0x7693, 0x7444, 0xbcc0, 0xa47e, 0x85db, 0xcdc5, 0x0, 0x1);
        gbc.writeMem(0x7693, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x7444);
        EXPECT(gbc.pc(), 0x7695);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00CF
        gbc.setState(0x586c, 0xed7a, 0x64f0, 0x5197, 0x37, 0x20f6, 0x0, 0x1);
        gbc.writeMem(0x586c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xed7a);
        EXPECT(gbc.pc(), 0x586e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D0
        gbc.setState(0x263f, 0xa984, 0x1280, 0x2d9f, 0x2217, 0x3497, 0x0, 0x1);
        gbc.writeMem(0x263f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa984);
        EXPECT(gbc.pc(), 0x2641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D1
        gbc.setState(0x2d99, 0x4b50, 0x3d80, 0x48fe, 0x9fd2, 0xf68f, 0x0, 0x1);
        gbc.writeMem(0x2d99, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4b50);
        EXPECT(gbc.pc(), 0x2d9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D2
        gbc.setState(0xc30b, 0x885d, 0x60b0, 0x985b, 0x5209, 0xfb04, 0x1, 0x0);
        gbc.writeMem(0xc30b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x885d);
        EXPECT(gbc.pc(), 0xc30d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc30b), 0xcb);
        EXPECT(gbc.readMem(0xc30c), 0x34);
        // CB 34 00D3
        gbc.setState(0xb4db, 0xb43e, 0x2b30, 0xcbb3, 0x736d, 0x5388, 0x0, 0x1);
        gbc.writeMem(0xb4db, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb43e);
        EXPECT(gbc.pc(), 0xb4dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4db), 0xcb);
        EXPECT(gbc.readMem(0xb4dc), 0x34);
        // CB 34 00D4
        gbc.setState(0x6c96, 0x38d6, 0x80d0, 0xb2e, 0x18f7, 0xb097, 0x1, 0x0);
        gbc.writeMem(0x6c96, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x38d6);
        EXPECT(gbc.pc(), 0x6c98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D5
        gbc.setState(0xe1e2, 0xa8d0, 0x3e90, 0xa961, 0xd56e, 0x7461, 0x1, 0x1);
        gbc.writeMem(0xe1e2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa8d0);
        EXPECT(gbc.pc(), 0xe1e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e2), 0xcb);
        EXPECT(gbc.readMem(0xe1e3), 0x34);
        // CB 34 00D6
        gbc.setState(0x48e9, 0xe953, 0x8890, 0x6243, 0xecce, 0x6142, 0x1, 0x1);
        gbc.writeMem(0x48e9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe953);
        EXPECT(gbc.pc(), 0x48eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D7
        gbc.setState(0x16e8, 0xbbc9, 0x86c0, 0xc2f3, 0x255e, 0xb5dc, 0x0, 0x0);
        gbc.writeMem(0x16e8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xbbc9);
        EXPECT(gbc.pc(), 0x16ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00D8
        gbc.setState(0x4b56, 0x34e, 0x2790, 0x8456, 0xdc31, 0x943d, 0x1, 0x1);
        gbc.writeMem(0x4b56, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x34e);
        EXPECT(gbc.pc(), 0x4b58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00DB
        gbc.setState(0x7a47, 0x65b, 0x3aa0, 0x481e, 0x44b2, 0xa114, 0x1, 0x0);
        gbc.writeMem(0x7a47, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x65b);
        EXPECT(gbc.pc(), 0x7a49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00DC
        gbc.setState(0x6129, 0x92f1, 0x7f80, 0x4e33, 0xafb8, 0x9516, 0x0, 0x0);
        gbc.writeMem(0x6129, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x92f1);
        EXPECT(gbc.pc(), 0x612b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00DD
        gbc.setState(0xb7e8, 0x677e, 0x5090, 0x2f81, 0x4624, 0xa77b, 0x0, 0x0);
        gbc.writeMem(0xb7e8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x677e);
        EXPECT(gbc.pc(), 0xb7ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7e8), 0xcb);
        EXPECT(gbc.readMem(0xb7e9), 0x34);
        // CB 34 00DE
        gbc.setState(0xe9e, 0xc04d, 0xfdb0, 0xd15e, 0xa0fe, 0x2e9e, 0x0, 0x1);
        gbc.writeMem(0xe9e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc04d);
        EXPECT(gbc.pc(), 0xea0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00DF
        gbc.setState(0x6fb4, 0xb91a, 0xf90, 0x9fe8, 0x1b63, 0x4877, 0x0, 0x0);
        gbc.writeMem(0x6fb4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb91a);
        EXPECT(gbc.pc(), 0x6fb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E0
        gbc.setState(0x7413, 0x7422, 0x66e0, 0xf5f2, 0xe2b1, 0xeab0, 0x1, 0x1);
        gbc.writeMem(0x7413, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7422);
        EXPECT(gbc.pc(), 0x7415);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E1
        gbc.setState(0xe40e, 0xa357, 0x2200, 0x624f, 0x93a4, 0x1c02, 0x1, 0x1);
        gbc.writeMem(0xe40e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa357);
        EXPECT(gbc.pc(), 0xe410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40e), 0xcb);
        EXPECT(gbc.readMem(0xe40f), 0x34);
        // CB 34 00E2
        gbc.setState(0x57b, 0x1e5f, 0x7ff0, 0x69f4, 0x6428, 0xf4e6, 0x0, 0x1);
        gbc.writeMem(0x57b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x1e5f);
        EXPECT(gbc.pc(), 0x57d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E3
        gbc.setState(0x4c08, 0x7c0b, 0x31f0, 0x3f48, 0xb0b5, 0x6241, 0x1, 0x0);
        gbc.writeMem(0x4c08, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7c0b);
        EXPECT(gbc.pc(), 0x4c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E4
        gbc.setState(0x7b05, 0x66b1, 0x7f80, 0x4caf, 0x4872, 0xd05, 0x0, 0x0);
        gbc.writeMem(0x7b05, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x66b1);
        EXPECT(gbc.pc(), 0x7b07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E5
        gbc.setState(0x8810, 0x2c49, 0x310, 0xa3bd, 0xfdc7, 0x16b4, 0x1, 0x1);
        gbc.writeMem(0x8810, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2c49);
        EXPECT(gbc.pc(), 0x8812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8810), 0xcb);
        EXPECT(gbc.readMem(0x8811), 0x34);
        // CB 34 00E6
        gbc.setState(0x2e57, 0xdd2f, 0xf580, 0x8fe1, 0x3c31, 0x97de, 0x0, 0x0);
        gbc.writeMem(0x2e57, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xdd2f);
        EXPECT(gbc.pc(), 0x2e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00E7
        gbc.setState(0x8d29, 0x14af, 0x7400, 0x25b6, 0x87e, 0xd602, 0x0, 0x0);
        gbc.writeMem(0x8d29, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x14af);
        EXPECT(gbc.pc(), 0x8d2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d29), 0xcb);
        EXPECT(gbc.readMem(0x8d2a), 0x34);
        // CB 34 00EA
        gbc.setState(0xecce, 0xa23a, 0x2320, 0x2a8d, 0xa58c, 0x551c, 0x0, 0x1);
        gbc.writeMem(0xecce, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa23a);
        EXPECT(gbc.pc(), 0xecd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecce), 0xcb);
        EXPECT(gbc.readMem(0xeccf), 0x34);
        // CB 34 00EB
        gbc.setState(0x56, 0x3ece, 0xb920, 0x8d02, 0x6373, 0xb5ee, 0x1, 0x1);
        gbc.writeMem(0x56, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3ece);
        EXPECT(gbc.pc(), 0x58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00EC
        gbc.setState(0x44df, 0xe44d, 0xc430, 0x7eeb, 0x7392, 0x3c2f, 0x1, 0x1);
        gbc.writeMem(0x44df, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe44d);
        EXPECT(gbc.pc(), 0x44e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00ED
        gbc.setState(0x9bf2, 0xd1ea, 0xda60, 0x3845, 0xeef8, 0x5391, 0x0, 0x1);
        gbc.writeMem(0x9bf2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd1ea);
        EXPECT(gbc.pc(), 0x9bf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bf2), 0xcb);
        EXPECT(gbc.readMem(0x9bf3), 0x34);
        // CB 34 00EE
        gbc.setState(0xeca9, 0xd07d, 0x2860, 0x5fd2, 0x46e1, 0xde76, 0x0, 0x0);
        gbc.writeMem(0xeca9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd07d);
        EXPECT(gbc.pc(), 0xecab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeca9), 0xcb);
        EXPECT(gbc.readMem(0xecaa), 0x34);
        // CB 34 00F0
        gbc.setState(0xe148, 0x3c0e, 0x2140, 0x59fc, 0x43e6, 0x8430, 0x0, 0x0);
        gbc.writeMem(0xe148, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3c0e);
        EXPECT(gbc.pc(), 0xe14a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe148), 0xcb);
        EXPECT(gbc.readMem(0xe149), 0x34);
        // CB 34 00F1
        gbc.setState(0xec77, 0x3618, 0x27a0, 0xb82, 0xec5f, 0xd9e5, 0x0, 0x0);
        gbc.writeMem(0xec77, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3618);
        EXPECT(gbc.pc(), 0xec79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec77), 0xcb);
        EXPECT(gbc.readMem(0xec78), 0x34);
        // CB 34 00F2
        gbc.setState(0x7c3e, 0x688a, 0xe380, 0x3a92, 0x203a, 0x71d3, 0x0, 0x0);
        gbc.writeMem(0x7c3e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x688a);
        EXPECT(gbc.pc(), 0x7c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00F3
        gbc.setState(0x927b, 0x8402, 0x9980, 0xcfb8, 0x24a8, 0x1712, 0x1, 0x1);
        gbc.writeMem(0x927b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x8402);
        EXPECT(gbc.pc(), 0x927d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x927b), 0xcb);
        EXPECT(gbc.readMem(0x927c), 0x34);
        // CB 34 00F4
        gbc.setState(0xe27c, 0x242e, 0x2560, 0x3511, 0x32da, 0xfc70, 0x1, 0x0);
        gbc.writeMem(0xe27c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x242e);
        EXPECT(gbc.pc(), 0xe27e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe27c), 0xcb);
        EXPECT(gbc.readMem(0xe27d), 0x34);
        // CB 34 00F5
        gbc.setState(0x576d, 0x990d, 0x7780, 0x8ceb, 0x71b0, 0x6f02, 0x0, 0x1);
        gbc.writeMem(0x576d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x990d);
        EXPECT(gbc.pc(), 0x576f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00F6
        gbc.setState(0xd84, 0xbf83, 0x4510, 0xd6fe, 0xc34, 0x4f34, 0x0, 0x0);
        gbc.writeMem(0xd84, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbf83);
        EXPECT(gbc.pc(), 0xd86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00F7
        gbc.setState(0x3420, 0xdac6, 0x6100, 0x4c9e, 0x4589, 0xadf4, 0x1, 0x0);
        gbc.writeMem(0x3420, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xdac6);
        EXPECT(gbc.pc(), 0x3422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00F8
        gbc.setState(0x3006, 0x85a6, 0x5920, 0xd04e, 0x91de, 0xb980, 0x1, 0x1);
        gbc.writeMem(0x3006, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x85a6);
        EXPECT(gbc.pc(), 0x3008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00F9
        gbc.setState(0x8141, 0x2a72, 0x230, 0x5c84, 0xeaef, 0x7049, 0x1, 0x0);
        gbc.writeMem(0x8141, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2a72);
        EXPECT(gbc.pc(), 0x8143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8141), 0xcb);
        EXPECT(gbc.readMem(0x8142), 0x34);
        // CB 34 00FA
        gbc.setState(0x6358, 0x2d8e, 0x11f0, 0xcaf9, 0x17de, 0xddab, 0x0, 0x1);
        gbc.writeMem(0x6358, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2d8e);
        EXPECT(gbc.pc(), 0x635a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00FB
        gbc.setState(0xacf4, 0x23c3, 0x9a20, 0x34b0, 0xdc7c, 0x4b3f, 0x1, 0x0);
        gbc.writeMem(0xacf4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x23c3);
        EXPECT(gbc.pc(), 0xacf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf4), 0xcb);
        EXPECT(gbc.readMem(0xacf5), 0x34);
        // CB 34 00FC
        gbc.setState(0xbfb, 0xb6c, 0x1450, 0xf0a8, 0x3da5, 0xf257, 0x0, 0x0);
        gbc.writeMem(0xbfb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb6c);
        EXPECT(gbc.pc(), 0xbfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 00FD
        gbc.setState(0x9927, 0x571c, 0xc1a0, 0x85d9, 0x9e82, 0x9884, 0x1, 0x1);
        gbc.writeMem(0x9927, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x571c);
        EXPECT(gbc.pc(), 0x9929);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9927), 0xcb);
        EXPECT(gbc.readMem(0x9928), 0x34);
        // CB 34 00FF
        gbc.setState(0xe24e, 0x94db, 0x9a10, 0xbe2, 0xe3a5, 0x1b26, 0x0, 0x0);
        gbc.writeMem(0xe24e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x94db);
        EXPECT(gbc.pc(), 0xe250);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe24e), 0xcb);
        EXPECT(gbc.readMem(0xe24f), 0x34);
        // CB 34 0100
        gbc.setState(0x5b54, 0xfd40, 0x2390, 0x48da, 0xf18a, 0x732, 0x0, 0x0);
        gbc.writeMem(0x5b54, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfd40);
        EXPECT(gbc.pc(), 0x5b56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0101
        gbc.setState(0x47ec, 0xda43, 0x3a80, 0x30b3, 0xc811, 0x6ab4, 0x0, 0x0);
        gbc.writeMem(0x47ec, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xda43);
        EXPECT(gbc.pc(), 0x47ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0102
        gbc.setState(0xd6d3, 0x865f, 0xfa70, 0x33f9, 0x964f, 0x9a54, 0x0, 0x1);
        gbc.writeMem(0xd6d3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x865f);
        EXPECT(gbc.pc(), 0xd6d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6d3), 0xcb);
        EXPECT(gbc.readMem(0xd6d4), 0x34);
        // CB 34 0103
        gbc.setState(0xd56e, 0xa294, 0x230, 0xd3bb, 0xa287, 0xf84d, 0x0, 0x0);
        gbc.writeMem(0xd56e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa294);
        EXPECT(gbc.pc(), 0xd570);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd56e), 0xcb);
        EXPECT(gbc.readMem(0xd56f), 0x34);
        // CB 34 0104
        gbc.setState(0x941c, 0xd9f, 0x2870, 0x2e06, 0x2057, 0x5529, 0x0, 0x0);
        gbc.writeMem(0x941c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xd9f);
        EXPECT(gbc.pc(), 0x941e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941c), 0xcb);
        EXPECT(gbc.readMem(0x941d), 0x34);
        // CB 34 0105
        gbc.setState(0xb79a, 0x5b66, 0xceb0, 0x788f, 0x255d, 0x85d4, 0x1, 0x0);
        gbc.writeMem(0xb79a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5b66);
        EXPECT(gbc.pc(), 0xb79c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79a), 0xcb);
        EXPECT(gbc.readMem(0xb79b), 0x34);
        // CB 34 0107
        gbc.setState(0xd1bc, 0x26e2, 0xce60, 0xe5aa, 0x441, 0x2fe0, 0x0, 0x1);
        gbc.writeMem(0xd1bc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x26e2);
        EXPECT(gbc.pc(), 0xd1be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1bc), 0xcb);
        EXPECT(gbc.readMem(0xd1bd), 0x34);
        // CB 34 0108
        gbc.setState(0x1634, 0xf785, 0xd7b0, 0xe288, 0xbcaa, 0xc6e1, 0x1, 0x0);
        gbc.writeMem(0x1634, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf785);
        EXPECT(gbc.pc(), 0x1636);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0109
        gbc.setState(0x849c, 0xff74, 0xc210, 0x242a, 0xa06d, 0xb855, 0x0, 0x1);
        gbc.writeMem(0x849c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xff74);
        EXPECT(gbc.pc(), 0x849e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x849c), 0xcb);
        EXPECT(gbc.readMem(0x849d), 0x34);
        // CB 34 010A
        gbc.setState(0x5dfa, 0x6bff, 0xa7c0, 0x9040, 0xcfcd, 0x6a8b, 0x1, 0x1);
        gbc.writeMem(0x5dfa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x6bff);
        EXPECT(gbc.pc(), 0x5dfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 010B
        gbc.setState(0x94ae, 0x9ce7, 0x2ff0, 0xc659, 0x8532, 0xc56e, 0x0, 0x1);
        gbc.writeMem(0x94ae, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9ce7);
        EXPECT(gbc.pc(), 0x94b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ae), 0xcb);
        EXPECT(gbc.readMem(0x94af), 0x34);
        // CB 34 010C
        gbc.setState(0xb0b4, 0x12bc, 0x8390, 0xbdd7, 0x7eea, 0x41e3, 0x0, 0x1);
        gbc.writeMem(0xb0b4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x12bc);
        EXPECT(gbc.pc(), 0xb0b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0b4), 0xcb);
        EXPECT(gbc.readMem(0xb0b5), 0x34);
        // CB 34 010E
        gbc.setState(0xa73a, 0x30ba, 0x9890, 0x56, 0xccfd, 0x16c4, 0x0, 0x0);
        gbc.writeMem(0xa73a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x30ba);
        EXPECT(gbc.pc(), 0xa73c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa73a), 0xcb);
        EXPECT(gbc.readMem(0xa73b), 0x34);
        // CB 34 010F
        gbc.setState(0x7f16, 0x7862, 0xed80, 0x8f82, 0xd9ad, 0xab39, 0x1, 0x1);
        gbc.writeMem(0x7f16, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x7862);
        EXPECT(gbc.pc(), 0x7f18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0110
        gbc.setState(0xc7b1, 0x4313, 0xee50, 0x67ce, 0xed11, 0x6541, 0x1, 0x1);
        gbc.writeMem(0xc7b1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4313);
        EXPECT(gbc.pc(), 0xc7b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7b1), 0xcb);
        EXPECT(gbc.readMem(0xc7b2), 0x34);
        // CB 34 0111
        gbc.setState(0xab83, 0x20ce, 0xaea0, 0xb554, 0x8305, 0x1c6, 0x1, 0x1);
        gbc.writeMem(0xab83, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x20ce);
        EXPECT(gbc.pc(), 0xab85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab83), 0xcb);
        EXPECT(gbc.readMem(0xab84), 0x34);
        // CB 34 0112
        gbc.setState(0x85d3, 0xe2eb, 0xcae0, 0xd254, 0xf26a, 0xf4f8, 0x1, 0x1);
        gbc.writeMem(0x85d3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe2eb);
        EXPECT(gbc.pc(), 0x85d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85d3), 0xcb);
        EXPECT(gbc.readMem(0x85d4), 0x34);
        // CB 34 0114
        gbc.setState(0x4913, 0x4a76, 0xb170, 0x262f, 0x12f2, 0xd3cb, 0x0, 0x0);
        gbc.writeMem(0x4913, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4a76);
        EXPECT(gbc.pc(), 0x4915);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0115
        gbc.setState(0xc6f6, 0xceae, 0xdfa0, 0xd518, 0xb1e1, 0x4011, 0x1, 0x1);
        gbc.writeMem(0xc6f6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xceae);
        EXPECT(gbc.pc(), 0xc6f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f6), 0xcb);
        EXPECT(gbc.readMem(0xc6f7), 0x34);
        // CB 34 0116
        gbc.setState(0x12b6, 0xad6e, 0xa9c0, 0xcf7b, 0xf44f, 0xeed0, 0x0, 0x1);
        gbc.writeMem(0x12b6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xad6e);
        EXPECT(gbc.pc(), 0x12b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0117
        gbc.setState(0x53c5, 0xdfe0, 0xd990, 0x1742, 0x62a5, 0xedc3, 0x1, 0x0);
        gbc.writeMem(0x53c5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdfe0);
        EXPECT(gbc.pc(), 0x53c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0118
        gbc.setState(0x9ef7, 0xbdb6, 0x5580, 0x286f, 0x31d0, 0x214b, 0x0, 0x0);
        gbc.writeMem(0x9ef7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbdb6);
        EXPECT(gbc.pc(), 0x9ef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ef7), 0xcb);
        EXPECT(gbc.readMem(0x9ef8), 0x34);
        // CB 34 0119
        gbc.setState(0x80ac, 0x6625, 0x7290, 0x1b2f, 0xbbe4, 0x2a84, 0x0, 0x0);
        gbc.writeMem(0x80ac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6625);
        EXPECT(gbc.pc(), 0x80ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80ac), 0xcb);
        EXPECT(gbc.readMem(0x80ad), 0x34);
        // CB 34 011A
        gbc.setState(0x2c7f, 0xbd92, 0x9030, 0xd526, 0xdb4e, 0x2ecd, 0x1, 0x0);
        gbc.writeMem(0x2c7f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xbd92);
        EXPECT(gbc.pc(), 0x2c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 011B
        gbc.setState(0x4a29, 0x3a70, 0x37f0, 0x63f0, 0x39f7, 0xbd18, 0x0, 0x0);
        gbc.writeMem(0x4a29, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x3a70);
        EXPECT(gbc.pc(), 0x4a2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 011D
        gbc.setState(0x81fd, 0xf988, 0x7c00, 0x6e7, 0xfdc2, 0x2b01, 0x0, 0x1);
        gbc.writeMem(0x81fd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf988);
        EXPECT(gbc.pc(), 0x81ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81fd), 0xcb);
        EXPECT(gbc.readMem(0x81fe), 0x34);
        // CB 34 011E
        gbc.setState(0xa345, 0x3f7c, 0x5a20, 0xa4d3, 0xe3f1, 0x53cd, 0x1, 0x1);
        gbc.writeMem(0xa345, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x3f7c);
        EXPECT(gbc.pc(), 0xa347);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa345), 0xcb);
        EXPECT(gbc.readMem(0xa346), 0x34);
        // CB 34 011F
        gbc.setState(0x1c50, 0xb3c5, 0x5300, 0x7c34, 0xa821, 0xf6f0, 0x0, 0x0);
        gbc.writeMem(0x1c50, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb3c5);
        EXPECT(gbc.pc(), 0x1c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0120
        gbc.setState(0xa0ba, 0x35f4, 0xcb0, 0x29e3, 0x7066, 0xf555, 0x0, 0x1);
        gbc.writeMem(0xa0ba, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x35f4);
        EXPECT(gbc.pc(), 0xa0bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0ba), 0xcb);
        EXPECT(gbc.readMem(0xa0bb), 0x34);
        // CB 34 0121
        gbc.setState(0x2301, 0x66c, 0xc1a0, 0x4703, 0x9d26, 0x1379, 0x0, 0x1);
        gbc.writeMem(0x2301, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x66c);
        EXPECT(gbc.pc(), 0x2303);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0122
        gbc.setState(0x659e, 0x785e, 0xc0c0, 0xc8fb, 0xfbf3, 0x4b84, 0x1, 0x0);
        gbc.writeMem(0x659e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x785e);
        EXPECT(gbc.pc(), 0x65a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0123
        gbc.setState(0x47a, 0x9420, 0x1a80, 0xd8b7, 0x627e, 0xb09f, 0x1, 0x1);
        gbc.writeMem(0x47a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9420);
        EXPECT(gbc.pc(), 0x47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0124
        gbc.setState(0xbae3, 0xb6bc, 0x2e30, 0x6008, 0x4002, 0xeee2, 0x0, 0x0);
        gbc.writeMem(0xbae3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb6bc);
        EXPECT(gbc.pc(), 0xbae5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbae3), 0xcb);
        EXPECT(gbc.readMem(0xbae4), 0x34);
        // CB 34 0125
        gbc.setState(0xc54b, 0x5d0, 0x9900, 0x2284, 0x910e, 0x59c4, 0x0, 0x1);
        gbc.writeMem(0xc54b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5d0);
        EXPECT(gbc.pc(), 0xc54d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc54b), 0xcb);
        EXPECT(gbc.readMem(0xc54c), 0x34);
        // CB 34 0126
        gbc.setState(0x3fa, 0xe627, 0x8510, 0x27ef, 0x7d1d, 0xacb, 0x0, 0x0);
        gbc.writeMem(0x3fa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe627);
        EXPECT(gbc.pc(), 0x3fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0127
        gbc.setState(0x74dd, 0x9e5, 0x7860, 0x94a5, 0x41e3, 0xa9af, 0x0, 0x0);
        gbc.writeMem(0x74dd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9e5);
        EXPECT(gbc.pc(), 0x74df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0128
        gbc.setState(0xf20, 0x7806, 0xf1b0, 0x682, 0xd965, 0x81c8, 0x0, 0x1);
        gbc.writeMem(0xf20, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7806);
        EXPECT(gbc.pc(), 0xf22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0129
        gbc.setState(0x7c7e, 0x9922, 0x7290, 0x9d98, 0xa32c, 0xb7f4, 0x0, 0x0);
        gbc.writeMem(0x7c7e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9922);
        EXPECT(gbc.pc(), 0x7c80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 012A
        gbc.setState(0x2f6c, 0xa095, 0x4300, 0x290c, 0x7b24, 0x46cc, 0x0, 0x1);
        gbc.writeMem(0x2f6c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa095);
        EXPECT(gbc.pc(), 0x2f6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 012B
        gbc.setState(0x2bcb, 0x7382, 0xc6e0, 0xa9e6, 0xe7, 0x6207, 0x0, 0x0);
        gbc.writeMem(0x2bcb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7382);
        EXPECT(gbc.pc(), 0x2bcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 012C
        gbc.setState(0x588c, 0xf799, 0x9ad0, 0xa0ad, 0x8d6a, 0x931a, 0x1, 0x0);
        gbc.writeMem(0x588c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf799);
        EXPECT(gbc.pc(), 0x588e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 012D
        gbc.setState(0xb9c9, 0x14f9, 0xf880, 0x2592, 0x9fc2, 0x9584, 0x1, 0x1);
        gbc.writeMem(0xb9c9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x14f9);
        EXPECT(gbc.pc(), 0xb9cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9c9), 0xcb);
        EXPECT(gbc.readMem(0xb9ca), 0x34);
        // CB 34 012E
        gbc.setState(0x21be, 0x91e0, 0x5cd0, 0xe49d, 0x2c7a, 0x2558, 0x1, 0x1);
        gbc.writeMem(0x21be, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x91e0);
        EXPECT(gbc.pc(), 0x21c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 012F
        gbc.setState(0x18e6, 0x7187, 0xf200, 0x34f0, 0x5912, 0x1672, 0x0, 0x1);
        gbc.writeMem(0x18e6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7187);
        EXPECT(gbc.pc(), 0x18e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0130
        gbc.setState(0xdba0, 0x6614, 0xb760, 0xe41d, 0x1ddc, 0x7e6, 0x1, 0x1);
        gbc.writeMem(0xdba0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6614);
        EXPECT(gbc.pc(), 0xdba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdba0), 0xcb);
        EXPECT(gbc.readMem(0xdba1), 0x34);
        // CB 34 0131
        gbc.setState(0x65a1, 0xe3c, 0x26d0, 0xcf59, 0xa66e, 0x1ab5, 0x1, 0x0);
        gbc.writeMem(0x65a1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe3c);
        EXPECT(gbc.pc(), 0x65a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0133
        gbc.setState(0xbe9f, 0x8451, 0x8320, 0x8244, 0xa2ac, 0xccdf, 0x0, 0x0);
        gbc.writeMem(0xbe9f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8451);
        EXPECT(gbc.pc(), 0xbea1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe9f), 0xcb);
        EXPECT(gbc.readMem(0xbea0), 0x34);
        // CB 34 0134
        gbc.setState(0xea6c, 0x7071, 0x7e90, 0xd7d3, 0xd0d0, 0x801e, 0x0, 0x1);
        gbc.writeMem(0xea6c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7071);
        EXPECT(gbc.pc(), 0xea6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea6c), 0xcb);
        EXPECT(gbc.readMem(0xea6d), 0x34);
        // CB 34 0135
        gbc.setState(0x57c6, 0x6e86, 0x3050, 0x26c, 0x64e7, 0x8b57, 0x0, 0x0);
        gbc.writeMem(0x57c6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6e86);
        EXPECT(gbc.pc(), 0x57c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0136
        gbc.setState(0x376b, 0xfe6b, 0x4c0, 0x11d6, 0x4c6c, 0xb43, 0x0, 0x0);
        gbc.writeMem(0x376b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xfe6b);
        EXPECT(gbc.pc(), 0x376d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0138
        gbc.setState(0x1050, 0xf463, 0xde70, 0x45e3, 0x9b65, 0x345d, 0x0, 0x0);
        gbc.writeMem(0x1050, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf463);
        EXPECT(gbc.pc(), 0x1052);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0139
        gbc.setState(0x440c, 0xbeee, 0x1ef0, 0xdc8b, 0x3aed, 0xaf68, 0x0, 0x0);
        gbc.writeMem(0x440c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xbeee);
        EXPECT(gbc.pc(), 0x440e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 013A
        gbc.setState(0x4968, 0x39ca, 0x56f0, 0x1084, 0x9359, 0x328f, 0x1, 0x1);
        gbc.writeMem(0x4968, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x39ca);
        EXPECT(gbc.pc(), 0x496a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 013B
        gbc.setState(0x41cf, 0xad97, 0x5bb0, 0x52ab, 0x80ab, 0x7849, 0x0, 0x0);
        gbc.writeMem(0x41cf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xad97);
        EXPECT(gbc.pc(), 0x41d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 013C
        gbc.setState(0x1d64, 0xbd3b, 0x5f00, 0xd987, 0x36e2, 0xc017, 0x1, 0x0);
        gbc.writeMem(0x1d64, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xbd3b);
        EXPECT(gbc.pc(), 0x1d66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 013D
        gbc.setState(0x7c6a, 0xff3, 0xafa0, 0x3e56, 0x9ab7, 0xae94, 0x0, 0x0);
        gbc.writeMem(0x7c6a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xff3);
        EXPECT(gbc.pc(), 0x7c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 013E
        gbc.setState(0xc882, 0x6bfb, 0xe0b0, 0xba48, 0x7a24, 0x60e9, 0x1, 0x1);
        gbc.writeMem(0xc882, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6bfb);
        EXPECT(gbc.pc(), 0xc884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc882), 0xcb);
        EXPECT(gbc.readMem(0xc883), 0x34);
        // CB 34 0140
        gbc.setState(0xa92f, 0x8549, 0x4f60, 0x900f, 0x2704, 0x240e, 0x0, 0x1);
        gbc.writeMem(0xa92f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8549);
        EXPECT(gbc.pc(), 0xa931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92f), 0xcb);
        EXPECT(gbc.readMem(0xa930), 0x34);
        // CB 34 0141
        gbc.setState(0xe53c, 0x1ab4, 0x8830, 0xf9fb, 0x97db, 0xdba7, 0x1, 0x0);
        gbc.writeMem(0xe53c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1ab4);
        EXPECT(gbc.pc(), 0xe53e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe53c), 0xcb);
        EXPECT(gbc.readMem(0xe53d), 0x34);
        // CB 34 0142
        gbc.setState(0xe111, 0x4d27, 0xda70, 0xa964, 0xc0da, 0xfa52, 0x1, 0x0);
        gbc.writeMem(0xe111, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x4d27);
        EXPECT(gbc.pc(), 0xe113);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe111), 0xcb);
        EXPECT(gbc.readMem(0xe112), 0x34);
        // CB 34 0143
        gbc.setState(0x3510, 0xfed0, 0xf190, 0x6c6c, 0x4008, 0x68ff, 0x0, 0x0);
        gbc.writeMem(0x3510, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xfed0);
        EXPECT(gbc.pc(), 0x3512);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0144
        gbc.setState(0x7382, 0x3f0d, 0xffa0, 0xe87e, 0xa4f8, 0xb570, 0x1, 0x0);
        gbc.writeMem(0x7382, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3f0d);
        EXPECT(gbc.pc(), 0x7384);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0145
        gbc.setState(0xc721, 0xd505, 0x10a0, 0x394a, 0x9475, 0x633b, 0x0, 0x0);
        gbc.writeMem(0xc721, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd505);
        EXPECT(gbc.pc(), 0xc723);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc721), 0xcb);
        EXPECT(gbc.readMem(0xc722), 0x34);
        // CB 34 0146
        gbc.setState(0x4b55, 0xcf7, 0x8310, 0xea74, 0x343f, 0x6574, 0x1, 0x1);
        gbc.writeMem(0x4b55, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xcf7);
        EXPECT(gbc.pc(), 0x4b57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0147
        gbc.setState(0xad0e, 0x224c, 0x4950, 0x83d, 0x75c0, 0xced3, 0x1, 0x0);
        gbc.writeMem(0xad0e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x224c);
        EXPECT(gbc.pc(), 0xad10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad0e), 0xcb);
        EXPECT(gbc.readMem(0xad0f), 0x34);
        // CB 34 0148
        gbc.setState(0x6106, 0xdc53, 0xa960, 0x77d5, 0x3c5, 0x59d8, 0x0, 0x0);
        gbc.writeMem(0x6106, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xdc53);
        EXPECT(gbc.pc(), 0x6108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0149
        gbc.setState(0xa10b, 0xa76e, 0x7f20, 0x6dbb, 0x708c, 0xca03, 0x0, 0x1);
        gbc.writeMem(0xa10b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa76e);
        EXPECT(gbc.pc(), 0xa10d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa10b), 0xcb);
        EXPECT(gbc.readMem(0xa10c), 0x34);
        // CB 34 014A
        gbc.setState(0xc1e0, 0x9c24, 0xd250, 0x62a0, 0xfedb, 0xe9f8, 0x0, 0x1);
        gbc.writeMem(0xc1e0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9c24);
        EXPECT(gbc.pc(), 0xc1e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e0), 0xcb);
        EXPECT(gbc.readMem(0xc1e1), 0x34);
        // CB 34 014C
        gbc.setState(0x252a, 0x709e, 0x5d60, 0x1b99, 0xfe2c, 0x1b65, 0x0, 0x1);
        gbc.writeMem(0x252a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x709e);
        EXPECT(gbc.pc(), 0x252c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 014D
        gbc.setState(0x3c7d, 0x28ae, 0x8100, 0x7d7b, 0xca04, 0xdba4, 0x1, 0x1);
        gbc.writeMem(0x3c7d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x28ae);
        EXPECT(gbc.pc(), 0x3c7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 014E
        gbc.setState(0xd506, 0x33d1, 0xcdb0, 0xe315, 0x5769, 0x4c69, 0x0, 0x0);
        gbc.writeMem(0xd506, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x33d1);
        EXPECT(gbc.pc(), 0xd508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd506), 0xcb);
        EXPECT(gbc.readMem(0xd507), 0x34);
        // CB 34 014F
        gbc.setState(0xe3ef, 0x770d, 0xe930, 0xaa91, 0xab06, 0xc55d, 0x0, 0x0);
        gbc.writeMem(0xe3ef, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x770d);
        EXPECT(gbc.pc(), 0xe3f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ef), 0xcb);
        EXPECT(gbc.readMem(0xe3f0), 0x34);
        // CB 34 0150
        gbc.setState(0xe518, 0xacf5, 0x71e0, 0xeffe, 0xdf3e, 0x628f, 0x0, 0x1);
        gbc.writeMem(0xe518, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xacf5);
        EXPECT(gbc.pc(), 0xe51a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe518), 0xcb);
        EXPECT(gbc.readMem(0xe519), 0x34);
        // CB 34 0151
        gbc.setState(0xc4ba, 0x8200, 0xcff0, 0x245c, 0xce1a, 0x2db0, 0x0, 0x1);
        gbc.writeMem(0xc4ba, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x8200);
        EXPECT(gbc.pc(), 0xc4bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ba), 0xcb);
        EXPECT(gbc.readMem(0xc4bb), 0x34);
        // CB 34 0152
        gbc.setState(0x9c91, 0xf884, 0xf8b0, 0xc235, 0xda0f, 0xdae3, 0x1, 0x1);
        gbc.writeMem(0x9c91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xf884);
        EXPECT(gbc.pc(), 0x9c93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c91), 0xcb);
        EXPECT(gbc.readMem(0x9c92), 0x34);
        // CB 34 0153
        gbc.setState(0xcb2c, 0x49de, 0xe4e0, 0x9369, 0xd771, 0x8272, 0x1, 0x0);
        gbc.writeMem(0xcb2c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x49de);
        EXPECT(gbc.pc(), 0xcb2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb2c), 0xcb);
        EXPECT(gbc.readMem(0xcb2d), 0x34);
        // CB 34 0154
        gbc.setState(0xdbc4, 0x2717, 0xcf10, 0x3ef0, 0xb7dd, 0x545a, 0x1, 0x0);
        gbc.writeMem(0xdbc4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x2717);
        EXPECT(gbc.pc(), 0xdbc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc4), 0xcb);
        EXPECT(gbc.readMem(0xdbc5), 0x34);
        // CB 34 0155
        gbc.setState(0x1f35, 0x413d, 0xe7e0, 0x84c4, 0xb28, 0x7351, 0x1, 0x0);
        gbc.writeMem(0x1f35, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x413d);
        EXPECT(gbc.pc(), 0x1f37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0156
        gbc.setState(0x212e, 0x91e7, 0x2480, 0x879c, 0x9ec2, 0x940e, 0x1, 0x0);
        gbc.writeMem(0x212e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x91e7);
        EXPECT(gbc.pc(), 0x2130);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0157
        gbc.setState(0x59fb, 0xb185, 0x6400, 0xc519, 0xf52e, 0xf72f, 0x1, 0x0);
        gbc.writeMem(0x59fb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb185);
        EXPECT(gbc.pc(), 0x59fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0158
        gbc.setState(0x9768, 0x2f0e, 0xc8d0, 0xbd3c, 0xa3f6, 0xe78f, 0x1, 0x1);
        gbc.writeMem(0x9768, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2f0e);
        EXPECT(gbc.pc(), 0x976a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9768), 0xcb);
        EXPECT(gbc.readMem(0x9769), 0x34);
        // CB 34 0159
        gbc.setState(0xe77e, 0xa707, 0x11b0, 0x4a8f, 0x2214, 0xc411, 0x1, 0x0);
        gbc.writeMem(0xe77e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa707);
        EXPECT(gbc.pc(), 0xe780);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe77e), 0xcb);
        EXPECT(gbc.readMem(0xe77f), 0x34);
        // CB 34 015A
        gbc.setState(0xea6d, 0xdf65, 0xadc0, 0x188b, 0xc289, 0x9a40, 0x1, 0x1);
        gbc.writeMem(0xea6d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdf65);
        EXPECT(gbc.pc(), 0xea6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea6d), 0xcb);
        EXPECT(gbc.readMem(0xea6e), 0x34);
        // CB 34 015B
        gbc.setState(0x8f94, 0x551b, 0xfb90, 0xc18a, 0x2439, 0xac21, 0x0, 0x1);
        gbc.writeMem(0x8f94, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x551b);
        EXPECT(gbc.pc(), 0x8f96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f94), 0xcb);
        EXPECT(gbc.readMem(0x8f95), 0x34);
        // CB 34 015C
        gbc.setState(0xb591, 0x9966, 0x77d0, 0xdebd, 0x76ac, 0x5416, 0x0, 0x1);
        gbc.writeMem(0xb591, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9966);
        EXPECT(gbc.pc(), 0xb593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb591), 0xcb);
        EXPECT(gbc.readMem(0xb592), 0x34);
        // CB 34 015D
        gbc.setState(0xe202, 0xb658, 0x8f20, 0x90c4, 0x3fbf, 0x3a80, 0x0, 0x0);
        gbc.writeMem(0xe202, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb658);
        EXPECT(gbc.pc(), 0xe204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe202), 0xcb);
        EXPECT(gbc.readMem(0xe203), 0x34);
        // CB 34 015E
        gbc.setState(0x3950, 0xf91d, 0xfec0, 0x18e0, 0xc247, 0xaf59, 0x1, 0x0);
        gbc.writeMem(0x3950, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf91d);
        EXPECT(gbc.pc(), 0x3952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 015F
        gbc.setState(0xafb3, 0xab45, 0xf570, 0x11c7, 0x3ac, 0x4e2e, 0x0, 0x0);
        gbc.writeMem(0xafb3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xab45);
        EXPECT(gbc.pc(), 0xafb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb3), 0xcb);
        EXPECT(gbc.readMem(0xafb4), 0x34);
        // CB 34 0160
        gbc.setState(0xd4c5, 0x64c4, 0xbeb0, 0x8ac8, 0xd4a7, 0xd97c, 0x1, 0x0);
        gbc.writeMem(0xd4c5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x64c4);
        EXPECT(gbc.pc(), 0xd4c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4c5), 0xcb);
        EXPECT(gbc.readMem(0xd4c6), 0x34);
        // CB 34 0161
        gbc.setState(0x62a3, 0xd600, 0x3e00, 0x66ee, 0x3393, 0x978, 0x1, 0x1);
        gbc.writeMem(0x62a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd600);
        EXPECT(gbc.pc(), 0x62a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0162
        gbc.setState(0x6c99, 0xff82, 0x7640, 0xa501, 0xaf20, 0x7ba9, 0x0, 0x1);
        gbc.writeMem(0x6c99, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xff82);
        EXPECT(gbc.pc(), 0x6c9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0163
        gbc.setState(0x8a03, 0x6ec3, 0x6a40, 0xdeed, 0x9ec, 0x77db, 0x1, 0x1);
        gbc.writeMem(0x8a03, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6ec3);
        EXPECT(gbc.pc(), 0x8a05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a03), 0xcb);
        EXPECT(gbc.readMem(0x8a04), 0x34);
        // CB 34 0164
        gbc.setState(0x38c, 0xd004, 0xc790, 0x96d0, 0xf5d6, 0x70ac, 0x1, 0x0);
        gbc.writeMem(0x38c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd004);
        EXPECT(gbc.pc(), 0x38e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0165
        gbc.setState(0xc8d4, 0xbacf, 0xa0a0, 0x5d1e, 0xa683, 0x3b3f, 0x0, 0x1);
        gbc.writeMem(0xc8d4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbacf);
        EXPECT(gbc.pc(), 0xc8d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8d4), 0xcb);
        EXPECT(gbc.readMem(0xc8d5), 0x34);
        // CB 34 0166
        gbc.setState(0x8480, 0x5a61, 0x1540, 0x269f, 0xe263, 0x299b, 0x0, 0x1);
        gbc.writeMem(0x8480, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5a61);
        EXPECT(gbc.pc(), 0x8482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8480), 0xcb);
        EXPECT(gbc.readMem(0x8481), 0x34);
        // CB 34 0167
        gbc.setState(0x229e, 0x251e, 0xb000, 0x3610, 0x96e9, 0xa4ca, 0x1, 0x1);
        gbc.writeMem(0x229e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x251e);
        EXPECT(gbc.pc(), 0x22a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0168
        gbc.setState(0xdc72, 0x4235, 0x62f0, 0xc63f, 0x318a, 0x1bb1, 0x1, 0x0);
        gbc.writeMem(0xdc72, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4235);
        EXPECT(gbc.pc(), 0xdc74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc72), 0xcb);
        EXPECT(gbc.readMem(0xdc73), 0x34);
        // CB 34 0169
        gbc.setState(0x7b11, 0xe915, 0x7810, 0x397b, 0x3aeb, 0x9328, 0x1, 0x1);
        gbc.writeMem(0x7b11, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe915);
        EXPECT(gbc.pc(), 0x7b13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 016B
        gbc.setState(0x9fc4, 0x9b92, 0x68c0, 0xbb85, 0xf5d, 0x4638, 0x0, 0x0);
        gbc.writeMem(0x9fc4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9b92);
        EXPECT(gbc.pc(), 0x9fc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fc4), 0xcb);
        EXPECT(gbc.readMem(0x9fc5), 0x34);
        // CB 34 016C
        gbc.setState(0xe346, 0x159a, 0xeb00, 0x6909, 0x7d99, 0xab3a, 0x0, 0x1);
        gbc.writeMem(0xe346, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x159a);
        EXPECT(gbc.pc(), 0xe348);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe346), 0xcb);
        EXPECT(gbc.readMem(0xe347), 0x34);
        // CB 34 016D
        gbc.setState(0x46ba, 0x8b96, 0xd920, 0x677f, 0xb23a, 0xc908, 0x1, 0x1);
        gbc.writeMem(0x46ba, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x8b96);
        EXPECT(gbc.pc(), 0x46bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 016E
        gbc.setState(0x19cb, 0xdb6f, 0x470, 0x4fd5, 0xcfa6, 0x649e, 0x0, 0x1);
        gbc.writeMem(0x19cb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xdb6f);
        EXPECT(gbc.pc(), 0x19cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 016F
        gbc.setState(0xc942, 0x8ea0, 0x5980, 0x4b8e, 0x329a, 0x494e, 0x1, 0x0);
        gbc.writeMem(0xc942, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8ea0);
        EXPECT(gbc.pc(), 0xc944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc942), 0xcb);
        EXPECT(gbc.readMem(0xc943), 0x34);
        // CB 34 0170
        gbc.setState(0x1dc5, 0xb213, 0x7d60, 0x5945, 0xfb3c, 0xa3c7, 0x0, 0x0);
        gbc.writeMem(0x1dc5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb213);
        EXPECT(gbc.pc(), 0x1dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0171
        gbc.setState(0x8bf3, 0x83e8, 0xc300, 0x8f19, 0xdce0, 0xb45b, 0x0, 0x1);
        gbc.writeMem(0x8bf3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x83e8);
        EXPECT(gbc.pc(), 0x8bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bf3), 0xcb);
        EXPECT(gbc.readMem(0x8bf4), 0x34);
        // CB 34 0172
        gbc.setState(0xc14f, 0xee35, 0x1230, 0x4b63, 0x441, 0x3713, 0x0, 0x0);
        gbc.writeMem(0xc14f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xee35);
        EXPECT(gbc.pc(), 0xc151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc14f), 0xcb);
        EXPECT(gbc.readMem(0xc150), 0x34);
        // CB 34 0173
        gbc.setState(0x4038, 0x409, 0xfa0, 0x5280, 0x62ec, 0xc605, 0x1, 0x1);
        gbc.writeMem(0x4038, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x409);
        EXPECT(gbc.pc(), 0x403a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0174
        gbc.setState(0x5b27, 0x7f79, 0x1d20, 0x8c3e, 0x3158, 0xa60c, 0x0, 0x0);
        gbc.writeMem(0x5b27, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x7f79);
        EXPECT(gbc.pc(), 0x5b29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0175
        gbc.setState(0x7569, 0xdf1a, 0x2f00, 0xd2ed, 0x3c13, 0xef14, 0x1, 0x1);
        gbc.writeMem(0x7569, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xdf1a);
        EXPECT(gbc.pc(), 0x756b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0176
        gbc.setState(0x975, 0x3e0b, 0x8ad0, 0xf77e, 0x78db, 0xbf3b, 0x0, 0x1);
        gbc.writeMem(0x975, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3e0b);
        EXPECT(gbc.pc(), 0x977);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0177
        gbc.setState(0x70b8, 0xd6f0, 0x8a80, 0x20a7, 0xc400, 0x2b8c, 0x1, 0x1);
        gbc.writeMem(0x70b8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd6f0);
        EXPECT(gbc.pc(), 0x70ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0178
        gbc.setState(0x8a54, 0x35c4, 0xb660, 0xfd9d, 0xea43, 0x3590, 0x1, 0x1);
        gbc.writeMem(0x8a54, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x35c4);
        EXPECT(gbc.pc(), 0x8a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a54), 0xcb);
        EXPECT(gbc.readMem(0x8a55), 0x34);
        // CB 34 017A
        gbc.setState(0x3727, 0x4254, 0x7f60, 0xd1af, 0xce52, 0xd679, 0x1, 0x0);
        gbc.writeMem(0x3727, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4254);
        EXPECT(gbc.pc(), 0x3729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 017B
        gbc.setState(0x11e8, 0x2e04, 0x71f0, 0x8e6d, 0x596c, 0xed2e, 0x1, 0x1);
        gbc.writeMem(0x11e8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2e04);
        EXPECT(gbc.pc(), 0x11ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 017C
        gbc.setState(0x2a30, 0x45d6, 0x8710, 0xb4c5, 0x580, 0xb4ea, 0x1, 0x0);
        gbc.writeMem(0x2a30, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x45d6);
        EXPECT(gbc.pc(), 0x2a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 017D
        gbc.setState(0x7ec4, 0x6ac3, 0x92e0, 0xc1b2, 0xf9b9, 0xdea4, 0x0, 0x0);
        gbc.writeMem(0x7ec4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6ac3);
        EXPECT(gbc.pc(), 0x7ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 017E
        gbc.setState(0x9383, 0xdbd9, 0x6f30, 0x5d4d, 0xd12e, 0x49d2, 0x0, 0x1);
        gbc.writeMem(0x9383, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdbd9);
        EXPECT(gbc.pc(), 0x9385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9383), 0xcb);
        EXPECT(gbc.readMem(0x9384), 0x34);
        // CB 34 017F
        gbc.setState(0xe3b3, 0x3541, 0x8600, 0x5fe, 0x8b48, 0xf780, 0x0, 0x0);
        gbc.writeMem(0xe3b3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3541);
        EXPECT(gbc.pc(), 0xe3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3b3), 0xcb);
        EXPECT(gbc.readMem(0xe3b4), 0x34);
        // CB 34 0180
        gbc.setState(0xdc3e, 0xeca0, 0xf5c0, 0xdf85, 0x4e3e, 0x2d93, 0x0, 0x0);
        gbc.writeMem(0xdc3e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xeca0);
        EXPECT(gbc.pc(), 0xdc40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc3e), 0xcb);
        EXPECT(gbc.readMem(0xdc3f), 0x34);
        // CB 34 0181
        gbc.setState(0xa384, 0x2a26, 0xcb90, 0xf05d, 0x7763, 0x88c, 0x1, 0x0);
        gbc.writeMem(0xa384, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x2a26);
        EXPECT(gbc.pc(), 0xa386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa384), 0xcb);
        EXPECT(gbc.readMem(0xa385), 0x34);
        // CB 34 0182
        gbc.setState(0x1fc1, 0x31b5, 0xb180, 0xbaaa, 0x4032, 0xb71f, 0x0, 0x1);
        gbc.writeMem(0x1fc1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x31b5);
        EXPECT(gbc.pc(), 0x1fc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0183
        gbc.setState(0x6da0, 0x9a8b, 0x4a40, 0xe89a, 0x9cc5, 0x9da, 0x1, 0x1);
        gbc.writeMem(0x6da0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9a8b);
        EXPECT(gbc.pc(), 0x6da2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0184
        gbc.setState(0x231e, 0x7722, 0xa1a0, 0xc3d0, 0x8eb4, 0xd516, 0x0, 0x1);
        gbc.writeMem(0x231e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7722);
        EXPECT(gbc.pc(), 0x2320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0185
        gbc.setState(0x3ba6, 0xd7da, 0x6a00, 0x6164, 0xcdd1, 0xbd05, 0x1, 0x0);
        gbc.writeMem(0x3ba6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd7da);
        EXPECT(gbc.pc(), 0x3ba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0186
        gbc.setState(0xabf0, 0x3d5a, 0x7dc0, 0x6a12, 0xa392, 0x152d, 0x1, 0x0);
        gbc.writeMem(0xabf0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x3d5a);
        EXPECT(gbc.pc(), 0xabf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf0), 0xcb);
        EXPECT(gbc.readMem(0xabf1), 0x34);
        // CB 34 0187
        gbc.setState(0x7886, 0x52ed, 0xf540, 0x3af2, 0x220b, 0x9b15, 0x0, 0x0);
        gbc.writeMem(0x7886, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x52ed);
        EXPECT(gbc.pc(), 0x7888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0188
        gbc.setState(0x4d4f, 0xb90d, 0xe300, 0xa1d0, 0x6ec3, 0x5af4, 0x0, 0x0);
        gbc.writeMem(0x4d4f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb90d);
        EXPECT(gbc.pc(), 0x4d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0189
        gbc.setState(0xac88, 0xe8e9, 0xe470, 0xa803, 0xd315, 0xa143, 0x0, 0x1);
        gbc.writeMem(0xac88, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe8e9);
        EXPECT(gbc.pc(), 0xac8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac88), 0xcb);
        EXPECT(gbc.readMem(0xac89), 0x34);
        // CB 34 018B
        gbc.setState(0x862b, 0xc32f, 0xaf40, 0x718c, 0xd37d, 0x212d, 0x1, 0x1);
        gbc.writeMem(0x862b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc32f);
        EXPECT(gbc.pc(), 0x862d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862b), 0xcb);
        EXPECT(gbc.readMem(0x862c), 0x34);
        // CB 34 018D
        gbc.setState(0xcb48, 0x45e1, 0x68b0, 0xe194, 0xf3c6, 0x2749, 0x1, 0x0);
        gbc.writeMem(0xcb48, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x45e1);
        EXPECT(gbc.pc(), 0xcb4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb48), 0xcb);
        EXPECT(gbc.readMem(0xcb49), 0x34);
        // CB 34 018E
        gbc.setState(0x4031, 0xe59e, 0x75c0, 0xd55f, 0x2bc6, 0xb322, 0x0, 0x1);
        gbc.writeMem(0x4031, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe59e);
        EXPECT(gbc.pc(), 0x4033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 018F
        gbc.setState(0xece4, 0x7afe, 0x1100, 0x6e81, 0x7393, 0xb021, 0x1, 0x0);
        gbc.writeMem(0xece4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x7afe);
        EXPECT(gbc.pc(), 0xece6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xece4), 0xcb);
        EXPECT(gbc.readMem(0xece5), 0x34);
        // CB 34 0190
        gbc.setState(0xce76, 0x2a31, 0xa70, 0x2e19, 0x551, 0xa4fb, 0x0, 0x1);
        gbc.writeMem(0xce76, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2a31);
        EXPECT(gbc.pc(), 0xce78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce76), 0xcb);
        EXPECT(gbc.readMem(0xce77), 0x34);
        // CB 34 0191
        gbc.setState(0x9a7c, 0xad02, 0xd410, 0x5b88, 0x6c5f, 0x706, 0x1, 0x0);
        gbc.writeMem(0x9a7c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xad02);
        EXPECT(gbc.pc(), 0x9a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a7c), 0xcb);
        EXPECT(gbc.readMem(0x9a7d), 0x34);
        // CB 34 0192
        gbc.setState(0xcb7, 0x3e76, 0xc450, 0xf009, 0x443e, 0x3cd6, 0x1, 0x0);
        gbc.writeMem(0xcb7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3e76);
        EXPECT(gbc.pc(), 0xcb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0193
        gbc.setState(0x7698, 0xa38b, 0x6650, 0xde3e, 0x1452, 0x36d0, 0x0, 0x0);
        gbc.writeMem(0x7698, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa38b);
        EXPECT(gbc.pc(), 0x769a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0194
        gbc.setState(0xec5a, 0xbf18, 0xc800, 0x9345, 0xa1d4, 0xe34f, 0x0, 0x0);
        gbc.writeMem(0xec5a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xbf18);
        EXPECT(gbc.pc(), 0xec5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec5a), 0xcb);
        EXPECT(gbc.readMem(0xec5b), 0x34);
        // CB 34 0195
        gbc.setState(0x455, 0xa24c, 0x1280, 0xc87a, 0x59b8, 0xbe0d, 0x1, 0x0);
        gbc.writeMem(0x455, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa24c);
        EXPECT(gbc.pc(), 0x457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0196
        gbc.setState(0x5183, 0x75e6, 0x6050, 0x4b7e, 0x2dbe, 0x4f91, 0x1, 0x1);
        gbc.writeMem(0x5183, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x75e6);
        EXPECT(gbc.pc(), 0x5185);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0197
        gbc.setState(0xe592, 0xc945, 0x9180, 0x637e, 0x8e35, 0xee2b, 0x0, 0x0);
        gbc.writeMem(0xe592, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xc945);
        EXPECT(gbc.pc(), 0xe594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe592), 0xcb);
        EXPECT(gbc.readMem(0xe593), 0x34);
        // CB 34 0198
        gbc.setState(0xb492, 0xf7, 0xcef0, 0x61ff, 0xc9a1, 0x5619, 0x0, 0x0);
        gbc.writeMem(0xb492, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xf7);
        EXPECT(gbc.pc(), 0xb494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb492), 0xcb);
        EXPECT(gbc.readMem(0xb493), 0x34);
        // CB 34 0199
        gbc.setState(0x3485, 0xd97, 0xeea0, 0xeeaa, 0x2b62, 0x6e69, 0x1, 0x1);
        gbc.writeMem(0x3485, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd97);
        EXPECT(gbc.pc(), 0x3487);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 019A
        gbc.setState(0xd46b, 0xa46a, 0x8b20, 0x4a55, 0xbf80, 0xd66, 0x1, 0x0);
        gbc.writeMem(0xd46b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa46a);
        EXPECT(gbc.pc(), 0xd46d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd46b), 0xcb);
        EXPECT(gbc.readMem(0xd46c), 0x34);
        // CB 34 019D
        gbc.setState(0x41fb, 0xe2c6, 0x9450, 0xf119, 0x2239, 0xd4b0, 0x0, 0x1);
        gbc.writeMem(0x41fb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe2c6);
        EXPECT(gbc.pc(), 0x41fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 019E
        gbc.setState(0xf57, 0x4dcf, 0xd9a0, 0x5ebd, 0x5bd5, 0x4811, 0x0, 0x1);
        gbc.writeMem(0xf57, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4dcf);
        EXPECT(gbc.pc(), 0xf59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 019F
        gbc.setState(0x1c1d, 0x5d6c, 0x8230, 0xfcd5, 0x9a9f, 0x72a, 0x1, 0x0);
        gbc.writeMem(0x1c1d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5d6c);
        EXPECT(gbc.pc(), 0x1c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A0
        gbc.setState(0x733f, 0xe1b3, 0xa2a0, 0x35ba, 0xf146, 0x64dc, 0x1, 0x0);
        gbc.writeMem(0x733f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe1b3);
        EXPECT(gbc.pc(), 0x7341);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A4
        gbc.setState(0x2910, 0x9b24, 0xd4f0, 0x6122, 0xd9a7, 0xa29d, 0x0, 0x0);
        gbc.writeMem(0x2910, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9b24);
        EXPECT(gbc.pc(), 0x2912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A5
        gbc.setState(0x9d5, 0xa931, 0x3900, 0xabab, 0x32e8, 0xb36a, 0x0, 0x1);
        gbc.writeMem(0x9d5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa931);
        EXPECT(gbc.pc(), 0x9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A6
        gbc.setState(0x40e4, 0xa13d, 0x5ab0, 0xbeab, 0x4505, 0x4a6d, 0x1, 0x0);
        gbc.writeMem(0x40e4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa13d);
        EXPECT(gbc.pc(), 0x40e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A7
        gbc.setState(0x33c8, 0xd76a, 0x78a0, 0xeaf6, 0x609, 0x1523, 0x0, 0x1);
        gbc.writeMem(0x33c8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xd76a);
        EXPECT(gbc.pc(), 0x33ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A8
        gbc.setState(0x43a2, 0xb5ae, 0x1360, 0xb5be, 0x3d3c, 0x3863, 0x1, 0x0);
        gbc.writeMem(0x43a2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb5ae);
        EXPECT(gbc.pc(), 0x43a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01A9
        gbc.setState(0xabd, 0xb69d, 0x91a0, 0x260, 0x7164, 0x3af4, 0x0, 0x1);
        gbc.writeMem(0xabd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb69d);
        EXPECT(gbc.pc(), 0xabf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01AA
        gbc.setState(0xe22b, 0xb1f4, 0x3350, 0x47d, 0x86e2, 0x4679, 0x0, 0x0);
        gbc.writeMem(0xe22b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb1f4);
        EXPECT(gbc.pc(), 0xe22d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe22b), 0xcb);
        EXPECT(gbc.readMem(0xe22c), 0x34);
        // CB 34 01AB
        gbc.setState(0x3f04, 0xc037, 0x73f0, 0x3227, 0xf571, 0x8549, 0x0, 0x1);
        gbc.writeMem(0x3f04, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xc037);
        EXPECT(gbc.pc(), 0x3f06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01AC
        gbc.setState(0x2fb4, 0x2b49, 0xd3b0, 0x5b97, 0xf6a3, 0xd6c, 0x0, 0x1);
        gbc.writeMem(0x2fb4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2b49);
        EXPECT(gbc.pc(), 0x2fb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01AD
        gbc.setState(0x9ec5, 0xbc92, 0xa6f0, 0x8fd3, 0x2911, 0x1694, 0x0, 0x0);
        gbc.writeMem(0x9ec5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xbc92);
        EXPECT(gbc.pc(), 0x9ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec5), 0xcb);
        EXPECT(gbc.readMem(0x9ec6), 0x34);
        // CB 34 01AE
        gbc.setState(0x6443, 0x8e01, 0x560, 0x2556, 0x38d3, 0xca2c, 0x1, 0x0);
        gbc.writeMem(0x6443, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8e01);
        EXPECT(gbc.pc(), 0x6445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01AF
        gbc.setState(0xa36a, 0xc28f, 0x25a0, 0x5e5, 0x3658, 0xb92d, 0x1, 0x0);
        gbc.writeMem(0xa36a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc28f);
        EXPECT(gbc.pc(), 0xa36c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa36a), 0xcb);
        EXPECT(gbc.readMem(0xa36b), 0x34);
        // CB 34 01B0
        gbc.setState(0x968f, 0x9d00, 0x1f0, 0xa6df, 0xf2ec, 0xb927, 0x1, 0x1);
        gbc.writeMem(0x968f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9d00);
        EXPECT(gbc.pc(), 0x9691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x968f), 0xcb);
        EXPECT(gbc.readMem(0x9690), 0x34);
        // CB 34 01B1
        gbc.setState(0x7851, 0x700a, 0xb610, 0xbb34, 0x69b7, 0x932b, 0x1, 0x0);
        gbc.writeMem(0x7851, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x700a);
        EXPECT(gbc.pc(), 0x7853);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01B2
        gbc.setState(0xe86a, 0x404d, 0xe970, 0x546b, 0x746a, 0x8ebb, 0x1, 0x0);
        gbc.writeMem(0xe86a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x404d);
        EXPECT(gbc.pc(), 0xe86c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86a), 0xcb);
        EXPECT(gbc.readMem(0xe86b), 0x34);
        // CB 34 01B3
        gbc.setState(0x3b1a, 0xddc2, 0x4f30, 0xa733, 0x9590, 0x141d, 0x1, 0x1);
        gbc.writeMem(0x3b1a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xddc2);
        EXPECT(gbc.pc(), 0x3b1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01B5
        gbc.setState(0xd8ec, 0x98f8, 0x2dc0, 0x647d, 0x2880, 0xf0d9, 0x1, 0x0);
        gbc.writeMem(0xd8ec, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x98f8);
        EXPECT(gbc.pc(), 0xd8ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8ec), 0xcb);
        EXPECT(gbc.readMem(0xd8ed), 0x34);
        // CB 34 01B6
        gbc.setState(0x798b, 0x216, 0x7030, 0xe750, 0x4120, 0x54e8, 0x1, 0x1);
        gbc.writeMem(0x798b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x216);
        EXPECT(gbc.pc(), 0x798d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01B7
        gbc.setState(0x9675, 0x1bfa, 0x8b20, 0xb21d, 0xb571, 0x881f, 0x1, 0x0);
        gbc.writeMem(0x9675, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1bfa);
        EXPECT(gbc.pc(), 0x9677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9675), 0xcb);
        EXPECT(gbc.readMem(0x9676), 0x34);
        // CB 34 01B8
        gbc.setState(0x7adf, 0x616f, 0x82b0, 0x731b, 0x6a1d, 0x5c52, 0x1, 0x0);
        gbc.writeMem(0x7adf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x616f);
        EXPECT(gbc.pc(), 0x7ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01B9
        gbc.setState(0xd15d, 0xebac, 0x9cb0, 0x3594, 0x92e5, 0x242e, 0x1, 0x0);
        gbc.writeMem(0xd15d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xebac);
        EXPECT(gbc.pc(), 0xd15f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd15d), 0xcb);
        EXPECT(gbc.readMem(0xd15e), 0x34);
        // CB 34 01BA
        gbc.setState(0xc553, 0xd3e2, 0x1da0, 0xad04, 0x6982, 0xf45e, 0x1, 0x1);
        gbc.writeMem(0xc553, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd3e2);
        EXPECT(gbc.pc(), 0xc555);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc553), 0xcb);
        EXPECT(gbc.readMem(0xc554), 0x34);
        // CB 34 01BB
        gbc.setState(0x4fc9, 0xd07d, 0xa520, 0xe887, 0x643a, 0x9f47, 0x1, 0x0);
        gbc.writeMem(0x4fc9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd07d);
        EXPECT(gbc.pc(), 0x4fcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01BC
        gbc.setState(0x3a5f, 0x1ef8, 0xf970, 0xb5ff, 0xe0bd, 0xfc12, 0x0, 0x1);
        gbc.writeMem(0x3a5f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x1ef8);
        EXPECT(gbc.pc(), 0x3a61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01BD
        gbc.setState(0xeb69, 0xc915, 0x9f0, 0xaff3, 0x2beb, 0x9b6f, 0x1, 0x0);
        gbc.writeMem(0xeb69, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc915);
        EXPECT(gbc.pc(), 0xeb6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb69), 0xcb);
        EXPECT(gbc.readMem(0xeb6a), 0x34);
        // CB 34 01BE
        gbc.setState(0xd16e, 0x94c8, 0x4720, 0xe44e, 0x3ffe, 0x5731, 0x0, 0x1);
        gbc.writeMem(0xd16e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x94c8);
        EXPECT(gbc.pc(), 0xd170);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd16e), 0xcb);
        EXPECT(gbc.readMem(0xd16f), 0x34);
        // CB 34 01BF
        gbc.setState(0x891, 0x2cf6, 0x89d0, 0x3ae5, 0x20b7, 0x30a1, 0x0, 0x1);
        gbc.writeMem(0x891, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2cf6);
        EXPECT(gbc.pc(), 0x893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01C1
        gbc.setState(0xce9, 0xa0d1, 0x6f40, 0xd531, 0xb14a, 0x8d83, 0x0, 0x1);
        gbc.writeMem(0xce9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xa0d1);
        EXPECT(gbc.pc(), 0xceb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01C2
        gbc.setState(0x3fcc, 0x9fca, 0xb6b0, 0x1451, 0x71a6, 0xf75c, 0x0, 0x0);
        gbc.writeMem(0x3fcc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x9fca);
        EXPECT(gbc.pc(), 0x3fce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01C3
        gbc.setState(0xcb48, 0xe0e0, 0x7740, 0xcec2, 0xb4da, 0xf452, 0x0, 0x0);
        gbc.writeMem(0xcb48, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe0e0);
        EXPECT(gbc.pc(), 0xcb4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb48), 0xcb);
        EXPECT(gbc.readMem(0xcb49), 0x34);
        // CB 34 01C4
        gbc.setState(0xed62, 0x54a2, 0x6fa0, 0xc4c3, 0xd0ca, 0xd0d1, 0x1, 0x1);
        gbc.writeMem(0xed62, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x54a2);
        EXPECT(gbc.pc(), 0xed64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed62), 0xcb);
        EXPECT(gbc.readMem(0xed63), 0x34);
        // CB 34 01C5
        gbc.setState(0x365f, 0x1a99, 0x68f0, 0x308e, 0x99fe, 0x125d, 0x0, 0x0);
        gbc.writeMem(0x365f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1a99);
        EXPECT(gbc.pc(), 0x3661);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01C7
        gbc.setState(0x5a3d, 0x5e1b, 0xa030, 0x5977, 0xf7b4, 0x5f8f, 0x1, 0x0);
        gbc.writeMem(0x5a3d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5e1b);
        EXPECT(gbc.pc(), 0x5a3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01C8
        gbc.setState(0x919b, 0x4470, 0x4280, 0x701, 0x80f6, 0x9ec3, 0x1, 0x0);
        gbc.writeMem(0x919b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x4470);
        EXPECT(gbc.pc(), 0x919d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919b), 0xcb);
        EXPECT(gbc.readMem(0x919c), 0x34);
        // CB 34 01C9
        gbc.setState(0xd6d6, 0x1918, 0xd1e0, 0x5964, 0x6878, 0x2c61, 0x0, 0x1);
        gbc.writeMem(0xd6d6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1918);
        EXPECT(gbc.pc(), 0xd6d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6d6), 0xcb);
        EXPECT(gbc.readMem(0xd6d7), 0x34);
        // CB 34 01CA
        gbc.setState(0xab48, 0x8f6e, 0x360, 0x932f, 0x8b0e, 0xa221, 0x0, 0x1);
        gbc.writeMem(0xab48, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x8f6e);
        EXPECT(gbc.pc(), 0xab4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab48), 0xcb);
        EXPECT(gbc.readMem(0xab49), 0x34);
        // CB 34 01CB
        gbc.setState(0x47dd, 0x7dfd, 0x76b0, 0x7d4e, 0x5f18, 0xa206, 0x1, 0x1);
        gbc.writeMem(0x47dd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x7dfd);
        EXPECT(gbc.pc(), 0x47df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01CC
        gbc.setState(0x2eb0, 0xbda4, 0x5b40, 0x3055, 0x85d3, 0x9516, 0x0, 0x0);
        gbc.writeMem(0x2eb0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xbda4);
        EXPECT(gbc.pc(), 0x2eb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01CD
        gbc.setState(0x465a, 0x3c78, 0x25f0, 0x5344, 0x8e96, 0xab44, 0x0, 0x0);
        gbc.writeMem(0x465a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3c78);
        EXPECT(gbc.pc(), 0x465c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01CE
        gbc.setState(0xd9b, 0x72c0, 0x40b0, 0xb05c, 0x2c0a, 0x8f, 0x0, 0x0);
        gbc.writeMem(0xd9b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x72c0);
        EXPECT(gbc.pc(), 0xd9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01CF
        gbc.setState(0x77a0, 0xe140, 0x6740, 0xe46f, 0xd964, 0x274c, 0x1, 0x0);
        gbc.writeMem(0x77a0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xe140);
        EXPECT(gbc.pc(), 0x77a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D0
        gbc.setState(0x26ca, 0xd48, 0x1620, 0x2783, 0x3457, 0x840c, 0x0, 0x1);
        gbc.writeMem(0x26ca, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd48);
        EXPECT(gbc.pc(), 0x26cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D1
        gbc.setState(0x7f1, 0x56e0, 0xb160, 0x3819, 0x8f7a, 0xc27a, 0x1, 0x1);
        gbc.writeMem(0x7f1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x56e0);
        EXPECT(gbc.pc(), 0x7f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D2
        gbc.setState(0xe88c, 0x3e8a, 0xd5e0, 0xd321, 0x25a1, 0xc1e9, 0x1, 0x1);
        gbc.writeMem(0xe88c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3e8a);
        EXPECT(gbc.pc(), 0xe88e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe88c), 0xcb);
        EXPECT(gbc.readMem(0xe88d), 0x34);
        // CB 34 01D3
        gbc.setState(0x12bb, 0x3a08, 0xef40, 0x2033, 0xf8a8, 0x459c, 0x1, 0x1);
        gbc.writeMem(0x12bb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3a08);
        EXPECT(gbc.pc(), 0x12bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D4
        gbc.setState(0xb8f8, 0x750e, 0x9ea0, 0x75, 0xcf5a, 0x34ac, 0x0, 0x0);
        gbc.writeMem(0xb8f8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x750e);
        EXPECT(gbc.pc(), 0xb8fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8f8), 0xcb);
        EXPECT(gbc.readMem(0xb8f9), 0x34);
        // CB 34 01D5
        gbc.setState(0x5154, 0x2228, 0x24d0, 0x8cc9, 0xa108, 0x9bf1, 0x0, 0x0);
        gbc.writeMem(0x5154, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2228);
        EXPECT(gbc.pc(), 0x5156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D6
        gbc.setState(0x4697, 0xca10, 0x6480, 0xbf1f, 0xefbf, 0x98b2, 0x0, 0x0);
        gbc.writeMem(0x4697, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xca10);
        EXPECT(gbc.pc(), 0x4699);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01D8
        gbc.setState(0xe709, 0xbfa8, 0xf60, 0xbb3a, 0xea5, 0x790b, 0x0, 0x0);
        gbc.writeMem(0xe709, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xbfa8);
        EXPECT(gbc.pc(), 0xe70b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe709), 0xcb);
        EXPECT(gbc.readMem(0xe70a), 0x34);
        // CB 34 01D9
        gbc.setState(0xedb9, 0xc28a, 0xa090, 0x8a92, 0x106b, 0x19a7, 0x1, 0x0);
        gbc.writeMem(0xedb9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xc28a);
        EXPECT(gbc.pc(), 0xedbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedb9), 0xcb);
        EXPECT(gbc.readMem(0xedba), 0x34);
        // CB 34 01DA
        gbc.setState(0x81fd, 0x6f52, 0xe1a0, 0x8ad8, 0x61d0, 0xd1a9, 0x0, 0x1);
        gbc.writeMem(0x81fd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6f52);
        EXPECT(gbc.pc(), 0x81ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81fd), 0xcb);
        EXPECT(gbc.readMem(0x81fe), 0x34);
        // CB 34 01DC
        gbc.setState(0x98de, 0x859b, 0xcc80, 0x178d, 0x624e, 0x90fa, 0x1, 0x0);
        gbc.writeMem(0x98de, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x859b);
        EXPECT(gbc.pc(), 0x98e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98de), 0xcb);
        EXPECT(gbc.readMem(0x98df), 0x34);
        // CB 34 01DE
        gbc.setState(0xd42d, 0xb42d, 0xc770, 0xc806, 0x51a0, 0xd44, 0x0, 0x1);
        gbc.writeMem(0xd42d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb42d);
        EXPECT(gbc.pc(), 0xd42f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd42d), 0xcb);
        EXPECT(gbc.readMem(0xd42e), 0x34);
        // CB 34 01DF
        gbc.setState(0xb51, 0xb950, 0x2a70, 0xdfa5, 0x2d6, 0x913e, 0x1, 0x0);
        gbc.writeMem(0xb51, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb950);
        EXPECT(gbc.pc(), 0xb53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E0
        gbc.setState(0xd2b1, 0xacbe, 0xad70, 0x6a7a, 0x6d25, 0x93df, 0x1, 0x0);
        gbc.writeMem(0xd2b1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xacbe);
        EXPECT(gbc.pc(), 0xd2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2b1), 0xcb);
        EXPECT(gbc.readMem(0xd2b2), 0x34);
        // CB 34 01E1
        gbc.setState(0xd30a, 0xa065, 0x55b0, 0xf4b9, 0xe784, 0xa27c, 0x0, 0x1);
        gbc.writeMem(0xd30a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa065);
        EXPECT(gbc.pc(), 0xd30c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd30a), 0xcb);
        EXPECT(gbc.readMem(0xd30b), 0x34);
        // CB 34 01E2
        gbc.setState(0xf7a, 0x4523, 0x6380, 0xa0ea, 0x894b, 0x96b9, 0x1, 0x0);
        gbc.writeMem(0xf7a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4523);
        EXPECT(gbc.pc(), 0xf7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E3
        gbc.setState(0x3e91, 0xaf04, 0xcb40, 0x57be, 0x5fd9, 0x9e09, 0x1, 0x0);
        gbc.writeMem(0x3e91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xaf04);
        EXPECT(gbc.pc(), 0x3e93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E4
        gbc.setState(0x6d71, 0xd01a, 0xe110, 0x1dd8, 0x798c, 0x6167, 0x0, 0x0);
        gbc.writeMem(0x6d71, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd01a);
        EXPECT(gbc.pc(), 0x6d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E5
        gbc.setState(0x6de7, 0x6fe0, 0x89a0, 0x326f, 0x952a, 0x7461, 0x0, 0x0);
        gbc.writeMem(0x6de7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6fe0);
        EXPECT(gbc.pc(), 0x6de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E6
        gbc.setState(0xeb60, 0xe5c4, 0x5fd0, 0x2bc9, 0x3afd, 0x5f31, 0x1, 0x0);
        gbc.writeMem(0xeb60, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xe5c4);
        EXPECT(gbc.pc(), 0xeb62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb60), 0xcb);
        EXPECT(gbc.readMem(0xeb61), 0x34);
        // CB 34 01E7
        gbc.setState(0x2570, 0xebcb, 0x66a0, 0x69d2, 0x1047, 0x10d1, 0x1, 0x0);
        gbc.writeMem(0x2570, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xebcb);
        EXPECT(gbc.pc(), 0x2572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E8
        gbc.setState(0x4174, 0xf292, 0x8490, 0xfd11, 0x548e, 0x4fa1, 0x1, 0x0);
        gbc.writeMem(0x4174, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf292);
        EXPECT(gbc.pc(), 0x4176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01E9
        gbc.setState(0x367, 0x6501, 0xda10, 0x19e, 0x721e, 0xdb54, 0x1, 0x0);
        gbc.writeMem(0x367, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x6501);
        EXPECT(gbc.pc(), 0x369);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01EA
        gbc.setState(0xe02d, 0x95f, 0x2570, 0xa56, 0xf5cc, 0xbd5f, 0x1, 0x1);
        gbc.writeMem(0xe02d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x95f);
        EXPECT(gbc.pc(), 0xe02f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe02d), 0xcb);
        EXPECT(gbc.readMem(0xe02e), 0x34);
        // CB 34 01EB
        gbc.setState(0x9571, 0x8772, 0x22d0, 0x4529, 0x1376, 0xcb9b, 0x0, 0x1);
        gbc.writeMem(0x9571, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8772);
        EXPECT(gbc.pc(), 0x9573);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9571), 0xcb);
        EXPECT(gbc.readMem(0x9572), 0x34);
        // CB 34 01EC
        gbc.setState(0x4343, 0x5d26, 0x9750, 0x60e7, 0x30cb, 0x521f, 0x0, 0x1);
        gbc.writeMem(0x4343, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5d26);
        EXPECT(gbc.pc(), 0x4345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01ED
        gbc.setState(0x34d0, 0x79fc, 0x1a80, 0xa646, 0xf64b, 0x230a, 0x1, 0x1);
        gbc.writeMem(0x34d0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x79fc);
        EXPECT(gbc.pc(), 0x34d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01EE
        gbc.setState(0x5175, 0x4ffa, 0x4f40, 0xedfb, 0xb9ef, 0x8647, 0x1, 0x1);
        gbc.writeMem(0x5175, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4ffa);
        EXPECT(gbc.pc(), 0x5177);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01EF
        gbc.setState(0x66c2, 0xd416, 0x8fd0, 0x9813, 0x6962, 0x9fab, 0x1, 0x1);
        gbc.writeMem(0x66c2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd416);
        EXPECT(gbc.pc(), 0x66c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F0
        gbc.setState(0x52ee, 0x57be, 0x6d10, 0xb192, 0x7894, 0x556c, 0x0, 0x0);
        gbc.writeMem(0x52ee, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x57be);
        EXPECT(gbc.pc(), 0x52f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F1
        gbc.setState(0x5de5, 0xc19d, 0x97d0, 0x88cb, 0x8e93, 0xd214, 0x0, 0x0);
        gbc.writeMem(0x5de5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc19d);
        EXPECT(gbc.pc(), 0x5de7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F3
        gbc.setState(0x3f8d, 0xdbc7, 0xbfd0, 0x79d0, 0x3cab, 0x26da, 0x1, 0x0);
        gbc.writeMem(0x3f8d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xdbc7);
        EXPECT(gbc.pc(), 0x3f8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F4
        gbc.setState(0xb1d7, 0x58ac, 0xfba0, 0x5fab, 0xc7fd, 0x2393, 0x0, 0x0);
        gbc.writeMem(0xb1d7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x58ac);
        EXPECT(gbc.pc(), 0xb1d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1d7), 0xcb);
        EXPECT(gbc.readMem(0xb1d8), 0x34);
        // CB 34 01F5
        gbc.setState(0x8ef5, 0x69cc, 0xd260, 0xcb9, 0xc20d, 0x25cf, 0x0, 0x0);
        gbc.writeMem(0x8ef5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x69cc);
        EXPECT(gbc.pc(), 0x8ef7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ef5), 0xcb);
        EXPECT(gbc.readMem(0x8ef6), 0x34);
        // CB 34 01F6
        gbc.setState(0x73aa, 0xa2a0, 0xded0, 0x482e, 0x557b, 0x981e, 0x1, 0x1);
        gbc.writeMem(0x73aa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xa2a0);
        EXPECT(gbc.pc(), 0x73ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F8
        gbc.setState(0x6125, 0xb7e2, 0x9c70, 0xe9e5, 0xe723, 0x40c2, 0x1, 0x0);
        gbc.writeMem(0x6125, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb7e2);
        EXPECT(gbc.pc(), 0x6127);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01F9
        gbc.setState(0xe40e, 0xc8c5, 0x8520, 0xdbed, 0x8697, 0x42f1, 0x0, 0x0);
        gbc.writeMem(0xe40e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc8c5);
        EXPECT(gbc.pc(), 0xe410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40e), 0xcb);
        EXPECT(gbc.readMem(0xe40f), 0x34);
        // CB 34 01FA
        gbc.setState(0x72e6, 0x2076, 0xbb0, 0xf7aa, 0xafc0, 0x3e1d, 0x0, 0x0);
        gbc.writeMem(0x72e6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2076);
        EXPECT(gbc.pc(), 0x72e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01FB
        gbc.setState(0xe7e7, 0x233a, 0x2300, 0x89f3, 0x8717, 0x67b2, 0x1, 0x1);
        gbc.writeMem(0xe7e7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x233a);
        EXPECT(gbc.pc(), 0xe7e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7e7), 0xcb);
        EXPECT(gbc.readMem(0xe7e8), 0x34);
        // CB 34 01FC
        gbc.setState(0x22f0, 0xfcac, 0x85b0, 0xdddb, 0xdf60, 0x3ee, 0x0, 0x0);
        gbc.writeMem(0x22f0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xfcac);
        EXPECT(gbc.pc(), 0x22f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 01FD
        gbc.setState(0x82a9, 0xdfa9, 0x8190, 0xd905, 0x2b92, 0x9ab1, 0x0, 0x0);
        gbc.writeMem(0x82a9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdfa9);
        EXPECT(gbc.pc(), 0x82ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a9), 0xcb);
        EXPECT(gbc.readMem(0x82aa), 0x34);
        // CB 34 01FE
        gbc.setState(0xe43d, 0x6ec4, 0xf620, 0x8774, 0xad6f, 0x56fb, 0x0, 0x0);
        gbc.writeMem(0xe43d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x6ec4);
        EXPECT(gbc.pc(), 0xe43f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe43d), 0xcb);
        EXPECT(gbc.readMem(0xe43e), 0x34);
        // CB 34 01FF
        gbc.setState(0x5f4c, 0xd751, 0xf410, 0xd48a, 0x32f0, 0xc066, 0x1, 0x0);
        gbc.writeMem(0x5f4c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd751);
        EXPECT(gbc.pc(), 0x5f4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0200
        gbc.setState(0x8773, 0x35b0, 0xcbf0, 0x6748, 0x33ce, 0xfd64, 0x0, 0x1);
        gbc.writeMem(0x8773, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x35b0);
        EXPECT(gbc.pc(), 0x8775);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8773), 0xcb);
        EXPECT(gbc.readMem(0x8774), 0x34);
        // CB 34 0201
        gbc.setState(0x7c59, 0x6ecc, 0xaf00, 0xb127, 0x54c, 0x431c, 0x0, 0x0);
        gbc.writeMem(0x7c59, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6ecc);
        EXPECT(gbc.pc(), 0x7c5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0202
        gbc.setState(0x23ef, 0xe799, 0x6fe0, 0x8f67, 0x8056, 0x3b4b, 0x1, 0x0);
        gbc.writeMem(0x23ef, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xe799);
        EXPECT(gbc.pc(), 0x23f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0203
        gbc.setState(0xd4cd, 0x80be, 0x5bf0, 0x96fe, 0x5755, 0x1766, 0x1, 0x0);
        gbc.writeMem(0xd4cd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x80be);
        EXPECT(gbc.pc(), 0xd4cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4cd), 0xcb);
        EXPECT(gbc.readMem(0xd4ce), 0x34);
        // CB 34 0205
        gbc.setState(0xedbf, 0xbeac, 0x5fc0, 0xe479, 0x3188, 0xd1f1, 0x1, 0x1);
        gbc.writeMem(0xedbf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xbeac);
        EXPECT(gbc.pc(), 0xedc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedbf), 0xcb);
        EXPECT(gbc.readMem(0xedc0), 0x34);
        // CB 34 0206
        gbc.setState(0x2e8c, 0xd0e8, 0xab00, 0x1f01, 0x63f4, 0xf6af, 0x0, 0x0);
        gbc.writeMem(0x2e8c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xd0e8);
        EXPECT(gbc.pc(), 0x2e8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0207
        gbc.setState(0x105c, 0x8374, 0x97d0, 0xe0cc, 0x3875, 0xf669, 0x1, 0x0);
        gbc.writeMem(0x105c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x8374);
        EXPECT(gbc.pc(), 0x105e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0208
        gbc.setState(0x91d0, 0x1357, 0xe890, 0x29f7, 0x5b65, 0x43f, 0x0, 0x1);
        gbc.writeMem(0x91d0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1357);
        EXPECT(gbc.pc(), 0x91d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91d0), 0xcb);
        EXPECT(gbc.readMem(0x91d1), 0x34);
        // CB 34 0209
        gbc.setState(0x6f18, 0x65e2, 0x36d0, 0x424c, 0x620e, 0xb6a7, 0x0, 0x1);
        gbc.writeMem(0x6f18, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x65e2);
        EXPECT(gbc.pc(), 0x6f1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 020A
        gbc.setState(0x53a9, 0x4c57, 0x8bb0, 0x9a4, 0x909, 0x3bec, 0x0, 0x0);
        gbc.writeMem(0x53a9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4c57);
        EXPECT(gbc.pc(), 0x53ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 020B
        gbc.setState(0x981f, 0x694c, 0x3510, 0x867, 0xcf31, 0xe210, 0x0, 0x0);
        gbc.writeMem(0x981f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x694c);
        EXPECT(gbc.pc(), 0x9821);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x981f), 0xcb);
        EXPECT(gbc.readMem(0x9820), 0x34);
        // CB 34 020C
        gbc.setState(0x5bb8, 0xfc12, 0x97a0, 0x72d4, 0x717d, 0x8c79, 0x1, 0x1);
        gbc.writeMem(0x5bb8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xfc12);
        EXPECT(gbc.pc(), 0x5bba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 020D
        gbc.setState(0xdb92, 0x4d02, 0xc040, 0x2c71, 0x2b6b, 0x8fb4, 0x1, 0x1);
        gbc.writeMem(0xdb92, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4d02);
        EXPECT(gbc.pc(), 0xdb94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb92), 0xcb);
        EXPECT(gbc.readMem(0xdb93), 0x34);
        // CB 34 020F
        gbc.setState(0x3260, 0x950a, 0x44c0, 0xff33, 0x76c, 0xae93, 0x0, 0x1);
        gbc.writeMem(0x3260, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x950a);
        EXPECT(gbc.pc(), 0x3262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0210
        gbc.setState(0x8d39, 0xb569, 0x830, 0x9df2, 0x890, 0x65f0, 0x0, 0x1);
        gbc.writeMem(0x8d39, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb569);
        EXPECT(gbc.pc(), 0x8d3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d39), 0xcb);
        EXPECT(gbc.readMem(0x8d3a), 0x34);
        // CB 34 0211
        gbc.setState(0x5c44, 0x60c4, 0xfab0, 0xd55e, 0xe289, 0x4623, 0x0, 0x0);
        gbc.writeMem(0x5c44, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x60c4);
        EXPECT(gbc.pc(), 0x5c46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0213
        gbc.setState(0x697f, 0xa59a, 0x5b80, 0xd55b, 0xb938, 0xb504, 0x0, 0x0);
        gbc.writeMem(0x697f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xa59a);
        EXPECT(gbc.pc(), 0x6981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0214
        gbc.setState(0x8943, 0x7386, 0xf10, 0xb812, 0x73a6, 0x46a6, 0x1, 0x0);
        gbc.writeMem(0x8943, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7386);
        EXPECT(gbc.pc(), 0x8945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8943), 0xcb);
        EXPECT(gbc.readMem(0x8944), 0x34);
        // CB 34 0215
        gbc.setState(0x166c, 0xc32, 0xd0f0, 0x5761, 0x9c82, 0x3ea8, 0x0, 0x0);
        gbc.writeMem(0x166c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc32);
        EXPECT(gbc.pc(), 0x166e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0216
        gbc.setState(0xde32, 0x3dd, 0x4d50, 0x1acb, 0x2d0f, 0x3d1d, 0x1, 0x0);
        gbc.writeMem(0xde32, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3dd);
        EXPECT(gbc.pc(), 0xde34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde32), 0xcb);
        EXPECT(gbc.readMem(0xde33), 0x34);
        // CB 34 0217
        gbc.setState(0xb2a2, 0xa27f, 0x49e0, 0xfe17, 0xd9d5, 0x4649, 0x1, 0x1);
        gbc.writeMem(0xb2a2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa27f);
        EXPECT(gbc.pc(), 0xb2a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a2), 0xcb);
        EXPECT(gbc.readMem(0xb2a3), 0x34);
        // CB 34 0218
        gbc.setState(0x2e14, 0x3c1f, 0xf230, 0xcca5, 0x4b33, 0xd0b4, 0x0, 0x0);
        gbc.writeMem(0x2e14, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3c1f);
        EXPECT(gbc.pc(), 0x2e16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0219
        gbc.setState(0x895f, 0xcdb4, 0xf550, 0x9809, 0x60d3, 0x1fcb, 0x0, 0x0);
        gbc.writeMem(0x895f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xcdb4);
        EXPECT(gbc.pc(), 0x8961);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x895f), 0xcb);
        EXPECT(gbc.readMem(0x8960), 0x34);
        // CB 34 021A
        gbc.setState(0x3fc8, 0xd8e0, 0x66b0, 0x4b76, 0x7a1c, 0xe685, 0x1, 0x1);
        gbc.writeMem(0x3fc8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd8e0);
        EXPECT(gbc.pc(), 0x3fca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 021B
        gbc.setState(0x3545, 0xcd4c, 0xe010, 0x8ff0, 0xeb9d, 0xd97d, 0x0, 0x0);
        gbc.writeMem(0x3545, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xcd4c);
        EXPECT(gbc.pc(), 0x3547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 021C
        gbc.setState(0x769b, 0x6c9a, 0x7a30, 0xbe2d, 0x4b94, 0x2e3b, 0x1, 0x0);
        gbc.writeMem(0x769b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6c9a);
        EXPECT(gbc.pc(), 0x769d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 021D
        gbc.setState(0xc123, 0xa98d, 0x4de0, 0xe651, 0x86c3, 0xc40b, 0x1, 0x0);
        gbc.writeMem(0xc123, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa98d);
        EXPECT(gbc.pc(), 0xc125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc123), 0xcb);
        EXPECT(gbc.readMem(0xc124), 0x34);
        // CB 34 021E
        gbc.setState(0x802c, 0x7e54, 0xabd0, 0x88c2, 0x49bb, 0x58fb, 0x1, 0x0);
        gbc.writeMem(0x802c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7e54);
        EXPECT(gbc.pc(), 0x802e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x802c), 0xcb);
        EXPECT(gbc.readMem(0x802d), 0x34);
        // CB 34 021F
        gbc.setState(0x5b91, 0x9791, 0x9680, 0xe86, 0xc990, 0xe0a0, 0x1, 0x0);
        gbc.writeMem(0x5b91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9791);
        EXPECT(gbc.pc(), 0x5b93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0220
        gbc.setState(0xead9, 0x4e25, 0x1900, 0x3320, 0x26d3, 0x7472, 0x1, 0x0);
        gbc.writeMem(0xead9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4e25);
        EXPECT(gbc.pc(), 0xeadb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xead9), 0xcb);
        EXPECT(gbc.readMem(0xeada), 0x34);
        // CB 34 0221
        gbc.setState(0xe643, 0xa965, 0x310, 0x1791, 0x7c38, 0xb502, 0x1, 0x0);
        gbc.writeMem(0xe643, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa965);
        EXPECT(gbc.pc(), 0xe645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe643), 0xcb);
        EXPECT(gbc.readMem(0xe644), 0x34);
        // CB 34 0222
        gbc.setState(0x1c96, 0x27e2, 0x6a0, 0xbc72, 0x997e, 0xeafc, 0x0, 0x1);
        gbc.writeMem(0x1c96, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x27e2);
        EXPECT(gbc.pc(), 0x1c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0223
        gbc.setState(0x122, 0x7374, 0x4a30, 0x33d0, 0x5800, 0x33ad, 0x1, 0x0);
        gbc.writeMem(0x122, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x7374);
        EXPECT(gbc.pc(), 0x124);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0224
        gbc.setState(0x9cfe, 0x4857, 0x9d20, 0xc58e, 0x17dc, 0xe87e, 0x0, 0x0);
        gbc.writeMem(0x9cfe, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4857);
        EXPECT(gbc.pc(), 0x9d00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cfe), 0xcb);
        EXPECT(gbc.readMem(0x9cff), 0x34);
        // CB 34 0225
        gbc.setState(0x1034, 0xc424, 0x4ed0, 0xc204, 0xec7, 0xc94a, 0x0, 0x1);
        gbc.writeMem(0x1034, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xc424);
        EXPECT(gbc.pc(), 0x1036);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0226
        gbc.setState(0x3154, 0xfb71, 0x68e0, 0x70f7, 0xd5ea, 0x3a7c, 0x1, 0x1);
        gbc.writeMem(0x3154, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xfb71);
        EXPECT(gbc.pc(), 0x3156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0227
        gbc.setState(0x1a76, 0x8481, 0x8640, 0x6e14, 0x52d9, 0xcf8c, 0x1, 0x1);
        gbc.writeMem(0x1a76, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8481);
        EXPECT(gbc.pc(), 0x1a78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0228
        gbc.setState(0x6a20, 0xce4c, 0xe1d0, 0x858f, 0xa322, 0x8451, 0x1, 0x1);
        gbc.writeMem(0x6a20, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xce4c);
        EXPECT(gbc.pc(), 0x6a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0229
        gbc.setState(0x5b13, 0xb39a, 0xf3b0, 0xfac3, 0xe9d, 0x42ca, 0x0, 0x1);
        gbc.writeMem(0x5b13, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb39a);
        EXPECT(gbc.pc(), 0x5b15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 022A
        gbc.setState(0x76a1, 0xb29a, 0x5280, 0xcf5e, 0x8d1d, 0x87c5, 0x1, 0x0);
        gbc.writeMem(0x76a1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb29a);
        EXPECT(gbc.pc(), 0x76a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 022B
        gbc.setState(0xd463, 0xc111, 0xb590, 0x69a3, 0xe584, 0xc7fe, 0x1, 0x1);
        gbc.writeMem(0xd463, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc111);
        EXPECT(gbc.pc(), 0xd465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd463), 0xcb);
        EXPECT(gbc.readMem(0xd464), 0x34);
        // CB 34 022C
        gbc.setState(0x6555, 0xe96, 0x66f0, 0xf201, 0x17d6, 0x6876, 0x0, 0x1);
        gbc.writeMem(0x6555, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xe96);
        EXPECT(gbc.pc(), 0x6557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 022D
        gbc.setState(0xeaaa, 0x527e, 0x1ab0, 0xfe0e, 0x9ebe, 0x53e4, 0x1, 0x1);
        gbc.writeMem(0xeaaa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x527e);
        EXPECT(gbc.pc(), 0xeaac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaaa), 0xcb);
        EXPECT(gbc.readMem(0xeaab), 0x34);
        // CB 34 022E
        gbc.setState(0xb09b, 0xd8bc, 0x8440, 0x41c4, 0x151f, 0xc50c, 0x0, 0x1);
        gbc.writeMem(0xb09b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd8bc);
        EXPECT(gbc.pc(), 0xb09d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb09b), 0xcb);
        EXPECT(gbc.readMem(0xb09c), 0x34);
        // CB 34 022F
        gbc.setState(0xe1a3, 0xa836, 0xbe40, 0x5f73, 0x5208, 0xde97, 0x0, 0x1);
        gbc.writeMem(0xe1a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa836);
        EXPECT(gbc.pc(), 0xe1a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1a3), 0xcb);
        EXPECT(gbc.readMem(0xe1a4), 0x34);
        // CB 34 0230
        gbc.setState(0x4764, 0xd626, 0xf310, 0x1870, 0xf28c, 0xece3, 0x1, 0x1);
        gbc.writeMem(0x4764, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xd626);
        EXPECT(gbc.pc(), 0x4766);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0231
        gbc.setState(0xe2c0, 0x9148, 0xfb0, 0xb4b5, 0x8404, 0xbce7, 0x1, 0x0);
        gbc.writeMem(0xe2c0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9148);
        EXPECT(gbc.pc(), 0xe2c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c0), 0xcb);
        EXPECT(gbc.readMem(0xe2c1), 0x34);
        // CB 34 0232
        gbc.setState(0x8011, 0x5db1, 0x4ce0, 0xe9c1, 0x7d03, 0x9f4d, 0x0, 0x1);
        gbc.writeMem(0x8011, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x5db1);
        EXPECT(gbc.pc(), 0x8013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8011), 0xcb);
        EXPECT(gbc.readMem(0x8012), 0x34);
        // CB 34 0233
        gbc.setState(0xef56, 0xbf09, 0x4de0, 0x5beb, 0xd598, 0x4a3c, 0x1, 0x0);
        gbc.writeMem(0xef56, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xbf09);
        EXPECT(gbc.pc(), 0xef58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef56), 0xcb);
        EXPECT(gbc.readMem(0xef57), 0x34);
        // CB 34 0234
        gbc.setState(0x599a, 0xc7f0, 0x4f00, 0xcae6, 0xd341, 0x84b4, 0x0, 0x0);
        gbc.writeMem(0x599a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xc7f0);
        EXPECT(gbc.pc(), 0x599c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0235
        gbc.setState(0xad6c, 0xe02c, 0x92e0, 0xa9dd, 0x5878, 0xe191, 0x0, 0x1);
        gbc.writeMem(0xad6c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe02c);
        EXPECT(gbc.pc(), 0xad6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad6c), 0xcb);
        EXPECT(gbc.readMem(0xad6d), 0x34);
        // CB 34 0236
        gbc.setState(0xbe9d, 0xc28a, 0x6cf0, 0x3ec1, 0xd8bd, 0xdff3, 0x0, 0x1);
        gbc.writeMem(0xbe9d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xc28a);
        EXPECT(gbc.pc(), 0xbe9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe9d), 0xcb);
        EXPECT(gbc.readMem(0xbe9e), 0x34);
        // CB 34 0237
        gbc.setState(0x7043, 0xf0c6, 0x7070, 0xaf3d, 0xf92e, 0xc3f3, 0x0, 0x0);
        gbc.writeMem(0x7043, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf0c6);
        EXPECT(gbc.pc(), 0x7045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0238
        gbc.setState(0xe79f, 0x93a5, 0xef70, 0x37f2, 0x2835, 0x1a53, 0x0, 0x1);
        gbc.writeMem(0xe79f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x93a5);
        EXPECT(gbc.pc(), 0xe7a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe79f), 0xcb);
        EXPECT(gbc.readMem(0xe7a0), 0x34);
        // CB 34 0239
        gbc.setState(0xc726, 0xfebc, 0x7020, 0xe739, 0x224e, 0x60dc, 0x0, 0x0);
        gbc.writeMem(0xc726, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfebc);
        EXPECT(gbc.pc(), 0xc728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc726), 0xcb);
        EXPECT(gbc.readMem(0xc727), 0x34);
        // CB 34 023A
        gbc.setState(0xd03b, 0xa634, 0x42f0, 0x9de, 0x1451, 0x61f8, 0x1, 0x1);
        gbc.writeMem(0xd03b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa634);
        EXPECT(gbc.pc(), 0xd03d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd03b), 0xcb);
        EXPECT(gbc.readMem(0xd03c), 0x34);
        // CB 34 023B
        gbc.setState(0x50f0, 0xfb1c, 0x1810, 0x2e98, 0x7f3e, 0x584, 0x0, 0x1);
        gbc.writeMem(0x50f0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfb1c);
        EXPECT(gbc.pc(), 0x50f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 023C
        gbc.setState(0x83ba, 0x3b6b, 0xc3d0, 0xfb5a, 0x6824, 0xa76f, 0x0, 0x0);
        gbc.writeMem(0x83ba, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3b6b);
        EXPECT(gbc.pc(), 0x83bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ba), 0xcb);
        EXPECT(gbc.readMem(0x83bb), 0x34);
        // CB 34 023D
        gbc.setState(0xdd37, 0xb647, 0xd550, 0xb4e, 0xfc1d, 0xe5eb, 0x1, 0x1);
        gbc.writeMem(0xdd37, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb647);
        EXPECT(gbc.pc(), 0xdd39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd37), 0xcb);
        EXPECT(gbc.readMem(0xdd38), 0x34);
        // CB 34 023E
        gbc.setState(0xc3df, 0xd69f, 0x17b0, 0xf7c9, 0x2d4c, 0x705f, 0x1, 0x0);
        gbc.writeMem(0xc3df, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd69f);
        EXPECT(gbc.pc(), 0xc3e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3df), 0xcb);
        EXPECT(gbc.readMem(0xc3e0), 0x34);
        // CB 34 023F
        gbc.setState(0xfbb, 0xd62b, 0x7a40, 0x713e, 0xacc2, 0xd230, 0x1, 0x0);
        gbc.writeMem(0xfbb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd62b);
        EXPECT(gbc.pc(), 0xfbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0240
        gbc.setState(0xb0a2, 0xf87c, 0xfbc0, 0xb867, 0x43d3, 0xb617, 0x1, 0x0);
        gbc.writeMem(0xb0a2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf87c);
        EXPECT(gbc.pc(), 0xb0a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0a2), 0xcb);
        EXPECT(gbc.readMem(0xb0a3), 0x34);
        // CB 34 0241
        gbc.setState(0x6d87, 0xc66b, 0x8990, 0xd2b5, 0xd5, 0x6118, 0x1, 0x1);
        gbc.writeMem(0x6d87, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc66b);
        EXPECT(gbc.pc(), 0x6d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0242
        gbc.setState(0x47a3, 0x8f9f, 0xb2f0, 0x414, 0xeacc, 0x6503, 0x1, 0x0);
        gbc.writeMem(0x47a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8f9f);
        EXPECT(gbc.pc(), 0x47a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0243
        gbc.setState(0x211, 0xf19, 0xcf0, 0xb393, 0x75c, 0xcfe9, 0x0, 0x0);
        gbc.writeMem(0x211, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf19);
        EXPECT(gbc.pc(), 0x213);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0244
        gbc.setState(0x7d70, 0x749f, 0x4350, 0x2eca, 0x6aeb, 0xb937, 0x0, 0x1);
        gbc.writeMem(0x7d70, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x749f);
        EXPECT(gbc.pc(), 0x7d72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0245
        gbc.setState(0x6f38, 0x5593, 0x1a40, 0x19a1, 0x66a6, 0x245a, 0x1, 0x0);
        gbc.writeMem(0x6f38, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5593);
        EXPECT(gbc.pc(), 0x6f3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0246
        gbc.setState(0xce2b, 0x4891, 0x4fa0, 0xee0d, 0xb166, 0x3ddf, 0x1, 0x1);
        gbc.writeMem(0xce2b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x4891);
        EXPECT(gbc.pc(), 0xce2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce2b), 0xcb);
        EXPECT(gbc.readMem(0xce2c), 0x34);
        // CB 34 0247
        gbc.setState(0x264e, 0x6674, 0x5b00, 0xae1d, 0x26f7, 0xd29b, 0x0, 0x0);
        gbc.writeMem(0x264e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6674);
        EXPECT(gbc.pc(), 0x2650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0248
        gbc.setState(0x75f7, 0x4cb7, 0x32a0, 0xca93, 0xa520, 0xe65c, 0x1, 0x1);
        gbc.writeMem(0x75f7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4cb7);
        EXPECT(gbc.pc(), 0x75f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 024A
        gbc.setState(0xd9b0, 0x1e14, 0xa0a0, 0xa674, 0xb757, 0xcfc, 0x1, 0x0);
        gbc.writeMem(0xd9b0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x1e14);
        EXPECT(gbc.pc(), 0xd9b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9b0), 0xcb);
        EXPECT(gbc.readMem(0xd9b1), 0x34);
        // CB 34 024C
        gbc.setState(0xac00, 0x9eb3, 0xf9c0, 0x9526, 0x96b2, 0xfe4f, 0x0, 0x0);
        gbc.writeMem(0xac00, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x9eb3);
        EXPECT(gbc.pc(), 0xac02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac00), 0xcb);
        EXPECT(gbc.readMem(0xac01), 0x34);
        // CB 34 024D
        gbc.setState(0x7cc2, 0xbbf4, 0xc480, 0xd72c, 0xd105, 0xb8db, 0x0, 0x0);
        gbc.writeMem(0x7cc2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xbbf4);
        EXPECT(gbc.pc(), 0x7cc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 024E
        gbc.setState(0x6ef6, 0x15c1, 0x43e0, 0xd40c, 0x70df, 0x8111, 0x0, 0x0);
        gbc.writeMem(0x6ef6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x15c1);
        EXPECT(gbc.pc(), 0x6ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 024F
        gbc.setState(0x1a82, 0x989, 0xcd30, 0xca9b, 0xba86, 0xc627, 0x0, 0x1);
        gbc.writeMem(0x1a82, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x989);
        EXPECT(gbc.pc(), 0x1a84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0250
        gbc.setState(0x7b39, 0xcac, 0xa350, 0xbc3e, 0x18a1, 0x3104, 0x1, 0x0);
        gbc.writeMem(0x7b39, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xcac);
        EXPECT(gbc.pc(), 0x7b3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0252
        gbc.setState(0x326b, 0x7d26, 0xfb00, 0x926, 0x37d7, 0xef65, 0x1, 0x1);
        gbc.writeMem(0x326b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7d26);
        EXPECT(gbc.pc(), 0x326d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0253
        gbc.setState(0x6694, 0xe25, 0x2310, 0x5fa2, 0xbf6a, 0x51f0, 0x1, 0x1);
        gbc.writeMem(0x6694, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe25);
        EXPECT(gbc.pc(), 0x6696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0254
        gbc.setState(0x7608, 0x486, 0xa0d0, 0xf806, 0x77ff, 0xe2ff, 0x0, 0x0);
        gbc.writeMem(0x7608, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x486);
        EXPECT(gbc.pc(), 0x760a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0255
        gbc.setState(0x5b92, 0x3826, 0x8540, 0x55a3, 0x231a, 0x37e5, 0x0, 0x1);
        gbc.writeMem(0x5b92, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3826);
        EXPECT(gbc.pc(), 0x5b94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0256
        gbc.setState(0x8d7b, 0x1dd8, 0xdbe0, 0xdd7, 0xd7e4, 0x6b6c, 0x0, 0x1);
        gbc.writeMem(0x8d7b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1dd8);
        EXPECT(gbc.pc(), 0x8d7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d7b), 0xcb);
        EXPECT(gbc.readMem(0x8d7c), 0x34);
        // CB 34 0257
        gbc.setState(0xce36, 0x41cd, 0x6700, 0x4f46, 0x356e, 0x3b6c, 0x1, 0x0);
        gbc.writeMem(0xce36, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x41cd);
        EXPECT(gbc.pc(), 0xce38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce36), 0xcb);
        EXPECT(gbc.readMem(0xce37), 0x34);
        // CB 34 0258
        gbc.setState(0x74b5, 0x7fd8, 0x32e0, 0xc59f, 0x5167, 0x1a80, 0x1, 0x1);
        gbc.writeMem(0x74b5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7fd8);
        EXPECT(gbc.pc(), 0x74b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 025A
        gbc.setState(0xe941, 0x50d, 0x5b40, 0x2589, 0xfe3c, 0xd885, 0x1, 0x0);
        gbc.writeMem(0xe941, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x50d);
        EXPECT(gbc.pc(), 0xe943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe941), 0xcb);
        EXPECT(gbc.readMem(0xe942), 0x34);
        // CB 34 025B
        gbc.setState(0x5a79, 0x3dbc, 0xa7c0, 0xaa80, 0xd3a2, 0xa4c9, 0x1, 0x0);
        gbc.writeMem(0x5a79, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3dbc);
        EXPECT(gbc.pc(), 0x5a7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 025C
        gbc.setState(0x6ca1, 0xbc0a, 0x2fd0, 0xc6fe, 0xbb8e, 0x27b4, 0x0, 0x1);
        gbc.writeMem(0x6ca1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xbc0a);
        EXPECT(gbc.pc(), 0x6ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 025D
        gbc.setState(0x79b1, 0xb6b6, 0xf3b0, 0x89fd, 0x9c0, 0xda1c, 0x1, 0x0);
        gbc.writeMem(0x79b1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb6b6);
        EXPECT(gbc.pc(), 0x79b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 025F
        gbc.setState(0xb779, 0x1d13, 0x21f0, 0x8915, 0x260, 0x38d5, 0x1, 0x0);
        gbc.writeMem(0xb779, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1d13);
        EXPECT(gbc.pc(), 0xb77b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb779), 0xcb);
        EXPECT(gbc.readMem(0xb77a), 0x34);
        // CB 34 0260
        gbc.setState(0x4204, 0x3b7f, 0xcfd0, 0x3c75, 0x337d, 0x85c2, 0x0, 0x0);
        gbc.writeMem(0x4204, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3b7f);
        EXPECT(gbc.pc(), 0x4206);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0261
        gbc.setState(0x3b06, 0xe983, 0x7230, 0x6f26, 0xe211, 0x3c1f, 0x0, 0x0);
        gbc.writeMem(0x3b06, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe983);
        EXPECT(gbc.pc(), 0x3b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0263
        gbc.setState(0xc01a, 0xc697, 0x81d0, 0x3d10, 0xbc40, 0xb127, 0x0, 0x1);
        gbc.writeMem(0xc01a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc697);
        EXPECT(gbc.pc(), 0xc01c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc01a), 0xcb);
        EXPECT(gbc.readMem(0xc01b), 0x34);
        // CB 34 0264
        gbc.setState(0x9c51, 0x803e, 0xa480, 0xfef1, 0x612f, 0xe3cc, 0x0, 0x1);
        gbc.writeMem(0x9c51, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x803e);
        EXPECT(gbc.pc(), 0x9c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c51), 0xcb);
        EXPECT(gbc.readMem(0x9c52), 0x34);
        // CB 34 0265
        gbc.setState(0x9794, 0x9623, 0x65e0, 0x492d, 0x146f, 0x1afb, 0x0, 0x0);
        gbc.writeMem(0x9794, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9623);
        EXPECT(gbc.pc(), 0x9796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9794), 0xcb);
        EXPECT(gbc.readMem(0x9795), 0x34);
        // CB 34 0266
        gbc.setState(0xc585, 0xc94a, 0x33e0, 0x312c, 0x9230, 0xe823, 0x1, 0x1);
        gbc.writeMem(0xc585, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc94a);
        EXPECT(gbc.pc(), 0xc587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc585), 0xcb);
        EXPECT(gbc.readMem(0xc586), 0x34);
        // CB 34 0267
        gbc.setState(0x9414, 0x5821, 0xa680, 0x39df, 0x9ad3, 0x25f9, 0x0, 0x0);
        gbc.writeMem(0x9414, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5821);
        EXPECT(gbc.pc(), 0x9416);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9414), 0xcb);
        EXPECT(gbc.readMem(0x9415), 0x34);
        // CB 34 0268
        gbc.setState(0xa410, 0x92b1, 0x3750, 0xdc31, 0xc0e7, 0x6b12, 0x0, 0x1);
        gbc.writeMem(0xa410, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x92b1);
        EXPECT(gbc.pc(), 0xa412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa410), 0xcb);
        EXPECT(gbc.readMem(0xa411), 0x34);
        // CB 34 0269
        gbc.setState(0x3c76, 0x5295, 0x1160, 0x7493, 0x1ca8, 0x54df, 0x0, 0x0);
        gbc.writeMem(0x3c76, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5295);
        EXPECT(gbc.pc(), 0x3c78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 026A
        gbc.setState(0x4d37, 0x4c0a, 0xfae0, 0x98f7, 0x70cd, 0xb4bd, 0x0, 0x1);
        gbc.writeMem(0x4d37, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4c0a);
        EXPECT(gbc.pc(), 0x4d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 026B
        gbc.setState(0x2fab, 0x59e, 0x1060, 0xc6dc, 0xcacf, 0x6ca0, 0x1, 0x1);
        gbc.writeMem(0x2fab, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x59e);
        EXPECT(gbc.pc(), 0x2fad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 026C
        gbc.setState(0xd7d6, 0x1dfc, 0x6ed0, 0x63da, 0x493b, 0x1540, 0x0, 0x1);
        gbc.writeMem(0xd7d6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x1dfc);
        EXPECT(gbc.pc(), 0xd7d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7d6), 0xcb);
        EXPECT(gbc.readMem(0xd7d7), 0x34);
        // CB 34 026D
        gbc.setState(0x6613, 0xff69, 0x6290, 0x146a, 0x410f, 0x7453, 0x0, 0x1);
        gbc.writeMem(0x6613, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xff69);
        EXPECT(gbc.pc(), 0x6615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 026E
        gbc.setState(0x4b93, 0xca3a, 0x4a70, 0xcd16, 0x3e05, 0xc694, 0x1, 0x1);
        gbc.writeMem(0x4b93, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xca3a);
        EXPECT(gbc.pc(), 0x4b95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 026F
        gbc.setState(0x6ff4, 0xea98, 0x7bf0, 0x2c1, 0xae0c, 0xba4b, 0x0, 0x1);
        gbc.writeMem(0x6ff4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xea98);
        EXPECT(gbc.pc(), 0x6ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0271
        gbc.setState(0x60ae, 0xee6a, 0x9c30, 0xe741, 0x654b, 0xc3e4, 0x0, 0x0);
        gbc.writeMem(0x60ae, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xee6a);
        EXPECT(gbc.pc(), 0x60b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0272
        gbc.setState(0x6d73, 0x7dbb, 0x2530, 0x7700, 0xc12, 0xc33e, 0x1, 0x1);
        gbc.writeMem(0x6d73, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7dbb);
        EXPECT(gbc.pc(), 0x6d75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0273
        gbc.setState(0x1fb8, 0xa101, 0x9bb0, 0x1f36, 0xea9a, 0x398d, 0x1, 0x0);
        gbc.writeMem(0x1fb8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa101);
        EXPECT(gbc.pc(), 0x1fba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0274
        gbc.setState(0xb7a2, 0xf30c, 0x59a0, 0x2e85, 0x3d14, 0xbd, 0x0, 0x0);
        gbc.writeMem(0xb7a2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf30c);
        EXPECT(gbc.pc(), 0xb7a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7a2), 0xcb);
        EXPECT(gbc.readMem(0xb7a3), 0x34);
        // CB 34 0275
        gbc.setState(0xa791, 0xd93b, 0x84a0, 0xbba3, 0x8165, 0x2e20, 0x1, 0x1);
        gbc.writeMem(0xa791, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd93b);
        EXPECT(gbc.pc(), 0xa793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa791), 0xcb);
        EXPECT(gbc.readMem(0xa792), 0x34);
        // CB 34 0276
        gbc.setState(0x6ba0, 0xfa17, 0xb00, 0x3903, 0x4eb9, 0x872b, 0x0, 0x0);
        gbc.writeMem(0x6ba0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xfa17);
        EXPECT(gbc.pc(), 0x6ba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0277
        gbc.setState(0x428e, 0x16ab, 0xee80, 0xc447, 0x5182, 0xbafe, 0x0, 0x1);
        gbc.writeMem(0x428e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x16ab);
        EXPECT(gbc.pc(), 0x4290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0278
        gbc.setState(0x411e, 0x17dd, 0xbff0, 0x2874, 0x8c16, 0xc689, 0x1, 0x0);
        gbc.writeMem(0x411e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x17dd);
        EXPECT(gbc.pc(), 0x4120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0279
        gbc.setState(0x2b4c, 0x3a5b, 0xfc20, 0xfcfc, 0x32d7, 0x76ad, 0x1, 0x1);
        gbc.writeMem(0x2b4c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3a5b);
        EXPECT(gbc.pc(), 0x2b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 027A
        gbc.setState(0xaaac, 0xf939, 0x4590, 0xbb2c, 0x8df8, 0xe77e, 0x0, 0x0);
        gbc.writeMem(0xaaac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf939);
        EXPECT(gbc.pc(), 0xaaae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaac), 0xcb);
        EXPECT(gbc.readMem(0xaaad), 0x34);
        // CB 34 027B
        gbc.setState(0x7918, 0x8278, 0xcac0, 0x778b, 0x8044, 0xfe0e, 0x0, 0x1);
        gbc.writeMem(0x7918, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8278);
        EXPECT(gbc.pc(), 0x791a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 027C
        gbc.setState(0x693d, 0xa931, 0x2480, 0xa6fc, 0xe41d, 0xd075, 0x0, 0x0);
        gbc.writeMem(0x693d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa931);
        EXPECT(gbc.pc(), 0x693f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 027D
        gbc.setState(0x92f1, 0xd1e6, 0x95b0, 0x5856, 0x368a, 0x89b0, 0x1, 0x1);
        gbc.writeMem(0x92f1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd1e6);
        EXPECT(gbc.pc(), 0x92f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92f1), 0xcb);
        EXPECT(gbc.readMem(0x92f2), 0x34);
        // CB 34 027E
        gbc.setState(0xe113, 0xba1f, 0x4680, 0xdc49, 0x259e, 0xbdef, 0x0, 0x1);
        gbc.writeMem(0xe113, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xba1f);
        EXPECT(gbc.pc(), 0xe115);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe113), 0xcb);
        EXPECT(gbc.readMem(0xe114), 0x34);
        // CB 34 027F
        gbc.setState(0x3682, 0x2450, 0x9f20, 0xb0e8, 0xe396, 0xfdf4, 0x1, 0x0);
        gbc.writeMem(0x3682, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2450);
        EXPECT(gbc.pc(), 0x3684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0280
        gbc.setState(0x4834, 0x7247, 0x9820, 0x833, 0x913f, 0xabfa, 0x0, 0x0);
        gbc.writeMem(0x4834, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7247);
        EXPECT(gbc.pc(), 0x4836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0281
        gbc.setState(0x7073, 0xd448, 0x39d0, 0x5577, 0xe986, 0xe19d, 0x1, 0x1);
        gbc.writeMem(0x7073, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd448);
        EXPECT(gbc.pc(), 0x7075);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0282
        gbc.setState(0x5031, 0x6112, 0x8780, 0xdfae, 0x99b1, 0xd141, 0x0, 0x0);
        gbc.writeMem(0x5031, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x6112);
        EXPECT(gbc.pc(), 0x5033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0284
        gbc.setState(0x3ef8, 0xf7e2, 0x6ab0, 0xa936, 0x9197, 0xd61c, 0x0, 0x0);
        gbc.writeMem(0x3ef8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf7e2);
        EXPECT(gbc.pc(), 0x3efa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0285
        gbc.setState(0xd385, 0x785a, 0xd840, 0x75c9, 0xffb5, 0xe768, 0x1, 0x1);
        gbc.writeMem(0xd385, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x785a);
        EXPECT(gbc.pc(), 0xd387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd385), 0xcb);
        EXPECT(gbc.readMem(0xd386), 0x34);
        // CB 34 0286
        gbc.setState(0x1156, 0xd143, 0x1570, 0x42f4, 0xcad6, 0xd742, 0x1, 0x1);
        gbc.writeMem(0x1156, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd143);
        EXPECT(gbc.pc(), 0x1158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0287
        gbc.setState(0xad73, 0xb6f2, 0x2b00, 0x99a7, 0xf400, 0xeed7, 0x0, 0x1);
        gbc.writeMem(0xad73, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb6f2);
        EXPECT(gbc.pc(), 0xad75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad73), 0xcb);
        EXPECT(gbc.readMem(0xad74), 0x34);
        // CB 34 0288
        gbc.setState(0x2178, 0x915d, 0x4050, 0xdbcd, 0xc36b, 0x6ffc, 0x1, 0x1);
        gbc.writeMem(0x2178, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x915d);
        EXPECT(gbc.pc(), 0x217a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0289
        gbc.setState(0x314e, 0x33c7, 0xd500, 0x892, 0x860f, 0x6bfb, 0x0, 0x1);
        gbc.writeMem(0x314e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x33c7);
        EXPECT(gbc.pc(), 0x3150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 028B
        gbc.setState(0x7f6b, 0xca17, 0x2250, 0x330c, 0x893f, 0x6783, 0x0, 0x1);
        gbc.writeMem(0x7f6b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xca17);
        EXPECT(gbc.pc(), 0x7f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 028C
        gbc.setState(0x3cf3, 0xfda1, 0xfc0, 0x345c, 0x163d, 0x673, 0x0, 0x1);
        gbc.writeMem(0x3cf3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xfda1);
        EXPECT(gbc.pc(), 0x3cf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 028D
        gbc.setState(0x8c2a, 0x158d, 0x5280, 0xf5b6, 0x909c, 0x5ad9, 0x1, 0x0);
        gbc.writeMem(0x8c2a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x158d);
        EXPECT(gbc.pc(), 0x8c2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c2a), 0xcb);
        EXPECT(gbc.readMem(0x8c2b), 0x34);
        // CB 34 028E
        gbc.setState(0x6bb3, 0x5f9, 0x3850, 0x93a8, 0x4ed8, 0xa9bc, 0x0, 0x1);
        gbc.writeMem(0x6bb3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5f9);
        EXPECT(gbc.pc(), 0x6bb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 028F
        gbc.setState(0x86e9, 0x2761, 0x4990, 0x5fc5, 0xfc63, 0x38a0, 0x0, 0x0);
        gbc.writeMem(0x86e9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x2761);
        EXPECT(gbc.pc(), 0x86eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e9), 0xcb);
        EXPECT(gbc.readMem(0x86ea), 0x34);
        // CB 34 0290
        gbc.setState(0x17c7, 0x254a, 0x16d0, 0x99b9, 0x1e95, 0xf087, 0x1, 0x1);
        gbc.writeMem(0x17c7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x254a);
        EXPECT(gbc.pc(), 0x17c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0291
        gbc.setState(0x911e, 0xc0a0, 0x6d0, 0x69df, 0xbd14, 0xf87c, 0x0, 0x1);
        gbc.writeMem(0x911e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc0a0);
        EXPECT(gbc.pc(), 0x9120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x911e), 0xcb);
        EXPECT(gbc.readMem(0x911f), 0x34);
        // CB 34 0292
        gbc.setState(0x1638, 0xb37d, 0x39f0, 0xb956, 0x42d8, 0x9bb, 0x1, 0x0);
        gbc.writeMem(0x1638, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb37d);
        EXPECT(gbc.pc(), 0x163a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0293
        gbc.setState(0xe4cf, 0x240e, 0xf610, 0xfefc, 0x13da, 0x856c, 0x1, 0x0);
        gbc.writeMem(0xe4cf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x240e);
        EXPECT(gbc.pc(), 0xe4d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4cf), 0xcb);
        EXPECT(gbc.readMem(0xe4d0), 0x34);
        // CB 34 0295
        gbc.setState(0xcc54, 0x4a, 0x79d0, 0xf22e, 0xd197, 0x72a6, 0x1, 0x1);
        gbc.writeMem(0xcc54, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x4a);
        EXPECT(gbc.pc(), 0xcc56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc54), 0xcb);
        EXPECT(gbc.readMem(0xcc55), 0x34);
        // CB 34 0296
        gbc.setState(0x26a3, 0x45f8, 0x35f0, 0xc1e, 0x5d98, 0x9012, 0x0, 0x1);
        gbc.writeMem(0x26a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x45f8);
        EXPECT(gbc.pc(), 0x26a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0298
        gbc.setState(0xad1, 0x7310, 0x14b0, 0x31de, 0xad5e, 0x4680, 0x0, 0x1);
        gbc.writeMem(0xad1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7310);
        EXPECT(gbc.pc(), 0xad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0299
        gbc.setState(0xc193, 0x7cbc, 0xeda0, 0xe175, 0x5874, 0x85a8, 0x0, 0x1);
        gbc.writeMem(0xc193, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7cbc);
        EXPECT(gbc.pc(), 0xc195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc193), 0xcb);
        EXPECT(gbc.readMem(0xc194), 0x34);
        // CB 34 029A
        gbc.setState(0x3530, 0xee75, 0x6ca0, 0x17cb, 0x6d41, 0xc194, 0x0, 0x1);
        gbc.writeMem(0x3530, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xee75);
        EXPECT(gbc.pc(), 0x3532);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 029B
        gbc.setState(0x179a, 0x5cac, 0xab50, 0x5b1f, 0xcd54, 0x98ac, 0x0, 0x0);
        gbc.writeMem(0x179a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5cac);
        EXPECT(gbc.pc(), 0x179c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 029C
        gbc.setState(0x4240, 0xf375, 0x930, 0x43c2, 0x2088, 0xd369, 0x1, 0x0);
        gbc.writeMem(0x4240, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf375);
        EXPECT(gbc.pc(), 0x4242);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 029E
        gbc.setState(0x485f, 0x9d6a, 0x66e0, 0x2e46, 0x14dc, 0xabb9, 0x0, 0x1);
        gbc.writeMem(0x485f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9d6a);
        EXPECT(gbc.pc(), 0x4861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 029F
        gbc.setState(0xa702, 0x1aaf, 0x8aa0, 0xdf3e, 0xc3b4, 0xe520, 0x0, 0x1);
        gbc.writeMem(0xa702, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1aaf);
        EXPECT(gbc.pc(), 0xa704);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa702), 0xcb);
        EXPECT(gbc.readMem(0xa703), 0x34);
        // CB 34 02A0
        gbc.setState(0x111e, 0x2321, 0xe630, 0xe2ce, 0xea20, 0x80c2, 0x1, 0x0);
        gbc.writeMem(0x111e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2321);
        EXPECT(gbc.pc(), 0x1120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02A2
        gbc.setState(0x1680, 0x83e, 0x6be0, 0x6284, 0x6a6e, 0x9b51, 0x0, 0x1);
        gbc.writeMem(0x1680, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x83e);
        EXPECT(gbc.pc(), 0x1682);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02A3
        gbc.setState(0x3d30, 0xd3b6, 0xbd40, 0x2646, 0xfc61, 0xa90d, 0x0, 0x0);
        gbc.writeMem(0x3d30, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd3b6);
        EXPECT(gbc.pc(), 0x3d32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02A4
        gbc.setState(0x3cac, 0x4918, 0x1e0, 0xe36c, 0xe538, 0xe29d, 0x1, 0x1);
        gbc.writeMem(0x3cac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4918);
        EXPECT(gbc.pc(), 0x3cae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02A5
        gbc.setState(0x4450, 0xcfad, 0xd720, 0x137d, 0xb38d, 0xbb24, 0x0, 0x0);
        gbc.writeMem(0x4450, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xcfad);
        EXPECT(gbc.pc(), 0x4452);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02A6
        gbc.setState(0xb155, 0xc151, 0x8460, 0x7d32, 0x9e5e, 0xb41b, 0x1, 0x0);
        gbc.writeMem(0xb155, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc151);
        EXPECT(gbc.pc(), 0xb157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb155), 0xcb);
        EXPECT(gbc.readMem(0xb156), 0x34);
        // CB 34 02A7
        gbc.setState(0xc26d, 0xa7fa, 0x5700, 0xcd65, 0x3586, 0xa252, 0x0, 0x0);
        gbc.writeMem(0xc26d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa7fa);
        EXPECT(gbc.pc(), 0xc26f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc26d), 0xcb);
        EXPECT(gbc.readMem(0xc26e), 0x34);
        // CB 34 02A8
        gbc.setState(0xa93a, 0x9ae2, 0xff60, 0x27ce, 0x53e3, 0xee38, 0x0, 0x1);
        gbc.writeMem(0xa93a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9ae2);
        EXPECT(gbc.pc(), 0xa93c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93a), 0xcb);
        EXPECT(gbc.readMem(0xa93b), 0x34);
        // CB 34 02A9
        gbc.setState(0xb661, 0xa210, 0x7400, 0x7d00, 0xd4b7, 0x8eb0, 0x0, 0x1);
        gbc.writeMem(0xb661, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa210);
        EXPECT(gbc.pc(), 0xb663);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb661), 0xcb);
        EXPECT(gbc.readMem(0xb662), 0x34);
        // CB 34 02AA
        gbc.setState(0xec7c, 0x6b84, 0x8810, 0x61e9, 0xfe87, 0xe61b, 0x0, 0x0);
        gbc.writeMem(0xec7c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6b84);
        EXPECT(gbc.pc(), 0xec7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec7c), 0xcb);
        EXPECT(gbc.readMem(0xec7d), 0x34);
        // CB 34 02AB
        gbc.setState(0xdcde, 0xe49, 0xbcf0, 0xb8bc, 0x3058, 0x3566, 0x1, 0x0);
        gbc.writeMem(0xdcde, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe49);
        EXPECT(gbc.pc(), 0xdce0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcde), 0xcb);
        EXPECT(gbc.readMem(0xdcdf), 0x34);
        // CB 34 02AC
        gbc.setState(0x20b6, 0xd076, 0x3340, 0xaea3, 0x64fb, 0x51ee, 0x1, 0x1);
        gbc.writeMem(0x20b6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd076);
        EXPECT(gbc.pc(), 0x20b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02AD
        gbc.setState(0x357a, 0xaab2, 0x3e70, 0x86e5, 0x4d59, 0xcbc4, 0x1, 0x1);
        gbc.writeMem(0x357a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xaab2);
        EXPECT(gbc.pc(), 0x357c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02AE
        gbc.setState(0x49c9, 0xfbd, 0x6f50, 0xe4d3, 0xeccc, 0x91dc, 0x1, 0x0);
        gbc.writeMem(0x49c9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfbd);
        EXPECT(gbc.pc(), 0x49cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02B0
        gbc.setState(0xe1cf, 0x9817, 0x2e70, 0xde71, 0x6864, 0xfd82, 0x1, 0x1);
        gbc.writeMem(0xe1cf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9817);
        EXPECT(gbc.pc(), 0xe1d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1cf), 0xcb);
        EXPECT(gbc.readMem(0xe1d0), 0x34);
        // CB 34 02B2
        gbc.setState(0x32df, 0x8e02, 0x1e50, 0xa037, 0x618c, 0x9802, 0x0, 0x0);
        gbc.writeMem(0x32df, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8e02);
        EXPECT(gbc.pc(), 0x32e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02B3
        gbc.setState(0xa785, 0x3435, 0x1b90, 0x58cc, 0x767, 0x8d2f, 0x0, 0x1);
        gbc.writeMem(0xa785, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x3435);
        EXPECT(gbc.pc(), 0xa787);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa785), 0xcb);
        EXPECT(gbc.readMem(0xa786), 0x34);
        // CB 34 02B4
        gbc.setState(0xed41, 0x83ee, 0xd090, 0xe6e4, 0xaf48, 0x3de, 0x1, 0x0);
        gbc.writeMem(0xed41, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x83ee);
        EXPECT(gbc.pc(), 0xed43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed41), 0xcb);
        EXPECT(gbc.readMem(0xed42), 0x34);
        // CB 34 02B5
        gbc.setState(0x900a, 0xabea, 0x90, 0xcce6, 0xb3cf, 0x3387, 0x0, 0x1);
        gbc.writeMem(0x900a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xabea);
        EXPECT(gbc.pc(), 0x900c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x900a), 0xcb);
        EXPECT(gbc.readMem(0x900b), 0x34);
        // CB 34 02B6
        gbc.setState(0xa486, 0x56d8, 0x1fc0, 0xed52, 0x4719, 0x307f, 0x0, 0x0);
        gbc.writeMem(0xa486, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x56d8);
        EXPECT(gbc.pc(), 0xa488);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa486), 0xcb);
        EXPECT(gbc.readMem(0xa487), 0x34);
        // CB 34 02B7
        gbc.setState(0x2143, 0x64bf, 0xa4b0, 0x5884, 0x31eb, 0x68b2, 0x0, 0x0);
        gbc.writeMem(0x2143, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x64bf);
        EXPECT(gbc.pc(), 0x2145);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02B8
        gbc.setState(0xe501, 0xd6f0, 0x81e0, 0x95a0, 0x67b1, 0xa9b9, 0x0, 0x1);
        gbc.writeMem(0xe501, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd6f0);
        EXPECT(gbc.pc(), 0xe503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe501), 0xcb);
        EXPECT(gbc.readMem(0xe502), 0x34);
        // CB 34 02B9
        gbc.setState(0xefb3, 0x2f4b, 0x4690, 0xcd06, 0xd85d, 0x7ec5, 0x1, 0x1);
        gbc.writeMem(0xefb3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2f4b);
        EXPECT(gbc.pc(), 0xefb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb3), 0xcb);
        EXPECT(gbc.readMem(0xefb4), 0x34);
        // CB 34 02BA
        gbc.setState(0x561d, 0xc936, 0x2b90, 0xd584, 0x6d1a, 0xa081, 0x1, 0x1);
        gbc.writeMem(0x561d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc936);
        EXPECT(gbc.pc(), 0x561f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02BB
        gbc.setState(0xea1b, 0xa09d, 0x6c10, 0xc0c6, 0x21c4, 0x8bac, 0x1, 0x0);
        gbc.writeMem(0xea1b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa09d);
        EXPECT(gbc.pc(), 0xea1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea1b), 0xcb);
        EXPECT(gbc.readMem(0xea1c), 0x34);
        // CB 34 02BC
        gbc.setState(0xed30, 0x6435, 0x9000, 0x4f1f, 0x8e73, 0x5a6d, 0x0, 0x0);
        gbc.writeMem(0xed30, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x6435);
        EXPECT(gbc.pc(), 0xed32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed30), 0xcb);
        EXPECT(gbc.readMem(0xed31), 0x34);
        // CB 34 02BD
        gbc.setState(0x5001, 0x7c14, 0x1f70, 0x8992, 0x7148, 0xbdc0, 0x0, 0x1);
        gbc.writeMem(0x5001, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x7c14);
        EXPECT(gbc.pc(), 0x5003);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02BE
        gbc.setState(0x4c1d, 0x4f2c, 0x2f10, 0xcdb3, 0x5531, 0x285d, 0x1, 0x1);
        gbc.writeMem(0x4c1d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4f2c);
        EXPECT(gbc.pc(), 0x4c1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02BF
        gbc.setState(0x71f2, 0x7301, 0xc010, 0x2ade, 0x66df, 0x450c, 0x1, 0x0);
        gbc.writeMem(0x71f2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x7301);
        EXPECT(gbc.pc(), 0x71f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02C0
        gbc.setState(0xa22f, 0x94b5, 0xfc60, 0x7b45, 0x5e40, 0xd310, 0x1, 0x0);
        gbc.writeMem(0xa22f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x94b5);
        EXPECT(gbc.pc(), 0xa231);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa22f), 0xcb);
        EXPECT(gbc.readMem(0xa230), 0x34);
        // CB 34 02C1
        gbc.setState(0x6822, 0xdf31, 0x3b30, 0x633d, 0x9120, 0xc565, 0x1, 0x1);
        gbc.writeMem(0x6822, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xdf31);
        EXPECT(gbc.pc(), 0x6824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02C2
        gbc.setState(0xe83c, 0x9cae, 0x14b0, 0x91dc, 0x177a, 0xf79f, 0x1, 0x1);
        gbc.writeMem(0xe83c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9cae);
        EXPECT(gbc.pc(), 0xe83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe83c), 0xcb);
        EXPECT(gbc.readMem(0xe83d), 0x34);
        // CB 34 02C3
        gbc.setState(0xc3ef, 0x40f0, 0x8250, 0x8366, 0xa92f, 0xdd0c, 0x0, 0x0);
        gbc.writeMem(0xc3ef, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x40f0);
        EXPECT(gbc.pc(), 0xc3f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3ef), 0xcb);
        EXPECT(gbc.readMem(0xc3f0), 0x34);
        // CB 34 02C4
        gbc.setState(0x2f91, 0x9ad0, 0xfdd0, 0x2bed, 0xa52e, 0x3386, 0x1, 0x1);
        gbc.writeMem(0x2f91, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9ad0);
        EXPECT(gbc.pc(), 0x2f93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02C5
        gbc.setState(0xb5f4, 0x66fb, 0x5a50, 0x2a80, 0x5bf4, 0x6644, 0x1, 0x1);
        gbc.writeMem(0xb5f4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x66fb);
        EXPECT(gbc.pc(), 0xb5f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5f4), 0xcb);
        EXPECT(gbc.readMem(0xb5f5), 0x34);
        // CB 34 02C6
        gbc.setState(0x11be, 0x6a30, 0x31a0, 0xc5a, 0xe9b5, 0x1c48, 0x1, 0x0);
        gbc.writeMem(0x11be, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6a30);
        EXPECT(gbc.pc(), 0x11c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02C7
        gbc.setState(0xdedf, 0x6fae, 0x71b0, 0x3b0, 0x474, 0xb800, 0x1, 0x0);
        gbc.writeMem(0xdedf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x6fae);
        EXPECT(gbc.pc(), 0xdee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdedf), 0xcb);
        EXPECT(gbc.readMem(0xdee0), 0x34);
        // CB 34 02C8
        gbc.setState(0xc997, 0x8f58, 0xafa0, 0x8697, 0x836, 0xc36a, 0x1, 0x1);
        gbc.writeMem(0xc997, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8f58);
        EXPECT(gbc.pc(), 0xc999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc997), 0xcb);
        EXPECT(gbc.readMem(0xc998), 0x34);
        // CB 34 02C9
        gbc.setState(0xde92, 0xd3fd, 0xf4f0, 0x7f3c, 0x5729, 0x4fb9, 0x1, 0x0);
        gbc.writeMem(0xde92, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd3fd);
        EXPECT(gbc.pc(), 0xde94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde92), 0xcb);
        EXPECT(gbc.readMem(0xde93), 0x34);
        // CB 34 02CA
        gbc.setState(0x23d3, 0xd49c, 0x7fc0, 0xa9f, 0x749, 0xa562, 0x0, 0x0);
        gbc.writeMem(0x23d3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xd49c);
        EXPECT(gbc.pc(), 0x23d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02CB
        gbc.setState(0x43bd, 0xa8c9, 0xc6b0, 0x2063, 0x31a8, 0xd800, 0x1, 0x1);
        gbc.writeMem(0x43bd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xa8c9);
        EXPECT(gbc.pc(), 0x43bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02CC
        gbc.setState(0xbfd1, 0x698a, 0xf720, 0x142, 0x34b0, 0xaf24, 0x0, 0x1);
        gbc.writeMem(0xbfd1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x698a);
        EXPECT(gbc.pc(), 0xbfd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfd1), 0xcb);
        EXPECT(gbc.readMem(0xbfd2), 0x34);
        // CB 34 02CD
        gbc.setState(0x1c28, 0xb9b4, 0x7a00, 0xeeef, 0xdf4c, 0x1240, 0x1, 0x1);
        gbc.writeMem(0x1c28, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb9b4);
        EXPECT(gbc.pc(), 0x1c2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02CE
        gbc.setState(0x1f84, 0xd786, 0x7750, 0x9e58, 0xce30, 0x7778, 0x0, 0x0);
        gbc.writeMem(0x1f84, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd786);
        EXPECT(gbc.pc(), 0x1f86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02CF
        gbc.setState(0xe320, 0x2c93, 0x7d90, 0xdb55, 0xa713, 0x701d, 0x1, 0x1);
        gbc.writeMem(0xe320, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x2c93);
        EXPECT(gbc.pc(), 0xe322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe320), 0xcb);
        EXPECT(gbc.readMem(0xe321), 0x34);
        // CB 34 02D0
        gbc.setState(0x658f, 0x5519, 0xad20, 0x30ba, 0xb2d0, 0x9caf, 0x0, 0x1);
        gbc.writeMem(0x658f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5519);
        EXPECT(gbc.pc(), 0x6591);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02D1
        gbc.setState(0x8e60, 0x539d, 0x6e30, 0x2486, 0xf29, 0x9426, 0x0, 0x1);
        gbc.writeMem(0x8e60, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x539d);
        EXPECT(gbc.pc(), 0x8e62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e60), 0xcb);
        EXPECT(gbc.readMem(0x8e61), 0x34);
        // CB 34 02D2
        gbc.setState(0xc031, 0xc6ba, 0x34e0, 0x4748, 0xfd65, 0xe830, 0x0, 0x1);
        gbc.writeMem(0xc031, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc6ba);
        EXPECT(gbc.pc(), 0xc033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc031), 0xcb);
        EXPECT(gbc.readMem(0xc032), 0x34);
        // CB 34 02D3
        gbc.setState(0x2362, 0xb5a7, 0x1940, 0x69e0, 0xc741, 0xbe19, 0x0, 0x1);
        gbc.writeMem(0x2362, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb5a7);
        EXPECT(gbc.pc(), 0x2364);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02D4
        gbc.setState(0x811e, 0x43a8, 0x7ee0, 0x574b, 0xb9f5, 0xc3c0, 0x0, 0x0);
        gbc.writeMem(0x811e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x43a8);
        EXPECT(gbc.pc(), 0x8120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x811e), 0xcb);
        EXPECT(gbc.readMem(0x811f), 0x34);
        // CB 34 02D5
        gbc.setState(0x6bb7, 0xa2c6, 0x4c30, 0x4ef3, 0x8217, 0x8319, 0x0, 0x1);
        gbc.writeMem(0x6bb7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa2c6);
        EXPECT(gbc.pc(), 0x6bb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02D6
        gbc.setState(0x4c71, 0x609e, 0xc610, 0xb52b, 0x793d, 0xdb0b, 0x0, 0x0);
        gbc.writeMem(0x4c71, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x609e);
        EXPECT(gbc.pc(), 0x4c73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02D7
        gbc.setState(0x93e, 0xbd25, 0xefc0, 0x31b0, 0x45df, 0xbe3e, 0x0, 0x0);
        gbc.writeMem(0x93e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbd25);
        EXPECT(gbc.pc(), 0x940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02D8
        gbc.setState(0x3445, 0x5978, 0xbcf0, 0x6f91, 0x25af, 0x541f, 0x1, 0x0);
        gbc.writeMem(0x3445, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5978);
        EXPECT(gbc.pc(), 0x3447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02DA
        gbc.setState(0xc49, 0xad58, 0x7570, 0x27c, 0x9925, 0xbd5f, 0x1, 0x0);
        gbc.writeMem(0xc49, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xad58);
        EXPECT(gbc.pc(), 0xc4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02DB
        gbc.setState(0x77cd, 0xa303, 0xd8f0, 0x5954, 0x345c, 0xb95b, 0x0, 0x1);
        gbc.writeMem(0x77cd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa303);
        EXPECT(gbc.pc(), 0x77cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02DC
        gbc.setState(0xb841, 0x74f4, 0xd760, 0x601, 0xb1bc, 0xec33, 0x1, 0x0);
        gbc.writeMem(0xb841, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x74f4);
        EXPECT(gbc.pc(), 0xb843);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb841), 0xcb);
        EXPECT(gbc.readMem(0xb842), 0x34);
        // CB 34 02DD
        gbc.setState(0x433b, 0x3431, 0x5020, 0x2f35, 0xff53, 0x4514, 0x1, 0x1);
        gbc.writeMem(0x433b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3431);
        EXPECT(gbc.pc(), 0x433d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02DE
        gbc.setState(0x9eed, 0xf9b7, 0xc0, 0x3d57, 0xf0a8, 0x79a, 0x1, 0x0);
        gbc.writeMem(0x9eed, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf9b7);
        EXPECT(gbc.pc(), 0x9eef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eed), 0xcb);
        EXPECT(gbc.readMem(0x9eee), 0x34);
        // CB 34 02DF
        gbc.setState(0x6e73, 0xae8c, 0xec60, 0x805e, 0x89cf, 0x969e, 0x0, 0x0);
        gbc.writeMem(0x6e73, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xae8c);
        EXPECT(gbc.pc(), 0x6e75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E0
        gbc.setState(0x5939, 0xd66b, 0x3c40, 0xcd2c, 0xcb13, 0xa486, 0x0, 0x0);
        gbc.writeMem(0x5939, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd66b);
        EXPECT(gbc.pc(), 0x593b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E1
        gbc.setState(0xf69, 0xec7b, 0xfa0, 0x1f03, 0x8ce8, 0xd1a6, 0x1, 0x1);
        gbc.writeMem(0xf69, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xec7b);
        EXPECT(gbc.pc(), 0xf6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E2
        gbc.setState(0xe34d, 0x30ef, 0x41a0, 0x14a8, 0xcf12, 0x7b, 0x1, 0x1);
        gbc.writeMem(0xe34d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x30ef);
        EXPECT(gbc.pc(), 0xe34f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe34d), 0xcb);
        EXPECT(gbc.readMem(0xe34e), 0x34);
        // CB 34 02E3
        gbc.setState(0xd37a, 0x63dc, 0xed60, 0xabec, 0x2b14, 0xbc42, 0x1, 0x1);
        gbc.writeMem(0xd37a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x63dc);
        EXPECT(gbc.pc(), 0xd37c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd37a), 0xcb);
        EXPECT(gbc.readMem(0xd37b), 0x34);
        // CB 34 02E4
        gbc.setState(0x40a8, 0xa286, 0x6d90, 0x3d99, 0x6a76, 0xde20, 0x1, 0x0);
        gbc.writeMem(0x40a8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa286);
        EXPECT(gbc.pc(), 0x40aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E5
        gbc.setState(0x4153, 0x1ffb, 0xcb00, 0xb66b, 0x7ff8, 0x38da, 0x1, 0x1);
        gbc.writeMem(0x4153, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1ffb);
        EXPECT(gbc.pc(), 0x4155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E6
        gbc.setState(0x933e, 0xb047, 0x3c00, 0xae0c, 0x2d2, 0x39de, 0x0, 0x0);
        gbc.writeMem(0x933e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb047);
        EXPECT(gbc.pc(), 0x9340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933e), 0xcb);
        EXPECT(gbc.readMem(0x933f), 0x34);
        // CB 34 02E7
        gbc.setState(0x4cb8, 0x7199, 0x66d0, 0x354, 0x2e62, 0x22d9, 0x1, 0x0);
        gbc.writeMem(0x4cb8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7199);
        EXPECT(gbc.pc(), 0x4cba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E8
        gbc.setState(0x705b, 0xc6a6, 0x4bf0, 0x6a03, 0xd07c, 0xd48d, 0x1, 0x1);
        gbc.writeMem(0x705b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xc6a6);
        EXPECT(gbc.pc(), 0x705d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02E9
        gbc.setState(0xdb93, 0x6dd9, 0xf690, 0x5301, 0x15d2, 0x4067, 0x0, 0x1);
        gbc.writeMem(0xdb93, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6dd9);
        EXPECT(gbc.pc(), 0xdb95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb93), 0xcb);
        EXPECT(gbc.readMem(0xdb94), 0x34);
        // CB 34 02EA
        gbc.setState(0x8338, 0x8fe5, 0x6cb0, 0xa93e, 0x84b4, 0xf404, 0x1, 0x0);
        gbc.writeMem(0x8338, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8fe5);
        EXPECT(gbc.pc(), 0x833a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8338), 0xcb);
        EXPECT(gbc.readMem(0x8339), 0x34);
        // CB 34 02EC
        gbc.setState(0xb303, 0xdd03, 0xe650, 0x73c5, 0x43b3, 0x82ff, 0x0, 0x0);
        gbc.writeMem(0xb303, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xdd03);
        EXPECT(gbc.pc(), 0xb305);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb303), 0xcb);
        EXPECT(gbc.readMem(0xb304), 0x34);
        // CB 34 02ED
        gbc.setState(0xe967, 0x931f, 0xd290, 0x4d07, 0x5bb5, 0x11e9, 0x0, 0x1);
        gbc.writeMem(0xe967, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x931f);
        EXPECT(gbc.pc(), 0xe969);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe967), 0xcb);
        EXPECT(gbc.readMem(0xe968), 0x34);
        // CB 34 02EE
        gbc.setState(0x1a15, 0x3784, 0x2350, 0x7218, 0x5786, 0x8ff2, 0x1, 0x1);
        gbc.writeMem(0x1a15, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3784);
        EXPECT(gbc.pc(), 0x1a17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02EF
        gbc.setState(0xa6e6, 0x46bf, 0x4b20, 0xaa32, 0x3e7, 0xf6f7, 0x0, 0x0);
        gbc.writeMem(0xa6e6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x46bf);
        EXPECT(gbc.pc(), 0xa6e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e6), 0xcb);
        EXPECT(gbc.readMem(0xa6e7), 0x34);
        // CB 34 02F0
        gbc.setState(0xa6c5, 0x644, 0xb530, 0xfb12, 0xb09e, 0x89d0, 0x0, 0x1);
        gbc.writeMem(0xa6c5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x644);
        EXPECT(gbc.pc(), 0xa6c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c5), 0xcb);
        EXPECT(gbc.readMem(0xa6c6), 0x34);
        // CB 34 02F1
        gbc.setState(0x5266, 0x47ea, 0x7f90, 0x4385, 0x8349, 0xa38, 0x0, 0x0);
        gbc.writeMem(0x5266, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x47ea);
        EXPECT(gbc.pc(), 0x5268);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F2
        gbc.setState(0xa1d4, 0xce3c, 0x7390, 0x4f95, 0xbd06, 0xa394, 0x0, 0x0);
        gbc.writeMem(0xa1d4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xce3c);
        EXPECT(gbc.pc(), 0xa1d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d4), 0xcb);
        EXPECT(gbc.readMem(0xa1d5), 0x34);
        // CB 34 02F3
        gbc.setState(0x2b0e, 0xb01a, 0xd740, 0xc222, 0x38d0, 0xc33, 0x1, 0x0);
        gbc.writeMem(0x2b0e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb01a);
        EXPECT(gbc.pc(), 0x2b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F4
        gbc.setState(0xdf29, 0x8ce4, 0x3a30, 0x8ebb, 0x613c, 0x81e9, 0x0, 0x0);
        gbc.writeMem(0xdf29, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8ce4);
        EXPECT(gbc.pc(), 0xdf2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf29), 0xcb);
        EXPECT(gbc.readMem(0xdf2a), 0x34);
        // CB 34 02F5
        gbc.setState(0x3f7, 0x6062, 0xa780, 0x3b16, 0x15d2, 0x5920, 0x0, 0x0);
        gbc.writeMem(0x3f7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6062);
        EXPECT(gbc.pc(), 0x3f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F6
        gbc.setState(0x6ea7, 0x7557, 0x3860, 0xb531, 0x408d, 0xf01a, 0x0, 0x0);
        gbc.writeMem(0x6ea7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7557);
        EXPECT(gbc.pc(), 0x6ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F7
        gbc.setState(0x2131, 0x8123, 0x41c0, 0x4a57, 0x3806, 0xc643, 0x0, 0x1);
        gbc.writeMem(0x2131, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x8123);
        EXPECT(gbc.pc(), 0x2133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F8
        gbc.setState(0x4fe2, 0xa87d, 0x5da0, 0x180b, 0x2797, 0x871d, 0x0, 0x1);
        gbc.writeMem(0x4fe2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa87d);
        EXPECT(gbc.pc(), 0x4fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02F9
        gbc.setState(0xd92e, 0x419d, 0x9f80, 0xac76, 0x66a0, 0x449b, 0x1, 0x1);
        gbc.writeMem(0xd92e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x419d);
        EXPECT(gbc.pc(), 0xd930);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd92e), 0xcb);
        EXPECT(gbc.readMem(0xd92f), 0x34);
        // CB 34 02FB
        gbc.setState(0x69ad, 0x55b0, 0x5aa0, 0x52a5, 0x39b7, 0x37a4, 0x0, 0x0);
        gbc.writeMem(0x69ad, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x55b0);
        EXPECT(gbc.pc(), 0x69af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02FC
        gbc.setState(0x2451, 0xc6e4, 0xbdd0, 0x5515, 0xb7e7, 0x3d0d, 0x1, 0x1);
        gbc.writeMem(0x2451, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc6e4);
        EXPECT(gbc.pc(), 0x2453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02FD
        gbc.setState(0x5cd4, 0xb451, 0x22a0, 0x9133, 0x95ac, 0x6b22, 0x1, 0x1);
        gbc.writeMem(0x5cd4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xb451);
        EXPECT(gbc.pc(), 0x5cd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02FE
        gbc.setState(0x128, 0xd53b, 0x42d0, 0xc9d, 0xb1d7, 0xc62c, 0x1, 0x0);
        gbc.writeMem(0x128, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd53b);
        EXPECT(gbc.pc(), 0x12a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 02FF
        gbc.setState(0x5fef, 0x6fc5, 0x3cd0, 0x5b48, 0x5462, 0x9022, 0x0, 0x0);
        gbc.writeMem(0x5fef, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6fc5);
        EXPECT(gbc.pc(), 0x5ff1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0300
        gbc.setState(0x640a, 0xb167, 0xd860, 0x1551, 0xbd18, 0xac1a, 0x0, 0x0);
        gbc.writeMem(0x640a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xb167);
        EXPECT(gbc.pc(), 0x640c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0301
        gbc.setState(0x1980, 0xd406, 0x7990, 0xd721, 0xc03f, 0x2bda, 0x1, 0x0);
        gbc.writeMem(0x1980, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd406);
        EXPECT(gbc.pc(), 0x1982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0302
        gbc.setState(0x4a48, 0xded9, 0xcf30, 0x4c43, 0x7553, 0x2e7f, 0x0, 0x1);
        gbc.writeMem(0x4a48, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xded9);
        EXPECT(gbc.pc(), 0x4a4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0303
        gbc.setState(0x3c80, 0xe590, 0x4a50, 0x9437, 0xf268, 0xb964, 0x0, 0x1);
        gbc.writeMem(0x3c80, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xe590);
        EXPECT(gbc.pc(), 0x3c82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0304
        gbc.setState(0x4deb, 0xd674, 0xc040, 0xdf1c, 0x3695, 0x3f59, 0x1, 0x0);
        gbc.writeMem(0x4deb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd674);
        EXPECT(gbc.pc(), 0x4ded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0305
        gbc.setState(0x4f1f, 0x514e, 0xe3b0, 0xa021, 0x1a05, 0x882, 0x1, 0x1);
        gbc.writeMem(0x4f1f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x514e);
        EXPECT(gbc.pc(), 0x4f21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0306
        gbc.setState(0x20bc, 0xae98, 0xed20, 0xe043, 0x2fc9, 0xff79, 0x0, 0x0);
        gbc.writeMem(0x20bc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xae98);
        EXPECT(gbc.pc(), 0x20be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0307
        gbc.setState(0x70a7, 0x717, 0x4d90, 0xcf7c, 0x4ff7, 0xc10c, 0x0, 0x0);
        gbc.writeMem(0x70a7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x717);
        EXPECT(gbc.pc(), 0x70a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0308
        gbc.setState(0x9f14, 0x740, 0xf790, 0x256b, 0x8f4e, 0xb3d1, 0x1, 0x0);
        gbc.writeMem(0x9f14, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x740);
        EXPECT(gbc.pc(), 0x9f16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f14), 0xcb);
        EXPECT(gbc.readMem(0x9f15), 0x34);
        // CB 34 0309
        gbc.setState(0xbe87, 0xf365, 0x8c90, 0x9d44, 0xcf5e, 0x4391, 0x1, 0x1);
        gbc.writeMem(0xbe87, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf365);
        EXPECT(gbc.pc(), 0xbe89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe87), 0xcb);
        EXPECT(gbc.readMem(0xbe88), 0x34);
        // CB 34 030A
        gbc.setState(0x11a3, 0x2ecf, 0xebb0, 0x6416, 0xf7cb, 0x2bb, 0x0, 0x0);
        gbc.writeMem(0x11a3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2ecf);
        EXPECT(gbc.pc(), 0x11a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 030B
        gbc.setState(0x5ef2, 0xa342, 0xe170, 0xa050, 0xef2a, 0x3bef, 0x0, 0x0);
        gbc.writeMem(0x5ef2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa342);
        EXPECT(gbc.pc(), 0x5ef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 030C
        gbc.setState(0x891e, 0x11c8, 0x66c0, 0x9eba, 0xe19e, 0x7480, 0x0, 0x1);
        gbc.writeMem(0x891e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x11c8);
        EXPECT(gbc.pc(), 0x8920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x891e), 0xcb);
        EXPECT(gbc.readMem(0x891f), 0x34);
        // CB 34 030D
        gbc.setState(0xb739, 0x6a2a, 0xdaf0, 0xea7, 0x6548, 0x7b1c, 0x0, 0x1);
        gbc.writeMem(0xb739, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6a2a);
        EXPECT(gbc.pc(), 0xb73b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb739), 0xcb);
        EXPECT(gbc.readMem(0xb73a), 0x34);
        // CB 34 030E
        gbc.setState(0x232e, 0xce80, 0x2980, 0x9bc2, 0x8f2b, 0xf0b3, 0x0, 0x1);
        gbc.writeMem(0x232e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xce80);
        EXPECT(gbc.pc(), 0x2330);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 030F
        gbc.setState(0xc69c, 0x56f6, 0x2ee0, 0x6c7c, 0x1985, 0xbaaf, 0x0, 0x0);
        gbc.writeMem(0xc69c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x56f6);
        EXPECT(gbc.pc(), 0xc69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc69c), 0xcb);
        EXPECT(gbc.readMem(0xc69d), 0x34);
        // CB 34 0310
        gbc.setState(0xe38a, 0x6770, 0x23f0, 0xb000, 0x143c, 0xf561, 0x0, 0x0);
        gbc.writeMem(0xe38a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x6770);
        EXPECT(gbc.pc(), 0xe38c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe38a), 0xcb);
        EXPECT(gbc.readMem(0xe38b), 0x34);
        // CB 34 0311
        gbc.setState(0xc949, 0xabd, 0xcd30, 0x2a6d, 0xf99f, 0x1cf3, 0x1, 0x1);
        gbc.writeMem(0xc949, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xabd);
        EXPECT(gbc.pc(), 0xc94b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc949), 0xcb);
        EXPECT(gbc.readMem(0xc94a), 0x34);
        // CB 34 0312
        gbc.setState(0x93d0, 0xb8a, 0xa640, 0xe7c7, 0x8363, 0xdd81, 0x0, 0x0);
        gbc.writeMem(0x93d0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb8a);
        EXPECT(gbc.pc(), 0x93d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93d0), 0xcb);
        EXPECT(gbc.readMem(0x93d1), 0x34);
        // CB 34 0313
        gbc.setState(0x4868, 0xf565, 0x98a0, 0x65a6, 0x1f8c, 0x7367, 0x1, 0x0);
        gbc.writeMem(0x4868, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xf565);
        EXPECT(gbc.pc(), 0x486a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0314
        gbc.setState(0x983d, 0x56a6, 0xd630, 0xe92, 0x2973, 0x559c, 0x0, 0x1);
        gbc.writeMem(0x983d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x56a6);
        EXPECT(gbc.pc(), 0x983f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x983d), 0xcb);
        EXPECT(gbc.readMem(0x983e), 0x34);
        // CB 34 0315
        gbc.setState(0xcc8d, 0x2315, 0xbc20, 0x8d7b, 0xa508, 0xac9e, 0x1, 0x1);
        gbc.writeMem(0xcc8d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x2315);
        EXPECT(gbc.pc(), 0xcc8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8d), 0xcb);
        EXPECT(gbc.readMem(0xcc8e), 0x34);
        // CB 34 0317
        gbc.setState(0xb29d, 0x4e07, 0x6390, 0xe541, 0xe6eb, 0xde42, 0x0, 0x0);
        gbc.writeMem(0xb29d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x4e07);
        EXPECT(gbc.pc(), 0xb29f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb29d), 0xcb);
        EXPECT(gbc.readMem(0xb29e), 0x34);
        // CB 34 0318
        gbc.setState(0xca7b, 0x1ce0, 0x780, 0x54de, 0x4e27, 0x9aa0, 0x0, 0x0);
        gbc.writeMem(0xca7b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1ce0);
        EXPECT(gbc.pc(), 0xca7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca7b), 0xcb);
        EXPECT(gbc.readMem(0xca7c), 0x34);
        // CB 34 0319
        gbc.setState(0xe9a7, 0xefc, 0x90b0, 0x2db, 0x6a81, 0x5b36, 0x0, 0x0);
        gbc.writeMem(0xe9a7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xefc);
        EXPECT(gbc.pc(), 0xe9a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9a7), 0xcb);
        EXPECT(gbc.readMem(0xe9a8), 0x34);
        // CB 34 031A
        gbc.setState(0xb5e5, 0xb230, 0xc0c0, 0x1659, 0xaf4e, 0xe65f, 0x0, 0x1);
        gbc.writeMem(0xb5e5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xb230);
        EXPECT(gbc.pc(), 0xb5e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5e5), 0xcb);
        EXPECT(gbc.readMem(0xb5e6), 0x34);
        // CB 34 031B
        gbc.setState(0x26d1, 0x5b10, 0xe360, 0xc8aa, 0xb4be, 0xb36e, 0x0, 0x0);
        gbc.writeMem(0x26d1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5b10);
        EXPECT(gbc.pc(), 0x26d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 031C
        gbc.setState(0xa7d0, 0xfa54, 0x7fe0, 0xf21b, 0xbd61, 0xbf7a, 0x0, 0x0);
        gbc.writeMem(0xa7d0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xfa54);
        EXPECT(gbc.pc(), 0xa7d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d0), 0xcb);
        EXPECT(gbc.readMem(0xa7d1), 0x34);
        // CB 34 031D
        gbc.setState(0x4563, 0xd1db, 0xbc90, 0xd008, 0xc3e8, 0x78b2, 0x0, 0x0);
        gbc.writeMem(0x4563, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd1db);
        EXPECT(gbc.pc(), 0x4565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 031E
        gbc.setState(0x5103, 0x7ccc, 0x3ae0, 0xe60d, 0xc606, 0x3cee, 0x1, 0x0);
        gbc.writeMem(0x5103, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x7ccc);
        EXPECT(gbc.pc(), 0x5105);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 031F
        gbc.setState(0x31d6, 0x7673, 0x8c70, 0x9fe0, 0x298f, 0xccca, 0x1, 0x0);
        gbc.writeMem(0x31d6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7673);
        EXPECT(gbc.pc(), 0x31d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0320
        gbc.setState(0x97c3, 0x369, 0x2220, 0x4c95, 0x7481, 0xa737, 0x1, 0x0);
        gbc.writeMem(0x97c3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x369);
        EXPECT(gbc.pc(), 0x97c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97c3), 0xcb);
        EXPECT(gbc.readMem(0x97c4), 0x34);
        // CB 34 0321
        gbc.setState(0x6055, 0x4bfd, 0xfe00, 0xa1b4, 0xc01e, 0xd417, 0x1, 0x1);
        gbc.writeMem(0x6055, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4bfd);
        EXPECT(gbc.pc(), 0x6057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0322
        gbc.setState(0xc3d5, 0xff92, 0x54f0, 0xd378, 0xd309, 0x803b, 0x0, 0x0);
        gbc.writeMem(0xc3d5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xff92);
        EXPECT(gbc.pc(), 0xc3d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d5), 0xcb);
        EXPECT(gbc.readMem(0xc3d6), 0x34);
        // CB 34 0323
        gbc.setState(0x7230, 0x7cb3, 0xe6d0, 0xef91, 0x7c63, 0x3cfa, 0x1, 0x1);
        gbc.writeMem(0x7230, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7cb3);
        EXPECT(gbc.pc(), 0x7232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0324
        gbc.setState(0x7079, 0x9807, 0xd700, 0x156e, 0xf749, 0x3d88, 0x1, 0x1);
        gbc.writeMem(0x7079, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9807);
        EXPECT(gbc.pc(), 0x707b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0325
        gbc.setState(0x17c6, 0x126c, 0x70, 0x182e, 0x3d3e, 0xdfe8, 0x1, 0x1);
        gbc.writeMem(0x17c6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x126c);
        EXPECT(gbc.pc(), 0x17c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0326
        gbc.setState(0x678b, 0xc42a, 0x7770, 0x7676, 0x1, 0xcd95, 0x0, 0x0);
        gbc.writeMem(0x678b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc42a);
        EXPECT(gbc.pc(), 0x678d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0327
        gbc.setState(0xb015, 0x21f1, 0x97d0, 0xa2ef, 0xdb00, 0xb008, 0x1, 0x0);
        gbc.writeMem(0xb015, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x21f1);
        EXPECT(gbc.pc(), 0xb017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb015), 0xcb);
        EXPECT(gbc.readMem(0xb016), 0x34);
        // CB 34 0328
        gbc.setState(0xb46f, 0xd2aa, 0x9510, 0x37fd, 0xe2cb, 0x8efd, 0x1, 0x0);
        gbc.writeMem(0xb46f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd2aa);
        EXPECT(gbc.pc(), 0xb471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46f), 0xcb);
        EXPECT(gbc.readMem(0xb470), 0x34);
        // CB 34 0329
        gbc.setState(0xa592, 0x7de0, 0x9ad0, 0xc2e7, 0x3b7a, 0xc197, 0x1, 0x0);
        gbc.writeMem(0xa592, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7de0);
        EXPECT(gbc.pc(), 0xa594);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa592), 0xcb);
        EXPECT(gbc.readMem(0xa593), 0x34);
        // CB 34 032A
        gbc.setState(0xe4d5, 0xb12b, 0xd70, 0x216a, 0xa47f, 0xaf44, 0x0, 0x0);
        gbc.writeMem(0xe4d5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb12b);
        EXPECT(gbc.pc(), 0xe4d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4d5), 0xcb);
        EXPECT(gbc.readMem(0xe4d6), 0x34);
        // CB 34 032B
        gbc.setState(0x1f99, 0xccfd, 0x9c10, 0xbfdd, 0x3f33, 0xdf1a, 0x0, 0x0);
        gbc.writeMem(0x1f99, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xccfd);
        EXPECT(gbc.pc(), 0x1f9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 032C
        gbc.setState(0xbe33, 0x7110, 0xb530, 0x6cbf, 0x16e7, 0xd77e, 0x1, 0x0);
        gbc.writeMem(0xbe33, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7110);
        EXPECT(gbc.pc(), 0xbe35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe33), 0xcb);
        EXPECT(gbc.readMem(0xbe34), 0x34);
        // CB 34 032D
        gbc.setState(0x691, 0xa6d4, 0x7290, 0x979d, 0x9098, 0x2175, 0x0, 0x1);
        gbc.writeMem(0x691, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xa6d4);
        EXPECT(gbc.pc(), 0x693);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 032E
        gbc.setState(0x6841, 0x31ea, 0x9130, 0x8ff, 0x9392, 0x5485, 0x0, 0x0);
        gbc.writeMem(0x6841, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x31ea);
        EXPECT(gbc.pc(), 0x6843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 032F
        gbc.setState(0xdd2c, 0xb20f, 0x37b0, 0x6cd7, 0x31b5, 0xd70b, 0x0, 0x0);
        gbc.writeMem(0xdd2c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xb20f);
        EXPECT(gbc.pc(), 0xdd2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd2c), 0xcb);
        EXPECT(gbc.readMem(0xdd2d), 0x34);
        // CB 34 0330
        gbc.setState(0xda3c, 0x6d02, 0xed80, 0x79ac, 0x50e3, 0x1c3d, 0x1, 0x0);
        gbc.writeMem(0xda3c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6d02);
        EXPECT(gbc.pc(), 0xda3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda3c), 0xcb);
        EXPECT(gbc.readMem(0xda3d), 0x34);
        // CB 34 0331
        gbc.setState(0xb314, 0xe24e, 0x6d0, 0xd160, 0x5123, 0x190a, 0x0, 0x0);
        gbc.writeMem(0xb314, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe24e);
        EXPECT(gbc.pc(), 0xb316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb314), 0xcb);
        EXPECT(gbc.readMem(0xb315), 0x34);
        // CB 34 0332
        gbc.setState(0x65b9, 0x9c11, 0x6470, 0xd054, 0x3d26, 0xebc5, 0x1, 0x1);
        gbc.writeMem(0x65b9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9c11);
        EXPECT(gbc.pc(), 0x65bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0333
        gbc.setState(0xd863, 0x6b76, 0x8b40, 0xa746, 0x75c4, 0x5fbd, 0x0, 0x0);
        gbc.writeMem(0xd863, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6b76);
        EXPECT(gbc.pc(), 0xd865);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd863), 0xcb);
        EXPECT(gbc.readMem(0xd864), 0x34);
        // CB 34 0334
        gbc.setState(0x5a2a, 0xde22, 0xc900, 0x7014, 0x4c13, 0x90a9, 0x1, 0x1);
        gbc.writeMem(0x5a2a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xde22);
        EXPECT(gbc.pc(), 0x5a2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0335
        gbc.setState(0xb451, 0x7b1c, 0x26d0, 0xbf4a, 0x3b23, 0x1be5, 0x0, 0x0);
        gbc.writeMem(0xb451, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x7b1c);
        EXPECT(gbc.pc(), 0xb453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb451), 0xcb);
        EXPECT(gbc.readMem(0xb452), 0x34);
        // CB 34 0336
        gbc.setState(0x4c07, 0x8481, 0x5e20, 0x9dac, 0x22a7, 0x4a87, 0x0, 0x0);
        gbc.writeMem(0x4c07, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x8481);
        EXPECT(gbc.pc(), 0x4c09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0337
        gbc.setState(0x5468, 0x7761, 0xa370, 0x2f29, 0x189d, 0x294d, 0x1, 0x1);
        gbc.writeMem(0x5468, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7761);
        EXPECT(gbc.pc(), 0x546a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0339
        gbc.setState(0xb69c, 0x5547, 0xcc00, 0x2f31, 0x6d44, 0x5aa3, 0x1, 0x1);
        gbc.writeMem(0xb69c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x5547);
        EXPECT(gbc.pc(), 0xb69e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb69c), 0xcb);
        EXPECT(gbc.readMem(0xb69d), 0x34);
        // CB 34 033A
        gbc.setState(0xbbe5, 0xf240, 0xb8a0, 0x8e35, 0x42b8, 0x3796, 0x1, 0x1);
        gbc.writeMem(0xbbe5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf240);
        EXPECT(gbc.pc(), 0xbbe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe5), 0xcb);
        EXPECT(gbc.readMem(0xbbe6), 0x34);
        // CB 34 033B
        gbc.setState(0x70fb, 0xecd6, 0x8e60, 0x427, 0x228a, 0xb2e, 0x0, 0x0);
        gbc.writeMem(0x70fb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xecd6);
        EXPECT(gbc.pc(), 0x70fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 033C
        gbc.setState(0xa2a5, 0xe966, 0x1850, 0x3eba, 0x1008, 0xfe67, 0x0, 0x1);
        gbc.writeMem(0xa2a5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe966);
        EXPECT(gbc.pc(), 0xa2a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a5), 0xcb);
        EXPECT(gbc.readMem(0xa2a6), 0x34);
        // CB 34 033D
        gbc.setState(0x965, 0x60b, 0x85d0, 0xe498, 0x67ae, 0x6db, 0x1, 0x0);
        gbc.writeMem(0x965, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x60b);
        EXPECT(gbc.pc(), 0x967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 033E
        gbc.setState(0x2eca, 0x3c64, 0x7300, 0x7baa, 0x172, 0x4b4f, 0x1, 0x0);
        gbc.writeMem(0x2eca, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x3c64);
        EXPECT(gbc.pc(), 0x2ecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 033F
        gbc.setState(0x704f, 0x1498, 0x9ff0, 0x864f, 0xdc0, 0x7b8c, 0x1, 0x0);
        gbc.writeMem(0x704f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1498);
        EXPECT(gbc.pc(), 0x7051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0340
        gbc.setState(0xacc6, 0x777e, 0x4620, 0x77fd, 0x63ce, 0x9257, 0x1, 0x0);
        gbc.writeMem(0xacc6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x777e);
        EXPECT(gbc.pc(), 0xacc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacc6), 0xcb);
        EXPECT(gbc.readMem(0xacc7), 0x34);
        // CB 34 0341
        gbc.setState(0xe746, 0x67cf, 0x8b0, 0xcb64, 0x5228, 0xbed5, 0x1, 0x1);
        gbc.writeMem(0xe746, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x67cf);
        EXPECT(gbc.pc(), 0xe748);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe746), 0xcb);
        EXPECT(gbc.readMem(0xe747), 0x34);
        // CB 34 0342
        gbc.setState(0x860b, 0xe993, 0xf010, 0xdc80, 0x1021, 0xf54e, 0x0, 0x1);
        gbc.writeMem(0x860b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe993);
        EXPECT(gbc.pc(), 0x860d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x860b), 0xcb);
        EXPECT(gbc.readMem(0x860c), 0x34);
        // CB 34 0343
        gbc.setState(0x321d, 0xfa, 0x1b70, 0xd5ba, 0xc65b, 0xa6d, 0x1, 0x1);
        gbc.writeMem(0x321d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xfa);
        EXPECT(gbc.pc(), 0x321f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0344
        gbc.setState(0x752b, 0x2e44, 0x6bb0, 0x1fd4, 0xf3a0, 0xeeb2, 0x1, 0x1);
        gbc.writeMem(0x752b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x2e44);
        EXPECT(gbc.pc(), 0x752d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0345
        gbc.setState(0x38b7, 0xd693, 0xf220, 0x7ecc, 0x7181, 0xae6, 0x1, 0x1);
        gbc.writeMem(0x38b7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd693);
        EXPECT(gbc.pc(), 0x38b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0346
        gbc.setState(0xb3ca, 0xcf01, 0x96f0, 0x7959, 0x5663, 0x7878, 0x1, 0x0);
        gbc.writeMem(0xb3ca, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcf01);
        EXPECT(gbc.pc(), 0xb3cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3ca), 0xcb);
        EXPECT(gbc.readMem(0xb3cb), 0x34);
        // CB 34 0347
        gbc.setState(0x2544, 0x58c0, 0xca00, 0x79c5, 0x8706, 0xe9fc, 0x1, 0x0);
        gbc.writeMem(0x2544, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x58c0);
        EXPECT(gbc.pc(), 0x2546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0348
        gbc.setState(0xe8da, 0x763d, 0x1840, 0xf245, 0x4a2d, 0x555f, 0x0, 0x1);
        gbc.writeMem(0xe8da, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x763d);
        EXPECT(gbc.pc(), 0xe8dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8da), 0xcb);
        EXPECT(gbc.readMem(0xe8db), 0x34);
        // CB 34 0349
        gbc.setState(0x653c, 0x804e, 0xaa80, 0x9fd9, 0x8f92, 0x7928, 0x0, 0x0);
        gbc.writeMem(0x653c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x804e);
        EXPECT(gbc.pc(), 0x653e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 034A
        gbc.setState(0xed20, 0xb90e, 0x180, 0x1b42, 0xab96, 0x1a96, 0x0, 0x1);
        gbc.writeMem(0xed20, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb90e);
        EXPECT(gbc.pc(), 0xed22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed20), 0xcb);
        EXPECT(gbc.readMem(0xed21), 0x34);
        // CB 34 034B
        gbc.setState(0x9364, 0xca39, 0xf600, 0x8339, 0xe0ae, 0xd759, 0x1, 0x0);
        gbc.writeMem(0x9364, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xca39);
        EXPECT(gbc.pc(), 0x9366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9364), 0xcb);
        EXPECT(gbc.readMem(0x9365), 0x34);
        // CB 34 034C
        gbc.setState(0x938b, 0x386, 0x33e0, 0xb178, 0x6460, 0x1aed, 0x1, 0x0);
        gbc.writeMem(0x938b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x386);
        EXPECT(gbc.pc(), 0x938d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938b), 0xcb);
        EXPECT(gbc.readMem(0x938c), 0x34);
        // CB 34 034D
        gbc.setState(0xda42, 0x81be, 0xcef0, 0x306d, 0x918f, 0xe94, 0x0, 0x1);
        gbc.writeMem(0xda42, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x81be);
        EXPECT(gbc.pc(), 0xda44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda42), 0xcb);
        EXPECT(gbc.readMem(0xda43), 0x34);
        // CB 34 034E
        gbc.setState(0xa9dc, 0x40f9, 0x2e90, 0xd50b, 0xf113, 0x8725, 0x1, 0x0);
        gbc.writeMem(0xa9dc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x40f9);
        EXPECT(gbc.pc(), 0xa9de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9dc), 0xcb);
        EXPECT(gbc.readMem(0xa9dd), 0x34);
        // CB 34 034F
        gbc.setState(0x89f6, 0x7171, 0x4ee0, 0xe6bc, 0xb5fc, 0x457d, 0x0, 0x1);
        gbc.writeMem(0x89f6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7171);
        EXPECT(gbc.pc(), 0x89f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f6), 0xcb);
        EXPECT(gbc.readMem(0x89f7), 0x34);
        // CB 34 0350
        gbc.setState(0x176e, 0x5308, 0x56b0, 0x47f0, 0x4f09, 0x355c, 0x0, 0x1);
        gbc.writeMem(0x176e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5308);
        EXPECT(gbc.pc(), 0x1770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0351
        gbc.setState(0xd166, 0x1e1f, 0xbee0, 0xcb13, 0xc287, 0x77e, 0x1, 0x0);
        gbc.writeMem(0xd166, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1e1f);
        EXPECT(gbc.pc(), 0xd168);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd166), 0xcb);
        EXPECT(gbc.readMem(0xd167), 0x34);
        // CB 34 0352
        gbc.setState(0x6f47, 0x9b7e, 0x2130, 0xa3d4, 0xa519, 0xd439, 0x1, 0x1);
        gbc.writeMem(0x6f47, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9b7e);
        EXPECT(gbc.pc(), 0x6f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0353
        gbc.setState(0x4b6e, 0xef9, 0xab20, 0x3fb4, 0x795a, 0xb2f4, 0x0, 0x0);
        gbc.writeMem(0x4b6e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xef9);
        EXPECT(gbc.pc(), 0x4b70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0354
        gbc.setState(0x9e0d, 0x4d0c, 0xe0e0, 0x359f, 0x1260, 0x8fe2, 0x0, 0x1);
        gbc.writeMem(0x9e0d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x4d0c);
        EXPECT(gbc.pc(), 0x9e0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e0d), 0xcb);
        EXPECT(gbc.readMem(0x9e0e), 0x34);
        // CB 34 0355
        gbc.setState(0xa7d7, 0x1eda, 0xae40, 0x47aa, 0x6f80, 0x7ec4, 0x1, 0x0);
        gbc.writeMem(0xa7d7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1eda);
        EXPECT(gbc.pc(), 0xa7d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d7), 0xcb);
        EXPECT(gbc.readMem(0xa7d8), 0x34);
        // CB 34 0356
        gbc.setState(0xd9e, 0x1f64, 0x7350, 0xa734, 0x86aa, 0x8387, 0x0, 0x1);
        gbc.writeMem(0xd9e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1f64);
        EXPECT(gbc.pc(), 0xda0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0357
        gbc.setState(0x2a7c, 0x2bd7, 0x4430, 0xdd16, 0xbd6c, 0x2149, 0x1, 0x0);
        gbc.writeMem(0x2a7c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2bd7);
        EXPECT(gbc.pc(), 0x2a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0358
        gbc.setState(0x73c2, 0xabec, 0xc510, 0x197b, 0xf666, 0xe276, 0x0, 0x0);
        gbc.writeMem(0x73c2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xabec);
        EXPECT(gbc.pc(), 0x73c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0359
        gbc.setState(0x23fa, 0x8119, 0x7d70, 0x4ef2, 0x45a6, 0xd046, 0x0, 0x0);
        gbc.writeMem(0x23fa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8119);
        EXPECT(gbc.pc(), 0x23fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 035A
        gbc.setState(0x857f, 0xeacc, 0xffb0, 0x4ca6, 0xc3d5, 0xd7cc, 0x1, 0x1);
        gbc.writeMem(0x857f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xeacc);
        EXPECT(gbc.pc(), 0x8581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x857f), 0xcb);
        EXPECT(gbc.readMem(0x8580), 0x34);
        // CB 34 035B
        gbc.setState(0x784e, 0x558f, 0x930, 0xad24, 0xfd4, 0x6c30, 0x0, 0x1);
        gbc.writeMem(0x784e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x558f);
        EXPECT(gbc.pc(), 0x7850);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 035C
        gbc.setState(0xd7db, 0x23ae, 0x9ba0, 0x95f3, 0xed36, 0xdd5c, 0x1, 0x0);
        gbc.writeMem(0xd7db, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x23ae);
        EXPECT(gbc.pc(), 0xd7dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7db), 0xcb);
        EXPECT(gbc.readMem(0xd7dc), 0x34);
        // CB 34 035D
        gbc.setState(0x3b4c, 0x1bb0, 0x1b70, 0xf0c1, 0xde97, 0x9934, 0x1, 0x1);
        gbc.writeMem(0x3b4c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1bb0);
        EXPECT(gbc.pc(), 0x3b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 035E
        gbc.setState(0xd5e8, 0xc639, 0x5250, 0x3bc3, 0x3901, 0x3190, 0x1, 0x1);
        gbc.writeMem(0xd5e8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc639);
        EXPECT(gbc.pc(), 0xd5ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5e8), 0xcb);
        EXPECT(gbc.readMem(0xd5e9), 0x34);
        // CB 34 035F
        gbc.setState(0x9fa5, 0xd292, 0xac80, 0x66a4, 0x8870, 0xcc25, 0x0, 0x1);
        gbc.writeMem(0x9fa5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd292);
        EXPECT(gbc.pc(), 0x9fa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fa5), 0xcb);
        EXPECT(gbc.readMem(0x9fa6), 0x34);
        // CB 34 0360
        gbc.setState(0x1915, 0xc21d, 0x9bb0, 0xf5b0, 0x5d12, 0x18d4, 0x1, 0x0);
        gbc.writeMem(0x1915, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc21d);
        EXPECT(gbc.pc(), 0x1917);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0361
        gbc.setState(0x8008, 0xfa1e, 0xd1a0, 0x8cd3, 0xe299, 0x40db, 0x1, 0x1);
        gbc.writeMem(0x8008, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xfa1e);
        EXPECT(gbc.pc(), 0x800a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8008), 0xcb);
        EXPECT(gbc.readMem(0x8009), 0x34);
        // CB 34 0362
        gbc.setState(0x550b, 0x77e0, 0x31e0, 0x6343, 0x4a9b, 0x63e6, 0x0, 0x1);
        gbc.writeMem(0x550b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x77e0);
        EXPECT(gbc.pc(), 0x550d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0363
        gbc.setState(0xb297, 0xfa64, 0x28c0, 0x2d80, 0x350c, 0x1a5e, 0x1, 0x1);
        gbc.writeMem(0xb297, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xfa64);
        EXPECT(gbc.pc(), 0xb299);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb297), 0xcb);
        EXPECT(gbc.readMem(0xb298), 0x34);
        // CB 34 0364
        gbc.setState(0x11d7, 0x402a, 0xd250, 0xaa22, 0x3fef, 0x47ee, 0x1, 0x1);
        gbc.writeMem(0x11d7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x402a);
        EXPECT(gbc.pc(), 0x11d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0365
        gbc.setState(0xeae3, 0x31f8, 0xd720, 0xd01b, 0x5cbe, 0xd01, 0x0, 0x1);
        gbc.writeMem(0xeae3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x31f8);
        EXPECT(gbc.pc(), 0xeae5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae3), 0xcb);
        EXPECT(gbc.readMem(0xeae4), 0x34);
        // CB 34 0366
        gbc.setState(0x4445, 0xd850, 0xeb40, 0xcad1, 0x7f2b, 0xe7fb, 0x1, 0x1);
        gbc.writeMem(0x4445, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd850);
        EXPECT(gbc.pc(), 0x4447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0367
        gbc.setState(0x72cd, 0x8d7d, 0xb70, 0x99ca, 0x5a6c, 0x83da, 0x0, 0x1);
        gbc.writeMem(0x72cd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8d7d);
        EXPECT(gbc.pc(), 0x72cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0369
        gbc.setState(0x7d1, 0x6b39, 0x3770, 0x8402, 0xf157, 0x45eb, 0x1, 0x1);
        gbc.writeMem(0x7d1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6b39);
        EXPECT(gbc.pc(), 0x7d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 036A
        gbc.setState(0x1cfd, 0xff47, 0x1f20, 0xffd2, 0x554e, 0xfc8f, 0x0, 0x1);
        gbc.writeMem(0x1cfd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xff47);
        EXPECT(gbc.pc(), 0x1cff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 036B
        gbc.setState(0x277e, 0xc8d3, 0x6790, 0xb68e, 0xdb12, 0xb496, 0x1, 0x0);
        gbc.writeMem(0x277e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc8d3);
        EXPECT(gbc.pc(), 0x2780);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 036C
        gbc.setState(0xe62a, 0xdd18, 0x43d0, 0xdf04, 0xed3e, 0x9087, 0x0, 0x0);
        gbc.writeMem(0xe62a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xdd18);
        EXPECT(gbc.pc(), 0xe62c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe62a), 0xcb);
        EXPECT(gbc.readMem(0xe62b), 0x34);
        // CB 34 036E
        gbc.setState(0x34ac, 0x6e55, 0x8500, 0x313a, 0x5d7a, 0x468a, 0x1, 0x1);
        gbc.writeMem(0x34ac, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6e55);
        EXPECT(gbc.pc(), 0x34ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 036F
        gbc.setState(0x9d02, 0xcc42, 0xb5c0, 0x39a6, 0x233b, 0x6663, 0x1, 0x0);
        gbc.writeMem(0x9d02, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xcc42);
        EXPECT(gbc.pc(), 0x9d04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d02), 0xcb);
        EXPECT(gbc.readMem(0x9d03), 0x34);
        // CB 34 0370
        gbc.setState(0xc726, 0xe958, 0xb000, 0x16d1, 0x445b, 0x1cb, 0x0, 0x0);
        gbc.writeMem(0xc726, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe958);
        EXPECT(gbc.pc(), 0xc728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc726), 0xcb);
        EXPECT(gbc.readMem(0xc727), 0x34);
        // CB 34 0371
        gbc.setState(0xec44, 0xda4e, 0x8850, 0x1ff8, 0xebcf, 0xdd2a, 0x0, 0x1);
        gbc.writeMem(0xec44, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xda4e);
        EXPECT(gbc.pc(), 0xec46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec44), 0xcb);
        EXPECT(gbc.readMem(0xec45), 0x34);
        // CB 34 0372
        gbc.setState(0x83c, 0x7124, 0xc890, 0xcafd, 0x1535, 0xa31b, 0x0, 0x1);
        gbc.writeMem(0x83c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x7124);
        EXPECT(gbc.pc(), 0x83e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0373
        gbc.setState(0x45d9, 0xb1fe, 0x9e10, 0xd5fb, 0x15c4, 0xe430, 0x0, 0x0);
        gbc.writeMem(0x45d9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb1fe);
        EXPECT(gbc.pc(), 0x45db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0374
        gbc.setState(0xb989, 0x4ac6, 0x70d0, 0xf95c, 0x8599, 0xe9c6, 0x0, 0x1);
        gbc.writeMem(0xb989, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4ac6);
        EXPECT(gbc.pc(), 0xb98b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb989), 0xcb);
        EXPECT(gbc.readMem(0xb98a), 0x34);
        // CB 34 0375
        gbc.setState(0x6005, 0xfe6a, 0x9e90, 0x63ce, 0x4f40, 0xb822, 0x0, 0x1);
        gbc.writeMem(0x6005, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xfe6a);
        EXPECT(gbc.pc(), 0x6007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0376
        gbc.setState(0x1334, 0xe9ce, 0x1280, 0xfb67, 0x4036, 0x6cb7, 0x1, 0x0);
        gbc.writeMem(0x1334, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe9ce);
        EXPECT(gbc.pc(), 0x1336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0377
        gbc.setState(0xe31e, 0x63f3, 0x6cd0, 0x1bc4, 0x3590, 0xeaa3, 0x0, 0x1);
        gbc.writeMem(0xe31e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x63f3);
        EXPECT(gbc.pc(), 0xe320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe31e), 0xcb);
        EXPECT(gbc.readMem(0xe31f), 0x34);
        // CB 34 0378
        gbc.setState(0xe9e6, 0xa0e7, 0xd5a0, 0x55b1, 0x3e06, 0xfd0c, 0x1, 0x1);
        gbc.writeMem(0xe9e6, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa0e7);
        EXPECT(gbc.pc(), 0xe9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e6), 0xcb);
        EXPECT(gbc.readMem(0xe9e7), 0x34);
        // CB 34 037A
        gbc.setState(0xb83d, 0x33fe, 0x57a0, 0x4d7e, 0x8942, 0xc4e, 0x1, 0x1);
        gbc.writeMem(0xb83d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x33fe);
        EXPECT(gbc.pc(), 0xb83f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb83d), 0xcb);
        EXPECT(gbc.readMem(0xb83e), 0x34);
        // CB 34 037B
        gbc.setState(0xaa92, 0xc5b4, 0x9040, 0x8a9b, 0xc423, 0x7d70, 0x0, 0x1);
        gbc.writeMem(0xaa92, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc5b4);
        EXPECT(gbc.pc(), 0xaa94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa92), 0xcb);
        EXPECT(gbc.readMem(0xaa93), 0x34);
        // CB 34 037C
        gbc.setState(0x43da, 0x534b, 0x4560, 0x9e9d, 0xab3a, 0x92bd, 0x1, 0x0);
        gbc.writeMem(0x43da, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x534b);
        EXPECT(gbc.pc(), 0x43dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 037D
        gbc.setState(0xb627, 0x5f7, 0xf8c0, 0x7a45, 0x9157, 0x3753, 0x1, 0x1);
        gbc.writeMem(0xb627, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5f7);
        EXPECT(gbc.pc(), 0xb629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb627), 0xcb);
        EXPECT(gbc.readMem(0xb628), 0x34);
        // CB 34 037E
        gbc.setState(0x7fe8, 0xd43f, 0xc080, 0x825c, 0x7fb4, 0x43e7, 0x1, 0x0);
        gbc.writeMem(0x7fe8, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd43f);
        EXPECT(gbc.pc(), 0x7fea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 037F
        gbc.setState(0x6ecb, 0x4e91, 0x71c0, 0x44b0, 0x51bd, 0x940, 0x0, 0x1);
        gbc.writeMem(0x6ecb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4e91);
        EXPECT(gbc.pc(), 0x6ecd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0380
        gbc.setState(0xbe8f, 0xcac5, 0xbb70, 0x4c6, 0x8960, 0xac2a, 0x0, 0x0);
        gbc.writeMem(0xbe8f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xcac5);
        EXPECT(gbc.pc(), 0xbe91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8f), 0xcb);
        EXPECT(gbc.readMem(0xbe90), 0x34);
        // CB 34 0381
        gbc.setState(0xcd0e, 0x30fd, 0xad10, 0x5d1, 0xe193, 0xb41b, 0x1, 0x0);
        gbc.writeMem(0xcd0e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x30fd);
        EXPECT(gbc.pc(), 0xcd10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd0e), 0xcb);
        EXPECT(gbc.readMem(0xcd0f), 0x34);
        // CB 34 0382
        gbc.setState(0x767e, 0x858, 0xe090, 0xbb00, 0xd65c, 0xe1e5, 0x1, 0x0);
        gbc.writeMem(0x767e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x858);
        EXPECT(gbc.pc(), 0x7680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0383
        gbc.setState(0x14d2, 0x9f3e, 0x4750, 0x7197, 0xead8, 0x844b, 0x1, 0x0);
        gbc.writeMem(0x14d2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9f3e);
        EXPECT(gbc.pc(), 0x14d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0384
        gbc.setState(0xc188, 0x4daf, 0xa4b0, 0xd0d1, 0xb9aa, 0x3b90, 0x1, 0x0);
        gbc.writeMem(0xc188, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4daf);
        EXPECT(gbc.pc(), 0xc18a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc188), 0xcb);
        EXPECT(gbc.readMem(0xc189), 0x34);
        // CB 34 0386
        gbc.setState(0x57ca, 0x9900, 0x8fe0, 0x6bc5, 0x37c0, 0x1849, 0x1, 0x1);
        gbc.writeMem(0x57ca, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x9900);
        EXPECT(gbc.pc(), 0x57cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0387
        gbc.setState(0x2e10, 0xfcf7, 0xc480, 0x62b7, 0x80a0, 0xce6e, 0x0, 0x0);
        gbc.writeMem(0x2e10, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xfcf7);
        EXPECT(gbc.pc(), 0x2e12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0388
        gbc.setState(0xa75d, 0xe312, 0xf1b0, 0xe091, 0xdf50, 0x78e3, 0x0, 0x1);
        gbc.writeMem(0xa75d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe312);
        EXPECT(gbc.pc(), 0xa75f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa75d), 0xcb);
        EXPECT(gbc.readMem(0xa75e), 0x34);
        // CB 34 0389
        gbc.setState(0xb964, 0x8722, 0xe510, 0xd36e, 0xb0f1, 0xd113, 0x1, 0x0);
        gbc.writeMem(0xb964, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8722);
        EXPECT(gbc.pc(), 0xb966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb964), 0xcb);
        EXPECT(gbc.readMem(0xb965), 0x34);
        // CB 34 038A
        gbc.setState(0x8adb, 0xa2c3, 0xcee0, 0x3f0d, 0xbdaf, 0x72b8, 0x1, 0x1);
        gbc.writeMem(0x8adb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa2c3);
        EXPECT(gbc.pc(), 0x8add);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8adb), 0xcb);
        EXPECT(gbc.readMem(0x8adc), 0x34);
        // CB 34 038B
        gbc.setState(0x9043, 0x97d9, 0x30e0, 0xe294, 0x6cec, 0xf85c, 0x0, 0x1);
        gbc.writeMem(0x9043, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x97d9);
        EXPECT(gbc.pc(), 0x9045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9043), 0xcb);
        EXPECT(gbc.readMem(0x9044), 0x34);
        // CB 34 038C
        gbc.setState(0x8e4c, 0x1884, 0x3110, 0x3db9, 0x8d95, 0x574c, 0x1, 0x1);
        gbc.writeMem(0x8e4c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x1884);
        EXPECT(gbc.pc(), 0x8e4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e4c), 0xcb);
        EXPECT(gbc.readMem(0x8e4d), 0x34);
        // CB 34 038D
        gbc.setState(0x5a9, 0xfcc0, 0xff20, 0xb1ec, 0x5f12, 0xaa20, 0x0, 0x1);
        gbc.writeMem(0x5a9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xfcc0);
        EXPECT(gbc.pc(), 0x5ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 038E
        gbc.setState(0x4c51, 0xbe, 0x52c0, 0x54b4, 0xec6f, 0xf981, 0x0, 0x0);
        gbc.writeMem(0x4c51, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbe);
        EXPECT(gbc.pc(), 0x4c53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0390
        gbc.setState(0x7b32, 0xf891, 0xc480, 0x7a9c, 0xe570, 0x92c4, 0x1, 0x1);
        gbc.writeMem(0x7b32, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf891);
        EXPECT(gbc.pc(), 0x7b34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0392
        gbc.setState(0x79d0, 0x3a60, 0xa020, 0xfadf, 0xaca2, 0xca51, 0x0, 0x0);
        gbc.writeMem(0x79d0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0x79d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0393
        gbc.setState(0x607b, 0x38b2, 0xc5e0, 0xe34, 0x764b, 0x2a0d, 0x0, 0x1);
        gbc.writeMem(0x607b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x38b2);
        EXPECT(gbc.pc(), 0x607d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0394
        gbc.setState(0x9332, 0x9cad, 0xf7d0, 0x14fb, 0x536c, 0x5c22, 0x1, 0x0);
        gbc.writeMem(0x9332, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9cad);
        EXPECT(gbc.pc(), 0x9334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9332), 0xcb);
        EXPECT(gbc.readMem(0x9333), 0x34);
        // CB 34 0395
        gbc.setState(0x3604, 0xbfe5, 0x8ef0, 0x1488, 0x106e, 0x4d51, 0x1, 0x0);
        gbc.writeMem(0x3604, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbfe5);
        EXPECT(gbc.pc(), 0x3606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0396
        gbc.setState(0xc1b2, 0x7efc, 0x8310, 0xdf69, 0xcfee, 0xa148, 0x0, 0x0);
        gbc.writeMem(0xc1b2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x7efc);
        EXPECT(gbc.pc(), 0xc1b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1b2), 0xcb);
        EXPECT(gbc.readMem(0xc1b3), 0x34);
        // CB 34 0397
        gbc.setState(0x1ad5, 0xbb45, 0x29e0, 0x17b2, 0xd982, 0xd380, 0x1, 0x1);
        gbc.writeMem(0x1ad5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbb45);
        EXPECT(gbc.pc(), 0x1ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 0398
        gbc.setState(0xa69c, 0x7fda, 0x1dc0, 0x24ee, 0x977d, 0x2ce2, 0x1, 0x0);
        gbc.writeMem(0xa69c, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7fda);
        EXPECT(gbc.pc(), 0xa69e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa69c), 0xcb);
        EXPECT(gbc.readMem(0xa69d), 0x34);
        // CB 34 0399
        gbc.setState(0x391e, 0x1a93, 0xb460, 0x657a, 0xe829, 0x8bcc, 0x1, 0x1);
        gbc.writeMem(0x391e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x1a93);
        EXPECT(gbc.pc(), 0x3920);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 039A
        gbc.setState(0xfe0, 0xed6a, 0xa160, 0xe74a, 0xe204, 0xdabd, 0x1, 0x1);
        gbc.writeMem(0xfe0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xed6a);
        EXPECT(gbc.pc(), 0xfe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 039B
        gbc.setState(0xa622, 0x694f, 0x3350, 0x9bbf, 0x890c, 0x2fa6, 0x0, 0x0);
        gbc.writeMem(0xa622, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x694f);
        EXPECT(gbc.pc(), 0xa624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa622), 0xcb);
        EXPECT(gbc.readMem(0xa623), 0x34);
        // CB 34 039C
        gbc.setState(0x6ca4, 0x676e, 0xe2e0, 0xe5ea, 0xbe84, 0x7eab, 0x0, 0x1);
        gbc.writeMem(0x6ca4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x676e);
        EXPECT(gbc.pc(), 0x6ca6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 039D
        gbc.setState(0x844f, 0x5a63, 0x3510, 0x5f63, 0xeea0, 0x2def, 0x1, 0x0);
        gbc.writeMem(0x844f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x5a63);
        EXPECT(gbc.pc(), 0x8451);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x844f), 0xcb);
        EXPECT(gbc.readMem(0x8450), 0x34);
        // CB 34 039E
        gbc.setState(0x4492, 0x2464, 0x5700, 0x29d8, 0x50ec, 0x7afc, 0x0, 0x1);
        gbc.writeMem(0x4492, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2464);
        EXPECT(gbc.pc(), 0x4494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 039F
        gbc.setState(0x7d19, 0xe065, 0x5d90, 0xc56c, 0x5a0b, 0x4f69, 0x1, 0x0);
        gbc.writeMem(0x7d19, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe065);
        EXPECT(gbc.pc(), 0x7d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A0
        gbc.setState(0xfde, 0x5147, 0x3ae0, 0x8305, 0x9243, 0xa14e, 0x0, 0x0);
        gbc.writeMem(0xfde, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x5147);
        EXPECT(gbc.pc(), 0xfe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A1
        gbc.setState(0x6334, 0xb574, 0xa9b0, 0x3dfc, 0xda8c, 0x4bbe, 0x1, 0x0);
        gbc.writeMem(0x6334, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb574);
        EXPECT(gbc.pc(), 0x6336);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A2
        gbc.setState(0x4b6d, 0x7bd2, 0xf3e0, 0xd520, 0x5f87, 0x74d8, 0x1, 0x0);
        gbc.writeMem(0x4b6d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x7bd2);
        EXPECT(gbc.pc(), 0x4b6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A3
        gbc.setState(0xb8e1, 0xcb91, 0x4e90, 0x281a, 0x70ab, 0x44f1, 0x0, 0x1);
        gbc.writeMem(0xb8e1, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xcb91);
        EXPECT(gbc.pc(), 0xb8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e1), 0xcb);
        EXPECT(gbc.readMem(0xb8e2), 0x34);
        // CB 34 03A4
        gbc.setState(0x4538, 0x3253, 0x4370, 0x14a0, 0x38ca, 0x1436, 0x1, 0x0);
        gbc.writeMem(0x4538, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3253);
        EXPECT(gbc.pc(), 0x453a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A5
        gbc.setState(0x8239, 0xd25c, 0x3640, 0xf813, 0xc4e8, 0x717f, 0x0, 0x1);
        gbc.writeMem(0x8239, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd25c);
        EXPECT(gbc.pc(), 0x823b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8239), 0xcb);
        EXPECT(gbc.readMem(0x823a), 0x34);
        // CB 34 03A6
        gbc.setState(0xd64, 0xebed, 0xb0a0, 0xf48c, 0xdad5, 0xf68b, 0x0, 0x1);
        gbc.writeMem(0xd64, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xebed);
        EXPECT(gbc.pc(), 0xd66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A7
        gbc.setState(0xb39f, 0xc37a, 0xc730, 0x4171, 0xbe14, 0x9e1e, 0x0, 0x0);
        gbc.writeMem(0xb39f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xc37a);
        EXPECT(gbc.pc(), 0xb3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb39f), 0xcb);
        EXPECT(gbc.readMem(0xb3a0), 0x34);
        // CB 34 03A8
        gbc.setState(0x6b61, 0xb2a2, 0x53e0, 0xbdc1, 0x780, 0xb32d, 0x0, 0x1);
        gbc.writeMem(0x6b61, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb2a2);
        EXPECT(gbc.pc(), 0x6b63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03A9
        gbc.setState(0xc3cf, 0xcd2a, 0xaba0, 0x5eec, 0x1832, 0xd8da, 0x1, 0x0);
        gbc.writeMem(0xc3cf, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xcd2a);
        EXPECT(gbc.pc(), 0xc3d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3cf), 0xcb);
        EXPECT(gbc.readMem(0xc3d0), 0x34);
        // CB 34 03AA
        gbc.setState(0xcb06, 0x6456, 0xdc80, 0xb7dd, 0xc2f9, 0x9e38, 0x1, 0x0);
        gbc.writeMem(0xcb06, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x6456);
        EXPECT(gbc.pc(), 0xcb08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb06), 0xcb);
        EXPECT(gbc.readMem(0xcb07), 0x34);
        // CB 34 03AB
        gbc.setState(0x8b5e, 0x10c, 0x7d0, 0x125, 0x28c, 0x6711, 0x0, 0x0);
        gbc.writeMem(0x8b5e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x10c);
        EXPECT(gbc.pc(), 0x8b60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b5e), 0xcb);
        EXPECT(gbc.readMem(0x8b5f), 0x34);
        // CB 34 03AC
        gbc.setState(0xcb43, 0x7e52, 0x7880, 0x8cf7, 0x40b4, 0x8b20, 0x0, 0x0);
        gbc.writeMem(0xcb43, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7e52);
        EXPECT(gbc.pc(), 0xcb45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb43), 0xcb);
        EXPECT(gbc.readMem(0xcb44), 0x34);
        // CB 34 03AD
        gbc.setState(0xd3ae, 0xe8a7, 0xc970, 0xc8e3, 0x8118, 0xbdee, 0x1, 0x0);
        gbc.writeMem(0xd3ae, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xe8a7);
        EXPECT(gbc.pc(), 0xd3b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3ae), 0xcb);
        EXPECT(gbc.readMem(0xd3af), 0x34);
        // CB 34 03AE
        gbc.setState(0x69d3, 0x922, 0xe130, 0x71d0, 0x7591, 0x596c, 0x0, 0x0);
        gbc.writeMem(0x69d3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x922);
        EXPECT(gbc.pc(), 0x69d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03AF
        gbc.setState(0xe1e9, 0x813a, 0xfe20, 0x6fff, 0xd05b, 0x3b43, 0x0, 0x0);
        gbc.writeMem(0xe1e9, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x813a);
        EXPECT(gbc.pc(), 0xe1eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e9), 0xcb);
        EXPECT(gbc.readMem(0xe1ea), 0x34);
        // CB 34 03B0
        gbc.setState(0x7260, 0xbd97, 0x2c20, 0xd001, 0x6cf5, 0x824c, 0x1, 0x0);
        gbc.writeMem(0x7260, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xbd97);
        EXPECT(gbc.pc(), 0x7262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B1
        gbc.setState(0x2d47, 0xcd8, 0x2df0, 0x2c8d, 0xd464, 0x5aa7, 0x1, 0x1);
        gbc.writeMem(0x2d47, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xcd8);
        EXPECT(gbc.pc(), 0x2d49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B2
        gbc.setState(0xbd32, 0x5663, 0xf210, 0xad18, 0x27d1, 0xbf5c, 0x0, 0x0);
        gbc.writeMem(0xbd32, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5663);
        EXPECT(gbc.pc(), 0xbd34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd32), 0xcb);
        EXPECT(gbc.readMem(0xbd33), 0x34);
        // CB 34 03B3
        gbc.setState(0x2c38, 0x4c30, 0xcc00, 0x7572, 0x64d3, 0x3d7b, 0x0, 0x0);
        gbc.writeMem(0x2c38, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4c30);
        EXPECT(gbc.pc(), 0x2c3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B4
        gbc.setState(0x82e2, 0x4212, 0x23c0, 0x8105, 0x895d, 0x7ca9, 0x1, 0x1);
        gbc.writeMem(0x82e2, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4212);
        EXPECT(gbc.pc(), 0x82e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e2), 0xcb);
        EXPECT(gbc.readMem(0x82e3), 0x34);
        // CB 34 03B5
        gbc.setState(0x6fe0, 0x4074, 0xdbb0, 0x81ef, 0xa290, 0xeb50, 0x1, 0x0);
        gbc.writeMem(0x6fe0, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x4074);
        EXPECT(gbc.pc(), 0x6fe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B6
        gbc.setState(0x3027, 0xe7ae, 0x2830, 0x7392, 0x410c, 0x7762, 0x1, 0x0);
        gbc.writeMem(0x3027, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe7ae);
        EXPECT(gbc.pc(), 0x3029);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B7
        gbc.setState(0x8f96, 0x4906, 0x37e0, 0xe1d9, 0x5fcb, 0x8c98, 0x1, 0x1);
        gbc.writeMem(0x8f96, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4906);
        EXPECT(gbc.pc(), 0x8f98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f96), 0xcb);
        EXPECT(gbc.readMem(0x8f97), 0x34);
        // CB 34 03B8
        gbc.setState(0x2d80, 0x704d, 0xa4c0, 0xb4f6, 0x383b, 0x9ebe, 0x1, 0x0);
        gbc.writeMem(0x2d80, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x704d);
        EXPECT(gbc.pc(), 0x2d82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03B9
        gbc.setState(0x7bc3, 0x5805, 0x8fc0, 0xa997, 0xd528, 0x116c, 0x0, 0x0);
        gbc.writeMem(0x7bc3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x5805);
        EXPECT(gbc.pc(), 0x7bc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03BA
        gbc.setState(0xb255, 0xeccb, 0x6ff0, 0x3903, 0x7d78, 0x97ca, 0x1, 0x0);
        gbc.writeMem(0xb255, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xeccb);
        EXPECT(gbc.pc(), 0xb257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb255), 0xcb);
        EXPECT(gbc.readMem(0xb256), 0x34);
        // CB 34 03BB
        gbc.setState(0x4e35, 0xb846, 0x8890, 0xeab8, 0xa43d, 0xefb0, 0x0, 0x0);
        gbc.writeMem(0x4e35, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb846);
        EXPECT(gbc.pc(), 0x4e37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03BC
        gbc.setState(0x9c2d, 0x8e87, 0x82e0, 0x7c1, 0x87d9, 0xf5fe, 0x1, 0x1);
        gbc.writeMem(0x9c2d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8e87);
        EXPECT(gbc.pc(), 0x9c2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c2d), 0xcb);
        EXPECT(gbc.readMem(0x9c2e), 0x34);
        // CB 34 03BD
        gbc.setState(0x1142, 0x4549, 0xcb30, 0x5881, 0x7cf8, 0x97c7, 0x0, 0x1);
        gbc.writeMem(0x1142, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4549);
        EXPECT(gbc.pc(), 0x1144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03BE
        gbc.setState(0x54e7, 0xef04, 0xb7d0, 0xd58e, 0xc65c, 0x8ddf, 0x0, 0x0);
        gbc.writeMem(0x54e7, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xef04);
        EXPECT(gbc.pc(), 0x54e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03BF
        gbc.setState(0x9cc3, 0xeddd, 0xa500, 0x31d5, 0x674f, 0xe586, 0x0, 0x0);
        gbc.writeMem(0x9cc3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xeddd);
        EXPECT(gbc.pc(), 0x9cc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cc3), 0xcb);
        EXPECT(gbc.readMem(0x9cc4), 0x34);
        // CB 34 03C0
        gbc.setState(0x88bc, 0x85a0, 0xf0f0, 0x259c, 0xb80a, 0xa34d, 0x1, 0x1);
        gbc.writeMem(0x88bc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x85a0);
        EXPECT(gbc.pc(), 0x88be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88bc), 0xcb);
        EXPECT(gbc.readMem(0x88bd), 0x34);
        // CB 34 03C1
        gbc.setState(0x7deb, 0x942c, 0x1800, 0x3507, 0x6f7a, 0x565a, 0x1, 0x0);
        gbc.writeMem(0x7deb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x942c);
        EXPECT(gbc.pc(), 0x7ded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03C2
        gbc.setState(0xa15b, 0x556e, 0xbd50, 0xe875, 0x3bff, 0xc51d, 0x0, 0x0);
        gbc.writeMem(0xa15b, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x556e);
        EXPECT(gbc.pc(), 0xa15d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa15b), 0xcb);
        EXPECT(gbc.readMem(0xa15c), 0x34);
        // CB 34 03C3
        gbc.setState(0xb79d, 0x82e9, 0xd070, 0x9979, 0xc93e, 0x35aa, 0x0, 0x1);
        gbc.writeMem(0xb79d, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x82e9);
        EXPECT(gbc.pc(), 0xb79f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79d), 0xcb);
        EXPECT(gbc.readMem(0xb79e), 0x34);
        // CB 34 03C4
        gbc.setState(0x3106, 0xa628, 0x55d0, 0x7cfc, 0xb80a, 0xf3e9, 0x1, 0x1);
        gbc.writeMem(0x3106, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa628);
        EXPECT(gbc.pc(), 0x3108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03C5
        gbc.setState(0xdc95, 0x7fd, 0xd190, 0xb636, 0x1d98, 0x3d2d, 0x0, 0x1);
        gbc.writeMem(0xdc95, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x7fd);
        EXPECT(gbc.pc(), 0xdc97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc95), 0xcb);
        EXPECT(gbc.readMem(0xdc96), 0x34);
        // CB 34 03C6
        gbc.setState(0x8774, 0x8787, 0x17a0, 0x15bb, 0x45e4, 0x2ea8, 0x1, 0x1);
        gbc.writeMem(0x8774, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x8787);
        EXPECT(gbc.pc(), 0x8776);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8774), 0xcb);
        EXPECT(gbc.readMem(0x8775), 0x34);
        // CB 34 03C7
        gbc.setState(0xc4aa, 0x8b06, 0x50, 0xf150, 0x4f01, 0xd62f, 0x1, 0x1);
        gbc.writeMem(0xc4aa, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x8b06);
        EXPECT(gbc.pc(), 0xc4ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4aa), 0xcb);
        EXPECT(gbc.readMem(0xc4ab), 0x34);
        // CB 34 03C8
        gbc.setState(0xe77f, 0xedfa, 0xd880, 0x7124, 0x7597, 0xe430, 0x1, 0x0);
        gbc.writeMem(0xe77f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xedfa);
        EXPECT(gbc.pc(), 0xe781);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe77f), 0xcb);
        EXPECT(gbc.readMem(0xe780), 0x34);
        // CB 34 03C9
        gbc.setState(0xb537, 0x3a3b, 0xdc50, 0x2a14, 0xeffa, 0x216d, 0x0, 0x1);
        gbc.writeMem(0xb537, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3a3b);
        EXPECT(gbc.pc(), 0xb539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb537), 0xcb);
        EXPECT(gbc.readMem(0xb538), 0x34);
        // CB 34 03CA
        gbc.setState(0x368e, 0xdf46, 0x5af0, 0xb27d, 0xeaa6, 0xef0b, 0x1, 0x1);
        gbc.writeMem(0x368e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xdf46);
        EXPECT(gbc.pc(), 0x3690);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03CB
        gbc.setState(0x941e, 0xaa4f, 0x6ee0, 0x6cf8, 0x8137, 0x2932, 0x0, 0x1);
        gbc.writeMem(0x941e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xaa4f);
        EXPECT(gbc.pc(), 0x9420);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941e), 0xcb);
        EXPECT(gbc.readMem(0x941f), 0x34);
        // CB 34 03CC
        gbc.setState(0xa716, 0x625b, 0x58f0, 0xb3c7, 0xa1ef, 0x9345, 0x1, 0x1);
        gbc.writeMem(0xa716, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x625b);
        EXPECT(gbc.pc(), 0xa718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa716), 0xcb);
        EXPECT(gbc.readMem(0xa717), 0x34);
        // CB 34 03CD
        gbc.setState(0x770f, 0x97da, 0xdff0, 0xc93e, 0xad3f, 0x86c4, 0x0, 0x0);
        gbc.writeMem(0x770f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x97da);
        EXPECT(gbc.pc(), 0x7711);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03CE
        gbc.setState(0xaec5, 0xf1c9, 0x2000, 0x4bc6, 0x350e, 0x6ba0, 0x1, 0x0);
        gbc.writeMem(0xaec5, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf1c9);
        EXPECT(gbc.pc(), 0xaec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaec5), 0xcb);
        EXPECT(gbc.readMem(0xaec6), 0x34);
        // CB 34 03CF
        gbc.setState(0xd0dd, 0xff6, 0x8e90, 0x5ba7, 0xc140, 0xbbc, 0x0, 0x1);
        gbc.writeMem(0xd0dd, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xff6);
        EXPECT(gbc.pc(), 0xd0df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0dd), 0xcb);
        EXPECT(gbc.readMem(0xd0de), 0x34);
        // CB 34 03D1
        gbc.setState(0x5168, 0xccf8, 0xdb40, 0xab9a, 0xeab, 0x4a1f, 0x1, 0x0);
        gbc.writeMem(0x5168, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xccf8);
        EXPECT(gbc.pc(), 0x516a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D2
        gbc.setState(0x6556, 0xffdf, 0x8b10, 0x38af, 0x5ff2, 0xd398, 0x1, 0x1);
        gbc.writeMem(0x6556, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xffdf);
        EXPECT(gbc.pc(), 0x6558);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D3
        gbc.setState(0xa1be, 0xcbd8, 0x5c30, 0xc631, 0xd9ef, 0xef5f, 0x0, 0x1);
        gbc.writeMem(0xa1be, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xcbd8);
        EXPECT(gbc.pc(), 0xa1c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1be), 0xcb);
        EXPECT(gbc.readMem(0xa1bf), 0x34);
        // CB 34 03D4
        gbc.setState(0x586e, 0x3e76, 0x4150, 0x9afe, 0xfebb, 0x7109, 0x1, 0x1);
        gbc.writeMem(0x586e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3e76);
        EXPECT(gbc.pc(), 0x5870);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D5
        gbc.setState(0x2e6f, 0x23a8, 0x6f80, 0xc616, 0xdb79, 0x8ca8, 0x0, 0x1);
        gbc.writeMem(0x2e6f, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x23a8);
        EXPECT(gbc.pc(), 0x2e71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D6
        gbc.setState(0x5d2a, 0xa36, 0xbce0, 0xe548, 0xdcc5, 0x752f, 0x0, 0x1);
        gbc.writeMem(0x5d2a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa36);
        EXPECT(gbc.pc(), 0x5d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D7
        gbc.setState(0xec11, 0xf5b1, 0x5c00, 0x2225, 0xc4a1, 0xef61, 0x0, 0x1);
        gbc.writeMem(0xec11, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf5b1);
        EXPECT(gbc.pc(), 0xec13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec11), 0xcb);
        EXPECT(gbc.readMem(0xec12), 0x34);
        // CB 34 03D8
        gbc.setState(0x1de, 0xe87c, 0xd780, 0xcc6f, 0x91f2, 0xcbb2, 0x1, 0x0);
        gbc.writeMem(0x1de, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe87c);
        EXPECT(gbc.pc(), 0x1e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03D9
        gbc.setState(0x4670, 0xe4f7, 0x98c0, 0x315e, 0xd58c, 0x333f, 0x1, 0x1);
        gbc.writeMem(0x4670, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe4f7);
        EXPECT(gbc.pc(), 0x4672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03DB
        gbc.setState(0x9c40, 0xa646, 0x8c40, 0xe914, 0x4ef5, 0x3db5, 0x1, 0x1);
        gbc.writeMem(0x9c40, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa646);
        EXPECT(gbc.pc(), 0x9c42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c40), 0xcb);
        EXPECT(gbc.readMem(0x9c41), 0x34);
        // CB 34 03DC
        gbc.setState(0xa38e, 0xd6d2, 0xd3d0, 0x730e, 0x5759, 0x37ce, 0x1, 0x0);
        gbc.writeMem(0xa38e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xd6d2);
        EXPECT(gbc.pc(), 0xa390);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa38e), 0xcb);
        EXPECT(gbc.readMem(0xa38f), 0x34);
        // CB 34 03DD
        gbc.setState(0x6b72, 0x5572, 0x6560, 0x63ec, 0x560f, 0x794c, 0x1, 0x0);
        gbc.writeMem(0x6b72, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5572);
        EXPECT(gbc.pc(), 0x6b74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03DE
        gbc.setState(0x37d4, 0x38c4, 0x970, 0xf0fc, 0x6f0d, 0xb34e, 0x0, 0x1);
        gbc.writeMem(0x37d4, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x38c4);
        EXPECT(gbc.pc(), 0x37d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03DF
        gbc.setState(0xd4cc, 0x60f7, 0x36d0, 0x5be3, 0xde39, 0xeef, 0x0, 0x0);
        gbc.writeMem(0xd4cc, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x60f7);
        EXPECT(gbc.pc(), 0xd4ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4cc), 0xcb);
        EXPECT(gbc.readMem(0xd4cd), 0x34);
        // CB 34 03E0
        gbc.setState(0x5737, 0x7267, 0x1a60, 0xb90b, 0x8903, 0x8c7e, 0x0, 0x0);
        gbc.writeMem(0x5737, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7267);
        EXPECT(gbc.pc(), 0x5739);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03E1
        gbc.setState(0xa6a, 0x17cb, 0xe630, 0x206f, 0x120e, 0xc8d8, 0x1, 0x1);
        gbc.writeMem(0xa6a, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x17cb);
        EXPECT(gbc.pc(), 0xa6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03E2
        gbc.setState(0x15b3, 0xf7a6, 0x2900, 0x20a9, 0x5b60, 0x9d16, 0x0, 0x0);
        gbc.writeMem(0x15b3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf7a6);
        EXPECT(gbc.pc(), 0x15b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03E3
        gbc.setState(0xddcb, 0x92e, 0xf870, 0x47ba, 0x4785, 0x83b2, 0x0, 0x1);
        gbc.writeMem(0xddcb, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x92e);
        EXPECT(gbc.pc(), 0xddcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddcb), 0xcb);
        EXPECT(gbc.readMem(0xddcc), 0x34);
        // CB 34 03E4
        gbc.setState(0x1e7e, 0x5096, 0xfeb0, 0x9fb2, 0x89c0, 0x287a, 0x1, 0x1);
        gbc.writeMem(0x1e7e, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5096);
        EXPECT(gbc.pc(), 0x1e80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 34 03E5
        gbc.setState(0xcf08, 0x8bfe, 0x1420, 0x9b98, 0x5bec, 0xe65e, 0x1, 0x0);
        gbc.writeMem(0xcf08, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8bfe);
        EXPECT(gbc.pc(), 0xcf0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf08), 0xcb);
        EXPECT(gbc.readMem(0xcf09), 0x34);
        // CB 34 03E6
        gbc.setState(0x1bf3, 0xdea6, 0x4c70, 0x3df5, 0x33d0, 0x90c5, 0x0, 0x0);
        gbc.writeMem(0x1bf3, { 0xcb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xdea6);
        EXPECT(gbc.pc(), 0x1bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
