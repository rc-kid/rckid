    TEST(gbcemu, opcode_c8) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // C8 0000
        gbc.setState(0xcd0b, 0xf0d, 0x3240, 0xc5e, 0x8b8b, 0x49f0, 0x1, 0x1);
        gbc.writeMem(0xcd0b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xf0d);
        EXPECT(gbc.pc(), 0xcd0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd0b), 0xc8);
        // C8 0001
        gbc.setState(0x40dd, 0x9c5d, 0x4b00, 0x730c, 0xa769, 0x8db1, 0x0, 0x1);
        gbc.writeMem(0x40dd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x9c5d);
        EXPECT(gbc.pc(), 0x40de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0002
        gbc.setState(0x4d39, 0x94b5, 0x5cc0, 0x1102, 0xe93e, 0xbf65, 0x1, 0x1);
        gbc.writeMem(0x4d39, { 0xc8 });
        gbc.writeMem(0x94b5, { 0x4f, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x94b7);
        EXPECT(gbc.pc(), 0x914f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b5), 0x4f);
        EXPECT(gbc.readMem(0x94b6), 0x91);
        // C8 0003
        gbc.setState(0x8957, 0x53f5, 0x6a30, 0x2ca6, 0x861f, 0x3ff5, 0x1, 0x1);
        gbc.writeMem(0x8957, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x53f5);
        EXPECT(gbc.pc(), 0x8958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8957), 0xc8);
        // C8 0005
        gbc.setState(0x897c, 0x3b0b, 0x2c10, 0xac83, 0xbd61, 0x6477, 0x0, 0x0);
        gbc.writeMem(0x897c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3b0b);
        EXPECT(gbc.pc(), 0x897d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x897c), 0xc8);
        // C8 0006
        gbc.setState(0x4f01, 0xfcc7, 0x1d40, 0xb2d1, 0x73fc, 0x7a49, 0x1, 0x1);
        gbc.writeMem(0x4f01, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xfcc7);
        EXPECT(gbc.pc(), 0x4f02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0007
        gbc.setState(0xcfb7, 0xd385, 0x380, 0x7e2e, 0x7ed4, 0xa954, 0x1, 0x0);
        gbc.writeMem(0xcfb7, { 0xc8 });
        gbc.writeMem(0xd385, { 0xb3, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xd387);
        EXPECT(gbc.pc(), 0x65b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfb7), 0xc8);
        EXPECT(gbc.readMem(0xd385), 0xb3);
        EXPECT(gbc.readMem(0xd386), 0x65);
        // C8 0008
        gbc.setState(0xd0c4, 0xa315, 0x49c0, 0x8ca7, 0xc343, 0xfb65, 0x1, 0x1);
        gbc.writeMem(0xa315, { 0xb0, 0x97 });
        gbc.writeMem(0xd0c4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xa317);
        EXPECT(gbc.pc(), 0x97b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa315), 0xb0);
        EXPECT(gbc.readMem(0xa316), 0x97);
        EXPECT(gbc.readMem(0xd0c4), 0xc8);
        // C8 000A
        gbc.setState(0xda4a, 0x1ed1, 0xb190, 0xfef9, 0x75cd, 0x537a, 0x0, 0x0);
        gbc.writeMem(0x1ed1, { 0xa3, 0xbf });
        gbc.writeMem(0xda4a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x1ed3);
        EXPECT(gbc.pc(), 0xbfa3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda4a), 0xc8);
        // C8 000C
        gbc.setState(0x2c96, 0x690d, 0x550, 0x6e9d, 0xacae, 0xc935, 0x1, 0x1);
        gbc.writeMem(0x2c96, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x690d);
        EXPECT(gbc.pc(), 0x2c97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 000E
        gbc.setState(0x476e, 0x220c, 0xeae0, 0x7ae5, 0x9c2e, 0xd8bd, 0x0, 0x0);
        gbc.writeMem(0x220c, { 0xf7, 0x98 });
        gbc.writeMem(0x476e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x220e);
        EXPECT(gbc.pc(), 0x98f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 000F
        gbc.setState(0x6354, 0x356b, 0xf940, 0x4083, 0xa8cc, 0xa2a4, 0x1, 0x0);
        gbc.writeMem(0x6354, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x356b);
        EXPECT(gbc.pc(), 0x6355);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0010
        gbc.setState(0xcd45, 0x4a4e, 0xc740, 0xf56b, 0x6b1e, 0xd645, 0x1, 0x1);
        gbc.writeMem(0xcd45, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4a4e);
        EXPECT(gbc.pc(), 0xcd46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd45), 0xc8);
        // C8 0011
        gbc.setState(0x92c4, 0x1b3, 0x1390, 0x1cd9, 0x979f, 0x267b, 0x1, 0x0);
        gbc.writeMem(0x1b3, { 0xc2, 0x56 });
        gbc.writeMem(0x92c4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1b5);
        EXPECT(gbc.pc(), 0x56c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92c4), 0xc8);
        // C8 0012
        gbc.setState(0x2969, 0xaf6d, 0x8ac0, 0x38c4, 0xaf4e, 0x8ab2, 0x1, 0x1);
        gbc.writeMem(0x2969, { 0xc8 });
        gbc.writeMem(0xaf6d, { 0x74, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xaf6f);
        EXPECT(gbc.pc(), 0xf274);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf6d), 0x74);
        EXPECT(gbc.readMem(0xaf6e), 0xf2);
        // C8 0013
        gbc.setState(0x8504, 0x146d, 0xafa0, 0x270b, 0x7c59, 0x24f9, 0x0, 0x0);
        gbc.writeMem(0x146d, { 0x16, 0x1e });
        gbc.writeMem(0x8504, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x146f);
        EXPECT(gbc.pc(), 0x1e16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8504), 0xc8);
        // C8 0014
        gbc.setState(0xd6df, 0x5a6e, 0x5060, 0x8d02, 0xce3, 0x4cc2, 0x1, 0x0);
        gbc.writeMem(0xd6df, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5a6e);
        EXPECT(gbc.pc(), 0xd6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6df), 0xc8);
        // C8 0015
        gbc.setState(0xd5a, 0x893d, 0x6590, 0x5aad, 0x862b, 0x20a, 0x1, 0x1);
        gbc.writeMem(0xd5a, { 0xc8 });
        gbc.writeMem(0x893d, { 0x3d, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x893f);
        EXPECT(gbc.pc(), 0xfa3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x893d), 0x3d);
        EXPECT(gbc.readMem(0x893e), 0xfa);
        // C8 0016
        gbc.setState(0x4647, 0x9a42, 0x320, 0x795a, 0x6274, 0x7a76, 0x0, 0x1);
        gbc.writeMem(0x4647, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9a42);
        EXPECT(gbc.pc(), 0x4648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0017
        gbc.setState(0x7e1, 0x1cc0, 0xcb0, 0x985c, 0x6508, 0x9123, 0x1, 0x1);
        gbc.writeMem(0x7e1, { 0xc8 });
        gbc.writeMem(0x1cc0, { 0x5b, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1cc2);
        EXPECT(gbc.pc(), 0x225b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0018
        gbc.setState(0xa6d6, 0xcab6, 0xfa30, 0x7e3a, 0xac25, 0x8821, 0x0, 0x1);
        gbc.writeMem(0xa6d6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xcab6);
        EXPECT(gbc.pc(), 0xa6d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d6), 0xc8);
        // C8 0019
        gbc.setState(0x88b4, 0xfab1, 0x7af0, 0x4dde, 0xf0b3, 0xa1c1, 0x1, 0x1);
        gbc.writeMem(0x88b4, { 0xc8 });
        gbc.writeMem(0xfab1, { 0xc5, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xfab3);
        EXPECT(gbc.pc(), 0xa3c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88b4), 0xc8);
        EXPECT(gbc.readMem(0xfab1), 0xc5);
        EXPECT(gbc.readMem(0xfab2), 0xa3);
        // C8 001A
        gbc.setState(0x5a71, 0x3e6c, 0xe480, 0x5e12, 0x19a5, 0x2f75, 0x1, 0x0);
        gbc.writeMem(0x3e6c, { 0xf6, 0x4 });
        gbc.writeMem(0x5a71, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3e6e);
        EXPECT(gbc.pc(), 0x4f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 001B
        gbc.setState(0x7a08, 0x18b, 0x2310, 0x94b5, 0x8269, 0x46a7, 0x0, 0x1);
        gbc.writeMem(0x7a08, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x18b);
        EXPECT(gbc.pc(), 0x7a09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 001C
        gbc.setState(0x49ac, 0xc3ed, 0xf220, 0x7995, 0xceb0, 0xf2ed, 0x0, 0x0);
        gbc.writeMem(0x49ac, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xc3ed);
        EXPECT(gbc.pc(), 0x49ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 001D
        gbc.setState(0x21e4, 0xccae, 0x6ce0, 0x2f19, 0x5dd3, 0xa6c7, 0x0, 0x1);
        gbc.writeMem(0x21e4, { 0xc8 });
        gbc.writeMem(0xccae, { 0x8e, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xccb0);
        EXPECT(gbc.pc(), 0x268e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccae), 0x8e);
        EXPECT(gbc.readMem(0xccaf), 0x26);
        // C8 001E
        gbc.setState(0x1e08, 0x375d, 0xc660, 0xa747, 0x1fb2, 0xd57, 0x0, 0x1);
        gbc.writeMem(0x1e08, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x375d);
        EXPECT(gbc.pc(), 0x1e09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 001F
        gbc.setState(0x891b, 0x48fe, 0x2d90, 0x8abc, 0xff2, 0x74ea, 0x0, 0x1);
        gbc.writeMem(0x48fe, { 0xb8, 0x6 });
        gbc.writeMem(0x891b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4900);
        EXPECT(gbc.pc(), 0x6b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x891b), 0xc8);
        // C8 0020
        gbc.setState(0x8f3a, 0xbc91, 0xec80, 0x2438, 0xfde2, 0xa2ab, 0x0, 0x0);
        gbc.writeMem(0x8f3a, { 0xc8 });
        gbc.writeMem(0xbc91, { 0x71, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xbc93);
        EXPECT(gbc.pc(), 0xb071);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f3a), 0xc8);
        EXPECT(gbc.readMem(0xbc91), 0x71);
        EXPECT(gbc.readMem(0xbc92), 0xb0);
        // C8 0021
        gbc.setState(0x6be5, 0x2c04, 0x3ab0, 0x85fb, 0xdbba, 0xf2a, 0x1, 0x0);
        gbc.writeMem(0x2c04, { 0xac, 0x6f });
        gbc.writeMem(0x6be5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2c06);
        EXPECT(gbc.pc(), 0x6fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0022
        gbc.setState(0x6dda, 0xfabf, 0xb660, 0x5edd, 0x91a4, 0x42d5, 0x1, 0x1);
        gbc.writeMem(0x6dda, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xfabf);
        EXPECT(gbc.pc(), 0x6ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0023
        gbc.setState(0xef22, 0xb86f, 0x5e50, 0x28ee, 0x8cfa, 0x27ef, 0x0, 0x0);
        gbc.writeMem(0xef22, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb86f);
        EXPECT(gbc.pc(), 0xef23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef22), 0xc8);
        // C8 0024
        gbc.setState(0xa24f, 0x5f83, 0xa600, 0x3bda, 0x65ef, 0x18b4, 0x0, 0x0);
        gbc.writeMem(0xa24f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x5f83);
        EXPECT(gbc.pc(), 0xa250);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa24f), 0xc8);
        // C8 0025
        gbc.setState(0x71b, 0xf731, 0x4cb0, 0xfce0, 0xf68e, 0x20c4, 0x1, 0x0);
        gbc.writeMem(0x71b, { 0xc8 });
        gbc.writeMem(0xf731, { 0xb3, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xf733);
        EXPECT(gbc.pc(), 0x1ab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf731), 0xb3);
        EXPECT(gbc.readMem(0xf732), 0x1a);
        // C8 0026
        gbc.setState(0x51e1, 0x8cc7, 0xcd20, 0xda54, 0xc7b4, 0xb4ef, 0x1, 0x0);
        gbc.writeMem(0x51e1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x8cc7);
        EXPECT(gbc.pc(), 0x51e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0027
        gbc.setState(0xc38a, 0x934b, 0x5900, 0x5cf8, 0xd760, 0x9b16, 0x0, 0x0);
        gbc.writeMem(0xc38a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x934b);
        EXPECT(gbc.pc(), 0xc38b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc38a), 0xc8);
        // C8 0028
        gbc.setState(0xebbe, 0x6c18, 0xac30, 0xb682, 0x8cd4, 0x36b3, 0x0, 0x0);
        gbc.writeMem(0xebbe, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6c18);
        EXPECT(gbc.pc(), 0xebbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebbe), 0xc8);
        // C8 0029
        gbc.setState(0x8ac7, 0x88d3, 0xd4f0, 0xee99, 0xde50, 0xc8fd, 0x1, 0x1);
        gbc.writeMem(0x88d3, { 0xd, 0x21 });
        gbc.writeMem(0x8ac7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x88d5);
        EXPECT(gbc.pc(), 0x210d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88d3), 0xd);
        EXPECT(gbc.readMem(0x88d4), 0x21);
        EXPECT(gbc.readMem(0x8ac7), 0xc8);
        // C8 002A
        gbc.setState(0xd3e3, 0xc6b3, 0x9eb0, 0x3c3a, 0x7c8a, 0xb392, 0x1, 0x1);
        gbc.writeMem(0xc6b3, { 0x14, 0x27 });
        gbc.writeMem(0xd3e3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc6b5);
        EXPECT(gbc.pc(), 0x2714);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6b3), 0x14);
        EXPECT(gbc.readMem(0xc6b4), 0x27);
        EXPECT(gbc.readMem(0xd3e3), 0xc8);
        // C8 002B
        gbc.setState(0xe28a, 0x77f6, 0xed70, 0xe3d7, 0x138e, 0xbef6, 0x1, 0x0);
        gbc.writeMem(0xe28a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x77f6);
        EXPECT(gbc.pc(), 0xe28b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe28a), 0xc8);
        // C8 002C
        gbc.setState(0x48a7, 0x916d, 0x8d30, 0xcdf7, 0x2380, 0x8f3, 0x1, 0x0);
        gbc.writeMem(0x48a7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x916d);
        EXPECT(gbc.pc(), 0x48a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 002D
        gbc.setState(0x84a6, 0x7f5b, 0x59a0, 0x5936, 0x9844, 0x7f53, 0x0, 0x0);
        gbc.writeMem(0x7f5b, { 0xf5, 0x81 });
        gbc.writeMem(0x84a6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7f5d);
        EXPECT(gbc.pc(), 0x81f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84a6), 0xc8);
        // C8 002E
        gbc.setState(0x4612, 0xeea3, 0xf2d0, 0xec99, 0xaa5f, 0x799f, 0x0, 0x0);
        gbc.writeMem(0x4612, { 0xc8 });
        gbc.writeMem(0xeea3, { 0x81, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xeea5);
        EXPECT(gbc.pc(), 0x2381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeea3), 0x81);
        EXPECT(gbc.readMem(0xeea4), 0x23);
        // C8 002F
        gbc.setState(0xdeaa, 0xe28e, 0xc20, 0x5d2a, 0x24bd, 0x2412, 0x0, 0x0);
        gbc.writeMem(0xdeaa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xe28e);
        EXPECT(gbc.pc(), 0xdeab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeaa), 0xc8);
        // C8 0030
        gbc.setState(0x9213, 0x621a, 0x3d60, 0xac92, 0xb388, 0x8506, 0x0, 0x0);
        gbc.writeMem(0x9213, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x621a);
        EXPECT(gbc.pc(), 0x9214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9213), 0xc8);
        // C8 0031
        gbc.setState(0x7a89, 0x510a, 0xf870, 0x7692, 0x94, 0x85c4, 0x0, 0x0);
        gbc.writeMem(0x7a89, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x510a);
        EXPECT(gbc.pc(), 0x7a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0032
        gbc.setState(0x6a28, 0x3e44, 0xa4b0, 0x8c7, 0xa697, 0xb8a6, 0x0, 0x0);
        gbc.writeMem(0x3e44, { 0x34, 0x1f });
        gbc.writeMem(0x6a28, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3e46);
        EXPECT(gbc.pc(), 0x1f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0033
        gbc.setState(0x6646, 0x3d1a, 0xa850, 0x7bcb, 0x9093, 0xbf3b, 0x1, 0x1);
        gbc.writeMem(0x6646, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3d1a);
        EXPECT(gbc.pc(), 0x6647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0034
        gbc.setState(0x45e9, 0xb6d7, 0xb6c0, 0x3a88, 0xe771, 0xf209, 0x1, 0x1);
        gbc.writeMem(0x45e9, { 0xc8 });
        gbc.writeMem(0xb6d7, { 0x2e, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb6d9);
        EXPECT(gbc.pc(), 0x932e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6d7), 0x2e);
        EXPECT(gbc.readMem(0xb6d8), 0x93);
        // C8 0035
        gbc.setState(0x4507, 0xabf2, 0xeb30, 0x9bf1, 0x1609, 0xd46f, 0x0, 0x1);
        gbc.writeMem(0x4507, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xabf2);
        EXPECT(gbc.pc(), 0x4508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0036
        gbc.setState(0x548b, 0xff3b, 0x1200, 0xd83e, 0xdb86, 0xdc36, 0x1, 0x1);
        gbc.writeMem(0x548b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xff3b);
        EXPECT(gbc.pc(), 0x548c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0037
        gbc.setState(0xbc33, 0xdcb7, 0xe3d0, 0xf6fe, 0xd5e4, 0xdd73, 0x0, 0x0);
        gbc.writeMem(0xbc33, { 0xc8 });
        gbc.writeMem(0xdcb7, { 0x3d, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xdcb9);
        EXPECT(gbc.pc(), 0x3c3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc33), 0xc8);
        EXPECT(gbc.readMem(0xdcb7), 0x3d);
        EXPECT(gbc.readMem(0xdcb8), 0x3c);
        // C8 0038
        gbc.setState(0xff8, 0x9946, 0x2dd0, 0x6b99, 0xeb39, 0xa2b5, 0x0, 0x0);
        gbc.writeMem(0xff8, { 0xc8 });
        gbc.writeMem(0x9946, { 0x2e, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9948);
        EXPECT(gbc.pc(), 0xb82e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9946), 0x2e);
        EXPECT(gbc.readMem(0x9947), 0xb8);
        // C8 0039
        gbc.setState(0x754b, 0x3fd5, 0xaa20, 0x9da0, 0xd23d, 0x9101, 0x0, 0x0);
        gbc.writeMem(0x754b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3fd5);
        EXPECT(gbc.pc(), 0x754c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 003C
        gbc.setState(0xc75e, 0x9872, 0xc9c0, 0xd2c, 0xadef, 0xfb1d, 0x0, 0x1);
        gbc.writeMem(0x9872, { 0xf1, 0xc4 });
        gbc.writeMem(0xc75e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9874);
        EXPECT(gbc.pc(), 0xc4f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9872), 0xf1);
        EXPECT(gbc.readMem(0x9873), 0xc4);
        EXPECT(gbc.readMem(0xc75e), 0xc8);
        // C8 003E
        gbc.setState(0xef3e, 0x226a, 0x1830, 0x5a4a, 0x14bd, 0xcc1, 0x1, 0x1);
        gbc.writeMem(0xef3e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x226a);
        EXPECT(gbc.pc(), 0xef3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef3e), 0xc8);
        // C8 003F
        gbc.setState(0x412c, 0x9540, 0xe630, 0x11da, 0xf93e, 0x6cf1, 0x0, 0x1);
        gbc.writeMem(0x412c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9540);
        EXPECT(gbc.pc(), 0x412d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0040
        gbc.setState(0x49e7, 0xa6e7, 0x2d30, 0x36b7, 0xa659, 0x2c55, 0x1, 0x1);
        gbc.writeMem(0x49e7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa6e7);
        EXPECT(gbc.pc(), 0x49e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0041
        gbc.setState(0xe21f, 0x7f30, 0x89f0, 0x1363, 0xd14d, 0xdbab, 0x1, 0x0);
        gbc.writeMem(0x7f30, { 0xd1, 0x49 });
        gbc.writeMem(0xe21f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7f32);
        EXPECT(gbc.pc(), 0x49d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe21f), 0xc8);
        // C8 0042
        gbc.setState(0x8aac, 0xf14f, 0x4eb0, 0x7e46, 0x302d, 0x73dc, 0x1, 0x0);
        gbc.writeMem(0x8aac, { 0xc8 });
        gbc.writeMem(0xf14f, { 0xd5, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf151);
        EXPECT(gbc.pc(), 0x99d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aac), 0xc8);
        EXPECT(gbc.readMem(0xf14f), 0xd5);
        EXPECT(gbc.readMem(0xf150), 0x99);
        // C8 0043
        gbc.setState(0x5e43, 0x91a8, 0xac40, 0x68ac, 0x8bfd, 0xe3eb, 0x0, 0x0);
        gbc.writeMem(0x5e43, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x91a8);
        EXPECT(gbc.pc(), 0x5e44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0044
        gbc.setState(0x8246, 0x3786, 0xff00, 0x26d0, 0x4c8b, 0xfdd0, 0x0, 0x1);
        gbc.writeMem(0x8246, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3786);
        EXPECT(gbc.pc(), 0x8247);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8246), 0xc8);
        // C8 0045
        gbc.setState(0xba5d, 0xf31e, 0xdaf0, 0xef6e, 0x5a19, 0x26aa, 0x1, 0x1);
        gbc.writeMem(0xba5d, { 0xc8 });
        gbc.writeMem(0xf31e, { 0xe7, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf320);
        EXPECT(gbc.pc(), 0xd9e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba5d), 0xc8);
        EXPECT(gbc.readMem(0xf31e), 0xe7);
        EXPECT(gbc.readMem(0xf31f), 0xd9);
        // C8 0046
        gbc.setState(0x533e, 0x6de6, 0x6360, 0xa764, 0x4500, 0xa906, 0x0, 0x1);
        gbc.writeMem(0x533e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6de6);
        EXPECT(gbc.pc(), 0x533f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0047
        gbc.setState(0x92e8, 0xdd71, 0x30e0, 0x576f, 0xbb16, 0x860f, 0x0, 0x1);
        gbc.writeMem(0x92e8, { 0xc8 });
        gbc.writeMem(0xdd71, { 0x65, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xdd73);
        EXPECT(gbc.pc(), 0x5765);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92e8), 0xc8);
        EXPECT(gbc.readMem(0xdd71), 0x65);
        EXPECT(gbc.readMem(0xdd72), 0x57);
        // C8 0048
        gbc.setState(0x3bc3, 0xec4e, 0x1500, 0x87cc, 0xe6d7, 0xd21b, 0x1, 0x0);
        gbc.writeMem(0x3bc3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xec4e);
        EXPECT(gbc.pc(), 0x3bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0049
        gbc.setState(0xed68, 0x5d9, 0x37f0, 0x56f7, 0x2fdd, 0xce9, 0x1, 0x1);
        gbc.writeMem(0x5d9, { 0x8c, 0xad });
        gbc.writeMem(0xed68, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5db);
        EXPECT(gbc.pc(), 0xad8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed68), 0xc8);
        // C8 004A
        gbc.setState(0xba5e, 0xc0cd, 0xd0e0, 0x1fd9, 0xd749, 0xec44, 0x1, 0x0);
        gbc.writeMem(0xba5e, { 0xc8 });
        gbc.writeMem(0xc0cd, { 0x88, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc0cf);
        EXPECT(gbc.pc(), 0x5288);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba5e), 0xc8);
        EXPECT(gbc.readMem(0xc0cd), 0x88);
        EXPECT(gbc.readMem(0xc0ce), 0x52);
        // C8 004C
        gbc.setState(0x494c, 0x41ea, 0x3730, 0x657b, 0xe3d4, 0x366f, 0x0, 0x0);
        gbc.writeMem(0x494c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x41ea);
        EXPECT(gbc.pc(), 0x494d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 004D
        gbc.setState(0x5525, 0xf56, 0xf5d0, 0x26ca, 0xfd90, 0x58a4, 0x0, 0x1);
        gbc.writeMem(0xf56, { 0xc4, 0x4d });
        gbc.writeMem(0x5525, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf58);
        EXPECT(gbc.pc(), 0x4dc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 004E
        gbc.setState(0xe526, 0x414b, 0x60e0, 0xa04c, 0xac28, 0xd61, 0x1, 0x1);
        gbc.writeMem(0x414b, { 0xbb, 0x43 });
        gbc.writeMem(0xe526, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x414d);
        EXPECT(gbc.pc(), 0x43bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe526), 0xc8);
        // C8 004F
        gbc.setState(0x8c7c, 0x1a66, 0xfba0, 0xe541, 0xf091, 0x5b09, 0x1, 0x0);
        gbc.writeMem(0x1a66, { 0x27, 0x76 });
        gbc.writeMem(0x8c7c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1a68);
        EXPECT(gbc.pc(), 0x7627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c7c), 0xc8);
        // C8 0050
        gbc.setState(0x7a0f, 0x3a9c, 0x4120, 0xed99, 0xc134, 0x15d8, 0x1, 0x1);
        gbc.writeMem(0x7a0f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x3a9c);
        EXPECT(gbc.pc(), 0x7a10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0051
        gbc.setState(0x7e9d, 0x74fa, 0x18d0, 0x2755, 0x8a27, 0xd32b, 0x1, 0x1);
        gbc.writeMem(0x74fa, { 0x65, 0x5a });
        gbc.writeMem(0x7e9d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x74fc);
        EXPECT(gbc.pc(), 0x5a65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0052
        gbc.setState(0x4991, 0x6801, 0x9510, 0x5b96, 0x9634, 0xd6c8, 0x1, 0x0);
        gbc.writeMem(0x4991, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6801);
        EXPECT(gbc.pc(), 0x4992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0053
        gbc.setState(0x5dcb, 0xa404, 0x9730, 0x2dcc, 0x53f2, 0x3f3c, 0x1, 0x1);
        gbc.writeMem(0x5dcb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa404);
        EXPECT(gbc.pc(), 0x5dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0054
        gbc.setState(0x7b3d, 0xc0a8, 0x8d80, 0x1421, 0x508b, 0x9080, 0x1, 0x1);
        gbc.writeMem(0x7b3d, { 0xc8 });
        gbc.writeMem(0xc0a8, { 0x78, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xc0aa);
        EXPECT(gbc.pc(), 0x1878);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0a8), 0x78);
        EXPECT(gbc.readMem(0xc0a9), 0x18);
        // C8 0055
        gbc.setState(0xbaf7, 0x9f92, 0x3280, 0x59bd, 0xb66d, 0x46f, 0x1, 0x0);
        gbc.writeMem(0x9f92, { 0xce, 0x65 });
        gbc.writeMem(0xbaf7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9f94);
        EXPECT(gbc.pc(), 0x65ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f92), 0xce);
        EXPECT(gbc.readMem(0x9f93), 0x65);
        EXPECT(gbc.readMem(0xbaf7), 0xc8);
        // C8 0057
        gbc.setState(0xdfdb, 0x1ed, 0x5500, 0xd92e, 0x51e3, 0xe09, 0x0, 0x1);
        gbc.writeMem(0xdfdb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1ed);
        EXPECT(gbc.pc(), 0xdfdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfdb), 0xc8);
        // C8 0058
        gbc.setState(0x8a7b, 0xd325, 0xe820, 0x6e19, 0x6fc7, 0x5408, 0x1, 0x1);
        gbc.writeMem(0x8a7b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xd325);
        EXPECT(gbc.pc(), 0x8a7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7b), 0xc8);
        // C8 0059
        gbc.setState(0x3675, 0xd084, 0x7c70, 0xeb3c, 0xefdd, 0x89ae, 0x1, 0x0);
        gbc.writeMem(0x3675, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xd084);
        EXPECT(gbc.pc(), 0x3676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 005A
        gbc.setState(0x5bf6, 0xaae3, 0x4d0, 0x862f, 0x20a4, 0x812c, 0x1, 0x0);
        gbc.writeMem(0x5bf6, { 0xc8 });
        gbc.writeMem(0xaae3, { 0x16, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xaae5);
        EXPECT(gbc.pc(), 0xb516);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaae3), 0x16);
        EXPECT(gbc.readMem(0xaae4), 0xb5);
        // C8 005B
        gbc.setState(0x6b18, 0xfc95, 0xe040, 0x2cce, 0xf3a4, 0x7d59, 0x0, 0x1);
        gbc.writeMem(0x6b18, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xfc95);
        EXPECT(gbc.pc(), 0x6b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 005C
        gbc.setState(0x1e3e, 0xa3d3, 0xbaa0, 0x5bb6, 0xfe1f, 0xaade, 0x0, 0x1);
        gbc.writeMem(0x1e3e, { 0xc8 });
        gbc.writeMem(0xa3d3, { 0xb8, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa3d5);
        EXPECT(gbc.pc(), 0xbdb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3d3), 0xb8);
        EXPECT(gbc.readMem(0xa3d4), 0xbd);
        // C8 005D
        gbc.setState(0x6e28, 0x3951, 0x190, 0x2b0b, 0xe09c, 0xfe56, 0x0, 0x1);
        gbc.writeMem(0x3951, { 0x72, 0x92 });
        gbc.writeMem(0x6e28, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x3953);
        EXPECT(gbc.pc(), 0x9272);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 005E
        gbc.setState(0x55c7, 0x21b2, 0x34e0, 0x922b, 0x7120, 0xc3d, 0x1, 0x0);
        gbc.writeMem(0x21b2, { 0xd2, 0xd9 });
        gbc.writeMem(0x55c7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x21b4);
        EXPECT(gbc.pc(), 0xd9d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 005F
        gbc.setState(0x9cd, 0x7c49, 0xb380, 0x3949, 0x11da, 0x1b1a, 0x1, 0x1);
        gbc.writeMem(0x9cd, { 0xc8 });
        gbc.writeMem(0x7c49, { 0x8f, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7c4b);
        EXPECT(gbc.pc(), 0x168f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0060
        gbc.setState(0x4fa1, 0xea89, 0xfc80, 0xdd8e, 0x6f64, 0x70f7, 0x1, 0x0);
        gbc.writeMem(0x4fa1, { 0xc8 });
        gbc.writeMem(0xea89, { 0xa9, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xea8b);
        EXPECT(gbc.pc(), 0x1ba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea89), 0xa9);
        EXPECT(gbc.readMem(0xea8a), 0x1b);
        // C8 0061
        gbc.setState(0xb07e, 0x1413, 0x3610, 0xcd0a, 0xed77, 0x3f94, 0x0, 0x1);
        gbc.writeMem(0xb07e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1413);
        EXPECT(gbc.pc(), 0xb07f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb07e), 0xc8);
        // C8 0062
        gbc.setState(0xc192, 0x1bbd, 0xb7f0, 0xebc0, 0x442f, 0xc46d, 0x1, 0x0);
        gbc.writeMem(0x1bbd, { 0x68, 0x6c });
        gbc.writeMem(0xc192, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1bbf);
        EXPECT(gbc.pc(), 0x6c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc192), 0xc8);
        // C8 0063
        gbc.setState(0x9731, 0x2f24, 0x22f0, 0xdfa5, 0x9e29, 0x6cb3, 0x1, 0x0);
        gbc.writeMem(0x2f24, { 0x33, 0xbb });
        gbc.writeMem(0x9731, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2f26);
        EXPECT(gbc.pc(), 0xbb33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9731), 0xc8);
        // C8 0064
        gbc.setState(0x78c2, 0x844a, 0x9010, 0x79a8, 0xde01, 0xb59e, 0x1, 0x1);
        gbc.writeMem(0x78c2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x844a);
        EXPECT(gbc.pc(), 0x78c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0065
        gbc.setState(0xee1e, 0xac4b, 0x36b0, 0xb093, 0x2f8c, 0xf3cd, 0x0, 0x1);
        gbc.writeMem(0xac4b, { 0xb2, 0x7b });
        gbc.writeMem(0xee1e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xac4d);
        EXPECT(gbc.pc(), 0x7bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac4b), 0xb2);
        EXPECT(gbc.readMem(0xac4c), 0x7b);
        EXPECT(gbc.readMem(0xee1e), 0xc8);
        // C8 0066
        gbc.setState(0x9d8e, 0x1448, 0xac20, 0xa52e, 0xcf52, 0x93cb, 0x0, 0x1);
        gbc.writeMem(0x9d8e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1448);
        EXPECT(gbc.pc(), 0x9d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d8e), 0xc8);
        // C8 0067
        gbc.setState(0x3a33, 0xe9fe, 0x83b0, 0x8ff4, 0x7048, 0xbdb1, 0x0, 0x1);
        gbc.writeMem(0x3a33, { 0xc8 });
        gbc.writeMem(0xe9fe, { 0xbb, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xea00);
        EXPECT(gbc.pc(), 0x78bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9fe), 0xbb);
        EXPECT(gbc.readMem(0xe9ff), 0x78);
        // C8 0068
        gbc.setState(0xe2fb, 0x8e02, 0xde50, 0xebc, 0x795a, 0x9694, 0x1, 0x0);
        gbc.writeMem(0xe2fb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x8e02);
        EXPECT(gbc.pc(), 0xe2fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2fb), 0xc8);
        // C8 0069
        gbc.setState(0xecfa, 0x5e8, 0x1050, 0xc23f, 0x939, 0x8d77, 0x1, 0x0);
        gbc.writeMem(0xecfa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5e8);
        EXPECT(gbc.pc(), 0xecfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecfa), 0xc8);
        // C8 006A
        gbc.setState(0x8baf, 0xe0dc, 0x9b40, 0x2cad, 0xf849, 0x4c2d, 0x1, 0x0);
        gbc.writeMem(0x8baf, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe0dc);
        EXPECT(gbc.pc(), 0x8bb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8baf), 0xc8);
        // C8 006B
        gbc.setState(0xab1b, 0x884f, 0x52b0, 0x4d29, 0x379, 0x96ec, 0x0, 0x0);
        gbc.writeMem(0x884f, { 0x25, 0xc4 });
        gbc.writeMem(0xab1b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8851);
        EXPECT(gbc.pc(), 0xc425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x884f), 0x25);
        EXPECT(gbc.readMem(0x8850), 0xc4);
        EXPECT(gbc.readMem(0xab1b), 0xc8);
        // C8 006C
        gbc.setState(0x72fc, 0xfa16, 0xab0, 0xbcf9, 0x82c7, 0xe7d6, 0x0, 0x0);
        gbc.writeMem(0x72fc, { 0xc8 });
        gbc.writeMem(0xfa16, { 0x0, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfa18);
        EXPECT(gbc.pc(), 0xfc00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfa16), 0x0);
        EXPECT(gbc.readMem(0xfa17), 0xfc);
        // C8 006E
        gbc.setState(0x88ce, 0x25f4, 0xd210, 0xa3bf, 0x3e0e, 0x78c2, 0x0, 0x1);
        gbc.writeMem(0x88ce, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x25f4);
        EXPECT(gbc.pc(), 0x88cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88ce), 0xc8);
        // C8 006F
        gbc.setState(0x6099, 0x6ca9, 0xa8a0, 0x892, 0x4816, 0x5c78, 0x0, 0x1);
        gbc.writeMem(0x6099, { 0xc8 });
        gbc.writeMem(0x6ca9, { 0x88, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6cab);
        EXPECT(gbc.pc(), 0x4688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0070
        gbc.setState(0x4db3, 0xdfc9, 0x73d0, 0xa901, 0xf6cb, 0x44ca, 0x1, 0x1);
        gbc.writeMem(0x4db3, { 0xc8 });
        gbc.writeMem(0xdfc9, { 0x89, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xdfcb);
        EXPECT(gbc.pc(), 0x4789);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfc9), 0x89);
        EXPECT(gbc.readMem(0xdfca), 0x47);
        // C8 0071
        gbc.setState(0xb93e, 0x693d, 0xa2f0, 0x9e68, 0x5149, 0x6668, 0x1, 0x1);
        gbc.writeMem(0x693d, { 0x19, 0x1 });
        gbc.writeMem(0xb93e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x693f);
        EXPECT(gbc.pc(), 0x119);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb93e), 0xc8);
        // C8 0072
        gbc.setState(0x900b, 0xc091, 0x8750, 0xf54d, 0x49c6, 0x8980, 0x1, 0x0);
        gbc.writeMem(0x900b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xc091);
        EXPECT(gbc.pc(), 0x900c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x900b), 0xc8);
        // C8 0073
        gbc.setState(0x7f22, 0x8f28, 0xfbe0, 0x9d65, 0x1ebc, 0x7a79, 0x0, 0x1);
        gbc.writeMem(0x7f22, { 0xc8 });
        gbc.writeMem(0x8f28, { 0xec, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8f2a);
        EXPECT(gbc.pc(), 0x61ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f28), 0xec);
        EXPECT(gbc.readMem(0x8f29), 0x61);
        // C8 0074
        gbc.setState(0x46ff, 0xbb70, 0xeed0, 0xb306, 0xe0f6, 0x8764, 0x1, 0x1);
        gbc.writeMem(0x46ff, { 0xc8 });
        gbc.writeMem(0xbb70, { 0x86, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xbb72);
        EXPECT(gbc.pc(), 0xeb86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb70), 0x86);
        EXPECT(gbc.readMem(0xbb71), 0xeb);
        // C8 0075
        gbc.setState(0x2047, 0x2011, 0xdfa0, 0xae4e, 0xb2df, 0x2e42, 0x1, 0x0);
        gbc.writeMem(0x2011, { 0x34, 0x63 });
        gbc.writeMem(0x2047, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2013);
        EXPECT(gbc.pc(), 0x6334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0076
        gbc.setState(0xd906, 0xf152, 0xef70, 0xd1c4, 0x3201, 0xf05b, 0x0, 0x0);
        gbc.writeMem(0xd906, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf152);
        EXPECT(gbc.pc(), 0xd907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd906), 0xc8);
        // C8 0077
        gbc.setState(0x72c3, 0x3767, 0xa980, 0x487a, 0x3fe, 0x8f6a, 0x1, 0x1);
        gbc.writeMem(0x3767, { 0xed, 0xae });
        gbc.writeMem(0x72c3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x3769);
        EXPECT(gbc.pc(), 0xaeed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0078
        gbc.setState(0xc8a, 0x943b, 0x3a60, 0x332b, 0x6ef0, 0x3cb, 0x0, 0x1);
        gbc.writeMem(0xc8a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x943b);
        EXPECT(gbc.pc(), 0xc8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 007A
        gbc.setState(0x5296, 0xc7fb, 0x31d0, 0x2228, 0xe360, 0x49df, 0x0, 0x0);
        gbc.writeMem(0x5296, { 0xc8 });
        gbc.writeMem(0xc7fb, { 0x5c, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc7fd);
        EXPECT(gbc.pc(), 0xbb5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7fb), 0x5c);
        EXPECT(gbc.readMem(0xc7fc), 0xbb);
        // C8 007B
        gbc.setState(0x5e14, 0x63c9, 0x77e0, 0xf233, 0x3f9b, 0x9b9d, 0x1, 0x1);
        gbc.writeMem(0x5e14, { 0xc8 });
        gbc.writeMem(0x63c9, { 0x6e, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x63cb);
        EXPECT(gbc.pc(), 0xf86e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 007C
        gbc.setState(0x92fa, 0x4b4d, 0xe5d0, 0x1dae, 0xd487, 0x9e33, 0x0, 0x0);
        gbc.writeMem(0x4b4d, { 0x8c, 0x86 });
        gbc.writeMem(0x92fa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x4b4f);
        EXPECT(gbc.pc(), 0x868c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92fa), 0xc8);
        // C8 007D
        gbc.setState(0x8931, 0xa100, 0xbaa0, 0x3275, 0x6f99, 0x6b4d, 0x1, 0x0);
        gbc.writeMem(0x8931, { 0xc8 });
        gbc.writeMem(0xa100, { 0x94, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xa102);
        EXPECT(gbc.pc(), 0x8c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8931), 0xc8);
        EXPECT(gbc.readMem(0xa100), 0x94);
        EXPECT(gbc.readMem(0xa101), 0x8c);
        // C8 007E
        gbc.setState(0x18f5, 0x8781, 0xe5d0, 0xd3e7, 0x390c, 0xa80f, 0x1, 0x1);
        gbc.writeMem(0x18f5, { 0xc8 });
        gbc.writeMem(0x8781, { 0x6d, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x8783);
        EXPECT(gbc.pc(), 0xa46d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8781), 0x6d);
        EXPECT(gbc.readMem(0x8782), 0xa4);
        // C8 007F
        gbc.setState(0xb3ae, 0xcfb0, 0x4d60, 0x9ea9, 0xdbe9, 0xe990, 0x1, 0x1);
        gbc.writeMem(0xb3ae, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcfb0);
        EXPECT(gbc.pc(), 0xb3af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3ae), 0xc8);
        // C8 0080
        gbc.setState(0xe379, 0xf825, 0x1460, 0x369d, 0x5ef5, 0x4ab1, 0x0, 0x0);
        gbc.writeMem(0xe379, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xf825);
        EXPECT(gbc.pc(), 0xe37a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe379), 0xc8);
        // C8 0081
        gbc.setState(0xcb0d, 0xc061, 0x3800, 0x5cd3, 0x9553, 0x910b, 0x1, 0x0);
        gbc.writeMem(0xcb0d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc061);
        EXPECT(gbc.pc(), 0xcb0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb0d), 0xc8);
        // C8 0082
        gbc.setState(0x437d, 0x82d1, 0xc960, 0x82fd, 0x53da, 0xa659, 0x1, 0x0);
        gbc.writeMem(0x437d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x82d1);
        EXPECT(gbc.pc(), 0x437e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0084
        gbc.setState(0x7af9, 0x6d83, 0x4140, 0x8c28, 0xde0d, 0xe2e4, 0x1, 0x1);
        gbc.writeMem(0x7af9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6d83);
        EXPECT(gbc.pc(), 0x7afa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0085
        gbc.setState(0x4b04, 0x631a, 0xca50, 0xf27, 0xd775, 0x7752, 0x0, 0x1);
        gbc.writeMem(0x4b04, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x631a);
        EXPECT(gbc.pc(), 0x4b05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0086
        gbc.setState(0x5c14, 0x88e7, 0xb1a0, 0xaba9, 0x51dd, 0xc30f, 0x1, 0x1);
        gbc.writeMem(0x5c14, { 0xc8 });
        gbc.writeMem(0x88e7, { 0xd0, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x88e9);
        EXPECT(gbc.pc(), 0xd7d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e7), 0xd0);
        EXPECT(gbc.readMem(0x88e8), 0xd7);
        // C8 0088
        gbc.setState(0x5173, 0xa6ae, 0x6250, 0xef71, 0x4c6, 0x417f, 0x1, 0x1);
        gbc.writeMem(0x5173, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa6ae);
        EXPECT(gbc.pc(), 0x5174);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0089
        gbc.setState(0x35f8, 0x28c1, 0xb180, 0xcf8c, 0xf893, 0x2d71, 0x0, 0x0);
        gbc.writeMem(0x28c1, { 0x75, 0x84 });
        gbc.writeMem(0x35f8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x28c3);
        EXPECT(gbc.pc(), 0x8475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 008A
        gbc.setState(0x4f58, 0x570b, 0xdd50, 0xcbc, 0x5d2f, 0xada, 0x0, 0x1);
        gbc.writeMem(0x4f58, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x570b);
        EXPECT(gbc.pc(), 0x4f59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 008B
        gbc.setState(0xdd0e, 0x945d, 0x8930, 0x7e43, 0x3ce3, 0xcbd3, 0x0, 0x1);
        gbc.writeMem(0xdd0e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x945d);
        EXPECT(gbc.pc(), 0xdd0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd0e), 0xc8);
        // C8 008C
        gbc.setState(0xad7d, 0x3381, 0x3a30, 0x30af, 0xfa3, 0xe23b, 0x0, 0x0);
        gbc.writeMem(0xad7d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3381);
        EXPECT(gbc.pc(), 0xad7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad7d), 0xc8);
        // C8 008D
        gbc.setState(0x5e0, 0xb2b5, 0x8f00, 0xd97d, 0xe809, 0xcdcc, 0x0, 0x0);
        gbc.writeMem(0x5e0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb2b5);
        EXPECT(gbc.pc(), 0x5e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 008E
        gbc.setState(0x90fc, 0xf055, 0x4870, 0xd0b9, 0x6d4e, 0x7ae6, 0x0, 0x0);
        gbc.writeMem(0x90fc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf055);
        EXPECT(gbc.pc(), 0x90fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90fc), 0xc8);
        // C8 008F
        gbc.setState(0x5cec, 0x8c3, 0x72a0, 0xbc7f, 0x1609, 0xce03, 0x0, 0x0);
        gbc.writeMem(0x8c3, { 0xe0, 0x38 });
        gbc.writeMem(0x5cec, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8c5);
        EXPECT(gbc.pc(), 0x38e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0090
        gbc.setState(0x9c62, 0x10f4, 0x7840, 0x24ed, 0x10d6, 0xcc4b, 0x0, 0x1);
        gbc.writeMem(0x9c62, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x10f4);
        EXPECT(gbc.pc(), 0x9c63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c62), 0xc8);
        // C8 0091
        gbc.setState(0x8ead, 0x23c3, 0x62e0, 0xa9aa, 0x4251, 0x7046, 0x1, 0x1);
        gbc.writeMem(0x23c3, { 0x46, 0x6e });
        gbc.writeMem(0x8ead, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x23c5);
        EXPECT(gbc.pc(), 0x6e46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ead), 0xc8);
        // C8 0092
        gbc.setState(0x8649, 0x5cba, 0xe450, 0x2feb, 0xe3c9, 0xe7ae, 0x1, 0x0);
        gbc.writeMem(0x8649, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x5cba);
        EXPECT(gbc.pc(), 0x864a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8649), 0xc8);
        // C8 0093
        gbc.setState(0x7ec6, 0xab65, 0x9e20, 0x8fcb, 0x8ac9, 0x2bce, 0x0, 0x0);
        gbc.writeMem(0x7ec6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xab65);
        EXPECT(gbc.pc(), 0x7ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0094
        gbc.setState(0xc4d3, 0x7759, 0x8080, 0x7810, 0x4a65, 0xd21a, 0x0, 0x1);
        gbc.writeMem(0x7759, { 0x23, 0xa4 });
        gbc.writeMem(0xc4d3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x775b);
        EXPECT(gbc.pc(), 0xa423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4d3), 0xc8);
        // C8 0095
        gbc.setState(0xddbd, 0x9967, 0x4240, 0x7d33, 0x437f, 0x5ea2, 0x1, 0x1);
        gbc.writeMem(0xddbd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9967);
        EXPECT(gbc.pc(), 0xddbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddbd), 0xc8);
        // C8 0096
        gbc.setState(0x4dd1, 0xe810, 0x73e0, 0x4712, 0xb400, 0x81f5, 0x1, 0x1);
        gbc.writeMem(0x4dd1, { 0xc8 });
        gbc.writeMem(0xe810, { 0x4, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe812);
        EXPECT(gbc.pc(), 0xb04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe810), 0x4);
        EXPECT(gbc.readMem(0xe811), 0xb);
        // C8 0098
        gbc.setState(0xc12d, 0x5199, 0x72e0, 0x2096, 0x9a9a, 0x4b02, 0x0, 0x1);
        gbc.writeMem(0x5199, { 0x10, 0x72 });
        gbc.writeMem(0xc12d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x519b);
        EXPECT(gbc.pc(), 0x7210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc12d), 0xc8);
        // C8 0099
        gbc.setState(0x6191, 0xca57, 0x6560, 0x1782, 0x28a6, 0x420a, 0x1, 0x1);
        gbc.writeMem(0x6191, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xca57);
        EXPECT(gbc.pc(), 0x6192);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 009A
        gbc.setState(0xdcbd, 0x195, 0xd8a0, 0x63ce, 0x4e25, 0x616d, 0x1, 0x1);
        gbc.writeMem(0x195, { 0x4d, 0xc1 });
        gbc.writeMem(0xdcbd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x197);
        EXPECT(gbc.pc(), 0xc14d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcbd), 0xc8);
        // C8 009C
        gbc.setState(0x9529, 0x4261, 0x640, 0x99ba, 0x7291, 0x1c8b, 0x1, 0x1);
        gbc.writeMem(0x9529, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4261);
        EXPECT(gbc.pc(), 0x952a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9529), 0xc8);
        // C8 009D
        gbc.setState(0xa956, 0xc495, 0x50e0, 0x93c5, 0x1ce1, 0xb951, 0x1, 0x1);
        gbc.writeMem(0xa956, { 0xc8 });
        gbc.writeMem(0xc495, { 0xdf, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc497);
        EXPECT(gbc.pc(), 0x7edf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa956), 0xc8);
        EXPECT(gbc.readMem(0xc495), 0xdf);
        EXPECT(gbc.readMem(0xc496), 0x7e);
        // C8 009E
        gbc.setState(0x804e, 0xfdae, 0xdbf0, 0x2e42, 0xc218, 0x9753, 0x1, 0x0);
        gbc.writeMem(0x804e, { 0xc8 });
        gbc.writeMem(0xfdae, { 0x9c, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xfdb0);
        EXPECT(gbc.pc(), 0x419c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x804e), 0xc8);
        EXPECT(gbc.readMem(0xfdae), 0x9c);
        EXPECT(gbc.readMem(0xfdaf), 0x41);
        // C8 009F
        gbc.setState(0x435c, 0x6143, 0x61b0, 0xf213, 0xb1a4, 0x1352, 0x0, 0x0);
        gbc.writeMem(0x435c, { 0xc8 });
        gbc.writeMem(0x6143, { 0x4b, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6145);
        EXPECT(gbc.pc(), 0x194b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 00A0
        gbc.setState(0x299d, 0x6395, 0x1040, 0x9885, 0x7c7, 0xbb03, 0x1, 0x0);
        gbc.writeMem(0x299d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6395);
        EXPECT(gbc.pc(), 0x299e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00A1
        gbc.setState(0xe511, 0xaecc, 0x56f0, 0xdcaf, 0xefc, 0x31d8, 0x0, 0x1);
        gbc.writeMem(0xaecc, { 0xfa, 0x12 });
        gbc.writeMem(0xe511, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xaece);
        EXPECT(gbc.pc(), 0x12fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaecc), 0xfa);
        EXPECT(gbc.readMem(0xaecd), 0x12);
        EXPECT(gbc.readMem(0xe511), 0xc8);
        // C8 00A2
        gbc.setState(0xd1ec, 0xe3d4, 0x5e0, 0x8e28, 0xf226, 0x5557, 0x0, 0x1);
        gbc.writeMem(0xd1ec, { 0xc8 });
        gbc.writeMem(0xe3d4, { 0xf6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe3d6);
        EXPECT(gbc.pc(), 0xb8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ec), 0xc8);
        EXPECT(gbc.readMem(0xe3d4), 0xf6);
        EXPECT(gbc.readMem(0xe3d5), 0xb8);
        // C8 00A3
        gbc.setState(0x958d, 0xdce9, 0x99a0, 0x2acf, 0xa4e5, 0x53a4, 0x0, 0x0);
        gbc.writeMem(0x958d, { 0xc8 });
        gbc.writeMem(0xdce9, { 0x6d, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdceb);
        EXPECT(gbc.pc(), 0x7a6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x958d), 0xc8);
        EXPECT(gbc.readMem(0xdce9), 0x6d);
        EXPECT(gbc.readMem(0xdcea), 0x7a);
        // C8 00A4
        gbc.setState(0x7e17, 0x723c, 0xb740, 0x8a94, 0x3df3, 0x677c, 0x0, 0x1);
        gbc.writeMem(0x7e17, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x723c);
        EXPECT(gbc.pc(), 0x7e18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00A5
        gbc.setState(0xb5d, 0x4cd6, 0x2f90, 0x1ceb, 0x9845, 0x896d, 0x1, 0x1);
        gbc.writeMem(0xb5d, { 0xc8 });
        gbc.writeMem(0x4cd6, { 0xa, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x4cd8);
        EXPECT(gbc.pc(), 0x400a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00A6
        gbc.setState(0x633c, 0xea84, 0xd430, 0x3a95, 0x637, 0x476d, 0x0, 0x1);
        gbc.writeMem(0x633c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xea84);
        EXPECT(gbc.pc(), 0x633d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 00A7
        gbc.setState(0x4a7b, 0x4adf, 0xfbc0, 0x7f41, 0xfa57, 0xcff5, 0x0, 0x0);
        gbc.writeMem(0x4a7b, { 0xc8 });
        gbc.writeMem(0x4adf, { 0x5f, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4ae1);
        EXPECT(gbc.pc(), 0xfd5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00A8
        gbc.setState(0x6e25, 0xdcf, 0x9340, 0x3459, 0xbbdd, 0xf0b6, 0x1, 0x1);
        gbc.writeMem(0x6e25, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xdcf);
        EXPECT(gbc.pc(), 0x6e26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00AA
        gbc.setState(0x7eb7, 0xd0a4, 0x2390, 0xb92d, 0xf12f, 0xe489, 0x1, 0x1);
        gbc.writeMem(0x7eb7, { 0xc8 });
        gbc.writeMem(0xd0a4, { 0xf7, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xd0a6);
        EXPECT(gbc.pc(), 0x4ef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0a4), 0xf7);
        EXPECT(gbc.readMem(0xd0a5), 0x4e);
        // C8 00AB
        gbc.setState(0xc747, 0xdcbc, 0x6110, 0x2227, 0x1a2f, 0x7032, 0x0, 0x1);
        gbc.writeMem(0xc747, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xdcbc);
        EXPECT(gbc.pc(), 0xc748);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc747), 0xc8);
        // C8 00AC
        gbc.setState(0xcde3, 0xc114, 0xb900, 0x2385, 0x8b1d, 0xa1f7, 0x0, 0x1);
        gbc.writeMem(0xcde3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc114);
        EXPECT(gbc.pc(), 0xcde4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcde3), 0xc8);
        // C8 00AD
        gbc.setState(0x65f8, 0x3875, 0xe140, 0x85e3, 0x195c, 0xa791, 0x0, 0x0);
        gbc.writeMem(0x65f8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3875);
        EXPECT(gbc.pc(), 0x65f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00AE
        gbc.setState(0xbaf0, 0x117c, 0x3d40, 0x4091, 0x44fe, 0x9144, 0x0, 0x0);
        gbc.writeMem(0xbaf0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x117c);
        EXPECT(gbc.pc(), 0xbaf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaf0), 0xc8);
        // C8 00AF
        gbc.setState(0xefb4, 0xe1e3, 0xc1b0, 0x9960, 0x35d7, 0xb1e2, 0x1, 0x0);
        gbc.writeMem(0xe1e3, { 0xe8, 0xee });
        gbc.writeMem(0xefb4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe1e5);
        EXPECT(gbc.pc(), 0xeee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1e3), 0xe8);
        EXPECT(gbc.readMem(0xe1e4), 0xee);
        EXPECT(gbc.readMem(0xefb4), 0xc8);
        // C8 00B0
        gbc.setState(0x4630, 0xb143, 0x6db0, 0x120a, 0xf26f, 0x6f1a, 0x1, 0x0);
        gbc.writeMem(0x4630, { 0xc8 });
        gbc.writeMem(0xb143, { 0xd7, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xb145);
        EXPECT(gbc.pc(), 0x90d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb143), 0xd7);
        EXPECT(gbc.readMem(0xb144), 0x90);
        // C8 00B1
        gbc.setState(0xa0a2, 0x657b, 0xb170, 0x2efd, 0xd040, 0xbebf, 0x1, 0x0);
        gbc.writeMem(0xa0a2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x657b);
        EXPECT(gbc.pc(), 0xa0a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a2), 0xc8);
        // C8 00B2
        gbc.setState(0x509c, 0xdfe5, 0xc4a0, 0x6fee, 0x352f, 0x4cbd, 0x0, 0x1);
        gbc.writeMem(0x509c, { 0xc8 });
        gbc.writeMem(0xdfe5, { 0xbf, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xdfe7);
        EXPECT(gbc.pc(), 0x5fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe5), 0xbf);
        EXPECT(gbc.readMem(0xdfe6), 0x5f);
        // C8 00B3
        gbc.setState(0xca12, 0x8492, 0x4220, 0xb4d, 0x3bf7, 0x6be3, 0x1, 0x0);
        gbc.writeMem(0xca12, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8492);
        EXPECT(gbc.pc(), 0xca13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca12), 0xc8);
        // C8 00B4
        gbc.setState(0x5c77, 0x853, 0x7a50, 0xc69c, 0x7538, 0xd32, 0x0, 0x0);
        gbc.writeMem(0x5c77, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x853);
        EXPECT(gbc.pc(), 0x5c78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00B5
        gbc.setState(0x4f7, 0x87e7, 0xee90, 0x1dae, 0x4c96, 0x136a, 0x1, 0x0);
        gbc.writeMem(0x4f7, { 0xc8 });
        gbc.writeMem(0x87e7, { 0xf9, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x87e9);
        EXPECT(gbc.pc(), 0xc4f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e7), 0xf9);
        EXPECT(gbc.readMem(0x87e8), 0xc4);
        // C8 00B6
        gbc.setState(0xc49f, 0xc4d2, 0x45d0, 0x3fff, 0x543d, 0xf8d2, 0x1, 0x0);
        gbc.writeMem(0xc49f, { 0xc8 });
        gbc.writeMem(0xc4d2, { 0x46, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc4d4);
        EXPECT(gbc.pc(), 0xc46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc49f), 0xc8);
        EXPECT(gbc.readMem(0xc4d2), 0x46);
        EXPECT(gbc.readMem(0xc4d3), 0xc);
        // C8 00B7
        gbc.setState(0x1a1c, 0x6ad4, 0x8030, 0x7367, 0xd987, 0x3406, 0x0, 0x0);
        gbc.writeMem(0x1a1c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6ad4);
        EXPECT(gbc.pc(), 0x1a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 00B8
        gbc.setState(0xcc0, 0x9f02, 0x1e70, 0xcad2, 0x6b8b, 0x7622, 0x1, 0x0);
        gbc.writeMem(0xcc0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9f02);
        EXPECT(gbc.pc(), 0xcc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 00B9
        gbc.setState(0xc605, 0xe4c9, 0xeb70, 0xb4dc, 0xd2f5, 0x2735, 0x0, 0x1);
        gbc.writeMem(0xc605, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe4c9);
        EXPECT(gbc.pc(), 0xc606);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc605), 0xc8);
        // C8 00BA
        gbc.setState(0x7b4e, 0x4be0, 0xfc10, 0x2b06, 0x9221, 0x7c71, 0x1, 0x0);
        gbc.writeMem(0x7b4e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4be0);
        EXPECT(gbc.pc(), 0x7b4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00BB
        gbc.setState(0xeb89, 0xf57d, 0xfa60, 0xf123, 0x9cde, 0x3de0, 0x0, 0x0);
        gbc.writeMem(0xeb89, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf57d);
        EXPECT(gbc.pc(), 0xeb8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb89), 0xc8);
        // C8 00BC
        gbc.setState(0x3eff, 0xa776, 0x1560, 0x2a15, 0x15e, 0xfb71, 0x0, 0x1);
        gbc.writeMem(0x3eff, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa776);
        EXPECT(gbc.pc(), 0x3f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00BD
        gbc.setState(0x2526, 0xac76, 0xdb50, 0xe41e, 0xce76, 0xadb1, 0x0, 0x1);
        gbc.writeMem(0x2526, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xac76);
        EXPECT(gbc.pc(), 0x2527);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00BE
        gbc.setState(0xbc4e, 0xe883, 0xc10, 0x9dd5, 0xafce, 0x7993, 0x0, 0x0);
        gbc.writeMem(0xbc4e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xe883);
        EXPECT(gbc.pc(), 0xbc4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc4e), 0xc8);
        // C8 00BF
        gbc.setState(0x5876, 0xc8ba, 0xcc90, 0x8277, 0x610b, 0xb3ea, 0x1, 0x0);
        gbc.writeMem(0x5876, { 0xc8 });
        gbc.writeMem(0xc8ba, { 0xa1, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc8bc);
        EXPECT(gbc.pc(), 0x90a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8ba), 0xa1);
        EXPECT(gbc.readMem(0xc8bb), 0x90);
        // C8 00C0
        gbc.setState(0x127d, 0xe01f, 0xab90, 0xea16, 0x3720, 0x153f, 0x1, 0x1);
        gbc.writeMem(0x127d, { 0xc8 });
        gbc.writeMem(0xe01f, { 0xb5, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe021);
        EXPECT(gbc.pc(), 0x5ab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe01f), 0xb5);
        EXPECT(gbc.readMem(0xe020), 0x5a);
        // C8 00C1
        gbc.setState(0xb29c, 0xfd1d, 0x8cf0, 0x9526, 0x9dab, 0xd97b, 0x1, 0x1);
        gbc.writeMem(0xb29c, { 0xc8 });
        gbc.writeMem(0xfd1d, { 0x25, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfd1f);
        EXPECT(gbc.pc(), 0xca25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb29c), 0xc8);
        EXPECT(gbc.readMem(0xfd1d), 0x25);
        EXPECT(gbc.readMem(0xfd1e), 0xca);
        // C8 00C4
        gbc.setState(0xed14, 0x1b6b, 0x5650, 0x3697, 0xf68a, 0xf52b, 0x0, 0x0);
        gbc.writeMem(0xed14, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1b6b);
        EXPECT(gbc.pc(), 0xed15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed14), 0xc8);
        // C8 00C5
        gbc.setState(0xcfa7, 0x68d3, 0x2300, 0xd07f, 0x9e91, 0x184c, 0x0, 0x1);
        gbc.writeMem(0xcfa7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x68d3);
        EXPECT(gbc.pc(), 0xcfa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfa7), 0xc8);
        // C8 00C6
        gbc.setState(0xd9c8, 0xa451, 0xc00, 0x6cbf, 0x2fad, 0xf57f, 0x0, 0x0);
        gbc.writeMem(0xd9c8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa451);
        EXPECT(gbc.pc(), 0xd9c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9c8), 0xc8);
        // C8 00C7
        gbc.setState(0x5cfb, 0x7ecb, 0xc450, 0x66c0, 0x9d4, 0x1986, 0x1, 0x1);
        gbc.writeMem(0x5cfb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7ecb);
        EXPECT(gbc.pc(), 0x5cfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00C8
        gbc.setState(0xc6f3, 0x76a5, 0xec40, 0xc7ff, 0x715d, 0x5667, 0x1, 0x1);
        gbc.writeMem(0xc6f3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x76a5);
        EXPECT(gbc.pc(), 0xc6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6f3), 0xc8);
        // C8 00C9
        gbc.setState(0x600b, 0x85f5, 0xbf20, 0x4b79, 0xe30d, 0x9613, 0x0, 0x0);
        gbc.writeMem(0x600b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x85f5);
        EXPECT(gbc.pc(), 0x600c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00CA
        gbc.setState(0xdc00, 0x52d2, 0x3430, 0xf3d8, 0x6bb6, 0x403f, 0x0, 0x0);
        gbc.writeMem(0xdc00, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x52d2);
        EXPECT(gbc.pc(), 0xdc01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc00), 0xc8);
        // C8 00CB
        gbc.setState(0xcce6, 0xab26, 0xc330, 0x4f9b, 0x610a, 0x18df, 0x0, 0x0);
        gbc.writeMem(0xcce6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xab26);
        EXPECT(gbc.pc(), 0xcce7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcce6), 0xc8);
        // C8 00CC
        gbc.setState(0x65ac, 0xab0c, 0x43c0, 0x8a97, 0x390e, 0x2222, 0x0, 0x0);
        gbc.writeMem(0x65ac, { 0xc8 });
        gbc.writeMem(0xab0c, { 0xf8, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xab0e);
        EXPECT(gbc.pc(), 0x99f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab0c), 0xf8);
        EXPECT(gbc.readMem(0xab0d), 0x99);
        // C8 00CE
        gbc.setState(0xe052, 0xa3a3, 0x8ff0, 0xc779, 0x7413, 0xadf8, 0x0, 0x0);
        gbc.writeMem(0xa3a3, { 0x5, 0x55 });
        gbc.writeMem(0xe052, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa3a5);
        EXPECT(gbc.pc(), 0x5505);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3a3), 0x5);
        EXPECT(gbc.readMem(0xa3a4), 0x55);
        EXPECT(gbc.readMem(0xe052), 0xc8);
        // C8 00CF
        gbc.setState(0x97f9, 0x2168, 0x44e0, 0xf952, 0x1692, 0xc143, 0x0, 0x0);
        gbc.writeMem(0x2168, { 0x65, 0xf3 });
        gbc.writeMem(0x97f9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x216a);
        EXPECT(gbc.pc(), 0xf365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97f9), 0xc8);
        // C8 00D0
        gbc.setState(0x1e7d, 0xe09d, 0xb3a0, 0x5e6b, 0xb01, 0x2378, 0x1, 0x1);
        gbc.writeMem(0x1e7d, { 0xc8 });
        gbc.writeMem(0xe09d, { 0xc9, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe09f);
        EXPECT(gbc.pc(), 0x3cc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe09d), 0xc9);
        EXPECT(gbc.readMem(0xe09e), 0x3c);
        // C8 00D1
        gbc.setState(0xda90, 0x889d, 0xd920, 0xa3ff, 0xd237, 0x3f72, 0x1, 0x0);
        gbc.writeMem(0xda90, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x889d);
        EXPECT(gbc.pc(), 0xda91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda90), 0xc8);
        // C8 00D2
        gbc.setState(0x5074, 0x70, 0xb220, 0x7750, 0xb68e, 0x857f, 0x1, 0x0);
        gbc.writeMem(0x5074, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x70);
        EXPECT(gbc.pc(), 0x5075);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00D3
        gbc.setState(0xe7d0, 0xcc11, 0xb70, 0xb490, 0x43ca, 0x8ff5, 0x0, 0x1);
        gbc.writeMem(0xe7d0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xcc11);
        EXPECT(gbc.pc(), 0xe7d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7d0), 0xc8);
        // C8 00D5
        gbc.setState(0x2d27, 0xca2f, 0x3580, 0xfc50, 0x9d06, 0x3797, 0x1, 0x0);
        gbc.writeMem(0x2d27, { 0xc8 });
        gbc.writeMem(0xca2f, { 0x8a, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xca31);
        EXPECT(gbc.pc(), 0x798a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca2f), 0x8a);
        EXPECT(gbc.readMem(0xca30), 0x79);
        // C8 00D6
        gbc.setState(0xae6a, 0x18e8, 0x6dd0, 0x9e5b, 0xebb2, 0x62a3, 0x1, 0x1);
        gbc.writeMem(0x18e8, { 0xf4, 0xba });
        gbc.writeMem(0xae6a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x18ea);
        EXPECT(gbc.pc(), 0xbaf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae6a), 0xc8);
        // C8 00D7
        gbc.setState(0x52cf, 0x593c, 0x8620, 0x88f8, 0x2625, 0x5e53, 0x0, 0x0);
        gbc.writeMem(0x52cf, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x593c);
        EXPECT(gbc.pc(), 0x52d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00D8
        gbc.setState(0x63b2, 0x6682, 0x9430, 0x8a20, 0x41e5, 0xcb08, 0x1, 0x1);
        gbc.writeMem(0x63b2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6682);
        EXPECT(gbc.pc(), 0x63b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 00D9
        gbc.setState(0x61bb, 0xf5b2, 0xc320, 0xfd3f, 0xed6f, 0x6baa, 0x1, 0x0);
        gbc.writeMem(0x61bb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf5b2);
        EXPECT(gbc.pc(), 0x61bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00DA
        gbc.setState(0xea3d, 0xf43e, 0x9d40, 0x260e, 0x21ff, 0x9a5c, 0x0, 0x1);
        gbc.writeMem(0xea3d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf43e);
        EXPECT(gbc.pc(), 0xea3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea3d), 0xc8);
        // C8 00DB
        gbc.setState(0x1305, 0x1412, 0xcec0, 0x785c, 0xbc97, 0x7c9a, 0x0, 0x1);
        gbc.writeMem(0x1305, { 0xc8 });
        gbc.writeMem(0x1412, { 0xe6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x1414);
        EXPECT(gbc.pc(), 0x1ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 00DC
        gbc.setState(0x1423, 0xe87f, 0x10, 0x43b4, 0xa810, 0xa409, 0x0, 0x0);
        gbc.writeMem(0x1423, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe87f);
        EXPECT(gbc.pc(), 0x1424);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00DD
        gbc.setState(0xc81, 0x6086, 0xa790, 0xd239, 0x7bb, 0xa6d5, 0x0, 0x0);
        gbc.writeMem(0xc81, { 0xc8 });
        gbc.writeMem(0x6086, { 0x8d, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6088);
        EXPECT(gbc.pc(), 0xd98d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00DE
        gbc.setState(0xe01f, 0xe68, 0xe550, 0x9642, 0x275e, 0xecce, 0x0, 0x0);
        gbc.writeMem(0xe01f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe68);
        EXPECT(gbc.pc(), 0xe020);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe01f), 0xc8);
        // C8 00DF
        gbc.setState(0xef9f, 0x1a5, 0xa450, 0x65ff, 0xa2ef, 0x9a64, 0x0, 0x0);
        gbc.writeMem(0xef9f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1a5);
        EXPECT(gbc.pc(), 0xefa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef9f), 0xc8);
        // C8 00E0
        gbc.setState(0x886f, 0xd3a4, 0x1840, 0x231f, 0xf1b5, 0xfe7c, 0x1, 0x0);
        gbc.writeMem(0x886f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd3a4);
        EXPECT(gbc.pc(), 0x8870);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x886f), 0xc8);
        // C8 00E1
        gbc.setState(0x1d16, 0xc045, 0xe9d0, 0xc6f8, 0x75c3, 0x6375, 0x1, 0x1);
        gbc.writeMem(0x1d16, { 0xc8 });
        gbc.writeMem(0xc045, { 0x82, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xc047);
        EXPECT(gbc.pc(), 0x7d82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc045), 0x82);
        EXPECT(gbc.readMem(0xc046), 0x7d);
        // C8 00E2
        gbc.setState(0xa453, 0xb159, 0x1120, 0x6d88, 0xd4b8, 0x8a84, 0x1, 0x1);
        gbc.writeMem(0xa453, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xb159);
        EXPECT(gbc.pc(), 0xa454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa453), 0xc8);
        // C8 00E3
        gbc.setState(0x2b2d, 0xbede, 0x990, 0xbef4, 0x5a72, 0x7713, 0x0, 0x1);
        gbc.writeMem(0x2b2d, { 0xc8 });
        gbc.writeMem(0xbede, { 0x5f, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbee0);
        EXPECT(gbc.pc(), 0xb15f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbede), 0x5f);
        EXPECT(gbc.readMem(0xbedf), 0xb1);
        // C8 00E4
        gbc.setState(0x6ddb, 0xc880, 0x2480, 0xc2d2, 0x5d55, 0x9d95, 0x0, 0x0);
        gbc.writeMem(0x6ddb, { 0xc8 });
        gbc.writeMem(0xc880, { 0xae, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc882);
        EXPECT(gbc.pc(), 0x1fae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc880), 0xae);
        EXPECT(gbc.readMem(0xc881), 0x1f);
        // C8 00E6
        gbc.setState(0xa44c, 0xd6cc, 0xd180, 0xc881, 0x6f25, 0x6ae7, 0x0, 0x1);
        gbc.writeMem(0xa44c, { 0xc8 });
        gbc.writeMem(0xd6cc, { 0xb0, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xd6ce);
        EXPECT(gbc.pc(), 0x67b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa44c), 0xc8);
        EXPECT(gbc.readMem(0xd6cc), 0xb0);
        EXPECT(gbc.readMem(0xd6cd), 0x67);
        // C8 00E7
        gbc.setState(0x6e13, 0x2628, 0xc790, 0x753e, 0xd83f, 0xc331, 0x1, 0x1);
        gbc.writeMem(0x2628, { 0x38, 0x5f });
        gbc.writeMem(0x6e13, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x262a);
        EXPECT(gbc.pc(), 0x5f38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00E8
        gbc.setState(0xb4c6, 0xe34f, 0x1890, 0xcc5c, 0x1bc1, 0x3779, 0x1, 0x0);
        gbc.writeMem(0xb4c6, { 0xc8 });
        gbc.writeMem(0xe34f, { 0x2f, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xe351);
        EXPECT(gbc.pc(), 0xd52f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4c6), 0xc8);
        EXPECT(gbc.readMem(0xe34f), 0x2f);
        EXPECT(gbc.readMem(0xe350), 0xd5);
        // C8 00E9
        gbc.setState(0x5550, 0xf186, 0x8ab0, 0xac5, 0x70b3, 0xf638, 0x0, 0x1);
        gbc.writeMem(0x5550, { 0xc8 });
        gbc.writeMem(0xf186, { 0x37, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf188);
        EXPECT(gbc.pc(), 0x3937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf186), 0x37);
        EXPECT(gbc.readMem(0xf187), 0x39);
        // C8 00EA
        gbc.setState(0x5a74, 0x6e62, 0xead0, 0x4495, 0x63b8, 0x8028, 0x0, 0x0);
        gbc.writeMem(0x5a74, { 0xc8 });
        gbc.writeMem(0x6e62, { 0x7c, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x6e64);
        EXPECT(gbc.pc(), 0x517c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00EB
        gbc.setState(0x2de6, 0x409f, 0xeb90, 0x2dd5, 0x4ea2, 0xfeec, 0x1, 0x1);
        gbc.writeMem(0x2de6, { 0xc8 });
        gbc.writeMem(0x409f, { 0x36, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x40a1);
        EXPECT(gbc.pc(), 0xed36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00EC
        gbc.setState(0x2ccb, 0x79bc, 0x3e0, 0x4dfe, 0xeeea, 0xdbf2, 0x1, 0x0);
        gbc.writeMem(0x2ccb, { 0xc8 });
        gbc.writeMem(0x79bc, { 0xb, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x79be);
        EXPECT(gbc.pc(), 0xee0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00ED
        gbc.setState(0xaeb, 0xa5c3, 0x65c0, 0x2ee6, 0x6314, 0x8024, 0x0, 0x0);
        gbc.writeMem(0xaeb, { 0xc8 });
        gbc.writeMem(0xa5c3, { 0x3d, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa5c5);
        EXPECT(gbc.pc(), 0xb23d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5c3), 0x3d);
        EXPECT(gbc.readMem(0xa5c4), 0xb2);
        // C8 00EE
        gbc.setState(0x5482, 0x398f, 0x7650, 0x740f, 0x2eb2, 0xc971, 0x1, 0x1);
        gbc.writeMem(0x5482, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x398f);
        EXPECT(gbc.pc(), 0x5483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00EF
        gbc.setState(0x1bb7, 0xb68d, 0x5f0, 0xc71c, 0xaa1b, 0x9eb, 0x1, 0x0);
        gbc.writeMem(0x1bb7, { 0xc8 });
        gbc.writeMem(0xb68d, { 0xe0, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xb68f);
        EXPECT(gbc.pc(), 0xc1e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb68d), 0xe0);
        EXPECT(gbc.readMem(0xb68e), 0xc1);
        // C8 00F0
        gbc.setState(0xe7f0, 0xd3c0, 0xf340, 0x9acf, 0x8c54, 0xbbe5, 0x0, 0x0);
        gbc.writeMem(0xe7f0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd3c0);
        EXPECT(gbc.pc(), 0xe7f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7f0), 0xc8);
        // C8 00F2
        gbc.setState(0xe351, 0x96ff, 0x9860, 0x2202, 0x64f1, 0x7dff, 0x0, 0x0);
        gbc.writeMem(0xe351, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x96ff);
        EXPECT(gbc.pc(), 0xe352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe351), 0xc8);
        // C8 00F3
        gbc.setState(0xad4, 0xda63, 0x9a0, 0xe4c4, 0x99d9, 0x3d61, 0x0, 0x0);
        gbc.writeMem(0xad4, { 0xc8 });
        gbc.writeMem(0xda63, { 0xf2, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xda65);
        EXPECT(gbc.pc(), 0x64f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda63), 0xf2);
        EXPECT(gbc.readMem(0xda64), 0x64);
        // C8 00F4
        gbc.setState(0x9741, 0xc746, 0xa490, 0xd0da, 0xce69, 0x6fcd, 0x0, 0x1);
        gbc.writeMem(0x9741, { 0xc8 });
        gbc.writeMem(0xc746, { 0xb, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc748);
        EXPECT(gbc.pc(), 0x4f0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9741), 0xc8);
        EXPECT(gbc.readMem(0xc746), 0xb);
        EXPECT(gbc.readMem(0xc747), 0x4f);
        // C8 00F5
        gbc.setState(0x163, 0x56ac, 0xa0a0, 0x4986, 0x613e, 0x23a7, 0x0, 0x0);
        gbc.writeMem(0x163, { 0xc8 });
        gbc.writeMem(0x56ac, { 0x47, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x56ae);
        EXPECT(gbc.pc(), 0x8047);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00F6
        gbc.setState(0xad79, 0xcb9e, 0x6eb0, 0x6d16, 0x8dc6, 0xb978, 0x0, 0x1);
        gbc.writeMem(0xad79, { 0xc8 });
        gbc.writeMem(0xcb9e, { 0xb4, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xcba0);
        EXPECT(gbc.pc(), 0xc9b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad79), 0xc8);
        EXPECT(gbc.readMem(0xcb9e), 0xb4);
        EXPECT(gbc.readMem(0xcb9f), 0xc9);
        // C8 00F7
        gbc.setState(0xe512, 0xf8b9, 0x3930, 0x471, 0xfdc6, 0x4f37, 0x1, 0x0);
        gbc.writeMem(0xe512, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf8b9);
        EXPECT(gbc.pc(), 0xe513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe512), 0xc8);
        // C8 00F9
        gbc.setState(0x8806, 0xee63, 0x9b40, 0xac2f, 0x685c, 0x175d, 0x0, 0x1);
        gbc.writeMem(0x8806, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xee63);
        EXPECT(gbc.pc(), 0x8807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8806), 0xc8);
        // C8 00FA
        gbc.setState(0x7954, 0xa046, 0x2710, 0xe25a, 0x753e, 0xb046, 0x0, 0x0);
        gbc.writeMem(0x7954, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa046);
        EXPECT(gbc.pc(), 0x7955);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 00FB
        gbc.setState(0x13d3, 0x2bbb, 0x7820, 0xaa7, 0xe42d, 0x24da, 0x0, 0x0);
        gbc.writeMem(0x13d3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2bbb);
        EXPECT(gbc.pc(), 0x13d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 00FC
        gbc.setState(0xb95e, 0x849, 0x1220, 0x610e, 0x9ccd, 0xa111, 0x1, 0x1);
        gbc.writeMem(0xb95e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x849);
        EXPECT(gbc.pc(), 0xb95f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb95e), 0xc8);
        // C8 00FD
        gbc.setState(0x8ffa, 0x1975, 0x81a0, 0x30e2, 0xb41a, 0x9adc, 0x0, 0x1);
        gbc.writeMem(0x1975, { 0xdc, 0x16 });
        gbc.writeMem(0x8ffa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1977);
        EXPECT(gbc.pc(), 0x16dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ffa), 0xc8);
        // C8 00FE
        gbc.setState(0x8335, 0x49fd, 0x7da0, 0x66ef, 0xcdd4, 0xfae9, 0x0, 0x0);
        gbc.writeMem(0x49fd, { 0x6d, 0xdf });
        gbc.writeMem(0x8335, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x49ff);
        EXPECT(gbc.pc(), 0xdf6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8335), 0xc8);
        // C8 00FF
        gbc.setState(0xbee0, 0x2dc0, 0x2360, 0x5583, 0x4608, 0xdd34, 0x1, 0x1);
        gbc.writeMem(0xbee0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x2dc0);
        EXPECT(gbc.pc(), 0xbee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee0), 0xc8);
        // C8 0100
        gbc.setState(0x1494, 0x181, 0x4240, 0x3345, 0xe9d7, 0xffd1, 0x1, 0x0);
        gbc.writeMem(0x1494, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x181);
        EXPECT(gbc.pc(), 0x1495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0101
        gbc.setState(0x5480, 0xa1f6, 0xbd60, 0xb72a, 0x3845, 0x4df6, 0x1, 0x0);
        gbc.writeMem(0x5480, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xa1f6);
        EXPECT(gbc.pc(), 0x5481);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0102
        gbc.setState(0x4419, 0x7973, 0xbbc0, 0xe0d7, 0xc6b8, 0x2d27, 0x0, 0x1);
        gbc.writeMem(0x4419, { 0xc8 });
        gbc.writeMem(0x7973, { 0xa1, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7975);
        EXPECT(gbc.pc(), 0x6ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0103
        gbc.setState(0xeaf9, 0x52dd, 0xc7f0, 0x1ed2, 0x4565, 0x3521, 0x1, 0x1);
        gbc.writeMem(0x52dd, { 0xb6, 0xc0 });
        gbc.writeMem(0xeaf9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x52df);
        EXPECT(gbc.pc(), 0xc0b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaf9), 0xc8);
        // C8 0104
        gbc.setState(0xc73f, 0x7dd5, 0x16c0, 0x32f9, 0x213f, 0xb453, 0x0, 0x1);
        gbc.writeMem(0x7dd5, { 0x4e, 0x61 });
        gbc.writeMem(0xc73f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7dd7);
        EXPECT(gbc.pc(), 0x614e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc73f), 0xc8);
        // C8 0105
        gbc.setState(0x4e4a, 0xf245, 0x6c20, 0xa7c9, 0x5329, 0x37f4, 0x1, 0x0);
        gbc.writeMem(0x4e4a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xf245);
        EXPECT(gbc.pc(), 0x4e4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0106
        gbc.setState(0x289a, 0x1fb3, 0x7d80, 0x5179, 0x7589, 0xa913, 0x1, 0x1);
        gbc.writeMem(0x1fb3, { 0x5d, 0x29 });
        gbc.writeMem(0x289a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1fb5);
        EXPECT(gbc.pc(), 0x295d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0107
        gbc.setState(0x41d8, 0x811, 0xe500, 0x71e2, 0x3589, 0x7b68, 0x1, 0x0);
        gbc.writeMem(0x41d8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x811);
        EXPECT(gbc.pc(), 0x41d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0108
        gbc.setState(0xd214, 0x947a, 0x2570, 0x1408, 0x6d40, 0x58cf, 0x0, 0x0);
        gbc.writeMem(0xd214, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x947a);
        EXPECT(gbc.pc(), 0xd215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd214), 0xc8);
        // C8 0109
        gbc.setState(0xd472, 0xcfd8, 0xff40, 0xe695, 0x1fba, 0xe282, 0x1, 0x1);
        gbc.writeMem(0xd472, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xcfd8);
        EXPECT(gbc.pc(), 0xd473);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd472), 0xc8);
        // C8 010A
        gbc.setState(0xe776, 0x19a2, 0xf150, 0x4a27, 0x3368, 0x3463, 0x0, 0x1);
        gbc.writeMem(0xe776, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x19a2);
        EXPECT(gbc.pc(), 0xe777);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe776), 0xc8);
        // C8 010B
        gbc.setState(0xba32, 0xae8e, 0x6320, 0xf6d8, 0xdd96, 0x5bf9, 0x0, 0x0);
        gbc.writeMem(0xba32, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xae8e);
        EXPECT(gbc.pc(), 0xba33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba32), 0xc8);
        // C8 010C
        gbc.setState(0xc6fd, 0xebf8, 0x53e0, 0xcb4, 0x4c90, 0x7484, 0x1, 0x1);
        gbc.writeMem(0xc6fd, { 0xc8 });
        gbc.writeMem(0xebf8, { 0x5d, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xebfa);
        EXPECT(gbc.pc(), 0xfc5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6fd), 0xc8);
        EXPECT(gbc.readMem(0xebf8), 0x5d);
        EXPECT(gbc.readMem(0xebf9), 0xfc);
        // C8 010D
        gbc.setState(0x8031, 0x184a, 0xc940, 0xd00f, 0x90c6, 0xa827, 0x0, 0x1);
        gbc.writeMem(0x8031, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x184a);
        EXPECT(gbc.pc(), 0x8032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8031), 0xc8);
        // C8 010E
        gbc.setState(0x4245, 0xf575, 0xd310, 0xc009, 0xb53f, 0x85f7, 0x0, 0x0);
        gbc.writeMem(0x4245, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf575);
        EXPECT(gbc.pc(), 0x4246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 010F
        gbc.setState(0x2b45, 0x3cca, 0x31b0, 0x5850, 0xad94, 0xf434, 0x1, 0x1);
        gbc.writeMem(0x2b45, { 0xc8 });
        gbc.writeMem(0x3cca, { 0xab, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3ccc);
        EXPECT(gbc.pc(), 0x5ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0110
        gbc.setState(0x5a18, 0x4d1f, 0x60c0, 0x317d, 0x6a17, 0xcdb, 0x0, 0x1);
        gbc.writeMem(0x4d1f, { 0xeb, 0x7 });
        gbc.writeMem(0x5a18, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x4d21);
        EXPECT(gbc.pc(), 0x7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0111
        gbc.setState(0x6376, 0x65e0, 0x6920, 0x7ded, 0xd1ba, 0xbdf4, 0x0, 0x0);
        gbc.writeMem(0x6376, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x65e0);
        EXPECT(gbc.pc(), 0x6377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0112
        gbc.setState(0xc22f, 0x9d65, 0xea50, 0x9dc5, 0x1c95, 0x3f88, 0x0, 0x1);
        gbc.writeMem(0xc22f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9d65);
        EXPECT(gbc.pc(), 0xc230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc22f), 0xc8);
        // C8 0113
        gbc.setState(0x673f, 0xf1e1, 0x1670, 0xf3b4, 0x9066, 0xb0db, 0x1, 0x0);
        gbc.writeMem(0x673f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf1e1);
        EXPECT(gbc.pc(), 0x6740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0115
        gbc.setState(0x4ce5, 0xd97e, 0x2610, 0x2faa, 0xdafc, 0x2e5f, 0x1, 0x0);
        gbc.writeMem(0x4ce5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd97e);
        EXPECT(gbc.pc(), 0x4ce6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0116
        gbc.setState(0x6d85, 0x6e50, 0x8400, 0x20be, 0x563d, 0xe10a, 0x1, 0x0);
        gbc.writeMem(0x6d85, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6e50);
        EXPECT(gbc.pc(), 0x6d86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0117
        gbc.setState(0x7ab7, 0xfae5, 0x6de0, 0xac6e, 0xe648, 0x3c98, 0x1, 0x0);
        gbc.writeMem(0x7ab7, { 0xc8 });
        gbc.writeMem(0xfae5, { 0xba, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfae7);
        EXPECT(gbc.pc(), 0xe6ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfae5), 0xba);
        EXPECT(gbc.readMem(0xfae6), 0xe6);
        // C8 0118
        gbc.setState(0x1b55, 0x32, 0x2250, 0x507b, 0xf8ba, 0x6870, 0x0, 0x1);
        gbc.writeMem(0x1b55, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x32);
        EXPECT(gbc.pc(), 0x1b56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0119
        gbc.setState(0x5e90, 0xf2db, 0x81c0, 0x7655, 0xfc12, 0x8e8e, 0x1, 0x0);
        gbc.writeMem(0x5e90, { 0xc8 });
        gbc.writeMem(0xf2db, { 0xc2, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf2dd);
        EXPECT(gbc.pc(), 0x9fc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf2db), 0xc2);
        EXPECT(gbc.readMem(0xf2dc), 0x9f);
        // C8 011A
        gbc.setState(0x568e, 0xa8ee, 0x6880, 0xabab, 0x859d, 0x6402, 0x1, 0x1);
        gbc.writeMem(0x568e, { 0xc8 });
        gbc.writeMem(0xa8ee, { 0x1, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xa8f0);
        EXPECT(gbc.pc(), 0xb901);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ee), 0x1);
        EXPECT(gbc.readMem(0xa8ef), 0xb9);
        // C8 011B
        gbc.setState(0x2424, 0x5b49, 0xdc30, 0x63a1, 0x98c7, 0x2c3d, 0x1, 0x0);
        gbc.writeMem(0x2424, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5b49);
        EXPECT(gbc.pc(), 0x2425);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 011C
        gbc.setState(0xcbf4, 0x87c9, 0x8a90, 0x3528, 0x30c5, 0x398d, 0x1, 0x1);
        gbc.writeMem(0x87c9, { 0xb9, 0x83 });
        gbc.writeMem(0xcbf4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x87cb);
        EXPECT(gbc.pc(), 0x83b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c9), 0xb9);
        EXPECT(gbc.readMem(0x87ca), 0x83);
        EXPECT(gbc.readMem(0xcbf4), 0xc8);
        // C8 011D
        gbc.setState(0x83a3, 0xf74d, 0x4680, 0xa12b, 0xe9ae, 0xc874, 0x1, 0x1);
        gbc.writeMem(0x83a3, { 0xc8 });
        gbc.writeMem(0xf74d, { 0x47, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf74f);
        EXPECT(gbc.pc(), 0x1847);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83a3), 0xc8);
        EXPECT(gbc.readMem(0xf74d), 0x47);
        EXPECT(gbc.readMem(0xf74e), 0x18);
        // C8 011E
        gbc.setState(0x75c2, 0x8f68, 0xa0c0, 0xe2f7, 0x4e70, 0x61bb, 0x0, 0x0);
        gbc.writeMem(0x75c2, { 0xc8 });
        gbc.writeMem(0x8f68, { 0x7a, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8f6a);
        EXPECT(gbc.pc(), 0x9e7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f68), 0x7a);
        EXPECT(gbc.readMem(0x8f69), 0x9e);
        // C8 011F
        gbc.setState(0xb14b, 0x9c1a, 0x7220, 0x69ef, 0xa827, 0xf657, 0x1, 0x0);
        gbc.writeMem(0xb14b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x9c1a);
        EXPECT(gbc.pc(), 0xb14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb14b), 0xc8);
        // C8 0120
        gbc.setState(0xbf5f, 0x7cec, 0x6920, 0x469a, 0x6f7a, 0x3db4, 0x0, 0x1);
        gbc.writeMem(0xbf5f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7cec);
        EXPECT(gbc.pc(), 0xbf60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf5f), 0xc8);
        // C8 0121
        gbc.setState(0xeee1, 0x2192, 0xd8d0, 0x79bb, 0x8b68, 0xe92e, 0x1, 0x1);
        gbc.writeMem(0x2192, { 0xa5, 0x55 });
        gbc.writeMem(0xeee1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x2194);
        EXPECT(gbc.pc(), 0x55a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeee1), 0xc8);
        // C8 0122
        gbc.setState(0x91e7, 0xbaed, 0xf760, 0xe03d, 0x7817, 0x402, 0x1, 0x0);
        gbc.writeMem(0x91e7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbaed);
        EXPECT(gbc.pc(), 0x91e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e7), 0xc8);
        // C8 0123
        gbc.setState(0xe6c0, 0xfe30, 0x21b0, 0x680, 0xbdef, 0xfffb, 0x0, 0x0);
        gbc.writeMem(0xe6c0, { 0xc8 });
        gbc.writeMem(0xfe30, { 0x6c, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xfe32);
        EXPECT(gbc.pc(), 0x8d6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c0), 0xc8);
        EXPECT(gbc.readMem(0xfe30), 0x6c);
        EXPECT(gbc.readMem(0xfe31), 0x8d);
        // C8 0125
        gbc.setState(0x628c, 0x877, 0x7240, 0x3e89, 0x943b, 0xae4, 0x0, 0x0);
        gbc.writeMem(0x628c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x877);
        EXPECT(gbc.pc(), 0x628d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0126
        gbc.setState(0x1ae5, 0x6881, 0xf8b0, 0xfc95, 0x6bee, 0x3c6c, 0x1, 0x0);
        gbc.writeMem(0x1ae5, { 0xc8 });
        gbc.writeMem(0x6881, { 0x5e, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6883);
        EXPECT(gbc.pc(), 0x7e5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0128
        gbc.setState(0x6358, 0xc00f, 0xd980, 0x69af, 0x9a62, 0x6889, 0x0, 0x0);
        gbc.writeMem(0x6358, { 0xc8 });
        gbc.writeMem(0xc00f, { 0xa6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xc011);
        EXPECT(gbc.pc(), 0x1ea6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc00f), 0xa6);
        EXPECT(gbc.readMem(0xc010), 0x1e);
        // C8 0129
        gbc.setState(0xd242, 0xfd09, 0x5eb0, 0x3499, 0x3334, 0xed1a, 0x1, 0x1);
        gbc.writeMem(0xd242, { 0xc8 });
        gbc.writeMem(0xfd09, { 0xb6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfd0b);
        EXPECT(gbc.pc(), 0xe8b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd242), 0xc8);
        EXPECT(gbc.readMem(0xfd09), 0xb6);
        EXPECT(gbc.readMem(0xfd0a), 0xe8);
        // C8 012B
        gbc.setState(0x93b, 0xc24d, 0xe8c0, 0xef7d, 0x4010, 0x3379, 0x1, 0x1);
        gbc.writeMem(0x93b, { 0xc8 });
        gbc.writeMem(0xc24d, { 0x57, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc24f);
        EXPECT(gbc.pc(), 0x1257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc24d), 0x57);
        EXPECT(gbc.readMem(0xc24e), 0x12);
        // C8 012C
        gbc.setState(0x8c43, 0x426d, 0x3810, 0x5ae4, 0xdfc1, 0xb8b6, 0x1, 0x1);
        gbc.writeMem(0x8c43, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x426d);
        EXPECT(gbc.pc(), 0x8c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c43), 0xc8);
        // C8 012D
        gbc.setState(0x9d91, 0x98bf, 0x5720, 0x9f84, 0x2311, 0xa70e, 0x0, 0x1);
        gbc.writeMem(0x9d91, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x98bf);
        EXPECT(gbc.pc(), 0x9d92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d91), 0xc8);
        // C8 012E
        gbc.setState(0x6bc5, 0x1b79, 0x2f0, 0x62d1, 0xabad, 0x506f, 0x0, 0x0);
        gbc.writeMem(0x1b79, { 0xb1, 0x98 });
        gbc.writeMem(0x6bc5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1b7b);
        EXPECT(gbc.pc(), 0x98b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 012F
        gbc.setState(0xd66a, 0xa6df, 0xf600, 0xdaa7, 0xf049, 0x2d71, 0x1, 0x1);
        gbc.writeMem(0xd66a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa6df);
        EXPECT(gbc.pc(), 0xd66b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd66a), 0xc8);
        // C8 0130
        gbc.setState(0x8194, 0xdcbc, 0x76e0, 0x6c15, 0x8def, 0xb91a, 0x1, 0x0);
        gbc.writeMem(0x8194, { 0xc8 });
        gbc.writeMem(0xdcbc, { 0xf7, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xdcbe);
        EXPECT(gbc.pc(), 0x3ff7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8194), 0xc8);
        EXPECT(gbc.readMem(0xdcbc), 0xf7);
        EXPECT(gbc.readMem(0xdcbd), 0x3f);
        // C8 0131
        gbc.setState(0xc4da, 0xf254, 0xe190, 0x6bee, 0x4d98, 0x4e4c, 0x1, 0x0);
        gbc.writeMem(0xc4da, { 0xc8 });
        gbc.writeMem(0xf254, { 0x7, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf256);
        EXPECT(gbc.pc(), 0x2607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4da), 0xc8);
        EXPECT(gbc.readMem(0xf254), 0x7);
        EXPECT(gbc.readMem(0xf255), 0x26);
        // C8 0132
        gbc.setState(0xcdac, 0x765, 0xfdd0, 0x7b5c, 0x5846, 0x41c4, 0x1, 0x1);
        gbc.writeMem(0x765, { 0x44, 0x84 });
        gbc.writeMem(0xcdac, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x767);
        EXPECT(gbc.pc(), 0x8444);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdac), 0xc8);
        // C8 0133
        gbc.setState(0xd739, 0xc0bd, 0xd760, 0x3859, 0x7d6, 0x6910, 0x1, 0x1);
        gbc.writeMem(0xd739, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc0bd);
        EXPECT(gbc.pc(), 0xd73a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd739), 0xc8);
        // C8 0134
        gbc.setState(0x80bc, 0x26e, 0x7a00, 0x1708, 0xebbb, 0xdc91, 0x0, 0x0);
        gbc.writeMem(0x80bc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x26e);
        EXPECT(gbc.pc(), 0x80bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80bc), 0xc8);
        // C8 0135
        gbc.setState(0xe0a0, 0x681c, 0xf0e0, 0xd62d, 0x8209, 0xb3a4, 0x1, 0x0);
        gbc.writeMem(0x681c, { 0xad, 0x3e });
        gbc.writeMem(0xe0a0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x681e);
        EXPECT(gbc.pc(), 0x3ead);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0a0), 0xc8);
        // C8 0136
        gbc.setState(0xe360, 0x74cc, 0xc6e0, 0x720b, 0xd5, 0x4749, 0x0, 0x0);
        gbc.writeMem(0x74cc, { 0xdb, 0xef });
        gbc.writeMem(0xe360, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x74ce);
        EXPECT(gbc.pc(), 0xefdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe360), 0xc8);
        // C8 0137
        gbc.setState(0xd508, 0xe3c3, 0x9760, 0xa847, 0x92f1, 0xb81b, 0x0, 0x1);
        gbc.writeMem(0xd508, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe3c3);
        EXPECT(gbc.pc(), 0xd509);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd508), 0xc8);
        // C8 0138
        gbc.setState(0x3bfa, 0x4d68, 0x9ca0, 0x2882, 0x2ef6, 0x1bec, 0x0, 0x1);
        gbc.writeMem(0x3bfa, { 0xc8 });
        gbc.writeMem(0x4d68, { 0xa9, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4d6a);
        EXPECT(gbc.pc(), 0xf5a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0139
        gbc.setState(0xc43b, 0xcd9f, 0xd500, 0x8529, 0xa42d, 0xbe2, 0x0, 0x0);
        gbc.writeMem(0xc43b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xcd9f);
        EXPECT(gbc.pc(), 0xc43c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc43b), 0xc8);
        // C8 013A
        gbc.setState(0x81c5, 0xe411, 0x4d70, 0xd250, 0x3936, 0x4ffd, 0x1, 0x0);
        gbc.writeMem(0x81c5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe411);
        EXPECT(gbc.pc(), 0x81c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81c5), 0xc8);
        // C8 013B
        gbc.setState(0x2f12, 0xb32d, 0x6d50, 0x9303, 0xd067, 0x456a, 0x0, 0x1);
        gbc.writeMem(0x2f12, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb32d);
        EXPECT(gbc.pc(), 0x2f13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 013C
        gbc.setState(0x6e1, 0xad3b, 0x4f40, 0x3389, 0x6faf, 0xae4d, 0x0, 0x0);
        gbc.writeMem(0x6e1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xad3b);
        EXPECT(gbc.pc(), 0x6e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 013D
        gbc.setState(0x15ad, 0x7a65, 0x3510, 0x8505, 0x8777, 0x883d, 0x1, 0x0);
        gbc.writeMem(0x15ad, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7a65);
        EXPECT(gbc.pc(), 0x15ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 013E
        gbc.setState(0x8619, 0xe26d, 0x4310, 0x71d5, 0xd120, 0x4c38, 0x1, 0x0);
        gbc.writeMem(0x8619, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xe26d);
        EXPECT(gbc.pc(), 0x861a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8619), 0xc8);
        // C8 013F
        gbc.setState(0xad3d, 0x50a2, 0xd8e0, 0x20fc, 0x82c5, 0xe76e, 0x1, 0x0);
        gbc.writeMem(0x50a2, { 0x82, 0x74 });
        gbc.writeMem(0xad3d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x50a4);
        EXPECT(gbc.pc(), 0x7482);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad3d), 0xc8);
        // C8 0140
        gbc.setState(0x7ab6, 0xf890, 0xd970, 0x84ca, 0xaf47, 0xbda9, 0x0, 0x0);
        gbc.writeMem(0x7ab6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xf890);
        EXPECT(gbc.pc(), 0x7ab7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0141
        gbc.setState(0xb43d, 0x9af2, 0xf1d0, 0x7f90, 0xe30b, 0x7898, 0x1, 0x0);
        gbc.writeMem(0x9af2, { 0x7a, 0x2 });
        gbc.writeMem(0xb43d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9af4);
        EXPECT(gbc.pc(), 0x27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9af2), 0x7a);
        EXPECT(gbc.readMem(0x9af3), 0x2);
        EXPECT(gbc.readMem(0xb43d), 0xc8);
        // C8 0142
        gbc.setState(0xd535, 0xd19f, 0xa6d0, 0xb495, 0x4240, 0x6e1b, 0x0, 0x0);
        gbc.writeMem(0xd19f, { 0x45, 0x0 });
        gbc.writeMem(0xd535, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd1a1);
        EXPECT(gbc.pc(), 0x45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd19f), 0x45);
        EXPECT(gbc.readMem(0xd1a0), 0x0);
        EXPECT(gbc.readMem(0xd535), 0xc8);
        // C8 0143
        gbc.setState(0x487d, 0x4a70, 0xb120, 0x1eb9, 0x1988, 0xc1e5, 0x1, 0x1);
        gbc.writeMem(0x487d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x4a70);
        EXPECT(gbc.pc(), 0x487e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0144
        gbc.setState(0x41d9, 0x8e43, 0xd7e0, 0x54ea, 0x2cac, 0x928a, 0x1, 0x0);
        gbc.writeMem(0x41d9, { 0xc8 });
        gbc.writeMem(0x8e43, { 0xf6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x8e45);
        EXPECT(gbc.pc(), 0xdff6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e43), 0xf6);
        EXPECT(gbc.readMem(0x8e44), 0xdf);
        // C8 0145
        gbc.setState(0xdf2, 0x4dc6, 0xa7f0, 0x8c39, 0x4ff5, 0xbbde, 0x0, 0x0);
        gbc.writeMem(0xdf2, { 0xc8 });
        gbc.writeMem(0x4dc6, { 0x10, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4dc8);
        EXPECT(gbc.pc(), 0xe810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0146
        gbc.setState(0x1fc4, 0x1748, 0xa1d0, 0xceeb, 0x5abc, 0x5f2e, 0x1, 0x1);
        gbc.writeMem(0x1748, { 0xa2, 0x65 });
        gbc.writeMem(0x1fc4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x174a);
        EXPECT(gbc.pc(), 0x65a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0147
        gbc.setState(0x2f63, 0x3d97, 0xeef0, 0x3a58, 0xb98b, 0x353d, 0x1, 0x0);
        gbc.writeMem(0x2f63, { 0xc8 });
        gbc.writeMem(0x3d97, { 0xc9, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3d99);
        EXPECT(gbc.pc(), 0x99c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0148
        gbc.setState(0xabb9, 0x6f0c, 0xb340, 0x46b4, 0x6d17, 0xe9c6, 0x0, 0x1);
        gbc.writeMem(0xabb9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x6f0c);
        EXPECT(gbc.pc(), 0xabba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabb9), 0xc8);
        // C8 0149
        gbc.setState(0xcb0e, 0xc1e8, 0x28c0, 0x335c, 0x782f, 0xd9d6, 0x1, 0x1);
        gbc.writeMem(0xc1e8, { 0x38, 0xdf });
        gbc.writeMem(0xcb0e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc1ea);
        EXPECT(gbc.pc(), 0xdf38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e8), 0x38);
        EXPECT(gbc.readMem(0xc1e9), 0xdf);
        EXPECT(gbc.readMem(0xcb0e), 0xc8);
        // C8 014A
        gbc.setState(0x2b2b, 0xbff0, 0x4280, 0x14cd, 0x6361, 0x52b1, 0x1, 0x0);
        gbc.writeMem(0x2b2b, { 0xc8 });
        gbc.writeMem(0xbff0, { 0x63, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xbff2);
        EXPECT(gbc.pc(), 0x9f63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff0), 0x63);
        EXPECT(gbc.readMem(0xbff1), 0x9f);
        // C8 014B
        gbc.setState(0x8880, 0xf0b, 0x8f00, 0xac73, 0x2338, 0x662a, 0x1, 0x0);
        gbc.writeMem(0x8880, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf0b);
        EXPECT(gbc.pc(), 0x8881);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8880), 0xc8);
        // C8 014C
        gbc.setState(0xb681, 0xcdbc, 0xa8d0, 0x952c, 0xce7d, 0x4cba, 0x1, 0x1);
        gbc.writeMem(0xb681, { 0xc8 });
        gbc.writeMem(0xcdbc, { 0xa2, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xcdbe);
        EXPECT(gbc.pc(), 0xafa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb681), 0xc8);
        EXPECT(gbc.readMem(0xcdbc), 0xa2);
        EXPECT(gbc.readMem(0xcdbd), 0xaf);
        // C8 014D
        gbc.setState(0x511a, 0x26f5, 0xf3f0, 0x2acf, 0xf59a, 0xc89d, 0x0, 0x0);
        gbc.writeMem(0x26f5, { 0x70, 0x53 });
        gbc.writeMem(0x511a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x26f7);
        EXPECT(gbc.pc(), 0x5370);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 014E
        gbc.setState(0x12f3, 0x167f, 0xf160, 0xd833, 0x3a90, 0xb703, 0x0, 0x1);
        gbc.writeMem(0x12f3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x167f);
        EXPECT(gbc.pc(), 0x12f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 014F
        gbc.setState(0xd710, 0xe035, 0x3520, 0xf663, 0x5ad3, 0x5d59, 0x1, 0x1);
        gbc.writeMem(0xd710, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe035);
        EXPECT(gbc.pc(), 0xd711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd710), 0xc8);
        // C8 0150
        gbc.setState(0xdc80, 0x182, 0x67c0, 0x7ed2, 0x1510, 0x5e15, 0x1, 0x1);
        gbc.writeMem(0x182, { 0xae, 0xb4 });
        gbc.writeMem(0xdc80, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x184);
        EXPECT(gbc.pc(), 0xb4ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc80), 0xc8);
        // C8 0151
        gbc.setState(0x6211, 0x8774, 0x5ec0, 0x6aa4, 0x8941, 0xdc5a, 0x0, 0x1);
        gbc.writeMem(0x6211, { 0xc8 });
        gbc.writeMem(0x8774, { 0xaf, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8776);
        EXPECT(gbc.pc(), 0x36af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8774), 0xaf);
        EXPECT(gbc.readMem(0x8775), 0x36);
        // C8 0152
        gbc.setState(0x6705, 0x722f, 0xd120, 0xce87, 0xcfb5, 0xcfc9, 0x0, 0x0);
        gbc.writeMem(0x6705, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x722f);
        EXPECT(gbc.pc(), 0x6706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0153
        gbc.setState(0xb19b, 0x10a0, 0x82c0, 0x69c1, 0x3f22, 0x3eea, 0x1, 0x1);
        gbc.writeMem(0x10a0, { 0x7c, 0x14 });
        gbc.writeMem(0xb19b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x10a2);
        EXPECT(gbc.pc(), 0x147c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb19b), 0xc8);
        // C8 0154
        gbc.setState(0x41e6, 0x7e6, 0x9bb0, 0xa1fa, 0x5218, 0x9f10, 0x1, 0x1);
        gbc.writeMem(0x7e6, { 0xe3, 0xb1 });
        gbc.writeMem(0x41e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x7e8);
        EXPECT(gbc.pc(), 0xb1e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0155
        gbc.setState(0x2a70, 0xe1ea, 0x9d0, 0xa763, 0xb66e, 0x2cd2, 0x1, 0x0);
        gbc.writeMem(0x2a70, { 0xc8 });
        gbc.writeMem(0xe1ea, { 0x33, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe1ec);
        EXPECT(gbc.pc(), 0xfe33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1ea), 0x33);
        EXPECT(gbc.readMem(0xe1eb), 0xfe);
        // C8 0156
        gbc.setState(0x389c, 0xe803, 0xdd40, 0xc368, 0x2057, 0x2a8, 0x0, 0x0);
        gbc.writeMem(0x389c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe803);
        EXPECT(gbc.pc(), 0x389d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0157
        gbc.setState(0x42e6, 0x1321, 0x5750, 0xe841, 0x9025, 0x6f69, 0x0, 0x1);
        gbc.writeMem(0x42e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1321);
        EXPECT(gbc.pc(), 0x42e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0158
        gbc.setState(0xacda, 0x31cf, 0x9d80, 0x6107, 0x7d19, 0x5bec, 0x0, 0x1);
        gbc.writeMem(0x31cf, { 0xdb, 0xad });
        gbc.writeMem(0xacda, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x31d1);
        EXPECT(gbc.pc(), 0xaddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacda), 0xc8);
        // C8 0159
        gbc.setState(0x76f3, 0x30ef, 0x37e0, 0x18ca, 0x3a1a, 0xa2ab, 0x0, 0x0);
        gbc.writeMem(0x30ef, { 0xa0, 0x99 });
        gbc.writeMem(0x76f3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x30f1);
        EXPECT(gbc.pc(), 0x99a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 015A
        gbc.setState(0xe704, 0x71f0, 0x560, 0x61d2, 0x4686, 0xc8f1, 0x0, 0x0);
        gbc.writeMem(0xe704, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x71f0);
        EXPECT(gbc.pc(), 0xe705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe704), 0xc8);
        // C8 015B
        gbc.setState(0xb7ba, 0x8214, 0x3360, 0x59d4, 0xe0c8, 0xa0fd, 0x1, 0x1);
        gbc.writeMem(0xb7ba, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8214);
        EXPECT(gbc.pc(), 0xb7bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7ba), 0xc8);
        // C8 015C
        gbc.setState(0x5f07, 0x84c8, 0x6a50, 0xc73b, 0xe05a, 0x7c37, 0x1, 0x1);
        gbc.writeMem(0x5f07, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x84c8);
        EXPECT(gbc.pc(), 0x5f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 015D
        gbc.setState(0x402b, 0xd032, 0xadc0, 0xb25a, 0x8e96, 0xd0de, 0x1, 0x0);
        gbc.writeMem(0x402b, { 0xc8 });
        gbc.writeMem(0xd032, { 0x7e, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd034);
        EXPECT(gbc.pc(), 0x687e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd032), 0x7e);
        EXPECT(gbc.readMem(0xd033), 0x68);
        // C8 015E
        gbc.setState(0x5f6d, 0x577, 0xe040, 0xe309, 0x7ef9, 0xefdf, 0x1, 0x1);
        gbc.writeMem(0x5f6d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x577);
        EXPECT(gbc.pc(), 0x5f6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 015F
        gbc.setState(0xa376, 0x20ae, 0xcf20, 0xaa4a, 0x8a30, 0x2b4b, 0x0, 0x0);
        gbc.writeMem(0xa376, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x20ae);
        EXPECT(gbc.pc(), 0xa377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa376), 0xc8);
        // C8 0160
        gbc.setState(0x5f4f, 0xe5a2, 0xc680, 0x639a, 0x7091, 0x6515, 0x0, 0x0);
        gbc.writeMem(0x5f4f, { 0xc8 });
        gbc.writeMem(0xe5a2, { 0xa9, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe5a4);
        EXPECT(gbc.pc(), 0xf1a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5a2), 0xa9);
        EXPECT(gbc.readMem(0xe5a3), 0xf1);
        // C8 0161
        gbc.setState(0xce6f, 0xb0ef, 0x2b0, 0x2f67, 0x70b9, 0xaeba, 0x1, 0x0);
        gbc.writeMem(0xb0ef, { 0x6a, 0x30 });
        gbc.writeMem(0xce6f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xb0f1);
        EXPECT(gbc.pc(), 0x306a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0ef), 0x6a);
        EXPECT(gbc.readMem(0xb0f0), 0x30);
        EXPECT(gbc.readMem(0xce6f), 0xc8);
        // C8 0162
        gbc.setState(0x7f48, 0xb786, 0x61d0, 0x3eea, 0xfc48, 0xbbf2, 0x0, 0x0);
        gbc.writeMem(0x7f48, { 0xc8 });
        gbc.writeMem(0xb786, { 0x3e, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb788);
        EXPECT(gbc.pc(), 0x393e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb786), 0x3e);
        EXPECT(gbc.readMem(0xb787), 0x39);
        // C8 0163
        gbc.setState(0xc123, 0xdc6a, 0xef20, 0x67aa, 0x9c00, 0x987, 0x0, 0x1);
        gbc.writeMem(0xc123, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xdc6a);
        EXPECT(gbc.pc(), 0xc124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc123), 0xc8);
        // C8 0164
        gbc.setState(0xa025, 0x6cb7, 0xfec0, 0xa8f5, 0x6b1f, 0xc615, 0x1, 0x1);
        gbc.writeMem(0x6cb7, { 0x2a, 0x3 });
        gbc.writeMem(0xa025, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6cb9);
        EXPECT(gbc.pc(), 0x32a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa025), 0xc8);
        // C8 0165
        gbc.setState(0xdd5d, 0x757, 0x9a00, 0xe5fe, 0x7f63, 0x3ed6, 0x0, 0x0);
        gbc.writeMem(0xdd5d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x757);
        EXPECT(gbc.pc(), 0xdd5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd5d), 0xc8);
        // C8 0166
        gbc.setState(0x72b3, 0xff81, 0x6960, 0x6e0, 0xd2f1, 0x27b3, 0x0, 0x1);
        gbc.writeMem(0x72b3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xff81);
        EXPECT(gbc.pc(), 0x72b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0167
        gbc.setState(0xef49, 0xa475, 0x50, 0x714c, 0xc243, 0xfd11, 0x0, 0x1);
        gbc.writeMem(0xef49, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xa475);
        EXPECT(gbc.pc(), 0xef4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef49), 0xc8);
        // C8 0168
        gbc.setState(0xa878, 0xa94c, 0x4030, 0x10f1, 0xab24, 0xc561, 0x1, 0x0);
        gbc.writeMem(0xa878, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa94c);
        EXPECT(gbc.pc(), 0xa879);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa878), 0xc8);
        // C8 0169
        gbc.setState(0x4468, 0xcd22, 0x4a20, 0x1031, 0xd729, 0x861d, 0x0, 0x1);
        gbc.writeMem(0x4468, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcd22);
        EXPECT(gbc.pc(), 0x4469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 016A
        gbc.setState(0x7bff, 0x47b0, 0x7050, 0x78de, 0xdebb, 0x60e3, 0x1, 0x1);
        gbc.writeMem(0x7bff, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x47b0);
        EXPECT(gbc.pc(), 0x7c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 016B
        gbc.setState(0xc4c0, 0xaf5, 0x2f90, 0xd027, 0x254c, 0xd541, 0x0, 0x0);
        gbc.writeMem(0xaf5, { 0xb4, 0x43 });
        gbc.writeMem(0xc4c0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xaf7);
        EXPECT(gbc.pc(), 0x43b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c0), 0xc8);
        // C8 016C
        gbc.setState(0x3bca, 0x8b27, 0xc30, 0x9900, 0x31eb, 0x7d0b, 0x0, 0x1);
        gbc.writeMem(0x3bca, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8b27);
        EXPECT(gbc.pc(), 0x3bcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 016D
        gbc.setState(0xcc77, 0x2208, 0xf0a0, 0xf9b3, 0xc090, 0x2249, 0x1, 0x1);
        gbc.writeMem(0x2208, { 0x23, 0xf1 });
        gbc.writeMem(0xcc77, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x220a);
        EXPECT(gbc.pc(), 0xf123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc77), 0xc8);
        // C8 016E
        gbc.setState(0xea82, 0xbbf7, 0xab00, 0xc3fc, 0x8470, 0x4d84, 0x1, 0x1);
        gbc.writeMem(0xea82, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xbbf7);
        EXPECT(gbc.pc(), 0xea83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea82), 0xc8);
        // C8 016F
        gbc.setState(0xb67e, 0xb440, 0x12b0, 0xf5e2, 0xac12, 0xd9ec, 0x0, 0x1);
        gbc.writeMem(0xb440, { 0xf2, 0xce });
        gbc.writeMem(0xb67e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xb442);
        EXPECT(gbc.pc(), 0xcef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb440), 0xf2);
        EXPECT(gbc.readMem(0xb441), 0xce);
        EXPECT(gbc.readMem(0xb67e), 0xc8);
        // C8 0171
        gbc.setState(0xe1fb, 0xbf8, 0xd200, 0x3829, 0x4364, 0x8003, 0x1, 0x0);
        gbc.writeMem(0xe1fb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xbf8);
        EXPECT(gbc.pc(), 0xe1fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1fb), 0xc8);
        // C8 0172
        gbc.setState(0xa0f7, 0x79b8, 0x7510, 0x1672, 0xa0c2, 0x8877, 0x0, 0x1);
        gbc.writeMem(0xa0f7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x79b8);
        EXPECT(gbc.pc(), 0xa0f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0f7), 0xc8);
        // C8 0173
        gbc.setState(0x9f9d, 0xb477, 0x78e0, 0x8297, 0xd6cd, 0xe361, 0x0, 0x0);
        gbc.writeMem(0x9f9d, { 0xc8 });
        gbc.writeMem(0xb477, { 0x2, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb479);
        EXPECT(gbc.pc(), 0x5c02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f9d), 0xc8);
        EXPECT(gbc.readMem(0xb477), 0x2);
        EXPECT(gbc.readMem(0xb478), 0x5c);
        // C8 0174
        gbc.setState(0x4d6d, 0xd867, 0x1bf0, 0x1812, 0xaaeb, 0xefc1, 0x0, 0x1);
        gbc.writeMem(0x4d6d, { 0xc8 });
        gbc.writeMem(0xd867, { 0x81, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd869);
        EXPECT(gbc.pc(), 0xfd81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd867), 0x81);
        EXPECT(gbc.readMem(0xd868), 0xfd);
        // C8 0175
        gbc.setState(0xb9ca, 0x3470, 0x1250, 0x52f9, 0x6008, 0x6543, 0x0, 0x1);
        gbc.writeMem(0xb9ca, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3470);
        EXPECT(gbc.pc(), 0xb9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ca), 0xc8);
        // C8 0176
        gbc.setState(0x6738, 0xd616, 0xacd0, 0xe018, 0x9cf9, 0xe981, 0x1, 0x1);
        gbc.writeMem(0x6738, { 0xc8 });
        gbc.writeMem(0xd616, { 0x53, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd618);
        EXPECT(gbc.pc(), 0x2253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd616), 0x53);
        EXPECT(gbc.readMem(0xd617), 0x22);
        // C8 0177
        gbc.setState(0x59f1, 0x4b27, 0x1a20, 0xb96a, 0xc392, 0xbfe9, 0x0, 0x0);
        gbc.writeMem(0x59f1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4b27);
        EXPECT(gbc.pc(), 0x59f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0178
        gbc.setState(0x1986, 0x1183, 0x2930, 0x3465, 0x9cf6, 0x1878, 0x0, 0x0);
        gbc.writeMem(0x1986, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x1183);
        EXPECT(gbc.pc(), 0x1987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0179
        gbc.setState(0x1538, 0xa2f2, 0xd310, 0xf070, 0x340d, 0xac09, 0x0, 0x1);
        gbc.writeMem(0x1538, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa2f2);
        EXPECT(gbc.pc(), 0x1539);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 017A
        gbc.setState(0x433, 0xb4c8, 0xc950, 0x3ff7, 0x6fd4, 0x92a8, 0x0, 0x0);
        gbc.writeMem(0x433, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xb4c8);
        EXPECT(gbc.pc(), 0x434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 017B
        gbc.setState(0x33e4, 0xee3c, 0xfcc0, 0x7e44, 0x6276, 0xd502, 0x0, 0x1);
        gbc.writeMem(0x33e4, { 0xc8 });
        gbc.writeMem(0xee3c, { 0x7b, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xee3e);
        EXPECT(gbc.pc(), 0x417b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee3c), 0x7b);
        EXPECT(gbc.readMem(0xee3d), 0x41);
        // C8 017C
        gbc.setState(0x71dd, 0x3f03, 0xd00, 0x900f, 0xe3c6, 0xb908, 0x0, 0x1);
        gbc.writeMem(0x71dd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3f03);
        EXPECT(gbc.pc(), 0x71de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 017D
        gbc.setState(0x2e5c, 0x1b29, 0xb2b0, 0x67b2, 0x992c, 0xa8c7, 0x1, 0x1);
        gbc.writeMem(0x1b29, { 0xea, 0xd8 });
        gbc.writeMem(0x2e5c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1b2b);
        EXPECT(gbc.pc(), 0xd8ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 017E
        gbc.setState(0x7ffa, 0xbbc7, 0x43b0, 0x549e, 0xdeac, 0x2faa, 0x0, 0x1);
        gbc.writeMem(0x7ffa, { 0xc8 });
        gbc.writeMem(0xbbc7, { 0xd2, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xbbc9);
        EXPECT(gbc.pc(), 0x1bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbc7), 0xd2);
        EXPECT(gbc.readMem(0xbbc8), 0x1b);
        // C8 017F
        gbc.setState(0x8ce8, 0x5488, 0xa330, 0x600f, 0xb2e2, 0x52fb, 0x1, 0x0);
        gbc.writeMem(0x8ce8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5488);
        EXPECT(gbc.pc(), 0x8ce9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ce8), 0xc8);
        // C8 0180
        gbc.setState(0x788d, 0xaad3, 0xeb60, 0x84d3, 0x1c5c, 0x81a, 0x1, 0x0);
        gbc.writeMem(0x788d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xaad3);
        EXPECT(gbc.pc(), 0x788e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0182
        gbc.setState(0x290a, 0xbd98, 0x1960, 0xfcbb, 0x9442, 0x6251, 0x1, 0x1);
        gbc.writeMem(0x290a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xbd98);
        EXPECT(gbc.pc(), 0x290b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0183
        gbc.setState(0x8864, 0x7f80, 0xd0e0, 0xac92, 0x88fd, 0x10e8, 0x1, 0x1);
        gbc.writeMem(0x7f80, { 0xc1, 0xaf });
        gbc.writeMem(0x8864, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x7f82);
        EXPECT(gbc.pc(), 0xafc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8864), 0xc8);
        // C8 0184
        gbc.setState(0x7479, 0x976b, 0x5f20, 0xb7d9, 0x741f, 0xc7e4, 0x0, 0x1);
        gbc.writeMem(0x7479, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x976b);
        EXPECT(gbc.pc(), 0x747a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0185
        gbc.setState(0x3dd1, 0xdc8d, 0xbf00, 0xf165, 0x7b55, 0x1060, 0x1, 0x0);
        gbc.writeMem(0x3dd1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xdc8d);
        EXPECT(gbc.pc(), 0x3dd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0186
        gbc.setState(0xc512, 0x89c7, 0xecd0, 0xcf4f, 0x70aa, 0xb89c, 0x1, 0x0);
        gbc.writeMem(0x89c7, { 0x4a, 0xf4 });
        gbc.writeMem(0xc512, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x89c9);
        EXPECT(gbc.pc(), 0xf44a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89c7), 0x4a);
        EXPECT(gbc.readMem(0x89c8), 0xf4);
        EXPECT(gbc.readMem(0xc512), 0xc8);
        // C8 0187
        gbc.setState(0xc11a, 0xe57d, 0x8220, 0xe967, 0xa04, 0x6f20, 0x0, 0x0);
        gbc.writeMem(0xc11a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe57d);
        EXPECT(gbc.pc(), 0xc11b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11a), 0xc8);
        // C8 0188
        gbc.setState(0x2a39, 0xe2a6, 0x9680, 0xb20f, 0xd69b, 0x6133, 0x0, 0x0);
        gbc.writeMem(0x2a39, { 0xc8 });
        gbc.writeMem(0xe2a6, { 0xb9, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe2a8);
        EXPECT(gbc.pc(), 0xe8b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a6), 0xb9);
        EXPECT(gbc.readMem(0xe2a7), 0xe8);
        // C8 0189
        gbc.setState(0xd647, 0x467c, 0xf860, 0xd12a, 0x5e8f, 0x4f87, 0x0, 0x0);
        gbc.writeMem(0xd647, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x467c);
        EXPECT(gbc.pc(), 0xd648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd647), 0xc8);
        // C8 018A
        gbc.setState(0x97e0, 0x555, 0xdf50, 0xb5e2, 0xed07, 0xe139, 0x0, 0x0);
        gbc.writeMem(0x97e0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x555);
        EXPECT(gbc.pc(), 0x97e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e0), 0xc8);
        // C8 018D
        gbc.setState(0xbffc, 0x3464, 0x4440, 0x6276, 0xfc4d, 0x852, 0x0, 0x0);
        gbc.writeMem(0xbffc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3464);
        EXPECT(gbc.pc(), 0xbffd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbffc), 0xc8);
        // C8 018E
        gbc.setState(0xcbe0, 0xe8d0, 0x8ae0, 0xbf67, 0x1393, 0x883d, 0x1, 0x0);
        gbc.writeMem(0xcbe0, { 0xc8 });
        gbc.writeMem(0xe8d0, { 0xc8, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe8d2);
        EXPECT(gbc.pc(), 0xbc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe0), 0xc8);
        EXPECT(gbc.readMem(0xe8d0), 0xc8);
        EXPECT(gbc.readMem(0xe8d1), 0xb);
        // C8 018F
        gbc.setState(0xb3b0, 0x432f, 0x4ef0, 0x506f, 0x9bbb, 0xbe71, 0x0, 0x1);
        gbc.writeMem(0x432f, { 0x9e, 0xa9 });
        gbc.writeMem(0xb3b0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x4331);
        EXPECT(gbc.pc(), 0xa99e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b0), 0xc8);
        // C8 0190
        gbc.setState(0xa7c2, 0xb109, 0xe290, 0xa8b9, 0x2ca6, 0xf4ca, 0x1, 0x1);
        gbc.writeMem(0xa7c2, { 0xc8 });
        gbc.writeMem(0xb109, { 0xfc, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb10b);
        EXPECT(gbc.pc(), 0x8bfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7c2), 0xc8);
        EXPECT(gbc.readMem(0xb109), 0xfc);
        EXPECT(gbc.readMem(0xb10a), 0x8b);
        // C8 0191
        gbc.setState(0xa2dd, 0x435d, 0x90d0, 0x44e5, 0xd3b0, 0x48e2, 0x1, 0x1);
        gbc.writeMem(0x435d, { 0xa2, 0x8e });
        gbc.writeMem(0xa2dd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x435f);
        EXPECT(gbc.pc(), 0x8ea2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2dd), 0xc8);
        // C8 0192
        gbc.setState(0x9a2d, 0xcf98, 0xfed0, 0x1e24, 0x43ad, 0x2ea9, 0x1, 0x0);
        gbc.writeMem(0x9a2d, { 0xc8 });
        gbc.writeMem(0xcf98, { 0x2c, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcf9a);
        EXPECT(gbc.pc(), 0x712c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a2d), 0xc8);
        EXPECT(gbc.readMem(0xcf98), 0x2c);
        EXPECT(gbc.readMem(0xcf99), 0x71);
        // C8 0193
        gbc.setState(0x88f0, 0x5788, 0xfca0, 0xed4d, 0x6325, 0x244e, 0x0, 0x1);
        gbc.writeMem(0x5788, { 0xc4, 0x11 });
        gbc.writeMem(0x88f0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x578a);
        EXPECT(gbc.pc(), 0x11c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88f0), 0xc8);
        // C8 0195
        gbc.setState(0xb4a9, 0xf448, 0x29d0, 0x3964, 0xbe6d, 0x660d, 0x0, 0x0);
        gbc.writeMem(0xb4a9, { 0xc8 });
        gbc.writeMem(0xf448, { 0x5a, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf44a);
        EXPECT(gbc.pc(), 0x8f5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4a9), 0xc8);
        EXPECT(gbc.readMem(0xf448), 0x5a);
        EXPECT(gbc.readMem(0xf449), 0x8f);
        // C8 0196
        gbc.setState(0x7b3b, 0x4572, 0x8610, 0xb94f, 0x2269, 0x3604, 0x0, 0x1);
        gbc.writeMem(0x7b3b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4572);
        EXPECT(gbc.pc(), 0x7b3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0197
        gbc.setState(0xac40, 0xfa61, 0x5d80, 0x2f2d, 0x5d1d, 0x22df, 0x0, 0x1);
        gbc.writeMem(0xac40, { 0xc8 });
        gbc.writeMem(0xfa61, { 0x73, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xfa63);
        EXPECT(gbc.pc(), 0xd473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac40), 0xc8);
        EXPECT(gbc.readMem(0xfa61), 0x73);
        EXPECT(gbc.readMem(0xfa62), 0xd4);
        // C8 0198
        gbc.setState(0xaa44, 0x21d3, 0xe310, 0x1f6d, 0xd850, 0x974, 0x0, 0x0);
        gbc.writeMem(0xaa44, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x21d3);
        EXPECT(gbc.pc(), 0xaa45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa44), 0xc8);
        // C8 0199
        gbc.setState(0x116d, 0xe395, 0x2180, 0xd88d, 0xd997, 0x967f, 0x0, 0x1);
        gbc.writeMem(0x116d, { 0xc8 });
        gbc.writeMem(0xe395, { 0x5e, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe397);
        EXPECT(gbc.pc(), 0x685e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe395), 0x5e);
        EXPECT(gbc.readMem(0xe396), 0x68);
        // C8 019A
        gbc.setState(0xb06, 0xc51e, 0x2500, 0xec59, 0xafc6, 0x3c9e, 0x1, 0x0);
        gbc.writeMem(0xb06, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc51e);
        EXPECT(gbc.pc(), 0xb07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 019B
        gbc.setState(0x170d, 0xdb05, 0xeb60, 0x6a0d, 0xd0c4, 0x701b, 0x0, 0x0);
        gbc.writeMem(0x170d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xdb05);
        EXPECT(gbc.pc(), 0x170e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 019C
        gbc.setState(0x1ca7, 0x4845, 0x6290, 0xdaf6, 0xbbeb, 0xc81e, 0x1, 0x0);
        gbc.writeMem(0x1ca7, { 0xc8 });
        gbc.writeMem(0x4845, { 0xd3, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4847);
        EXPECT(gbc.pc(), 0xc6d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 019D
        gbc.setState(0x7e61, 0x8aee, 0x6560, 0x5ccb, 0xdd48, 0xcd17, 0x0, 0x1);
        gbc.writeMem(0x7e61, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8aee);
        EXPECT(gbc.pc(), 0x7e62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 019E
        gbc.setState(0xc1ea, 0x5244, 0x6c70, 0xa078, 0xe9db, 0x5bf4, 0x1, 0x0);
        gbc.writeMem(0xc1ea, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5244);
        EXPECT(gbc.pc(), 0xc1eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1ea), 0xc8);
        // C8 019F
        gbc.setState(0xb46a, 0xd96d, 0xaa30, 0xc4a4, 0x6738, 0x1128, 0x0, 0x1);
        gbc.writeMem(0xb46a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xd96d);
        EXPECT(gbc.pc(), 0xb46b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46a), 0xc8);
        // C8 01A0
        gbc.setState(0x623a, 0x2c9a, 0xf800, 0x1d6f, 0x7763, 0xad6d, 0x0, 0x1);
        gbc.writeMem(0x623a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x2c9a);
        EXPECT(gbc.pc(), 0x623b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01A1
        gbc.setState(0x334c, 0x90bc, 0xebc0, 0x1c12, 0xf8c, 0xda4e, 0x0, 0x1);
        gbc.writeMem(0x334c, { 0xc8 });
        gbc.writeMem(0x90bc, { 0xb4, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x90be);
        EXPECT(gbc.pc(), 0xab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90bc), 0xb4);
        EXPECT(gbc.readMem(0x90bd), 0xa);
        // C8 01A2
        gbc.setState(0x9a83, 0x2cd9, 0x5740, 0xa309, 0xafb8, 0x7bef, 0x1, 0x0);
        gbc.writeMem(0x9a83, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2cd9);
        EXPECT(gbc.pc(), 0x9a84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a83), 0xc8);
        // C8 01A3
        gbc.setState(0x1a1b, 0xc897, 0x45f0, 0x66bf, 0xcf1, 0x1b8b, 0x1, 0x0);
        gbc.writeMem(0x1a1b, { 0xc8 });
        gbc.writeMem(0xc897, { 0xbe, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xc899);
        EXPECT(gbc.pc(), 0x43be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc897), 0xbe);
        EXPECT(gbc.readMem(0xc898), 0x43);
        // C8 01A4
        gbc.setState(0xd27a, 0x428f, 0xd040, 0x2f29, 0xce36, 0x3dd2, 0x1, 0x0);
        gbc.writeMem(0xd27a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x428f);
        EXPECT(gbc.pc(), 0xd27b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd27a), 0xc8);
        // C8 01A5
        gbc.setState(0xa914, 0x1c6f, 0x6b90, 0x83b9, 0xb4ff, 0x1c3, 0x0, 0x0);
        gbc.writeMem(0x1c6f, { 0xbc, 0xef });
        gbc.writeMem(0xa914, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1c71);
        EXPECT(gbc.pc(), 0xefbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa914), 0xc8);
        // C8 01A7
        gbc.setState(0x5b8, 0xc14d, 0x6c90, 0x1f9b, 0xa7ad, 0xf8d0, 0x0, 0x0);
        gbc.writeMem(0x5b8, { 0xc8 });
        gbc.writeMem(0xc14d, { 0x9f, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc14f);
        EXPECT(gbc.pc(), 0xae9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc14d), 0x9f);
        EXPECT(gbc.readMem(0xc14e), 0xae);
        // C8 01A8
        gbc.setState(0xce1a, 0x96ce, 0x720, 0x13d2, 0xdb9f, 0xdc28, 0x0, 0x0);
        gbc.writeMem(0xce1a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x96ce);
        EXPECT(gbc.pc(), 0xce1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce1a), 0xc8);
        // C8 01AA
        gbc.setState(0xee8c, 0xa8d2, 0x6910, 0x860b, 0x4e2d, 0xba6, 0x0, 0x1);
        gbc.writeMem(0xee8c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa8d2);
        EXPECT(gbc.pc(), 0xee8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee8c), 0xc8);
        // C8 01AB
        gbc.setState(0xd4f5, 0x8f89, 0xdba0, 0x2e1b, 0x527c, 0x26bb, 0x1, 0x0);
        gbc.writeMem(0x8f89, { 0x45, 0x7c });
        gbc.writeMem(0xd4f5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x8f8b);
        EXPECT(gbc.pc(), 0x7c45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f89), 0x45);
        EXPECT(gbc.readMem(0x8f8a), 0x7c);
        EXPECT(gbc.readMem(0xd4f5), 0xc8);
        // C8 01AC
        gbc.setState(0x1f9a, 0x9427, 0x8570, 0x5a32, 0xee2b, 0x98bc, 0x1, 0x1);
        gbc.writeMem(0x1f9a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x9427);
        EXPECT(gbc.pc(), 0x1f9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01AD
        gbc.setState(0x2f7a, 0x9a70, 0xb5c0, 0x5e17, 0x978e, 0x9d33, 0x0, 0x1);
        gbc.writeMem(0x2f7a, { 0xc8 });
        gbc.writeMem(0x9a70, { 0xd2, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9a72);
        EXPECT(gbc.pc(), 0x8bd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a70), 0xd2);
        EXPECT(gbc.readMem(0x9a71), 0x8b);
        // C8 01AE
        gbc.setState(0xc42, 0xea77, 0xfc60, 0x38ed, 0x706c, 0x2bb1, 0x0, 0x0);
        gbc.writeMem(0xc42, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xea77);
        EXPECT(gbc.pc(), 0xc43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01AF
        gbc.setState(0xe2f1, 0x8e1, 0x49b0, 0xe5f3, 0x516e, 0x17fe, 0x0, 0x1);
        gbc.writeMem(0x8e1, { 0xb0, 0x27 });
        gbc.writeMem(0xe2f1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x8e3);
        EXPECT(gbc.pc(), 0x27b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2f1), 0xc8);
        // C8 01B0
        gbc.setState(0xd592, 0x41c9, 0x1fc0, 0x668d, 0x59d4, 0xfd29, 0x1, 0x1);
        gbc.writeMem(0x41c9, { 0x2e, 0xcc });
        gbc.writeMem(0xd592, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x41cb);
        EXPECT(gbc.pc(), 0xcc2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd592), 0xc8);
        // C8 01B1
        gbc.setState(0xce8e, 0xa615, 0x9ac0, 0x4072, 0x4ce6, 0x7220, 0x0, 0x1);
        gbc.writeMem(0xa615, { 0x92, 0x72 });
        gbc.writeMem(0xce8e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa617);
        EXPECT(gbc.pc(), 0x7292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa615), 0x92);
        EXPECT(gbc.readMem(0xa616), 0x72);
        EXPECT(gbc.readMem(0xce8e), 0xc8);
        // C8 01B2
        gbc.setState(0x2f12, 0xe0a3, 0x6910, 0x30d6, 0xbf68, 0xfb40, 0x0, 0x1);
        gbc.writeMem(0x2f12, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe0a3);
        EXPECT(gbc.pc(), 0x2f13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01B3
        gbc.setState(0xa9ab, 0x84ab, 0xfb00, 0xda78, 0xddf0, 0xcdcf, 0x1, 0x1);
        gbc.writeMem(0xa9ab, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x84ab);
        EXPECT(gbc.pc(), 0xa9ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9ab), 0xc8);
        // C8 01B4
        gbc.setState(0x387c, 0x5ccc, 0x37b0, 0xa66a, 0xfdeb, 0x13c1, 0x0, 0x0);
        gbc.writeMem(0x387c, { 0xc8 });
        gbc.writeMem(0x5ccc, { 0xae, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5cce);
        EXPECT(gbc.pc(), 0x4bae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01B5
        gbc.setState(0xb85a, 0x8a3d, 0xcd30, 0x97bd, 0xdda4, 0x3a9b, 0x0, 0x1);
        gbc.writeMem(0xb85a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8a3d);
        EXPECT(gbc.pc(), 0xb85b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb85a), 0xc8);
        // C8 01B6
        gbc.setState(0xeb1e, 0x5b3e, 0xcac0, 0x54ec, 0x305a, 0xba8b, 0x1, 0x1);
        gbc.writeMem(0x5b3e, { 0x4a, 0x32 });
        gbc.writeMem(0xeb1e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x5b40);
        EXPECT(gbc.pc(), 0x324a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb1e), 0xc8);
        // C8 01B7
        gbc.setState(0xb0b8, 0x5dcb, 0x6a80, 0x260c, 0xc94b, 0x675c, 0x0, 0x0);
        gbc.writeMem(0x5dcb, { 0x30, 0xe6 });
        gbc.writeMem(0xb0b8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5dcd);
        EXPECT(gbc.pc(), 0xe630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0b8), 0xc8);
        // C8 01B8
        gbc.setState(0x1888, 0x65f3, 0x2f0, 0xef98, 0x6b15, 0xf13d, 0x0, 0x1);
        gbc.writeMem(0x1888, { 0xc8 });
        gbc.writeMem(0x65f3, { 0x2, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x65f5);
        EXPECT(gbc.pc(), 0x6302);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01B9
        gbc.setState(0xd955, 0xfc83, 0x52e0, 0xc9f, 0xd215, 0xc203, 0x0, 0x1);
        gbc.writeMem(0xd955, { 0xc8 });
        gbc.writeMem(0xfc83, { 0x77, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfc85);
        EXPECT(gbc.pc(), 0xb277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd955), 0xc8);
        EXPECT(gbc.readMem(0xfc83), 0x77);
        EXPECT(gbc.readMem(0xfc84), 0xb2);
        // C8 01BA
        gbc.setState(0xc1bd, 0xba9c, 0x1630, 0x9271, 0xf9cf, 0x6ce8, 0x1, 0x0);
        gbc.writeMem(0xc1bd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xba9c);
        EXPECT(gbc.pc(), 0xc1be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1bd), 0xc8);
        // C8 01BB
        gbc.setState(0x2bb6, 0x2bac, 0xa460, 0xb216, 0x79a2, 0x2f72, 0x1, 0x1);
        gbc.writeMem(0x2bb6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x2bac);
        EXPECT(gbc.pc(), 0x2bb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01BC
        gbc.setState(0xa768, 0x4c0a, 0x5350, 0x9847, 0x6afd, 0xc87e, 0x1, 0x1);
        gbc.writeMem(0xa768, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4c0a);
        EXPECT(gbc.pc(), 0xa769);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa768), 0xc8);
        // C8 01BD
        gbc.setState(0x9166, 0x47d7, 0xc100, 0x2eef, 0x9a5d, 0xbf27, 0x1, 0x0);
        gbc.writeMem(0x9166, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x47d7);
        EXPECT(gbc.pc(), 0x9167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9166), 0xc8);
        // C8 01BE
        gbc.setState(0x1cd2, 0xb971, 0x2d60, 0x269b, 0x7fad, 0xa4af, 0x0, 0x0);
        gbc.writeMem(0x1cd2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb971);
        EXPECT(gbc.pc(), 0x1cd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01BF
        gbc.setState(0x4af6, 0xc491, 0xf760, 0x955c, 0x4768, 0x839f, 0x0, 0x0);
        gbc.writeMem(0x4af6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc491);
        EXPECT(gbc.pc(), 0x4af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01C0
        gbc.setState(0x3702, 0x97db, 0xd870, 0x950c, 0xbf71, 0x57db, 0x0, 0x0);
        gbc.writeMem(0x3702, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x97db);
        EXPECT(gbc.pc(), 0x3703);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01C1
        gbc.setState(0x9431, 0xc05b, 0x37b0, 0x37ec, 0x6881, 0xecc4, 0x1, 0x0);
        gbc.writeMem(0x9431, { 0xc8 });
        gbc.writeMem(0xc05b, { 0x67, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc05d);
        EXPECT(gbc.pc(), 0xb067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9431), 0xc8);
        EXPECT(gbc.readMem(0xc05b), 0x67);
        EXPECT(gbc.readMem(0xc05c), 0xb0);
        // C8 01C2
        gbc.setState(0x4498, 0xa048, 0x3e20, 0xe8c4, 0x35ad, 0xd8b, 0x1, 0x1);
        gbc.writeMem(0x4498, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa048);
        EXPECT(gbc.pc(), 0x4499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01C3
        gbc.setState(0xc0a0, 0xb39f, 0x3c10, 0x6077, 0xb96d, 0x34d5, 0x0, 0x0);
        gbc.writeMem(0xc0a0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb39f);
        EXPECT(gbc.pc(), 0xc0a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a0), 0xc8);
        // C8 01C4
        gbc.setState(0xe1d1, 0xd408, 0xa350, 0x5586, 0x8cd6, 0xbfab, 0x0, 0x0);
        gbc.writeMem(0xe1d1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xd408);
        EXPECT(gbc.pc(), 0xe1d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d1), 0xc8);
        // C8 01C5
        gbc.setState(0xda1b, 0x71a7, 0x6aa0, 0x1236, 0xa9f8, 0xf711, 0x1, 0x1);
        gbc.writeMem(0x71a7, { 0x19, 0x75 });
        gbc.writeMem(0xda1b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x71a9);
        EXPECT(gbc.pc(), 0x7519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda1b), 0xc8);
        // C8 01C6
        gbc.setState(0x3f79, 0x83d6, 0x4fd0, 0x2a77, 0xb5fc, 0xbadb, 0x0, 0x1);
        gbc.writeMem(0x3f79, { 0xc8 });
        gbc.writeMem(0x83d6, { 0x79, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x83d8);
        EXPECT(gbc.pc(), 0xa379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83d6), 0x79);
        EXPECT(gbc.readMem(0x83d7), 0xa3);
        // C8 01C7
        gbc.setState(0x7a35, 0xe1b6, 0xdcd0, 0xec62, 0x4184, 0x7e52, 0x0, 0x0);
        gbc.writeMem(0x7a35, { 0xc8 });
        gbc.writeMem(0xe1b6, { 0x9b, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xe1b8);
        EXPECT(gbc.pc(), 0xba9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1b6), 0x9b);
        EXPECT(gbc.readMem(0xe1b7), 0xba);
        // C8 01C8
        gbc.setState(0xdc8d, 0x7aaa, 0x2980, 0xf032, 0x4754, 0x4938, 0x0, 0x0);
        gbc.writeMem(0x7aaa, { 0xc8, 0xf9 });
        gbc.writeMem(0xdc8d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7aac);
        EXPECT(gbc.pc(), 0xf9c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc8d), 0xc8);
        // C8 01C9
        gbc.setState(0xb838, 0x4e20, 0xde00, 0x72c3, 0xe656, 0x1b0, 0x0, 0x0);
        gbc.writeMem(0xb838, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4e20);
        EXPECT(gbc.pc(), 0xb839);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb838), 0xc8);
        // C8 01CA
        gbc.setState(0x4da9, 0x6b4a, 0x6700, 0x388e, 0xe789, 0x2b78, 0x1, 0x1);
        gbc.writeMem(0x4da9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x6b4a);
        EXPECT(gbc.pc(), 0x4daa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01CB
        gbc.setState(0xaf58, 0xcfd6, 0xc5f0, 0x4074, 0xa996, 0x2a4b, 0x0, 0x1);
        gbc.writeMem(0xaf58, { 0xc8 });
        gbc.writeMem(0xcfd6, { 0x11, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xcfd8);
        EXPECT(gbc.pc(), 0x9111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf58), 0xc8);
        EXPECT(gbc.readMem(0xcfd6), 0x11);
        EXPECT(gbc.readMem(0xcfd7), 0x91);
        // C8 01CC
        gbc.setState(0xcd12, 0xb67c, 0x94d0, 0x772, 0x9077, 0x2c24, 0x0, 0x0);
        gbc.writeMem(0xb67c, { 0xa7, 0x6a });
        gbc.writeMem(0xcd12, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xb67e);
        EXPECT(gbc.pc(), 0x6aa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb67c), 0xa7);
        EXPECT(gbc.readMem(0xb67d), 0x6a);
        EXPECT(gbc.readMem(0xcd12), 0xc8);
        // C8 01CD
        gbc.setState(0x68e5, 0xb329, 0x8cd0, 0x9386, 0xbbd2, 0xbe90, 0x1, 0x1);
        gbc.writeMem(0x68e5, { 0xc8 });
        gbc.writeMem(0xb329, { 0xc7, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb32b);
        EXPECT(gbc.pc(), 0xbcc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb329), 0xc7);
        EXPECT(gbc.readMem(0xb32a), 0xbc);
        // C8 01CE
        gbc.setState(0x3c15, 0xfc0, 0x7830, 0x8afd, 0xf8dc, 0x9659, 0x1, 0x0);
        gbc.writeMem(0x3c15, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xfc0);
        EXPECT(gbc.pc(), 0x3c16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01CF
        gbc.setState(0x50a8, 0x12b6, 0x1800, 0x4354, 0x723d, 0x44a0, 0x0, 0x0);
        gbc.writeMem(0x50a8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x12b6);
        EXPECT(gbc.pc(), 0x50a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01D0
        gbc.setState(0x2b74, 0xb05e, 0x90d0, 0x6ecc, 0x1bda, 0xc260, 0x0, 0x0);
        gbc.writeMem(0x2b74, { 0xc8 });
        gbc.writeMem(0xb05e, { 0xd5, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb060);
        EXPECT(gbc.pc(), 0xfad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05e), 0xd5);
        EXPECT(gbc.readMem(0xb05f), 0xfa);
        // C8 01D1
        gbc.setState(0x8d06, 0x6609, 0x50c0, 0x37b5, 0xc4f8, 0xbb94, 0x1, 0x0);
        gbc.writeMem(0x6609, { 0x87, 0xf9 });
        gbc.writeMem(0x8d06, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x660b);
        EXPECT(gbc.pc(), 0xf987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d06), 0xc8);
        // C8 01D2
        gbc.setState(0x7233, 0x2ec8, 0xdda0, 0x2753, 0xeba9, 0xbdc0, 0x1, 0x1);
        gbc.writeMem(0x2ec8, { 0xe8, 0x1d });
        gbc.writeMem(0x7233, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2eca);
        EXPECT(gbc.pc(), 0x1de8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01D3
        gbc.setState(0x991d, 0x4685, 0x76a0, 0x4add, 0x5da6, 0xb8b3, 0x0, 0x0);
        gbc.writeMem(0x4685, { 0x67, 0xe3 });
        gbc.writeMem(0x991d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4687);
        EXPECT(gbc.pc(), 0xe367);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x991d), 0xc8);
        // C8 01D4
        gbc.setState(0x1145, 0x5a4c, 0x98c0, 0x99f, 0xe0b1, 0x6f1, 0x0, 0x1);
        gbc.writeMem(0x1145, { 0xc8 });
        gbc.writeMem(0x5a4c, { 0x1a, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x5a4e);
        EXPECT(gbc.pc(), 0x8b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01D5
        gbc.setState(0xc65, 0x18b1, 0x7190, 0x95bd, 0xf594, 0xb174, 0x0, 0x1);
        gbc.writeMem(0xc65, { 0xc8 });
        gbc.writeMem(0x18b1, { 0x79, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x18b3);
        EXPECT(gbc.pc(), 0x5379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01D6
        gbc.setState(0xb063, 0x20c5, 0x8960, 0x666f, 0x3c77, 0x83c7, 0x1, 0x0);
        gbc.writeMem(0xb063, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x20c5);
        EXPECT(gbc.pc(), 0xb064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb063), 0xc8);
        // C8 01D8
        gbc.setState(0x36f7, 0x9e4, 0x12f0, 0xd6f8, 0x55c4, 0xe140, 0x1, 0x1);
        gbc.writeMem(0x9e4, { 0x56, 0xb3 });
        gbc.writeMem(0x36f7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x9e6);
        EXPECT(gbc.pc(), 0xb356);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01D9
        gbc.setState(0xbb20, 0xc518, 0x6a40, 0x7f59, 0x6f60, 0xc3eb, 0x0, 0x1);
        gbc.writeMem(0xbb20, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xc518);
        EXPECT(gbc.pc(), 0xbb21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb20), 0xc8);
        // C8 01DA
        gbc.setState(0x3c06, 0xb4ba, 0xbe80, 0x9200, 0x6caf, 0x43f4, 0x1, 0x0);
        gbc.writeMem(0x3c06, { 0xc8 });
        gbc.writeMem(0xb4ba, { 0x4c, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb4bc);
        EXPECT(gbc.pc(), 0x5a4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ba), 0x4c);
        EXPECT(gbc.readMem(0xb4bb), 0x5a);
        // C8 01DB
        gbc.setState(0x68c2, 0x3e9a, 0xc210, 0x8ede, 0x4706, 0x426f, 0x0, 0x0);
        gbc.writeMem(0x68c2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3e9a);
        EXPECT(gbc.pc(), 0x68c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01DC
        gbc.setState(0x2188, 0xa315, 0x2cf0, 0x49b2, 0x4119, 0xd200, 0x1, 0x1);
        gbc.writeMem(0x2188, { 0xc8 });
        gbc.writeMem(0xa315, { 0xb0, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xa317);
        EXPECT(gbc.pc(), 0x97b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa315), 0xb0);
        EXPECT(gbc.readMem(0xa316), 0x97);
        // C8 01DD
        gbc.setState(0x39d8, 0x72e0, 0xe850, 0xa97e, 0x9b59, 0x5615, 0x1, 0x1);
        gbc.writeMem(0x39d8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x72e0);
        EXPECT(gbc.pc(), 0x39d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01DE
        gbc.setState(0x382a, 0x967a, 0x6570, 0xde54, 0x96ca, 0x96c1, 0x0, 0x0);
        gbc.writeMem(0x382a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x967a);
        EXPECT(gbc.pc(), 0x382b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01DF
        gbc.setState(0x8349, 0x4b3d, 0xc760, 0x95ae, 0xb8be, 0xe1f9, 0x1, 0x0);
        gbc.writeMem(0x8349, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4b3d);
        EXPECT(gbc.pc(), 0x834a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8349), 0xc8);
        // C8 01E0
        gbc.setState(0x148b, 0xbb2, 0x9f80, 0x395a, 0x117, 0xf4bf, 0x1, 0x1);
        gbc.writeMem(0xbb2, { 0xfa, 0xc6 });
        gbc.writeMem(0x148b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xbb4);
        EXPECT(gbc.pc(), 0xc6fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01E1
        gbc.setState(0x8e, 0x9b97, 0x7c30, 0xcf59, 0xf95f, 0x244e, 0x1, 0x0);
        gbc.writeMem(0x8e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9b97);
        EXPECT(gbc.pc(), 0x8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 01E2
        gbc.setState(0xd495, 0x9d41, 0x7900, 0x9280, 0xa6a6, 0x3322, 0x1, 0x0);
        gbc.writeMem(0xd495, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9d41);
        EXPECT(gbc.pc(), 0xd496);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd495), 0xc8);
        // C8 01E3
        gbc.setState(0x7d7c, 0x7f8e, 0x7d40, 0x2b92, 0xdd0b, 0xfa3d, 0x1, 0x1);
        gbc.writeMem(0x7d7c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7f8e);
        EXPECT(gbc.pc(), 0x7d7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01E4
        gbc.setState(0xb37, 0xc65, 0xe050, 0xaa2d, 0x7430, 0xa05a, 0x1, 0x1);
        gbc.writeMem(0xb37, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc65);
        EXPECT(gbc.pc(), 0xb38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01E5
        gbc.setState(0xd20b, 0x1ca4, 0x20e0, 0xc191, 0xac8f, 0x28a3, 0x0, 0x1);
        gbc.writeMem(0x1ca4, { 0x59, 0xdd });
        gbc.writeMem(0xd20b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1ca6);
        EXPECT(gbc.pc(), 0xdd59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd20b), 0xc8);
        // C8 01E6
        gbc.setState(0x70ac, 0x667d, 0x6300, 0x2c65, 0x6667, 0xbc62, 0x0, 0x0);
        gbc.writeMem(0x70ac, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x667d);
        EXPECT(gbc.pc(), 0x70ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01E8
        gbc.setState(0xcef4, 0x8387, 0x7db0, 0x99b3, 0xfe52, 0xbf5c, 0x1, 0x0);
        gbc.writeMem(0x8387, { 0x67, 0xb4 });
        gbc.writeMem(0xcef4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8389);
        EXPECT(gbc.pc(), 0xb467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8387), 0x67);
        EXPECT(gbc.readMem(0x8388), 0xb4);
        EXPECT(gbc.readMem(0xcef4), 0xc8);
        // C8 01E9
        gbc.setState(0x6393, 0x24c1, 0xc4d0, 0x60ab, 0xa292, 0x637a, 0x1, 0x0);
        gbc.writeMem(0x24c1, { 0xf9, 0xd4 });
        gbc.writeMem(0x6393, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x24c3);
        EXPECT(gbc.pc(), 0xd4f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 01EA
        gbc.setState(0xdac2, 0xbfde, 0xbdd0, 0x44be, 0xb1ee, 0xe8c6, 0x0, 0x0);
        gbc.writeMem(0xbfde, { 0xaa, 0x52 });
        gbc.writeMem(0xdac2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbfe0);
        EXPECT(gbc.pc(), 0x52aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfde), 0xaa);
        EXPECT(gbc.readMem(0xbfdf), 0x52);
        EXPECT(gbc.readMem(0xdac2), 0xc8);
        // C8 01EB
        gbc.setState(0x1806, 0x2a13, 0xc120, 0xda91, 0x4380, 0xe9a6, 0x0, 0x0);
        gbc.writeMem(0x1806, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2a13);
        EXPECT(gbc.pc(), 0x1807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01EC
        gbc.setState(0xe8ae, 0xa8e0, 0x3870, 0x996a, 0xaa5c, 0xadaa, 0x1, 0x0);
        gbc.writeMem(0xe8ae, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xa8e0);
        EXPECT(gbc.pc(), 0xe8af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ae), 0xc8);
        // C8 01ED
        gbc.setState(0x8a8f, 0xe509, 0xba0, 0xe161, 0xd200, 0xc370, 0x1, 0x1);
        gbc.writeMem(0x8a8f, { 0xc8 });
        gbc.writeMem(0xe509, { 0xaf, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe50b);
        EXPECT(gbc.pc(), 0xaeaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a8f), 0xc8);
        EXPECT(gbc.readMem(0xe509), 0xaf);
        EXPECT(gbc.readMem(0xe50a), 0xae);
        // C8 01EE
        gbc.setState(0x639b, 0x5dcb, 0x8ce0, 0xc9e9, 0x2e3, 0x7380, 0x1, 0x0);
        gbc.writeMem(0x5dcb, { 0x30, 0xe6 });
        gbc.writeMem(0x639b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5dcd);
        EXPECT(gbc.pc(), 0xe630);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01EF
        gbc.setState(0x7d02, 0x5ee2, 0x8920, 0x113d, 0xf7a6, 0x1272, 0x1, 0x1);
        gbc.writeMem(0x7d02, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5ee2);
        EXPECT(gbc.pc(), 0x7d03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01F0
        gbc.setState(0xe84b, 0x9aff, 0xba50, 0xb6e0, 0xf040, 0xecaf, 0x1, 0x0);
        gbc.writeMem(0xe84b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x9aff);
        EXPECT(gbc.pc(), 0xe84c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe84b), 0xc8);
        // C8 01F1
        gbc.setState(0xd01b, 0x763f, 0x6790, 0x32e6, 0xb3db, 0x4d3d, 0x0, 0x0);
        gbc.writeMem(0x763f, { 0x3a, 0xb5 });
        gbc.writeMem(0xd01b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7641);
        EXPECT(gbc.pc(), 0xb53a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd01b), 0xc8);
        // C8 01F2
        gbc.setState(0x8fa3, 0x69e2, 0xe4d0, 0xcc5, 0xdb5, 0xdf14, 0x0, 0x0);
        gbc.writeMem(0x69e2, { 0xc4, 0xdd });
        gbc.writeMem(0x8fa3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x69e4);
        EXPECT(gbc.pc(), 0xddc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa3), 0xc8);
        // C8 01F3
        gbc.setState(0xe007, 0x46dc, 0xdfc0, 0x684c, 0x5c4c, 0x2e96, 0x0, 0x1);
        gbc.writeMem(0x46dc, { 0xf8, 0x2e });
        gbc.writeMem(0xe007, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x46de);
        EXPECT(gbc.pc(), 0x2ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe007), 0xc8);
        // C8 01F4
        gbc.setState(0xab7e, 0xa153, 0xd3a0, 0x5876, 0x890c, 0x8ebb, 0x0, 0x1);
        gbc.writeMem(0xa153, { 0xe1, 0x66 });
        gbc.writeMem(0xab7e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa155);
        EXPECT(gbc.pc(), 0x66e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa153), 0xe1);
        EXPECT(gbc.readMem(0xa154), 0x66);
        EXPECT(gbc.readMem(0xab7e), 0xc8);
        // C8 01F5
        gbc.setState(0x383f, 0x625a, 0x2240, 0xa3c, 0xc72f, 0x87a, 0x1, 0x1);
        gbc.writeMem(0x383f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x625a);
        EXPECT(gbc.pc(), 0x3840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01F7
        gbc.setState(0x265, 0xe2d1, 0x1c80, 0xb3cb, 0x1fbf, 0x9557, 0x1, 0x1);
        gbc.writeMem(0x265, { 0xc8 });
        gbc.writeMem(0xe2d1, { 0x46, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe2d3);
        EXPECT(gbc.pc(), 0xb446);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2d1), 0x46);
        EXPECT(gbc.readMem(0xe2d2), 0xb4);
        // C8 01F8
        gbc.setState(0x900, 0xfca1, 0x1c90, 0x47f5, 0x39f0, 0x2c99, 0x0, 0x0);
        gbc.writeMem(0x900, { 0xc8 });
        gbc.writeMem(0xfca1, { 0x67, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xfca3);
        EXPECT(gbc.pc(), 0xf467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xfca1), 0x67);
        EXPECT(gbc.readMem(0xfca2), 0xf4);
        // C8 01F9
        gbc.setState(0x12f, 0xf8cf, 0x26f0, 0x2eb2, 0x608d, 0x8ebc, 0x0, 0x1);
        gbc.writeMem(0x12f, { 0xc8 });
        gbc.writeMem(0xf8cf, { 0x60, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf8d1);
        EXPECT(gbc.pc(), 0x9460);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf8cf), 0x60);
        EXPECT(gbc.readMem(0xf8d0), 0x94);
        // C8 01FA
        gbc.setState(0xc783, 0x472e, 0xbdb0, 0x8b52, 0xa1ca, 0x515e, 0x1, 0x1);
        gbc.writeMem(0x472e, { 0xec, 0xea });
        gbc.writeMem(0xc783, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4730);
        EXPECT(gbc.pc(), 0xeaec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc783), 0xc8);
        // C8 01FB
        gbc.setState(0x50b4, 0x18d9, 0x91e0, 0xbc8c, 0x6e24, 0x6541, 0x1, 0x1);
        gbc.writeMem(0x18d9, { 0xdd, 0x78 });
        gbc.writeMem(0x50b4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x18db);
        EXPECT(gbc.pc(), 0x78dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01FC
        gbc.setState(0x46a6, 0x30db, 0x68a0, 0xcec, 0x40b4, 0x3ce1, 0x0, 0x0);
        gbc.writeMem(0x30db, { 0xf7, 0x47 });
        gbc.writeMem(0x46a6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x30dd);
        EXPECT(gbc.pc(), 0x47f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 01FD
        gbc.setState(0xb875, 0xe64f, 0xab0, 0x1cb7, 0x3d35, 0xe533, 0x1, 0x1);
        gbc.writeMem(0xb875, { 0xc8 });
        gbc.writeMem(0xe64f, { 0xc8, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe651);
        EXPECT(gbc.pc(), 0x2bc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb875), 0xc8);
        EXPECT(gbc.readMem(0xe64f), 0xc8);
        EXPECT(gbc.readMem(0xe650), 0x2b);
        // C8 01FE
        gbc.setState(0x6b0c, 0xa3c5, 0x8300, 0x3709, 0x8989, 0x355a, 0x1, 0x0);
        gbc.writeMem(0x6b0c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa3c5);
        EXPECT(gbc.pc(), 0x6b0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 01FF
        gbc.setState(0x3dd2, 0x25fc, 0x8c00, 0x96ef, 0x6337, 0xff5f, 0x0, 0x1);
        gbc.writeMem(0x3dd2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x25fc);
        EXPECT(gbc.pc(), 0x3dd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0200
        gbc.setState(0xca65, 0xc5b7, 0xfec0, 0xcae8, 0x5c52, 0xee3e, 0x0, 0x1);
        gbc.writeMem(0xc5b7, { 0x24, 0xf3 });
        gbc.writeMem(0xca65, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc5b9);
        EXPECT(gbc.pc(), 0xf324);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5b7), 0x24);
        EXPECT(gbc.readMem(0xc5b8), 0xf3);
        EXPECT(gbc.readMem(0xca65), 0xc8);
        // C8 0201
        gbc.setState(0xda31, 0x645e, 0x7430, 0x990, 0x103b, 0xaae6, 0x0, 0x0);
        gbc.writeMem(0xda31, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x645e);
        EXPECT(gbc.pc(), 0xda32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda31), 0xc8);
        // C8 0202
        gbc.setState(0x7422, 0xc3d1, 0x540, 0xe6a1, 0x18f2, 0x3f50, 0x0, 0x1);
        gbc.writeMem(0x7422, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc3d1);
        EXPECT(gbc.pc(), 0x7423);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0203
        gbc.setState(0x85d6, 0xd53d, 0x23a0, 0x7535, 0x955, 0x4a60, 0x1, 0x1);
        gbc.writeMem(0x85d6, { 0xc8 });
        gbc.writeMem(0xd53d, { 0x2c, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd53f);
        EXPECT(gbc.pc(), 0x1b2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85d6), 0xc8);
        EXPECT(gbc.readMem(0xd53d), 0x2c);
        EXPECT(gbc.readMem(0xd53e), 0x1b);
        // C8 0204
        gbc.setState(0x9324, 0x5bd6, 0x4970, 0x2587, 0x898f, 0x5cb8, 0x1, 0x0);
        gbc.writeMem(0x9324, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5bd6);
        EXPECT(gbc.pc(), 0x9325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9324), 0xc8);
        // C8 0207
        gbc.setState(0xce58, 0xcc10, 0xf4a0, 0x8c1e, 0x59f7, 0x5712, 0x1, 0x1);
        gbc.writeMem(0xcc10, { 0x5f, 0xc2 });
        gbc.writeMem(0xce58, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcc12);
        EXPECT(gbc.pc(), 0xc25f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc10), 0x5f);
        EXPECT(gbc.readMem(0xcc11), 0xc2);
        EXPECT(gbc.readMem(0xce58), 0xc8);
        // C8 0208
        gbc.setState(0xcf15, 0xb0a, 0x8710, 0x4548, 0x25b6, 0xc8aa, 0x1, 0x0);
        gbc.writeMem(0xcf15, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb0a);
        EXPECT(gbc.pc(), 0xcf16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf15), 0xc8);
        // C8 0209
        gbc.setState(0x179b, 0xf27f, 0xf20, 0xaea8, 0xccde, 0x5b80, 0x1, 0x1);
        gbc.writeMem(0x179b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xf27f);
        EXPECT(gbc.pc(), 0x179c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 020A
        gbc.setState(0x2a56, 0x67f8, 0x7f0, 0xadf3, 0x501b, 0xcc06, 0x1, 0x0);
        gbc.writeMem(0x2a56, { 0xc8 });
        gbc.writeMem(0x67f8, { 0xfa, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x67fa);
        EXPECT(gbc.pc(), 0x3afa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 020B
        gbc.setState(0x635d, 0x59d4, 0xb880, 0xeb46, 0x1c5d, 0x7831, 0x1, 0x1);
        gbc.writeMem(0x59d4, { 0x1e, 0xd3 });
        gbc.writeMem(0x635d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x59d6);
        EXPECT(gbc.pc(), 0xd31e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 020C
        gbc.setState(0x465b, 0x6a1a, 0x6890, 0x241a, 0x4ffe, 0x5f13, 0x0, 0x0);
        gbc.writeMem(0x465b, { 0xc8 });
        gbc.writeMem(0x6a1a, { 0xd4, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6a1c);
        EXPECT(gbc.pc(), 0x24d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 020D
        gbc.setState(0x85c9, 0x651b, 0x25a0, 0x40c7, 0xcd1a, 0x6b41, 0x1, 0x0);
        gbc.writeMem(0x651b, { 0xab, 0xbf });
        gbc.writeMem(0x85c9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x651d);
        EXPECT(gbc.pc(), 0xbfab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85c9), 0xc8);
        // C8 020E
        gbc.setState(0xe84, 0x10ad, 0xb9b0, 0x8630, 0x1d3b, 0xb9f2, 0x1, 0x0);
        gbc.writeMem(0xe84, { 0xc8 });
        gbc.writeMem(0x10ad, { 0xa6, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x10af);
        EXPECT(gbc.pc(), 0x58a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 020F
        gbc.setState(0x3044, 0xe09e, 0x1220, 0x7515, 0xdd30, 0x408c, 0x1, 0x0);
        gbc.writeMem(0x3044, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe09e);
        EXPECT(gbc.pc(), 0x3045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0210
        gbc.setState(0x5a7a, 0x9e7e, 0x71f0, 0xb243, 0x81a, 0x4099, 0x0, 0x0);
        gbc.writeMem(0x5a7a, { 0xc8 });
        gbc.writeMem(0x9e7e, { 0x52, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9e80);
        EXPECT(gbc.pc(), 0xa652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e7e), 0x52);
        EXPECT(gbc.readMem(0x9e7f), 0xa6);
        // C8 0211
        gbc.setState(0xcbe8, 0x49f9, 0x2070, 0x695a, 0xd7db, 0x3ac6, 0x0, 0x1);
        gbc.writeMem(0xcbe8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x49f9);
        EXPECT(gbc.pc(), 0xcbe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe8), 0xc8);
        // C8 0214
        gbc.setState(0xddd2, 0x2f61, 0x2970, 0x9ac0, 0x919d, 0xdf8d, 0x0, 0x0);
        gbc.writeMem(0xddd2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2f61);
        EXPECT(gbc.pc(), 0xddd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddd2), 0xc8);
        // C8 0215
        gbc.setState(0x24e3, 0xd177, 0xa7b0, 0x3d1e, 0xd1f6, 0xbdf0, 0x1, 0x0);
        gbc.writeMem(0x24e3, { 0xc8 });
        gbc.writeMem(0xd177, { 0xe7, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd179);
        EXPECT(gbc.pc(), 0x55e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd177), 0xe7);
        EXPECT(gbc.readMem(0xd178), 0x55);
        // C8 0216
        gbc.setState(0x6eeb, 0xb673, 0xf370, 0xd020, 0xdac9, 0xaee6, 0x0, 0x1);
        gbc.writeMem(0x6eeb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb673);
        EXPECT(gbc.pc(), 0x6eec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0217
        gbc.setState(0x6f8c, 0xdaac, 0xdda0, 0x9044, 0x8e47, 0xb7ba, 0x1, 0x0);
        gbc.writeMem(0x6f8c, { 0xc8 });
        gbc.writeMem(0xdaac, { 0xc3, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdaae);
        EXPECT(gbc.pc(), 0xbfc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaac), 0xc3);
        EXPECT(gbc.readMem(0xdaad), 0xbf);
        // C8 0218
        gbc.setState(0x3537, 0x6d6d, 0xecc0, 0xa4ce, 0x36ab, 0x45c8, 0x1, 0x1);
        gbc.writeMem(0x3537, { 0xc8 });
        gbc.writeMem(0x6d6d, { 0xb1, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x6d6f);
        EXPECT(gbc.pc(), 0xa5b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0219
        gbc.setState(0x7a26, 0x9099, 0xfb90, 0xf304, 0x2b14, 0xa998, 0x1, 0x0);
        gbc.writeMem(0x7a26, { 0xc8 });
        gbc.writeMem(0x9099, { 0xbc, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x909b);
        EXPECT(gbc.pc(), 0x1ebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9099), 0xbc);
        EXPECT(gbc.readMem(0x909a), 0x1e);
        // C8 021A
        gbc.setState(0xa6d9, 0xd632, 0x94a0, 0xd101, 0xc022, 0xdb67, 0x0, 0x1);
        gbc.writeMem(0xa6d9, { 0xc8 });
        gbc.writeMem(0xd632, { 0x6a, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd634);
        EXPECT(gbc.pc(), 0x826a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6d9), 0xc8);
        EXPECT(gbc.readMem(0xd632), 0x6a);
        EXPECT(gbc.readMem(0xd633), 0x82);
        // C8 021B
        gbc.setState(0x7a01, 0xbb22, 0xe460, 0x474e, 0xfc16, 0x534b, 0x0, 0x0);
        gbc.writeMem(0x7a01, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbb22);
        EXPECT(gbc.pc(), 0x7a02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 021C
        gbc.setState(0x763c, 0xcea0, 0x9ca0, 0x527, 0xb0b9, 0x6222, 0x1, 0x0);
        gbc.writeMem(0x763c, { 0xc8 });
        gbc.writeMem(0xcea0, { 0xbc, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xcea2);
        EXPECT(gbc.pc(), 0xbabc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcea0), 0xbc);
        EXPECT(gbc.readMem(0xcea1), 0xba);
        // C8 021D
        gbc.setState(0x2fb1, 0x3405, 0x1e80, 0xcb80, 0xf0e4, 0x55db, 0x0, 0x0);
        gbc.writeMem(0x2fb1, { 0xc8 });
        gbc.writeMem(0x3405, { 0xb4, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x3407);
        EXPECT(gbc.pc(), 0x48b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 021E
        gbc.setState(0xb93b, 0x9f2a, 0x5430, 0x67a1, 0xb0d8, 0x900b, 0x1, 0x1);
        gbc.writeMem(0xb93b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9f2a);
        EXPECT(gbc.pc(), 0xb93c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb93b), 0xc8);
        // C8 021F
        gbc.setState(0xbdf1, 0x41a, 0xcc0, 0x9f2b, 0xc978, 0xe98d, 0x0, 0x0);
        gbc.writeMem(0x41a, { 0x6c, 0xf4 });
        gbc.writeMem(0xbdf1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x41c);
        EXPECT(gbc.pc(), 0xf46c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdf1), 0xc8);
        // C8 0220
        gbc.setState(0x798b, 0x67c9, 0x3210, 0x6517, 0xefd1, 0x41ec, 0x0, 0x0);
        gbc.writeMem(0x798b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x67c9);
        EXPECT(gbc.pc(), 0x798c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0221
        gbc.setState(0xbe15, 0xba57, 0x7150, 0x5e23, 0xfaf2, 0x2f1c, 0x0, 0x1);
        gbc.writeMem(0xbe15, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xba57);
        EXPECT(gbc.pc(), 0xbe16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe15), 0xc8);
        // C8 0222
        gbc.setState(0xe28e, 0xa081, 0x15d0, 0x1346, 0xce95, 0xfd7d, 0x0, 0x0);
        gbc.writeMem(0xa081, { 0xfa, 0xa4 });
        gbc.writeMem(0xe28e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa083);
        EXPECT(gbc.pc(), 0xa4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa081), 0xfa);
        EXPECT(gbc.readMem(0xa082), 0xa4);
        EXPECT(gbc.readMem(0xe28e), 0xc8);
        // C8 0223
        gbc.setState(0xa4c8, 0x4920, 0xb0c0, 0x7858, 0x56df, 0xd8b1, 0x0, 0x0);
        gbc.writeMem(0x4920, { 0xed, 0x22 });
        gbc.writeMem(0xa4c8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4922);
        EXPECT(gbc.pc(), 0x22ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c8), 0xc8);
        // C8 0224
        gbc.setState(0x65d9, 0xa6c2, 0xd50, 0xd0ab, 0x84d5, 0xde1, 0x0, 0x0);
        gbc.writeMem(0x65d9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xa6c2);
        EXPECT(gbc.pc(), 0x65da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0225
        gbc.setState(0x934c, 0xb13, 0x94b0, 0x711d, 0x7e60, 0x7152, 0x1, 0x1);
        gbc.writeMem(0xb13, { 0x78, 0x34 });
        gbc.writeMem(0x934c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb15);
        EXPECT(gbc.pc(), 0x3478);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x934c), 0xc8);
        // C8 0226
        gbc.setState(0x17a0, 0xaf7c, 0xb9d0, 0x8e0b, 0x68f4, 0x5eaf, 0x1, 0x0);
        gbc.writeMem(0x17a0, { 0xc8 });
        gbc.writeMem(0xaf7c, { 0x5f, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xaf7e);
        EXPECT(gbc.pc(), 0xd15f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf7c), 0x5f);
        EXPECT(gbc.readMem(0xaf7d), 0xd1);
        // C8 0227
        gbc.setState(0xc20b, 0x8218, 0x51f0, 0x9033, 0x8992, 0xa73f, 0x1, 0x0);
        gbc.writeMem(0x8218, { 0x49, 0x27 });
        gbc.writeMem(0xc20b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x821a);
        EXPECT(gbc.pc(), 0x2749);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8218), 0x49);
        EXPECT(gbc.readMem(0x8219), 0x27);
        EXPECT(gbc.readMem(0xc20b), 0xc8);
        // C8 0228
        gbc.setState(0x61ce, 0x9fe1, 0xa030, 0x75a2, 0xb0e8, 0x2b24, 0x0, 0x1);
        gbc.writeMem(0x61ce, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x9fe1);
        EXPECT(gbc.pc(), 0x61cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0229
        gbc.setState(0x2cef, 0xbc44, 0x8f00, 0xcd2e, 0x464, 0xda86, 0x0, 0x1);
        gbc.writeMem(0x2cef, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xbc44);
        EXPECT(gbc.pc(), 0x2cf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 022A
        gbc.setState(0x1908, 0xab2f, 0xda90, 0xa58e, 0xc7c4, 0x8297, 0x0, 0x0);
        gbc.writeMem(0x1908, { 0xc8 });
        gbc.writeMem(0xab2f, { 0xa9, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xab31);
        EXPECT(gbc.pc(), 0xcba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab2f), 0xa9);
        EXPECT(gbc.readMem(0xab30), 0xcb);
        // C8 022B
        gbc.setState(0xe09f, 0xa320, 0x820, 0xa509, 0x7ad2, 0x5f9d, 0x0, 0x1);
        gbc.writeMem(0xe09f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa320);
        EXPECT(gbc.pc(), 0xe0a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe09f), 0xc8);
        // C8 022C
        gbc.setState(0xb94d, 0x65d5, 0x76b0, 0xe923, 0xd73b, 0x3666, 0x0, 0x0);
        gbc.writeMem(0x65d5, { 0x39, 0xd1 });
        gbc.writeMem(0xb94d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x65d7);
        EXPECT(gbc.pc(), 0xd139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94d), 0xc8);
        // C8 022D
        gbc.setState(0x9105, 0x1642, 0x3870, 0x8dc2, 0xc8b5, 0xab8b, 0x1, 0x1);
        gbc.writeMem(0x9105, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1642);
        EXPECT(gbc.pc(), 0x9106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9105), 0xc8);
        // C8 022E
        gbc.setState(0x1c2a, 0x4eb5, 0xa580, 0xc617, 0x67d9, 0xb43e, 0x1, 0x0);
        gbc.writeMem(0x1c2a, { 0xc8 });
        gbc.writeMem(0x4eb5, { 0x32, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4eb7);
        EXPECT(gbc.pc(), 0x8b32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 022F
        gbc.setState(0x9d28, 0x59f3, 0xe320, 0x6a9b, 0x5d91, 0x9c5b, 0x0, 0x0);
        gbc.writeMem(0x9d28, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x59f3);
        EXPECT(gbc.pc(), 0x9d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d28), 0xc8);
        // C8 0230
        gbc.setState(0xa008, 0x4a81, 0x6fb0, 0xc157, 0x11ee, 0x3ec, 0x1, 0x0);
        gbc.writeMem(0x4a81, { 0xdb, 0x14 });
        gbc.writeMem(0xa008, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4a83);
        EXPECT(gbc.pc(), 0x14db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa008), 0xc8);
        // C8 0231
        gbc.setState(0x1101, 0x2b6d, 0x34f0, 0x6442, 0xc23f, 0x3a18, 0x0, 0x0);
        gbc.writeMem(0x1101, { 0xc8 });
        gbc.writeMem(0x2b6d, { 0xb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2b6f);
        EXPECT(gbc.pc(), 0x340b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0232
        gbc.setState(0x482d, 0x75d1, 0xb3d0, 0xae1e, 0x5d79, 0x3c36, 0x0, 0x0);
        gbc.writeMem(0x482d, { 0xc8 });
        gbc.writeMem(0x75d1, { 0x9b, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x75d3);
        EXPECT(gbc.pc(), 0x9a9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0233
        gbc.setState(0x8f8c, 0x8103, 0x6c80, 0x6546, 0xa5f6, 0xd608, 0x0, 0x1);
        gbc.writeMem(0x8103, { 0x62, 0x1e });
        gbc.writeMem(0x8f8c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x8105);
        EXPECT(gbc.pc(), 0x1e62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8103), 0x62);
        EXPECT(gbc.readMem(0x8104), 0x1e);
        EXPECT(gbc.readMem(0x8f8c), 0xc8);
        // C8 0234
        gbc.setState(0xb8e9, 0x2f63, 0xfb20, 0x7995, 0x47da, 0x1c77, 0x1, 0x1);
        gbc.writeMem(0xb8e9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x2f63);
        EXPECT(gbc.pc(), 0xb8ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e9), 0xc8);
        // C8 0235
        gbc.setState(0x3a8, 0x3783, 0x5ea0, 0xaa06, 0xf594, 0xb69d, 0x0, 0x0);
        gbc.writeMem(0x3a8, { 0xc8 });
        gbc.writeMem(0x3783, { 0x50, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3785);
        EXPECT(gbc.pc(), 0x3350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0236
        gbc.setState(0xd3d7, 0x43c5, 0xbf90, 0xec8c, 0x9da4, 0x9d89, 0x1, 0x0);
        gbc.writeMem(0x43c5, { 0x1e, 0x13 });
        gbc.writeMem(0xd3d7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x43c7);
        EXPECT(gbc.pc(), 0x131e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3d7), 0xc8);
        // C8 0237
        gbc.setState(0xe876, 0x8665, 0x8e10, 0xc4fa, 0x4159, 0xd038, 0x0, 0x1);
        gbc.writeMem(0xe876, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8665);
        EXPECT(gbc.pc(), 0xe877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe876), 0xc8);
        // C8 0238
        gbc.setState(0x6d6e, 0x48b4, 0x3640, 0x111, 0xe9f3, 0xdb27, 0x1, 0x0);
        gbc.writeMem(0x6d6e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x48b4);
        EXPECT(gbc.pc(), 0x6d6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0239
        gbc.setState(0xb238, 0x1ac9, 0xc0b0, 0xb73b, 0x3b3b, 0x486c, 0x0, 0x1);
        gbc.writeMem(0x1ac9, { 0xa, 0xe4 });
        gbc.writeMem(0xb238, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x1acb);
        EXPECT(gbc.pc(), 0xe40a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb238), 0xc8);
        // C8 023A
        gbc.setState(0xe36e, 0x42b2, 0x5af0, 0x53fd, 0xb086, 0x888b, 0x1, 0x1);
        gbc.writeMem(0x42b2, { 0xce, 0xf0 });
        gbc.writeMem(0xe36e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x42b4);
        EXPECT(gbc.pc(), 0xf0ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe36e), 0xc8);
        // C8 023B
        gbc.setState(0xb55c, 0x403, 0x4060, 0x9b9a, 0xb803, 0x3eba, 0x1, 0x1);
        gbc.writeMem(0xb55c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x403);
        EXPECT(gbc.pc(), 0xb55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb55c), 0xc8);
        // C8 023C
        gbc.setState(0xce50, 0x1753, 0x28d0, 0x6c36, 0x2bf, 0x8256, 0x1, 0x1);
        gbc.writeMem(0x1753, { 0x2d, 0xc2 });
        gbc.writeMem(0xce50, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1755);
        EXPECT(gbc.pc(), 0xc22d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce50), 0xc8);
        // C8 023D
        gbc.setState(0x4334, 0x8d37, 0x1970, 0xda9b, 0x2def, 0x326d, 0x1, 0x0);
        gbc.writeMem(0x4334, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x8d37);
        EXPECT(gbc.pc(), 0x4335);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 023E
        gbc.setState(0xcc7c, 0x57cc, 0xcb00, 0xd549, 0xc889, 0xcab8, 0x1, 0x1);
        gbc.writeMem(0xcc7c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x57cc);
        EXPECT(gbc.pc(), 0xcc7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc7c), 0xc8);
        // C8 023F
        gbc.setState(0x1c7, 0xdd0c, 0xe650, 0xb260, 0x8431, 0x5e40, 0x0, 0x0);
        gbc.writeMem(0x1c7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdd0c);
        EXPECT(gbc.pc(), 0x1c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0240
        gbc.setState(0x7e69, 0x583b, 0xf9f0, 0x3e60, 0x7a43, 0x4d81, 0x0, 0x1);
        gbc.writeMem(0x583b, { 0x84, 0xc1 });
        gbc.writeMem(0x7e69, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x583d);
        EXPECT(gbc.pc(), 0xc184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0241
        gbc.setState(0x1c4f, 0xcaa3, 0x3b0, 0xc935, 0x52b2, 0x28da, 0x0, 0x1);
        gbc.writeMem(0x1c4f, { 0xc8 });
        gbc.writeMem(0xcaa3, { 0xf4, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xcaa5);
        EXPECT(gbc.pc(), 0x86f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcaa3), 0xf4);
        EXPECT(gbc.readMem(0xcaa4), 0x86);
        // C8 0242
        gbc.setState(0x2fe5, 0xb1f5, 0x1410, 0xce53, 0x3aaa, 0xef74, 0x1, 0x0);
        gbc.writeMem(0x2fe5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb1f5);
        EXPECT(gbc.pc(), 0x2fe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0243
        gbc.setState(0xd210, 0xf51c, 0x9af0, 0x6985, 0xba8, 0x9537, 0x1, 0x1);
        gbc.writeMem(0xd210, { 0xc8 });
        gbc.writeMem(0xf51c, { 0x15, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf51e);
        EXPECT(gbc.pc(), 0x6c15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd210), 0xc8);
        EXPECT(gbc.readMem(0xf51c), 0x15);
        EXPECT(gbc.readMem(0xf51d), 0x6c);
        // C8 0244
        gbc.setState(0x7f42, 0x7a3f, 0x26d0, 0x3e63, 0x210f, 0x614b, 0x1, 0x0);
        gbc.writeMem(0x7a3f, { 0x5a, 0xbe });
        gbc.writeMem(0x7f42, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7a41);
        EXPECT(gbc.pc(), 0xbe5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0245
        gbc.setState(0x450d, 0x6320, 0x19f0, 0x11fd, 0xdc8, 0x2aa6, 0x1, 0x1);
        gbc.writeMem(0x450d, { 0xc8 });
        gbc.writeMem(0x6320, { 0xef, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6322);
        EXPECT(gbc.pc(), 0xecef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0246
        gbc.setState(0xb3af, 0x15ae, 0x6e30, 0xd89b, 0x4b9c, 0x7b3e, 0x0, 0x0);
        gbc.writeMem(0xb3af, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x15ae);
        EXPECT(gbc.pc(), 0xb3b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3af), 0xc8);
        // C8 0247
        gbc.setState(0xbe0, 0xcc22, 0x1aa0, 0x6cb, 0x7e33, 0x81d8, 0x1, 0x1);
        gbc.writeMem(0xbe0, { 0xc8 });
        gbc.writeMem(0xcc22, { 0xa1, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xcc24);
        EXPECT(gbc.pc(), 0xcaa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc22), 0xa1);
        EXPECT(gbc.readMem(0xcc23), 0xca);
        // C8 0249
        gbc.setState(0x4f79, 0x7393, 0xc900, 0xb297, 0xa622, 0xe8d, 0x1, 0x0);
        gbc.writeMem(0x4f79, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x7393);
        EXPECT(gbc.pc(), 0x4f7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 024A
        gbc.setState(0xa1f4, 0xcf64, 0x8750, 0x5380, 0x5c5, 0x30dd, 0x1, 0x1);
        gbc.writeMem(0xa1f4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcf64);
        EXPECT(gbc.pc(), 0xa1f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1f4), 0xc8);
        // C8 024B
        gbc.setState(0xd296, 0xe5c1, 0xdf40, 0x19e2, 0xbf1, 0x97b5, 0x1, 0x0);
        gbc.writeMem(0xd296, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe5c1);
        EXPECT(gbc.pc(), 0xd297);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd296), 0xc8);
        // C8 024C
        gbc.setState(0xc4ea, 0xce61, 0xb540, 0x449f, 0xdeb5, 0xebed, 0x0, 0x1);
        gbc.writeMem(0xc4ea, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xce61);
        EXPECT(gbc.pc(), 0xc4eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ea), 0xc8);
        // C8 024D
        gbc.setState(0xa615, 0xf1e8, 0xaff0, 0xe503, 0x1f77, 0xe564, 0x1, 0x0);
        gbc.writeMem(0xa615, { 0xc8 });
        gbc.writeMem(0xf1e8, { 0xb, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf1ea);
        EXPECT(gbc.pc(), 0xc70b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa615), 0xc8);
        EXPECT(gbc.readMem(0xf1e8), 0xb);
        EXPECT(gbc.readMem(0xf1e9), 0xc7);
        // C8 024E
        gbc.setState(0xdb35, 0xd146, 0xb8b0, 0x933a, 0x46f2, 0x48a5, 0x0, 0x1);
        gbc.writeMem(0xd146, { 0x75, 0x3f });
        gbc.writeMem(0xdb35, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd148);
        EXPECT(gbc.pc(), 0x3f75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd146), 0x75);
        EXPECT(gbc.readMem(0xd147), 0x3f);
        EXPECT(gbc.readMem(0xdb35), 0xc8);
        // C8 024F
        gbc.setState(0xdae2, 0x54d6, 0x70e0, 0xe3aa, 0xf970, 0xda8e, 0x1, 0x0);
        gbc.writeMem(0x54d6, { 0x8c, 0x97 });
        gbc.writeMem(0xdae2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x54d8);
        EXPECT(gbc.pc(), 0x978c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdae2), 0xc8);
        // C8 0250
        gbc.setState(0xc5df, 0x8fd4, 0x77e0, 0x6cdb, 0xe919, 0x99f, 0x0, 0x0);
        gbc.writeMem(0x8fd4, { 0xb, 0x4d });
        gbc.writeMem(0xc5df, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8fd6);
        EXPECT(gbc.pc(), 0x4d0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd4), 0xb);
        EXPECT(gbc.readMem(0x8fd5), 0x4d);
        EXPECT(gbc.readMem(0xc5df), 0xc8);
        // C8 0251
        gbc.setState(0x8d2b, 0x76ed, 0xbd30, 0x6125, 0x8e58, 0xecaa, 0x1, 0x1);
        gbc.writeMem(0x8d2b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x76ed);
        EXPECT(gbc.pc(), 0x8d2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d2b), 0xc8);
        // C8 0252
        gbc.setState(0xc3f, 0xbf1a, 0x7830, 0x7d39, 0x22c3, 0x7e6b, 0x1, 0x1);
        gbc.writeMem(0xc3f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xbf1a);
        EXPECT(gbc.pc(), 0xc40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0253
        gbc.setState(0x4943, 0xf562, 0xa7c0, 0xca5d, 0x37ff, 0x7566, 0x1, 0x1);
        gbc.writeMem(0x4943, { 0xc8 });
        gbc.writeMem(0xf562, { 0xe3, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xf564);
        EXPECT(gbc.pc(), 0x9e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf562), 0xe3);
        EXPECT(gbc.readMem(0xf563), 0x9);
        // C8 0254
        gbc.setState(0xdb7, 0x5149, 0xc930, 0xc0e3, 0xbb66, 0x58c2, 0x1, 0x1);
        gbc.writeMem(0xdb7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5149);
        EXPECT(gbc.pc(), 0xdb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0255
        gbc.setState(0xbf93, 0xa2c2, 0xac90, 0xcd80, 0x9e8f, 0xb112, 0x0, 0x1);
        gbc.writeMem(0xa2c2, { 0x67, 0xd6 });
        gbc.writeMem(0xbf93, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xa2c4);
        EXPECT(gbc.pc(), 0xd667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2c2), 0x67);
        EXPECT(gbc.readMem(0xa2c3), 0xd6);
        EXPECT(gbc.readMem(0xbf93), 0xc8);
        // C8 0256
        gbc.setState(0xd4d, 0x5962, 0xff30, 0x9d6, 0xb190, 0x3e3a, 0x0, 0x0);
        gbc.writeMem(0xd4d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5962);
        EXPECT(gbc.pc(), 0xd4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0257
        gbc.setState(0xe5d7, 0x3c8, 0x79d0, 0x8340, 0x7f97, 0x9f1c, 0x1, 0x1);
        gbc.writeMem(0x3c8, { 0x2e, 0x36 });
        gbc.writeMem(0xe5d7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3ca);
        EXPECT(gbc.pc(), 0x362e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5d7), 0xc8);
        // C8 0258
        gbc.setState(0x41b7, 0x3895, 0x6810, 0x8749, 0x131f, 0x72da, 0x1, 0x0);
        gbc.writeMem(0x41b7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3895);
        EXPECT(gbc.pc(), 0x41b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0259
        gbc.setState(0xdf4c, 0x49c0, 0x52d0, 0x322f, 0xf6e0, 0xdb15, 0x0, 0x1);
        gbc.writeMem(0x49c0, { 0xba, 0x8b });
        gbc.writeMem(0xdf4c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x49c2);
        EXPECT(gbc.pc(), 0x8bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf4c), 0xc8);
        // C8 025B
        gbc.setState(0x4b0f, 0xc02c, 0x1c40, 0xa1d5, 0x152d, 0x9628, 0x0, 0x0);
        gbc.writeMem(0x4b0f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc02c);
        EXPECT(gbc.pc(), 0x4b10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 025C
        gbc.setState(0x80f9, 0x4b3e, 0xed0, 0xa70c, 0x4fe0, 0xa9dd, 0x1, 0x1);
        gbc.writeMem(0x4b3e, { 0x7a, 0x5f });
        gbc.writeMem(0x80f9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x4b40);
        EXPECT(gbc.pc(), 0x5f7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80f9), 0xc8);
        // C8 025D
        gbc.setState(0xa4e6, 0xa9c3, 0xb850, 0xa9de, 0x41b9, 0xeb39, 0x1, 0x0);
        gbc.writeMem(0xa4e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xa9c3);
        EXPECT(gbc.pc(), 0xa4e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e6), 0xc8);
        // C8 025E
        gbc.setState(0xba99, 0x5afa, 0x7e00, 0x2b13, 0xeac6, 0x3d90, 0x0, 0x1);
        gbc.writeMem(0xba99, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5afa);
        EXPECT(gbc.pc(), 0xba9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba99), 0xc8);
        // C8 025F
        gbc.setState(0x98e6, 0xe784, 0xd060, 0x5893, 0x59eb, 0xb08e, 0x1, 0x1);
        gbc.writeMem(0x98e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe784);
        EXPECT(gbc.pc(), 0x98e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98e6), 0xc8);
        // C8 0260
        gbc.setState(0x2561, 0xd40b, 0xb380, 0x9a29, 0x6bcd, 0xe71d, 0x1, 0x1);
        gbc.writeMem(0x2561, { 0xc8 });
        gbc.writeMem(0xd40b, { 0x13, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xd40d);
        EXPECT(gbc.pc(), 0x2813);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd40b), 0x13);
        EXPECT(gbc.readMem(0xd40c), 0x28);
        // C8 0261
        gbc.setState(0x9af5, 0xa78, 0x20c0, 0xb75d, 0xae8, 0x45c0, 0x1, 0x0);
        gbc.writeMem(0xa78, { 0x9, 0xcd });
        gbc.writeMem(0x9af5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xa7a);
        EXPECT(gbc.pc(), 0xcd09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9af5), 0xc8);
        // C8 0262
        gbc.setState(0x676f, 0xccec, 0x2260, 0xbc4d, 0xa720, 0xd28d, 0x1, 0x0);
        gbc.writeMem(0x676f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xccec);
        EXPECT(gbc.pc(), 0x6770);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0263
        gbc.setState(0x6a96, 0x6752, 0xd0a0, 0xbb74, 0x597c, 0x68f0, 0x1, 0x0);
        gbc.writeMem(0x6752, { 0x14, 0x5e });
        gbc.writeMem(0x6a96, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6754);
        EXPECT(gbc.pc(), 0x5e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0265
        gbc.setState(0x2f3e, 0x3a86, 0x8430, 0xf310, 0x93cc, 0x3445, 0x1, 0x1);
        gbc.writeMem(0x2f3e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3a86);
        EXPECT(gbc.pc(), 0x2f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0266
        gbc.setState(0x4834, 0x2428, 0x32b0, 0xd7ca, 0xa0da, 0x4499, 0x0, 0x1);
        gbc.writeMem(0x2428, { 0x14, 0xcc });
        gbc.writeMem(0x4834, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x242a);
        EXPECT(gbc.pc(), 0xcc14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0267
        gbc.setState(0x4bd5, 0x88c7, 0x1590, 0x1b4e, 0xe0, 0x4816, 0x0, 0x1);
        gbc.writeMem(0x4bd5, { 0xc8 });
        gbc.writeMem(0x88c7, { 0x22, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x88c9);
        EXPECT(gbc.pc(), 0xc322);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88c7), 0x22);
        EXPECT(gbc.readMem(0x88c8), 0xc3);
        // C8 0268
        gbc.setState(0x8df8, 0xfb2a, 0x9020, 0xf22a, 0x4a57, 0x576c, 0x1, 0x0);
        gbc.writeMem(0x8df8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xfb2a);
        EXPECT(gbc.pc(), 0x8df9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8df8), 0xc8);
        // C8 0269
        gbc.setState(0xcbce, 0x9db3, 0x4cc0, 0xc450, 0x81ef, 0x14e6, 0x0, 0x1);
        gbc.writeMem(0x9db3, { 0x1d, 0x87 });
        gbc.writeMem(0xcbce, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9db5);
        EXPECT(gbc.pc(), 0x871d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9db3), 0x1d);
        EXPECT(gbc.readMem(0x9db4), 0x87);
        EXPECT(gbc.readMem(0xcbce), 0xc8);
        // C8 026A
        gbc.setState(0x662c, 0xa1d, 0xdce0, 0x8c6f, 0x9018, 0x6ad0, 0x0, 0x1);
        gbc.writeMem(0xa1d, { 0x3f, 0xa8 });
        gbc.writeMem(0x662c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa1f);
        EXPECT(gbc.pc(), 0xa83f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 026B
        gbc.setState(0x8cc2, 0x9999, 0x3e50, 0x890b, 0x278e, 0x2ea7, 0x1, 0x0);
        gbc.writeMem(0x8cc2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9999);
        EXPECT(gbc.pc(), 0x8cc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cc2), 0xc8);
        // C8 026C
        gbc.setState(0xd4bd, 0xe4c6, 0x9fc0, 0x8863, 0x8bb7, 0x9cff, 0x0, 0x1);
        gbc.writeMem(0xd4bd, { 0xc8 });
        gbc.writeMem(0xe4c6, { 0xbc, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe4c8);
        EXPECT(gbc.pc(), 0x61bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4bd), 0xc8);
        EXPECT(gbc.readMem(0xe4c6), 0xbc);
        EXPECT(gbc.readMem(0xe4c7), 0x61);
        // C8 026D
        gbc.setState(0xe244, 0xd32f, 0x5eb0, 0x6e0e, 0x757b, 0x3b1a, 0x1, 0x0);
        gbc.writeMem(0xd32f, { 0x36, 0x8a });
        gbc.writeMem(0xe244, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd331);
        EXPECT(gbc.pc(), 0x8a36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd32f), 0x36);
        EXPECT(gbc.readMem(0xd330), 0x8a);
        EXPECT(gbc.readMem(0xe244), 0xc8);
        // C8 026E
        gbc.setState(0xdada, 0x7e6e, 0x8880, 0x4656, 0xed71, 0x5b4b, 0x1, 0x0);
        gbc.writeMem(0x7e6e, { 0xa, 0x49 });
        gbc.writeMem(0xdada, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7e70);
        EXPECT(gbc.pc(), 0x490a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdada), 0xc8);
        // C8 026F
        gbc.setState(0x6fd4, 0x738d, 0x3120, 0x99d1, 0xc62c, 0x5821, 0x1, 0x0);
        gbc.writeMem(0x6fd4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x738d);
        EXPECT(gbc.pc(), 0x6fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0270
        gbc.setState(0x6ad5, 0x5cb0, 0xf030, 0x8b45, 0x8ce9, 0x9b67, 0x0, 0x1);
        gbc.writeMem(0x6ad5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5cb0);
        EXPECT(gbc.pc(), 0x6ad6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0272
        gbc.setState(0x2ff7, 0xd2bb, 0xd140, 0xbb22, 0x5f2a, 0x16a5, 0x0, 0x0);
        gbc.writeMem(0x2ff7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd2bb);
        EXPECT(gbc.pc(), 0x2ff8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0273
        gbc.setState(0x372d, 0x6ff0, 0xf210, 0x88f, 0xd1f5, 0x7d65, 0x1, 0x1);
        gbc.writeMem(0x372d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x6ff0);
        EXPECT(gbc.pc(), 0x372e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0274
        gbc.setState(0x500a, 0x52b2, 0x82b0, 0xb573, 0xcae1, 0x3ee4, 0x0, 0x0);
        gbc.writeMem(0x500a, { 0xc8 });
        gbc.writeMem(0x52b2, { 0x6e, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x52b4);
        EXPECT(gbc.pc(), 0x5f6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0275
        gbc.setState(0xcee6, 0x9178, 0xe0d0, 0xb716, 0x5088, 0x59d6, 0x1, 0x1);
        gbc.writeMem(0x9178, { 0xf4, 0xbc });
        gbc.writeMem(0xcee6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x917a);
        EXPECT(gbc.pc(), 0xbcf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9178), 0xf4);
        EXPECT(gbc.readMem(0x9179), 0xbc);
        EXPECT(gbc.readMem(0xcee6), 0xc8);
        // C8 0276
        gbc.setState(0x9820, 0x2c67, 0xfbd0, 0xfe53, 0x241a, 0x7e7b, 0x0, 0x1);
        gbc.writeMem(0x2c67, { 0x9, 0xaf });
        gbc.writeMem(0x9820, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x2c69);
        EXPECT(gbc.pc(), 0xaf09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9820), 0xc8);
        // C8 0277
        gbc.setState(0x54a0, 0xa573, 0x1c50, 0x6df5, 0x6e18, 0xbb71, 0x0, 0x0);
        gbc.writeMem(0x54a0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa573);
        EXPECT(gbc.pc(), 0x54a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0278
        gbc.setState(0x340e, 0x35ce, 0x72c0, 0x9abc, 0xf145, 0x62bc, 0x0, 0x1);
        gbc.writeMem(0x340e, { 0xc8 });
        gbc.writeMem(0x35ce, { 0x3, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x35d0);
        EXPECT(gbc.pc(), 0x203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0279
        gbc.setState(0x7f09, 0x4f5, 0xc770, 0x612, 0x3fef, 0xb668, 0x1, 0x0);
        gbc.writeMem(0x7f09, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4f5);
        EXPECT(gbc.pc(), 0x7f0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 027A
        gbc.setState(0xb1d4, 0x394e, 0x88a0, 0x577, 0x5dd9, 0x7981, 0x1, 0x1);
        gbc.writeMem(0x394e, { 0xfc, 0xd7 });
        gbc.writeMem(0xb1d4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3950);
        EXPECT(gbc.pc(), 0xd7fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1d4), 0xc8);
        // C8 027B
        gbc.setState(0x5946, 0xf89f, 0xeb50, 0xa0a0, 0x9aa0, 0xefb6, 0x0, 0x1);
        gbc.writeMem(0x5946, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf89f);
        EXPECT(gbc.pc(), 0x5947);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 027C
        gbc.setState(0xa726, 0x6e99, 0x7540, 0x2963, 0x95e5, 0xb573, 0x0, 0x0);
        gbc.writeMem(0xa726, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6e99);
        EXPECT(gbc.pc(), 0xa727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa726), 0xc8);
        // C8 027D
        gbc.setState(0x6c8a, 0xbf4e, 0x4330, 0x60c7, 0xc789, 0x3154, 0x0, 0x0);
        gbc.writeMem(0x6c8a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xbf4e);
        EXPECT(gbc.pc(), 0x6c8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 027E
        gbc.setState(0x927, 0x89bc, 0xe360, 0xbefd, 0x279e, 0x54ae, 0x1, 0x1);
        gbc.writeMem(0x927, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x89bc);
        EXPECT(gbc.pc(), 0x928);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 027F
        gbc.setState(0xe2b1, 0x3bde, 0x8c60, 0x7072, 0x7011, 0x5480, 0x1, 0x0);
        gbc.writeMem(0xe2b1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3bde);
        EXPECT(gbc.pc(), 0xe2b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b1), 0xc8);
        // C8 0280
        gbc.setState(0xc86b, 0xcd72, 0x9c90, 0x383, 0xb908, 0xa48c, 0x1, 0x1);
        gbc.writeMem(0xc86b, { 0xc8 });
        gbc.writeMem(0xcd72, { 0xf2, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xcd74);
        EXPECT(gbc.pc(), 0x88f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc86b), 0xc8);
        EXPECT(gbc.readMem(0xcd72), 0xf2);
        EXPECT(gbc.readMem(0xcd73), 0x88);
        // C8 0281
        gbc.setState(0xb147, 0x6dc9, 0x8f00, 0x43e7, 0x317a, 0xa82a, 0x0, 0x0);
        gbc.writeMem(0xb147, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x6dc9);
        EXPECT(gbc.pc(), 0xb148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb147), 0xc8);
        // C8 0282
        gbc.setState(0x781d, 0x478b, 0xe060, 0x7ab0, 0xed06, 0x301a, 0x1, 0x1);
        gbc.writeMem(0x781d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x478b);
        EXPECT(gbc.pc(), 0x781e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0283
        gbc.setState(0x278d, 0x532f, 0xb4b0, 0xa5f5, 0xc6fd, 0xe0d6, 0x0, 0x1);
        gbc.writeMem(0x278d, { 0xc8 });
        gbc.writeMem(0x532f, { 0xe5, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x5331);
        EXPECT(gbc.pc(), 0x50e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0284
        gbc.setState(0x74d4, 0x9aee, 0x57b0, 0xa8e4, 0x36ba, 0x9e85, 0x0, 0x1);
        gbc.writeMem(0x74d4, { 0xc8 });
        gbc.writeMem(0x9aee, { 0x58, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9af0);
        EXPECT(gbc.pc(), 0xfb58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aee), 0x58);
        EXPECT(gbc.readMem(0x9aef), 0xfb);
        // C8 0285
        gbc.setState(0xa5d4, 0xdc71, 0xa2c0, 0x7454, 0x1b3e, 0x1fd9, 0x1, 0x1);
        gbc.writeMem(0xa5d4, { 0xc8 });
        gbc.writeMem(0xdc71, { 0x1e, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xdc73);
        EXPECT(gbc.pc(), 0x751e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5d4), 0xc8);
        EXPECT(gbc.readMem(0xdc71), 0x1e);
        EXPECT(gbc.readMem(0xdc72), 0x75);
        // C8 0286
        gbc.setState(0xef01, 0xb33, 0x3300, 0x1a4b, 0x9292, 0x3f52, 0x0, 0x1);
        gbc.writeMem(0xef01, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb33);
        EXPECT(gbc.pc(), 0xef02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef01), 0xc8);
        // C8 0287
        gbc.setState(0xf03, 0xa9ad, 0xc290, 0xd7c9, 0x6346, 0xd06f, 0x0, 0x1);
        gbc.writeMem(0xf03, { 0xc8 });
        gbc.writeMem(0xa9ad, { 0x9e, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa9af);
        EXPECT(gbc.pc(), 0xbd9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9ad), 0x9e);
        EXPECT(gbc.readMem(0xa9ae), 0xbd);
        // C8 0288
        gbc.setState(0xee25, 0xb8d1, 0xe3b0, 0x3c43, 0xc678, 0xbf70, 0x1, 0x1);
        gbc.writeMem(0xb8d1, { 0x1c, 0x9e });
        gbc.writeMem(0xee25, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb8d3);
        EXPECT(gbc.pc(), 0x9e1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8d1), 0x1c);
        EXPECT(gbc.readMem(0xb8d2), 0x9e);
        EXPECT(gbc.readMem(0xee25), 0xc8);
        // C8 0289
        gbc.setState(0xcfe1, 0xf178, 0xa8b0, 0x9251, 0x2da0, 0x9eba, 0x1, 0x0);
        gbc.writeMem(0xcfe1, { 0xc8 });
        gbc.writeMem(0xf178, { 0x57, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf17a);
        EXPECT(gbc.pc(), 0x9c57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfe1), 0xc8);
        EXPECT(gbc.readMem(0xf178), 0x57);
        EXPECT(gbc.readMem(0xf179), 0x9c);
        // C8 028A
        gbc.setState(0x3b56, 0x7149, 0x40, 0x8427, 0xb2c1, 0x59b4, 0x0, 0x0);
        gbc.writeMem(0x3b56, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7149);
        EXPECT(gbc.pc(), 0x3b57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 028B
        gbc.setState(0x3e3c, 0x9d0a, 0x7c40, 0x9e83, 0x99bc, 0x2a2c, 0x0, 0x1);
        gbc.writeMem(0x3e3c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9d0a);
        EXPECT(gbc.pc(), 0x3e3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 028C
        gbc.setState(0x7e59, 0xca45, 0x8d30, 0x46f0, 0x258e, 0x6dba, 0x0, 0x1);
        gbc.writeMem(0x7e59, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xca45);
        EXPECT(gbc.pc(), 0x7e5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 028D
        gbc.setState(0x540e, 0xeae6, 0x2720, 0x260a, 0x51ff, 0x39c7, 0x0, 0x0);
        gbc.writeMem(0x540e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xeae6);
        EXPECT(gbc.pc(), 0x540f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 028E
        gbc.setState(0x85c2, 0xcbaa, 0x6590, 0x53cb, 0xcc63, 0x4d70, 0x1, 0x1);
        gbc.writeMem(0x85c2, { 0xc8 });
        gbc.writeMem(0xcbaa, { 0x15, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xcbac);
        EXPECT(gbc.pc(), 0xf115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85c2), 0xc8);
        EXPECT(gbc.readMem(0xcbaa), 0x15);
        EXPECT(gbc.readMem(0xcbab), 0xf1);
        // C8 028F
        gbc.setState(0x210c, 0xe226, 0xbac0, 0x579c, 0xc97f, 0x38b0, 0x0, 0x1);
        gbc.writeMem(0x210c, { 0xc8 });
        gbc.writeMem(0xe226, { 0x92, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe228);
        EXPECT(gbc.pc(), 0x892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe226), 0x92);
        EXPECT(gbc.readMem(0xe227), 0x8);
        // C8 0290
        gbc.setState(0x8cda, 0x62ee, 0x97a0, 0xd1f2, 0xa9e4, 0xf5e0, 0x1, 0x0);
        gbc.writeMem(0x62ee, { 0xbc, 0x7e });
        gbc.writeMem(0x8cda, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x62f0);
        EXPECT(gbc.pc(), 0x7ebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cda), 0xc8);
        // C8 0291
        gbc.setState(0x7479, 0x3555, 0xc100, 0x8ebe, 0x4670, 0x97eb, 0x0, 0x1);
        gbc.writeMem(0x7479, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3555);
        EXPECT(gbc.pc(), 0x747a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0292
        gbc.setState(0xa7c8, 0x193c, 0x2690, 0xd184, 0xa73f, 0xf83, 0x0, 0x0);
        gbc.writeMem(0x193c, { 0xb4, 0xed });
        gbc.writeMem(0xa7c8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x193e);
        EXPECT(gbc.pc(), 0xedb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7c8), 0xc8);
        // C8 0293
        gbc.setState(0xb169, 0xff28, 0x6540, 0x8121, 0x41e4, 0x6b37, 0x0, 0x1);
        gbc.writeMem(0xb169, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xff28);
        EXPECT(gbc.pc(), 0xb16a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb169), 0xc8);
        // C8 0294
        gbc.setState(0x6285, 0xb362, 0xdcf0, 0xac9, 0x95ed, 0x2bd2, 0x1, 0x0);
        gbc.writeMem(0x6285, { 0xc8 });
        gbc.writeMem(0xb362, { 0x32, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb364);
        EXPECT(gbc.pc(), 0xe232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb362), 0x32);
        EXPECT(gbc.readMem(0xb363), 0xe2);
        // C8 0295
        gbc.setState(0x2a1b, 0x1541, 0x6c90, 0x24a3, 0x47b9, 0x1b0a, 0x1, 0x0);
        gbc.writeMem(0x1541, { 0xb0, 0x4a });
        gbc.writeMem(0x2a1b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1543);
        EXPECT(gbc.pc(), 0x4ab0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0296
        gbc.setState(0xe551, 0xa860, 0x59f0, 0xa5ea, 0xb985, 0x6e97, 0x0, 0x0);
        gbc.writeMem(0xa860, { 0xf6, 0x4 });
        gbc.writeMem(0xe551, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa862);
        EXPECT(gbc.pc(), 0x4f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa860), 0xf6);
        EXPECT(gbc.readMem(0xa861), 0x4);
        EXPECT(gbc.readMem(0xe551), 0xc8);
        // C8 0297
        gbc.setState(0xcbd5, 0x9a6a, 0xe30, 0x4477, 0x3cdf, 0x1af8, 0x1, 0x1);
        gbc.writeMem(0xcbd5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9a6a);
        EXPECT(gbc.pc(), 0xcbd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbd5), 0xc8);
        // C8 0299
        gbc.setState(0xdb0f, 0xe8f6, 0x4a90, 0x793c, 0xc0ec, 0x943c, 0x1, 0x1);
        gbc.writeMem(0xdb0f, { 0xc8 });
        gbc.writeMem(0xe8f6, { 0x3b, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe8f8);
        EXPECT(gbc.pc(), 0x313b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb0f), 0xc8);
        EXPECT(gbc.readMem(0xe8f6), 0x3b);
        EXPECT(gbc.readMem(0xe8f7), 0x31);
        // C8 029A
        gbc.setState(0x4279, 0x3e9f, 0x9f60, 0x853a, 0x8ab7, 0x43f6, 0x0, 0x0);
        gbc.writeMem(0x4279, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x3e9f);
        EXPECT(gbc.pc(), 0x427a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 029B
        gbc.setState(0xd455, 0x4ba9, 0xf9f0, 0x3bc6, 0xf12c, 0x3f49, 0x1, 0x0);
        gbc.writeMem(0x4ba9, { 0xca, 0x16 });
        gbc.writeMem(0xd455, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x4bab);
        EXPECT(gbc.pc(), 0x16ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd455), 0xc8);
        // C8 029C
        gbc.setState(0x3f69, 0x98c5, 0x4110, 0xbff7, 0x21aa, 0xa1f5, 0x1, 0x1);
        gbc.writeMem(0x3f69, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x98c5);
        EXPECT(gbc.pc(), 0x3f6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 029D
        gbc.setState(0x40d8, 0x4320, 0x2ae0, 0x53f0, 0x3b12, 0x7646, 0x0, 0x1);
        gbc.writeMem(0x40d8, { 0xc8 });
        gbc.writeMem(0x4320, { 0x71, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4322);
        EXPECT(gbc.pc(), 0x8e71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 029E
        gbc.setState(0x41fb, 0x8b37, 0x9b80, 0x58e3, 0xbc4b, 0xb496, 0x0, 0x1);
        gbc.writeMem(0x41fb, { 0xc8 });
        gbc.writeMem(0x8b37, { 0xe5, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8b39);
        EXPECT(gbc.pc(), 0x1e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b37), 0xe5);
        EXPECT(gbc.readMem(0x8b38), 0x1);
        // C8 029F
        gbc.setState(0x1fa4, 0xce6e, 0xd650, 0xf6bb, 0xdd0e, 0xf7da, 0x1, 0x0);
        gbc.writeMem(0x1fa4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xce6e);
        EXPECT(gbc.pc(), 0x1fa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02A0
        gbc.setState(0xcab4, 0x9e9a, 0xc430, 0x63b8, 0xc45e, 0x737f, 0x0, 0x1);
        gbc.writeMem(0xcab4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x9e9a);
        EXPECT(gbc.pc(), 0xcab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcab4), 0xc8);
        // C8 02A1
        gbc.setState(0x6523, 0x55d1, 0x3390, 0x7748, 0xb1f2, 0xbd0a, 0x0, 0x0);
        gbc.writeMem(0x55d1, { 0xf8, 0xb9 });
        gbc.writeMem(0x6523, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x55d3);
        EXPECT(gbc.pc(), 0xb9f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02A2
        gbc.setState(0x4781, 0x231d, 0xf550, 0xc9c2, 0x6d64, 0x5da8, 0x1, 0x1);
        gbc.writeMem(0x4781, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x231d);
        EXPECT(gbc.pc(), 0x4782);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02A3
        gbc.setState(0x26f7, 0x2fe4, 0x6c10, 0xc524, 0xdd7, 0xd335, 0x1, 0x1);
        gbc.writeMem(0x26f7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2fe4);
        EXPECT(gbc.pc(), 0x26f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02A4
        gbc.setState(0xc453, 0x88d0, 0xedc0, 0x9e00, 0x9b8, 0xf075, 0x1, 0x1);
        gbc.writeMem(0x88d0, { 0x94, 0xd4 });
        gbc.writeMem(0xc453, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x88d2);
        EXPECT(gbc.pc(), 0xd494);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88d0), 0x94);
        EXPECT(gbc.readMem(0x88d1), 0xd4);
        EXPECT(gbc.readMem(0xc453), 0xc8);
        // C8 02A5
        gbc.setState(0x1590, 0x7d09, 0xe510, 0x9ac8, 0x32f5, 0x835b, 0x0, 0x0);
        gbc.writeMem(0x1590, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x7d09);
        EXPECT(gbc.pc(), 0x1591);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02A6
        gbc.setState(0x80b3, 0x8792, 0x9ed0, 0xe479, 0xc75, 0xe213, 0x0, 0x1);
        gbc.writeMem(0x80b3, { 0xc8 });
        gbc.writeMem(0x8792, { 0x4d, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8794);
        EXPECT(gbc.pc(), 0xab4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b3), 0xc8);
        EXPECT(gbc.readMem(0x8792), 0x4d);
        EXPECT(gbc.readMem(0x8793), 0xab);
        // C8 02A7
        gbc.setState(0xe0c2, 0xfd63, 0x5ec0, 0x2cf1, 0x836d, 0xaec7, 0x0, 0x1);
        gbc.writeMem(0xe0c2, { 0xc8 });
        gbc.writeMem(0xfd63, { 0x71, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xfd65);
        EXPECT(gbc.pc(), 0xc371);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0c2), 0xc8);
        EXPECT(gbc.readMem(0xfd63), 0x71);
        EXPECT(gbc.readMem(0xfd64), 0xc3);
        // C8 02A8
        gbc.setState(0x20c, 0xd02c, 0x8b0, 0x5fc0, 0xb8f5, 0xf409, 0x0, 0x0);
        gbc.writeMem(0x20c, { 0xc8 });
        gbc.writeMem(0xd02c, { 0x9d, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xd02e);
        EXPECT(gbc.pc(), 0xb39d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd02c), 0x9d);
        EXPECT(gbc.readMem(0xd02d), 0xb3);
        // C8 02A9
        gbc.setState(0x8d16, 0xdbf1, 0xd4d0, 0x27cb, 0xda9b, 0x2b0b, 0x0, 0x0);
        gbc.writeMem(0x8d16, { 0xc8 });
        gbc.writeMem(0xdbf1, { 0xab, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xdbf3);
        EXPECT(gbc.pc(), 0xddab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d16), 0xc8);
        EXPECT(gbc.readMem(0xdbf1), 0xab);
        EXPECT(gbc.readMem(0xdbf2), 0xdd);
        // C8 02AA
        gbc.setState(0xcbaf, 0x89d9, 0x8160, 0xcd27, 0x3f6f, 0x277d, 0x0, 0x1);
        gbc.writeMem(0xcbaf, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x89d9);
        EXPECT(gbc.pc(), 0xcbb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbaf), 0xc8);
        // C8 02AB
        gbc.setState(0xe40f, 0x42ee, 0x1b60, 0xed79, 0x24da, 0xbe06, 0x0, 0x1);
        gbc.writeMem(0xe40f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x42ee);
        EXPECT(gbc.pc(), 0xe410);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40f), 0xc8);
        // C8 02AC
        gbc.setState(0x1b82, 0x4caa, 0xf330, 0xc51f, 0x300a, 0x1ab5, 0x0, 0x1);
        gbc.writeMem(0x1b82, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4caa);
        EXPECT(gbc.pc(), 0x1b83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02AD
        gbc.setState(0x22f6, 0xd3a8, 0x9070, 0x712d, 0x5b91, 0x4775, 0x0, 0x0);
        gbc.writeMem(0x22f6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd3a8);
        EXPECT(gbc.pc(), 0x22f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02AE
        gbc.setState(0x4059, 0xc543, 0xd50, 0xfef9, 0x2f04, 0x369e, 0x0, 0x1);
        gbc.writeMem(0x4059, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc543);
        EXPECT(gbc.pc(), 0x405a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02AF
        gbc.setState(0x136b, 0xfc6, 0x2aa0, 0x13f3, 0xd62f, 0x9636, 0x0, 0x0);
        gbc.writeMem(0xfc6, { 0x7d, 0x6e });
        gbc.writeMem(0x136b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfc8);
        EXPECT(gbc.pc(), 0x6e7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02B0
        gbc.setState(0x8a26, 0xe5f6, 0x4a40, 0x9924, 0x4c3, 0x42cf, 0x1, 0x0);
        gbc.writeMem(0x8a26, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe5f6);
        EXPECT(gbc.pc(), 0x8a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a26), 0xc8);
        // C8 02B1
        gbc.setState(0x6f80, 0x11f2, 0x13b0, 0x712e, 0x76, 0x6a21, 0x0, 0x1);
        gbc.writeMem(0x11f2, { 0x8a, 0xe });
        gbc.writeMem(0x6f80, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x11f4);
        EXPECT(gbc.pc(), 0xe8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02B3
        gbc.setState(0x2320, 0x8990, 0x820, 0x59f2, 0xfb02, 0x6dad, 0x1, 0x0);
        gbc.writeMem(0x2320, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x8990);
        EXPECT(gbc.pc(), 0x2321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02B4
        gbc.setState(0x69c4, 0xed44, 0x21d0, 0xd3ac, 0x7cfe, 0xd4ee, 0x1, 0x1);
        gbc.writeMem(0x69c4, { 0xc8 });
        gbc.writeMem(0xed44, { 0x52, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xed46);
        EXPECT(gbc.pc(), 0x4252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed44), 0x52);
        EXPECT(gbc.readMem(0xed45), 0x42);
        // C8 02B6
        gbc.setState(0x7737, 0x175e, 0x62f0, 0x28d2, 0xfa1, 0xff7d, 0x0, 0x0);
        gbc.writeMem(0x175e, { 0x5e, 0x14 });
        gbc.writeMem(0x7737, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1760);
        EXPECT(gbc.pc(), 0x145e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02B7
        gbc.setState(0xd51, 0x81a, 0x2370, 0xaf3c, 0x5876, 0x48aa, 0x1, 0x1);
        gbc.writeMem(0xd51, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x81a);
        EXPECT(gbc.pc(), 0xd52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02B8
        gbc.setState(0x7abb, 0x5435, 0x8be0, 0x5c43, 0x8db1, 0xb7f6, 0x0, 0x0);
        gbc.writeMem(0x5435, { 0x27, 0xfc });
        gbc.writeMem(0x7abb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5437);
        EXPECT(gbc.pc(), 0xfc27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02B9
        gbc.setState(0xee07, 0x3caf, 0x480, 0xef3f, 0xe1c2, 0x77b7, 0x0, 0x1);
        gbc.writeMem(0x3caf, { 0xcd, 0x3b });
        gbc.writeMem(0xee07, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x3cb1);
        EXPECT(gbc.pc(), 0x3bcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee07), 0xc8);
        // C8 02BA
        gbc.setState(0x761f, 0xc860, 0x9e90, 0x70ac, 0xb1f9, 0x47be, 0x1, 0x0);
        gbc.writeMem(0x761f, { 0xc8 });
        gbc.writeMem(0xc860, { 0x10, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc862);
        EXPECT(gbc.pc(), 0x9910);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc860), 0x10);
        EXPECT(gbc.readMem(0xc861), 0x99);
        // C8 02BB
        gbc.setState(0x6be9, 0x2523, 0x1cc0, 0xf6e8, 0x4aa9, 0x7eec, 0x1, 0x1);
        gbc.writeMem(0x2523, { 0xbf, 0xe9 });
        gbc.writeMem(0x6be9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x2525);
        EXPECT(gbc.pc(), 0xe9bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02BD
        gbc.setState(0x3fb2, 0x98bc, 0xeb20, 0x601a, 0xf84, 0x56ff, 0x1, 0x0);
        gbc.writeMem(0x3fb2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x98bc);
        EXPECT(gbc.pc(), 0x3fb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02BE
        gbc.setState(0x885b, 0xe5b9, 0x11e0, 0x7395, 0xe98e, 0x5928, 0x0, 0x0);
        gbc.writeMem(0x885b, { 0xc8 });
        gbc.writeMem(0xe5b9, { 0xe0, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe5bb);
        EXPECT(gbc.pc(), 0x66e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x885b), 0xc8);
        EXPECT(gbc.readMem(0xe5b9), 0xe0);
        EXPECT(gbc.readMem(0xe5ba), 0x66);
        // C8 02BF
        gbc.setState(0x48ed, 0xe066, 0xcde0, 0x556d, 0x60bc, 0x91f6, 0x0, 0x1);
        gbc.writeMem(0x48ed, { 0xc8 });
        gbc.writeMem(0xe066, { 0x4b, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xe068);
        EXPECT(gbc.pc(), 0x7a4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe066), 0x4b);
        EXPECT(gbc.readMem(0xe067), 0x7a);
        // C8 02C0
        gbc.setState(0x80b9, 0xd7c, 0x4d40, 0xd9fa, 0x1c2a, 0x9c4b, 0x0, 0x1);
        gbc.writeMem(0x80b9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xd7c);
        EXPECT(gbc.pc(), 0x80ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b9), 0xc8);
        // C8 02C1
        gbc.setState(0x954a, 0x5f5e, 0xc350, 0xe333, 0xf2c7, 0xc308, 0x0, 0x0);
        gbc.writeMem(0x954a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5f5e);
        EXPECT(gbc.pc(), 0x954b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x954a), 0xc8);
        // C8 02C2
        gbc.setState(0xec93, 0x66f5, 0xd390, 0x3d6f, 0xffc4, 0x253c, 0x0, 0x0);
        gbc.writeMem(0x66f5, { 0x74, 0x62 });
        gbc.writeMem(0xec93, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x66f7);
        EXPECT(gbc.pc(), 0x6274);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec93), 0xc8);
        // C8 02C3
        gbc.setState(0xb835, 0x95e4, 0xc970, 0x8495, 0x4ae0, 0xd0c5, 0x0, 0x0);
        gbc.writeMem(0xb835, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x95e4);
        EXPECT(gbc.pc(), 0xb836);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb835), 0xc8);
        // C8 02C4
        gbc.setState(0x961, 0x17ba, 0x550, 0x8521, 0x13cb, 0xd8b0, 0x1, 0x0);
        gbc.writeMem(0x961, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x17ba);
        EXPECT(gbc.pc(), 0x962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02C5
        gbc.setState(0x4d3b, 0xcf63, 0x98e0, 0x3a6a, 0xbc8a, 0x1ab9, 0x1, 0x1);
        gbc.writeMem(0x4d3b, { 0xc8 });
        gbc.writeMem(0xcf63, { 0x7c, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xcf65);
        EXPECT(gbc.pc(), 0x8e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf63), 0x7c);
        EXPECT(gbc.readMem(0xcf64), 0x8e);
        // C8 02C6
        gbc.setState(0x92aa, 0x690d, 0x2380, 0xe879, 0xce4d, 0x87b7, 0x1, 0x0);
        gbc.writeMem(0x690d, { 0xe2, 0x38 });
        gbc.writeMem(0x92aa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x690f);
        EXPECT(gbc.pc(), 0x38e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92aa), 0xc8);
        // C8 02C7
        gbc.setState(0x66e6, 0x5601, 0xc6d0, 0x274b, 0xef2, 0x41a5, 0x0, 0x1);
        gbc.writeMem(0x5601, { 0x63, 0x7c });
        gbc.writeMem(0x66e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5603);
        EXPECT(gbc.pc(), 0x7c63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02C8
        gbc.setState(0x8d88, 0x2a49, 0xf340, 0x6612, 0x2d99, 0x21c6, 0x0, 0x1);
        gbc.writeMem(0x8d88, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x2a49);
        EXPECT(gbc.pc(), 0x8d89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d88), 0xc8);
        // C8 02C9
        gbc.setState(0x72e8, 0x4389, 0x9820, 0xd6aa, 0x2ef4, 0x485c, 0x1, 0x1);
        gbc.writeMem(0x72e8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x4389);
        EXPECT(gbc.pc(), 0x72e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02CA
        gbc.setState(0x1c97, 0x4ad5, 0xe740, 0x7cd9, 0x22c9, 0x3308, 0x0, 0x1);
        gbc.writeMem(0x1c97, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4ad5);
        EXPECT(gbc.pc(), 0x1c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02CB
        gbc.setState(0xa6ec, 0xdee0, 0x1b50, 0x1d08, 0xe699, 0x5286, 0x0, 0x1);
        gbc.writeMem(0xa6ec, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdee0);
        EXPECT(gbc.pc(), 0xa6ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ec), 0xc8);
        // C8 02CC
        gbc.setState(0x9e3d, 0xcb10, 0x74a0, 0x4973, 0x5957, 0x5dff, 0x1, 0x0);
        gbc.writeMem(0x9e3d, { 0xc8 });
        gbc.writeMem(0xcb10, { 0xdf, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xcb12);
        EXPECT(gbc.pc(), 0xd1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e3d), 0xc8);
        EXPECT(gbc.readMem(0xcb10), 0xdf);
        EXPECT(gbc.readMem(0xcb11), 0xd1);
        // C8 02CD
        gbc.setState(0xa39e, 0xf1a9, 0xbc50, 0xb15b, 0x16c7, 0x4a73, 0x1, 0x0);
        gbc.writeMem(0xa39e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf1a9);
        EXPECT(gbc.pc(), 0xa39f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa39e), 0xc8);
        // C8 02CE
        gbc.setState(0xaf6, 0x838d, 0xde80, 0x5847, 0x9d13, 0x4170, 0x1, 0x0);
        gbc.writeMem(0xaf6, { 0xc8 });
        gbc.writeMem(0x838d, { 0xf2, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x838f);
        EXPECT(gbc.pc(), 0x16f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x838d), 0xf2);
        EXPECT(gbc.readMem(0x838e), 0x16);
        // C8 02CF
        gbc.setState(0x4ff2, 0x3193, 0xc280, 0xa226, 0x6a8b, 0xc4e8, 0x0, 0x1);
        gbc.writeMem(0x3193, { 0x86, 0x8e });
        gbc.writeMem(0x4ff2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3195);
        EXPECT(gbc.pc(), 0x8e86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02D0
        gbc.setState(0xa0c3, 0x6b16, 0x81a0, 0x15a8, 0x2297, 0x3522, 0x1, 0x1);
        gbc.writeMem(0x6b16, { 0x13, 0x5f });
        gbc.writeMem(0xa0c3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6b18);
        EXPECT(gbc.pc(), 0x5f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c3), 0xc8);
        // C8 02D1
        gbc.setState(0xab48, 0x8898, 0xd020, 0xc131, 0x5bbb, 0x3460, 0x0, 0x0);
        gbc.writeMem(0xab48, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x8898);
        EXPECT(gbc.pc(), 0xab49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab48), 0xc8);
        // C8 02D2
        gbc.setState(0xac56, 0xdfc0, 0xbc90, 0xf2e8, 0x223d, 0xd532, 0x1, 0x0);
        gbc.writeMem(0xac56, { 0xc8 });
        gbc.writeMem(0xdfc0, { 0x82, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xdfc2);
        EXPECT(gbc.pc(), 0x4a82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac56), 0xc8);
        EXPECT(gbc.readMem(0xdfc0), 0x82);
        EXPECT(gbc.readMem(0xdfc1), 0x4a);
        // C8 02D3
        gbc.setState(0xafbe, 0x8b20, 0x15f0, 0x2242, 0xd787, 0x3968, 0x0, 0x1);
        gbc.writeMem(0x8b20, { 0xf5, 0x7f });
        gbc.writeMem(0xafbe, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8b22);
        EXPECT(gbc.pc(), 0x7ff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b20), 0xf5);
        EXPECT(gbc.readMem(0x8b21), 0x7f);
        EXPECT(gbc.readMem(0xafbe), 0xc8);
        // C8 02D4
        gbc.setState(0x6916, 0xdcec, 0xfad0, 0x5767, 0xf7ff, 0x8b91, 0x0, 0x0);
        gbc.writeMem(0x6916, { 0xc8 });
        gbc.writeMem(0xdcec, { 0x87, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xdcee);
        EXPECT(gbc.pc(), 0x6487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcec), 0x87);
        EXPECT(gbc.readMem(0xdced), 0x64);
        // C8 02D5
        gbc.setState(0x9c09, 0x419c, 0xe970, 0xafa5, 0x2280, 0x3e1e, 0x1, 0x0);
        gbc.writeMem(0x9c09, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x419c);
        EXPECT(gbc.pc(), 0x9c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c09), 0xc8);
        // C8 02D6
        gbc.setState(0x850c, 0x81b1, 0x5990, 0xf76d, 0xd94f, 0xdb3f, 0x1, 0x1);
        gbc.writeMem(0x81b1, { 0xa8, 0x3b });
        gbc.writeMem(0x850c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x81b3);
        EXPECT(gbc.pc(), 0x3ba8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81b1), 0xa8);
        EXPECT(gbc.readMem(0x81b2), 0x3b);
        EXPECT(gbc.readMem(0x850c), 0xc8);
        // C8 02D7
        gbc.setState(0x97a1, 0x47bf, 0x29d0, 0x737e, 0x960, 0xcbfd, 0x0, 0x0);
        gbc.writeMem(0x47bf, { 0x1b, 0xd8 });
        gbc.writeMem(0x97a1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x47c1);
        EXPECT(gbc.pc(), 0xd81b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97a1), 0xc8);
        // C8 02D8
        gbc.setState(0x7bea, 0xdcb8, 0x97e0, 0xf9a4, 0xfae0, 0x75a3, 0x0, 0x1);
        gbc.writeMem(0x7bea, { 0xc8 });
        gbc.writeMem(0xdcb8, { 0x3c, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xdcba);
        EXPECT(gbc.pc(), 0x3a3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcb8), 0x3c);
        EXPECT(gbc.readMem(0xdcb9), 0x3a);
        // C8 02DA
        gbc.setState(0x923c, 0x6860, 0xe2c0, 0xfeff, 0xf3bb, 0x46f6, 0x1, 0x1);
        gbc.writeMem(0x6860, { 0x83, 0xd1 });
        gbc.writeMem(0x923c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x6862);
        EXPECT(gbc.pc(), 0xd183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x923c), 0xc8);
        // C8 02DB
        gbc.setState(0x591, 0xd788, 0xe700, 0xe66b, 0x5804, 0x6049, 0x1, 0x1);
        gbc.writeMem(0x591, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd788);
        EXPECT(gbc.pc(), 0x592);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02DC
        gbc.setState(0x7dab, 0x3a91, 0xdbb0, 0x7a2c, 0xd236, 0x8bcb, 0x1, 0x0);
        gbc.writeMem(0x3a91, { 0xda, 0xcd });
        gbc.writeMem(0x7dab, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3a93);
        EXPECT(gbc.pc(), 0xcdda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02DD
        gbc.setState(0x5cb4, 0x2250, 0x5410, 0x3c78, 0xebd, 0x2392, 0x1, 0x1);
        gbc.writeMem(0x5cb4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x2250);
        EXPECT(gbc.pc(), 0x5cb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 02DE
        gbc.setState(0xa1c9, 0xdd3b, 0x2790, 0xeaa3, 0x16c0, 0xd5ec, 0x1, 0x0);
        gbc.writeMem(0xa1c9, { 0xc8 });
        gbc.writeMem(0xdd3b, { 0x23, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdd3d);
        EXPECT(gbc.pc(), 0xd123);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1c9), 0xc8);
        EXPECT(gbc.readMem(0xdd3b), 0x23);
        EXPECT(gbc.readMem(0xdd3c), 0xd1);
        // C8 02DF
        gbc.setState(0xa660, 0x5ea3, 0x9cd0, 0x36e9, 0x57bf, 0x1695, 0x0, 0x0);
        gbc.writeMem(0x5ea3, { 0xe4, 0x5b });
        gbc.writeMem(0xa660, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x5ea5);
        EXPECT(gbc.pc(), 0x5be4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa660), 0xc8);
        // C8 02E0
        gbc.setState(0x80a4, 0x958b, 0x4020, 0x76e1, 0x4697, 0xa269, 0x1, 0x1);
        gbc.writeMem(0x80a4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x958b);
        EXPECT(gbc.pc(), 0x80a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80a4), 0xc8);
        // C8 02E1
        gbc.setState(0x29fe, 0x944d, 0xf780, 0xde5, 0x7f46, 0xcc8f, 0x0, 0x0);
        gbc.writeMem(0x29fe, { 0xc8 });
        gbc.writeMem(0x944d, { 0x32, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x944f);
        EXPECT(gbc.pc(), 0x6432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x944d), 0x32);
        EXPECT(gbc.readMem(0x944e), 0x64);
        // C8 02E2
        gbc.setState(0xc7b5, 0xbfe0, 0x7a90, 0x3c5a, 0xdcb1, 0x5fc9, 0x0, 0x1);
        gbc.writeMem(0xbfe0, { 0xee, 0xdd });
        gbc.writeMem(0xc7b5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xbfe2);
        EXPECT(gbc.pc(), 0xddee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfe0), 0xee);
        EXPECT(gbc.readMem(0xbfe1), 0xdd);
        EXPECT(gbc.readMem(0xc7b5), 0xc8);
        // C8 02E4
        gbc.setState(0xb185, 0x4746, 0xe340, 0x13f5, 0x61a, 0xabb3, 0x1, 0x0);
        gbc.writeMem(0xb185, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x4746);
        EXPECT(gbc.pc(), 0xb186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb185), 0xc8);
        // C8 02E5
        gbc.setState(0xcafa, 0x47dd, 0x3690, 0xb290, 0x4bf8, 0x2963, 0x1, 0x0);
        gbc.writeMem(0x47dd, { 0xbd, 0x90 });
        gbc.writeMem(0xcafa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x47df);
        EXPECT(gbc.pc(), 0x90bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcafa), 0xc8);
        // C8 02E7
        gbc.setState(0x7f6f, 0x2cef, 0xe2a0, 0x671f, 0x549d, 0x8f60, 0x0, 0x1);
        gbc.writeMem(0x2cef, { 0x19, 0x78 });
        gbc.writeMem(0x7f6f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2cf1);
        EXPECT(gbc.pc(), 0x7819);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02E8
        gbc.setState(0x44f0, 0x97d2, 0xbe30, 0xa1e8, 0x7e23, 0x17d9, 0x0, 0x0);
        gbc.writeMem(0x44f0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x97d2);
        EXPECT(gbc.pc(), 0x44f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02E9
        gbc.setState(0x43cf, 0x9aa1, 0x4420, 0xdc66, 0xed64, 0x991c, 0x0, 0x0);
        gbc.writeMem(0x43cf, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9aa1);
        EXPECT(gbc.pc(), 0x43d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02EA
        gbc.setState(0x29e4, 0x898b, 0x66e0, 0xa392, 0x555b, 0x1798, 0x1, 0x1);
        gbc.writeMem(0x29e4, { 0xc8 });
        gbc.writeMem(0x898b, { 0xa3, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x898d);
        EXPECT(gbc.pc(), 0x1da3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x898b), 0xa3);
        EXPECT(gbc.readMem(0x898c), 0x1d);
        // C8 02EB
        gbc.setState(0x8268, 0x1338, 0x3340, 0x6f5, 0x31b, 0x33f, 0x1, 0x0);
        gbc.writeMem(0x8268, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1338);
        EXPECT(gbc.pc(), 0x8269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8268), 0xc8);
        // C8 02EC
        gbc.setState(0x19f1, 0x96ab, 0x5a0, 0xc47c, 0x4789, 0xebf9, 0x1, 0x1);
        gbc.writeMem(0x19f1, { 0xc8 });
        gbc.writeMem(0x96ab, { 0xbb, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x96ad);
        EXPECT(gbc.pc(), 0x3bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ab), 0xbb);
        EXPECT(gbc.readMem(0x96ac), 0x3);
        // C8 02ED
        gbc.setState(0xd137, 0x70fe, 0x43d0, 0xc9ed, 0x6bc9, 0xa8dc, 0x1, 0x1);
        gbc.writeMem(0x70fe, { 0xdb, 0x74 });
        gbc.writeMem(0xd137, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7100);
        EXPECT(gbc.pc(), 0x74db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd137), 0xc8);
        // C8 02EE
        gbc.setState(0x86d6, 0xdd92, 0xd30, 0xaa2a, 0x7539, 0xe2c3, 0x0, 0x0);
        gbc.writeMem(0x86d6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xdd92);
        EXPECT(gbc.pc(), 0x86d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86d6), 0xc8);
        // C8 02EF
        gbc.setState(0x2197, 0xa5c8, 0x1020, 0xd846, 0xa420, 0x5db9, 0x1, 0x1);
        gbc.writeMem(0x2197, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa5c8);
        EXPECT(gbc.pc(), 0x2198);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02F0
        gbc.setState(0x61c7, 0x7cec, 0x97e0, 0x4572, 0x7a4c, 0xd011, 0x0, 0x0);
        gbc.writeMem(0x61c7, { 0xc8 });
        gbc.writeMem(0x7cec, { 0x89, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7cee);
        EXPECT(gbc.pc(), 0x589);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02F1
        gbc.setState(0x29f3, 0x88a6, 0x4960, 0x4f5c, 0x2ad9, 0xfb8b, 0x1, 0x0);
        gbc.writeMem(0x29f3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x88a6);
        EXPECT(gbc.pc(), 0x29f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02F2
        gbc.setState(0x46fc, 0x35a0, 0xd8c0, 0x9757, 0x98ed, 0xdb7c, 0x0, 0x0);
        gbc.writeMem(0x35a0, { 0xe3, 0x15 });
        gbc.writeMem(0x46fc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x35a2);
        EXPECT(gbc.pc(), 0x15e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02F3
        gbc.setState(0x1d4d, 0x4cd5, 0x2a30, 0x5e43, 0x3caa, 0xaf, 0x1, 0x0);
        gbc.writeMem(0x1d4d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4cd5);
        EXPECT(gbc.pc(), 0x1d4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 02F5
        gbc.setState(0x657, 0x4bf1, 0x3660, 0xc579, 0x5427, 0xf6ee, 0x1, 0x1);
        gbc.writeMem(0x657, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4bf1);
        EXPECT(gbc.pc(), 0x658);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02F6
        gbc.setState(0x92a0, 0xc33b, 0x6b90, 0xd32f, 0xb434, 0x6d35, 0x1, 0x0);
        gbc.writeMem(0x92a0, { 0xc8 });
        gbc.writeMem(0xc33b, { 0x94, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc33d);
        EXPECT(gbc.pc(), 0xf294);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a0), 0xc8);
        EXPECT(gbc.readMem(0xc33b), 0x94);
        EXPECT(gbc.readMem(0xc33c), 0xf2);
        // C8 02F7
        gbc.setState(0x4dae, 0xc0c1, 0xd460, 0xc63e, 0x7942, 0x9420, 0x0, 0x0);
        gbc.writeMem(0x4dae, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc0c1);
        EXPECT(gbc.pc(), 0x4daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 02F8
        gbc.setState(0xb5ef, 0x9994, 0x5290, 0xa00, 0xc227, 0x2ec9, 0x0, 0x0);
        gbc.writeMem(0x9994, { 0x5c, 0xc6 });
        gbc.writeMem(0xb5ef, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x9996);
        EXPECT(gbc.pc(), 0xc65c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9994), 0x5c);
        EXPECT(gbc.readMem(0x9995), 0xc6);
        EXPECT(gbc.readMem(0xb5ef), 0xc8);
        // C8 02F9
        gbc.setState(0xbfc3, 0xf008, 0xa1c0, 0x5671, 0x137e, 0xa4bb, 0x1, 0x1);
        gbc.writeMem(0xbfc3, { 0xc8 });
        gbc.writeMem(0xf008, { 0x2d, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf00a);
        EXPECT(gbc.pc(), 0x5c2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfc3), 0xc8);
        EXPECT(gbc.readMem(0xf008), 0x2d);
        EXPECT(gbc.readMem(0xf009), 0x5c);
        // C8 02FA
        gbc.setState(0xdd89, 0xe528, 0x65f0, 0x6c4a, 0x306d, 0x5fc5, 0x1, 0x0);
        gbc.writeMem(0xdd89, { 0xc8 });
        gbc.writeMem(0xe528, { 0x48, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe52a);
        EXPECT(gbc.pc(), 0x3848);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd89), 0xc8);
        EXPECT(gbc.readMem(0xe528), 0x48);
        EXPECT(gbc.readMem(0xe529), 0x38);
        // C8 02FB
        gbc.setState(0x9bdb, 0xb288, 0xf800, 0x55de, 0x7175, 0xfa27, 0x1, 0x1);
        gbc.writeMem(0x9bdb, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xb288);
        EXPECT(gbc.pc(), 0x9bdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bdb), 0xc8);
        // C8 02FC
        gbc.setState(0xbfa9, 0x8d23, 0xf380, 0xbedc, 0xddf7, 0xa58b, 0x1, 0x1);
        gbc.writeMem(0x8d23, { 0xd2, 0xdd });
        gbc.writeMem(0xbfa9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8d25);
        EXPECT(gbc.pc(), 0xddd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d23), 0xd2);
        EXPECT(gbc.readMem(0x8d24), 0xdd);
        EXPECT(gbc.readMem(0xbfa9), 0xc8);
        // C8 02FD
        gbc.setState(0xa611, 0x686a, 0xd400, 0x2071, 0xcba8, 0x4105, 0x1, 0x1);
        gbc.writeMem(0xa611, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x686a);
        EXPECT(gbc.pc(), 0xa612);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa611), 0xc8);
        // C8 02FE
        gbc.setState(0x565, 0x3ffb, 0x6e00, 0xdd85, 0x405, 0x13a6, 0x0, 0x1);
        gbc.writeMem(0x565, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3ffb);
        EXPECT(gbc.pc(), 0x566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 02FF
        gbc.setState(0xa199, 0x6820, 0x1690, 0x6bc, 0xf7f, 0xd606, 0x1, 0x1);
        gbc.writeMem(0x6820, { 0xd7, 0xc5 });
        gbc.writeMem(0xa199, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6822);
        EXPECT(gbc.pc(), 0xc5d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa199), 0xc8);
        // C8 0300
        gbc.setState(0x2e96, 0x8e68, 0x7c30, 0x6712, 0x2988, 0x1d2d, 0x0, 0x0);
        gbc.writeMem(0x2e96, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8e68);
        EXPECT(gbc.pc(), 0x2e97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0301
        gbc.setState(0x739f, 0x14ae, 0xe100, 0x953b, 0xfb2b, 0xccb, 0x1, 0x0);
        gbc.writeMem(0x739f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x14ae);
        EXPECT(gbc.pc(), 0x73a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0302
        gbc.setState(0x47d5, 0x6e11, 0xade0, 0x385, 0x96dc, 0x8d73, 0x1, 0x0);
        gbc.writeMem(0x47d5, { 0xc8 });
        gbc.writeMem(0x6e11, { 0xd5, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6e13);
        EXPECT(gbc.pc(), 0x82d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0303
        gbc.setState(0x6d5c, 0x56a5, 0x7220, 0x8b9b, 0x2eb4, 0x523d, 0x1, 0x1);
        gbc.writeMem(0x6d5c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x56a5);
        EXPECT(gbc.pc(), 0x6d5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0304
        gbc.setState(0x1015, 0xe6fe, 0x13f0, 0x1c79, 0x5e48, 0x8d5c, 0x1, 0x0);
        gbc.writeMem(0x1015, { 0xc8 });
        gbc.writeMem(0xe6fe, { 0x9c, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe700);
        EXPECT(gbc.pc(), 0x289c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6fe), 0x9c);
        EXPECT(gbc.readMem(0xe6ff), 0x28);
        // C8 0305
        gbc.setState(0x2c6d, 0xb7ec, 0x64d0, 0xc2ef, 0x27fd, 0xd265, 0x1, 0x0);
        gbc.writeMem(0x2c6d, { 0xc8 });
        gbc.writeMem(0xb7ec, { 0x7a, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb7ee);
        EXPECT(gbc.pc(), 0xaf7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7ec), 0x7a);
        EXPECT(gbc.readMem(0xb7ed), 0xaf);
        // C8 0306
        gbc.setState(0xd96e, 0xe927, 0x3340, 0x7b3c, 0x4425, 0x5c26, 0x1, 0x0);
        gbc.writeMem(0xd96e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe927);
        EXPECT(gbc.pc(), 0xd96f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd96e), 0xc8);
        // C8 0307
        gbc.setState(0x66ed, 0xe407, 0xcad0, 0xb6c9, 0x7156, 0x3b60, 0x1, 0x1);
        gbc.writeMem(0x66ed, { 0xc8 });
        gbc.writeMem(0xe407, { 0x9a, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe409);
        EXPECT(gbc.pc(), 0x2c9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe407), 0x9a);
        EXPECT(gbc.readMem(0xe408), 0x2c);
        // C8 0309
        gbc.setState(0xd093, 0x6171, 0xba90, 0xf5d6, 0x1959, 0x2034, 0x1, 0x0);
        gbc.writeMem(0x6171, { 0x83, 0x6c });
        gbc.writeMem(0xd093, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6173);
        EXPECT(gbc.pc(), 0x6c83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd093), 0xc8);
        // C8 030A
        gbc.setState(0xaddc, 0xa734, 0xc800, 0x35d0, 0x1c7, 0x875b, 0x1, 0x0);
        gbc.writeMem(0xaddc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa734);
        EXPECT(gbc.pc(), 0xaddd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaddc), 0xc8);
        // C8 030B
        gbc.setState(0x857c, 0x6918, 0xd30, 0x8e, 0x9dec, 0xa98f, 0x1, 0x0);
        gbc.writeMem(0x857c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6918);
        EXPECT(gbc.pc(), 0x857d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x857c), 0xc8);
        // C8 030C
        gbc.setState(0x9230, 0xc1e0, 0x5f0, 0x9bfd, 0xe76f, 0x5652, 0x1, 0x0);
        gbc.writeMem(0x9230, { 0xc8 });
        gbc.writeMem(0xc1e0, { 0xef, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc1e2);
        EXPECT(gbc.pc(), 0x4def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9230), 0xc8);
        EXPECT(gbc.readMem(0xc1e0), 0xef);
        EXPECT(gbc.readMem(0xc1e1), 0x4d);
        // C8 030D
        gbc.setState(0xadf0, 0xb238, 0xaf0, 0xf4e4, 0x4a1b, 0xee1c, 0x1, 0x1);
        gbc.writeMem(0xadf0, { 0xc8 });
        gbc.writeMem(0xb238, { 0x84, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb23a);
        EXPECT(gbc.pc(), 0x284);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadf0), 0xc8);
        EXPECT(gbc.readMem(0xb238), 0x84);
        EXPECT(gbc.readMem(0xb239), 0x2);
        // C8 030E
        gbc.setState(0xd8f9, 0x3fba, 0x9c80, 0x8392, 0x1af0, 0x57e8, 0x0, 0x1);
        gbc.writeMem(0x3fba, { 0x35, 0xd4 });
        gbc.writeMem(0xd8f9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3fbc);
        EXPECT(gbc.pc(), 0xd435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f9), 0xc8);
        // C8 030F
        gbc.setState(0xc99b, 0x5d66, 0x7810, 0xa139, 0x23c, 0xdf60, 0x1, 0x0);
        gbc.writeMem(0xc99b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5d66);
        EXPECT(gbc.pc(), 0xc99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc99b), 0xc8);
        // C8 0310
        gbc.setState(0x514b, 0x7011, 0x56c0, 0x70ec, 0x5c16, 0xbb88, 0x1, 0x1);
        gbc.writeMem(0x514b, { 0xc8 });
        gbc.writeMem(0x7011, { 0x9b, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x7013);
        EXPECT(gbc.pc(), 0xef9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0311
        gbc.setState(0x4b5f, 0xed0c, 0x7410, 0x6371, 0xcc04, 0x675d, 0x1, 0x1);
        gbc.writeMem(0x4b5f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xed0c);
        EXPECT(gbc.pc(), 0x4b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0312
        gbc.setState(0x3386, 0x3955, 0xeaa0, 0x9bfa, 0x9b85, 0x1555, 0x1, 0x0);
        gbc.writeMem(0x3386, { 0xc8 });
        gbc.writeMem(0x3955, { 0xf3, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3957);
        EXPECT(gbc.pc(), 0xe5f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0313
        gbc.setState(0x1941, 0xb2f, 0x6b90, 0x97b7, 0x8f8e, 0x50cd, 0x1, 0x1);
        gbc.writeMem(0xb2f, { 0x53, 0xa4 });
        gbc.writeMem(0x1941, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb31);
        EXPECT(gbc.pc(), 0xa453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0314
        gbc.setState(0xab80, 0x1f57, 0xdd90, 0xe8c3, 0xf1a3, 0x8687, 0x1, 0x0);
        gbc.writeMem(0x1f57, { 0xc6, 0xc1 });
        gbc.writeMem(0xab80, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1f59);
        EXPECT(gbc.pc(), 0xc1c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab80), 0xc8);
        // C8 0315
        gbc.setState(0x51e2, 0x9de6, 0xc8f0, 0x1531, 0x49d8, 0x23f5, 0x1, 0x0);
        gbc.writeMem(0x51e2, { 0xc8 });
        gbc.writeMem(0x9de6, { 0x7a, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x9de8);
        EXPECT(gbc.pc(), 0x417a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9de6), 0x7a);
        EXPECT(gbc.readMem(0x9de7), 0x41);
        // C8 0316
        gbc.setState(0xb515, 0xd13a, 0x4160, 0x7f2b, 0x335b, 0x6277, 0x0, 0x0);
        gbc.writeMem(0xb515, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd13a);
        EXPECT(gbc.pc(), 0xb516);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb515), 0xc8);
        // C8 0317
        gbc.setState(0xb942, 0x24f5, 0xf9a0, 0x4155, 0xffc7, 0xeff7, 0x1, 0x0);
        gbc.writeMem(0x24f5, { 0x5a, 0x49 });
        gbc.writeMem(0xb942, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x24f7);
        EXPECT(gbc.pc(), 0x495a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb942), 0xc8);
        // C8 0318
        gbc.setState(0x5887, 0xb89d, 0x5470, 0x637d, 0xa2ca, 0x3e11, 0x0, 0x0);
        gbc.writeMem(0x5887, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb89d);
        EXPECT(gbc.pc(), 0x5888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0319
        gbc.setState(0x62f6, 0x7b61, 0xb140, 0xd0f5, 0xb010, 0x8de4, 0x0, 0x0);
        gbc.writeMem(0x62f6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x7b61);
        EXPECT(gbc.pc(), 0x62f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 031A
        gbc.setState(0x7949, 0x600f, 0x9a70, 0x1c58, 0x176a, 0x1db2, 0x0, 0x0);
        gbc.writeMem(0x7949, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x600f);
        EXPECT(gbc.pc(), 0x794a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 031B
        gbc.setState(0x8109, 0x954a, 0xe860, 0xa851, 0xe5f1, 0x1822, 0x1, 0x0);
        gbc.writeMem(0x8109, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x954a);
        EXPECT(gbc.pc(), 0x810a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8109), 0xc8);
        // C8 031C
        gbc.setState(0x48b2, 0x2426, 0x7630, 0x94cd, 0xc965, 0x8754, 0x0, 0x1);
        gbc.writeMem(0x48b2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2426);
        EXPECT(gbc.pc(), 0x48b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 031D
        gbc.setState(0x1fae, 0xd35a, 0x9380, 0x1447, 0x7d97, 0xb3d4, 0x0, 0x1);
        gbc.writeMem(0x1fae, { 0xc8 });
        gbc.writeMem(0xd35a, { 0xc, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xd35c);
        EXPECT(gbc.pc(), 0x570c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd35a), 0xc);
        EXPECT(gbc.readMem(0xd35b), 0x57);
        // C8 031E
        gbc.setState(0x971a, 0xeb1, 0xfe10, 0x42f1, 0xa3aa, 0x7458, 0x0, 0x0);
        gbc.writeMem(0x971a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xeb1);
        EXPECT(gbc.pc(), 0x971b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971a), 0xc8);
        // C8 031F
        gbc.setState(0x33e3, 0x8e51, 0x2e50, 0x9a12, 0x1e3a, 0x4961, 0x0, 0x1);
        gbc.writeMem(0x33e3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x8e51);
        EXPECT(gbc.pc(), 0x33e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0320
        gbc.setState(0x6a73, 0x43ee, 0x48b0, 0x9994, 0x31d0, 0x563a, 0x0, 0x0);
        gbc.writeMem(0x43ee, { 0x4f, 0x9c });
        gbc.writeMem(0x6a73, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x43f0);
        EXPECT(gbc.pc(), 0x9c4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0321
        gbc.setState(0x62b2, 0x5bb9, 0x7c70, 0xbc94, 0x9aa5, 0xac25, 0x1, 0x1);
        gbc.writeMem(0x62b2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5bb9);
        EXPECT(gbc.pc(), 0x62b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0322
        gbc.setState(0xabe1, 0x5cca, 0xfc90, 0x1111, 0x8557, 0x22c2, 0x0, 0x0);
        gbc.writeMem(0x5cca, { 0xfb, 0x33 });
        gbc.writeMem(0xabe1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5ccc);
        EXPECT(gbc.pc(), 0x33fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabe1), 0xc8);
        // C8 0323
        gbc.setState(0x2fc6, 0x2816, 0xcd60, 0xe6e6, 0xb107, 0xaf3b, 0x0, 0x1);
        gbc.writeMem(0x2fc6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2816);
        EXPECT(gbc.pc(), 0x2fc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0324
        gbc.setState(0xefe4, 0x9f3a, 0xcd80, 0x18a9, 0x92f7, 0x19f8, 0x1, 0x1);
        gbc.writeMem(0x9f3a, { 0xb, 0xf8 });
        gbc.writeMem(0xefe4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9f3c);
        EXPECT(gbc.pc(), 0xf80b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f3a), 0xb);
        EXPECT(gbc.readMem(0x9f3b), 0xf8);
        EXPECT(gbc.readMem(0xefe4), 0xc8);
        // C8 0325
        gbc.setState(0x71f4, 0x41a9, 0xffa0, 0xec6b, 0xee22, 0xa533, 0x1, 0x1);
        gbc.writeMem(0x41a9, { 0x4, 0x79 });
        gbc.writeMem(0x71f4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x41ab);
        EXPECT(gbc.pc(), 0x7904);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0326
        gbc.setState(0xdb29, 0xf1a5, 0x6740, 0x877e, 0x5e38, 0xb30, 0x0, 0x1);
        gbc.writeMem(0xdb29, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf1a5);
        EXPECT(gbc.pc(), 0xdb2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb29), 0xc8);
        // C8 0328
        gbc.setState(0x5b70, 0xfc92, 0x3c70, 0xd55b, 0xa854, 0xb69a, 0x1, 0x1);
        gbc.writeMem(0x5b70, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xfc92);
        EXPECT(gbc.pc(), 0x5b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0329
        gbc.setState(0x41e6, 0x4841, 0x9510, 0xa7c1, 0xd41d, 0x917f, 0x0, 0x1);
        gbc.writeMem(0x41e6, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4841);
        EXPECT(gbc.pc(), 0x41e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 032A
        gbc.setState(0xc489, 0x2a84, 0x2af0, 0x8887, 0xff91, 0x409, 0x0, 0x0);
        gbc.writeMem(0x2a84, { 0x9d, 0x90 });
        gbc.writeMem(0xc489, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x2a86);
        EXPECT(gbc.pc(), 0x909d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc489), 0xc8);
        // C8 032C
        gbc.setState(0x2b7f, 0x5012, 0x1690, 0x8bc1, 0xd27f, 0x215d, 0x0, 0x0);
        gbc.writeMem(0x2b7f, { 0xc8 });
        gbc.writeMem(0x5012, { 0x2c, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x5014);
        EXPECT(gbc.pc(), 0xe82c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 032D
        gbc.setState(0x7dbf, 0xf6d6, 0xfd90, 0xa774, 0xdbe1, 0x476c, 0x1, 0x0);
        gbc.writeMem(0x7dbf, { 0xc8 });
        gbc.writeMem(0xf6d6, { 0xc2, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xf6d8);
        EXPECT(gbc.pc(), 0xec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf6d6), 0xc2);
        EXPECT(gbc.readMem(0xf6d7), 0xe);
        // C8 032E
        gbc.setState(0xeaad, 0xda96, 0xe2b0, 0x67cd, 0x891e, 0xaffa, 0x0, 0x0);
        gbc.writeMem(0xda96, { 0xa9, 0x3c });
        gbc.writeMem(0xeaad, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xda98);
        EXPECT(gbc.pc(), 0x3ca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda96), 0xa9);
        EXPECT(gbc.readMem(0xda97), 0x3c);
        EXPECT(gbc.readMem(0xeaad), 0xc8);
        // C8 032F
        gbc.setState(0x1ddc, 0xb92d, 0xcbe0, 0x3dd8, 0x9b09, 0x9868, 0x0, 0x0);
        gbc.writeMem(0x1ddc, { 0xc8 });
        gbc.writeMem(0xb92d, { 0x69, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb92f);
        EXPECT(gbc.pc(), 0xa369);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb92d), 0x69);
        EXPECT(gbc.readMem(0xb92e), 0xa3);
        // C8 0330
        gbc.setState(0x359a, 0x8318, 0x8b90, 0x30f6, 0x3f1b, 0xa208, 0x1, 0x0);
        gbc.writeMem(0x359a, { 0xc8 });
        gbc.writeMem(0x8318, { 0xb4, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x831a);
        EXPECT(gbc.pc(), 0xd0b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8318), 0xb4);
        EXPECT(gbc.readMem(0x8319), 0xd0);
        // C8 0331
        gbc.setState(0xac71, 0xdc7b, 0x370, 0x752e, 0x46f1, 0xd571, 0x1, 0x1);
        gbc.writeMem(0xac71, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xdc7b);
        EXPECT(gbc.pc(), 0xac72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac71), 0xc8);
        // C8 0332
        gbc.setState(0xc508, 0x6203, 0xddb0, 0x13bb, 0x4763, 0xdbb3, 0x1, 0x0);
        gbc.writeMem(0x6203, { 0x92, 0x49 });
        gbc.writeMem(0xc508, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6205);
        EXPECT(gbc.pc(), 0x4992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc508), 0xc8);
        // C8 0333
        gbc.setState(0x2f2a, 0x6f1a, 0xb850, 0xb1c6, 0x79df, 0x3f7f, 0x1, 0x0);
        gbc.writeMem(0x2f2a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6f1a);
        EXPECT(gbc.pc(), 0x2f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0334
        gbc.setState(0x6483, 0x9823, 0x1560, 0x113d, 0xab8, 0xdedf, 0x1, 0x1);
        gbc.writeMem(0x6483, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9823);
        EXPECT(gbc.pc(), 0x6484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0335
        gbc.setState(0x5efd, 0x3337, 0x1800, 0xa032, 0x2f2d, 0x432b, 0x1, 0x1);
        gbc.writeMem(0x5efd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3337);
        EXPECT(gbc.pc(), 0x5efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0336
        gbc.setState(0xbf81, 0x860d, 0x8520, 0xa9f5, 0xa157, 0x25d6, 0x1, 0x0);
        gbc.writeMem(0xbf81, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x860d);
        EXPECT(gbc.pc(), 0xbf82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf81), 0xc8);
        // C8 0337
        gbc.setState(0xbcc5, 0xd56d, 0x1c00, 0x2771, 0x3ddf, 0x7d59, 0x1, 0x0);
        gbc.writeMem(0xbcc5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd56d);
        EXPECT(gbc.pc(), 0xbcc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcc5), 0xc8);
        // C8 0338
        gbc.setState(0xd5fa, 0x574, 0x7bf0, 0x34ad, 0xe2f4, 0x9009, 0x0, 0x0);
        gbc.writeMem(0x574, { 0xea, 0xe8 });
        gbc.writeMem(0xd5fa, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x576);
        EXPECT(gbc.pc(), 0xe8ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5fa), 0xc8);
        // C8 033A
        gbc.setState(0x6d77, 0x86c0, 0xbf60, 0x9059, 0xb779, 0x5b8c, 0x0, 0x0);
        gbc.writeMem(0x6d77, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x86c0);
        EXPECT(gbc.pc(), 0x6d78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 033B
        gbc.setState(0xe40a, 0x257d, 0xd7d0, 0xfbc7, 0xc8c, 0xf3af, 0x1, 0x1);
        gbc.writeMem(0x257d, { 0x57, 0xc8 });
        gbc.writeMem(0xe40a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x257f);
        EXPECT(gbc.pc(), 0xc857);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe40a), 0xc8);
        // C8 033C
        gbc.setState(0x17e0, 0x604b, 0xbe80, 0x1ea2, 0x9005, 0xfdfd, 0x0, 0x0);
        gbc.writeMem(0x17e0, { 0xc8 });
        gbc.writeMem(0x604b, { 0xa4, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x604d);
        EXPECT(gbc.pc(), 0x10a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 033D
        gbc.setState(0x8511, 0xb840, 0x58d0, 0xd6e3, 0x1e8, 0xb4e5, 0x0, 0x0);
        gbc.writeMem(0x8511, { 0xc8 });
        gbc.writeMem(0xb840, { 0xd4, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xb842);
        EXPECT(gbc.pc(), 0x41d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8511), 0xc8);
        EXPECT(gbc.readMem(0xb840), 0xd4);
        EXPECT(gbc.readMem(0xb841), 0x41);
        // C8 033E
        gbc.setState(0xbc, 0x43a9, 0xb170, 0x7c62, 0xe3e8, 0xa9e1, 0x1, 0x1);
        gbc.writeMem(0xbc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x43a9);
        EXPECT(gbc.pc(), 0xbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 033F
        gbc.setState(0xcfa2, 0x63f4, 0xae50, 0xa371, 0x748c, 0x3d75, 0x1, 0x1);
        gbc.writeMem(0xcfa2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x63f4);
        EXPECT(gbc.pc(), 0xcfa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfa2), 0xc8);
        // C8 0340
        gbc.setState(0x3533, 0x31b, 0x2b80, 0x3a23, 0x9a8b, 0x744, 0x0, 0x0);
        gbc.writeMem(0x31b, { 0xa9, 0x1b });
        gbc.writeMem(0x3533, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x31d);
        EXPECT(gbc.pc(), 0x1ba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0341
        gbc.setState(0xb00f, 0xf5d2, 0xaa90, 0x2b9e, 0x71b6, 0x4c7d, 0x1, 0x0);
        gbc.writeMem(0xb00f, { 0xc8 });
        gbc.writeMem(0xf5d2, { 0x3f, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf5d4);
        EXPECT(gbc.pc(), 0xea3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb00f), 0xc8);
        EXPECT(gbc.readMem(0xf5d2), 0x3f);
        EXPECT(gbc.readMem(0xf5d3), 0xea);
        // C8 0342
        gbc.setState(0x57e2, 0x20ea, 0xd5d0, 0xc7df, 0xd549, 0x5388, 0x1, 0x1);
        gbc.writeMem(0x20ea, { 0xba, 0x69 });
        gbc.writeMem(0x57e2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x20ec);
        EXPECT(gbc.pc(), 0x69ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0343
        gbc.setState(0x5127, 0x2171, 0x2870, 0x5e19, 0x8703, 0xaa41, 0x0, 0x0);
        gbc.writeMem(0x5127, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2171);
        EXPECT(gbc.pc(), 0x5128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0344
        gbc.setState(0x43c1, 0x10c6, 0xeb00, 0xd290, 0xcfc9, 0x75cd, 0x0, 0x0);
        gbc.writeMem(0x43c1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x10c6);
        EXPECT(gbc.pc(), 0x43c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0345
        gbc.setState(0x4597, 0x114b, 0xb340, 0x3f79, 0xc8a1, 0x7148, 0x1, 0x0);
        gbc.writeMem(0x4597, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x114b);
        EXPECT(gbc.pc(), 0x4598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0346
        gbc.setState(0xaa84, 0xe47, 0x4b30, 0x2882, 0x5278, 0x56c4, 0x0, 0x0);
        gbc.writeMem(0xaa84, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe47);
        EXPECT(gbc.pc(), 0xaa85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa84), 0xc8);
        // C8 0347
        gbc.setState(0x3c2e, 0x4b23, 0xb9e0, 0x9613, 0x6040, 0x7a92, 0x1, 0x1);
        gbc.writeMem(0x3c2e, { 0xc8 });
        gbc.writeMem(0x4b23, { 0x68, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x4b25);
        EXPECT(gbc.pc(), 0x9268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0348
        gbc.setState(0x4b68, 0xa025, 0x9680, 0x680a, 0x351f, 0xeb3f, 0x0, 0x1);
        gbc.writeMem(0x4b68, { 0xc8 });
        gbc.writeMem(0xa025, { 0x2d, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xa027);
        EXPECT(gbc.pc(), 0xb92d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa025), 0x2d);
        EXPECT(gbc.readMem(0xa026), 0xb9);
        // C8 0349
        gbc.setState(0x1bb2, 0xcfa1, 0xd900, 0xd082, 0x87a, 0x1a05, 0x1, 0x0);
        gbc.writeMem(0x1bb2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xcfa1);
        EXPECT(gbc.pc(), 0x1bb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 034A
        gbc.setState(0x1264, 0x901e, 0x2f20, 0x2440, 0x8475, 0x3107, 0x1, 0x0);
        gbc.writeMem(0x1264, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x901e);
        EXPECT(gbc.pc(), 0x1265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 034B
        gbc.setState(0x83f, 0x5dd, 0xe630, 0x44f9, 0xbebd, 0x7c52, 0x1, 0x0);
        gbc.writeMem(0x83f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5dd);
        EXPECT(gbc.pc(), 0x840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 034C
        gbc.setState(0x285a, 0x60d9, 0x930, 0x6576, 0x9ca2, 0xda9f, 0x0, 0x1);
        gbc.writeMem(0x285a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x60d9);
        EXPECT(gbc.pc(), 0x285b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 034D
        gbc.setState(0x1105, 0x482e, 0x2450, 0x2768, 0xb628, 0x7bf0, 0x0, 0x0);
        gbc.writeMem(0x1105, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x482e);
        EXPECT(gbc.pc(), 0x1106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 034E
        gbc.setState(0x7d5c, 0xd777, 0x9450, 0x47f5, 0x3b9b, 0x2b69, 0x1, 0x0);
        gbc.writeMem(0x7d5c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd777);
        EXPECT(gbc.pc(), 0x7d5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 034F
        gbc.setState(0xdc1a, 0xd792, 0xc430, 0xb142, 0x3b83, 0xb190, 0x1, 0x1);
        gbc.writeMem(0xdc1a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd792);
        EXPECT(gbc.pc(), 0xdc1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc1a), 0xc8);
        // C8 0350
        gbc.setState(0x4fa9, 0xfd83, 0x3a0, 0x587b, 0xacb9, 0x3131, 0x1, 0x1);
        gbc.writeMem(0x4fa9, { 0xc8 });
        gbc.writeMem(0xfd83, { 0x10, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xfd85);
        EXPECT(gbc.pc(), 0xa510);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xfd83), 0x10);
        EXPECT(gbc.readMem(0xfd84), 0xa5);
        // C8 0351
        gbc.setState(0x70f4, 0x121, 0xc970, 0x139c, 0xfa3e, 0x1f9b, 0x1, 0x1);
        gbc.writeMem(0x70f4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x121);
        EXPECT(gbc.pc(), 0x70f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0352
        gbc.setState(0xd6ed, 0xe7df, 0x91d0, 0xc241, 0xd531, 0x7933, 0x0, 0x1);
        gbc.writeMem(0xd6ed, { 0xc8 });
        gbc.writeMem(0xe7df, { 0x70, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe7e1);
        EXPECT(gbc.pc(), 0x670);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6ed), 0xc8);
        EXPECT(gbc.readMem(0xe7df), 0x70);
        EXPECT(gbc.readMem(0xe7e0), 0x6);
        // C8 0353
        gbc.setState(0xbbc4, 0xc990, 0x1c40, 0xa06a, 0xc686, 0xd33b, 0x0, 0x0);
        gbc.writeMem(0xbbc4, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc990);
        EXPECT(gbc.pc(), 0xbbc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbc4), 0xc8);
        // C8 0354
        gbc.setState(0xd55, 0x56fd, 0x4890, 0x774b, 0x841c, 0x94d0, 0x0, 0x0);
        gbc.writeMem(0xd55, { 0xc8 });
        gbc.writeMem(0x56fd, { 0x7, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x56ff);
        EXPECT(gbc.pc(), 0xc607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0355
        gbc.setState(0xc165, 0x7c6f, 0x9c40, 0xd8fc, 0x38ee, 0x4512, 0x1, 0x0);
        gbc.writeMem(0xc165, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7c6f);
        EXPECT(gbc.pc(), 0xc166);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc165), 0xc8);
        // C8 0356
        gbc.setState(0x4089, 0x1814, 0xdf40, 0x593f, 0x67d7, 0xd12f, 0x0, 0x1);
        gbc.writeMem(0x4089, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x1814);
        EXPECT(gbc.pc(), 0x408a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0358
        gbc.setState(0xef31, 0x1a94, 0x23a0, 0xbc92, 0x8f51, 0xfe56, 0x0, 0x0);
        gbc.writeMem(0x1a94, { 0x41, 0xb7 });
        gbc.writeMem(0xef31, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1a96);
        EXPECT(gbc.pc(), 0xb741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef31), 0xc8);
        // C8 0359
        gbc.setState(0x15df, 0xc806, 0x3ca0, 0xfcb4, 0xd68a, 0xb558, 0x0, 0x1);
        gbc.writeMem(0x15df, { 0xc8 });
        gbc.writeMem(0xc806, { 0xa4, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc808);
        EXPECT(gbc.pc(), 0x4ca4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc806), 0xa4);
        EXPECT(gbc.readMem(0xc807), 0x4c);
        // C8 035A
        gbc.setState(0x82a8, 0x960f, 0xaf00, 0x8f6b, 0xd85a, 0xca5f, 0x0, 0x1);
        gbc.writeMem(0x82a8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x960f);
        EXPECT(gbc.pc(), 0x82a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a8), 0xc8);
        // C8 035B
        gbc.setState(0xbb39, 0x53ad, 0x4430, 0x6214, 0x6dc1, 0x7ea0, 0x0, 0x1);
        gbc.writeMem(0xbb39, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x53ad);
        EXPECT(gbc.pc(), 0xbb3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb39), 0xc8);
        // C8 035C
        gbc.setState(0xb924, 0xa904, 0xa620, 0x97e6, 0x4cec, 0x34bd, 0x1, 0x1);
        gbc.writeMem(0xb924, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa904);
        EXPECT(gbc.pc(), 0xb925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb924), 0xc8);
        // C8 035D
        gbc.setState(0x46fe, 0x1932, 0xc910, 0x3d48, 0x5f83, 0xd7bd, 0x0, 0x1);
        gbc.writeMem(0x46fe, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x1932);
        EXPECT(gbc.pc(), 0x46ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 035E
        gbc.setState(0x1664, 0xed3f, 0x47b0, 0x1740, 0xf5d2, 0xb4e1, 0x1, 0x0);
        gbc.writeMem(0x1664, { 0xc8 });
        gbc.writeMem(0xed3f, { 0xae, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xed41);
        EXPECT(gbc.pc(), 0xcae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed3f), 0xae);
        EXPECT(gbc.readMem(0xed40), 0xc);
        // C8 035F
        gbc.setState(0x2084, 0xde95, 0xe500, 0x9856, 0xc937, 0x81d3, 0x0, 0x0);
        gbc.writeMem(0x2084, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xde95);
        EXPECT(gbc.pc(), 0x2085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0360
        gbc.setState(0xea19, 0xeeb0, 0xe970, 0x34c6, 0xe319, 0xe58e, 0x0, 0x1);
        gbc.writeMem(0xea19, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xeeb0);
        EXPECT(gbc.pc(), 0xea1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea19), 0xc8);
        // C8 0361
        gbc.setState(0xc2a7, 0xd17a, 0x9de0, 0x10bf, 0x40ac, 0xfec6, 0x1, 0x1);
        gbc.writeMem(0xc2a7, { 0xc8 });
        gbc.writeMem(0xd17a, { 0xb, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd17c);
        EXPECT(gbc.pc(), 0x750b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a7), 0xc8);
        EXPECT(gbc.readMem(0xd17a), 0xb);
        EXPECT(gbc.readMem(0xd17b), 0x75);
        // C8 0362
        gbc.setState(0xe3ef, 0xf90d, 0xa430, 0xe17b, 0x7780, 0x8f63, 0x0, 0x1);
        gbc.writeMem(0xe3ef, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf90d);
        EXPECT(gbc.pc(), 0xe3f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ef), 0xc8);
        // C8 0364
        gbc.setState(0x2793, 0xae9e, 0x9da0, 0x6cca, 0xcfa, 0x9ac4, 0x0, 0x1);
        gbc.writeMem(0x2793, { 0xc8 });
        gbc.writeMem(0xae9e, { 0xe1, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xaea0);
        EXPECT(gbc.pc(), 0xf7e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae9e), 0xe1);
        EXPECT(gbc.readMem(0xae9f), 0xf7);
        // C8 0365
        gbc.setState(0x7800, 0x57f7, 0x13f0, 0x65a0, 0x2ab6, 0x37e, 0x0, 0x0);
        gbc.writeMem(0x57f7, { 0x26, 0x5d });
        gbc.writeMem(0x7800, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x57f9);
        EXPECT(gbc.pc(), 0x5d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0366
        gbc.setState(0x6f65, 0xbe10, 0x2050, 0x7642, 0xc36f, 0x303, 0x0, 0x0);
        gbc.writeMem(0x6f65, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xbe10);
        EXPECT(gbc.pc(), 0x6f66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0367
        gbc.setState(0xd436, 0x34ae, 0x3820, 0x8217, 0x945b, 0x449, 0x1, 0x0);
        gbc.writeMem(0xd436, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x34ae);
        EXPECT(gbc.pc(), 0xd437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd436), 0xc8);
        // C8 0368
        gbc.setState(0x979d, 0xc1a3, 0xd10, 0x540, 0x4956, 0x179d, 0x0, 0x0);
        gbc.writeMem(0x979d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xc1a3);
        EXPECT(gbc.pc(), 0x979e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x979d), 0xc8);
        // C8 0369
        gbc.setState(0x943c, 0x3b3a, 0x940, 0xeed0, 0x53a6, 0x1e8, 0x0, 0x0);
        gbc.writeMem(0x943c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3b3a);
        EXPECT(gbc.pc(), 0x943d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x943c), 0xc8);
        // C8 036A
        gbc.setState(0x5def, 0x10bc, 0x9d60, 0x4284, 0xcb92, 0x8156, 0x0, 0x1);
        gbc.writeMem(0x5def, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x10bc);
        EXPECT(gbc.pc(), 0x5df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 036B
        gbc.setState(0xa555, 0x7f89, 0xcac0, 0x5a8d, 0x6d98, 0x8544, 0x0, 0x1);
        gbc.writeMem(0x7f89, { 0x65, 0x9c });
        gbc.writeMem(0xa555, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7f8b);
        EXPECT(gbc.pc(), 0x9c65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa555), 0xc8);
        // C8 036C
        gbc.setState(0xad5a, 0x66d0, 0x8050, 0x5c40, 0x2609, 0x582d, 0x1, 0x0);
        gbc.writeMem(0xad5a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x66d0);
        EXPECT(gbc.pc(), 0xad5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad5a), 0xc8);
        // C8 036D
        gbc.setState(0x8607, 0xa46a, 0x27c0, 0x22de, 0xa04, 0x6019, 0x1, 0x0);
        gbc.writeMem(0x8607, { 0xc8 });
        gbc.writeMem(0xa46a, { 0x70, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xa46c);
        EXPECT(gbc.pc(), 0x5970);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8607), 0xc8);
        EXPECT(gbc.readMem(0xa46a), 0x70);
        EXPECT(gbc.readMem(0xa46b), 0x59);
        // C8 036E
        gbc.setState(0x86ee, 0x70c0, 0xed90, 0xfd90, 0x929c, 0x543a, 0x1, 0x1);
        gbc.writeMem(0x70c0, { 0x92, 0x8a });
        gbc.writeMem(0x86ee, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x70c2);
        EXPECT(gbc.pc(), 0x8a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86ee), 0xc8);
        // C8 036F
        gbc.setState(0x7b85, 0x5a6b, 0x6390, 0x193f, 0xcb5e, 0xdc2f, 0x1, 0x1);
        gbc.writeMem(0x5a6b, { 0x80, 0x51 });
        gbc.writeMem(0x7b85, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5a6d);
        EXPECT(gbc.pc(), 0x5180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0371
        gbc.setState(0xa972, 0x5c17, 0xce80, 0xdb, 0xcf17, 0x5325, 0x0, 0x0);
        gbc.writeMem(0x5c17, { 0x2f, 0xa8 });
        gbc.writeMem(0xa972, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5c19);
        EXPECT(gbc.pc(), 0xa82f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa972), 0xc8);
        // C8 0372
        gbc.setState(0x5f44, 0xa783, 0x3570, 0xba3f, 0xb81b, 0xf63a, 0x1, 0x1);
        gbc.writeMem(0x5f44, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xa783);
        EXPECT(gbc.pc(), 0x5f45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0373
        gbc.setState(0xcf36, 0x32ad, 0xf440, 0xd1eb, 0x62e4, 0x6442, 0x0, 0x0);
        gbc.writeMem(0xcf36, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x32ad);
        EXPECT(gbc.pc(), 0xcf37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf36), 0xc8);
        // C8 0374
        gbc.setState(0x45f9, 0x8c3a, 0x6b40, 0xa8ce, 0x133b, 0x6f6, 0x0, 0x0);
        gbc.writeMem(0x45f9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8c3a);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0375
        gbc.setState(0xd8ad, 0x4591, 0xda30, 0x8e7e, 0xc40a, 0x3240, 0x1, 0x0);
        gbc.writeMem(0xd8ad, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4591);
        EXPECT(gbc.pc(), 0xd8ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ad), 0xc8);
        // C8 0376
        gbc.setState(0x8a04, 0x38e6, 0x7ce0, 0x4cd7, 0xa9b9, 0x5d4c, 0x1, 0x0);
        gbc.writeMem(0x38e6, { 0xbc, 0xde });
        gbc.writeMem(0x8a04, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x38e8);
        EXPECT(gbc.pc(), 0xdebc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a04), 0xc8);
        // C8 0377
        gbc.setState(0xefdc, 0xfdde, 0xa140, 0x57de, 0x5af2, 0x4e1, 0x0, 0x0);
        gbc.writeMem(0xefdc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xfdde);
        EXPECT(gbc.pc(), 0xefdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefdc), 0xc8);
        // C8 0378
        gbc.setState(0xc92, 0xecf8, 0x72b0, 0xa71d, 0xd750, 0xde23, 0x0, 0x0);
        gbc.writeMem(0xc92, { 0xc8 });
        gbc.writeMem(0xecf8, { 0x76, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xecfa);
        EXPECT(gbc.pc(), 0x1476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecf8), 0x76);
        EXPECT(gbc.readMem(0xecf9), 0x14);
        // C8 0379
        gbc.setState(0x9f30, 0x18f5, 0x23c0, 0x2b86, 0x3279, 0x5fda, 0x0, 0x1);
        gbc.writeMem(0x18f5, { 0xf4, 0x8e });
        gbc.writeMem(0x9f30, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x18f7);
        EXPECT(gbc.pc(), 0x8ef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f30), 0xc8);
        // C8 037A
        gbc.setState(0x77c1, 0xa3f2, 0xa900, 0xbe4f, 0x39bb, 0xdd23, 0x0, 0x1);
        gbc.writeMem(0x77c1, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa3f2);
        EXPECT(gbc.pc(), 0x77c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 037B
        gbc.setState(0xa722, 0x79f6, 0xb530, 0xfa3b, 0xff83, 0xc0ac, 0x1, 0x0);
        gbc.writeMem(0xa722, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x79f6);
        EXPECT(gbc.pc(), 0xa723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa722), 0xc8);
        // C8 037C
        gbc.setState(0x261f, 0xcb6f, 0x6130, 0x7caa, 0xf047, 0x92b, 0x0, 0x0);
        gbc.writeMem(0x261f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xcb6f);
        EXPECT(gbc.pc(), 0x2620);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 037D
        gbc.setState(0xba96, 0xdb03, 0x55f0, 0xd8b1, 0x8365, 0x1090, 0x0, 0x1);
        gbc.writeMem(0xba96, { 0xc8 });
        gbc.writeMem(0xdb03, { 0x56, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xdb05);
        EXPECT(gbc.pc(), 0xe356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba96), 0xc8);
        EXPECT(gbc.readMem(0xdb03), 0x56);
        EXPECT(gbc.readMem(0xdb04), 0xe3);
        // C8 037E
        gbc.setState(0x1ab5, 0xaa24, 0x80d0, 0x6ffe, 0x9dea, 0xfa10, 0x1, 0x0);
        gbc.writeMem(0x1ab5, { 0xc8 });
        gbc.writeMem(0xaa24, { 0x4d, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xaa26);
        EXPECT(gbc.pc(), 0xf34d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa24), 0x4d);
        EXPECT(gbc.readMem(0xaa25), 0xf3);
        // C8 037F
        gbc.setState(0x5597, 0xd56d, 0x9420, 0x3329, 0x1e18, 0xb25a, 0x0, 0x0);
        gbc.writeMem(0x5597, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xd56d);
        EXPECT(gbc.pc(), 0x5598);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0380
        gbc.setState(0x2e42, 0x3827, 0x9fb0, 0x50c8, 0x3734, 0x63fc, 0x1, 0x1);
        gbc.writeMem(0x2e42, { 0xc8 });
        gbc.writeMem(0x3827, { 0x62, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3829);
        EXPECT(gbc.pc(), 0xc462);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 0381
        gbc.setState(0x466b, 0xa0f0, 0x5510, 0x5cef, 0xae1b, 0x582e, 0x1, 0x1);
        gbc.writeMem(0x466b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa0f0);
        EXPECT(gbc.pc(), 0x466c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0382
        gbc.setState(0x8c65, 0xa6ac, 0xc0e0, 0x41f4, 0x60f6, 0xa4b3, 0x1, 0x1);
        gbc.writeMem(0x8c65, { 0xc8 });
        gbc.writeMem(0xa6ac, { 0xf9, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa6ae);
        EXPECT(gbc.pc(), 0x29f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c65), 0xc8);
        EXPECT(gbc.readMem(0xa6ac), 0xf9);
        EXPECT(gbc.readMem(0xa6ad), 0x29);
        // C8 0383
        gbc.setState(0x1841, 0x3cab, 0xce10, 0x75e8, 0x8b31, 0x9733, 0x0, 0x1);
        gbc.writeMem(0x1841, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3cab);
        EXPECT(gbc.pc(), 0x1842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 0384
        gbc.setState(0x3ec7, 0x8708, 0x2380, 0xac6, 0x8ab5, 0x237b, 0x0, 0x0);
        gbc.writeMem(0x3ec7, { 0xc8 });
        gbc.writeMem(0x8708, { 0x6b, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x870a);
        EXPECT(gbc.pc(), 0x196b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8708), 0x6b);
        EXPECT(gbc.readMem(0x8709), 0x19);
        // C8 0385
        gbc.setState(0xe306, 0x2399, 0xbe60, 0xf2ee, 0x3234, 0x3766, 0x0, 0x1);
        gbc.writeMem(0xe306, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x2399);
        EXPECT(gbc.pc(), 0xe307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe306), 0xc8);
        // C8 0386
        gbc.setState(0x86fc, 0xaf43, 0xb760, 0xa92b, 0x699e, 0x8efa, 0x1, 0x0);
        gbc.writeMem(0x86fc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xaf43);
        EXPECT(gbc.pc(), 0x86fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fc), 0xc8);
        // C8 0387
        gbc.setState(0x5df9, 0x3661, 0x7ba0, 0xaaf2, 0xf4f2, 0x45b3, 0x0, 0x0);
        gbc.writeMem(0x3661, { 0xfc, 0xab });
        gbc.writeMem(0x5df9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x3663);
        EXPECT(gbc.pc(), 0xabfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0389
        gbc.setState(0x3142, 0xa2ed, 0x6c30, 0xd97, 0x2983, 0xb62a, 0x1, 0x0);
        gbc.writeMem(0x3142, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa2ed);
        EXPECT(gbc.pc(), 0x3143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 038A
        gbc.setState(0x3af6, 0x9274, 0xf1c0, 0x267f, 0xe217, 0x483a, 0x1, 0x0);
        gbc.writeMem(0x3af6, { 0xc8 });
        gbc.writeMem(0x9274, { 0x75, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9276);
        EXPECT(gbc.pc(), 0xc275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9274), 0x75);
        EXPECT(gbc.readMem(0x9275), 0xc2);
        // C8 038B
        gbc.setState(0x1a5a, 0x3f4e, 0xe1a0, 0xb809, 0x2d2a, 0x1954, 0x1, 0x0);
        gbc.writeMem(0x1a5a, { 0xc8 });
        gbc.writeMem(0x3f4e, { 0x30, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x3f50);
        EXPECT(gbc.pc(), 0xc730);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 038C
        gbc.setState(0xa58e, 0xa195, 0x83c0, 0x978, 0xfc2a, 0x5c41, 0x1, 0x0);
        gbc.writeMem(0xa195, { 0xcd, 0x70 });
        gbc.writeMem(0xa58e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa197);
        EXPECT(gbc.pc(), 0x70cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa195), 0xcd);
        EXPECT(gbc.readMem(0xa196), 0x70);
        EXPECT(gbc.readMem(0xa58e), 0xc8);
        // C8 038D
        gbc.setState(0x770b, 0x9aad, 0xc480, 0xc3f, 0xd989, 0x19e6, 0x0, 0x0);
        gbc.writeMem(0x770b, { 0xc8 });
        gbc.writeMem(0x9aad, { 0x94, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9aaf);
        EXPECT(gbc.pc(), 0x5294);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aad), 0x94);
        EXPECT(gbc.readMem(0x9aae), 0x52);
        // C8 038E
        gbc.setState(0x7cf4, 0xe85c, 0xa8b0, 0x9a33, 0x436a, 0x97d, 0x0, 0x0);
        gbc.writeMem(0x7cf4, { 0xc8 });
        gbc.writeMem(0xe85c, { 0xb4, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe85e);
        EXPECT(gbc.pc(), 0xd3b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe85c), 0xb4);
        EXPECT(gbc.readMem(0xe85d), 0xd3);
        // C8 038F
        gbc.setState(0x2ff3, 0xd2cc, 0xe760, 0x3bc7, 0x8cda, 0x8d5d, 0x0, 0x1);
        gbc.writeMem(0x2ff3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd2cc);
        EXPECT(gbc.pc(), 0x2ff4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 0390
        gbc.setState(0xd11e, 0xd76e, 0x2e30, 0xd402, 0xe43, 0xc92e, 0x1, 0x0);
        gbc.writeMem(0xd11e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xd76e);
        EXPECT(gbc.pc(), 0xd11f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd11e), 0xc8);
        // C8 0391
        gbc.setState(0x5427, 0x323b, 0xa80, 0xef1c, 0x74f5, 0x2a10, 0x1, 0x1);
        gbc.writeMem(0x323b, { 0xae, 0xcf });
        gbc.writeMem(0x5427, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x323d);
        EXPECT(gbc.pc(), 0xcfae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0392
        gbc.setState(0xb173, 0xeb4b, 0x15f0, 0xf0a3, 0xcc31, 0x2318, 0x1, 0x1);
        gbc.writeMem(0xb173, { 0xc8 });
        gbc.writeMem(0xeb4b, { 0x5b, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xeb4d);
        EXPECT(gbc.pc(), 0x5a5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb173), 0xc8);
        EXPECT(gbc.readMem(0xeb4b), 0x5b);
        EXPECT(gbc.readMem(0xeb4c), 0x5a);
        // C8 0393
        gbc.setState(0xb5ac, 0x73bb, 0x5560, 0x5f5d, 0xd49b, 0x7c35, 0x1, 0x0);
        gbc.writeMem(0xb5ac, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x73bb);
        EXPECT(gbc.pc(), 0xb5ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ac), 0xc8);
        // C8 0394
        gbc.setState(0x339e, 0xc941, 0xf00, 0x866d, 0xf797, 0x1c3, 0x0, 0x1);
        gbc.writeMem(0x339e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc941);
        EXPECT(gbc.pc(), 0x339f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 0397
        gbc.setState(0x4a9e, 0x938c, 0xb580, 0x2c97, 0x8045, 0xd1cc, 0x1, 0x1);
        gbc.writeMem(0x4a9e, { 0xc8 });
        gbc.writeMem(0x938c, { 0xbf, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x938e);
        EXPECT(gbc.pc(), 0x3bbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938c), 0xbf);
        EXPECT(gbc.readMem(0x938d), 0x3b);
        // C8 0398
        gbc.setState(0x9339, 0xa9aa, 0xa430, 0x88a8, 0x6994, 0x6b0d, 0x0, 0x0);
        gbc.writeMem(0x9339, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa9aa);
        EXPECT(gbc.pc(), 0x933a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9339), 0xc8);
        // C8 0399
        gbc.setState(0xa724, 0xa560, 0xc220, 0xa3cd, 0xdbff, 0xc0df, 0x1, 0x0);
        gbc.writeMem(0xa724, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa560);
        EXPECT(gbc.pc(), 0xa725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa724), 0xc8);
        // C8 039A
        gbc.setState(0x1b2d, 0x52ae, 0x31e0, 0x4586, 0x8b5e, 0x8144, 0x1, 0x0);
        gbc.writeMem(0x1b2d, { 0xc8 });
        gbc.writeMem(0x52ae, { 0xfc, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x52b0);
        EXPECT(gbc.pc(), 0x38fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 039B
        gbc.setState(0x4734, 0x23c6, 0xf490, 0x47d, 0xa0ed, 0x836e, 0x0, 0x1);
        gbc.writeMem(0x23c6, { 0xec, 0x31 });
        gbc.writeMem(0x4734, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x23c8);
        EXPECT(gbc.pc(), 0x31ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 039C
        gbc.setState(0x62db, 0xa099, 0x1c30, 0x5b6d, 0xb162, 0xf7e5, 0x0, 0x0);
        gbc.writeMem(0x62db, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa099);
        EXPECT(gbc.pc(), 0x62dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 039D
        gbc.setState(0x9d04, 0x8f73, 0x7c90, 0xa99b, 0x3f20, 0xf5fb, 0x0, 0x1);
        gbc.writeMem(0x8f73, { 0xdd, 0xab });
        gbc.writeMem(0x9d04, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8f75);
        EXPECT(gbc.pc(), 0xabdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f73), 0xdd);
        EXPECT(gbc.readMem(0x8f74), 0xab);
        EXPECT(gbc.readMem(0x9d04), 0xc8);
        // C8 039E
        gbc.setState(0x2226, 0x9abc, 0x5970, 0x98b6, 0xdca, 0xe39f, 0x1, 0x0);
        gbc.writeMem(0x2226, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9abc);
        EXPECT(gbc.pc(), 0x2227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 039F
        gbc.setState(0xa749, 0xdbfe, 0xafd0, 0x46ca, 0xc24c, 0x5f07, 0x0, 0x0);
        gbc.writeMem(0xa749, { 0xc8 });
        gbc.writeMem(0xdbfe, { 0xff, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdc00);
        EXPECT(gbc.pc(), 0x20ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa749), 0xc8);
        EXPECT(gbc.readMem(0xdbfe), 0xff);
        EXPECT(gbc.readMem(0xdbff), 0x20);
        // C8 03A0
        gbc.setState(0xbcb2, 0x68a8, 0xe520, 0x570b, 0xf4a9, 0x7acd, 0x0, 0x0);
        gbc.writeMem(0xbcb2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x68a8);
        EXPECT(gbc.pc(), 0xbcb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcb2), 0xc8);
        // C8 03A1
        gbc.setState(0x68c7, 0x1514, 0x28f0, 0x8137, 0x9be5, 0xf521, 0x1, 0x0);
        gbc.writeMem(0x1514, { 0xa4, 0xe3 });
        gbc.writeMem(0x68c7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1516);
        EXPECT(gbc.pc(), 0xe3a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03A2
        gbc.setState(0xbc46, 0xadf2, 0xe0f0, 0xbe55, 0xca10, 0x8c69, 0x0, 0x1);
        gbc.writeMem(0xadf2, { 0x7b, 0x7d });
        gbc.writeMem(0xbc46, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xadf4);
        EXPECT(gbc.pc(), 0x7d7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadf2), 0x7b);
        EXPECT(gbc.readMem(0xadf3), 0x7d);
        EXPECT(gbc.readMem(0xbc46), 0xc8);
        // C8 03A3
        gbc.setState(0xae87, 0xc1cd, 0x4e10, 0xce17, 0x6a4b, 0x89e6, 0x0, 0x1);
        gbc.writeMem(0xae87, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xc1cd);
        EXPECT(gbc.pc(), 0xae88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae87), 0xc8);
        // C8 03A4
        gbc.setState(0xb6a8, 0x57ad, 0xef00, 0x6ad7, 0xbd5c, 0x5791, 0x0, 0x0);
        gbc.writeMem(0xb6a8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x57ad);
        EXPECT(gbc.pc(), 0xb6a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6a8), 0xc8);
        // C8 03A5
        gbc.setState(0xa22, 0xadbe, 0xab70, 0xa7eb, 0x37b7, 0x7d0b, 0x1, 0x0);
        gbc.writeMem(0xa22, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xadbe);
        EXPECT(gbc.pc(), 0xa23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03A6
        gbc.setState(0x9b58, 0xaab3, 0x260, 0x5b48, 0x5c2e, 0x6bc6, 0x1, 0x1);
        gbc.writeMem(0x9b58, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xaab3);
        EXPECT(gbc.pc(), 0x9b59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b58), 0xc8);
        // C8 03A7
        gbc.setState(0x8665, 0xc98, 0xfd0, 0x2458, 0x5f89, 0x339b, 0x0, 0x0);
        gbc.writeMem(0xc98, { 0xfd, 0xb4 });
        gbc.writeMem(0x8665, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc9a);
        EXPECT(gbc.pc(), 0xb4fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8665), 0xc8);
        // C8 03A8
        gbc.setState(0x923b, 0x7feb, 0x7a40, 0x8f9c, 0xe35f, 0x7206, 0x1, 0x0);
        gbc.writeMem(0x923b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x7feb);
        EXPECT(gbc.pc(), 0x923c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x923b), 0xc8);
        // C8 03A9
        gbc.setState(0xc25a, 0x76e7, 0x9940, 0x36b6, 0x4e36, 0x42fc, 0x1, 0x1);
        gbc.writeMem(0xc25a, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x76e7);
        EXPECT(gbc.pc(), 0xc25b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc25a), 0xc8);
        // C8 03AA
        gbc.setState(0xcb3a, 0xe028, 0x50f0, 0x48ba, 0x3d14, 0x4ab5, 0x0, 0x0);
        gbc.writeMem(0xcb3a, { 0xc8 });
        gbc.writeMem(0xe028, { 0x3, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe02a);
        EXPECT(gbc.pc(), 0x2c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb3a), 0xc8);
        EXPECT(gbc.readMem(0xe028), 0x3);
        EXPECT(gbc.readMem(0xe029), 0x2c);
        // C8 03AB
        gbc.setState(0x2b07, 0x2573, 0x5400, 0xc2a9, 0x9204, 0x6c80, 0x1, 0x0);
        gbc.writeMem(0x2b07, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x2573);
        EXPECT(gbc.pc(), 0x2b08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 03AC
        gbc.setState(0x553b, 0xe66c, 0x2cf0, 0x30d5, 0x4172, 0x8cbe, 0x1, 0x0);
        gbc.writeMem(0x553b, { 0xc8 });
        gbc.writeMem(0xe66c, { 0x5d, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe66e);
        EXPECT(gbc.pc(), 0x825d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe66c), 0x5d);
        EXPECT(gbc.readMem(0xe66d), 0x82);
        // C8 03AD
        gbc.setState(0xbc55, 0x8d2e, 0x6170, 0xf493, 0xc64b, 0x7635, 0x0, 0x1);
        gbc.writeMem(0xbc55, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8d2e);
        EXPECT(gbc.pc(), 0xbc56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc55), 0xc8);
        // C8 03AE
        gbc.setState(0x801c, 0x76af, 0x9500, 0x89a5, 0x4cdf, 0x39a3, 0x0, 0x0);
        gbc.writeMem(0x801c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x76af);
        EXPECT(gbc.pc(), 0x801d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x801c), 0xc8);
        // C8 03AF
        gbc.setState(0x7e19, 0x9a83, 0xe090, 0x8246, 0x351, 0xc3bb, 0x0, 0x0);
        gbc.writeMem(0x7e19, { 0xc8 });
        gbc.writeMem(0x9a83, { 0xdd, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x9a85);
        EXPECT(gbc.pc(), 0xdadd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a83), 0xdd);
        EXPECT(gbc.readMem(0x9a84), 0xda);
        // C8 03B0
        gbc.setState(0x5094, 0x5d48, 0x6d90, 0xd1fc, 0xbf4a, 0xc5a0, 0x1, 0x0);
        gbc.writeMem(0x5094, { 0xc8 });
        gbc.writeMem(0x5d48, { 0xec, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x5d4a);
        EXPECT(gbc.pc(), 0x69ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 03B1
        gbc.setState(0x52ce, 0x6953, 0x3220, 0x29d5, 0xcd26, 0xdbdd, 0x0, 0x0);
        gbc.writeMem(0x52ce, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6953);
        EXPECT(gbc.pc(), 0x52cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 03B2
        gbc.setState(0xbe98, 0xff3b, 0x9dc0, 0x25b2, 0x9f30, 0x97bf, 0x1, 0x1);
        gbc.writeMem(0xbe98, { 0xc8 });
        gbc.writeMem(0xff3b, { 0xb2, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xff3d);
        EXPECT(gbc.pc(), 0xfdb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe98), 0xc8);
        EXPECT(gbc.readMem(0xff3b), 0xb2);
        EXPECT(gbc.readMem(0xff3c), 0xfd);
        // C8 03B3
        gbc.setState(0x456, 0x7792, 0xe7f0, 0xbc78, 0xbdbb, 0xd9b0, 0x0, 0x1);
        gbc.writeMem(0x456, { 0xc8 });
        gbc.writeMem(0x7792, { 0x81, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7794);
        EXPECT(gbc.pc(), 0x4181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03B4
        gbc.setState(0xec2f, 0x4173, 0x1530, 0x4f2f, 0xb000, 0x53c6, 0x1, 0x1);
        gbc.writeMem(0xec2f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4173);
        EXPECT(gbc.pc(), 0xec30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec2f), 0xc8);
        // C8 03B5
        gbc.setState(0x9ba3, 0x11a2, 0x1850, 0xc1e6, 0xd71a, 0x624b, 0x1, 0x1);
        gbc.writeMem(0x9ba3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x11a2);
        EXPECT(gbc.pc(), 0x9ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ba3), 0xc8);
        // C8 03B6
        gbc.setState(0x3bda, 0xf5d0, 0x2d80, 0x83e4, 0xe7a7, 0x5ef1, 0x0, 0x0);
        gbc.writeMem(0x3bda, { 0xc8 });
        gbc.writeMem(0xf5d0, { 0xce, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf5d2);
        EXPECT(gbc.pc(), 0xece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xf5d0), 0xce);
        EXPECT(gbc.readMem(0xf5d1), 0xe);
        // C8 03B7
        gbc.setState(0x1064, 0x710e, 0x37b0, 0x6e43, 0x5519, 0xfd21, 0x1, 0x0);
        gbc.writeMem(0x1064, { 0xc8 });
        gbc.writeMem(0x710e, { 0xf6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x7110);
        EXPECT(gbc.pc(), 0xe8f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03B8
        gbc.setState(0x84d5, 0x3740, 0x7830, 0x1b9f, 0x5fd1, 0x2aba, 0x1, 0x0);
        gbc.writeMem(0x84d5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3740);
        EXPECT(gbc.pc(), 0x84d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84d5), 0xc8);
        // C8 03BB
        gbc.setState(0x7d24, 0x9a6b, 0xa260, 0x16c3, 0x6533, 0x3ec3, 0x0, 0x1);
        gbc.writeMem(0x7d24, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x9a6b);
        EXPECT(gbc.pc(), 0x7d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 03BC
        gbc.setState(0x4fc8, 0x3f41, 0xc100, 0xd6ac, 0xd533, 0xd4b6, 0x1, 0x1);
        gbc.writeMem(0x4fc8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x3f41);
        EXPECT(gbc.pc(), 0x4fc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 03BD
        gbc.setState(0x1eb2, 0x9eb0, 0xc1e0, 0x6729, 0xd94b, 0xbeb4, 0x1, 0x1);
        gbc.writeMem(0x1eb2, { 0xc8 });
        gbc.writeMem(0x9eb0, { 0xd3, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x9eb2);
        EXPECT(gbc.pc(), 0xeed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb0), 0xd3);
        EXPECT(gbc.readMem(0x9eb1), 0xee);
        // C8 03BE
        gbc.setState(0xe8c9, 0xf74, 0xdec0, 0xb074, 0x10e4, 0xcff8, 0x0, 0x1);
        gbc.writeMem(0xf74, { 0xe3, 0x88 });
        gbc.writeMem(0xe8c9, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xf76);
        EXPECT(gbc.pc(), 0x88e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c9), 0xc8);
        // C8 03BF
        gbc.setState(0x52b9, 0xc7db, 0x6e80, 0xd05a, 0xb641, 0x3e2a, 0x0, 0x1);
        gbc.writeMem(0x52b9, { 0xc8 });
        gbc.writeMem(0xc7db, { 0x4, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xc7dd);
        EXPECT(gbc.pc(), 0x1f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7db), 0x4);
        EXPECT(gbc.readMem(0xc7dc), 0x1f);
        // C8 03C0
        gbc.setState(0x8db, 0xd1a3, 0xb080, 0x9617, 0xc98d, 0x48cd, 0x0, 0x1);
        gbc.writeMem(0x8db, { 0xc8 });
        gbc.writeMem(0xd1a3, { 0x78, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd1a5);
        EXPECT(gbc.pc(), 0x9678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1a3), 0x78);
        EXPECT(gbc.readMem(0xd1a4), 0x96);
        // C8 03C1
        gbc.setState(0x17db, 0x872c, 0xa1e0, 0xbdda, 0xd6dd, 0x3ed5, 0x0, 0x0);
        gbc.writeMem(0x17db, { 0xc8 });
        gbc.writeMem(0x872c, { 0xec, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x872e);
        EXPECT(gbc.pc(), 0x30ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x872c), 0xec);
        EXPECT(gbc.readMem(0x872d), 0x30);
        // C8 03C2
        gbc.setState(0x851b, 0xee87, 0x1470, 0xb42, 0xebad, 0x3f64, 0x1, 0x0);
        gbc.writeMem(0x851b, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xee87);
        EXPECT(gbc.pc(), 0x851c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x851b), 0xc8);
        // C8 03C3
        gbc.setState(0xd1bd, 0xccfb, 0xecd0, 0x49b9, 0x1595, 0xd717, 0x0, 0x1);
        gbc.writeMem(0xccfb, { 0x31, 0xb0 });
        gbc.writeMem(0xd1bd, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xccfd);
        EXPECT(gbc.pc(), 0xb031);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccfb), 0x31);
        EXPECT(gbc.readMem(0xccfc), 0xb0);
        EXPECT(gbc.readMem(0xd1bd), 0xc8);
        // C8 03C4
        gbc.setState(0xc92d, 0x202d, 0xb450, 0xf59a, 0x7477, 0xd481, 0x1, 0x1);
        gbc.writeMem(0xc92d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x202d);
        EXPECT(gbc.pc(), 0xc92e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc92d), 0xc8);
        // C8 03C5
        gbc.setState(0xd3db, 0x5990, 0x80e0, 0x4d78, 0x9be2, 0x4ece, 0x0, 0x0);
        gbc.writeMem(0x5990, { 0x9f, 0x14 });
        gbc.writeMem(0xd3db, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5992);
        EXPECT(gbc.pc(), 0x149f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3db), 0xc8);
        // C8 03C6
        gbc.setState(0x5471, 0xc909, 0x970, 0xf309, 0xbe5a, 0x8ea0, 0x0, 0x0);
        gbc.writeMem(0x5471, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc909);
        EXPECT(gbc.pc(), 0x5472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03C7
        gbc.setState(0xc443, 0x1f98, 0xa580, 0x5d3c, 0xda18, 0x2b92, 0x1, 0x0);
        gbc.writeMem(0x1f98, { 0x60, 0x8f });
        gbc.writeMem(0xc443, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x1f9a);
        EXPECT(gbc.pc(), 0x8f60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc443), 0xc8);
        // C8 03C8
        gbc.setState(0x6396, 0xf0de, 0x4b90, 0x5c03, 0xcdb1, 0x2f3b, 0x0, 0x0);
        gbc.writeMem(0x6396, { 0xc8 });
        gbc.writeMem(0xf0de, { 0x76, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xf0e0);
        EXPECT(gbc.pc(), 0xf076);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xf0de), 0x76);
        EXPECT(gbc.readMem(0xf0df), 0xf0);
        // C8 03C9
        gbc.setState(0x530d, 0x7337, 0x1070, 0x5272, 0xd47f, 0x1be1, 0x0, 0x0);
        gbc.writeMem(0x530d, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x7337);
        EXPECT(gbc.pc(), 0x530e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03CA
        gbc.setState(0xd2ba, 0xf848, 0x770, 0xf0c5, 0x6e1d, 0xc51e, 0x0, 0x1);
        gbc.writeMem(0xd2ba, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf848);
        EXPECT(gbc.pc(), 0xd2bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2ba), 0xc8);
        // C8 03CC
        gbc.setState(0xd6cc, 0xd73, 0x6ee0, 0x586, 0x1a53, 0xbbcc, 0x1, 0x1);
        gbc.writeMem(0xd73, { 0xa8, 0xa7 });
        gbc.writeMem(0xd6cc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd75);
        EXPECT(gbc.pc(), 0xa7a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6cc), 0xc8);
        // C8 03CE
        gbc.setState(0x4ba0, 0x1d7f, 0x2b40, 0xa9e7, 0x3935, 0x5b39, 0x1, 0x0);
        gbc.writeMem(0x4ba0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x1d7f);
        EXPECT(gbc.pc(), 0x4ba1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 03CF
        gbc.setState(0x5e31, 0x9318, 0x5bd0, 0x5299, 0xed69, 0x971, 0x0, 0x1);
        gbc.writeMem(0x5e31, { 0xc8 });
        gbc.writeMem(0x9318, { 0x42, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x931a);
        EXPECT(gbc.pc(), 0xc942);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9318), 0x42);
        EXPECT(gbc.readMem(0x9319), 0xc9);
        // C8 03D0
        gbc.setState(0xc020, 0x7a00, 0xc70, 0x9631, 0x4510, 0xb5cb, 0x1, 0x1);
        gbc.writeMem(0xc020, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7a00);
        EXPECT(gbc.pc(), 0xc021);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc020), 0xc8);
        // C8 03D1
        gbc.setState(0x691f, 0xf245, 0x2760, 0xf8d7, 0xd54, 0xccf8, 0x0, 0x0);
        gbc.writeMem(0x691f, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xf245);
        EXPECT(gbc.pc(), 0x6920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C8 03D2
        gbc.setState(0xb4f3, 0xfaa9, 0x4300, 0xdb8a, 0x508f, 0x3294, 0x1, 0x0);
        gbc.writeMem(0xb4f3, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xfaa9);
        EXPECT(gbc.pc(), 0xb4f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4f3), 0xc8);
        // C8 03D3
        gbc.setState(0x2ee5, 0x7927, 0x1800, 0x8611, 0x161f, 0x620e, 0x1, 0x1);
        gbc.writeMem(0x2ee5, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7927);
        EXPECT(gbc.pc(), 0x2ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 03D4
        gbc.setState(0xb28e, 0xdea9, 0xc30, 0x5c80, 0x6cc6, 0x482a, 0x0, 0x0);
        gbc.writeMem(0xb28e, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xdea9);
        EXPECT(gbc.pc(), 0xb28f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb28e), 0xc8);
        // C8 03D5
        gbc.setState(0x8f49, 0xe828, 0x26b0, 0xa00f, 0xb6e8, 0x1570, 0x1, 0x1);
        gbc.writeMem(0x8f49, { 0xc8 });
        gbc.writeMem(0xe828, { 0x4c, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe82a);
        EXPECT(gbc.pc(), 0xfe4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f49), 0xc8);
        EXPECT(gbc.readMem(0xe828), 0x4c);
        EXPECT(gbc.readMem(0xe829), 0xfe);
        // C8 03D6
        gbc.setState(0x5e63, 0x3bd0, 0x49b0, 0x52aa, 0x2369, 0xfb35, 0x0, 0x0);
        gbc.writeMem(0x3bd0, { 0x50, 0xbf });
        gbc.writeMem(0x5e63, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3bd2);
        EXPECT(gbc.pc(), 0xbf50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03D7
        gbc.setState(0x5947, 0xa7fb, 0xbc80, 0xe2b3, 0x981d, 0x2f2a, 0x0, 0x1);
        gbc.writeMem(0x5947, { 0xc8 });
        gbc.writeMem(0xa7fb, { 0x35, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa7fd);
        EXPECT(gbc.pc(), 0xa635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7fb), 0x35);
        EXPECT(gbc.readMem(0xa7fc), 0xa6);
        // C8 03D8
        gbc.setState(0xbbcc, 0xc7f4, 0x3c00, 0xd7b1, 0x38d3, 0x638f, 0x1, 0x0);
        gbc.writeMem(0xbbcc, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc7f4);
        EXPECT(gbc.pc(), 0xbbcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbcc), 0xc8);
        // C8 03D9
        gbc.setState(0x92f1, 0xe9d5, 0xa2c0, 0x93b2, 0x7442, 0xcbf1, 0x1, 0x1);
        gbc.writeMem(0x92f1, { 0xc8 });
        gbc.writeMem(0xe9d5, { 0x66, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xe9d7);
        EXPECT(gbc.pc(), 0x7266);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92f1), 0xc8);
        EXPECT(gbc.readMem(0xe9d5), 0x66);
        EXPECT(gbc.readMem(0xe9d6), 0x72);
        // C8 03DA
        gbc.setState(0x80a2, 0x8334, 0xeed0, 0xd08e, 0xb17, 0xc86c, 0x0, 0x0);
        gbc.writeMem(0x80a2, { 0xc8 });
        gbc.writeMem(0x8334, { 0xe3, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x8336);
        EXPECT(gbc.pc(), 0x42e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80a2), 0xc8);
        EXPECT(gbc.readMem(0x8334), 0xe3);
        EXPECT(gbc.readMem(0x8335), 0x42);
        // C8 03DB
        gbc.setState(0xa7f2, 0xf251, 0x4a40, 0x7df, 0x7e02, 0x8f81, 0x1, 0x0);
        gbc.writeMem(0xa7f2, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf251);
        EXPECT(gbc.pc(), 0xa7f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f2), 0xc8);
        // C8 03DC
        gbc.setState(0x94ef, 0xc4e9, 0xc4d0, 0x6def, 0x8bc8, 0xa4b3, 0x1, 0x1);
        gbc.writeMem(0x94ef, { 0xc8 });
        gbc.writeMem(0xc4e9, { 0x16, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc4eb);
        EXPECT(gbc.pc(), 0xb116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94ef), 0xc8);
        EXPECT(gbc.readMem(0xc4e9), 0x16);
        EXPECT(gbc.readMem(0xc4ea), 0xb1);
        // C8 03DD
        gbc.setState(0xada8, 0x221d, 0x7dc0, 0x793c, 0x315f, 0xf0b3, 0x1, 0x1);
        gbc.writeMem(0x221d, { 0x52, 0xf7 });
        gbc.writeMem(0xada8, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x221f);
        EXPECT(gbc.pc(), 0xf752);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xada8), 0xc8);
        // C8 03DE
        gbc.setState(0x2a69, 0xa7a4, 0x7350, 0xa2dd, 0x8d8d, 0x96d8, 0x1, 0x1);
        gbc.writeMem(0x2a69, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xa7a4);
        EXPECT(gbc.pc(), 0x2a6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 03DF
        gbc.setState(0xc506, 0x6669, 0x45d0, 0x6eb9, 0x7a89, 0xbb4f, 0x0, 0x1);
        gbc.writeMem(0x6669, { 0x38, 0xdd });
        gbc.writeMem(0xc506, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x666b);
        EXPECT(gbc.pc(), 0xdd38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc506), 0xc8);
        // C8 03E0
        gbc.setState(0x6cb0, 0x1839, 0xb690, 0xb06e, 0xa2d0, 0x61e1, 0x1, 0x0);
        gbc.writeMem(0x1839, { 0x7e, 0x5a });
        gbc.writeMem(0x6cb0, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x183b);
        EXPECT(gbc.pc(), 0x5a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C8 03E1
        gbc.setState(0x44d8, 0xb65d, 0x10b0, 0xe142, 0xb3e8, 0x56d4, 0x0, 0x0);
        gbc.writeMem(0x44d8, { 0xc8 });
        gbc.writeMem(0xb65d, { 0x4b, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xb65f);
        EXPECT(gbc.pc(), 0x8f4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb65d), 0x4b);
        EXPECT(gbc.readMem(0xb65e), 0x8f);
        // C8 03E2
        gbc.setState(0xa8b7, 0x37a5, 0x8e10, 0x9ebd, 0x52d3, 0x3927, 0x1, 0x0);
        gbc.writeMem(0xa8b7, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x37a5);
        EXPECT(gbc.pc(), 0xa8b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8b7), 0xc8);
        // C8 03E3
        gbc.setState(0xaa9c, 0xd65, 0x9ae0, 0xee9c, 0x2c5d, 0xbebb, 0x1, 0x0);
        gbc.writeMem(0xd65, { 0x4b, 0x57 });
        gbc.writeMem(0xaa9c, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd67);
        EXPECT(gbc.pc(), 0x574b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa9c), 0xc8);
        // C8 03E4
        gbc.setState(0x4199, 0x8f16, 0xd30, 0x916a, 0xc5bf, 0x1b19, 0x1, 0x1);
        gbc.writeMem(0x4199, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8f16);
        EXPECT(gbc.pc(), 0x419a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C8 03E5
        gbc.setState(0x6063, 0x756e, 0xf40, 0xbfd4, 0xf4bc, 0xb561, 0x1, 0x1);
        gbc.writeMem(0x6063, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x756e);
        EXPECT(gbc.pc(), 0x6064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C8 03E6
        gbc.setState(0xbf22, 0xb0dd, 0x5380, 0x4a98, 0x3c30, 0x9d23, 0x0, 0x0);
        gbc.writeMem(0xb0dd, { 0xad, 0xf0 });
        gbc.writeMem(0xbf22, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xb0df);
        EXPECT(gbc.pc(), 0xf0ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0dd), 0xad);
        EXPECT(gbc.readMem(0xb0de), 0xf0);
        EXPECT(gbc.readMem(0xbf22), 0xc8);
        // C8 03E7
        gbc.setState(0x6180, 0x3689, 0x52c0, 0x960a, 0xb0db, 0x4426, 0x1, 0x1);
        gbc.writeMem(0x3689, { 0x80, 0xf6 });
        gbc.writeMem(0x6180, { 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x368b);
        EXPECT(gbc.pc(), 0xf680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
    }
