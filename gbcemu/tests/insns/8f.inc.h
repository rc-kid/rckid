    TEST(gbcemu, opcode_8f) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 8F 0000
        gbc.setState(0x3235, 0x2606, 0x8650, 0x2281, 0xd4f6, 0x85cf, 0x1, 0x1);
        gbc.writeMem(0x3235, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x2606);
        EXPECT(gbc.pc(), 0x3236);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0001
        gbc.setState(0x95ad, 0x8ed3, 0x90d0, 0xc510, 0x5263, 0x6c6a, 0x1, 0x0);
        gbc.writeMem(0x95ad, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x8ed3);
        EXPECT(gbc.pc(), 0x95ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95ad), 0x8f);
        // 8F 0003
        gbc.setState(0xf99, 0x5fad, 0xcfb0, 0xd22c, 0xf46, 0xe87a, 0x1, 0x0);
        gbc.writeMem(0xf99, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5fad);
        EXPECT(gbc.pc(), 0xf9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0004
        gbc.setState(0xcc0e, 0xe52a, 0x1fa0, 0xb2b9, 0xa466, 0x4781, 0x1, 0x0);
        gbc.writeMem(0xcc0e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe52a);
        EXPECT(gbc.pc(), 0xcc0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc0e), 0x8f);
        // 8F 0005
        gbc.setState(0x44c8, 0x82cb, 0x4880, 0xaa32, 0x7574, 0x6675, 0x1, 0x0);
        gbc.writeMem(0x44c8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x82cb);
        EXPECT(gbc.pc(), 0x44c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0006
        gbc.setState(0xef44, 0xce9, 0xc5b0, 0x4e3e, 0xcaac, 0xa3fd, 0x1, 0x0);
        gbc.writeMem(0xef44, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xce9);
        EXPECT(gbc.pc(), 0xef45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef44), 0x8f);
        // 8F 0007
        gbc.setState(0x68ca, 0xf92b, 0x9790, 0x7e03, 0x13fb, 0xab3, 0x0, 0x0);
        gbc.writeMem(0x68ca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf92b);
        EXPECT(gbc.pc(), 0x68cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0008
        gbc.setState(0x420d, 0x5063, 0x1780, 0xf6a7, 0xd53d, 0x5cc6, 0x1, 0x1);
        gbc.writeMem(0x420d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5063);
        EXPECT(gbc.pc(), 0x420e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 000A
        gbc.setState(0x5e02, 0xaeec, 0x2360, 0x4cde, 0x7a5a, 0xe8bb, 0x0, 0x1);
        gbc.writeMem(0x5e02, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xaeec);
        EXPECT(gbc.pc(), 0x5e03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 000B
        gbc.setState(0xb566, 0x45a0, 0xe670, 0x6b42, 0x22ce, 0xc75a, 0x0, 0x1);
        gbc.writeMem(0xb566, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x45a0);
        EXPECT(gbc.pc(), 0xb567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb566), 0x8f);
        // 8F 000C
        gbc.setState(0x2dd7, 0x190c, 0x4bf0, 0xb651, 0x981, 0x9d74, 0x0, 0x1);
        gbc.writeMem(0x2dd7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x190c);
        EXPECT(gbc.pc(), 0x2dd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 000D
        gbc.setState(0x3fab, 0x52cb, 0xd600, 0x9935, 0xbda5, 0x9e4e, 0x0, 0x0);
        gbc.writeMem(0x3fab, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x52cb);
        EXPECT(gbc.pc(), 0x3fac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 000E
        gbc.setState(0xd516, 0x3bfe, 0xf7b0, 0xf06b, 0x9f85, 0x11f7, 0x1, 0x1);
        gbc.writeMem(0xd516, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3bfe);
        EXPECT(gbc.pc(), 0xd517);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd516), 0x8f);
        // 8F 000F
        gbc.setState(0x245e, 0x40ea, 0x6a30, 0xbeeb, 0xd259, 0xcba5, 0x1, 0x0);
        gbc.writeMem(0x245e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x40ea);
        EXPECT(gbc.pc(), 0x245f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0010
        gbc.setState(0x2dc7, 0xdfcb, 0x6bc0, 0xb692, 0xfb20, 0x3bfe, 0x1, 0x1);
        gbc.writeMem(0x2dc7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xdfcb);
        EXPECT(gbc.pc(), 0x2dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0011
        gbc.setState(0xe5fb, 0xa22f, 0x4b0, 0x721d, 0xfe8b, 0x91fa, 0x1, 0x0);
        gbc.writeMem(0xe5fb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa22f);
        EXPECT(gbc.pc(), 0xe5fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5fb), 0x8f);
        // 8F 0012
        gbc.setState(0x6ea4, 0x98e6, 0x5060, 0x82b8, 0xe88f, 0x4b44, 0x1, 0x0);
        gbc.writeMem(0x6ea4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x98e6);
        EXPECT(gbc.pc(), 0x6ea5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0013
        gbc.setState(0xcbf7, 0xf7c5, 0x6250, 0xab21, 0x9ccb, 0xa2d, 0x0, 0x1);
        gbc.writeMem(0xcbf7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf7c5);
        EXPECT(gbc.pc(), 0xcbf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf7), 0x8f);
        // 8F 0014
        gbc.setState(0xa629, 0xf5a3, 0x3840, 0xd653, 0x5de7, 0xf3fa, 0x1, 0x1);
        gbc.writeMem(0xa629, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xf5a3);
        EXPECT(gbc.pc(), 0xa62a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa629), 0x8f);
        // 8F 0015
        gbc.setState(0x15c8, 0xb29a, 0xe710, 0xebb6, 0xb7c5, 0xacc5, 0x1, 0x0);
        gbc.writeMem(0x15c8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb29a);
        EXPECT(gbc.pc(), 0x15c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0016
        gbc.setState(0x691c, 0x1ef1, 0xd7b0, 0x473a, 0xab72, 0xe0bc, 0x1, 0x1);
        gbc.writeMem(0x691c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x1ef1);
        EXPECT(gbc.pc(), 0x691d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0017
        gbc.setState(0xcb78, 0x6b4d, 0x1970, 0x4166, 0x8212, 0x691d, 0x1, 0x1);
        gbc.writeMem(0xcb78, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x6b4d);
        EXPECT(gbc.pc(), 0xcb79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb78), 0x8f);
        // 8F 0019
        gbc.setState(0xc717, 0x33e8, 0xd7b0, 0x17a3, 0x958, 0x3577, 0x1, 0x1);
        gbc.writeMem(0xc717, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x33e8);
        EXPECT(gbc.pc(), 0xc718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc717), 0x8f);
        // 8F 001A
        gbc.setState(0x3118, 0x891e, 0x5600, 0xfe64, 0x810d, 0xbb17, 0x0, 0x1);
        gbc.writeMem(0x3118, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x891e);
        EXPECT(gbc.pc(), 0x3119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 001B
        gbc.setState(0x89f9, 0xfec9, 0xb3e0, 0xd879, 0x9f77, 0xd7c, 0x1, 0x1);
        gbc.writeMem(0x89f9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xfec9);
        EXPECT(gbc.pc(), 0x89fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89f9), 0x8f);
        // 8F 001C
        gbc.setState(0xcae7, 0x5586, 0x5f60, 0x1203, 0xbafe, 0x775c, 0x1, 0x0);
        gbc.writeMem(0xcae7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5586);
        EXPECT(gbc.pc(), 0xcae8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcae7), 0x8f);
        // 8F 001D
        gbc.setState(0x9d96, 0xd1a5, 0x3bc0, 0xc6a5, 0x84fc, 0xd83c, 0x0, 0x0);
        gbc.writeMem(0x9d96, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd1a5);
        EXPECT(gbc.pc(), 0x9d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d96), 0x8f);
        // 8F 001E
        gbc.setState(0xb06b, 0xcdf0, 0x4bd0, 0x56c0, 0xf44e, 0x383e, 0x0, 0x1);
        gbc.writeMem(0xb06b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xcdf0);
        EXPECT(gbc.pc(), 0xb06c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb06b), 0x8f);
        // 8F 001F
        gbc.setState(0xb307, 0xd680, 0x8030, 0xb841, 0x55fc, 0xe15c, 0x0, 0x1);
        gbc.writeMem(0xb307, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xd680);
        EXPECT(gbc.pc(), 0xb308);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb307), 0x8f);
        // 8F 0020
        gbc.setState(0xef33, 0x9cc7, 0x8c80, 0xb67b, 0xaac4, 0xb782, 0x1, 0x0);
        gbc.writeMem(0xef33, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9cc7);
        EXPECT(gbc.pc(), 0xef34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef33), 0x8f);
        // 8F 0021
        gbc.setState(0xefae, 0xf2a2, 0x7f30, 0x5f31, 0x20b7, 0xbad, 0x0, 0x1);
        gbc.writeMem(0xefae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf2a2);
        EXPECT(gbc.pc(), 0xefaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefae), 0x8f);
        // 8F 0022
        gbc.setState(0x3277, 0xc567, 0xe5c0, 0x91fc, 0xd4c, 0xc9ae, 0x1, 0x0);
        gbc.writeMem(0x3277, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc567);
        EXPECT(gbc.pc(), 0x3278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0023
        gbc.setState(0x69c6, 0xb7b, 0x3340, 0xe985, 0xdd0b, 0xbf8c, 0x0, 0x1);
        gbc.writeMem(0x69c6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb7b);
        EXPECT(gbc.pc(), 0x69c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0024
        gbc.setState(0x49f3, 0x7399, 0xae90, 0x4543, 0xa431, 0x9ed9, 0x1, 0x0);
        gbc.writeMem(0x49f3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7399);
        EXPECT(gbc.pc(), 0x49f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0025
        gbc.setState(0x3e82, 0x569e, 0xa720, 0xe88f, 0xfde4, 0x7a9e, 0x1, 0x1);
        gbc.writeMem(0x3e82, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x569e);
        EXPECT(gbc.pc(), 0x3e83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0026
        gbc.setState(0x17de, 0x2f25, 0xc990, 0xe774, 0x3230, 0xaa2a, 0x0, 0x1);
        gbc.writeMem(0x17de, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2f25);
        EXPECT(gbc.pc(), 0x17df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0027
        gbc.setState(0x8d6c, 0x160d, 0x5c10, 0xada1, 0xd98c, 0xe04b, 0x1, 0x0);
        gbc.writeMem(0x8d6c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x160d);
        EXPECT(gbc.pc(), 0x8d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d6c), 0x8f);
        // 8F 0028
        gbc.setState(0x821e, 0x9a70, 0x4170, 0xd67b, 0x22a1, 0x1322, 0x1, 0x1);
        gbc.writeMem(0x821e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9a70);
        EXPECT(gbc.pc(), 0x821f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x821e), 0x8f);
        // 8F 0029
        gbc.setState(0x471f, 0x2e9e, 0xe770, 0xaf5, 0xc690, 0xdbe4, 0x0, 0x0);
        gbc.writeMem(0x471f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2e9e);
        EXPECT(gbc.pc(), 0x4720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 002A
        gbc.setState(0xe561, 0xf1ce, 0xbee0, 0xed1b, 0xd09b, 0x62a, 0x1, 0x0);
        gbc.writeMem(0xe561, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf1ce);
        EXPECT(gbc.pc(), 0xe562);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe561), 0x8f);
        // 8F 002B
        gbc.setState(0xd376, 0xf67b, 0xce40, 0xcda9, 0xb2ac, 0xcb64, 0x0, 0x1);
        gbc.writeMem(0xd376, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf67b);
        EXPECT(gbc.pc(), 0xd377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd376), 0x8f);
        // 8F 002C
        gbc.setState(0xcfd9, 0x8d9c, 0x78e0, 0x68ca, 0x7f0d, 0x1cc7, 0x0, 0x0);
        gbc.writeMem(0xcfd9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8d9c);
        EXPECT(gbc.pc(), 0xcfda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfd9), 0x8f);
        // 8F 002D
        gbc.setState(0x3454, 0xb7cb, 0xfcf0, 0xd953, 0x47b1, 0x473f, 0x0, 0x1);
        gbc.writeMem(0x3454, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb7cb);
        EXPECT(gbc.pc(), 0x3455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 002E
        gbc.setState(0x63a, 0xb071, 0xc340, 0x53ea, 0x8208, 0xdf60, 0x0, 0x1);
        gbc.writeMem(0x63a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb071);
        EXPECT(gbc.pc(), 0x63b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 002F
        gbc.setState(0x8ce2, 0xd7ac, 0xaf70, 0x8e35, 0x7b57, 0x6801, 0x1, 0x1);
        gbc.writeMem(0x8ce2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xd7ac);
        EXPECT(gbc.pc(), 0x8ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ce2), 0x8f);
        // 8F 0030
        gbc.setState(0x6b44, 0xf014, 0x470, 0x617a, 0x4574, 0xd593, 0x0, 0x0);
        gbc.writeMem(0x6b44, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf014);
        EXPECT(gbc.pc(), 0x6b45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0031
        gbc.setState(0xe056, 0x742a, 0x9c0, 0xece3, 0xc89c, 0xe9e5, 0x0, 0x1);
        gbc.writeMem(0xe056, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x742a);
        EXPECT(gbc.pc(), 0xe057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe056), 0x8f);
        // 8F 0032
        gbc.setState(0x2879, 0xe2b7, 0x57c0, 0x31b, 0x57b3, 0x8aef, 0x1, 0x1);
        gbc.writeMem(0x2879, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe2b7);
        EXPECT(gbc.pc(), 0x287a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0033
        gbc.setState(0xa09b, 0x84b6, 0x3740, 0x4070, 0x7ae0, 0xe930, 0x0, 0x0);
        gbc.writeMem(0xa09b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x84b6);
        EXPECT(gbc.pc(), 0xa09c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa09b), 0x8f);
        // 8F 0034
        gbc.setState(0x275e, 0xcf29, 0x6940, 0xdea1, 0x70d5, 0xe5d2, 0x1, 0x0);
        gbc.writeMem(0x275e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xcf29);
        EXPECT(gbc.pc(), 0x275f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0035
        gbc.setState(0x2708, 0x5c7c, 0xc20, 0x3d04, 0xbfde, 0x9873, 0x0, 0x0);
        gbc.writeMem(0x2708, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5c7c);
        EXPECT(gbc.pc(), 0x2709);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0036
        gbc.setState(0xc90d, 0x36ac, 0x2780, 0x5a2c, 0x7b31, 0xc3f, 0x1, 0x0);
        gbc.writeMem(0xc90d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x36ac);
        EXPECT(gbc.pc(), 0xc90e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc90d), 0x8f);
        // 8F 0037
        gbc.setState(0x186c, 0x9e5e, 0x55f0, 0x44ba, 0x6c04, 0x5065, 0x0, 0x0);
        gbc.writeMem(0x186c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9e5e);
        EXPECT(gbc.pc(), 0x186d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0038
        gbc.setState(0x219f, 0x3e45, 0xc980, 0xb688, 0x91c6, 0x22ed, 0x1, 0x1);
        gbc.writeMem(0x219f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3e45);
        EXPECT(gbc.pc(), 0x21a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0039
        gbc.setState(0x5f23, 0xa8e2, 0xa040, 0x40ac, 0xdcc0, 0xc41a, 0x1, 0x1);
        gbc.writeMem(0x5f23, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xa8e2);
        EXPECT(gbc.pc(), 0x5f24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 003A
        gbc.setState(0x5d9e, 0xdb1e, 0xb8c0, 0x1eaa, 0x6878, 0x4593, 0x1, 0x1);
        gbc.writeMem(0x5d9e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xdb1e);
        EXPECT(gbc.pc(), 0x5d9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 003B
        gbc.setState(0x8659, 0xb87, 0xd90, 0xb9d6, 0xd4f8, 0x157, 0x0, 0x0);
        gbc.writeMem(0x8659, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb87);
        EXPECT(gbc.pc(), 0x865a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8659), 0x8f);
        // 8F 003D
        gbc.setState(0x54a4, 0xd99, 0xaf60, 0xe16, 0x7cb, 0xf002, 0x0, 0x1);
        gbc.writeMem(0x54a4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd99);
        EXPECT(gbc.pc(), 0x54a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 003E
        gbc.setState(0xcd5f, 0x6fd3, 0x95c0, 0xe8d0, 0xe635, 0x2520, 0x0, 0x1);
        gbc.writeMem(0xcd5f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6fd3);
        EXPECT(gbc.pc(), 0xcd60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd5f), 0x8f);
        // 8F 003F
        gbc.setState(0x3d13, 0x5c8b, 0x9770, 0xd177, 0x9df8, 0x2b77, 0x0, 0x1);
        gbc.writeMem(0x3d13, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5c8b);
        EXPECT(gbc.pc(), 0x3d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0040
        gbc.setState(0xed99, 0x787c, 0x8d40, 0x1fec, 0x1407, 0xd7b8, 0x1, 0x1);
        gbc.writeMem(0xed99, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x787c);
        EXPECT(gbc.pc(), 0xed9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed99), 0x8f);
        // 8F 0041
        gbc.setState(0x836, 0x4ac4, 0x5a10, 0x50e, 0xbc48, 0x3f0a, 0x1, 0x0);
        gbc.writeMem(0x836, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4ac4);
        EXPECT(gbc.pc(), 0x837);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0042
        gbc.setState(0x6f2d, 0x2c9f, 0x31b0, 0xd056, 0xac13, 0xf6c7, 0x1, 0x1);
        gbc.writeMem(0x6f2d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2c9f);
        EXPECT(gbc.pc(), 0x6f2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0043
        gbc.setState(0x4fca, 0x315c, 0xb200, 0xd5ae, 0x93ea, 0x9c33, 0x1, 0x0);
        gbc.writeMem(0x4fca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x315c);
        EXPECT(gbc.pc(), 0x4fcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0044
        gbc.setState(0xd787, 0x33b2, 0x43a0, 0xcc5, 0xbc93, 0x147c, 0x1, 0x1);
        gbc.writeMem(0xd787, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x33b2);
        EXPECT(gbc.pc(), 0xd788);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd787), 0x8f);
        // 8F 0045
        gbc.setState(0x9bf9, 0xe455, 0x8870, 0x44b1, 0x1c79, 0x6a6f, 0x0, 0x0);
        gbc.writeMem(0x9bf9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe455);
        EXPECT(gbc.pc(), 0x9bfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bf9), 0x8f);
        // 8F 0046
        gbc.setState(0x2099, 0xdffa, 0xddc0, 0x96bc, 0x49fc, 0xc1d1, 0x0, 0x0);
        gbc.writeMem(0x2099, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xdffa);
        EXPECT(gbc.pc(), 0x209a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0047
        gbc.setState(0x105f, 0xb330, 0x76b0, 0x37cf, 0xd49, 0xf408, 0x1, 0x0);
        gbc.writeMem(0x105f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb330);
        EXPECT(gbc.pc(), 0x1060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0048
        gbc.setState(0xea1a, 0xd990, 0x2950, 0x2db5, 0x6da8, 0x50cb, 0x1, 0x0);
        gbc.writeMem(0xea1a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd990);
        EXPECT(gbc.pc(), 0xea1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea1a), 0x8f);
        // 8F 0049
        gbc.setState(0x8507, 0xa45e, 0x25f0, 0x9b93, 0xedbb, 0x7ddc, 0x0, 0x1);
        gbc.writeMem(0x8507, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa45e);
        EXPECT(gbc.pc(), 0x8508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8507), 0x8f);
        // 8F 004A
        gbc.setState(0x3dae, 0xee0e, 0x8af0, 0xc7f6, 0xc0ae, 0x46e, 0x0, 0x1);
        gbc.writeMem(0x3dae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xee0e);
        EXPECT(gbc.pc(), 0x3daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 004B
        gbc.setState(0x3284, 0x36e5, 0x2e80, 0x7568, 0x5c1c, 0x546e, 0x0, 0x1);
        gbc.writeMem(0x3284, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x36e5);
        EXPECT(gbc.pc(), 0x3285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 004C
        gbc.setState(0xb9e, 0xb453, 0x26c0, 0xafc3, 0x268d, 0x4d77, 0x1, 0x1);
        gbc.writeMem(0xb9e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb453);
        EXPECT(gbc.pc(), 0xb9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 004D
        gbc.setState(0x6634, 0x605c, 0x2b10, 0xc5a, 0xfab9, 0xc6c4, 0x0, 0x1);
        gbc.writeMem(0x6634, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x605c);
        EXPECT(gbc.pc(), 0x6635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 004E
        gbc.setState(0xb4e8, 0x3730, 0xd9d0, 0x7b1d, 0x9d9f, 0x642b, 0x1, 0x1);
        gbc.writeMem(0xb4e8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3730);
        EXPECT(gbc.pc(), 0xb4e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e8), 0x8f);
        // 8F 004F
        gbc.setState(0xb543, 0x345b, 0xd3a0, 0x82f3, 0xc572, 0xc1bf, 0x1, 0x1);
        gbc.writeMem(0xb543, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x345b);
        EXPECT(gbc.pc(), 0xb544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb543), 0x8f);
        // 8F 0050
        gbc.setState(0x4e1a, 0xd5e8, 0x2f80, 0xe91b, 0xcfe6, 0x632c, 0x1, 0x1);
        gbc.writeMem(0x4e1a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd5e8);
        EXPECT(gbc.pc(), 0x4e1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0051
        gbc.setState(0x3b6c, 0x4634, 0x74d0, 0xf37d, 0xa7, 0x5b8f, 0x1, 0x0);
        gbc.writeMem(0x3b6c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4634);
        EXPECT(gbc.pc(), 0x3b6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0052
        gbc.setState(0x8618, 0x47c7, 0xc730, 0x7c47, 0x4394, 0x48de, 0x1, 0x0);
        gbc.writeMem(0x8618, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x47c7);
        EXPECT(gbc.pc(), 0x8619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8618), 0x8f);
        // 8F 0053
        gbc.setState(0x75c7, 0x6e25, 0xd5b0, 0x8b5c, 0xd585, 0xcca8, 0x0, 0x0);
        gbc.writeMem(0x75c7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x6e25);
        EXPECT(gbc.pc(), 0x75c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0054
        gbc.setState(0xa3b5, 0x33b0, 0x0, 0x406f, 0xe571, 0xe3bb, 0x1, 0x0);
        gbc.writeMem(0xa3b5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x33b0);
        EXPECT(gbc.pc(), 0xa3b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b5), 0x8f);
        // 8F 0055
        gbc.setState(0x85eb, 0xe81a, 0x2be0, 0x11e2, 0x96aa, 0xf0cb, 0x1, 0x0);
        gbc.writeMem(0x85eb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe81a);
        EXPECT(gbc.pc(), 0x85ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85eb), 0x8f);
        // 8F 0056
        gbc.setState(0x71ba, 0x3f7e, 0x5f20, 0xc4b6, 0x59e7, 0xa6c5, 0x1, 0x1);
        gbc.writeMem(0x71ba, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3f7e);
        EXPECT(gbc.pc(), 0x71bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0057
        gbc.setState(0xb5d9, 0xcc09, 0x3730, 0xb20b, 0xb6d7, 0x911e, 0x1, 0x0);
        gbc.writeMem(0xb5d9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xcc09);
        EXPECT(gbc.pc(), 0xb5da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d9), 0x8f);
        // 8F 0058
        gbc.setState(0xe40a, 0xeef8, 0x6550, 0x39ff, 0x1e61, 0x6705, 0x1, 0x1);
        gbc.writeMem(0xe40a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xeef8);
        EXPECT(gbc.pc(), 0xe40b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe40a), 0x8f);
        // 8F 0059
        gbc.setState(0x1801, 0xb4c, 0x41c0, 0x1142, 0x4f76, 0x1af9, 0x1, 0x1);
        gbc.writeMem(0x1801, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb4c);
        EXPECT(gbc.pc(), 0x1802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 005A
        gbc.setState(0x85bd, 0x1e86, 0xe6d0, 0x4a7a, 0xa24e, 0x6049, 0x0, 0x1);
        gbc.writeMem(0x85bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1e86);
        EXPECT(gbc.pc(), 0x85be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85bd), 0x8f);
        // 8F 005B
        gbc.setState(0x5ea6, 0x4d22, 0x7170, 0x2186, 0x6308, 0x424a, 0x0, 0x0);
        gbc.writeMem(0x5ea6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x4d22);
        EXPECT(gbc.pc(), 0x5ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 005C
        gbc.setState(0x6ad0, 0x6ef9, 0x5880, 0x8e56, 0x9193, 0x19cf, 0x1, 0x1);
        gbc.writeMem(0x6ad0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x6ef9);
        EXPECT(gbc.pc(), 0x6ad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 005E
        gbc.setState(0x4701, 0x2fbf, 0xf9e0, 0xbe01, 0x675d, 0xff27, 0x0, 0x0);
        gbc.writeMem(0x4701, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2fbf);
        EXPECT(gbc.pc(), 0x4702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 005F
        gbc.setState(0x445c, 0x4af4, 0xa20, 0xe167, 0xe799, 0x3eac, 0x0, 0x0);
        gbc.writeMem(0x445c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4af4);
        EXPECT(gbc.pc(), 0x445d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0060
        gbc.setState(0x4ec8, 0x12a, 0xc80, 0xfd9b, 0xc113, 0x7e67, 0x1, 0x1);
        gbc.writeMem(0x4ec8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x12a);
        EXPECT(gbc.pc(), 0x4ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0061
        gbc.setState(0xdc14, 0xa314, 0xc910, 0x7a02, 0x5f22, 0x6b25, 0x0, 0x0);
        gbc.writeMem(0xdc14, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa314);
        EXPECT(gbc.pc(), 0xdc15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc14), 0x8f);
        // 8F 0062
        gbc.setState(0x886e, 0xbfc7, 0x5d0, 0x81f5, 0xd716, 0x70c6, 0x1, 0x1);
        gbc.writeMem(0x886e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xbfc7);
        EXPECT(gbc.pc(), 0x886f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x886e), 0x8f);
        // 8F 0063
        gbc.setState(0xe1b8, 0xa32a, 0x1d70, 0xdea7, 0xb075, 0x66d4, 0x0, 0x1);
        gbc.writeMem(0xe1b8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa32a);
        EXPECT(gbc.pc(), 0xe1b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1b8), 0x8f);
        // 8F 0064
        gbc.setState(0xa4e6, 0x11b2, 0x7890, 0x40ca, 0x90d5, 0x4cb4, 0x0, 0x1);
        gbc.writeMem(0xa4e6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x11b2);
        EXPECT(gbc.pc(), 0xa4e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4e6), 0x8f);
        // 8F 0065
        gbc.setState(0x2032, 0xd8ca, 0x60f0, 0xf33a, 0xd532, 0x2090, 0x0, 0x1);
        gbc.writeMem(0x2032, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd8ca);
        EXPECT(gbc.pc(), 0x2033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0066
        gbc.setState(0x9721, 0x8a95, 0xbe10, 0x7429, 0x609d, 0x57da, 0x0, 0x0);
        gbc.writeMem(0x9721, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8a95);
        EXPECT(gbc.pc(), 0x9722);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9721), 0x8f);
        // 8F 0067
        gbc.setState(0x7f12, 0x72f7, 0xddd0, 0xed66, 0xb1f4, 0x1cf7, 0x1, 0x1);
        gbc.writeMem(0x7f12, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x72f7);
        EXPECT(gbc.pc(), 0x7f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0068
        gbc.setState(0x97ec, 0x31cc, 0x3500, 0x1899, 0x96f0, 0xd4e1, 0x0, 0x1);
        gbc.writeMem(0x97ec, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x31cc);
        EXPECT(gbc.pc(), 0x97ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97ec), 0x8f);
        // 8F 0069
        gbc.setState(0x4e32, 0xc261, 0xd770, 0xdb14, 0xd227, 0xe681, 0x0, 0x1);
        gbc.writeMem(0x4e32, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc261);
        EXPECT(gbc.pc(), 0x4e33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 006A
        gbc.setState(0x44b4, 0x814e, 0x8410, 0x8bdf, 0xaf00, 0xde4d, 0x1, 0x0);
        gbc.writeMem(0x44b4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x814e);
        EXPECT(gbc.pc(), 0x44b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 006B
        gbc.setState(0xd841, 0xd524, 0xf950, 0x23c8, 0x3efc, 0x1f59, 0x1, 0x0);
        gbc.writeMem(0xd841, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd524);
        EXPECT(gbc.pc(), 0xd842);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd841), 0x8f);
        // 8F 006C
        gbc.setState(0x17fe, 0x775b, 0xed10, 0x3ee7, 0xc38b, 0x6fb, 0x1, 0x0);
        gbc.writeMem(0x17fe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x775b);
        EXPECT(gbc.pc(), 0x17ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 006D
        gbc.setState(0x201f, 0xd542, 0xf5d0, 0xbb17, 0x6d76, 0x1a73, 0x0, 0x0);
        gbc.writeMem(0x201f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd542);
        EXPECT(gbc.pc(), 0x2020);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 006E
        gbc.setState(0x394c, 0xbd95, 0xd070, 0x9c8, 0xb39a, 0xa9f7, 0x0, 0x1);
        gbc.writeMem(0x394c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbd95);
        EXPECT(gbc.pc(), 0x394d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 006F
        gbc.setState(0x5c2d, 0xa163, 0xd4f0, 0xfe0c, 0x7e1a, 0x92a7, 0x0, 0x1);
        gbc.writeMem(0x5c2d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xa163);
        EXPECT(gbc.pc(), 0x5c2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0070
        gbc.setState(0x4db3, 0xe56, 0x28b0, 0xa87a, 0xba71, 0xca11, 0x0, 0x0);
        gbc.writeMem(0x4db3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe56);
        EXPECT(gbc.pc(), 0x4db4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0071
        gbc.setState(0xcdea, 0xe315, 0x4c80, 0x6a5c, 0xb88a, 0xe013, 0x1, 0x0);
        gbc.writeMem(0xcdea, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xe315);
        EXPECT(gbc.pc(), 0xcdeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdea), 0x8f);
        // 8F 0072
        gbc.setState(0x9e07, 0xc0cd, 0xe620, 0x20e9, 0xa594, 0x3a7b, 0x1, 0x1);
        gbc.writeMem(0x9e07, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xc0cd);
        EXPECT(gbc.pc(), 0x9e08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e07), 0x8f);
        // 8F 0073
        gbc.setState(0x876d, 0x4814, 0xdf00, 0x8bfc, 0x8509, 0x1b04, 0x1, 0x1);
        gbc.writeMem(0x876d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4814);
        EXPECT(gbc.pc(), 0x876e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x876d), 0x8f);
        // 8F 0074
        gbc.setState(0xc83b, 0x5544, 0x5560, 0x571b, 0x555, 0x1904, 0x0, 0x0);
        gbc.writeMem(0xc83b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x5544);
        EXPECT(gbc.pc(), 0xc83c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc83b), 0x8f);
        // 8F 0075
        gbc.setState(0x5540, 0xb68a, 0x4c90, 0xa458, 0x6c98, 0xb25d, 0x0, 0x1);
        gbc.writeMem(0x5540, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb68a);
        EXPECT(gbc.pc(), 0x5541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0076
        gbc.setState(0x1735, 0xa739, 0x6720, 0xb89b, 0xb4ac, 0x2b4c, 0x0, 0x1);
        gbc.writeMem(0x1735, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa739);
        EXPECT(gbc.pc(), 0x1736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0077
        gbc.setState(0xebc3, 0xfe56, 0x850, 0xead3, 0xcf03, 0x7d5a, 0x0, 0x0);
        gbc.writeMem(0xebc3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xfe56);
        EXPECT(gbc.pc(), 0xebc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebc3), 0x8f);
        // 8F 0078
        gbc.setState(0x539a, 0x41ab, 0xd240, 0x6518, 0x28ca, 0xab21, 0x1, 0x0);
        gbc.writeMem(0x539a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x41ab);
        EXPECT(gbc.pc(), 0x539b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0079
        gbc.setState(0x5fcb, 0xf6cd, 0x9a20, 0x8fdf, 0x6092, 0x768a, 0x1, 0x1);
        gbc.writeMem(0x5fcb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf6cd);
        EXPECT(gbc.pc(), 0x5fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 007A
        gbc.setState(0x1b6c, 0x7a0b, 0xd8e0, 0x4646, 0xc9e3, 0xff74, 0x1, 0x0);
        gbc.writeMem(0x1b6c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7a0b);
        EXPECT(gbc.pc(), 0x1b6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 007B
        gbc.setState(0xdc5e, 0x463f, 0xd400, 0x1654, 0xb92f, 0x9189, 0x0, 0x0);
        gbc.writeMem(0xdc5e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x463f);
        EXPECT(gbc.pc(), 0xdc5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc5e), 0x8f);
        // 8F 007C
        gbc.setState(0xb387, 0x3520, 0xfe40, 0x4a1, 0xec15, 0x7ee5, 0x0, 0x1);
        gbc.writeMem(0xb387, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x3520);
        EXPECT(gbc.pc(), 0xb388);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb387), 0x8f);
        // 8F 007D
        gbc.setState(0xe478, 0xd0fe, 0xc40, 0x13b0, 0x192d, 0x3f2a, 0x0, 0x1);
        gbc.writeMem(0xe478, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd0fe);
        EXPECT(gbc.pc(), 0xe479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe478), 0x8f);
        // 8F 007E
        gbc.setState(0x32a0, 0x6947, 0x6920, 0x4ea2, 0xddec, 0xa5b1, 0x1, 0x0);
        gbc.writeMem(0x32a0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x6947);
        EXPECT(gbc.pc(), 0x32a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 007F
        gbc.setState(0x93f4, 0x636f, 0x9390, 0x9665, 0x4a59, 0x688a, 0x0, 0x1);
        gbc.writeMem(0x93f4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x636f);
        EXPECT(gbc.pc(), 0x93f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93f4), 0x8f);
        // 8F 0080
        gbc.setState(0x836e, 0x1388, 0xb0f0, 0x778c, 0x6200, 0xf217, 0x0, 0x1);
        gbc.writeMem(0x836e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x1388);
        EXPECT(gbc.pc(), 0x836f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x836e), 0x8f);
        // 8F 0081
        gbc.setState(0x1491, 0x8c0b, 0xc050, 0x5423, 0xf0e9, 0xbe46, 0x0, 0x0);
        gbc.writeMem(0x1491, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8c0b);
        EXPECT(gbc.pc(), 0x1492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0082
        gbc.setState(0x680e, 0x7184, 0xb0b0, 0xb98, 0xb259, 0xfccf, 0x0, 0x1);
        gbc.writeMem(0x680e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7184);
        EXPECT(gbc.pc(), 0x680f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0084
        gbc.setState(0xb2a0, 0x3a24, 0xc980, 0x9db8, 0x5f17, 0x6fd, 0x0, 0x1);
        gbc.writeMem(0xb2a0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3a24);
        EXPECT(gbc.pc(), 0xb2a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2a0), 0x8f);
        // 8F 0085
        gbc.setState(0x831d, 0x3e34, 0xb060, 0x6e34, 0xff0a, 0xc35e, 0x1, 0x1);
        gbc.writeMem(0x831d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3e34);
        EXPECT(gbc.pc(), 0x831e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x831d), 0x8f);
        // 8F 0086
        gbc.setState(0x5ffb, 0x8794, 0x6a70, 0xe331, 0xa766, 0x80a1, 0x0, 0x1);
        gbc.writeMem(0x5ffb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8794);
        EXPECT(gbc.pc(), 0x5ffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0087
        gbc.setState(0x9393, 0x7671, 0x1f80, 0x86ee, 0x8a90, 0x9140, 0x1, 0x0);
        gbc.writeMem(0x9393, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7671);
        EXPECT(gbc.pc(), 0x9394);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9393), 0x8f);
        // 8F 0088
        gbc.setState(0xcdfe, 0x90a7, 0x6e90, 0xe9db, 0xaef1, 0x2325, 0x1, 0x0);
        gbc.writeMem(0xcdfe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x90a7);
        EXPECT(gbc.pc(), 0xcdff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdfe), 0x8f);
        // 8F 0089
        gbc.setState(0xf3a, 0xf4f1, 0x9b70, 0xe64, 0x41c3, 0xfb3c, 0x1, 0x0);
        gbc.writeMem(0xf3a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf4f1);
        EXPECT(gbc.pc(), 0xf3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 008A
        gbc.setState(0x6627, 0x788e, 0xd010, 0x8a5e, 0x27ba, 0xa146, 0x1, 0x1);
        gbc.writeMem(0x6627, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x788e);
        EXPECT(gbc.pc(), 0x6628);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 008C
        gbc.setState(0xa08e, 0xc491, 0xd140, 0x4f76, 0x7a35, 0xe693, 0x0, 0x1);
        gbc.writeMem(0xa08e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc491);
        EXPECT(gbc.pc(), 0xa08f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa08e), 0x8f);
        // 8F 008D
        gbc.setState(0xd9ba, 0x1877, 0x65d0, 0x1161, 0xa04a, 0x5509, 0x0, 0x0);
        gbc.writeMem(0xd9ba, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1877);
        EXPECT(gbc.pc(), 0xd9bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9ba), 0x8f);
        // 8F 008E
        gbc.setState(0x11ae, 0xa50, 0x1dc0, 0x87f4, 0xc594, 0xf4da, 0x0, 0x1);
        gbc.writeMem(0x11ae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa50);
        EXPECT(gbc.pc(), 0x11af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 008F
        gbc.setState(0x9518, 0xdaff, 0x53c0, 0xb275, 0x7c0c, 0x45d4, 0x1, 0x1);
        gbc.writeMem(0x9518, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xdaff);
        EXPECT(gbc.pc(), 0x9519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9518), 0x8f);
        // 8F 0090
        gbc.setState(0x2b07, 0x20fd, 0xae40, 0x8c6a, 0xd810, 0x9fac, 0x0, 0x0);
        gbc.writeMem(0x2b07, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x20fd);
        EXPECT(gbc.pc(), 0x2b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0091
        gbc.setState(0xbda9, 0x7187, 0xbc10, 0x943d, 0xc24e, 0x88e2, 0x1, 0x0);
        gbc.writeMem(0xbda9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7187);
        EXPECT(gbc.pc(), 0xbdaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbda9), 0x8f);
        // 8F 0092
        gbc.setState(0xc36, 0xbda1, 0x3270, 0x367d, 0x1c4, 0x7bd8, 0x1, 0x1);
        gbc.writeMem(0xc36, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xbda1);
        EXPECT(gbc.pc(), 0xc37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0093
        gbc.setState(0xe965, 0xdac1, 0x6ad0, 0x5600, 0xc450, 0x916c, 0x0, 0x0);
        gbc.writeMem(0xe965, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xdac1);
        EXPECT(gbc.pc(), 0xe966);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe965), 0x8f);
        // 8F 0094
        gbc.setState(0x93bc, 0x6492, 0x3070, 0xa3d1, 0x1248, 0x1bda, 0x1, 0x1);
        gbc.writeMem(0x93bc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6492);
        EXPECT(gbc.pc(), 0x93bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93bc), 0x8f);
        // 8F 0095
        gbc.setState(0x649e, 0xe65d, 0x2a40, 0x26c3, 0xe29b, 0xacef, 0x0, 0x0);
        gbc.writeMem(0x649e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe65d);
        EXPECT(gbc.pc(), 0x649f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0096
        gbc.setState(0x83bd, 0x2a9a, 0xa3c0, 0x59da, 0x2cdc, 0x49a3, 0x0, 0x1);
        gbc.writeMem(0x83bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x2a9a);
        EXPECT(gbc.pc(), 0x83be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83bd), 0x8f);
        // 8F 0097
        gbc.setState(0xd2d, 0xf2f0, 0x2ce0, 0xe652, 0x801d, 0x3cbc, 0x1, 0x0);
        gbc.writeMem(0xd2d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf2f0);
        EXPECT(gbc.pc(), 0xd2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0098
        gbc.setState(0xb497, 0xa474, 0x7e70, 0x365f, 0xc61a, 0xdee4, 0x1, 0x0);
        gbc.writeMem(0xb497, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa474);
        EXPECT(gbc.pc(), 0xb498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb497), 0x8f);
        // 8F 0099
        gbc.setState(0x7182, 0xf897, 0x35b0, 0xc70c, 0xf23d, 0xf93c, 0x1, 0x1);
        gbc.writeMem(0x7182, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf897);
        EXPECT(gbc.pc(), 0x7183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 009A
        gbc.setState(0xce06, 0xda73, 0xadd0, 0xa580, 0x718e, 0xab84, 0x1, 0x0);
        gbc.writeMem(0xce06, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xda73);
        EXPECT(gbc.pc(), 0xce07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce06), 0x8f);
        // 8F 009B
        gbc.setState(0x904e, 0xb621, 0x46f0, 0xa222, 0x35aa, 0xa8f4, 0x0, 0x0);
        gbc.writeMem(0x904e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb621);
        EXPECT(gbc.pc(), 0x904f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x904e), 0x8f);
        // 8F 009C
        gbc.setState(0x9501, 0xe0c6, 0xf7d0, 0x48a7, 0x17a1, 0x3584, 0x1, 0x1);
        gbc.writeMem(0x9501, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe0c6);
        EXPECT(gbc.pc(), 0x9502);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9501), 0x8f);
        // 8F 009D
        gbc.setState(0x7073, 0x4a46, 0x38d0, 0xc9c3, 0x341b, 0x91fa, 0x1, 0x0);
        gbc.writeMem(0x7073, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4a46);
        EXPECT(gbc.pc(), 0x7074);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 009E
        gbc.setState(0x8501, 0xec2a, 0x5720, 0x8c38, 0x44e6, 0x83ce, 0x0, 0x1);
        gbc.writeMem(0x8501, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xec2a);
        EXPECT(gbc.pc(), 0x8502);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8501), 0x8f);
        // 8F 009F
        gbc.setState(0x5531, 0x8a66, 0xe360, 0x700f, 0x517c, 0x298c, 0x0, 0x0);
        gbc.writeMem(0x5531, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8a66);
        EXPECT(gbc.pc(), 0x5532);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00A0
        gbc.setState(0xa876, 0x3cb1, 0x59f0, 0xc635, 0xa746, 0xb638, 0x0, 0x0);
        gbc.writeMem(0xa876, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x3cb1);
        EXPECT(gbc.pc(), 0xa877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa876), 0x8f);
        // 8F 00A1
        gbc.setState(0xec13, 0x7a4d, 0x53b0, 0x9d0e, 0xac43, 0x4d6c, 0x0, 0x1);
        gbc.writeMem(0xec13, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x7a4d);
        EXPECT(gbc.pc(), 0xec14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec13), 0x8f);
        // 8F 00A2
        gbc.setState(0x624b, 0xcde5, 0x5c40, 0xd0d5, 0x98d2, 0xf1ee, 0x1, 0x0);
        gbc.writeMem(0x624b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xcde5);
        EXPECT(gbc.pc(), 0x624c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00A3
        gbc.setState(0x60bc, 0x78e8, 0x7d50, 0x444f, 0xfae9, 0x3fac, 0x0, 0x1);
        gbc.writeMem(0x60bc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x78e8);
        EXPECT(gbc.pc(), 0x60bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00A4
        gbc.setState(0xdca1, 0x3940, 0x5870, 0xd430, 0xc348, 0x59ab, 0x0, 0x0);
        gbc.writeMem(0xdca1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3940);
        EXPECT(gbc.pc(), 0xdca2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdca1), 0x8f);
        // 8F 00A5
        gbc.setState(0xdb22, 0xed4d, 0x4d30, 0x93b0, 0x643b, 0x92e2, 0x1, 0x1);
        gbc.writeMem(0xdb22, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xed4d);
        EXPECT(gbc.pc(), 0xdb23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb22), 0x8f);
        // 8F 00A6
        gbc.setState(0xb9ac, 0x5bcf, 0xd670, 0xaada, 0xafcc, 0x9e08, 0x1, 0x1);
        gbc.writeMem(0xb9ac, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5bcf);
        EXPECT(gbc.pc(), 0xb9ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ac), 0x8f);
        // 8F 00A7
        gbc.setState(0x938b, 0x495b, 0x47c0, 0x7cd0, 0xe0d2, 0xc4c2, 0x1, 0x1);
        gbc.writeMem(0x938b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x495b);
        EXPECT(gbc.pc(), 0x938c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x938b), 0x8f);
        // 8F 00A9
        gbc.setState(0xbd00, 0xcc6a, 0xd550, 0x6eb8, 0xb27d, 0x3fc1, 0x0, 0x0);
        gbc.writeMem(0xbd00, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcc6a);
        EXPECT(gbc.pc(), 0xbd01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd00), 0x8f);
        // 8F 00AA
        gbc.setState(0xd7f7, 0x4c06, 0x9d80, 0xf28d, 0x73e0, 0x14e6, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x4c06);
        EXPECT(gbc.pc(), 0xd7f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7f7), 0x8f);
        // 8F 00AB
        gbc.setState(0x4760, 0xd259, 0xe100, 0x8c3f, 0x2e79, 0xe9cb, 0x1, 0x1);
        gbc.writeMem(0x4760, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd259);
        EXPECT(gbc.pc(), 0x4761);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00AC
        gbc.setState(0xd499, 0xa18b, 0xf290, 0x80ae, 0xcd5d, 0xf7c1, 0x1, 0x0);
        gbc.writeMem(0xd499, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xa18b);
        EXPECT(gbc.pc(), 0xd49a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd499), 0x8f);
        // 8F 00AD
        gbc.setState(0x1dd3, 0x1642, 0xda20, 0x60a7, 0x56a0, 0xd954, 0x0, 0x1);
        gbc.writeMem(0x1dd3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x1642);
        EXPECT(gbc.pc(), 0x1dd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00AE
        gbc.setState(0x1dff, 0xec27, 0x1e0, 0xf1c2, 0xb9d9, 0x537a, 0x1, 0x1);
        gbc.writeMem(0x1dff, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xec27);
        EXPECT(gbc.pc(), 0x1e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00AF
        gbc.setState(0x73f8, 0xf905, 0x32f0, 0x3997, 0x733f, 0xfc4f, 0x1, 0x0);
        gbc.writeMem(0x73f8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf905);
        EXPECT(gbc.pc(), 0x73f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00B0
        gbc.setState(0xeab3, 0x447a, 0xe600, 0xd1c4, 0xf9e3, 0x3783, 0x0, 0x0);
        gbc.writeMem(0xeab3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x447a);
        EXPECT(gbc.pc(), 0xeab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeab3), 0x8f);
        // 8F 00B1
        gbc.setState(0x3bf7, 0xb9, 0x4150, 0x84e8, 0x7db3, 0x526d, 0x1, 0x0);
        gbc.writeMem(0x3bf7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb9);
        EXPECT(gbc.pc(), 0x3bf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00B2
        gbc.setState(0x157d, 0x68c5, 0xa2e0, 0x497f, 0xaee8, 0x6ca6, 0x0, 0x1);
        gbc.writeMem(0x157d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x68c5);
        EXPECT(gbc.pc(), 0x157e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00B3
        gbc.setState(0x24aa, 0xada9, 0x3e50, 0xca7d, 0xe64c, 0x5efe, 0x0, 0x1);
        gbc.writeMem(0x24aa, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xada9);
        EXPECT(gbc.pc(), 0x24ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00B4
        gbc.setState(0xca8f, 0x8d29, 0x1e40, 0x8d65, 0xac8d, 0xdf2c, 0x0, 0x1);
        gbc.writeMem(0xca8f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x8d29);
        EXPECT(gbc.pc(), 0xca90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca8f), 0x8f);
        // 8F 00B5
        gbc.setState(0x2db0, 0xd435, 0x43f0, 0xeb90, 0x744a, 0x2d15, 0x0, 0x1);
        gbc.writeMem(0x2db0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd435);
        EXPECT(gbc.pc(), 0x2db1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00B6
        gbc.setState(0x7c97, 0xa36c, 0x3420, 0x1e32, 0xc9ad, 0xd06d, 0x0, 0x0);
        gbc.writeMem(0x7c97, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xa36c);
        EXPECT(gbc.pc(), 0x7c98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00B7
        gbc.setState(0xd8d4, 0xe64b, 0x7b90, 0xb4a6, 0x7f7a, 0xab17, 0x1, 0x1);
        gbc.writeMem(0xd8d4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe64b);
        EXPECT(gbc.pc(), 0xd8d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8d4), 0x8f);
        // 8F 00B8
        gbc.setState(0xa241, 0x41d3, 0x1220, 0x4849, 0x8e32, 0xfdda, 0x0, 0x0);
        gbc.writeMem(0xa241, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x41d3);
        EXPECT(gbc.pc(), 0xa242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa241), 0x8f);
        // 8F 00B9
        gbc.setState(0xee7, 0x8c0f, 0x6320, 0xc776, 0x7091, 0xfcb2, 0x1, 0x1);
        gbc.writeMem(0xee7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x8c0f);
        EXPECT(gbc.pc(), 0xee8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00BA
        gbc.setState(0x931f, 0x8edd, 0x9da0, 0x2b99, 0x635c, 0xb1cf, 0x0, 0x0);
        gbc.writeMem(0x931f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x8edd);
        EXPECT(gbc.pc(), 0x9320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x931f), 0x8f);
        // 8F 00BB
        gbc.setState(0x863f, 0x8c4d, 0xb0b0, 0xd483, 0xb58f, 0x7eb8, 0x1, 0x1);
        gbc.writeMem(0x863f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8c4d);
        EXPECT(gbc.pc(), 0x8640);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x863f), 0x8f);
        // 8F 00BC
        gbc.setState(0xbcea, 0x1a89, 0xdf50, 0x1e50, 0x57f3, 0x12c4, 0x1, 0x0);
        gbc.writeMem(0xbcea, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1a89);
        EXPECT(gbc.pc(), 0xbceb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcea), 0x8f);
        // 8F 00BD
        gbc.setState(0x9980, 0x476b, 0x1bf0, 0x2901, 0x33f0, 0xf3a9, 0x0, 0x1);
        gbc.writeMem(0x9980, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x476b);
        EXPECT(gbc.pc(), 0x9981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9980), 0x8f);
        // 8F 00BE
        gbc.setState(0x6006, 0x48d, 0x36a0, 0x356a, 0x6099, 0xb230, 0x0, 0x1);
        gbc.writeMem(0x6006, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x48d);
        EXPECT(gbc.pc(), 0x6007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00BF
        gbc.setState(0x3d6a, 0xbd0e, 0x4950, 0x6a27, 0xd1a7, 0xc043, 0x0, 0x1);
        gbc.writeMem(0x3d6a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbd0e);
        EXPECT(gbc.pc(), 0x3d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00C0
        gbc.setState(0x5ec, 0xb978, 0xdb10, 0xa69a, 0xffd7, 0x92c8, 0x0, 0x1);
        gbc.writeMem(0x5ec, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xb978);
        EXPECT(gbc.pc(), 0x5ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00C1
        gbc.setState(0xb567, 0x1151, 0x3a90, 0x292e, 0x2fd1, 0x7060, 0x0, 0x1);
        gbc.writeMem(0xb567, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1151);
        EXPECT(gbc.pc(), 0xb568);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb567), 0x8f);
        // 8F 00C2
        gbc.setState(0x9bca, 0xcd65, 0x7850, 0x87b0, 0x6726, 0xf911, 0x1, 0x0);
        gbc.writeMem(0x9bca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xcd65);
        EXPECT(gbc.pc(), 0x9bcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bca), 0x8f);
        // 8F 00C3
        gbc.setState(0x9b19, 0x3be7, 0x1ea0, 0x1de5, 0x2c7c, 0x2de9, 0x0, 0x0);
        gbc.writeMem(0x9b19, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3be7);
        EXPECT(gbc.pc(), 0x9b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b19), 0x8f);
        // 8F 00C4
        gbc.setState(0x1e6, 0x713b, 0x8f40, 0x3825, 0xfb30, 0x12f9, 0x1, 0x1);
        gbc.writeMem(0x1e6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x713b);
        EXPECT(gbc.pc(), 0x1e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00C5
        gbc.setState(0xebb5, 0xafc2, 0x50d0, 0xf076, 0xbc4f, 0x9ede, 0x1, 0x0);
        gbc.writeMem(0xebb5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xafc2);
        EXPECT(gbc.pc(), 0xebb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebb5), 0x8f);
        // 8F 00C6
        gbc.setState(0x4c72, 0xa1a7, 0xcf0, 0xb762, 0xf21a, 0x7115, 0x1, 0x1);
        gbc.writeMem(0x4c72, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa1a7);
        EXPECT(gbc.pc(), 0x4c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00C7
        gbc.setState(0xda8c, 0xaf75, 0x25e0, 0x5bb8, 0xb8af, 0x4567, 0x0, 0x0);
        gbc.writeMem(0xda8c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xaf75);
        EXPECT(gbc.pc(), 0xda8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda8c), 0x8f);
        // 8F 00C8
        gbc.setState(0x84c5, 0xa472, 0xdd00, 0xc5a6, 0xcc1e, 0x6f91, 0x0, 0x1);
        gbc.writeMem(0x84c5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa472);
        EXPECT(gbc.pc(), 0x84c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84c5), 0x8f);
        // 8F 00C9
        gbc.setState(0x8668, 0x63b6, 0x3b0, 0x6539, 0xe240, 0xca61, 0x0, 0x0);
        gbc.writeMem(0x8668, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x63b6);
        EXPECT(gbc.pc(), 0x8669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8668), 0x8f);
        // 8F 00CA
        gbc.setState(0x5bc3, 0x1283, 0x2c20, 0xbe7d, 0xf12f, 0x6fc2, 0x1, 0x1);
        gbc.writeMem(0x5bc3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x1283);
        EXPECT(gbc.pc(), 0x5bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00CB
        gbc.setState(0x97a4, 0x58f4, 0xef60, 0x1c57, 0x486a, 0xfba4, 0x1, 0x0);
        gbc.writeMem(0x97a4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x58f4);
        EXPECT(gbc.pc(), 0x97a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97a4), 0x8f);
        // 8F 00CC
        gbc.setState(0x6bb9, 0xa960, 0xebc0, 0xcf2e, 0x901a, 0x4fa, 0x0, 0x1);
        gbc.writeMem(0x6bb9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa960);
        EXPECT(gbc.pc(), 0x6bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00CD
        gbc.setState(0x4694, 0x48a8, 0x5c70, 0x7ee9, 0x139f, 0x8f5e, 0x1, 0x1);
        gbc.writeMem(0x4694, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x48a8);
        EXPECT(gbc.pc(), 0x4695);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00CE
        gbc.setState(0xd00e, 0x4859, 0xff30, 0x938, 0x632b, 0x8fd2, 0x0, 0x1);
        gbc.writeMem(0xd00e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4859);
        EXPECT(gbc.pc(), 0xd00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd00e), 0x8f);
        // 8F 00CF
        gbc.setState(0x299, 0x96c4, 0xd2d0, 0x697e, 0xabab, 0xf422, 0x1, 0x0);
        gbc.writeMem(0x299, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x96c4);
        EXPECT(gbc.pc(), 0x29a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00D0
        gbc.setState(0x98c, 0x9c48, 0x4010, 0x2aeb, 0xb27d, 0x3126, 0x1, 0x1);
        gbc.writeMem(0x98c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9c48);
        EXPECT(gbc.pc(), 0x98d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00D1
        gbc.setState(0x2729, 0xdab8, 0x7090, 0xa8fd, 0x33c9, 0xefdd, 0x0, 0x0);
        gbc.writeMem(0x2729, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdab8);
        EXPECT(gbc.pc(), 0x272a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00D2
        gbc.setState(0xde44, 0x73a8, 0xa2f0, 0xd445, 0x2262, 0x15e0, 0x1, 0x0);
        gbc.writeMem(0xde44, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x73a8);
        EXPECT(gbc.pc(), 0xde45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde44), 0x8f);
        // 8F 00D3
        gbc.setState(0x5326, 0xf09b, 0x80e0, 0xb224, 0x3d54, 0xaf6b, 0x0, 0x1);
        gbc.writeMem(0x5326, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf09b);
        EXPECT(gbc.pc(), 0x5327);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00D4
        gbc.setState(0x9d51, 0xef8f, 0xc720, 0x18f9, 0x9dc, 0xd418, 0x0, 0x1);
        gbc.writeMem(0x9d51, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xef8f);
        EXPECT(gbc.pc(), 0x9d52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d51), 0x8f);
        // 8F 00D5
        gbc.setState(0xd30c, 0x31bf, 0x5b90, 0xf154, 0x99dc, 0x5b86, 0x1, 0x0);
        gbc.writeMem(0xd30c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x31bf);
        EXPECT(gbc.pc(), 0xd30d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd30c), 0x8f);
        // 8F 00D6
        gbc.setState(0x6db3, 0xd4bd, 0x9ec0, 0x36d, 0xdd05, 0x5e52, 0x1, 0x0);
        gbc.writeMem(0x6db3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd4bd);
        EXPECT(gbc.pc(), 0x6db4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00D7
        gbc.setState(0x234a, 0x4fec, 0xb270, 0x7f45, 0xda53, 0x680, 0x0, 0x0);
        gbc.writeMem(0x234a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x4fec);
        EXPECT(gbc.pc(), 0x234b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00D8
        gbc.setState(0xcf9d, 0xc78d, 0x3340, 0x1ae9, 0xd106, 0xb880, 0x1, 0x1);
        gbc.writeMem(0xcf9d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xc78d);
        EXPECT(gbc.pc(), 0xcf9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf9d), 0x8f);
        // 8F 00D9
        gbc.setState(0x7f2, 0x2239, 0x2160, 0x413, 0x25d2, 0xd0d8, 0x1, 0x0);
        gbc.writeMem(0x7f2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2239);
        EXPECT(gbc.pc(), 0x7f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00DA
        gbc.setState(0x3b77, 0x5dbb, 0xeb30, 0x656, 0x7f29, 0x28b7, 0x1, 0x0);
        gbc.writeMem(0x3b77, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x5dbb);
        EXPECT(gbc.pc(), 0x3b78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00DB
        gbc.setState(0xbbd8, 0x1afa, 0x1460, 0x21b7, 0x2d07, 0x3b3c, 0x1, 0x1);
        gbc.writeMem(0xbbd8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x1afa);
        EXPECT(gbc.pc(), 0xbbd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbd8), 0x8f);
        // 8F 00DE
        gbc.setState(0xeb7, 0xd903, 0x3760, 0xeb02, 0xee7c, 0xcd30, 0x0, 0x1);
        gbc.writeMem(0xeb7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd903);
        EXPECT(gbc.pc(), 0xeb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00DF
        gbc.setState(0xcb90, 0x7263, 0x7100, 0x590e, 0x7ad2, 0x77dd, 0x0, 0x1);
        gbc.writeMem(0xcb90, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x7263);
        EXPECT(gbc.pc(), 0xcb91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb90), 0x8f);
        // 8F 00E0
        gbc.setState(0x8f0c, 0x469e, 0x5920, 0x3122, 0xcf88, 0x285, 0x0, 0x0);
        gbc.writeMem(0x8f0c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x469e);
        EXPECT(gbc.pc(), 0x8f0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f0c), 0x8f);
        // 8F 00E1
        gbc.setState(0xd119, 0x90b0, 0xe760, 0xc8c4, 0x241b, 0x204c, 0x1, 0x1);
        gbc.writeMem(0xd119, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x90b0);
        EXPECT(gbc.pc(), 0xd11a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd119), 0x8f);
        // 8F 00E2
        gbc.setState(0xa98e, 0x9dcc, 0x4770, 0x67c, 0x3897, 0xa009, 0x1, 0x0);
        gbc.writeMem(0xa98e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x9dcc);
        EXPECT(gbc.pc(), 0xa98f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa98e), 0x8f);
        // 8F 00E3
        gbc.setState(0x10d8, 0xce4e, 0xd510, 0xf62d, 0xa2b6, 0x2f88, 0x0, 0x0);
        gbc.writeMem(0x10d8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xce4e);
        EXPECT(gbc.pc(), 0x10d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00E4
        gbc.setState(0x70d, 0xf0fe, 0x950, 0xb052, 0xb233, 0x5762, 0x0, 0x1);
        gbc.writeMem(0x70d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf0fe);
        EXPECT(gbc.pc(), 0x70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00E5
        gbc.setState(0xbd73, 0xc7d0, 0xa1d0, 0x8fc, 0x2254, 0x3629, 0x1, 0x1);
        gbc.writeMem(0xbd73, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc7d0);
        EXPECT(gbc.pc(), 0xbd74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd73), 0x8f);
        // 8F 00E6
        gbc.setState(0xc3fd, 0xf812, 0x24e0, 0xcd8f, 0x3b0a, 0x5f8b, 0x1, 0x0);
        gbc.writeMem(0xc3fd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf812);
        EXPECT(gbc.pc(), 0xc3fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3fd), 0x8f);
        // 8F 00E7
        gbc.setState(0x3864, 0x8626, 0xf000, 0x9a00, 0x64ca, 0x20e9, 0x1, 0x1);
        gbc.writeMem(0x3864, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8626);
        EXPECT(gbc.pc(), 0x3865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00E8
        gbc.setState(0x9db, 0x81a1, 0x26f0, 0x8f16, 0x591e, 0xa822, 0x1, 0x0);
        gbc.writeMem(0x9db, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x81a1);
        EXPECT(gbc.pc(), 0x9dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00E9
        gbc.setState(0xb078, 0x2638, 0xa420, 0x1327, 0x4337, 0xc288, 0x1, 0x0);
        gbc.writeMem(0xb078, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x2638);
        EXPECT(gbc.pc(), 0xb079);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb078), 0x8f);
        // 8F 00EA
        gbc.setState(0xa245, 0x6fa1, 0x110, 0xf9b0, 0x3843, 0x77e, 0x0, 0x0);
        gbc.writeMem(0xa245, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6fa1);
        EXPECT(gbc.pc(), 0xa246);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa245), 0x8f);
        // 8F 00EB
        gbc.setState(0x844c, 0xdb3f, 0x7520, 0xf9a2, 0xacbe, 0x3711, 0x0, 0x1);
        gbc.writeMem(0x844c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xdb3f);
        EXPECT(gbc.pc(), 0x844d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x844c), 0x8f);
        // 8F 00EC
        gbc.setState(0xb8cb, 0x7db7, 0x22a0, 0xe96, 0x2ba1, 0xf80f, 0x1, 0x1);
        gbc.writeMem(0xb8cb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7db7);
        EXPECT(gbc.pc(), 0xb8cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8cb), 0x8f);
        // 8F 00ED
        gbc.setState(0xafac, 0x9a11, 0x4830, 0x5e20, 0x9ff7, 0x837, 0x1, 0x1);
        gbc.writeMem(0xafac, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9a11);
        EXPECT(gbc.pc(), 0xafad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafac), 0x8f);
        // 8F 00EE
        gbc.setState(0x7723, 0x389, 0x77c0, 0x700b, 0x569b, 0xe3f, 0x1, 0x1);
        gbc.writeMem(0x7723, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x389);
        EXPECT(gbc.pc(), 0x7724);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00EF
        gbc.setState(0x3883, 0x14ca, 0x4fc0, 0x685f, 0x211d, 0x9ee4, 0x0, 0x0);
        gbc.writeMem(0x3883, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x14ca);
        EXPECT(gbc.pc(), 0x3884);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00F0
        gbc.setState(0xa635, 0xdc09, 0xb40, 0x3974, 0x9d8f, 0x162b, 0x0, 0x0);
        gbc.writeMem(0xa635, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xdc09);
        EXPECT(gbc.pc(), 0xa636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa635), 0x8f);
        // 8F 00F1
        gbc.setState(0x7a1c, 0x927, 0x1b60, 0x7ce1, 0xfad3, 0xf70c, 0x1, 0x1);
        gbc.writeMem(0x7a1c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x927);
        EXPECT(gbc.pc(), 0x7a1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00F3
        gbc.setState(0xe947, 0x6c5e, 0x160, 0x7af8, 0x91bd, 0xdc3a, 0x1, 0x1);
        gbc.writeMem(0xe947, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x6c5e);
        EXPECT(gbc.pc(), 0xe948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe947), 0x8f);
        // 8F 00F4
        gbc.setState(0xc564, 0xdf8c, 0xdde0, 0xebb, 0xa32a, 0x7a34, 0x0, 0x0);
        gbc.writeMem(0xc564, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xdf8c);
        EXPECT(gbc.pc(), 0xc565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc564), 0x8f);
        // 8F 00F5
        gbc.setState(0x3abe, 0x1a19, 0xc600, 0xab5c, 0x628b, 0x6b18, 0x1, 0x1);
        gbc.writeMem(0x3abe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1a19);
        EXPECT(gbc.pc(), 0x3abf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 00F6
        gbc.setState(0xb602, 0xc28d, 0xf70, 0xaf02, 0x2662, 0x8a76, 0x1, 0x0);
        gbc.writeMem(0xb602, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc28d);
        EXPECT(gbc.pc(), 0xb603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb602), 0x8f);
        // 8F 00F7
        gbc.setState(0x133f, 0x5e4a, 0xfa50, 0x36e9, 0x4b66, 0x88ea, 0x1, 0x0);
        gbc.writeMem(0x133f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5e4a);
        EXPECT(gbc.pc(), 0x1340);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00F8
        gbc.setState(0x164b, 0x6d9, 0xfb60, 0xba58, 0x7f3, 0x2ac3, 0x0, 0x1);
        gbc.writeMem(0x164b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6d9);
        EXPECT(gbc.pc(), 0x164c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 00F9
        gbc.setState(0x594b, 0xd4b2, 0x6ca0, 0xc8e5, 0x4fb4, 0xab04, 0x0, 0x1);
        gbc.writeMem(0x594b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xd4b2);
        EXPECT(gbc.pc(), 0x594c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 00FA
        gbc.setState(0xc19a, 0xcaea, 0x6ec0, 0xe4a5, 0x8614, 0x3f75, 0x1, 0x0);
        gbc.writeMem(0xc19a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xcaea);
        EXPECT(gbc.pc(), 0xc19b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc19a), 0x8f);
        // 8F 00FB
        gbc.setState(0xaede, 0x99d, 0xd8e0, 0xda4, 0x3f56, 0x8127, 0x0, 0x0);
        gbc.writeMem(0xaede, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x99d);
        EXPECT(gbc.pc(), 0xaedf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaede), 0x8f);
        // 8F 00FC
        gbc.setState(0xb04f, 0xd2b8, 0x24f0, 0x1411, 0xec93, 0x5039, 0x1, 0x1);
        gbc.writeMem(0xb04f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd2b8);
        EXPECT(gbc.pc(), 0xb050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb04f), 0x8f);
        // 8F 00FD
        gbc.setState(0x210, 0x1b8f, 0x1660, 0x2edb, 0xff7, 0x7098, 0x0, 0x0);
        gbc.writeMem(0x210, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1b8f);
        EXPECT(gbc.pc(), 0x211);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 00FE
        gbc.setState(0xea5b, 0xb3e5, 0x47c0, 0xb158, 0x17f4, 0xcb7c, 0x0, 0x0);
        gbc.writeMem(0xea5b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb3e5);
        EXPECT(gbc.pc(), 0xea5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea5b), 0x8f);
        // 8F 00FF
        gbc.setState(0x8f78, 0x4305, 0x4450, 0xec0, 0x3b4b, 0xffc6, 0x1, 0x0);
        gbc.writeMem(0x8f78, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4305);
        EXPECT(gbc.pc(), 0x8f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f78), 0x8f);
        // 8F 0100
        gbc.setState(0xebbc, 0xc7ad, 0xe670, 0x61ca, 0xdb49, 0x2477, 0x1, 0x1);
        gbc.writeMem(0xebbc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc7ad);
        EXPECT(gbc.pc(), 0xebbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebbc), 0x8f);
        // 8F 0101
        gbc.setState(0x6d30, 0x671, 0xa6b0, 0x3273, 0xf376, 0x7a62, 0x1, 0x0);
        gbc.writeMem(0x6d30, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x671);
        EXPECT(gbc.pc(), 0x6d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0102
        gbc.setState(0xb311, 0xf8d, 0x4270, 0xe8b8, 0xea2d, 0x4c29, 0x1, 0x0);
        gbc.writeMem(0xb311, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xf8d);
        EXPECT(gbc.pc(), 0xb312);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb311), 0x8f);
        // 8F 0103
        gbc.setState(0x11ca, 0xbfdb, 0x460, 0xd03, 0x59a1, 0x9db4, 0x0, 0x0);
        gbc.writeMem(0x11ca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xbfdb);
        EXPECT(gbc.pc(), 0x11cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0104
        gbc.setState(0x7908, 0x4043, 0xe5d0, 0x2bf8, 0xf427, 0x291e, 0x0, 0x1);
        gbc.writeMem(0x7908, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4043);
        EXPECT(gbc.pc(), 0x7909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0105
        gbc.setState(0xd2da, 0x4f7a, 0x9d90, 0xf60, 0x910e, 0x787a, 0x0, 0x0);
        gbc.writeMem(0xd2da, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4f7a);
        EXPECT(gbc.pc(), 0xd2db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2da), 0x8f);
        // 8F 0106
        gbc.setState(0xa879, 0x6cb6, 0x2930, 0x395d, 0xa7e8, 0xd518, 0x0, 0x1);
        gbc.writeMem(0xa879, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6cb6);
        EXPECT(gbc.pc(), 0xa87a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa879), 0x8f);
        // 8F 0107
        gbc.setState(0xd569, 0xb6c8, 0x62e0, 0xbd6a, 0x8609, 0x3fbd, 0x0, 0x0);
        gbc.writeMem(0xd569, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xb6c8);
        EXPECT(gbc.pc(), 0xd56a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd569), 0x8f);
        // 8F 0108
        gbc.setState(0x9473, 0x4c40, 0x1860, 0x24e0, 0x278b, 0x9a91, 0x1, 0x1);
        gbc.writeMem(0x9473, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4c40);
        EXPECT(gbc.pc(), 0x9474);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9473), 0x8f);
        // 8F 0109
        gbc.setState(0xcb7d, 0xb2bf, 0x7440, 0x586c, 0x4ce4, 0xcc21, 0x1, 0x1);
        gbc.writeMem(0xcb7d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb2bf);
        EXPECT(gbc.pc(), 0xcb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb7d), 0x8f);
        // 8F 010A
        gbc.setState(0x48f6, 0x2cfa, 0xcbc0, 0x9281, 0x3509, 0xa8e3, 0x1, 0x0);
        gbc.writeMem(0x48f6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x2cfa);
        EXPECT(gbc.pc(), 0x48f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 010B
        gbc.setState(0x95cf, 0xecf6, 0xbc20, 0xb79b, 0x7f9a, 0xe647, 0x0, 0x1);
        gbc.writeMem(0x95cf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xecf6);
        EXPECT(gbc.pc(), 0x95d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95cf), 0x8f);
        // 8F 010C
        gbc.setState(0x172, 0x6bc2, 0x3000, 0x1650, 0xdd0a, 0x395b, 0x0, 0x1);
        gbc.writeMem(0x172, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6bc2);
        EXPECT(gbc.pc(), 0x173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 010D
        gbc.setState(0x6975, 0xa443, 0x5a50, 0xbac4, 0xf75, 0x91de, 0x0, 0x1);
        gbc.writeMem(0x6975, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa443);
        EXPECT(gbc.pc(), 0x6976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 010E
        gbc.setState(0x8026, 0xa559, 0x2ce0, 0xd05a, 0x69ce, 0xd18a, 0x1, 0x0);
        gbc.writeMem(0x8026, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa559);
        EXPECT(gbc.pc(), 0x8027);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8026), 0x8f);
        // 8F 010F
        gbc.setState(0xe39c, 0xa1d6, 0xee20, 0x9660, 0x96b7, 0x2bc7, 0x1, 0x0);
        gbc.writeMem(0xe39c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa1d6);
        EXPECT(gbc.pc(), 0xe39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe39c), 0x8f);
        // 8F 0110
        gbc.setState(0xb011, 0xcef7, 0x8db0, 0x5c51, 0xd2d5, 0x6b35, 0x0, 0x1);
        gbc.writeMem(0xb011, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xcef7);
        EXPECT(gbc.pc(), 0xb012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb011), 0x8f);
        // 8F 0111
        gbc.setState(0x92d5, 0x9aa2, 0xa9c0, 0x987, 0xe4b6, 0x6a2b, 0x1, 0x0);
        gbc.writeMem(0x92d5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9aa2);
        EXPECT(gbc.pc(), 0x92d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d5), 0x8f);
        // 8F 0112
        gbc.setState(0x53d1, 0x6068, 0x3a50, 0xbb6c, 0x8dfd, 0x2ca9, 0x0, 0x1);
        gbc.writeMem(0x53d1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6068);
        EXPECT(gbc.pc(), 0x53d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0113
        gbc.setState(0x1a4d, 0xe703, 0xe540, 0xe670, 0x4543, 0x7289, 0x1, 0x1);
        gbc.writeMem(0x1a4d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe703);
        EXPECT(gbc.pc(), 0x1a4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0114
        gbc.setState(0x6a00, 0xe5cf, 0xf300, 0xa915, 0x96f6, 0xabb8, 0x1, 0x0);
        gbc.writeMem(0x6a00, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe5cf);
        EXPECT(gbc.pc(), 0x6a01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0115
        gbc.setState(0xd9e4, 0x6115, 0x260, 0xf620, 0x4c8c, 0xd79b, 0x0, 0x0);
        gbc.writeMem(0xd9e4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6115);
        EXPECT(gbc.pc(), 0xd9e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9e4), 0x8f);
        // 8F 0116
        gbc.setState(0xd501, 0x4162, 0x5d70, 0x6d9c, 0x8639, 0xce7a, 0x0, 0x0);
        gbc.writeMem(0xd501, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4162);
        EXPECT(gbc.pc(), 0xd502);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd501), 0x8f);
        // 8F 0117
        gbc.setState(0xdc0d, 0xf4fb, 0x3410, 0xc71e, 0x694e, 0x460, 0x1, 0x1);
        gbc.writeMem(0xdc0d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf4fb);
        EXPECT(gbc.pc(), 0xdc0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc0d), 0x8f);
        // 8F 0118
        gbc.setState(0x1676, 0x8336, 0x9eb0, 0xe913, 0x7b0d, 0x8bf6, 0x1, 0x1);
        gbc.writeMem(0x1676, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8336);
        EXPECT(gbc.pc(), 0x1677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0119
        gbc.setState(0x9362, 0x6424, 0x6f10, 0x8b83, 0x7198, 0x1b72, 0x1, 0x1);
        gbc.writeMem(0x9362, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6424);
        EXPECT(gbc.pc(), 0x9363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9362), 0x8f);
        // 8F 011A
        gbc.setState(0x47f0, 0xc5a9, 0x63d0, 0xd1b4, 0xc01c, 0xf203, 0x1, 0x1);
        gbc.writeMem(0x47f0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xc5a9);
        EXPECT(gbc.pc(), 0x47f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 011C
        gbc.setState(0xca19, 0x5ef9, 0x7ad0, 0x1407, 0x9fd1, 0xf0f6, 0x1, 0x1);
        gbc.writeMem(0xca19, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5ef9);
        EXPECT(gbc.pc(), 0xca1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca19), 0x8f);
        // 8F 011D
        gbc.setState(0x943b, 0x152c, 0xb6d0, 0x4130, 0x6ada, 0x5e2c, 0x1, 0x0);
        gbc.writeMem(0x943b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x152c);
        EXPECT(gbc.pc(), 0x943c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x943b), 0x8f);
        // 8F 011E
        gbc.setState(0x94ba, 0xafe0, 0x6c0, 0x8cac, 0xa111, 0xb066, 0x1, 0x0);
        gbc.writeMem(0x94ba, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xafe0);
        EXPECT(gbc.pc(), 0x94bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94ba), 0x8f);
        // 8F 011F
        gbc.setState(0x53b8, 0xb950, 0x31e0, 0xde37, 0xe06e, 0xac50, 0x1, 0x0);
        gbc.writeMem(0x53b8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xb950);
        EXPECT(gbc.pc(), 0x53b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0120
        gbc.setState(0x7fbe, 0xe242, 0x3a70, 0x1dfa, 0x93ed, 0x72b7, 0x0, 0x1);
        gbc.writeMem(0x7fbe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe242);
        EXPECT(gbc.pc(), 0x7fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0121
        gbc.setState(0x47a3, 0x4633, 0xba30, 0xfb2b, 0xf927, 0x9c08, 0x0, 0x0);
        gbc.writeMem(0x47a3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4633);
        EXPECT(gbc.pc(), 0x47a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0122
        gbc.setState(0x11a8, 0x6714, 0x78f0, 0xc3b0, 0xffaa, 0x1e84, 0x0, 0x1);
        gbc.writeMem(0x11a8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6714);
        EXPECT(gbc.pc(), 0x11a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0123
        gbc.setState(0x551d, 0xb067, 0x1200, 0x6a03, 0x4ea2, 0xec7c, 0x1, 0x0);
        gbc.writeMem(0x551d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb067);
        EXPECT(gbc.pc(), 0x551e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0124
        gbc.setState(0x9a87, 0x3c9c, 0x60a0, 0x1caa, 0x1d2c, 0xad49, 0x0, 0x1);
        gbc.writeMem(0x9a87, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3c9c);
        EXPECT(gbc.pc(), 0x9a88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a87), 0x8f);
        // 8F 0126
        gbc.setState(0xaa7, 0x23af, 0xe670, 0x8b67, 0xc2b6, 0x19c4, 0x0, 0x0);
        gbc.writeMem(0xaa7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x23af);
        EXPECT(gbc.pc(), 0xaa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0127
        gbc.setState(0x9adc, 0x27fd, 0x2c0, 0xb0e0, 0x66ed, 0xf357, 0x0, 0x0);
        gbc.writeMem(0x9adc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x27fd);
        EXPECT(gbc.pc(), 0x9add);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9adc), 0x8f);
        // 8F 0128
        gbc.setState(0xcdaf, 0x4e63, 0xd190, 0x91d6, 0xf1c8, 0xccd9, 0x0, 0x1);
        gbc.writeMem(0xcdaf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4e63);
        EXPECT(gbc.pc(), 0xcdb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdaf), 0x8f);
        // 8F 0129
        gbc.setState(0xcce8, 0x8ed4, 0x5c30, 0xc4e3, 0x5d47, 0xdd49, 0x0, 0x0);
        gbc.writeMem(0xcce8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8ed4);
        EXPECT(gbc.pc(), 0xcce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcce8), 0x8f);
        // 8F 012A
        gbc.setState(0xe42d, 0xefcf, 0x2c00, 0xb150, 0xa814, 0x7654, 0x0, 0x1);
        gbc.writeMem(0xe42d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xefcf);
        EXPECT(gbc.pc(), 0xe42e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe42d), 0x8f);
        // 8F 012B
        gbc.setState(0x22d4, 0xb497, 0xdc20, 0x5e75, 0x87e5, 0xb1d5, 0x0, 0x1);
        gbc.writeMem(0x22d4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xb497);
        EXPECT(gbc.pc(), 0x22d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 012C
        gbc.setState(0xb1cb, 0xaea6, 0xf0f0, 0xaa1b, 0xd1b3, 0x8557, 0x0, 0x1);
        gbc.writeMem(0xb1cb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xaea6);
        EXPECT(gbc.pc(), 0xb1cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1cb), 0x8f);
        // 8F 012D
        gbc.setState(0x23cd, 0x6939, 0xad00, 0x50dc, 0x2eb2, 0xb621, 0x0, 0x1);
        gbc.writeMem(0x23cd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6939);
        EXPECT(gbc.pc(), 0x23ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 012E
        gbc.setState(0xb04d, 0x8b87, 0x5b0, 0xc551, 0x1253, 0x18fb, 0x1, 0x0);
        gbc.writeMem(0xb04d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8b87);
        EXPECT(gbc.pc(), 0xb04e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb04d), 0x8f);
        // 8F 012F
        gbc.setState(0x2b83, 0x4110, 0x8a30, 0xff3c, 0x5fe8, 0xe2fc, 0x0, 0x1);
        gbc.writeMem(0x2b83, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4110);
        EXPECT(gbc.pc(), 0x2b84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0131
        gbc.setState(0x49d5, 0x9d48, 0x70, 0xdea6, 0x3c7, 0xf22e, 0x1, 0x0);
        gbc.writeMem(0x49d5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9d48);
        EXPECT(gbc.pc(), 0x49d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0132
        gbc.setState(0x979a, 0x8c3e, 0x5630, 0x807c, 0x881d, 0xbc3b, 0x1, 0x0);
        gbc.writeMem(0x979a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8c3e);
        EXPECT(gbc.pc(), 0x979b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x979a), 0x8f);
        // 8F 0133
        gbc.setState(0x4762, 0xc478, 0x4770, 0x8fee, 0xc56b, 0xd552, 0x0, 0x1);
        gbc.writeMem(0x4762, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc478);
        EXPECT(gbc.pc(), 0x4763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0134
        gbc.setState(0x7731, 0xbb40, 0x7010, 0xf4be, 0x4292, 0x4d41, 0x1, 0x1);
        gbc.writeMem(0x7731, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xbb40);
        EXPECT(gbc.pc(), 0x7732);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0135
        gbc.setState(0x75be, 0x1c5, 0x5730, 0x3932, 0x2a3, 0xa7f3, 0x0, 0x0);
        gbc.writeMem(0x75be, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1c5);
        EXPECT(gbc.pc(), 0x75bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0136
        gbc.setState(0x1770, 0xaa11, 0xc570, 0x98aa, 0xa5ba, 0x4159, 0x1, 0x0);
        gbc.writeMem(0x1770, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xaa11);
        EXPECT(gbc.pc(), 0x1771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0137
        gbc.setState(0x40db, 0x9636, 0x4550, 0xc291, 0xfb47, 0x4eb, 0x1, 0x1);
        gbc.writeMem(0x40db, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x9636);
        EXPECT(gbc.pc(), 0x40dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0138
        gbc.setState(0xbbc8, 0xfecd, 0x1140, 0xa734, 0x796, 0x99f2, 0x0, 0x1);
        gbc.writeMem(0xbbc8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xfecd);
        EXPECT(gbc.pc(), 0xbbc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbc8), 0x8f);
        // 8F 0139
        gbc.setState(0xb7b0, 0x9403, 0x8900, 0x734e, 0x310e, 0xdcf0, 0x0, 0x0);
        gbc.writeMem(0xb7b0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x9403);
        EXPECT(gbc.pc(), 0xb7b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b0), 0x8f);
        // 8F 013A
        gbc.setState(0x1bbf, 0xf406, 0x1020, 0x4092, 0xe5aa, 0xeb52, 0x0, 0x1);
        gbc.writeMem(0x1bbf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf406);
        EXPECT(gbc.pc(), 0x1bc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 013B
        gbc.setState(0xd46c, 0xd03, 0xc700, 0x71fe, 0x696d, 0x55bf, 0x1, 0x0);
        gbc.writeMem(0xd46c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xd03);
        EXPECT(gbc.pc(), 0xd46d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd46c), 0x8f);
        // 8F 013C
        gbc.setState(0x29a1, 0x10c1, 0xfbd0, 0xfcaf, 0xbf1a, 0x9dd8, 0x0, 0x0);
        gbc.writeMem(0x29a1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x10c1);
        EXPECT(gbc.pc(), 0x29a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 013D
        gbc.setState(0x7881, 0xe95a, 0x46f0, 0x1b83, 0x5adc, 0x6583, 0x1, 0x1);
        gbc.writeMem(0x7881, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe95a);
        EXPECT(gbc.pc(), 0x7882);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 013E
        gbc.setState(0x6c6a, 0x92f4, 0xbd30, 0xc245, 0x5bae, 0x4c8f, 0x1, 0x0);
        gbc.writeMem(0x6c6a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x92f4);
        EXPECT(gbc.pc(), 0x6c6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 013F
        gbc.setState(0xd0da, 0x9aff, 0x64e0, 0xca51, 0xe978, 0xf880, 0x0, 0x1);
        gbc.writeMem(0xd0da, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9aff);
        EXPECT(gbc.pc(), 0xd0db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0da), 0x8f);
        // 8F 0140
        gbc.setState(0x2aa3, 0x35d6, 0xfc10, 0x4c83, 0xe5db, 0xec79, 0x0, 0x0);
        gbc.writeMem(0x2aa3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x35d6);
        EXPECT(gbc.pc(), 0x2aa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0141
        gbc.setState(0x8a31, 0x8e7b, 0xdd0, 0x2, 0x6f02, 0x8e23, 0x1, 0x1);
        gbc.writeMem(0x8a31, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8e7b);
        EXPECT(gbc.pc(), 0x8a32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a31), 0x8f);
        // 8F 0142
        gbc.setState(0xc8b9, 0x8dfc, 0xed90, 0x5f0e, 0x3a46, 0xfb73, 0x1, 0x0);
        gbc.writeMem(0xc8b9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8dfc);
        EXPECT(gbc.pc(), 0xc8ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b9), 0x8f);
        // 8F 0143
        gbc.setState(0x38c6, 0x6fa7, 0xae00, 0x56e7, 0xfdae, 0x7d16, 0x1, 0x0);
        gbc.writeMem(0x38c6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6fa7);
        EXPECT(gbc.pc(), 0x38c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0144
        gbc.setState(0x1512, 0x777c, 0xfd00, 0x3fe7, 0xb47d, 0x6ad4, 0x1, 0x1);
        gbc.writeMem(0x1512, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x777c);
        EXPECT(gbc.pc(), 0x1513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0145
        gbc.setState(0x86b3, 0x1980, 0xb1d0, 0x4c5e, 0x4a85, 0x4690, 0x0, 0x0);
        gbc.writeMem(0x86b3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x1980);
        EXPECT(gbc.pc(), 0x86b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86b3), 0x8f);
        // 8F 0147
        gbc.setState(0x1034, 0x26cf, 0xef0, 0x8ea5, 0x83d0, 0x774b, 0x0, 0x1);
        gbc.writeMem(0x1034, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x26cf);
        EXPECT(gbc.pc(), 0x1035);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0148
        gbc.setState(0x2fef, 0x4f08, 0x6c00, 0x18ed, 0x502e, 0x1b9f, 0x1, 0x1);
        gbc.writeMem(0x2fef, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4f08);
        EXPECT(gbc.pc(), 0x2ff0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0149
        gbc.setState(0xad2f, 0xb7aa, 0x4f0, 0x7747, 0xbfd2, 0xbe9a, 0x0, 0x1);
        gbc.writeMem(0xad2f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb7aa);
        EXPECT(gbc.pc(), 0xad30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad2f), 0x8f);
        // 8F 014A
        gbc.setState(0xa58a, 0xa2e4, 0x64d0, 0x4a57, 0xe451, 0x2a54, 0x1, 0x0);
        gbc.writeMem(0xa58a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa2e4);
        EXPECT(gbc.pc(), 0xa58b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa58a), 0x8f);
        // 8F 014B
        gbc.setState(0xe677, 0x72ae, 0x31b0, 0x5627, 0x5bb3, 0x5d42, 0x1, 0x0);
        gbc.writeMem(0xe677, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x72ae);
        EXPECT(gbc.pc(), 0xe678);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe677), 0x8f);
        // 8F 014C
        gbc.setState(0xd02, 0xb027, 0x5f90, 0xd72d, 0xec67, 0x212f, 0x0, 0x1);
        gbc.writeMem(0xd02, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb027);
        EXPECT(gbc.pc(), 0xd03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 014D
        gbc.setState(0x1dfc, 0xb05f, 0x5a30, 0x453a, 0x698a, 0x42bb, 0x1, 0x1);
        gbc.writeMem(0x1dfc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb05f);
        EXPECT(gbc.pc(), 0x1dfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 014E
        gbc.setState(0xbee7, 0xa080, 0xb4b0, 0x694, 0xafe0, 0xfba6, 0x0, 0x0);
        gbc.writeMem(0xbee7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa080);
        EXPECT(gbc.pc(), 0xbee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbee7), 0x8f);
        // 8F 014F
        gbc.setState(0x2bdc, 0x7e8a, 0x7f30, 0x4a2c, 0xc5de, 0xcabb, 0x0, 0x1);
        gbc.writeMem(0x2bdc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7e8a);
        EXPECT(gbc.pc(), 0x2bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0150
        gbc.setState(0x1c65, 0x9dfd, 0x3570, 0x5a24, 0x4cfd, 0xb0df, 0x0, 0x0);
        gbc.writeMem(0x1c65, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9dfd);
        EXPECT(gbc.pc(), 0x1c66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0151
        gbc.setState(0x7cc, 0x5c54, 0x5a80, 0xc331, 0x8b4, 0xaa2d, 0x0, 0x0);
        gbc.writeMem(0x7cc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5c54);
        EXPECT(gbc.pc(), 0x7cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0152
        gbc.setState(0x3d4e, 0xeb45, 0x4c20, 0x4814, 0x3503, 0xb8e8, 0x0, 0x1);
        gbc.writeMem(0x3d4e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xeb45);
        EXPECT(gbc.pc(), 0x3d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0154
        gbc.setState(0x743b, 0x715e, 0x9620, 0xa03f, 0xac1a, 0x25f3, 0x0, 0x1);
        gbc.writeMem(0x743b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x715e);
        EXPECT(gbc.pc(), 0x743c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0155
        gbc.setState(0xe5f5, 0x6a16, 0x89c0, 0x50a, 0xfb95, 0x9a38, 0x1, 0x0);
        gbc.writeMem(0xe5f5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x6a16);
        EXPECT(gbc.pc(), 0xe5f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5f5), 0x8f);
        // 8F 0156
        gbc.setState(0x1891, 0xbc4a, 0x9d80, 0xd377, 0x150c, 0x496f, 0x0, 0x0);
        gbc.writeMem(0x1891, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xbc4a);
        EXPECT(gbc.pc(), 0x1892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0157
        gbc.setState(0x10dd, 0xda88, 0x4e40, 0x56cd, 0x1485, 0x6593, 0x1, 0x1);
        gbc.writeMem(0x10dd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xda88);
        EXPECT(gbc.pc(), 0x10de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0158
        gbc.setState(0xd6a4, 0xd951, 0x3280, 0x40e6, 0x2d31, 0xe3ba, 0x0, 0x0);
        gbc.writeMem(0xd6a4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd951);
        EXPECT(gbc.pc(), 0xd6a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6a4), 0x8f);
        // 8F 0159
        gbc.setState(0x918e, 0x3645, 0x3db0, 0xf32b, 0x2ca1, 0x81ed, 0x0, 0x0);
        gbc.writeMem(0x918e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3645);
        EXPECT(gbc.pc(), 0x918f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x918e), 0x8f);
        // 8F 015A
        gbc.setState(0xdc53, 0xfcf6, 0x2a30, 0x69f1, 0xd253, 0x9445, 0x0, 0x0);
        gbc.writeMem(0xdc53, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xfcf6);
        EXPECT(gbc.pc(), 0xdc54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc53), 0x8f);
        // 8F 015B
        gbc.setState(0x5d4b, 0x26a4, 0x71b0, 0x8c55, 0xba24, 0x1189, 0x0, 0x1);
        gbc.writeMem(0x5d4b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x26a4);
        EXPECT(gbc.pc(), 0x5d4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 015C
        gbc.setState(0xd365, 0xeaa, 0xe890, 0xca01, 0xd507, 0x2448, 0x0, 0x0);
        gbc.writeMem(0xd365, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xeaa);
        EXPECT(gbc.pc(), 0xd366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd365), 0x8f);
        // 8F 015D
        gbc.setState(0x9dc5, 0xfbdb, 0xe900, 0xf0b8, 0xf41c, 0xd879, 0x1, 0x1);
        gbc.writeMem(0x9dc5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xfbdb);
        EXPECT(gbc.pc(), 0x9dc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dc5), 0x8f);
        // 8F 015E
        gbc.setState(0x219f, 0xf347, 0xef70, 0xe391, 0xb997, 0xcb96, 0x1, 0x1);
        gbc.writeMem(0x219f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf347);
        EXPECT(gbc.pc(), 0x21a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 015F
        gbc.setState(0xbc6d, 0x62ca, 0xdd80, 0xbd46, 0x5d7a, 0xd3ea, 0x0, 0x0);
        gbc.writeMem(0xbc6d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x62ca);
        EXPECT(gbc.pc(), 0xbc6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc6d), 0x8f);
        // 8F 0160
        gbc.setState(0xa6b3, 0x6ccc, 0x9ff0, 0x99ab, 0x6f3, 0x58f0, 0x1, 0x0);
        gbc.writeMem(0xa6b3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6ccc);
        EXPECT(gbc.pc(), 0xa6b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6b3), 0x8f);
        // 8F 0161
        gbc.setState(0x8802, 0x82bc, 0x3c60, 0x16e8, 0x94d3, 0xbd6f, 0x0, 0x0);
        gbc.writeMem(0x8802, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x82bc);
        EXPECT(gbc.pc(), 0x8803);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8802), 0x8f);
        // 8F 0162
        gbc.setState(0xbc99, 0x76ae, 0xee20, 0xde8e, 0x64a, 0x99db, 0x1, 0x1);
        gbc.writeMem(0xbc99, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x76ae);
        EXPECT(gbc.pc(), 0xbc9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc99), 0x8f);
        // 8F 0163
        gbc.setState(0x8971, 0xf568, 0x3c30, 0xf369, 0x5a39, 0x3b3c, 0x0, 0x0);
        gbc.writeMem(0x8971, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf568);
        EXPECT(gbc.pc(), 0x8972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8971), 0x8f);
        // 8F 0165
        gbc.setState(0xc54a, 0x91c8, 0xf360, 0xb09d, 0x9e0b, 0x8071, 0x1, 0x1);
        gbc.writeMem(0xc54a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x91c8);
        EXPECT(gbc.pc(), 0xc54b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc54a), 0x8f);
        // 8F 0166
        gbc.setState(0x860c, 0xfac8, 0xaed0, 0xf8b3, 0xe0e4, 0x2ed7, 0x0, 0x0);
        gbc.writeMem(0x860c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xfac8);
        EXPECT(gbc.pc(), 0x860d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x860c), 0x8f);
        // 8F 0167
        gbc.setState(0x57ff, 0x1c21, 0x17e0, 0xd2fc, 0xa5f, 0x2ea7, 0x1, 0x1);
        gbc.writeMem(0x57ff, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1c21);
        EXPECT(gbc.pc(), 0x5800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0168
        gbc.setState(0x58ce, 0xd63d, 0xdc0, 0xff18, 0x148e, 0x6bee, 0x1, 0x0);
        gbc.writeMem(0x58ce, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd63d);
        EXPECT(gbc.pc(), 0x58cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0169
        gbc.setState(0xa2a7, 0xee3b, 0x6e0, 0xb034, 0x5e2e, 0x2873, 0x0, 0x1);
        gbc.writeMem(0xa2a7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xee3b);
        EXPECT(gbc.pc(), 0xa2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2a7), 0x8f);
        // 8F 016A
        gbc.setState(0x98b0, 0xbcc5, 0x1e20, 0x6576, 0x5132, 0x1d64, 0x1, 0x1);
        gbc.writeMem(0x98b0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xbcc5);
        EXPECT(gbc.pc(), 0x98b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b0), 0x8f);
        // 8F 016B
        gbc.setState(0x73de, 0x87d3, 0x5ef0, 0x8084, 0x727b, 0x2b6c, 0x0, 0x1);
        gbc.writeMem(0x73de, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x87d3);
        EXPECT(gbc.pc(), 0x73df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 016C
        gbc.setState(0xe145, 0xf3ac, 0x93d0, 0x9783, 0xbfc6, 0xa74e, 0x0, 0x1);
        gbc.writeMem(0xe145, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf3ac);
        EXPECT(gbc.pc(), 0xe146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe145), 0x8f);
        // 8F 016D
        gbc.setState(0x17a2, 0xc96a, 0xfe10, 0x10d5, 0x86eb, 0xe535, 0x0, 0x0);
        gbc.writeMem(0x17a2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc96a);
        EXPECT(gbc.pc(), 0x17a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 016E
        gbc.setState(0x7ba6, 0xdbf1, 0x86a0, 0xf7, 0x5de4, 0x6cf8, 0x1, 0x0);
        gbc.writeMem(0x7ba6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xdbf1);
        EXPECT(gbc.pc(), 0x7ba7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 016F
        gbc.setState(0x8864, 0x8c49, 0x5990, 0xfd3f, 0xe0c3, 0xc91d, 0x1, 0x0);
        gbc.writeMem(0x8864, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8c49);
        EXPECT(gbc.pc(), 0x8865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8864), 0x8f);
        // 8F 0170
        gbc.setState(0x66e1, 0x1987, 0x5820, 0xb3cb, 0xe32, 0x581a, 0x1, 0x1);
        gbc.writeMem(0x66e1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1987);
        EXPECT(gbc.pc(), 0x66e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0171
        gbc.setState(0x5400, 0xaf14, 0xcc70, 0x57cb, 0x7e53, 0xa4f4, 0x1, 0x0);
        gbc.writeMem(0x5400, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xaf14);
        EXPECT(gbc.pc(), 0x5401);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0172
        gbc.setState(0xc024, 0x194d, 0x6530, 0xcc26, 0xaa13, 0xdb09, 0x1, 0x0);
        gbc.writeMem(0xc024, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x194d);
        EXPECT(gbc.pc(), 0xc025);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc024), 0x8f);
        // 8F 0173
        gbc.setState(0xd275, 0xb53a, 0x81d0, 0x27ac, 0xa8ff, 0x1336, 0x0, 0x0);
        gbc.writeMem(0xd275, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb53a);
        EXPECT(gbc.pc(), 0xd276);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd275), 0x8f);
        // 8F 0174
        gbc.setState(0x3616, 0x953c, 0x1030, 0x4106, 0x6ad9, 0x6d41, 0x0, 0x1);
        gbc.writeMem(0x3616, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x953c);
        EXPECT(gbc.pc(), 0x3617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0175
        gbc.setState(0x8be3, 0x2586, 0x1ca0, 0x2497, 0x327e, 0x9fe8, 0x0, 0x0);
        gbc.writeMem(0x8be3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x2586);
        EXPECT(gbc.pc(), 0x8be4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be3), 0x8f);
        // 8F 0176
        gbc.setState(0xecd9, 0x9ccb, 0xc900, 0x726c, 0xb250, 0x2f37, 0x1, 0x1);
        gbc.writeMem(0xecd9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9ccb);
        EXPECT(gbc.pc(), 0xecda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecd9), 0x8f);
        // 8F 0177
        gbc.setState(0x2574, 0xff4b, 0xea10, 0x9e01, 0x2653, 0x19ca, 0x1, 0x1);
        gbc.writeMem(0x2574, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xff4b);
        EXPECT(gbc.pc(), 0x2575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0178
        gbc.setState(0x9745, 0x529d, 0x990, 0x43dd, 0x6ab1, 0x34a0, 0x1, 0x0);
        gbc.writeMem(0x9745, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x529d);
        EXPECT(gbc.pc(), 0x9746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9745), 0x8f);
        // 8F 0179
        gbc.setState(0x74e5, 0x816e, 0xc7e0, 0x3e14, 0xfb1, 0x1cbb, 0x0, 0x1);
        gbc.writeMem(0x74e5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x816e);
        EXPECT(gbc.pc(), 0x74e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 017A
        gbc.setState(0x8973, 0xd893, 0x1f70, 0xd74d, 0x20ca, 0x7f7c, 0x1, 0x1);
        gbc.writeMem(0x8973, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd893);
        EXPECT(gbc.pc(), 0x8974);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8973), 0x8f);
        // 8F 017B
        gbc.setState(0x8a69, 0x724a, 0x9480, 0x9ac3, 0x96ea, 0x38cb, 0x0, 0x0);
        gbc.writeMem(0x8a69, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x724a);
        EXPECT(gbc.pc(), 0x8a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a69), 0x8f);
        // 8F 017C
        gbc.setState(0x26c7, 0xbc2b, 0xbce0, 0xffc1, 0x90f6, 0x6d71, 0x1, 0x1);
        gbc.writeMem(0x26c7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbc2b);
        EXPECT(gbc.pc(), 0x26c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 017D
        gbc.setState(0x5093, 0xb790, 0x660, 0x1660, 0xe9ec, 0x24d, 0x1, 0x1);
        gbc.writeMem(0x5093, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb790);
        EXPECT(gbc.pc(), 0x5094);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 017E
        gbc.setState(0x77bf, 0x16b6, 0x5520, 0x480e, 0xed6a, 0xceb4, 0x1, 0x1);
        gbc.writeMem(0x77bf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x16b6);
        EXPECT(gbc.pc(), 0x77c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 017F
        gbc.setState(0x7bb3, 0x4c84, 0xcea0, 0x4536, 0xc66f, 0x926d, 0x1, 0x0);
        gbc.writeMem(0x7bb3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x4c84);
        EXPECT(gbc.pc(), 0x7bb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0180
        gbc.setState(0x3b81, 0x3589, 0x2680, 0xedad, 0xcc94, 0xeb08, 0x0, 0x1);
        gbc.writeMem(0x3b81, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3589);
        EXPECT(gbc.pc(), 0x3b82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0181
        gbc.setState(0xe6f6, 0x7e21, 0x40c0, 0x98df, 0xde0d, 0x93e3, 0x1, 0x1);
        gbc.writeMem(0xe6f6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7e21);
        EXPECT(gbc.pc(), 0xe6f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f6), 0x8f);
        // 8F 0182
        gbc.setState(0x6da3, 0x5598, 0x56f0, 0x3d5, 0xacb3, 0xb71d, 0x1, 0x0);
        gbc.writeMem(0x6da3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x5598);
        EXPECT(gbc.pc(), 0x6da4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0183
        gbc.setState(0xe09d, 0xa426, 0xc1f0, 0xf070, 0xf61f, 0x570d, 0x1, 0x0);
        gbc.writeMem(0xe09d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa426);
        EXPECT(gbc.pc(), 0xe09e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe09d), 0x8f);
        // 8F 0184
        gbc.setState(0x8469, 0x88d, 0x2b30, 0xb508, 0x98bd, 0x639e, 0x0, 0x1);
        gbc.writeMem(0x8469, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x88d);
        EXPECT(gbc.pc(), 0x846a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8469), 0x8f);
        // 8F 0185
        gbc.setState(0x5714, 0x60fb, 0xcad0, 0xa950, 0x6d30, 0x8dc5, 0x0, 0x0);
        gbc.writeMem(0x5714, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x60fb);
        EXPECT(gbc.pc(), 0x5715);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0186
        gbc.setState(0xc0a7, 0x11b2, 0x48e0, 0xf92f, 0x9914, 0x27a3, 0x0, 0x1);
        gbc.writeMem(0xc0a7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x11b2);
        EXPECT(gbc.pc(), 0xc0a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0a7), 0x8f);
        // 8F 0187
        gbc.setState(0x3dfb, 0x704f, 0x18d0, 0xef61, 0x3882, 0x55e, 0x1, 0x0);
        gbc.writeMem(0x3dfb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x704f);
        EXPECT(gbc.pc(), 0x3dfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0188
        gbc.setState(0xbf33, 0x8619, 0x5390, 0x3d33, 0xe980, 0x224b, 0x1, 0x1);
        gbc.writeMem(0xbf33, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8619);
        EXPECT(gbc.pc(), 0xbf34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf33), 0x8f);
        // 8F 0189
        gbc.setState(0x921, 0xfab2, 0x3210, 0x7e18, 0x6e90, 0xea8f, 0x0, 0x0);
        gbc.writeMem(0x921, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfab2);
        EXPECT(gbc.pc(), 0x922);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 018A
        gbc.setState(0xa7da, 0x4b3e, 0xf220, 0xec64, 0xeeef, 0xa695, 0x1, 0x1);
        gbc.writeMem(0xa7da, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4b3e);
        EXPECT(gbc.pc(), 0xa7db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7da), 0x8f);
        // 8F 018B
        gbc.setState(0xe638, 0x7c01, 0x6bb0, 0x4fbd, 0x23e, 0x553b, 0x0, 0x1);
        gbc.writeMem(0xe638, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7c01);
        EXPECT(gbc.pc(), 0xe639);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe638), 0x8f);
        // 8F 018C
        gbc.setState(0xc8dc, 0xdb88, 0xb5f0, 0x285b, 0x83db, 0x3277, 0x1, 0x0);
        gbc.writeMem(0xc8dc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdb88);
        EXPECT(gbc.pc(), 0xc8dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8dc), 0x8f);
        // 8F 018D
        gbc.setState(0xd9bf, 0x9fe3, 0x2210, 0xb37a, 0xfa0f, 0xa2de, 0x1, 0x0);
        gbc.writeMem(0xd9bf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x9fe3);
        EXPECT(gbc.pc(), 0xd9c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9bf), 0x8f);
        // 8F 018E
        gbc.setState(0x2480, 0xd79d, 0x3500, 0xea04, 0x921, 0xe972, 0x1, 0x0);
        gbc.writeMem(0x2480, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd79d);
        EXPECT(gbc.pc(), 0x2481);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 018F
        gbc.setState(0x9383, 0x6138, 0xcef0, 0x146, 0x73fb, 0x7d5, 0x1, 0x0);
        gbc.writeMem(0x9383, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6138);
        EXPECT(gbc.pc(), 0x9384);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9383), 0x8f);
        // 8F 0190
        gbc.setState(0x8a30, 0x2724, 0x7920, 0xc26a, 0x8119, 0x8042, 0x0, 0x1);
        gbc.writeMem(0x8a30, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x2724);
        EXPECT(gbc.pc(), 0x8a31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a30), 0x8f);
        // 8F 0192
        gbc.setState(0x37cc, 0x1b1b, 0x9f50, 0xa20c, 0x1acd, 0xf58c, 0x1, 0x1);
        gbc.writeMem(0x37cc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1b1b);
        EXPECT(gbc.pc(), 0x37cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0193
        gbc.setState(0x8928, 0xdae, 0xeb0, 0x1c53, 0xb4ce, 0x491c, 0x1, 0x1);
        gbc.writeMem(0x8928, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xdae);
        EXPECT(gbc.pc(), 0x8929);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8928), 0x8f);
        // 8F 0194
        gbc.setState(0x41ad, 0x24d3, 0xb1a0, 0xcb1d, 0x8449, 0x82f7, 0x0, 0x1);
        gbc.writeMem(0x41ad, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x24d3);
        EXPECT(gbc.pc(), 0x41ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0195
        gbc.setState(0x1ab3, 0x72d8, 0x4320, 0x8690, 0x7c55, 0xcc85, 0x1, 0x1);
        gbc.writeMem(0x1ab3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x72d8);
        EXPECT(gbc.pc(), 0x1ab4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0196
        gbc.setState(0x9191, 0xc1ca, 0xdf80, 0x3e1d, 0xa1f5, 0x672a, 0x0, 0x0);
        gbc.writeMem(0x9191, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xc1ca);
        EXPECT(gbc.pc(), 0x9192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9191), 0x8f);
        // 8F 0197
        gbc.setState(0xc7e3, 0xacf3, 0x4c40, 0xbe1c, 0x720, 0x5aa2, 0x1, 0x0);
        gbc.writeMem(0xc7e3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xacf3);
        EXPECT(gbc.pc(), 0xc7e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7e3), 0x8f);
        // 8F 0198
        gbc.setState(0x5e7b, 0x6382, 0x86f0, 0xccaa, 0x1f14, 0x796e, 0x0, 0x0);
        gbc.writeMem(0x5e7b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6382);
        EXPECT(gbc.pc(), 0x5e7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0199
        gbc.setState(0x1d97, 0xf20d, 0x67f0, 0xf4a5, 0x863d, 0x10bc, 0x0, 0x1);
        gbc.writeMem(0x1d97, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xf20d);
        EXPECT(gbc.pc(), 0x1d98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 019A
        gbc.setState(0x9243, 0xd5f1, 0xe720, 0xe7de, 0xb5d5, 0x1372, 0x1, 0x0);
        gbc.writeMem(0x9243, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd5f1);
        EXPECT(gbc.pc(), 0x9244);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9243), 0x8f);
        // 8F 019B
        gbc.setState(0x8631, 0x5422, 0x5b80, 0xd495, 0xe737, 0xe40a, 0x0, 0x0);
        gbc.writeMem(0x8631, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5422);
        EXPECT(gbc.pc(), 0x8632);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8631), 0x8f);
        // 8F 019C
        gbc.setState(0x73ca, 0x2453, 0xda10, 0x9e55, 0x280e, 0xc4f0, 0x0, 0x0);
        gbc.writeMem(0x73ca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2453);
        EXPECT(gbc.pc(), 0x73cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 019D
        gbc.setState(0x8885, 0x78a0, 0x99b0, 0x37a, 0xf6a0, 0x2634, 0x0, 0x1);
        gbc.writeMem(0x8885, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x78a0);
        EXPECT(gbc.pc(), 0x8886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8885), 0x8f);
        // 8F 019E
        gbc.setState(0x6503, 0x7a85, 0x40a0, 0x65a5, 0x40dc, 0x493d, 0x0, 0x1);
        gbc.writeMem(0x6503, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x7a85);
        EXPECT(gbc.pc(), 0x6504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 019F
        gbc.setState(0x4c79, 0xe5c1, 0x9980, 0xb878, 0xdfc3, 0x8108, 0x0, 0x0);
        gbc.writeMem(0x4c79, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe5c1);
        EXPECT(gbc.pc(), 0x4c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01A0
        gbc.setState(0x2a40, 0x846c, 0x8a60, 0xd604, 0x4b2, 0x7035, 0x1, 0x1);
        gbc.writeMem(0x2a40, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x846c);
        EXPECT(gbc.pc(), 0x2a41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01A1
        gbc.setState(0x9616, 0x33ea, 0x5b90, 0x6bf0, 0x966c, 0xf165, 0x0, 0x0);
        gbc.writeMem(0x9616, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x33ea);
        EXPECT(gbc.pc(), 0x9617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9616), 0x8f);
        // 8F 01A3
        gbc.setState(0x9291, 0x892a, 0xf780, 0x1704, 0x7ae4, 0x2143, 0x0, 0x0);
        gbc.writeMem(0x9291, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x892a);
        EXPECT(gbc.pc(), 0x9292);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9291), 0x8f);
        // 8F 01A4
        gbc.setState(0x5d29, 0xee76, 0x4e80, 0x9aec, 0x66bc, 0x517a, 0x1, 0x0);
        gbc.writeMem(0x5d29, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xee76);
        EXPECT(gbc.pc(), 0x5d2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01A5
        gbc.setState(0xb27b, 0x311f, 0x1520, 0xce7, 0x15a8, 0xf24a, 0x1, 0x0);
        gbc.writeMem(0xb27b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x311f);
        EXPECT(gbc.pc(), 0xb27c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb27b), 0x8f);
        // 8F 01A6
        gbc.setState(0x7e51, 0x2dfe, 0x7210, 0x33bc, 0x6fc9, 0xe597, 0x1, 0x1);
        gbc.writeMem(0x7e51, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2dfe);
        EXPECT(gbc.pc(), 0x7e52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01A7
        gbc.setState(0x43ce, 0xb6c3, 0x5c50, 0x7a5b, 0xf76a, 0xb5a7, 0x0, 0x1);
        gbc.writeMem(0x43ce, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb6c3);
        EXPECT(gbc.pc(), 0x43cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01A8
        gbc.setState(0x56a1, 0xd4c, 0xf0b0, 0xc543, 0xe3cf, 0x6eb9, 0x1, 0x1);
        gbc.writeMem(0x56a1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd4c);
        EXPECT(gbc.pc(), 0x56a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01A9
        gbc.setState(0xe7c3, 0xd3e4, 0x62c0, 0xbffa, 0x9621, 0x6ff, 0x1, 0x1);
        gbc.writeMem(0xe7c3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd3e4);
        EXPECT(gbc.pc(), 0xe7c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c3), 0x8f);
        // 8F 01AA
        gbc.setState(0x423d, 0x3ca4, 0x5600, 0x51ae, 0x3e63, 0x2473, 0x0, 0x1);
        gbc.writeMem(0x423d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3ca4);
        EXPECT(gbc.pc(), 0x423e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01AB
        gbc.setState(0x8de5, 0xbf65, 0x1910, 0x7c44, 0xde2c, 0x5f5f, 0x0, 0x1);
        gbc.writeMem(0x8de5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbf65);
        EXPECT(gbc.pc(), 0x8de6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de5), 0x8f);
        // 8F 01AC
        gbc.setState(0x5072, 0x9fd8, 0xb6d0, 0x3e31, 0xb0db, 0x4702, 0x1, 0x1);
        gbc.writeMem(0x5072, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9fd8);
        EXPECT(gbc.pc(), 0x5073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01AD
        gbc.setState(0x411d, 0x38d5, 0x8130, 0x238a, 0x4ed0, 0x8d28, 0x1, 0x1);
        gbc.writeMem(0x411d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x38d5);
        EXPECT(gbc.pc(), 0x411e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01AE
        gbc.setState(0x7a72, 0x609f, 0x6580, 0x953, 0xded4, 0x6287, 0x0, 0x0);
        gbc.writeMem(0x7a72, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x609f);
        EXPECT(gbc.pc(), 0x7a73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01AF
        gbc.setState(0x97d8, 0x1608, 0xca00, 0x2b4f, 0x5b4e, 0xae85, 0x1, 0x0);
        gbc.writeMem(0x97d8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1608);
        EXPECT(gbc.pc(), 0x97d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d8), 0x8f);
        // 8F 01B0
        gbc.setState(0xc606, 0x8309, 0xcdc0, 0x39b3, 0x813f, 0x7171, 0x0, 0x1);
        gbc.writeMem(0xc606, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x8309);
        EXPECT(gbc.pc(), 0xc607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc606), 0x8f);
        // 8F 01B1
        gbc.setState(0x4f61, 0x3dec, 0x7e70, 0x65c8, 0xdead, 0x2432, 0x0, 0x0);
        gbc.writeMem(0x4f61, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x3dec);
        EXPECT(gbc.pc(), 0x4f62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01B2
        gbc.setState(0xec09, 0x3abc, 0xfe10, 0xbd5f, 0x266, 0xd0ed, 0x0, 0x1);
        gbc.writeMem(0xec09, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3abc);
        EXPECT(gbc.pc(), 0xec0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec09), 0x8f);
        // 8F 01B3
        gbc.setState(0x9c79, 0xe264, 0x5010, 0x3983, 0xb2e4, 0xe05c, 0x1, 0x0);
        gbc.writeMem(0x9c79, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe264);
        EXPECT(gbc.pc(), 0x9c7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c79), 0x8f);
        // 8F 01B4
        gbc.setState(0xd85e, 0xe31a, 0xa670, 0x61aa, 0x8279, 0x60b8, 0x0, 0x0);
        gbc.writeMem(0xd85e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe31a);
        EXPECT(gbc.pc(), 0xd85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd85e), 0x8f);
        // 8F 01B5
        gbc.setState(0x6ca0, 0xe89, 0x2d60, 0x31c6, 0x47c8, 0x7923, 0x0, 0x1);
        gbc.writeMem(0x6ca0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe89);
        EXPECT(gbc.pc(), 0x6ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01B6
        gbc.setState(0x3438, 0xa00b, 0x7260, 0x95c2, 0xe2d4, 0xec03, 0x0, 0x1);
        gbc.writeMem(0x3438, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa00b);
        EXPECT(gbc.pc(), 0x3439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01B7
        gbc.setState(0x6b67, 0x54e, 0xf490, 0x6818, 0x39be, 0xd4ee, 0x0, 0x0);
        gbc.writeMem(0x6b67, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x54e);
        EXPECT(gbc.pc(), 0x6b68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01B8
        gbc.setState(0xaeda, 0xeada, 0xfdb0, 0x41b6, 0x80ee, 0x971f, 0x0, 0x0);
        gbc.writeMem(0xaeda, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xeada);
        EXPECT(gbc.pc(), 0xaedb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaeda), 0x8f);
        // 8F 01B9
        gbc.setState(0xdec6, 0xd974, 0x3680, 0x8793, 0x782f, 0x1dc2, 0x0, 0x0);
        gbc.writeMem(0xdec6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd974);
        EXPECT(gbc.pc(), 0xdec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdec6), 0x8f);
        // 8F 01BA
        gbc.setState(0xc2dd, 0x48f9, 0x1f30, 0x516e, 0x9544, 0xb5d5, 0x0, 0x1);
        gbc.writeMem(0xc2dd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x48f9);
        EXPECT(gbc.pc(), 0xc2de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2dd), 0x8f);
        // 8F 01BB
        gbc.setState(0xed2c, 0x2aeb, 0xc000, 0xad20, 0xcdeb, 0x31eb, 0x1, 0x0);
        gbc.writeMem(0xed2c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2aeb);
        EXPECT(gbc.pc(), 0xed2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed2c), 0x8f);
        // 8F 01BC
        gbc.setState(0xe5d7, 0x2247, 0x1310, 0x832b, 0x6d37, 0x2aff, 0x1, 0x1);
        gbc.writeMem(0xe5d7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2247);
        EXPECT(gbc.pc(), 0xe5d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5d7), 0x8f);
        // 8F 01BD
        gbc.setState(0x5b60, 0xd080, 0x3220, 0xd861, 0x176e, 0xe49c, 0x1, 0x0);
        gbc.writeMem(0x5b60, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xd080);
        EXPECT(gbc.pc(), 0x5b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01BE
        gbc.setState(0x730e, 0x50d4, 0x1980, 0x93c2, 0xeab, 0xe0c1, 0x1, 0x1);
        gbc.writeMem(0x730e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x50d4);
        EXPECT(gbc.pc(), 0x730f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01BF
        gbc.setState(0x5e55, 0xd605, 0x3e30, 0xc5f3, 0xc14d, 0xdc51, 0x0, 0x1);
        gbc.writeMem(0x5e55, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd605);
        EXPECT(gbc.pc(), 0x5e56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C0
        gbc.setState(0x3f81, 0xfacb, 0x12c0, 0x1f34, 0x3984, 0x1fb8, 0x0, 0x1);
        gbc.writeMem(0x3f81, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xfacb);
        EXPECT(gbc.pc(), 0x3f82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C1
        gbc.setState(0x3403, 0xe6e8, 0xe1a0, 0x1d8c, 0xc0d4, 0x7dfa, 0x1, 0x0);
        gbc.writeMem(0x3403, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe6e8);
        EXPECT(gbc.pc(), 0x3404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01C2
        gbc.setState(0x7bb1, 0x27e7, 0x6ad0, 0xad16, 0x885d, 0xa7b4, 0x0, 0x1);
        gbc.writeMem(0x7bb1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x27e7);
        EXPECT(gbc.pc(), 0x7bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C3
        gbc.setState(0x1555, 0x741f, 0x40, 0x417e, 0xb9af, 0x493e, 0x0, 0x0);
        gbc.writeMem(0x1555, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x741f);
        EXPECT(gbc.pc(), 0x1556);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C4
        gbc.setState(0x5d39, 0x12ef, 0xc340, 0x6813, 0x6279, 0x4704, 0x0, 0x1);
        gbc.writeMem(0x5d39, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x12ef);
        EXPECT(gbc.pc(), 0x5d3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01C5
        gbc.setState(0x4f0b, 0xccb8, 0x11c0, 0x7389, 0x6b0c, 0xba08, 0x1, 0x1);
        gbc.writeMem(0x4f0b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xccb8);
        EXPECT(gbc.pc(), 0x4f0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C6
        gbc.setState(0xc48b, 0xbcdd, 0x9ca0, 0xafc0, 0xc159, 0xdadf, 0x0, 0x1);
        gbc.writeMem(0xc48b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbcdd);
        EXPECT(gbc.pc(), 0xc48c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc48b), 0x8f);
        // 8F 01C7
        gbc.setState(0x190e, 0x8af1, 0x3e70, 0xdc28, 0x298e, 0xbd06, 0x0, 0x0);
        gbc.writeMem(0x190e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x8af1);
        EXPECT(gbc.pc(), 0x190f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01C8
        gbc.setState(0x29b1, 0x3ff8, 0x9c90, 0x86d9, 0xfd92, 0xc6a5, 0x0, 0x0);
        gbc.writeMem(0x29b1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3ff8);
        EXPECT(gbc.pc(), 0x29b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01C9
        gbc.setState(0x36e3, 0xe465, 0x7170, 0x25b, 0xcf74, 0x133c, 0x0, 0x1);
        gbc.writeMem(0x36e3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe465);
        EXPECT(gbc.pc(), 0x36e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01CA
        gbc.setState(0x9372, 0x9864, 0xfec0, 0x20a4, 0x4697, 0x990d, 0x1, 0x0);
        gbc.writeMem(0x9372, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9864);
        EXPECT(gbc.pc(), 0x9373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9372), 0x8f);
        // 8F 01CB
        gbc.setState(0x47bc, 0x8751, 0xa710, 0xe377, 0xf417, 0xf123, 0x0, 0x0);
        gbc.writeMem(0x47bc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8751);
        EXPECT(gbc.pc(), 0x47bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01CC
        gbc.setState(0x4b18, 0xc37f, 0xe460, 0xa1fd, 0xb424, 0x8972, 0x0, 0x1);
        gbc.writeMem(0x4b18, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc37f);
        EXPECT(gbc.pc(), 0x4b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01CD
        gbc.setState(0x3d9d, 0xb941, 0xa650, 0x773a, 0x7754, 0x4b6d, 0x1, 0x0);
        gbc.writeMem(0x3d9d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xb941);
        EXPECT(gbc.pc(), 0x3d9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01CE
        gbc.setState(0x3fc4, 0x238c, 0xd170, 0x3bb, 0xbecd, 0xf9eb, 0x1, 0x1);
        gbc.writeMem(0x3fc4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x238c);
        EXPECT(gbc.pc(), 0x3fc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01CF
        gbc.setState(0xdbee, 0x8003, 0xaff0, 0x1237, 0x8dbe, 0x38da, 0x1, 0x1);
        gbc.writeMem(0xdbee, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8003);
        EXPECT(gbc.pc(), 0xdbef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbee), 0x8f);
        // 8F 01D0
        gbc.setState(0x8a32, 0x739b, 0xd140, 0x1125, 0x4389, 0x2eae, 0x1, 0x1);
        gbc.writeMem(0x8a32, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x739b);
        EXPECT(gbc.pc(), 0x8a33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a32), 0x8f);
        // 8F 01D1
        gbc.setState(0xd204, 0x769, 0x9760, 0xa272, 0xa755, 0xef2b, 0x1, 0x0);
        gbc.writeMem(0xd204, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x769);
        EXPECT(gbc.pc(), 0xd205);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd204), 0x8f);
        // 8F 01D2
        gbc.setState(0x584d, 0x95b3, 0x8a30, 0xddeb, 0x6c38, 0x203a, 0x1, 0x0);
        gbc.writeMem(0x584d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x95b3);
        EXPECT(gbc.pc(), 0x584e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01D3
        gbc.setState(0x46ec, 0xc05d, 0x1620, 0x6400, 0xaf31, 0x243a, 0x0, 0x1);
        gbc.writeMem(0x46ec, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc05d);
        EXPECT(gbc.pc(), 0x46ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01D4
        gbc.setState(0xe749, 0xf4de, 0x7040, 0xc134, 0x144, 0x677e, 0x0, 0x1);
        gbc.writeMem(0xe749, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf4de);
        EXPECT(gbc.pc(), 0xe74a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe749), 0x8f);
        // 8F 01D5
        gbc.setState(0x269e, 0x7620, 0xd610, 0xb4f0, 0xedff, 0x11b2, 0x0, 0x1);
        gbc.writeMem(0x269e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7620);
        EXPECT(gbc.pc(), 0x269f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01D6
        gbc.setState(0x695c, 0x4348, 0xb740, 0x2407, 0x2864, 0xdd3f, 0x0, 0x0);
        gbc.writeMem(0x695c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x4348);
        EXPECT(gbc.pc(), 0x695d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01D7
        gbc.setState(0x25ac, 0x45a2, 0x67e0, 0x57da, 0xf825, 0x3d0f, 0x0, 0x0);
        gbc.writeMem(0x25ac, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x45a2);
        EXPECT(gbc.pc(), 0x25ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01D8
        gbc.setState(0x33d, 0x1250, 0xeab0, 0xe7a9, 0xf8cf, 0x5ef6, 0x0, 0x0);
        gbc.writeMem(0x33d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x1250);
        EXPECT(gbc.pc(), 0x33e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01DA
        gbc.setState(0xa6c4, 0x8ca1, 0x1d30, 0xecba, 0x9540, 0xc740, 0x1, 0x0);
        gbc.writeMem(0xa6c4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8ca1);
        EXPECT(gbc.pc(), 0xa6c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c4), 0x8f);
        // 8F 01DB
        gbc.setState(0x2cab, 0x7677, 0xe0d0, 0x1e51, 0x9619, 0x200, 0x0, 0x1);
        gbc.writeMem(0x2cab, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7677);
        EXPECT(gbc.pc(), 0x2cac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01DC
        gbc.setState(0x2ee4, 0x370a, 0x2630, 0x9b4a, 0x8b1b, 0x789, 0x1, 0x1);
        gbc.writeMem(0x2ee4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x370a);
        EXPECT(gbc.pc(), 0x2ee5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01DD
        gbc.setState(0xd4d3, 0xe465, 0xe030, 0x7921, 0xbc92, 0x1fab, 0x0, 0x0);
        gbc.writeMem(0xd4d3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe465);
        EXPECT(gbc.pc(), 0xd4d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d3), 0x8f);
        // 8F 01DE
        gbc.setState(0x2e78, 0x8a33, 0xcff0, 0x31d, 0xd53d, 0xfff7, 0x0, 0x0);
        gbc.writeMem(0x2e78, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8a33);
        EXPECT(gbc.pc(), 0x2e79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01DF
        gbc.setState(0xb1c6, 0x2507, 0x9ab0, 0x8f3f, 0x4bfa, 0x6568, 0x1, 0x0);
        gbc.writeMem(0xb1c6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2507);
        EXPECT(gbc.pc(), 0xb1c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1c6), 0x8f);
        // 8F 01E0
        gbc.setState(0x4111, 0x3b0, 0xc840, 0xc27e, 0x5c0, 0x407d, 0x1, 0x0);
        gbc.writeMem(0x4111, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x3b0);
        EXPECT(gbc.pc(), 0x4112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01E1
        gbc.setState(0xcad8, 0x720e, 0xdc70, 0x9afc, 0xfcf5, 0x8712, 0x0, 0x1);
        gbc.writeMem(0xcad8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x720e);
        EXPECT(gbc.pc(), 0xcad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad8), 0x8f);
        // 8F 01E2
        gbc.setState(0xcb14, 0x4c79, 0x40c0, 0x5e35, 0xe76d, 0xaf03, 0x0, 0x1);
        gbc.writeMem(0xcb14, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x4c79);
        EXPECT(gbc.pc(), 0xcb15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb14), 0x8f);
        // 8F 01E3
        gbc.setState(0x8df, 0x37ca, 0xf490, 0x7cdc, 0x877e, 0xce2, 0x1, 0x1);
        gbc.writeMem(0x8df, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x37ca);
        EXPECT(gbc.pc(), 0x8e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01E4
        gbc.setState(0x875f, 0x4ce3, 0xf310, 0xa61d, 0x82bc, 0xb304, 0x0, 0x0);
        gbc.writeMem(0x875f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x4ce3);
        EXPECT(gbc.pc(), 0x8760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875f), 0x8f);
        // 8F 01E6
        gbc.setState(0x28fc, 0xbe92, 0xc450, 0x2316, 0x4da7, 0x5e13, 0x1, 0x1);
        gbc.writeMem(0x28fc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xbe92);
        EXPECT(gbc.pc(), 0x28fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01E7
        gbc.setState(0xa5fc, 0x6293, 0xbd60, 0x94c5, 0x43c0, 0x669, 0x0, 0x0);
        gbc.writeMem(0xa5fc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6293);
        EXPECT(gbc.pc(), 0xa5fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5fc), 0x8f);
        // 8F 01E8
        gbc.setState(0x4c81, 0x966c, 0x32c0, 0x7bf8, 0x41f7, 0x8753, 0x1, 0x1);
        gbc.writeMem(0x4c81, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x966c);
        EXPECT(gbc.pc(), 0x4c82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01E9
        gbc.setState(0xe010, 0x6331, 0x2660, 0xa1b9, 0xb529, 0xdcf9, 0x0, 0x1);
        gbc.writeMem(0xe010, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x6331);
        EXPECT(gbc.pc(), 0xe011);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe010), 0x8f);
        // 8F 01EA
        gbc.setState(0xdb37, 0x229f, 0xcf00, 0x1d70, 0x7e36, 0xbea5, 0x0, 0x1);
        gbc.writeMem(0xdb37, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x229f);
        EXPECT(gbc.pc(), 0xdb38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb37), 0x8f);
        // 8F 01EB
        gbc.setState(0x743e, 0xa97b, 0x9ba0, 0xc93e, 0x47c0, 0xb693, 0x0, 0x1);
        gbc.writeMem(0x743e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xa97b);
        EXPECT(gbc.pc(), 0x743f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01ED
        gbc.setState(0x26a8, 0x57e1, 0x8500, 0xc94d, 0xf48, 0xe3c0, 0x0, 0x0);
        gbc.writeMem(0x26a8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x57e1);
        EXPECT(gbc.pc(), 0x26a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01EE
        gbc.setState(0xb21e, 0x31d, 0xbc0, 0xff7c, 0x83d, 0x28c6, 0x1, 0x1);
        gbc.writeMem(0xb21e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x31d);
        EXPECT(gbc.pc(), 0xb21f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb21e), 0x8f);
        // 8F 01EF
        gbc.setState(0xd923, 0xa469, 0x93b0, 0x958a, 0xae63, 0x7ef0, 0x0, 0x0);
        gbc.writeMem(0xd923, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa469);
        EXPECT(gbc.pc(), 0xd924);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd923), 0x8f);
        // 8F 01F0
        gbc.setState(0xd666, 0xaab2, 0x2bb0, 0x61ac, 0x3c92, 0x40f5, 0x0, 0x1);
        gbc.writeMem(0xd666, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xaab2);
        EXPECT(gbc.pc(), 0xd667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd666), 0x8f);
        // 8F 01F1
        gbc.setState(0x97d8, 0x24b6, 0x9ce0, 0xab9e, 0xb5d4, 0xa5db, 0x0, 0x1);
        gbc.writeMem(0x97d8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x24b6);
        EXPECT(gbc.pc(), 0x97d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97d8), 0x8f);
        // 8F 01F2
        gbc.setState(0xe618, 0x87b4, 0x5030, 0x9da4, 0x95e3, 0x3b6e, 0x1, 0x0);
        gbc.writeMem(0xe618, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x87b4);
        EXPECT(gbc.pc(), 0xe619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe618), 0x8f);
        // 8F 01F3
        gbc.setState(0x22b2, 0xc181, 0xd3a0, 0x9ef2, 0xd9bb, 0x545b, 0x1, 0x1);
        gbc.writeMem(0x22b2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc181);
        EXPECT(gbc.pc(), 0x22b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01F4
        gbc.setState(0xd80, 0x6925, 0x4380, 0xb299, 0xa51c, 0xc0dd, 0x0, 0x0);
        gbc.writeMem(0xd80, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6925);
        EXPECT(gbc.pc(), 0xd81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 01F5
        gbc.setState(0xb483, 0x5c0f, 0x4590, 0xf2bb, 0x7786, 0xd6e1, 0x0, 0x1);
        gbc.writeMem(0xb483, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5c0f);
        EXPECT(gbc.pc(), 0xb484);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb483), 0x8f);
        // 8F 01F7
        gbc.setState(0x74d6, 0x6349, 0x7b50, 0x119a, 0x76dc, 0x360a, 0x1, 0x0);
        gbc.writeMem(0x74d6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6349);
        EXPECT(gbc.pc(), 0x74d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01F8
        gbc.setState(0x9483, 0x5911, 0x1910, 0xcd8, 0x174e, 0x78d8, 0x1, 0x1);
        gbc.writeMem(0x9483, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x5911);
        EXPECT(gbc.pc(), 0x9484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9483), 0x8f);
        // 8F 01F9
        gbc.setState(0x8055, 0x2f2b, 0x9830, 0x9f82, 0x7858, 0x6104, 0x1, 0x0);
        gbc.writeMem(0x8055, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2f2b);
        EXPECT(gbc.pc(), 0x8056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8055), 0x8f);
        // 8F 01FA
        gbc.setState(0xa2bd, 0x5df, 0x18c0, 0x50d3, 0x15ff, 0xa078, 0x1, 0x1);
        gbc.writeMem(0xa2bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5df);
        EXPECT(gbc.pc(), 0xa2be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2bd), 0x8f);
        // 8F 01FB
        gbc.setState(0x3b6, 0x1205, 0x8710, 0xf9db, 0x5884, 0xdd55, 0x0, 0x0);
        gbc.writeMem(0x3b6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x1205);
        EXPECT(gbc.pc(), 0x3b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 01FC
        gbc.setState(0x6a94, 0x56f5, 0xfcb0, 0x5ce6, 0xd4a7, 0x6dc9, 0x0, 0x0);
        gbc.writeMem(0x6a94, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x56f5);
        EXPECT(gbc.pc(), 0x6a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01FD
        gbc.setState(0x1d62, 0xb104, 0xaa80, 0x3930, 0xea5d, 0xbb53, 0x0, 0x0);
        gbc.writeMem(0x1d62, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb104);
        EXPECT(gbc.pc(), 0x1d63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 01FE
        gbc.setState(0x17fe, 0x75a5, 0x7ad0, 0xf0eb, 0xb579, 0xa3e5, 0x0, 0x1);
        gbc.writeMem(0x17fe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x75a5);
        EXPECT(gbc.pc(), 0x17ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 01FF
        gbc.setState(0xc0a6, 0x4a9c, 0xff70, 0x5892, 0xe555, 0x38ff, 0x1, 0x0);
        gbc.writeMem(0xc0a6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4a9c);
        EXPECT(gbc.pc(), 0xc0a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a6), 0x8f);
        // 8F 0200
        gbc.setState(0x6c1f, 0xc0e7, 0xd980, 0x3a5d, 0xaa08, 0x1dfc, 0x0, 0x0);
        gbc.writeMem(0x6c1f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc0e7);
        EXPECT(gbc.pc(), 0x6c20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0201
        gbc.setState(0x7613, 0xfa31, 0x19c0, 0xab7a, 0x7472, 0x25d8, 0x1, 0x1);
        gbc.writeMem(0x7613, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfa31);
        EXPECT(gbc.pc(), 0x7614);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0202
        gbc.setState(0xcb8, 0x88a6, 0x2b10, 0x6310, 0xa018, 0x6bdc, 0x1, 0x0);
        gbc.writeMem(0xcb8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x88a6);
        EXPECT(gbc.pc(), 0xcb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0203
        gbc.setState(0x2aef, 0x31c, 0x70d0, 0x9b70, 0x3968, 0xe17f, 0x0, 0x1);
        gbc.writeMem(0x2aef, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x31c);
        EXPECT(gbc.pc(), 0x2af0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0204
        gbc.setState(0xb4d8, 0x1230, 0xb040, 0x25b3, 0xc137, 0x381d, 0x1, 0x0);
        gbc.writeMem(0xb4d8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1230);
        EXPECT(gbc.pc(), 0xb4d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4d8), 0x8f);
        // 8F 0205
        gbc.setState(0xdbb7, 0x6039, 0x1f60, 0x7b08, 0x776c, 0x4db0, 0x0, 0x0);
        gbc.writeMem(0xdbb7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6039);
        EXPECT(gbc.pc(), 0xdbb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbb7), 0x8f);
        // 8F 0206
        gbc.setState(0x65fc, 0xbb2, 0x42a0, 0x3d3d, 0x88c0, 0x40d, 0x1, 0x0);
        gbc.writeMem(0x65fc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbb2);
        EXPECT(gbc.pc(), 0x65fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0207
        gbc.setState(0xe5a1, 0x70a7, 0x4fb0, 0xbf93, 0xf3c9, 0x3956, 0x0, 0x0);
        gbc.writeMem(0xe5a1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x70a7);
        EXPECT(gbc.pc(), 0xe5a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5a1), 0x8f);
        // 8F 0208
        gbc.setState(0x60b4, 0xc7ac, 0x99c0, 0x8ac0, 0xa4ca, 0x59b7, 0x1, 0x1);
        gbc.writeMem(0x60b4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc7ac);
        EXPECT(gbc.pc(), 0x60b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0209
        gbc.setState(0xe681, 0x938, 0x7e30, 0x2f2d, 0xe974, 0xa376, 0x0, 0x1);
        gbc.writeMem(0xe681, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x938);
        EXPECT(gbc.pc(), 0xe682);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe681), 0x8f);
        // 8F 020A
        gbc.setState(0x7d7f, 0xc571, 0x4860, 0x297b, 0x4e13, 0x8737, 0x0, 0x1);
        gbc.writeMem(0x7d7f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc571);
        EXPECT(gbc.pc(), 0x7d80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 020B
        gbc.setState(0x55b5, 0x233f, 0xb8f0, 0x41b3, 0x9632, 0x5ace, 0x1, 0x0);
        gbc.writeMem(0x55b5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x233f);
        EXPECT(gbc.pc(), 0x55b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 020C
        gbc.setState(0x71b9, 0xc5d6, 0xf3d0, 0x6f3d, 0x65e7, 0x480c, 0x0, 0x1);
        gbc.writeMem(0x71b9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc5d6);
        EXPECT(gbc.pc(), 0x71ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 020D
        gbc.setState(0x57a6, 0x254e, 0xc2b0, 0xaa6c, 0xee02, 0x71ea, 0x0, 0x1);
        gbc.writeMem(0x57a6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x254e);
        EXPECT(gbc.pc(), 0x57a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 020E
        gbc.setState(0x53f7, 0xf18c, 0xe9f0, 0xdaac, 0x1df1, 0x82a0, 0x1, 0x1);
        gbc.writeMem(0x53f7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf18c);
        EXPECT(gbc.pc(), 0x53f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 020F
        gbc.setState(0x875f, 0x8425, 0xb000, 0x8f40, 0x70c4, 0x9024, 0x0, 0x0);
        gbc.writeMem(0x875f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8425);
        EXPECT(gbc.pc(), 0x8760);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875f), 0x8f);
        // 8F 0210
        gbc.setState(0x9f2a, 0xfcc7, 0x4250, 0x5751, 0x9de, 0xf18f, 0x1, 0x1);
        gbc.writeMem(0x9f2a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xfcc7);
        EXPECT(gbc.pc(), 0x9f2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f2a), 0x8f);
        // 8F 0211
        gbc.setState(0xe95c, 0xe069, 0xd6d0, 0xa7bb, 0xa793, 0xb67d, 0x0, 0x1);
        gbc.writeMem(0xe95c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe069);
        EXPECT(gbc.pc(), 0xe95d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe95c), 0x8f);
        // 8F 0212
        gbc.setState(0xeb14, 0x60e3, 0x3500, 0xa05c, 0x4e1f, 0x2988, 0x0, 0x0);
        gbc.writeMem(0xeb14, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x60e3);
        EXPECT(gbc.pc(), 0xeb15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb14), 0x8f);
        // 8F 0213
        gbc.setState(0x88ab, 0x961c, 0xf3f0, 0xa7a5, 0xd35, 0x9903, 0x0, 0x0);
        gbc.writeMem(0x88ab, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x961c);
        EXPECT(gbc.pc(), 0x88ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88ab), 0x8f);
        // 8F 0214
        gbc.setState(0x9896, 0x57ca, 0xc080, 0xe24c, 0x53f, 0x1b3c, 0x0, 0x0);
        gbc.writeMem(0x9896, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x57ca);
        EXPECT(gbc.pc(), 0x9897);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9896), 0x8f);
        // 8F 0215
        gbc.setState(0x9eff, 0xf68c, 0xc130, 0xe262, 0xbd89, 0xbf8b, 0x0, 0x0);
        gbc.writeMem(0x9eff, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf68c);
        EXPECT(gbc.pc(), 0x9f00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9eff), 0x8f);
        // 8F 0216
        gbc.setState(0xb8ae, 0x547b, 0xaa80, 0x8c96, 0x2a7, 0x9ef8, 0x0, 0x0);
        gbc.writeMem(0xb8ae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x547b);
        EXPECT(gbc.pc(), 0xb8af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ae), 0x8f);
        // 8F 0217
        gbc.setState(0x2b6b, 0x4c71, 0x4d00, 0xbb00, 0xac3f, 0xc9c9, 0x1, 0x1);
        gbc.writeMem(0x2b6b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4c71);
        EXPECT(gbc.pc(), 0x2b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0218
        gbc.setState(0x24f5, 0xf47d, 0xcc20, 0x4a35, 0xe4a3, 0x4b29, 0x1, 0x0);
        gbc.writeMem(0x24f5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xf47d);
        EXPECT(gbc.pc(), 0x24f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0219
        gbc.setState(0xb6e7, 0xcdcd, 0x9ab0, 0xe613, 0xc06f, 0x2dd, 0x1, 0x0);
        gbc.writeMem(0xb6e7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcdcd);
        EXPECT(gbc.pc(), 0xb6e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6e7), 0x8f);
        // 8F 021A
        gbc.setState(0xc1a1, 0x735b, 0xa070, 0x5d28, 0x167e, 0xaa47, 0x0, 0x1);
        gbc.writeMem(0xc1a1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x735b);
        EXPECT(gbc.pc(), 0xc1a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a1), 0x8f);
        // 8F 021B
        gbc.setState(0xed4, 0xc0b3, 0x4090, 0xd40a, 0x61fa, 0x7927, 0x1, 0x1);
        gbc.writeMem(0xed4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc0b3);
        EXPECT(gbc.pc(), 0xed5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 021C
        gbc.setState(0x9814, 0x6888, 0x8290, 0x9705, 0x6d30, 0xf206, 0x0, 0x0);
        gbc.writeMem(0x9814, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x6888);
        EXPECT(gbc.pc(), 0x9815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9814), 0x8f);
        // 8F 021D
        gbc.setState(0x2222, 0x179f, 0xa110, 0x593e, 0x9d80, 0x2cd3, 0x1, 0x0);
        gbc.writeMem(0x2222, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x179f);
        EXPECT(gbc.pc(), 0x2223);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 021E
        gbc.setState(0x4ebe, 0xbbac, 0xb3f0, 0xf4d, 0x577b, 0x945d, 0x0, 0x0);
        gbc.writeMem(0x4ebe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xbbac);
        EXPECT(gbc.pc(), 0x4ebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 021F
        gbc.setState(0x9e43, 0x49d3, 0x4030, 0x4cfb, 0x9da6, 0x3b6a, 0x1, 0x1);
        gbc.writeMem(0x9e43, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x49d3);
        EXPECT(gbc.pc(), 0x9e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e43), 0x8f);
        // 8F 0220
        gbc.setState(0x8efb, 0xafb3, 0xf50, 0xf129, 0xdc91, 0x9c92, 0x0, 0x1);
        gbc.writeMem(0x8efb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xafb3);
        EXPECT(gbc.pc(), 0x8efc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8efb), 0x8f);
        // 8F 0221
        gbc.setState(0xc652, 0x28f3, 0x54c0, 0x3e9f, 0x6277, 0x1704, 0x1, 0x1);
        gbc.writeMem(0xc652, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x28f3);
        EXPECT(gbc.pc(), 0xc653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc652), 0x8f);
        // 8F 0222
        gbc.setState(0xe972, 0x2c59, 0x5f80, 0x9ba2, 0xe110, 0xcda5, 0x1, 0x0);
        gbc.writeMem(0xe972, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2c59);
        EXPECT(gbc.pc(), 0xe973);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe972), 0x8f);
        // 8F 0223
        gbc.setState(0x6558, 0x6a21, 0x61e0, 0x7b08, 0xaddf, 0xed72, 0x0, 0x0);
        gbc.writeMem(0x6558, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6a21);
        EXPECT(gbc.pc(), 0x6559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0224
        gbc.setState(0x244f, 0x1e75, 0xf480, 0xa6b1, 0x805d, 0xe0d5, 0x1, 0x1);
        gbc.writeMem(0x244f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x1e75);
        EXPECT(gbc.pc(), 0x2450);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0225
        gbc.setState(0x81f8, 0xefd1, 0xaf60, 0x337e, 0x2f3a, 0x4a8, 0x1, 0x1);
        gbc.writeMem(0x81f8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xefd1);
        EXPECT(gbc.pc(), 0x81f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f8), 0x8f);
        // 8F 0226
        gbc.setState(0xac2a, 0x63a4, 0x29d0, 0x563b, 0x7ba2, 0xb4ee, 0x1, 0x0);
        gbc.writeMem(0xac2a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x63a4);
        EXPECT(gbc.pc(), 0xac2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac2a), 0x8f);
        // 8F 0227
        gbc.setState(0x9a01, 0xa0d, 0x9920, 0x4324, 0xe07c, 0x29ac, 0x1, 0x0);
        gbc.writeMem(0x9a01, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa0d);
        EXPECT(gbc.pc(), 0x9a02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a01), 0x8f);
        // 8F 0228
        gbc.setState(0xb4a7, 0x7e1e, 0x42b0, 0xc52c, 0xdfc8, 0x421f, 0x0, 0x1);
        gbc.writeMem(0xb4a7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x7e1e);
        EXPECT(gbc.pc(), 0xb4a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4a7), 0x8f);
        // 8F 0229
        gbc.setState(0xe592, 0xc083, 0x6080, 0x9f3f, 0xbdb5, 0x2cb3, 0x1, 0x0);
        gbc.writeMem(0xe592, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc083);
        EXPECT(gbc.pc(), 0xe593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe592), 0x8f);
        // 8F 022A
        gbc.setState(0x3586, 0xe843, 0x75f0, 0x5372, 0x77c7, 0xbea8, 0x0, 0x0);
        gbc.writeMem(0x3586, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xe843);
        EXPECT(gbc.pc(), 0x3587);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 022B
        gbc.setState(0xbacc, 0x6355, 0x8bd0, 0xd0b, 0x658d, 0x92f1, 0x1, 0x0);
        gbc.writeMem(0xbacc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6355);
        EXPECT(gbc.pc(), 0xbacd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbacc), 0x8f);
        // 8F 022C
        gbc.setState(0x6960, 0x47bf, 0x41b0, 0xc413, 0xf79b, 0xacc9, 0x1, 0x1);
        gbc.writeMem(0x6960, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x47bf);
        EXPECT(gbc.pc(), 0x6961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 022D
        gbc.setState(0xe935, 0xc9c7, 0xcf0, 0xdbdc, 0x523b, 0x435a, 0x0, 0x1);
        gbc.writeMem(0xe935, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xc9c7);
        EXPECT(gbc.pc(), 0xe936);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe935), 0x8f);
        // 8F 022E
        gbc.setState(0xbd4, 0xbb04, 0xd770, 0x2779, 0xda86, 0x4380, 0x1, 0x0);
        gbc.writeMem(0xbd4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xbb04);
        EXPECT(gbc.pc(), 0xbd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 022F
        gbc.setState(0x317b, 0x7d14, 0xd330, 0x4b9, 0x72c1, 0x9070, 0x0, 0x0);
        gbc.writeMem(0x317b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7d14);
        EXPECT(gbc.pc(), 0x317c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0230
        gbc.setState(0xaf44, 0xce0f, 0x2400, 0x7a35, 0xd897, 0xff80, 0x1, 0x1);
        gbc.writeMem(0xaf44, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xce0f);
        EXPECT(gbc.pc(), 0xaf45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf44), 0x8f);
        // 8F 0231
        gbc.setState(0x3dae, 0x9650, 0xb290, 0xb6a4, 0x5ff4, 0x9d98, 0x0, 0x1);
        gbc.writeMem(0x3dae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9650);
        EXPECT(gbc.pc(), 0x3daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0232
        gbc.setState(0xc65d, 0xac83, 0xeb60, 0x2b8, 0x3c8b, 0x4281, 0x0, 0x1);
        gbc.writeMem(0xc65d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xac83);
        EXPECT(gbc.pc(), 0xc65e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc65d), 0x8f);
        // 8F 0233
        gbc.setState(0x6c69, 0x2ea1, 0xcfe0, 0xbdb0, 0xbeff, 0x8df3, 0x1, 0x0);
        gbc.writeMem(0x6c69, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2ea1);
        EXPECT(gbc.pc(), 0x6c6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0234
        gbc.setState(0x70db, 0x8b2, 0x80e0, 0x4bc3, 0xb7f2, 0xe26b, 0x0, 0x0);
        gbc.writeMem(0x70db, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8b2);
        EXPECT(gbc.pc(), 0x70dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0235
        gbc.setState(0x5e27, 0x69ec, 0xd440, 0xd55a, 0x3c1a, 0xe822, 0x1, 0x0);
        gbc.writeMem(0x5e27, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x69ec);
        EXPECT(gbc.pc(), 0x5e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0236
        gbc.setState(0x6b2c, 0x893c, 0xb070, 0xcd0e, 0x92a0, 0xbc7e, 0x0, 0x1);
        gbc.writeMem(0x6b2c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x893c);
        EXPECT(gbc.pc(), 0x6b2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0237
        gbc.setState(0xc07d, 0xd04, 0xbf30, 0x1463, 0xa4b7, 0x3434, 0x1, 0x1);
        gbc.writeMem(0xc07d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xd04);
        EXPECT(gbc.pc(), 0xc07e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc07d), 0x8f);
        // 8F 0239
        gbc.setState(0x8596, 0x9d98, 0x4130, 0x54c7, 0x7075, 0x2af6, 0x0, 0x1);
        gbc.writeMem(0x8596, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9d98);
        EXPECT(gbc.pc(), 0x8597);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8596), 0x8f);
        // 8F 023A
        gbc.setState(0x264c, 0xa643, 0x2be0, 0x1da, 0x1dd2, 0x22b3, 0x0, 0x1);
        gbc.writeMem(0x264c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xa643);
        EXPECT(gbc.pc(), 0x264d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 023B
        gbc.setState(0x7049, 0xdc1d, 0x69c0, 0x80a4, 0xb874, 0x586f, 0x0, 0x1);
        gbc.writeMem(0x7049, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xdc1d);
        EXPECT(gbc.pc(), 0x704a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 023D
        gbc.setState(0x3679, 0x48da, 0xdd90, 0xa61d, 0xa82, 0x4e67, 0x1, 0x1);
        gbc.writeMem(0x3679, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x48da);
        EXPECT(gbc.pc(), 0x367a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 023E
        gbc.setState(0xc5f2, 0xad15, 0xced0, 0xfd, 0xf9de, 0xaedf, 0x1, 0x0);
        gbc.writeMem(0xc5f2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xad15);
        EXPECT(gbc.pc(), 0xc5f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5f2), 0x8f);
        // 8F 023F
        gbc.setState(0xd9f0, 0x4e0a, 0xe570, 0x1304, 0x9a5a, 0xae8b, 0x0, 0x1);
        gbc.writeMem(0xd9f0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4e0a);
        EXPECT(gbc.pc(), 0xd9f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f0), 0x8f);
        // 8F 0240
        gbc.setState(0x4ab2, 0x2e6c, 0x940, 0x901b, 0x450e, 0x5971, 0x0, 0x1);
        gbc.writeMem(0x4ab2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2e6c);
        EXPECT(gbc.pc(), 0x4ab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0241
        gbc.setState(0x959f, 0x8f22, 0x9040, 0x25f8, 0x1521, 0xcce6, 0x1, 0x0);
        gbc.writeMem(0x959f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x8f22);
        EXPECT(gbc.pc(), 0x95a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x959f), 0x8f);
        // 8F 0242
        gbc.setState(0x18d6, 0xa07b, 0xaf0, 0x3378, 0xd1b5, 0xaf61, 0x0, 0x1);
        gbc.writeMem(0x18d6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa07b);
        EXPECT(gbc.pc(), 0x18d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0243
        gbc.setState(0xe167, 0xec01, 0x3c0, 0xa0b8, 0xf016, 0x582, 0x0, 0x1);
        gbc.writeMem(0xe167, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xec01);
        EXPECT(gbc.pc(), 0xe168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe167), 0x8f);
        // 8F 0244
        gbc.setState(0x45b8, 0xe939, 0x6d70, 0x2025, 0x22ca, 0xe50f, 0x0, 0x1);
        gbc.writeMem(0x45b8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe939);
        EXPECT(gbc.pc(), 0x45b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0245
        gbc.setState(0x1a20, 0xd434, 0xfb80, 0xc37a, 0x21fc, 0xd55, 0x0, 0x1);
        gbc.writeMem(0x1a20, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd434);
        EXPECT(gbc.pc(), 0x1a21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0246
        gbc.setState(0xaca4, 0x55ea, 0xa490, 0xfbb3, 0x6e7, 0x1d5a, 0x1, 0x1);
        gbc.writeMem(0xaca4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x55ea);
        EXPECT(gbc.pc(), 0xaca5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaca4), 0x8f);
        // 8F 0247
        gbc.setState(0x7ec3, 0xe4e0, 0x2150, 0x1e35, 0xe17e, 0x81f7, 0x1, 0x1);
        gbc.writeMem(0x7ec3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe4e0);
        EXPECT(gbc.pc(), 0x7ec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0248
        gbc.setState(0xcb18, 0x703e, 0x42b0, 0xf9d5, 0xd5ae, 0xd467, 0x0, 0x0);
        gbc.writeMem(0xcb18, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x703e);
        EXPECT(gbc.pc(), 0xcb19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb18), 0x8f);
        // 8F 0249
        gbc.setState(0x40a7, 0xa48f, 0xb240, 0xf69a, 0xb26a, 0xa076, 0x1, 0x1);
        gbc.writeMem(0x40a7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xa48f);
        EXPECT(gbc.pc(), 0x40a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 024A
        gbc.setState(0x6464, 0x965c, 0xd1b0, 0xa57f, 0xb6d6, 0x5c88, 0x0, 0x0);
        gbc.writeMem(0x6464, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x965c);
        EXPECT(gbc.pc(), 0x6465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 024B
        gbc.setState(0x11ea, 0xd51, 0xbe20, 0x8c67, 0x6ba9, 0xd8f3, 0x1, 0x1);
        gbc.writeMem(0x11ea, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd51);
        EXPECT(gbc.pc(), 0x11eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 024C
        gbc.setState(0x4be7, 0x7154, 0x6e10, 0x2c30, 0xb1f, 0xde1c, 0x1, 0x1);
        gbc.writeMem(0x4be7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x7154);
        EXPECT(gbc.pc(), 0x4be8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 024D
        gbc.setState(0xe8b0, 0xd401, 0x6660, 0x67fb, 0x3b4, 0x4917, 0x0, 0x0);
        gbc.writeMem(0xe8b0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd401);
        EXPECT(gbc.pc(), 0xe8b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8b0), 0x8f);
        // 8F 024E
        gbc.setState(0x4c18, 0x5926, 0xbba0, 0x27d6, 0xf70d, 0x2b0, 0x1, 0x0);
        gbc.writeMem(0x4c18, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5926);
        EXPECT(gbc.pc(), 0x4c19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 024F
        gbc.setState(0xaa0d, 0xe197, 0xe3b0, 0x1f60, 0x1af3, 0x83c5, 0x0, 0x1);
        gbc.writeMem(0xaa0d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe197);
        EXPECT(gbc.pc(), 0xaa0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa0d), 0x8f);
        // 8F 0251
        gbc.setState(0xb827, 0x9f02, 0x2bb0, 0x564d, 0x78a, 0x65b3, 0x0, 0x1);
        gbc.writeMem(0xb827, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9f02);
        EXPECT(gbc.pc(), 0xb828);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb827), 0x8f);
        // 8F 0252
        gbc.setState(0x6790, 0xf7d1, 0x3c70, 0xa586, 0xf70f, 0x6502, 0x0, 0x0);
        gbc.writeMem(0x6790, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf7d1);
        EXPECT(gbc.pc(), 0x6791);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0253
        gbc.setState(0xe203, 0x4977, 0xa580, 0x3705, 0xddd6, 0x19d6, 0x0, 0x0);
        gbc.writeMem(0xe203, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x4977);
        EXPECT(gbc.pc(), 0xe204);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe203), 0x8f);
        // 8F 0254
        gbc.setState(0x2ad2, 0x1793, 0x3520, 0xc0e1, 0x5c37, 0x2eba, 0x0, 0x1);
        gbc.writeMem(0x2ad2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1793);
        EXPECT(gbc.pc(), 0x2ad3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0255
        gbc.setState(0x3e89, 0x1f9f, 0x5780, 0x1f2a, 0xcff8, 0x4852, 0x1, 0x1);
        gbc.writeMem(0x3e89, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x1f9f);
        EXPECT(gbc.pc(), 0x3e8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0256
        gbc.setState(0x7a91, 0x4178, 0xf90, 0x11b1, 0x51ba, 0x4da0, 0x1, 0x0);
        gbc.writeMem(0x7a91, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4178);
        EXPECT(gbc.pc(), 0x7a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0258
        gbc.setState(0xcb7b, 0xfba1, 0x4e0, 0x5a76, 0xfb76, 0x7d14, 0x0, 0x1);
        gbc.writeMem(0xcb7b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xfba1);
        EXPECT(gbc.pc(), 0xcb7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb7b), 0x8f);
        // 8F 0259
        gbc.setState(0x512d, 0x62ef, 0x2fd0, 0x8eb5, 0xa72e, 0xfedd, 0x1, 0x1);
        gbc.writeMem(0x512d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x62ef);
        EXPECT(gbc.pc(), 0x512e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 025A
        gbc.setState(0xae95, 0x7936, 0x3b90, 0x60d9, 0x2b3d, 0x25a0, 0x0, 0x0);
        gbc.writeMem(0xae95, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7936);
        EXPECT(gbc.pc(), 0xae96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae95), 0x8f);
        // 8F 025B
        gbc.setState(0x2628, 0x5ddd, 0xd90, 0x6ec2, 0xe197, 0xf15e, 0x1, 0x1);
        gbc.writeMem(0x2628, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x5ddd);
        EXPECT(gbc.pc(), 0x2629);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 025C
        gbc.setState(0x38cd, 0x843c, 0x3680, 0x4d89, 0xcf05, 0xd31a, 0x1, 0x1);
        gbc.writeMem(0x38cd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x843c);
        EXPECT(gbc.pc(), 0x38ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 025D
        gbc.setState(0xaaa4, 0xbf30, 0xf660, 0xb882, 0xf2f9, 0x81a4, 0x1, 0x1);
        gbc.writeMem(0xaaa4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbf30);
        EXPECT(gbc.pc(), 0xaaa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa4), 0x8f);
        // 8F 025E
        gbc.setState(0x2136, 0x4c9a, 0xde30, 0xa9c0, 0x34e6, 0xc7b8, 0x1, 0x0);
        gbc.writeMem(0x2136, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x4c9a);
        EXPECT(gbc.pc(), 0x2137);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 025F
        gbc.setState(0xc8f5, 0x9a4a, 0xb740, 0x4c71, 0x63d4, 0x2e77, 0x0, 0x0);
        gbc.writeMem(0xc8f5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x9a4a);
        EXPECT(gbc.pc(), 0xc8f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f5), 0x8f);
        // 8F 0260
        gbc.setState(0x91af, 0x17ec, 0x4430, 0xa0c6, 0x7151, 0x59a2, 0x1, 0x1);
        gbc.writeMem(0x91af, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x17ec);
        EXPECT(gbc.pc(), 0x91b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91af), 0x8f);
        // 8F 0261
        gbc.setState(0x1d0b, 0x34d5, 0x93e0, 0x7003, 0x6aca, 0xa424, 0x1, 0x0);
        gbc.writeMem(0x1d0b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x34d5);
        EXPECT(gbc.pc(), 0x1d0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0262
        gbc.setState(0xa8cf, 0x90de, 0xfdc0, 0x45f9, 0x42fe, 0xe677, 0x1, 0x1);
        gbc.writeMem(0xa8cf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x90de);
        EXPECT(gbc.pc(), 0xa8d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8cf), 0x8f);
        // 8F 0263
        gbc.setState(0xc583, 0x2f44, 0x1ac0, 0xd6c5, 0x7151, 0x9381, 0x0, 0x0);
        gbc.writeMem(0xc583, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x2f44);
        EXPECT(gbc.pc(), 0xc584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc583), 0x8f);
        // 8F 0264
        gbc.setState(0x3e67, 0xfabb, 0x64d0, 0x9585, 0x3750, 0xa17b, 0x0, 0x0);
        gbc.writeMem(0x3e67, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfabb);
        EXPECT(gbc.pc(), 0x3e68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0265
        gbc.setState(0xd275, 0x8ecf, 0x4e30, 0x9348, 0x7a12, 0xbdf0, 0x1, 0x1);
        gbc.writeMem(0xd275, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8ecf);
        EXPECT(gbc.pc(), 0xd276);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd275), 0x8f);
        // 8F 0266
        gbc.setState(0x38c6, 0xecd2, 0x43b0, 0xb0df, 0x16e2, 0xfd89, 0x1, 0x0);
        gbc.writeMem(0x38c6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xecd2);
        EXPECT(gbc.pc(), 0x38c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0267
        gbc.setState(0xd7c8, 0x7746, 0xff30, 0xca7d, 0x5bb7, 0x41a6, 0x0, 0x0);
        gbc.writeMem(0xd7c8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7746);
        EXPECT(gbc.pc(), 0xd7c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7c8), 0x8f);
        // 8F 0268
        gbc.setState(0xdec8, 0x558, 0xcaa0, 0x3ba5, 0x9680, 0xd55a, 0x0, 0x1);
        gbc.writeMem(0xdec8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x558);
        EXPECT(gbc.pc(), 0xdec9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdec8), 0x8f);
        // 8F 0269
        gbc.setState(0x73ef, 0x150b, 0xd4b0, 0x2e87, 0x548c, 0xbd7c, 0x0, 0x1);
        gbc.writeMem(0x73ef, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x150b);
        EXPECT(gbc.pc(), 0x73f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 026A
        gbc.setState(0xd01, 0x97a8, 0x9ed0, 0x8c5e, 0x1403, 0xa6ab, 0x1, 0x1);
        gbc.writeMem(0xd01, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x97a8);
        EXPECT(gbc.pc(), 0xd02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 026B
        gbc.setState(0xecff, 0xecef, 0x3d30, 0xaf91, 0xed7, 0xee26, 0x1, 0x1);
        gbc.writeMem(0xecff, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xecef);
        EXPECT(gbc.pc(), 0xed00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecff), 0x8f);
        // 8F 026C
        gbc.setState(0xd118, 0xa716, 0x9670, 0xef95, 0xfd69, 0x4df9, 0x1, 0x1);
        gbc.writeMem(0xd118, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa716);
        EXPECT(gbc.pc(), 0xd119);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd118), 0x8f);
        // 8F 026D
        gbc.setState(0x9a9b, 0x7e03, 0xc60, 0xabc0, 0xd0cb, 0x3738, 0x1, 0x1);
        gbc.writeMem(0x9a9b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7e03);
        EXPECT(gbc.pc(), 0x9a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9b), 0x8f);
        // 8F 026E
        gbc.setState(0x4ac4, 0xa7bd, 0xc780, 0x78e8, 0x421b, 0xf0c4, 0x0, 0x0);
        gbc.writeMem(0x4ac4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa7bd);
        EXPECT(gbc.pc(), 0x4ac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 026F
        gbc.setState(0x7241, 0xe56c, 0x6bb0, 0xd766, 0x2971, 0x87b, 0x0, 0x0);
        gbc.writeMem(0x7241, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xe56c);
        EXPECT(gbc.pc(), 0x7242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0270
        gbc.setState(0x17cc, 0x2b5a, 0x18c0, 0xc3c7, 0x3f0f, 0x726a, 0x1, 0x0);
        gbc.writeMem(0x17cc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2b5a);
        EXPECT(gbc.pc(), 0x17cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0271
        gbc.setState(0x1ca2, 0xf6cd, 0x9980, 0x48af, 0x345e, 0xf98d, 0x0, 0x0);
        gbc.writeMem(0x1ca2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf6cd);
        EXPECT(gbc.pc(), 0x1ca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0272
        gbc.setState(0xede7, 0x2bad, 0xc7a0, 0xefff, 0xb507, 0xee9f, 0x1, 0x1);
        gbc.writeMem(0xede7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2bad);
        EXPECT(gbc.pc(), 0xede8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede7), 0x8f);
        // 8F 0273
        gbc.setState(0xb62, 0xe80, 0x4bb0, 0x5a0e, 0x7894, 0x5ba1, 0x0, 0x1);
        gbc.writeMem(0xb62, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe80);
        EXPECT(gbc.pc(), 0xb63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0275
        gbc.setState(0x8999, 0x1fb1, 0xb800, 0x339f, 0xb10b, 0xf62d, 0x0, 0x1);
        gbc.writeMem(0x8999, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x1fb1);
        EXPECT(gbc.pc(), 0x899a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8999), 0x8f);
        // 8F 0276
        gbc.setState(0x96ef, 0xed8, 0x93a0, 0x4d52, 0x6366, 0xbc17, 0x0, 0x0);
        gbc.writeMem(0x96ef, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xed8);
        EXPECT(gbc.pc(), 0x96f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96ef), 0x8f);
        // 8F 0277
        gbc.setState(0x73e2, 0x2afc, 0xe510, 0x21e4, 0xce8a, 0x912, 0x0, 0x1);
        gbc.writeMem(0x73e2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2afc);
        EXPECT(gbc.pc(), 0x73e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0278
        gbc.setState(0x44b1, 0xe2f8, 0x2ab0, 0x80fa, 0x2930, 0x22c1, 0x1, 0x1);
        gbc.writeMem(0x44b1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe2f8);
        EXPECT(gbc.pc(), 0x44b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 027A
        gbc.setState(0x3fc8, 0x966d, 0xb50, 0x8a77, 0x1227, 0x627b, 0x1, 0x1);
        gbc.writeMem(0x3fc8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x966d);
        EXPECT(gbc.pc(), 0x3fc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 027B
        gbc.setState(0xd730, 0x3e1, 0xd380, 0x2a8e, 0x4850, 0x608b, 0x1, 0x1);
        gbc.writeMem(0xd730, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3e1);
        EXPECT(gbc.pc(), 0xd731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd730), 0x8f);
        // 8F 027C
        gbc.setState(0x985, 0x3b1b, 0x3e80, 0x29a8, 0x16fd, 0xeeea, 0x0, 0x1);
        gbc.writeMem(0x985, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3b1b);
        EXPECT(gbc.pc(), 0x986);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 027D
        gbc.setState(0xbbdb, 0xfbb, 0x9f50, 0xa271, 0x83f7, 0x4d92, 0x1, 0x1);
        gbc.writeMem(0xbbdb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xfbb);
        EXPECT(gbc.pc(), 0xbbdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbdb), 0x8f);
        // 8F 027E
        gbc.setState(0x1f3e, 0x749, 0x5d60, 0x9f13, 0xf241, 0x9e7e, 0x0, 0x1);
        gbc.writeMem(0x1f3e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x749);
        EXPECT(gbc.pc(), 0x1f3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 027F
        gbc.setState(0xbb78, 0x6eb6, 0xdaf0, 0x5c61, 0x93d6, 0x4c73, 0x1, 0x1);
        gbc.writeMem(0xbb78, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6eb6);
        EXPECT(gbc.pc(), 0xbb79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb78), 0x8f);
        // 8F 0280
        gbc.setState(0xa235, 0xe30a, 0xdcb0, 0x44d8, 0xfdf3, 0xeb87, 0x1, 0x1);
        gbc.writeMem(0xa235, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe30a);
        EXPECT(gbc.pc(), 0xa236);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa235), 0x8f);
        // 8F 0281
        gbc.setState(0x5417, 0xf495, 0x86f0, 0xee54, 0x766a, 0x5fa4, 0x1, 0x0);
        gbc.writeMem(0x5417, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf495);
        EXPECT(gbc.pc(), 0x5418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0282
        gbc.setState(0xe2bd, 0x435c, 0xab90, 0xd814, 0xfa7c, 0x69d0, 0x0, 0x0);
        gbc.writeMem(0xe2bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x435c);
        EXPECT(gbc.pc(), 0xe2be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2bd), 0x8f);
        // 8F 0283
        gbc.setState(0x8e83, 0x4ed4, 0x9a90, 0x73f9, 0xf8ec, 0x60f6, 0x0, 0x0);
        gbc.writeMem(0x8e83, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4ed4);
        EXPECT(gbc.pc(), 0x8e84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e83), 0x8f);
        // 8F 0284
        gbc.setState(0xd050, 0xea73, 0xfa80, 0x9e97, 0x45e0, 0x9cf9, 0x1, 0x0);
        gbc.writeMem(0xd050, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xea73);
        EXPECT(gbc.pc(), 0xd051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd050), 0x8f);
        // 8F 0285
        gbc.setState(0x189b, 0x370f, 0xd20, 0xdb69, 0xa5ca, 0x59aa, 0x1, 0x1);
        gbc.writeMem(0x189b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x370f);
        EXPECT(gbc.pc(), 0x189c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0286
        gbc.setState(0x7d5f, 0x9d46, 0x4e20, 0xe05, 0x53f5, 0x5064, 0x0, 0x0);
        gbc.writeMem(0x7d5f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x9d46);
        EXPECT(gbc.pc(), 0x7d60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0287
        gbc.setState(0xb7a1, 0x3b63, 0x99c0, 0x4e27, 0xa759, 0x6f17, 0x1, 0x0);
        gbc.writeMem(0xb7a1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x3b63);
        EXPECT(gbc.pc(), 0xb7a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7a1), 0x8f);
        // 8F 0288
        gbc.setState(0x5a43, 0x23ac, 0xe650, 0x520, 0x24d9, 0x680, 0x0, 0x1);
        gbc.writeMem(0x5a43, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x23ac);
        EXPECT(gbc.pc(), 0x5a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0289
        gbc.setState(0xaad0, 0x6a35, 0xbfa0, 0x72aa, 0xcefa, 0x8bae, 0x1, 0x0);
        gbc.writeMem(0xaad0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x6a35);
        EXPECT(gbc.pc(), 0xaad1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaad0), 0x8f);
        // 8F 028A
        gbc.setState(0xb30c, 0x12a6, 0x1eb0, 0x470e, 0x12a3, 0x8dd6, 0x0, 0x1);
        gbc.writeMem(0xb30c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x12a6);
        EXPECT(gbc.pc(), 0xb30d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb30c), 0x8f);
        // 8F 028C
        gbc.setState(0xbeeb, 0x367e, 0xba10, 0x30f9, 0xa379, 0x61cc, 0x1, 0x0);
        gbc.writeMem(0xbeeb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x367e);
        EXPECT(gbc.pc(), 0xbeec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeeb), 0x8f);
        // 8F 028D
        gbc.setState(0x142c, 0x9eea, 0xcba0, 0x30e8, 0x5773, 0x42cb, 0x1, 0x0);
        gbc.writeMem(0x142c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9eea);
        EXPECT(gbc.pc(), 0x142d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 028E
        gbc.setState(0x9c17, 0xef0e, 0x1fa0, 0xd524, 0xc1e3, 0xfa8e, 0x0, 0x0);
        gbc.writeMem(0x9c17, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xef0e);
        EXPECT(gbc.pc(), 0x9c18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c17), 0x8f);
        // 8F 028F
        gbc.setState(0xefee, 0x9661, 0xa70, 0x992, 0x750b, 0xae9c, 0x1, 0x1);
        gbc.writeMem(0xefee, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9661);
        EXPECT(gbc.pc(), 0xefef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefee), 0x8f);
        // 8F 0290
        gbc.setState(0x5b1, 0xec25, 0xec60, 0x967f, 0x99aa, 0xc7d4, 0x1, 0x1);
        gbc.writeMem(0x5b1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xec25);
        EXPECT(gbc.pc(), 0x5b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0291
        gbc.setState(0xce9b, 0xca48, 0x640, 0xb394, 0x5e14, 0xcb65, 0x0, 0x0);
        gbc.writeMem(0xce9b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xca48);
        EXPECT(gbc.pc(), 0xce9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce9b), 0x8f);
        // 8F 0292
        gbc.setState(0x1af3, 0x226a, 0xf500, 0xb8ad, 0xf57b, 0xf7f7, 0x0, 0x1);
        gbc.writeMem(0x1af3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x226a);
        EXPECT(gbc.pc(), 0x1af4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0293
        gbc.setState(0x6b56, 0xc0d8, 0x7450, 0xcfa1, 0xad9d, 0x8d77, 0x1, 0x0);
        gbc.writeMem(0x6b56, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc0d8);
        EXPECT(gbc.pc(), 0x6b57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0294
        gbc.setState(0xe7bd, 0xd3b2, 0x3ea0, 0x2bac, 0xa6b, 0x4ee6, 0x1, 0x1);
        gbc.writeMem(0xe7bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xd3b2);
        EXPECT(gbc.pc(), 0xe7be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7bd), 0x8f);
        // 8F 0295
        gbc.setState(0x8ca7, 0xe42, 0x6b10, 0x506c, 0x45ee, 0x17a6, 0x0, 0x0);
        gbc.writeMem(0x8ca7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe42);
        EXPECT(gbc.pc(), 0x8ca8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca7), 0x8f);
        // 8F 0297
        gbc.setState(0xdee3, 0xf4f, 0x1e10, 0xbbc4, 0x518a, 0x69d2, 0x0, 0x1);
        gbc.writeMem(0xdee3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf4f);
        EXPECT(gbc.pc(), 0xdee4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdee3), 0x8f);
        // 8F 0298
        gbc.setState(0x84c2, 0x701, 0x34a0, 0xc733, 0x5e5c, 0xddab, 0x1, 0x1);
        gbc.writeMem(0x84c2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x701);
        EXPECT(gbc.pc(), 0x84c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c2), 0x8f);
        // 8F 0299
        gbc.setState(0x96c7, 0x1e66, 0x3eb0, 0x78ed, 0xc605, 0xfe9c, 0x1, 0x1);
        gbc.writeMem(0x96c7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x1e66);
        EXPECT(gbc.pc(), 0x96c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96c7), 0x8f);
        // 8F 029A
        gbc.setState(0x9637, 0x4dc1, 0x85c0, 0xcfd6, 0x4966, 0x8d94, 0x0, 0x1);
        gbc.writeMem(0x9637, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x4dc1);
        EXPECT(gbc.pc(), 0x9638);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9637), 0x8f);
        // 8F 029B
        gbc.setState(0x371a, 0xf5b3, 0x5a10, 0x118d, 0x5bf8, 0xf45d, 0x1, 0x1);
        gbc.writeMem(0x371a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf5b3);
        EXPECT(gbc.pc(), 0x371b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 029C
        gbc.setState(0x9ff9, 0x1015, 0xb30, 0x1eec, 0xd1d5, 0x6f30, 0x0, 0x1);
        gbc.writeMem(0x9ff9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1015);
        EXPECT(gbc.pc(), 0x9ffa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ff9), 0x8f);
        // 8F 029D
        gbc.setState(0xdb5f, 0x2fb2, 0x1cb0, 0xf948, 0x164c, 0xa711, 0x0, 0x0);
        gbc.writeMem(0xdb5f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2fb2);
        EXPECT(gbc.pc(), 0xdb60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb5f), 0x8f);
        // 8F 029F
        gbc.setState(0x5226, 0xb663, 0xe020, 0x8fa7, 0xc9a3, 0x5768, 0x0, 0x0);
        gbc.writeMem(0x5226, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb663);
        EXPECT(gbc.pc(), 0x5227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02A0
        gbc.setState(0x5153, 0xdc45, 0xeae0, 0x1655, 0x82f7, 0xd42c, 0x1, 0x0);
        gbc.writeMem(0x5153, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xdc45);
        EXPECT(gbc.pc(), 0x5154);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02A1
        gbc.setState(0xe16a, 0xe1e, 0xfda0, 0x2040, 0xd15a, 0xb8e0, 0x0, 0x0);
        gbc.writeMem(0xe16a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xe1e);
        EXPECT(gbc.pc(), 0xe16b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe16a), 0x8f);
        // 8F 02A2
        gbc.setState(0xb9d5, 0x3e38, 0x2bf0, 0xdd7c, 0x3e27, 0xd10a, 0x1, 0x1);
        gbc.writeMem(0xb9d5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3e38);
        EXPECT(gbc.pc(), 0xb9d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d5), 0x8f);
        // 8F 02A3
        gbc.setState(0xeecf, 0x2534, 0x5410, 0xdb1f, 0xa87a, 0x1575, 0x1, 0x1);
        gbc.writeMem(0xeecf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x2534);
        EXPECT(gbc.pc(), 0xeed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeecf), 0x8f);
        // 8F 02A4
        gbc.setState(0x8df, 0x8360, 0x1ae0, 0xde3f, 0x7e77, 0xe69b, 0x0, 0x1);
        gbc.writeMem(0x8df, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8360);
        EXPECT(gbc.pc(), 0x8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02A5
        gbc.setState(0xec7e, 0xa3cf, 0x7850, 0x6e03, 0x6bea, 0x792e, 0x0, 0x0);
        gbc.writeMem(0xec7e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa3cf);
        EXPECT(gbc.pc(), 0xec7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec7e), 0x8f);
        // 8F 02A6
        gbc.setState(0x7a98, 0x3543, 0xbac0, 0x44d3, 0x4263, 0xd2aa, 0x0, 0x1);
        gbc.writeMem(0x7a98, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3543);
        EXPECT(gbc.pc(), 0x7a99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02A7
        gbc.setState(0x8e9a, 0x3db9, 0x5c50, 0x5923, 0x2e3c, 0x4831, 0x1, 0x0);
        gbc.writeMem(0x8e9a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3db9);
        EXPECT(gbc.pc(), 0x8e9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e9a), 0x8f);
        // 8F 02A8
        gbc.setState(0x63e2, 0x21f8, 0xaf00, 0x5f87, 0x9316, 0x7ae8, 0x1, 0x0);
        gbc.writeMem(0x63e2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x21f8);
        EXPECT(gbc.pc(), 0x63e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02A9
        gbc.setState(0x8a7d, 0x2913, 0x6270, 0x53f3, 0xd927, 0x8dda, 0x1, 0x0);
        gbc.writeMem(0x8a7d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2913);
        EXPECT(gbc.pc(), 0x8a7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7d), 0x8f);
        // 8F 02AA
        gbc.setState(0xde66, 0x9d87, 0xbea0, 0x7d95, 0x6cc3, 0x70a5, 0x0, 0x0);
        gbc.writeMem(0xde66, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9d87);
        EXPECT(gbc.pc(), 0xde67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde66), 0x8f);
        // 8F 02AB
        gbc.setState(0x55fe, 0x4f90, 0x50, 0xc63e, 0xbf0c, 0x1a29, 0x0, 0x1);
        gbc.writeMem(0x55fe, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4f90);
        EXPECT(gbc.pc(), 0x55ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02AC
        gbc.setState(0x9e77, 0x1595, 0x9560, 0xd8f2, 0x3fb0, 0x66df, 0x0, 0x1);
        gbc.writeMem(0x9e77, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1595);
        EXPECT(gbc.pc(), 0x9e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e77), 0x8f);
        // 8F 02AD
        gbc.setState(0x2059, 0x2088, 0x3d60, 0xc5e6, 0x1562, 0x282, 0x0, 0x0);
        gbc.writeMem(0x2059, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2088);
        EXPECT(gbc.pc(), 0x205a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02AE
        gbc.setState(0xb4ea, 0x6a6b, 0x1e90, 0x6abe, 0x4f11, 0x52c1, 0x1, 0x1);
        gbc.writeMem(0xb4ea, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6a6b);
        EXPECT(gbc.pc(), 0xb4eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4ea), 0x8f);
        // 8F 02AF
        gbc.setState(0x4986, 0x4371, 0x38d0, 0xd7d2, 0x3f0a, 0xdcf2, 0x1, 0x0);
        gbc.writeMem(0x4986, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4371);
        EXPECT(gbc.pc(), 0x4987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02B0
        gbc.setState(0x55a8, 0x31bb, 0xf50, 0xc7f7, 0x792, 0xb6c6, 0x1, 0x1);
        gbc.writeMem(0x55a8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x31bb);
        EXPECT(gbc.pc(), 0x55a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02B1
        gbc.setState(0x2332, 0xac9d, 0x17f0, 0xcc66, 0x2319, 0xf7c8, 0x1, 0x1);
        gbc.writeMem(0x2332, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xac9d);
        EXPECT(gbc.pc(), 0x2333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02B2
        gbc.setState(0x952f, 0x3624, 0x160, 0x3ad, 0x66b0, 0x493f, 0x0, 0x0);
        gbc.writeMem(0x952f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3624);
        EXPECT(gbc.pc(), 0x9530);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x952f), 0x8f);
        // 8F 02B3
        gbc.setState(0xbdb3, 0xda7a, 0x9d80, 0xdb2c, 0x8b96, 0x22f9, 0x0, 0x1);
        gbc.writeMem(0xbdb3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xda7a);
        EXPECT(gbc.pc(), 0xbdb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdb3), 0x8f);
        // 8F 02B4
        gbc.setState(0x58a9, 0x4c51, 0x6950, 0xe24c, 0x703, 0x68ea, 0x1, 0x0);
        gbc.writeMem(0x58a9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4c51);
        EXPECT(gbc.pc(), 0x58aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02B5
        gbc.setState(0xbda3, 0x8221, 0x53f0, 0x22c0, 0x11dc, 0x2c22, 0x0, 0x1);
        gbc.writeMem(0xbda3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x8221);
        EXPECT(gbc.pc(), 0xbda4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbda3), 0x8f);
        // 8F 02B6
        gbc.setState(0xd8d5, 0x94b3, 0xddb0, 0xa8b7, 0x496e, 0x7246, 0x0, 0x0);
        gbc.writeMem(0xd8d5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x94b3);
        EXPECT(gbc.pc(), 0xd8d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8d5), 0x8f);
        // 8F 02B8
        gbc.setState(0x784e, 0xade4, 0xe180, 0xb8a1, 0xe18f, 0x2505, 0x0, 0x1);
        gbc.writeMem(0x784e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xade4);
        EXPECT(gbc.pc(), 0x784f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02B9
        gbc.setState(0x9c38, 0xc647, 0xf1a0, 0x58c1, 0x2a85, 0x813c, 0x1, 0x0);
        gbc.writeMem(0x9c38, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc647);
        EXPECT(gbc.pc(), 0x9c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c38), 0x8f);
        // 8F 02BA
        gbc.setState(0x636, 0xbdcc, 0xda90, 0x3cf5, 0x7058, 0xdfd5, 0x1, 0x1);
        gbc.writeMem(0x636, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xbdcc);
        EXPECT(gbc.pc(), 0x637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02BB
        gbc.setState(0x5e77, 0xd201, 0x3270, 0x3ad7, 0x3b76, 0x6655, 0x0, 0x1);
        gbc.writeMem(0x5e77, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd201);
        EXPECT(gbc.pc(), 0x5e78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02BC
        gbc.setState(0xc829, 0x462e, 0x9200, 0x2dcf, 0x709a, 0xa95e, 0x0, 0x1);
        gbc.writeMem(0xc829, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x462e);
        EXPECT(gbc.pc(), 0xc82a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc829), 0x8f);
        // 8F 02BD
        gbc.setState(0x39f3, 0xe303, 0x2680, 0x22da, 0x38df, 0xcefc, 0x0, 0x1);
        gbc.writeMem(0x39f3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe303);
        EXPECT(gbc.pc(), 0x39f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02BE
        gbc.setState(0xaa33, 0xbbd5, 0xe870, 0x8208, 0x4260, 0x40d6, 0x1, 0x0);
        gbc.writeMem(0xaa33, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xbbd5);
        EXPECT(gbc.pc(), 0xaa34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa33), 0x8f);
        // 8F 02BF
        gbc.setState(0xba4f, 0xf7a7, 0xdf70, 0x8602, 0x6afe, 0x90cd, 0x1, 0x0);
        gbc.writeMem(0xba4f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf7a7);
        EXPECT(gbc.pc(), 0xba50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba4f), 0x8f);
        // 8F 02C0
        gbc.setState(0xc84d, 0x9be3, 0x3a50, 0xb71d, 0xd1fb, 0xa63, 0x1, 0x0);
        gbc.writeMem(0xc84d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9be3);
        EXPECT(gbc.pc(), 0xc84e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc84d), 0x8f);
        // 8F 02C1
        gbc.setState(0x8608, 0x1d21, 0x72c0, 0xb7c2, 0x5f8d, 0x8669, 0x0, 0x0);
        gbc.writeMem(0x8608, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1d21);
        EXPECT(gbc.pc(), 0x8609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8608), 0x8f);
        // 8F 02C2
        gbc.setState(0x765e, 0x3a8b, 0xc490, 0xa4e4, 0xe512, 0xab88, 0x1, 0x0);
        gbc.writeMem(0x765e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x3a8b);
        EXPECT(gbc.pc(), 0x765f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02C3
        gbc.setState(0xae01, 0x4dfc, 0xb8b0, 0xf6e, 0x1f6, 0xe81c, 0x0, 0x1);
        gbc.writeMem(0xae01, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x4dfc);
        EXPECT(gbc.pc(), 0xae02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae01), 0x8f);
        // 8F 02C4
        gbc.setState(0x7ce, 0x82f8, 0x3880, 0x6ee3, 0xf057, 0x8172, 0x0, 0x0);
        gbc.writeMem(0x7ce, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x82f8);
        EXPECT(gbc.pc(), 0x7cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02C5
        gbc.setState(0x97c8, 0xe0fa, 0xaf10, 0xf57b, 0xed60, 0x4411, 0x0, 0x0);
        gbc.writeMem(0x97c8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe0fa);
        EXPECT(gbc.pc(), 0x97c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97c8), 0x8f);
        // 8F 02C6
        gbc.setState(0xfbf, 0x6335, 0x7cc0, 0xd79c, 0xb93a, 0xbb9e, 0x0, 0x0);
        gbc.writeMem(0xfbf, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x6335);
        EXPECT(gbc.pc(), 0xfc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02C7
        gbc.setState(0x5d45, 0xa767, 0x6d60, 0xec95, 0x4d29, 0x32ec, 0x1, 0x1);
        gbc.writeMem(0x5d45, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa767);
        EXPECT(gbc.pc(), 0x5d46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02C8
        gbc.setState(0xeaab, 0x42c4, 0x86f0, 0xa8b0, 0xfd77, 0xe968, 0x0, 0x1);
        gbc.writeMem(0xeaab, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x42c4);
        EXPECT(gbc.pc(), 0xeaac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaab), 0x8f);
        // 8F 02C9
        gbc.setState(0x2d74, 0x136, 0x84a0, 0xd46f, 0x521a, 0xdab9, 0x0, 0x1);
        gbc.writeMem(0x2d74, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x136);
        EXPECT(gbc.pc(), 0x2d75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02CA
        gbc.setState(0x3479, 0x5efd, 0x52e0, 0xa813, 0x4bc5, 0xd564, 0x1, 0x1);
        gbc.writeMem(0x3479, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5efd);
        EXPECT(gbc.pc(), 0x347a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02CB
        gbc.setState(0xda39, 0x795, 0x69d0, 0x790d, 0x4245, 0x6505, 0x0, 0x0);
        gbc.writeMem(0xda39, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x795);
        EXPECT(gbc.pc(), 0xda3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda39), 0x8f);
        // 8F 02CC
        gbc.setState(0xddcb, 0x32d3, 0x60f0, 0x66a, 0xc64b, 0x28ba, 0x1, 0x1);
        gbc.writeMem(0xddcb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x32d3);
        EXPECT(gbc.pc(), 0xddcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddcb), 0x8f);
        // 8F 02CD
        gbc.setState(0x9f02, 0xa7c8, 0xf660, 0xeaa0, 0xef19, 0x46de, 0x0, 0x0);
        gbc.writeMem(0x9f02, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa7c8);
        EXPECT(gbc.pc(), 0x9f03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f02), 0x8f);
        // 8F 02CE
        gbc.setState(0xb4f, 0xda90, 0x6120, 0x4751, 0x5e42, 0x1290, 0x0, 0x0);
        gbc.writeMem(0xb4f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xda90);
        EXPECT(gbc.pc(), 0xb50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02CF
        gbc.setState(0x2d72, 0xc54e, 0x96b0, 0x7372, 0x2372, 0x6f90, 0x1, 0x0);
        gbc.writeMem(0x2d72, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc54e);
        EXPECT(gbc.pc(), 0x2d73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02D0
        gbc.setState(0xaf0e, 0x8b, 0x4220, 0xcd24, 0xac7d, 0x6824, 0x1, 0x1);
        gbc.writeMem(0xaf0e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8b);
        EXPECT(gbc.pc(), 0xaf0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf0e), 0x8f);
        // 8F 02D1
        gbc.setState(0x6a33, 0xfc0a, 0xe5e0, 0xa4b9, 0xebef, 0x7136, 0x1, 0x1);
        gbc.writeMem(0x6a33, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfc0a);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02D3
        gbc.setState(0xd958, 0xf68, 0x1760, 0x8e6e, 0x8d9e, 0x4b4a, 0x1, 0x0);
        gbc.writeMem(0xd958, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xf68);
        EXPECT(gbc.pc(), 0xd959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd958), 0x8f);
        // 8F 02D4
        gbc.setState(0x22e5, 0xe8ea, 0x4c50, 0x6306, 0xc0b5, 0xfb26, 0x1, 0x0);
        gbc.writeMem(0x22e5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe8ea);
        EXPECT(gbc.pc(), 0x22e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02D5
        gbc.setState(0x5f5e, 0xd71a, 0xc420, 0x182b, 0xac1d, 0xddf8, 0x0, 0x1);
        gbc.writeMem(0x5f5e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xd71a);
        EXPECT(gbc.pc(), 0x5f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02D6
        gbc.setState(0x4a98, 0x2fa7, 0x7c80, 0x7234, 0x3acf, 0x6ed3, 0x1, 0x1);
        gbc.writeMem(0x4a98, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2fa7);
        EXPECT(gbc.pc(), 0x4a99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02D7
        gbc.setState(0x3942, 0xa174, 0x3140, 0xf596, 0x21fc, 0xa51, 0x1, 0x1);
        gbc.writeMem(0x3942, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xa174);
        EXPECT(gbc.pc(), 0x3943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02D8
        gbc.setState(0x676, 0x22c5, 0xad90, 0xbc55, 0xa2c7, 0x6c18, 0x1, 0x0);
        gbc.writeMem(0x676, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x22c5);
        EXPECT(gbc.pc(), 0x677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02D9
        gbc.setState(0xeb69, 0x3d1, 0xcee0, 0x97a, 0x14a2, 0xe0da, 0x1, 0x1);
        gbc.writeMem(0xeb69, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x3d1);
        EXPECT(gbc.pc(), 0xeb6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb69), 0x8f);
        // 8F 02DA
        gbc.setState(0x6089, 0xf94, 0xa310, 0xbb9a, 0x96ed, 0x37c2, 0x1, 0x0);
        gbc.writeMem(0x6089, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf94);
        EXPECT(gbc.pc(), 0x608a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02DB
        gbc.setState(0x2697, 0x84cd, 0xeb10, 0xb85e, 0x4171, 0x544b, 0x0, 0x0);
        gbc.writeMem(0x2697, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x84cd);
        EXPECT(gbc.pc(), 0x2698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02DC
        gbc.setState(0xc6de, 0x4675, 0x5c20, 0x415, 0xcf03, 0x1518, 0x1, 0x1);
        gbc.writeMem(0xc6de, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x4675);
        EXPECT(gbc.pc(), 0xc6df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6de), 0x8f);
        // 8F 02DD
        gbc.setState(0x658c, 0xc7d4, 0x2e30, 0x3b7a, 0x2416, 0x26b2, 0x1, 0x0);
        gbc.writeMem(0x658c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc7d4);
        EXPECT(gbc.pc(), 0x658d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02DE
        gbc.setState(0xab20, 0xc632, 0xda20, 0xdd30, 0x525e, 0x107e, 0x0, 0x1);
        gbc.writeMem(0xab20, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xc632);
        EXPECT(gbc.pc(), 0xab21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab20), 0x8f);
        // 8F 02DF
        gbc.setState(0x7e3a, 0xe0df, 0x8d80, 0xd530, 0x16d4, 0xd4a1, 0x1, 0x1);
        gbc.writeMem(0x7e3a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xe0df);
        EXPECT(gbc.pc(), 0x7e3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02E0
        gbc.setState(0x8f4b, 0xfd73, 0x4360, 0x326d, 0xd9a2, 0x79b, 0x0, 0x1);
        gbc.writeMem(0x8f4b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xfd73);
        EXPECT(gbc.pc(), 0x8f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f4b), 0x8f);
        // 8F 02E1
        gbc.setState(0xd406, 0xd29e, 0x2570, 0x2280, 0x57a0, 0xc437, 0x0, 0x0);
        gbc.writeMem(0xd406, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd29e);
        EXPECT(gbc.pc(), 0xd407);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd406), 0x8f);
        // 8F 02E2
        gbc.setState(0xa110, 0xf73b, 0x85b0, 0x96da, 0x7a82, 0x9b0d, 0x0, 0x0);
        gbc.writeMem(0xa110, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf73b);
        EXPECT(gbc.pc(), 0xa111);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa110), 0x8f);
        // 8F 02E3
        gbc.setState(0x91e3, 0xfdf0, 0x6160, 0xb4be, 0x7dca, 0x7ada, 0x0, 0x1);
        gbc.writeMem(0x91e3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfdf0);
        EXPECT(gbc.pc(), 0x91e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e3), 0x8f);
        // 8F 02E4
        gbc.setState(0xc956, 0xb924, 0x8c30, 0xdb84, 0x8b3c, 0xde9a, 0x0, 0x1);
        gbc.writeMem(0xc956, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb924);
        EXPECT(gbc.pc(), 0xc957);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc956), 0x8f);
        // 8F 02E5
        gbc.setState(0x648, 0xd704, 0x9f60, 0x7e6, 0xb2a9, 0xe4a9, 0x1, 0x1);
        gbc.writeMem(0x648, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xd704);
        EXPECT(gbc.pc(), 0x649);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02E6
        gbc.setState(0x4b07, 0x999d, 0xbf60, 0xd02e, 0x226b, 0xa2cc, 0x1, 0x0);
        gbc.writeMem(0x4b07, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x999d);
        EXPECT(gbc.pc(), 0x4b08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02E7
        gbc.setState(0x706d, 0x5387, 0x6370, 0xa959, 0x7afe, 0x1bfe, 0x1, 0x1);
        gbc.writeMem(0x706d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x5387);
        EXPECT(gbc.pc(), 0x706e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 02E8
        gbc.setState(0xe39a, 0x568b, 0xdc20, 0x64df, 0x8808, 0x5b8d, 0x0, 0x0);
        gbc.writeMem(0xe39a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x568b);
        EXPECT(gbc.pc(), 0xe39b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe39a), 0x8f);
        // 8F 02E9
        gbc.setState(0x9b22, 0xe71, 0x6e00, 0x431c, 0xd071, 0xa8c5, 0x0, 0x1);
        gbc.writeMem(0x9b22, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe71);
        EXPECT(gbc.pc(), 0x9b23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b22), 0x8f);
        // 8F 02EA
        gbc.setState(0xd3aa, 0xcba4, 0x6b70, 0x43f7, 0xc7e9, 0x6be0, 0x0, 0x1);
        gbc.writeMem(0xd3aa, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xcba4);
        EXPECT(gbc.pc(), 0xd3ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3aa), 0x8f);
        // 8F 02EB
        gbc.setState(0x13e8, 0xda54, 0xf270, 0xafb7, 0x1332, 0x51d3, 0x0, 0x1);
        gbc.writeMem(0x13e8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xda54);
        EXPECT(gbc.pc(), 0x13e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02EC
        gbc.setState(0xb67e, 0xf4cd, 0x2990, 0xbbc0, 0xaf64, 0x63c1, 0x1, 0x0);
        gbc.writeMem(0xb67e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf4cd);
        EXPECT(gbc.pc(), 0xb67f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb67e), 0x8f);
        // 8F 02ED
        gbc.setState(0x2f28, 0xb6e0, 0x9840, 0x2d82, 0x46c2, 0x37d6, 0x1, 0x0);
        gbc.writeMem(0x2f28, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb6e0);
        EXPECT(gbc.pc(), 0x2f29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02EE
        gbc.setState(0xc0d7, 0xff2f, 0xd9b0, 0x5ed2, 0xf669, 0x2dba, 0x0, 0x0);
        gbc.writeMem(0xc0d7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xff2f);
        EXPECT(gbc.pc(), 0xc0d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0d7), 0x8f);
        // 8F 02EF
        gbc.setState(0x2249, 0x1e0c, 0x8fb0, 0x485c, 0xc78a, 0x8729, 0x1, 0x0);
        gbc.writeMem(0x2249, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x1e0c);
        EXPECT(gbc.pc(), 0x224a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02F0
        gbc.setState(0x9069, 0x6d39, 0x44a0, 0xbefe, 0xb42, 0x8f2c, 0x0, 0x1);
        gbc.writeMem(0x9069, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x6d39);
        EXPECT(gbc.pc(), 0x906a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9069), 0x8f);
        // 8F 02F1
        gbc.setState(0x2cc6, 0x7303, 0xe780, 0xd213, 0x2633, 0xb676, 0x0, 0x1);
        gbc.writeMem(0x2cc6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x7303);
        EXPECT(gbc.pc(), 0x2cc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02F2
        gbc.setState(0x7906, 0x91ec, 0xc2e0, 0xef33, 0x10e4, 0x3811, 0x0, 0x0);
        gbc.writeMem(0x7906, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x91ec);
        EXPECT(gbc.pc(), 0x7907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02F3
        gbc.setState(0x1e8e, 0xbfbd, 0xa5e0, 0xadf4, 0xa5c, 0xd749, 0x1, 0x1);
        gbc.writeMem(0x1e8e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbfbd);
        EXPECT(gbc.pc(), 0x1e8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02F4
        gbc.setState(0xb898, 0x4539, 0x2de0, 0x372, 0xbb6d, 0x3526, 0x0, 0x0);
        gbc.writeMem(0xb898, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4539);
        EXPECT(gbc.pc(), 0xb899);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb898), 0x8f);
        // 8F 02F5
        gbc.setState(0x78a5, 0xc6ec, 0x39f0, 0xadcf, 0xf2ac, 0xb85b, 0x1, 0x1);
        gbc.writeMem(0x78a5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc6ec);
        EXPECT(gbc.pc(), 0x78a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 02F6
        gbc.setState(0x8d3d, 0x45b3, 0x1700, 0x361d, 0x2e52, 0x8798, 0x0, 0x0);
        gbc.writeMem(0x8d3d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x45b3);
        EXPECT(gbc.pc(), 0x8d3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d3d), 0x8f);
        // 8F 02F7
        gbc.setState(0xb64c, 0x9342, 0xa740, 0xe378, 0x4015, 0xfca1, 0x0, 0x1);
        gbc.writeMem(0xb64c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9342);
        EXPECT(gbc.pc(), 0xb64d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb64c), 0x8f);
        // 8F 02F8
        gbc.setState(0x541e, 0xb346, 0xc520, 0xe4b7, 0x2984, 0xf44b, 0x0, 0x0);
        gbc.writeMem(0x541e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xb346);
        EXPECT(gbc.pc(), 0x541f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 02F9
        gbc.setState(0xae60, 0x38e8, 0x6a00, 0xd152, 0xd6bf, 0xcd2f, 0x1, 0x0);
        gbc.writeMem(0xae60, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x38e8);
        EXPECT(gbc.pc(), 0xae61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae60), 0x8f);
        // 8F 02FA
        gbc.setState(0xba6f, 0x491d, 0xbc10, 0x22a4, 0xad1b, 0xe9b4, 0x0, 0x1);
        gbc.writeMem(0xba6f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x491d);
        EXPECT(gbc.pc(), 0xba70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba6f), 0x8f);
        // 8F 02FB
        gbc.setState(0x4ac3, 0x1226, 0xfee0, 0x2124, 0xbd3f, 0x69e3, 0x0, 0x0);
        gbc.writeMem(0x4ac3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x1226);
        EXPECT(gbc.pc(), 0x4ac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02FC
        gbc.setState(0x29d, 0xc585, 0xbdd0, 0xf1c6, 0xc3be, 0xdf14, 0x1, 0x1);
        gbc.writeMem(0x29d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc585);
        EXPECT(gbc.pc(), 0x29e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 02FE
        gbc.setState(0x97a3, 0xa869, 0x22a0, 0x4a00, 0xc76c, 0x7ce9, 0x1, 0x0);
        gbc.writeMem(0x97a3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xa869);
        EXPECT(gbc.pc(), 0x97a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97a3), 0x8f);
        // 8F 02FF
        gbc.setState(0x478b, 0xa680, 0x1a0, 0x6329, 0x8df7, 0x2270, 0x0, 0x1);
        gbc.writeMem(0x478b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa680);
        EXPECT(gbc.pc(), 0x478c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0300
        gbc.setState(0xbd2e, 0xc496, 0x2ca0, 0x8431, 0xcaf6, 0xe8aa, 0x1, 0x1);
        gbc.writeMem(0xbd2e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc496);
        EXPECT(gbc.pc(), 0xbd2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd2e), 0x8f);
        // 8F 0301
        gbc.setState(0xc2bd, 0xca7a, 0xf390, 0x2770, 0xd05c, 0x3de7, 0x1, 0x0);
        gbc.writeMem(0xc2bd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xca7a);
        EXPECT(gbc.pc(), 0xc2be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2bd), 0x8f);
        // 8F 0302
        gbc.setState(0x222f, 0xbb70, 0x460, 0x1c81, 0xaa4e, 0xc1d6, 0x0, 0x1);
        gbc.writeMem(0x222f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xbb70);
        EXPECT(gbc.pc(), 0x2230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0303
        gbc.setState(0x107d, 0xf767, 0x8ea0, 0xfd65, 0xb205, 0xd2db, 0x0, 0x1);
        gbc.writeMem(0x107d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf767);
        EXPECT(gbc.pc(), 0x107e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0304
        gbc.setState(0xad7a, 0xcaee, 0x1f90, 0xea8e, 0x1222, 0xdb93, 0x1, 0x1);
        gbc.writeMem(0xad7a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0xad7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7a), 0x8f);
        // 8F 0305
        gbc.setState(0x6ef2, 0x8cdf, 0x5e90, 0x1375, 0x959c, 0x3e19, 0x0, 0x1);
        gbc.writeMem(0x6ef2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x8cdf);
        EXPECT(gbc.pc(), 0x6ef3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0306
        gbc.setState(0x3d28, 0xd7bc, 0x7880, 0x91fb, 0xa13c, 0x538a, 0x0, 0x0);
        gbc.writeMem(0x3d28, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd7bc);
        EXPECT(gbc.pc(), 0x3d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0307
        gbc.setState(0x4a71, 0x2e6f, 0x5150, 0x82a1, 0xce73, 0xd183, 0x0, 0x0);
        gbc.writeMem(0x4a71, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2e6f);
        EXPECT(gbc.pc(), 0x4a72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0308
        gbc.setState(0xe099, 0xaa1a, 0xd370, 0x6809, 0xbba1, 0x4d66, 0x1, 0x1);
        gbc.writeMem(0xe099, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xaa1a);
        EXPECT(gbc.pc(), 0xe09a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe099), 0x8f);
        // 8F 0309
        gbc.setState(0xc0d6, 0x96fb, 0x8980, 0xce2b, 0xb1bd, 0x7faa, 0x0, 0x1);
        gbc.writeMem(0xc0d6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x96fb);
        EXPECT(gbc.pc(), 0xc0d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0d6), 0x8f);
        // 8F 030A
        gbc.setState(0xba2a, 0x454, 0x9900, 0x46ce, 0x6e97, 0xe6eb, 0x0, 0x0);
        gbc.writeMem(0xba2a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x454);
        EXPECT(gbc.pc(), 0xba2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba2a), 0x8f);
        // 8F 030B
        gbc.setState(0x77d6, 0x3915, 0x82c0, 0xca7a, 0xfaea, 0x8404, 0x0, 0x0);
        gbc.writeMem(0x77d6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3915);
        EXPECT(gbc.pc(), 0x77d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 030C
        gbc.setState(0x1a19, 0x91dd, 0x6850, 0x9165, 0x6477, 0x5909, 0x1, 0x0);
        gbc.writeMem(0x1a19, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x91dd);
        EXPECT(gbc.pc(), 0x1a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 030D
        gbc.setState(0x16e, 0x5244, 0xb980, 0xd2, 0x5a56, 0x691, 0x1, 0x0);
        gbc.writeMem(0x16e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x5244);
        EXPECT(gbc.pc(), 0x16f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 030E
        gbc.setState(0xeacd, 0x65b0, 0xc5a0, 0xf3a3, 0x70e0, 0x8dc1, 0x1, 0x0);
        gbc.writeMem(0xeacd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x65b0);
        EXPECT(gbc.pc(), 0xeace);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeacd), 0x8f);
        // 8F 030F
        gbc.setState(0xd2f2, 0xb041, 0x7940, 0x1c4c, 0xd80, 0xbe86, 0x0, 0x0);
        gbc.writeMem(0xd2f2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb041);
        EXPECT(gbc.pc(), 0xd2f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f2), 0x8f);
        // 8F 0310
        gbc.setState(0x8538, 0x2fda, 0x4850, 0xb209, 0x282b, 0xe45e, 0x1, 0x1);
        gbc.writeMem(0x8538, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2fda);
        EXPECT(gbc.pc(), 0x8539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8538), 0x8f);
        // 8F 0311
        gbc.setState(0x45be, 0x6c16, 0xba80, 0xfe87, 0x1cb5, 0xdb05, 0x0, 0x1);
        gbc.writeMem(0x45be, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6c16);
        EXPECT(gbc.pc(), 0x45bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0312
        gbc.setState(0x3912, 0xb082, 0x7650, 0xfbc4, 0xc216, 0x3629, 0x0, 0x0);
        gbc.writeMem(0x3912, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb082);
        EXPECT(gbc.pc(), 0x3913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0313
        gbc.setState(0x9958, 0xf995, 0x48c0, 0x6901, 0xb844, 0x5663, 0x0, 0x0);
        gbc.writeMem(0x9958, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf995);
        EXPECT(gbc.pc(), 0x9959);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9958), 0x8f);
        // 8F 0314
        gbc.setState(0x7d4e, 0x1229, 0xb410, 0x1d4a, 0x8da7, 0x32b5, 0x0, 0x1);
        gbc.writeMem(0x7d4e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1229);
        EXPECT(gbc.pc(), 0x7d4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0315
        gbc.setState(0x7adc, 0x541a, 0x8300, 0x67a9, 0x1342, 0xa5b2, 0x1, 0x1);
        gbc.writeMem(0x7adc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x541a);
        EXPECT(gbc.pc(), 0x7add);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0316
        gbc.setState(0x822d, 0x3d1a, 0x2f0, 0x334e, 0xd661, 0x3930, 0x0, 0x0);
        gbc.writeMem(0x822d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x3d1a);
        EXPECT(gbc.pc(), 0x822e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x822d), 0x8f);
        // 8F 0317
        gbc.setState(0x642c, 0x4105, 0x9550, 0xade4, 0xce29, 0xcfa2, 0x0, 0x1);
        gbc.writeMem(0x642c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4105);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0319
        gbc.setState(0xbd3d, 0x94ce, 0x3440, 0xc41c, 0x9b30, 0xf2dd, 0x0, 0x1);
        gbc.writeMem(0xbd3d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x94ce);
        EXPECT(gbc.pc(), 0xbd3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd3d), 0x8f);
        // 8F 031A
        gbc.setState(0x797, 0xf216, 0x6a00, 0x7880, 0x31f5, 0x6cab, 0x0, 0x0);
        gbc.writeMem(0x797, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf216);
        EXPECT(gbc.pc(), 0x798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 031B
        gbc.setState(0x6069, 0xe060, 0x8360, 0x5ddb, 0x283a, 0x5c45, 0x0, 0x1);
        gbc.writeMem(0x6069, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe060);
        EXPECT(gbc.pc(), 0x606a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 031C
        gbc.setState(0xab4d, 0xab86, 0xd600, 0x2be3, 0xbc4d, 0xc5a0, 0x1, 0x0);
        gbc.writeMem(0xab4d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xab86);
        EXPECT(gbc.pc(), 0xab4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab4d), 0x8f);
        // 8F 031D
        gbc.setState(0x208c, 0x7d36, 0x5a60, 0xdf6a, 0xa997, 0x3108, 0x0, 0x1);
        gbc.writeMem(0x208c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7d36);
        EXPECT(gbc.pc(), 0x208d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 031E
        gbc.setState(0x96d5, 0x99e7, 0x11e0, 0xf234, 0x3a9a, 0xbdca, 0x0, 0x1);
        gbc.writeMem(0x96d5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x99e7);
        EXPECT(gbc.pc(), 0x96d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96d5), 0x8f);
        // 8F 031F
        gbc.setState(0x725b, 0x3965, 0x2d60, 0xbf03, 0xee88, 0x2f1f, 0x1, 0x1);
        gbc.writeMem(0x725b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3965);
        EXPECT(gbc.pc(), 0x725c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0320
        gbc.setState(0xd8f5, 0x8eff, 0x76b0, 0xcc0b, 0xbbd2, 0xc88e, 0x1, 0x1);
        gbc.writeMem(0xd8f5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8eff);
        EXPECT(gbc.pc(), 0xd8f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8f5), 0x8f);
        // 8F 0321
        gbc.setState(0xab6b, 0xaf13, 0x8b00, 0xb001, 0xd883, 0x1ffb, 0x0, 0x1);
        gbc.writeMem(0xab6b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xaf13);
        EXPECT(gbc.pc(), 0xab6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab6b), 0x8f);
        // 8F 0322
        gbc.setState(0x3deb, 0x8fc9, 0x6920, 0x1871, 0x15fb, 0x3550, 0x1, 0x1);
        gbc.writeMem(0x3deb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8fc9);
        EXPECT(gbc.pc(), 0x3dec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0323
        gbc.setState(0x5571, 0x9a58, 0x8e30, 0x254b, 0x9220, 0x9766, 0x1, 0x0);
        gbc.writeMem(0x5571, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9a58);
        EXPECT(gbc.pc(), 0x5572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0324
        gbc.setState(0x49c0, 0x3b7b, 0x5980, 0x3acb, 0x5005, 0x1d2c, 0x1, 0x1);
        gbc.writeMem(0x49c0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3b7b);
        EXPECT(gbc.pc(), 0x49c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0325
        gbc.setState(0x6856, 0x5d2b, 0xb610, 0x22f5, 0xccf5, 0xb185, 0x0, 0x1);
        gbc.writeMem(0x6856, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5d2b);
        EXPECT(gbc.pc(), 0x6857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0326
        gbc.setState(0x2de9, 0x5efb, 0xd0, 0x3382, 0xfa4, 0xea0e, 0x0, 0x1);
        gbc.writeMem(0x2de9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x5efb);
        EXPECT(gbc.pc(), 0x2dea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0327
        gbc.setState(0x9d6, 0xd0f3, 0x70, 0x8fe, 0x651a, 0xa90f, 0x0, 0x0);
        gbc.writeMem(0x9d6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd0f3);
        EXPECT(gbc.pc(), 0x9d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0328
        gbc.setState(0x4740, 0xf181, 0x3f0, 0x3d46, 0xd815, 0x43eb, 0x1, 0x1);
        gbc.writeMem(0x4740, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xf181);
        EXPECT(gbc.pc(), 0x4741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0329
        gbc.setState(0x7cda, 0xc0f8, 0xdff0, 0xea33, 0x9a34, 0x8e06, 0x1, 0x1);
        gbc.writeMem(0x7cda, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xc0f8);
        EXPECT(gbc.pc(), 0x7cdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 032A
        gbc.setState(0x2856, 0xe2bb, 0x7ef0, 0x719, 0xf6, 0xb915, 0x0, 0x1);
        gbc.writeMem(0x2856, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe2bb);
        EXPECT(gbc.pc(), 0x2857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 032B
        gbc.setState(0x9b23, 0xac48, 0x7aa0, 0x8619, 0x4fcb, 0xd50d, 0x1, 0x0);
        gbc.writeMem(0x9b23, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xac48);
        EXPECT(gbc.pc(), 0x9b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b23), 0x8f);
        // 8F 032C
        gbc.setState(0x372b, 0x5839, 0xb3f0, 0xca85, 0xe6aa, 0xa978, 0x1, 0x1);
        gbc.writeMem(0x372b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5839);
        EXPECT(gbc.pc(), 0x372c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 032D
        gbc.setState(0x8d7b, 0x3f47, 0x3d10, 0x1504, 0x1a3e, 0x9daf, 0x0, 0x0);
        gbc.writeMem(0x8d7b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3f47);
        EXPECT(gbc.pc(), 0x8d7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d7b), 0x8f);
        // 8F 032E
        gbc.setState(0xa588, 0x3227, 0x530, 0x4441, 0x1a41, 0x7343, 0x0, 0x0);
        gbc.writeMem(0xa588, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x3227);
        EXPECT(gbc.pc(), 0xa589);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa588), 0x8f);
        // 8F 032F
        gbc.setState(0x6222, 0xcafa, 0x7700, 0xa309, 0xb2dc, 0x3f93, 0x1, 0x0);
        gbc.writeMem(0x6222, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xcafa);
        EXPECT(gbc.pc(), 0x6223);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0331
        gbc.setState(0x4846, 0xd640, 0xcae0, 0xec08, 0x88ab, 0x8e3b, 0x0, 0x0);
        gbc.writeMem(0x4846, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd640);
        EXPECT(gbc.pc(), 0x4847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0332
        gbc.setState(0x5150, 0x2cf, 0x53f0, 0x6d4a, 0xa057, 0x8186, 0x0, 0x0);
        gbc.writeMem(0x5150, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2cf);
        EXPECT(gbc.pc(), 0x5151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0333
        gbc.setState(0xd1a7, 0x7ab, 0x85b0, 0x8ecb, 0x9ae0, 0x5cd3, 0x1, 0x1);
        gbc.writeMem(0xd1a7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7ab);
        EXPECT(gbc.pc(), 0xd1a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1a7), 0x8f);
        // 8F 0334
        gbc.setState(0xdab0, 0xb1e6, 0xc6d0, 0x5697, 0xff7f, 0xe33b, 0x1, 0x1);
        gbc.writeMem(0xdab0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb1e6);
        EXPECT(gbc.pc(), 0xdab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab0), 0x8f);
        // 8F 0335
        gbc.setState(0x2bed, 0x3266, 0x6460, 0x4741, 0x48f6, 0x51d4, 0x1, 0x0);
        gbc.writeMem(0x2bed, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3266);
        EXPECT(gbc.pc(), 0x2bee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0336
        gbc.setState(0x3924, 0xe20f, 0x9b60, 0x7766, 0x878a, 0x1ad7, 0x1, 0x1);
        gbc.writeMem(0x3924, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe20f);
        EXPECT(gbc.pc(), 0x3925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0337
        gbc.setState(0x8a04, 0x900f, 0x9810, 0x842f, 0x316, 0x96c3, 0x0, 0x1);
        gbc.writeMem(0x8a04, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x900f);
        EXPECT(gbc.pc(), 0x8a05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a04), 0x8f);
        // 8F 0338
        gbc.setState(0x1c75, 0xf3a6, 0x7b40, 0x842b, 0xb298, 0x4ba5, 0x1, 0x1);
        gbc.writeMem(0x1c75, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf3a6);
        EXPECT(gbc.pc(), 0x1c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0339
        gbc.setState(0xa5e2, 0xb8b0, 0xcdf0, 0xf19d, 0x13ec, 0x9d30, 0x0, 0x0);
        gbc.writeMem(0xa5e2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb8b0);
        EXPECT(gbc.pc(), 0xa5e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e2), 0x8f);
        // 8F 033A
        gbc.setState(0x528f, 0xa484, 0x1d80, 0xc87f, 0x48ee, 0xda60, 0x1, 0x1);
        gbc.writeMem(0x528f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa484);
        EXPECT(gbc.pc(), 0x5290);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 033B
        gbc.setState(0x6154, 0x9f3c, 0x6060, 0xa512, 0xbe73, 0x236e, 0x0, 0x0);
        gbc.writeMem(0x6154, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x9f3c);
        EXPECT(gbc.pc(), 0x6155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 033C
        gbc.setState(0x105c, 0x980b, 0x2750, 0xfd42, 0x6248, 0xbe88, 0x1, 0x0);
        gbc.writeMem(0x105c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x980b);
        EXPECT(gbc.pc(), 0x105d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 033D
        gbc.setState(0x2730, 0xb2c1, 0x13c0, 0x5d35, 0x96fd, 0x12b6, 0x0, 0x0);
        gbc.writeMem(0x2730, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb2c1);
        EXPECT(gbc.pc(), 0x2731);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 033E
        gbc.setState(0xaa9e, 0xef76, 0x91a0, 0x25f8, 0x742a, 0xfbb9, 0x0, 0x0);
        gbc.writeMem(0xaa9e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xef76);
        EXPECT(gbc.pc(), 0xaa9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa9e), 0x8f);
        // 8F 0340
        gbc.setState(0xeda0, 0xe649, 0xa720, 0x128f, 0x15f3, 0x3d9b, 0x0, 0x0);
        gbc.writeMem(0xeda0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xe649);
        EXPECT(gbc.pc(), 0xeda1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeda0), 0x8f);
        // 8F 0341
        gbc.setState(0xc1a9, 0xe9f4, 0x3770, 0xc964, 0xe596, 0x74b6, 0x1, 0x1);
        gbc.writeMem(0xc1a9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xe9f4);
        EXPECT(gbc.pc(), 0xc1aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1a9), 0x8f);
        // 8F 0342
        gbc.setState(0x5002, 0x6c7a, 0x9a60, 0x497c, 0x832, 0x7a1b, 0x1, 0x1);
        gbc.writeMem(0x5002, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6c7a);
        EXPECT(gbc.pc(), 0x5003);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0343
        gbc.setState(0x9ec0, 0x3ce7, 0x8c80, 0xb575, 0xb029, 0x81a3, 0x0, 0x0);
        gbc.writeMem(0x9ec0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3ce7);
        EXPECT(gbc.pc(), 0x9ec1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ec0), 0x8f);
        // 8F 0345
        gbc.setState(0x1a9a, 0xa416, 0x8b0, 0x9911, 0x24c1, 0x199e, 0x1, 0x0);
        gbc.writeMem(0x1a9a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa416);
        EXPECT(gbc.pc(), 0x1a9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0346
        gbc.setState(0x3a94, 0xd9ea, 0x88b0, 0x315f, 0xb66, 0xeb82, 0x1, 0x1);
        gbc.writeMem(0x3a94, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xd9ea);
        EXPECT(gbc.pc(), 0x3a95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0347
        gbc.setState(0xcfb1, 0x8130, 0x40a0, 0x5834, 0xabb5, 0x5cbc, 0x0, 0x0);
        gbc.writeMem(0xcfb1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8130);
        EXPECT(gbc.pc(), 0xcfb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfb1), 0x8f);
        // 8F 0348
        gbc.setState(0x1939, 0xfcb3, 0xadd0, 0x1d8a, 0xf647, 0xaaa6, 0x1, 0x1);
        gbc.writeMem(0x1939, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xfcb3);
        EXPECT(gbc.pc(), 0x193a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 034A
        gbc.setState(0x8e57, 0x4e6f, 0xa7e0, 0x1147, 0x8b94, 0x7ac8, 0x0, 0x1);
        gbc.writeMem(0x8e57, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x4e6f);
        EXPECT(gbc.pc(), 0x8e58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e57), 0x8f);
        // 8F 034B
        gbc.setState(0x6728, 0x20d5, 0x3dc0, 0x1fbb, 0xbb99, 0x5aa, 0x1, 0x0);
        gbc.writeMem(0x6728, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x20d5);
        EXPECT(gbc.pc(), 0x6729);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 034C
        gbc.setState(0x659d, 0xe940, 0xb680, 0xb1cb, 0x1dab, 0x5102, 0x0, 0x0);
        gbc.writeMem(0x659d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe940);
        EXPECT(gbc.pc(), 0x659e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 034D
        gbc.setState(0x8707, 0x43ab, 0xc660, 0xe4b0, 0x249f, 0x56e4, 0x1, 0x0);
        gbc.writeMem(0x8707, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x43ab);
        EXPECT(gbc.pc(), 0x8708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8707), 0x8f);
        // 8F 034E
        gbc.setState(0x51cb, 0x94b8, 0x1650, 0x5586, 0xe7c4, 0x2b59, 0x0, 0x1);
        gbc.writeMem(0x51cb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x94b8);
        EXPECT(gbc.pc(), 0x51cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 034F
        gbc.setState(0x536d, 0x18dd, 0x2670, 0x846d, 0x664a, 0x4092, 0x0, 0x0);
        gbc.writeMem(0x536d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x18dd);
        EXPECT(gbc.pc(), 0x536e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0350
        gbc.setState(0xac10, 0x6f93, 0xf80, 0xbfb5, 0x6f96, 0x45c2, 0x0, 0x1);
        gbc.writeMem(0xac10, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6f93);
        EXPECT(gbc.pc(), 0xac11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac10), 0x8f);
        // 8F 0351
        gbc.setState(0x1d66, 0xb71f, 0xb5b0, 0x9ca8, 0x9767, 0xab2c, 0x0, 0x1);
        gbc.writeMem(0x1d66, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb71f);
        EXPECT(gbc.pc(), 0x1d67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0352
        gbc.setState(0x6fdc, 0x621, 0xc830, 0xc26e, 0xd68c, 0xde9f, 0x0, 0x0);
        gbc.writeMem(0x6fdc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x621);
        EXPECT(gbc.pc(), 0x6fdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0353
        gbc.setState(0xe8c8, 0x1738, 0x6810, 0xfd1d, 0x83f7, 0xc0c4, 0x0, 0x0);
        gbc.writeMem(0xe8c8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x1738);
        EXPECT(gbc.pc(), 0xe8c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c8), 0x8f);
        // 8F 0354
        gbc.setState(0x3506, 0x91f, 0xd1f0, 0x98d, 0x2894, 0x7793, 0x1, 0x0);
        gbc.writeMem(0x3506, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x91f);
        EXPECT(gbc.pc(), 0x3507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0355
        gbc.setState(0x30ae, 0x5c76, 0x3460, 0x5588, 0x3cff, 0x5e3, 0x0, 0x0);
        gbc.writeMem(0x30ae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5c76);
        EXPECT(gbc.pc(), 0x30af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0356
        gbc.setState(0x785c, 0xd413, 0x9bd0, 0x3c8c, 0x8ebe, 0x323, 0x1, 0x1);
        gbc.writeMem(0x785c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xd413);
        EXPECT(gbc.pc(), 0x785d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0357
        gbc.setState(0xad56, 0x4a39, 0x2ce0, 0x714d, 0x5ddf, 0x40f3, 0x0, 0x1);
        gbc.writeMem(0xad56, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4a39);
        EXPECT(gbc.pc(), 0xad57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad56), 0x8f);
        // 8F 0358
        gbc.setState(0x94f4, 0xa57f, 0x4320, 0x8d3e, 0x4f72, 0xf415, 0x1, 0x1);
        gbc.writeMem(0x94f4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa57f);
        EXPECT(gbc.pc(), 0x94f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f4), 0x8f);
        // 8F 0359
        gbc.setState(0xa27, 0x756c, 0x6d70, 0xea39, 0x297c, 0x51d0, 0x0, 0x0);
        gbc.writeMem(0xa27, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x756c);
        EXPECT(gbc.pc(), 0xa28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 035A
        gbc.setState(0xc635, 0x8710, 0xcb20, 0x9709, 0x7493, 0x47d2, 0x0, 0x0);
        gbc.writeMem(0xc635, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8710);
        EXPECT(gbc.pc(), 0xc636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc635), 0x8f);
        // 8F 035B
        gbc.setState(0xd421, 0x8207, 0xca30, 0x331a, 0x9173, 0x4a3f, 0x1, 0x0);
        gbc.writeMem(0xd421, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x8207);
        EXPECT(gbc.pc(), 0xd422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd421), 0x8f);
        // 8F 035C
        gbc.setState(0xdeca, 0x5252, 0x6150, 0x5cd0, 0x9759, 0xc875, 0x0, 0x1);
        gbc.writeMem(0xdeca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5252);
        EXPECT(gbc.pc(), 0xdecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeca), 0x8f);
        // 8F 035D
        gbc.setState(0x7fd8, 0xf4db, 0x330, 0xca9a, 0x2e1f, 0x2ba8, 0x1, 0x0);
        gbc.writeMem(0x7fd8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf4db);
        EXPECT(gbc.pc(), 0x7fd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 035E
        gbc.setState(0x78e3, 0x462a, 0x5970, 0xad8b, 0x37d8, 0x7d77, 0x1, 0x0);
        gbc.writeMem(0x78e3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x462a);
        EXPECT(gbc.pc(), 0x78e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 035F
        gbc.setState(0x4e11, 0xe2a3, 0x4c0, 0x9479, 0x4ad4, 0x7615, 0x0, 0x1);
        gbc.writeMem(0x4e11, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe2a3);
        EXPECT(gbc.pc(), 0x4e12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0360
        gbc.setState(0x7e1b, 0xed02, 0xdfa0, 0x5e39, 0xc0b4, 0x2d6d, 0x0, 0x0);
        gbc.writeMem(0x7e1b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xed02);
        EXPECT(gbc.pc(), 0x7e1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0361
        gbc.setState(0x45e5, 0xcfef, 0x1c20, 0xae11, 0xe17e, 0x5149, 0x1, 0x0);
        gbc.writeMem(0x45e5, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xcfef);
        EXPECT(gbc.pc(), 0x45e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0362
        gbc.setState(0x98a4, 0x53c5, 0x7e0, 0xa76a, 0xa1d6, 0xc77a, 0x0, 0x0);
        gbc.writeMem(0x98a4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x53c5);
        EXPECT(gbc.pc(), 0x98a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98a4), 0x8f);
        // 8F 0363
        gbc.setState(0xbbeb, 0x3f5, 0xe370, 0xf5bf, 0xf36c, 0x96ef, 0x0, 0x1);
        gbc.writeMem(0xbbeb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3f5);
        EXPECT(gbc.pc(), 0xbbec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbeb), 0x8f);
        // 8F 0364
        gbc.setState(0xded3, 0x76e3, 0x6ea0, 0xc3de, 0xc73a, 0x1219, 0x0, 0x1);
        gbc.writeMem(0xded3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x76e3);
        EXPECT(gbc.pc(), 0xded4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xded3), 0x8f);
        // 8F 0365
        gbc.setState(0x3ed8, 0x943d, 0x9360, 0x3608, 0x2424, 0x3779, 0x1, 0x1);
        gbc.writeMem(0x3ed8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x943d);
        EXPECT(gbc.pc(), 0x3ed9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0366
        gbc.setState(0xb0e6, 0xdeb7, 0x61e0, 0xf211, 0x514d, 0x441a, 0x1, 0x0);
        gbc.writeMem(0xb0e6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xdeb7);
        EXPECT(gbc.pc(), 0xb0e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e6), 0x8f);
        // 8F 0367
        gbc.setState(0xf7a, 0xc2c, 0xb2b0, 0x7d3b, 0xd1c2, 0xe739, 0x0, 0x0);
        gbc.writeMem(0xf7a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc2c);
        EXPECT(gbc.pc(), 0xf7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0368
        gbc.setState(0x3e9b, 0xf61b, 0xb0e0, 0xd8c3, 0x313b, 0x37df, 0x1, 0x1);
        gbc.writeMem(0x3e9b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf61b);
        EXPECT(gbc.pc(), 0x3e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0369
        gbc.setState(0x463, 0xa2f5, 0x3b50, 0xbad, 0x65a3, 0x6215, 0x1, 0x0);
        gbc.writeMem(0x463, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa2f5);
        EXPECT(gbc.pc(), 0x464);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 036A
        gbc.setState(0xe867, 0x2253, 0x5a10, 0xea6f, 0x6960, 0x9f65, 0x0, 0x1);
        gbc.writeMem(0xe867, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2253);
        EXPECT(gbc.pc(), 0xe868);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe867), 0x8f);
        // 8F 036B
        gbc.setState(0x4854, 0xe3de, 0xc190, 0x4932, 0x5a2f, 0x4a37, 0x1, 0x1);
        gbc.writeMem(0x4854, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe3de);
        EXPECT(gbc.pc(), 0x4855);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 036C
        gbc.setState(0x7ce6, 0x5e2b, 0x5dd0, 0xb48d, 0x4ba9, 0xd89e, 0x1, 0x0);
        gbc.writeMem(0x7ce6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5e2b);
        EXPECT(gbc.pc(), 0x7ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 036D
        gbc.setState(0x3dba, 0xf947, 0x6230, 0xc46e, 0xdf7d, 0x5e1e, 0x0, 0x0);
        gbc.writeMem(0x3dba, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf947);
        EXPECT(gbc.pc(), 0x3dbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 036E
        gbc.setState(0x3170, 0x3d27, 0x4630, 0xeb08, 0xe58a, 0x64a4, 0x1, 0x1);
        gbc.writeMem(0x3170, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x3d27);
        EXPECT(gbc.pc(), 0x3171);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 036F
        gbc.setState(0x8f0a, 0x790e, 0xebb0, 0xc143, 0x6e7b, 0x22e2, 0x1, 0x1);
        gbc.writeMem(0x8f0a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x790e);
        EXPECT(gbc.pc(), 0x8f0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f0a), 0x8f);
        // 8F 0370
        gbc.setState(0xe77, 0xd8a4, 0xe4b0, 0x54c7, 0x9b0, 0xa3c8, 0x0, 0x1);
        gbc.writeMem(0xe77, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xd8a4);
        EXPECT(gbc.pc(), 0xe78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0371
        gbc.setState(0x6f20, 0xbed8, 0xac70, 0x6a73, 0x2d09, 0x464d, 0x1, 0x0);
        gbc.writeMem(0x6f20, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xbed8);
        EXPECT(gbc.pc(), 0x6f21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0372
        gbc.setState(0x7232, 0x2bc, 0x3c30, 0x72f6, 0x64c, 0x5c4f, 0x1, 0x0);
        gbc.writeMem(0x7232, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x2bc);
        EXPECT(gbc.pc(), 0x7233);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0373
        gbc.setState(0xd77c, 0x67ba, 0xfad0, 0xe034, 0x44b7, 0xe3f2, 0x1, 0x1);
        gbc.writeMem(0xd77c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x67ba);
        EXPECT(gbc.pc(), 0xd77d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd77c), 0x8f);
        // 8F 0375
        gbc.setState(0xd917, 0x6102, 0x7380, 0x8a77, 0xcca2, 0x84d5, 0x1, 0x1);
        gbc.writeMem(0xd917, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6102);
        EXPECT(gbc.pc(), 0xd918);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd917), 0x8f);
        // 8F 0376
        gbc.setState(0x588f, 0x6884, 0xc020, 0x92e9, 0x8702, 0x57b9, 0x1, 0x1);
        gbc.writeMem(0x588f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6884);
        EXPECT(gbc.pc(), 0x5890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0377
        gbc.setState(0xbe65, 0xc42a, 0x54b0, 0xb46c, 0xa041, 0x14cc, 0x0, 0x1);
        gbc.writeMem(0xbe65, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc42a);
        EXPECT(gbc.pc(), 0xbe66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe65), 0x8f);
        // 8F 0378
        gbc.setState(0x1733, 0xb0be, 0x5160, 0x5493, 0x3a8, 0x6f04, 0x1, 0x0);
        gbc.writeMem(0x1733, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xb0be);
        EXPECT(gbc.pc(), 0x1734);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0379
        gbc.setState(0x28f1, 0x2ded, 0xe090, 0x3a14, 0xdd0c, 0x360c, 0x1, 0x1);
        gbc.writeMem(0x28f1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2ded);
        EXPECT(gbc.pc(), 0x28f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 037A
        gbc.setState(0x8e2f, 0x2ed1, 0x17a0, 0xe4a9, 0x279a, 0x5111, 0x1, 0x0);
        gbc.writeMem(0x8e2f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2ed1);
        EXPECT(gbc.pc(), 0x8e30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e2f), 0x8f);
        // 8F 037B
        gbc.setState(0x7311, 0xa362, 0x2d00, 0x844c, 0x53eb, 0x2630, 0x1, 0x0);
        gbc.writeMem(0x7311, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa362);
        EXPECT(gbc.pc(), 0x7312);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 037C
        gbc.setState(0x320c, 0x4c42, 0xba40, 0x9b7c, 0xa318, 0xf22e, 0x1, 0x1);
        gbc.writeMem(0x320c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4c42);
        EXPECT(gbc.pc(), 0x320d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 037D
        gbc.setState(0x756e, 0x5847, 0x71a0, 0xee12, 0x2521, 0x1fc3, 0x1, 0x0);
        gbc.writeMem(0x756e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x5847);
        EXPECT(gbc.pc(), 0x756f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 037E
        gbc.setState(0x7e2f, 0x48d7, 0xa650, 0x5b28, 0x1819, 0x53bd, 0x1, 0x1);
        gbc.writeMem(0x7e2f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x48d7);
        EXPECT(gbc.pc(), 0x7e30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 037F
        gbc.setState(0x4672, 0xd7c3, 0xf340, 0x6d68, 0x8823, 0xce2c, 0x1, 0x1);
        gbc.writeMem(0x4672, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xd7c3);
        EXPECT(gbc.pc(), 0x4673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0380
        gbc.setState(0x9e8e, 0x311c, 0x3b50, 0x26e, 0x4fc4, 0x5f84, 0x0, 0x1);
        gbc.writeMem(0x9e8e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x311c);
        EXPECT(gbc.pc(), 0x9e8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8e), 0x8f);
        // 8F 0381
        gbc.setState(0x1919, 0xc89e, 0xcef0, 0x28b7, 0xb2b4, 0xaab6, 0x1, 0x0);
        gbc.writeMem(0x1919, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xc89e);
        EXPECT(gbc.pc(), 0x191a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0382
        gbc.setState(0x685d, 0xd495, 0x3f70, 0xb392, 0xb23e, 0xed44, 0x0, 0x1);
        gbc.writeMem(0x685d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xd495);
        EXPECT(gbc.pc(), 0x685e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0383
        gbc.setState(0x6d29, 0xa068, 0xc5d0, 0xb671, 0x4ef1, 0x7f57, 0x1, 0x1);
        gbc.writeMem(0x6d29, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xa068);
        EXPECT(gbc.pc(), 0x6d2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0385
        gbc.setState(0x2545, 0xb4fc, 0xa520, 0x9f5a, 0x42f7, 0x5d44, 0x1, 0x1);
        gbc.writeMem(0x2545, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb4fc);
        EXPECT(gbc.pc(), 0x2546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0386
        gbc.setState(0x849c, 0x77f8, 0xef10, 0xf99, 0x8ed6, 0xc7f0, 0x1, 0x0);
        gbc.writeMem(0x849c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x77f8);
        EXPECT(gbc.pc(), 0x849d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x849c), 0x8f);
        // 8F 0387
        gbc.setState(0x8b1, 0xe7bf, 0x3d20, 0x7205, 0xee19, 0x806a, 0x0, 0x1);
        gbc.writeMem(0x8b1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe7bf);
        EXPECT(gbc.pc(), 0x8b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0388
        gbc.setState(0xc107, 0x86b1, 0x6520, 0xc0be, 0x18a0, 0x3d95, 0x0, 0x1);
        gbc.writeMem(0xc107, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x86b1);
        EXPECT(gbc.pc(), 0xc108);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc107), 0x8f);
        // 8F 0389
        gbc.setState(0xbde6, 0xaf72, 0xb3e0, 0x4a24, 0x8496, 0x99a3, 0x0, 0x0);
        gbc.writeMem(0xbde6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xaf72);
        EXPECT(gbc.pc(), 0xbde7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde6), 0x8f);
        // 8F 038A
        gbc.setState(0x8d02, 0x9724, 0x6660, 0x626f, 0x1b9a, 0x18f, 0x0, 0x0);
        gbc.writeMem(0x8d02, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9724);
        EXPECT(gbc.pc(), 0x8d03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d02), 0x8f);
        // 8F 038B
        gbc.setState(0x9e7, 0xc9e0, 0x89b0, 0xa03b, 0xe1aa, 0x359b, 0x1, 0x1);
        gbc.writeMem(0x9e7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc9e0);
        EXPECT(gbc.pc(), 0x9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 038C
        gbc.setState(0x902c, 0x6587, 0x2c30, 0xb74a, 0xfc3d, 0x63be, 0x0, 0x1);
        gbc.writeMem(0x902c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x6587);
        EXPECT(gbc.pc(), 0x902d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x902c), 0x8f);
        // 8F 038D
        gbc.setState(0x6f6c, 0xfb2c, 0x6a80, 0xc83d, 0xc53b, 0x5a38, 0x1, 0x0);
        gbc.writeMem(0x6f6c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xfb2c);
        EXPECT(gbc.pc(), 0x6f6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 038E
        gbc.setState(0x3815, 0x1123, 0xf5b0, 0x18be, 0x266b, 0x4dde, 0x1, 0x1);
        gbc.writeMem(0x3815, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x1123);
        EXPECT(gbc.pc(), 0x3816);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 038F
        gbc.setState(0x2c2d, 0xde8b, 0x8c10, 0x81ca, 0x8d50, 0xf525, 0x0, 0x1);
        gbc.writeMem(0x2c2d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xde8b);
        EXPECT(gbc.pc(), 0x2c2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 0390
        gbc.setState(0xcc5d, 0x2410, 0x84d0, 0x247a, 0x7981, 0x873f, 0x0, 0x0);
        gbc.writeMem(0xcc5d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x2410);
        EXPECT(gbc.pc(), 0xcc5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc5d), 0x8f);
        // 8F 0391
        gbc.setState(0x84ed, 0x963e, 0xcfa0, 0x4af1, 0x8eb3, 0x74c1, 0x0, 0x1);
        gbc.writeMem(0x84ed, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x963e);
        EXPECT(gbc.pc(), 0x84ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ed), 0x8f);
        // 8F 0392
        gbc.setState(0xd27, 0x54b8, 0x7790, 0xbdd7, 0x10df, 0x220f, 0x1, 0x0);
        gbc.writeMem(0xd27, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x54b8);
        EXPECT(gbc.pc(), 0xd28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0393
        gbc.setState(0x2d69, 0x53b0, 0x6170, 0x56f9, 0xf9e7, 0x4dfe, 0x0, 0x0);
        gbc.writeMem(0x2d69, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x53b0);
        EXPECT(gbc.pc(), 0x2d6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0394
        gbc.setState(0x747e, 0x94e7, 0xd4c0, 0x7be9, 0xd8c9, 0xf5c3, 0x0, 0x1);
        gbc.writeMem(0x747e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x94e7);
        EXPECT(gbc.pc(), 0x747f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 0395
        gbc.setState(0xe7f9, 0xc411, 0xc420, 0x8095, 0xbc64, 0xb9c8, 0x1, 0x0);
        gbc.writeMem(0xe7f9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xc411);
        EXPECT(gbc.pc(), 0xe7fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7f9), 0x8f);
        // 8F 0396
        gbc.setState(0x1b40, 0xea16, 0x6b60, 0xe5d, 0x6d17, 0xd15f, 0x0, 0x1);
        gbc.writeMem(0x1b40, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xea16);
        EXPECT(gbc.pc(), 0x1b41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 0397
        gbc.setState(0x8e3f, 0xcb48, 0x3340, 0xa3a5, 0x4e75, 0xb8d, 0x1, 0x1);
        gbc.writeMem(0x8e3f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xcb48);
        EXPECT(gbc.pc(), 0x8e40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e3f), 0x8f);
        // 8F 0398
        gbc.setState(0x216e, 0x905c, 0x73b0, 0xdd7f, 0xbae7, 0x81df, 0x0, 0x1);
        gbc.writeMem(0x216e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x905c);
        EXPECT(gbc.pc(), 0x216f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 0399
        gbc.setState(0x4d88, 0x2c5f, 0xe5b0, 0x4f82, 0x2154, 0x2029, 0x1, 0x0);
        gbc.writeMem(0x4d88, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x2c5f);
        EXPECT(gbc.pc(), 0x4d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 039A
        gbc.setState(0x8b2f, 0xbcfc, 0x8b50, 0x5732, 0x3d9b, 0x26a2, 0x1, 0x1);
        gbc.writeMem(0x8b2f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbcfc);
        EXPECT(gbc.pc(), 0x8b30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b2f), 0x8f);
        // 8F 039B
        gbc.setState(0x2a58, 0xd302, 0x9500, 0x581b, 0xa9f6, 0xeb83, 0x0, 0x0);
        gbc.writeMem(0x2a58, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd302);
        EXPECT(gbc.pc(), 0x2a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 039C
        gbc.setState(0x47f3, 0x42b7, 0x42b0, 0x805d, 0xb0f7, 0x425, 0x1, 0x1);
        gbc.writeMem(0x47f3, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x42b7);
        EXPECT(gbc.pc(), 0x47f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 039D
        gbc.setState(0xd32d, 0xdddf, 0x9760, 0x18b, 0xe715, 0x949b, 0x0, 0x1);
        gbc.writeMem(0xd32d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xdddf);
        EXPECT(gbc.pc(), 0xd32e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd32d), 0x8f);
        // 8F 039E
        gbc.setState(0x1074, 0xe10b, 0x67b0, 0x1ec3, 0xd1ac, 0x1932, 0x1, 0x1);
        gbc.writeMem(0x1074, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xe10b);
        EXPECT(gbc.pc(), 0x1075);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 039F
        gbc.setState(0x5741, 0x638e, 0x82d0, 0x3d20, 0xa484, 0x1bc1, 0x1, 0x1);
        gbc.writeMem(0x5741, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x638e);
        EXPECT(gbc.pc(), 0x5742);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03A0
        gbc.setState(0xcb78, 0xb43d, 0xc790, 0x5757, 0xcaa, 0xb7ae, 0x0, 0x1);
        gbc.writeMem(0xcb78, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xb43d);
        EXPECT(gbc.pc(), 0xcb79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb78), 0x8f);
        // 8F 03A1
        gbc.setState(0xc0e9, 0xff65, 0x5470, 0xa914, 0xe190, 0x8634, 0x0, 0x0);
        gbc.writeMem(0xc0e9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xff65);
        EXPECT(gbc.pc(), 0xc0ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0e9), 0x8f);
        // 8F 03A2
        gbc.setState(0x712f, 0xeca9, 0x7610, 0xdbb6, 0xcf4c, 0xa782, 0x0, 0x1);
        gbc.writeMem(0x712f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xeca9);
        EXPECT(gbc.pc(), 0x7130);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03A3
        gbc.setState(0x1b9b, 0x60f7, 0xe6a0, 0x449d, 0xa29, 0x5a44, 0x1, 0x0);
        gbc.writeMem(0x1b9b, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x60f7);
        EXPECT(gbc.pc(), 0x1b9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03A4
        gbc.setState(0xdc30, 0x240d, 0x5e70, 0x5e3b, 0xd9e, 0x4321, 0x0, 0x1);
        gbc.writeMem(0xdc30, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x240d);
        EXPECT(gbc.pc(), 0xdc31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc30), 0x8f);
        // 8F 03A5
        gbc.setState(0x556, 0x5897, 0x5e60, 0x3e5b, 0xd4f1, 0x38, 0x0, 0x0);
        gbc.writeMem(0x556, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5897);
        EXPECT(gbc.pc(), 0x557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03A6
        gbc.setState(0xc056, 0x2659, 0x23e0, 0xb85, 0xc754, 0xa3a5, 0x0, 0x1);
        gbc.writeMem(0xc056, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2659);
        EXPECT(gbc.pc(), 0xc057);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc056), 0x8f);
        // 8F 03A7
        gbc.setState(0x9945, 0xec5e, 0x2160, 0xa80f, 0x29ea, 0x7ae1, 0x0, 0x0);
        gbc.writeMem(0x9945, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xec5e);
        EXPECT(gbc.pc(), 0x9946);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9945), 0x8f);
        // 8F 03A9
        gbc.setState(0x3bfb, 0x4cae, 0x2480, 0x4660, 0x8017, 0xeda1, 0x0, 0x1);
        gbc.writeMem(0x3bfb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4cae);
        EXPECT(gbc.pc(), 0x3bfc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03AA
        gbc.setState(0xa69, 0xcf80, 0xeee0, 0x6fb5, 0x9c2b, 0x2348, 0x0, 0x0);
        gbc.writeMem(0xa69, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xcf80);
        EXPECT(gbc.pc(), 0xa6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03AB
        gbc.setState(0xfdd, 0xb56c, 0xa310, 0x7900, 0x379e, 0x53c3, 0x1, 0x1);
        gbc.writeMem(0xfdd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb56c);
        EXPECT(gbc.pc(), 0xfde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03AC
        gbc.setState(0xd5b4, 0x6e0e, 0x1720, 0xf333, 0x3431, 0x3295, 0x0, 0x1);
        gbc.writeMem(0xd5b4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x6e0e);
        EXPECT(gbc.pc(), 0xd5b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b4), 0x8f);
        // 8F 03AD
        gbc.setState(0xbac8, 0xf28a, 0xa880, 0xf956, 0x7421, 0x295, 0x1, 0x1);
        gbc.writeMem(0xbac8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf28a);
        EXPECT(gbc.pc(), 0xbac9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbac8), 0x8f);
        // 8F 03AE
        gbc.setState(0x2b52, 0xbbb7, 0xcce0, 0x767a, 0x6d1d, 0x43f6, 0x0, 0x1);
        gbc.writeMem(0x2b52, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xbbb7);
        EXPECT(gbc.pc(), 0x2b53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03AF
        gbc.setState(0x42a9, 0x8647, 0x5cc0, 0x8b5b, 0x1fd9, 0x398, 0x0, 0x1);
        gbc.writeMem(0x42a9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8647);
        EXPECT(gbc.pc(), 0x42aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03B0
        gbc.setState(0xbfdc, 0x4d77, 0x2490, 0xeb72, 0x207a, 0xef2, 0x0, 0x1);
        gbc.writeMem(0xbfdc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x4d77);
        EXPECT(gbc.pc(), 0xbfdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfdc), 0x8f);
        // 8F 03B1
        gbc.setState(0x2206, 0x8c71, 0x8d00, 0x9c, 0xb269, 0x7aff, 0x1, 0x1);
        gbc.writeMem(0x2206, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x8c71);
        EXPECT(gbc.pc(), 0x2207);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03B2
        gbc.setState(0x17ac, 0xe9ec, 0x21a0, 0x70d7, 0x320e, 0xeac5, 0x1, 0x0);
        gbc.writeMem(0x17ac, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe9ec);
        EXPECT(gbc.pc(), 0x17ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03B3
        gbc.setState(0x806d, 0xb576, 0xc3b0, 0xb9e9, 0x1aea, 0x8398, 0x1, 0x1);
        gbc.writeMem(0x806d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xb576);
        EXPECT(gbc.pc(), 0x806e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x806d), 0x8f);
        // 8F 03B4
        gbc.setState(0xa14f, 0x83de, 0xb480, 0x245f, 0x7e40, 0x761b, 0x0, 0x1);
        gbc.writeMem(0xa14f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x83de);
        EXPECT(gbc.pc(), 0xa150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa14f), 0x8f);
        // 8F 03B5
        gbc.setState(0x51f1, 0x2cf6, 0x8350, 0xde15, 0xd311, 0x6bc, 0x1, 0x1);
        gbc.writeMem(0x51f1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x2cf6);
        EXPECT(gbc.pc(), 0x51f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03B6
        gbc.setState(0x48cc, 0xfc4b, 0x2190, 0x7c4b, 0x9cfe, 0x7b23, 0x0, 0x1);
        gbc.writeMem(0x48cc, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfc4b);
        EXPECT(gbc.pc(), 0x48cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03B7
        gbc.setState(0xab7c, 0xbc2, 0x6d50, 0xb2ee, 0xae9c, 0x6620, 0x0, 0x1);
        gbc.writeMem(0xab7c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xbc2);
        EXPECT(gbc.pc(), 0xab7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab7c), 0x8f);
        // 8F 03B8
        gbc.setState(0x7cb2, 0x9c6c, 0xd180, 0x21ec, 0xa3ea, 0xc31c, 0x0, 0x0);
        gbc.writeMem(0x7cb2, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x9c6c);
        EXPECT(gbc.pc(), 0x7cb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03B9
        gbc.setState(0xd321, 0x4b2b, 0x28f0, 0xb59f, 0x9540, 0x287a, 0x1, 0x1);
        gbc.writeMem(0xd321, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4b2b);
        EXPECT(gbc.pc(), 0xd322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd321), 0x8f);
        // 8F 03BA
        gbc.setState(0xb396, 0xfaf7, 0x9a0, 0x59ad, 0x74e9, 0x3bed, 0x1, 0x0);
        gbc.writeMem(0xb396, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xfaf7);
        EXPECT(gbc.pc(), 0xb397);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb396), 0x8f);
        // 8F 03BB
        gbc.setState(0xb11e, 0x88ab, 0x19c0, 0xf1a1, 0x36eb, 0xe9c, 0x1, 0x0);
        gbc.writeMem(0xb11e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x88ab);
        EXPECT(gbc.pc(), 0xb11f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb11e), 0x8f);
        // 8F 03BC
        gbc.setState(0x8c91, 0x5247, 0xb9e0, 0x7100, 0xc28a, 0x75b1, 0x1, 0x0);
        gbc.writeMem(0x8c91, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5247);
        EXPECT(gbc.pc(), 0x8c92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c91), 0x8f);
        // 8F 03BD
        gbc.setState(0x3167, 0x3a67, 0x9490, 0xc924, 0xb127, 0xb742, 0x1, 0x1);
        gbc.writeMem(0x3167, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3a67);
        EXPECT(gbc.pc(), 0x3168);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03BE
        gbc.setState(0x41d, 0xe506, 0x1720, 0x6460, 0x558d, 0x3ec2, 0x1, 0x0);
        gbc.writeMem(0x41d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe506);
        EXPECT(gbc.pc(), 0x41e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03BF
        gbc.setState(0x9fd7, 0xb1f1, 0xb180, 0xd3d7, 0xdd48, 0x7a1d, 0x0, 0x1);
        gbc.writeMem(0x9fd7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xb1f1);
        EXPECT(gbc.pc(), 0x9fd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd7), 0x8f);
        // 8F 03C0
        gbc.setState(0x19d9, 0xebf6, 0xfb50, 0x2eb7, 0xccf2, 0x510a, 0x1, 0x0);
        gbc.writeMem(0x19d9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xebf6);
        EXPECT(gbc.pc(), 0x19da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03C1
        gbc.setState(0xa0d, 0xd31c, 0x6610, 0x8944, 0x9cea, 0xb5f7, 0x0, 0x0);
        gbc.writeMem(0xa0d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd31c);
        EXPECT(gbc.pc(), 0xa0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03C2
        gbc.setState(0x20c4, 0xb07f, 0x1d70, 0xd234, 0xdfff, 0xafb2, 0x1, 0x0);
        gbc.writeMem(0x20c4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb07f);
        EXPECT(gbc.pc(), 0x20c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03C3
        gbc.setState(0x1db4, 0x72b0, 0x6f50, 0x5fc6, 0xa4e4, 0x60ce, 0x0, 0x0);
        gbc.writeMem(0x1db4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x72b0);
        EXPECT(gbc.pc(), 0x1db5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03C4
        gbc.setState(0x9aa4, 0xb2a8, 0xaef0, 0x9c4e, 0x3478, 0x4f6c, 0x0, 0x1);
        gbc.writeMem(0x9aa4, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xb2a8);
        EXPECT(gbc.pc(), 0x9aa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aa4), 0x8f);
        // 8F 03C5
        gbc.setState(0x4365, 0xbc9a, 0xe700, 0x8bc, 0xe8ef, 0xd2f0, 0x0, 0x1);
        gbc.writeMem(0x4365, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xbc9a);
        EXPECT(gbc.pc(), 0x4366);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03C6
        gbc.setState(0xa794, 0x9bba, 0x8f40, 0x7275, 0xb5ab, 0x5f6f, 0x0, 0x0);
        gbc.writeMem(0xa794, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9bba);
        EXPECT(gbc.pc(), 0xa795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa794), 0x8f);
        // 8F 03C7
        gbc.setState(0x2f7d, 0xb9fc, 0xfb10, 0x6647, 0x8cee, 0x99b4, 0x1, 0x1);
        gbc.writeMem(0x2f7d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xb9fc);
        EXPECT(gbc.pc(), 0x2f7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03C8
        gbc.setState(0x1d0c, 0xef6e, 0xfd70, 0x26c3, 0xe0ea, 0x8611, 0x0, 0x0);
        gbc.writeMem(0x1d0c, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xef6e);
        EXPECT(gbc.pc(), 0x1d0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03C9
        gbc.setState(0xd90f, 0xb9c0, 0x4f30, 0x806e, 0xf03c, 0x3b2, 0x1, 0x1);
        gbc.writeMem(0xd90f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb9c0);
        EXPECT(gbc.pc(), 0xd910);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd90f), 0x8f);
        // 8F 03CA
        gbc.setState(0x1e3e, 0x47ea, 0x3d60, 0xe412, 0xa2eb, 0xb103, 0x1, 0x1);
        gbc.writeMem(0x1e3e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x47ea);
        EXPECT(gbc.pc(), 0x1e3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03CB
        gbc.setState(0x20ae, 0x9005, 0xfe90, 0xdb17, 0xf130, 0xd335, 0x1, 0x1);
        gbc.writeMem(0x20ae, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9005);
        EXPECT(gbc.pc(), 0x20af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03CC
        gbc.setState(0xb8a6, 0x8eb6, 0xacf0, 0xa24c, 0x858a, 0x16c3, 0x0, 0x1);
        gbc.writeMem(0xb8a6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8eb6);
        EXPECT(gbc.pc(), 0xb8a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a6), 0x8f);
        // 8F 03CD
        gbc.setState(0x15a9, 0xe5ce, 0x9810, 0x927a, 0x316c, 0x92fb, 0x0, 0x1);
        gbc.writeMem(0x15a9, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe5ce);
        EXPECT(gbc.pc(), 0x15aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03CE
        gbc.setState(0x79ca, 0x45bc, 0x7710, 0x7836, 0xc7e5, 0xe0c2, 0x1, 0x1);
        gbc.writeMem(0x79ca, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x45bc);
        EXPECT(gbc.pc(), 0x79cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03CF
        gbc.setState(0x9bcd, 0xd947, 0x2470, 0x5ff3, 0x598a, 0x16fc, 0x1, 0x1);
        gbc.writeMem(0x9bcd, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xd947);
        EXPECT(gbc.pc(), 0x9bce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bcd), 0x8f);
        // 8F 03D0
        gbc.setState(0xe44d, 0x98da, 0x6fc0, 0x94e8, 0xfd28, 0x5162, 0x1, 0x1);
        gbc.writeMem(0xe44d, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x98da);
        EXPECT(gbc.pc(), 0xe44e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe44d), 0x8f);
        // 8F 03D1
        gbc.setState(0xd2f0, 0x855c, 0x5ad0, 0x4bee, 0xc89d, 0xf1f2, 0x0, 0x0);
        gbc.writeMem(0xd2f0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x855c);
        EXPECT(gbc.pc(), 0xd2f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f0), 0x8f);
        // 8F 03D2
        gbc.setState(0xa7c6, 0x2fba, 0x5010, 0x6eb0, 0xc4eb, 0x88dd, 0x1, 0x1);
        gbc.writeMem(0xa7c6, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2fba);
        EXPECT(gbc.pc(), 0xa7c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7c6), 0x8f);
        // 8F 03D3
        gbc.setState(0x9d79, 0x606a, 0x44a0, 0x4fcf, 0xe95a, 0x8105, 0x0, 0x1);
        gbc.writeMem(0x9d79, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x606a);
        EXPECT(gbc.pc(), 0x9d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d79), 0x8f);
        // 8F 03D5
        gbc.setState(0x7753, 0xce6f, 0xea40, 0x390f, 0xd66a, 0x7101, 0x0, 0x1);
        gbc.writeMem(0x7753, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xce6f);
        EXPECT(gbc.pc(), 0x7754);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03D6
        gbc.setState(0xb8a8, 0x598d, 0xe810, 0x408c, 0x745d, 0xd4d, 0x1, 0x1);
        gbc.writeMem(0xb8a8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x598d);
        EXPECT(gbc.pc(), 0xb8a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a8), 0x8f);
        // 8F 03D7
        gbc.setState(0x3564, 0x485d, 0xdaa0, 0xbfbb, 0x3ad7, 0x8891, 0x0, 0x0);
        gbc.writeMem(0x3564, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x485d);
        EXPECT(gbc.pc(), 0x3565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03D9
        gbc.setState(0x6213, 0xce2b, 0xfe40, 0x9721, 0x42c7, 0x6d35, 0x0, 0x1);
        gbc.writeMem(0x6213, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xce2b);
        EXPECT(gbc.pc(), 0x6214);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03DA
        gbc.setState(0x646, 0x3cfd, 0x2fb0, 0x8412, 0x53ec, 0xb91d, 0x1, 0x1);
        gbc.writeMem(0x646, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3cfd);
        EXPECT(gbc.pc(), 0x647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03DB
        gbc.setState(0xe3ab, 0x1ef6, 0x3a40, 0xc18, 0x1983, 0xe313, 0x1, 0x0);
        gbc.writeMem(0xe3ab, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1ef6);
        EXPECT(gbc.pc(), 0xe3ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3ab), 0x8f);
        // 8F 03DC
        gbc.setState(0x128a, 0x2517, 0xb1d0, 0x96b, 0xac2a, 0x4209, 0x0, 0x1);
        gbc.writeMem(0x128a, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x2517);
        EXPECT(gbc.pc(), 0x128b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 8F 03DD
        gbc.setState(0x59c7, 0x88a, 0x1d90, 0xa567, 0x3085, 0xc82b, 0x1, 0x1);
        gbc.writeMem(0x59c7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x88a);
        EXPECT(gbc.pc(), 0x59c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03DE
        gbc.setState(0x10c0, 0xfdae, 0x3eb0, 0xe9f0, 0x5ac3, 0xbddc, 0x1, 0x0);
        gbc.writeMem(0x10c0, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfdae);
        EXPECT(gbc.pc(), 0x10c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 8F 03DF
        gbc.setState(0x4fc8, 0x7135, 0x2740, 0xaca5, 0xfa4a, 0x6450, 0x1, 0x1);
        gbc.writeMem(0x4fc8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x7135);
        EXPECT(gbc.pc(), 0x4fc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03E0
        gbc.setState(0xace7, 0x15c8, 0x9d10, 0x8b7c, 0x67b, 0x83ac, 0x0, 0x1);
        gbc.writeMem(0xace7, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x15c8);
        EXPECT(gbc.pc(), 0xace8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace7), 0x8f);
        // 8F 03E1
        gbc.setState(0xa5c1, 0x9b79, 0x47f0, 0x2379, 0x6a08, 0xf3bc, 0x0, 0x0);
        gbc.writeMem(0xa5c1, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x9b79);
        EXPECT(gbc.pc(), 0xa5c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5c1), 0x8f);
        // 8F 03E2
        gbc.setState(0xed10, 0xa989, 0x7310, 0x1201, 0xd699, 0xa6b, 0x1, 0x0);
        gbc.writeMem(0xed10, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa989);
        EXPECT(gbc.pc(), 0xed11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed10), 0x8f);
        // 8F 03E3
        gbc.setState(0xcfed, 0x2a08, 0xe8b0, 0x2e28, 0xfde2, 0x6555, 0x1, 0x0);
        gbc.writeMem(0xcfed, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x2a08);
        EXPECT(gbc.pc(), 0xcfee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfed), 0x8f);
        // 8F 03E4
        gbc.setState(0x7fbb, 0x958, 0xc810, 0x3012, 0x5bc4, 0xfd02, 0x0, 0x0);
        gbc.writeMem(0x7fbb, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x958);
        EXPECT(gbc.pc(), 0x7fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 8F 03E5
        gbc.setState(0x290f, 0x406b, 0x6220, 0xc07d, 0x459d, 0x3164, 0x1, 0x0);
        gbc.writeMem(0x290f, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x406b);
        EXPECT(gbc.pc(), 0x2910);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 8F 03E6
        gbc.setState(0xd60e, 0xf99a, 0x9720, 0xe4d5, 0xa3d2, 0x2a9f, 0x0, 0x0);
        gbc.writeMem(0xd60e, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xf99a);
        EXPECT(gbc.pc(), 0xd60f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd60e), 0x8f);
        // 8F 03E7
        gbc.setState(0x67d8, 0xc5be, 0xf40, 0x99e5, 0xfb2f, 0x94e0, 0x0, 0x0);
        gbc.writeMem(0x67d8, { 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xc5be);
        EXPECT(gbc.pc(), 0x67d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
