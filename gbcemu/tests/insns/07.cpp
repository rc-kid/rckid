#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_07)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_07) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 07 0000
        gbc.setState(0x24f3, 0xd509, 0xa500, 0x144a, 0x6b3, 0xee5d, 0x0, 0x0);
        gbc.writeMem(0x24f3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd509);
        EXPECT(gbc.pc(), 0x24f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0001
        gbc.setState(0x7471, 0x22be, 0x1590, 0x1508, 0x4780, 0x3d29, 0x0, 0x0);
        gbc.writeMem(0x7471, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x22be);
        EXPECT(gbc.pc(), 0x7472);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0002
        gbc.setState(0x830c, 0x1ffb, 0x3ba0, 0xdfba, 0x72fb, 0x6149, 0x0, 0x1);
        gbc.writeMem(0x830c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x1ffb);
        EXPECT(gbc.pc(), 0x830d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x830c), 0x7);
        // 07 0003
        gbc.setState(0x6b29, 0x5e23, 0x2e0, 0xac38, 0x70ef, 0xcff2, 0x0, 0x1);
        gbc.writeMem(0x6b29, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x5e23);
        EXPECT(gbc.pc(), 0x6b2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0004
        gbc.setState(0x2c21, 0xd74f, 0xc770, 0x281d, 0x97d4, 0x540b, 0x1, 0x1);
        gbc.writeMem(0x2c21, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xd74f);
        EXPECT(gbc.pc(), 0x2c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0005
        gbc.setState(0x2312, 0x8ea3, 0x6460, 0x6799, 0x83a9, 0x7509, 0x0, 0x0);
        gbc.writeMem(0x2312, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x8ea3);
        EXPECT(gbc.pc(), 0x2313);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0006
        gbc.setState(0xc605, 0xabff, 0xfdc0, 0x24f, 0x5223, 0xd3e2, 0x1, 0x1);
        gbc.writeMem(0xc605, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xabff);
        EXPECT(gbc.pc(), 0xc606);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc605), 0x7);
        // 07 0007
        gbc.setState(0x8062, 0xd6b3, 0x3240, 0xe274, 0x62a8, 0x455e, 0x1, 0x0);
        gbc.writeMem(0x8062, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd6b3);
        EXPECT(gbc.pc(), 0x8063);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8062), 0x7);
        // 07 0009
        gbc.setState(0x16cd, 0xe768, 0x9890, 0xb9d6, 0x6b6c, 0x7260, 0x1, 0x0);
        gbc.writeMem(0x16cd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xe768);
        EXPECT(gbc.pc(), 0x16ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 000A
        gbc.setState(0xd4e0, 0xb1c2, 0x6390, 0x46c1, 0xf3e5, 0xe76e, 0x1, 0x0);
        gbc.writeMem(0xd4e0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb1c2);
        EXPECT(gbc.pc(), 0xd4e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4e0), 0x7);
        // 07 000B
        gbc.setState(0xbfcb, 0xefc8, 0xe230, 0x80d5, 0x4678, 0x552, 0x0, 0x0);
        gbc.writeMem(0xbfcb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xefc8);
        EXPECT(gbc.pc(), 0xbfcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcb), 0x7);
        // 07 000C
        gbc.setState(0x6770, 0x9532, 0xcd00, 0x79a0, 0xc0c7, 0x9520, 0x0, 0x0);
        gbc.writeMem(0x6770, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9532);
        EXPECT(gbc.pc(), 0x6771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 000D
        gbc.setState(0xb2b2, 0x97f4, 0x7ed0, 0x1457, 0x7df0, 0x5fd8, 0x1, 0x0);
        gbc.writeMem(0xb2b2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x97f4);
        EXPECT(gbc.pc(), 0xb2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2b2), 0x7);
        // 07 000E
        gbc.setState(0x1c58, 0x541a, 0xf160, 0x34da, 0xd2f4, 0x577d, 0x0, 0x1);
        gbc.writeMem(0x1c58, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x541a);
        EXPECT(gbc.pc(), 0x1c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 000F
        gbc.setState(0x5a76, 0x43e2, 0xe680, 0x3014, 0xb853, 0xb063, 0x1, 0x1);
        gbc.writeMem(0x5a76, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x43e2);
        EXPECT(gbc.pc(), 0x5a77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0010
        gbc.setState(0x2b97, 0x7fc, 0x8e40, 0xb2a8, 0xda4f, 0x1ccd, 0x1, 0x0);
        gbc.writeMem(0x2b97, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x7fc);
        EXPECT(gbc.pc(), 0x2b98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0011
        gbc.setState(0xa866, 0xae14, 0x2140, 0xffe4, 0x4761, 0xd100, 0x0, 0x1);
        gbc.writeMem(0xa866, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xae14);
        EXPECT(gbc.pc(), 0xa867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa866), 0x7);
        // 07 0012
        gbc.setState(0x5cea, 0x9c0e, 0x8b00, 0xdf87, 0x925e, 0x1c43, 0x0, 0x1);
        gbc.writeMem(0x5cea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9c0e);
        EXPECT(gbc.pc(), 0x5ceb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0013
        gbc.setState(0x453e, 0x1cac, 0x1d40, 0xdcea, 0x449a, 0x2935, 0x1, 0x0);
        gbc.writeMem(0x453e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1cac);
        EXPECT(gbc.pc(), 0x453f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0014
        gbc.setState(0xae82, 0x5dbd, 0x3580, 0xf5e9, 0x21c8, 0x1059, 0x0, 0x0);
        gbc.writeMem(0xae82, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x5dbd);
        EXPECT(gbc.pc(), 0xae83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae82), 0x7);
        // 07 0015
        gbc.setState(0x9960, 0x98b1, 0xfdc0, 0x3558, 0xd52, 0x3b71, 0x1, 0x0);
        gbc.writeMem(0x9960, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x98b1);
        EXPECT(gbc.pc(), 0x9961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9960), 0x7);
        // 07 0016
        gbc.setState(0xeed7, 0x5b5c, 0x7430, 0xbac8, 0x5d28, 0x3ccb, 0x0, 0x1);
        gbc.writeMem(0xeed7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5b5c);
        EXPECT(gbc.pc(), 0xeed8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeed7), 0x7);
        // 07 0017
        gbc.setState(0xefdb, 0xe580, 0xa8d0, 0xfe66, 0x337e, 0xe754, 0x0, 0x1);
        gbc.writeMem(0xefdb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe580);
        EXPECT(gbc.pc(), 0xefdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefdb), 0x7);
        // 07 0018
        gbc.setState(0x8164, 0x14f, 0xc9b0, 0x7e14, 0x7171, 0x402e, 0x1, 0x1);
        gbc.writeMem(0x8164, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x14f);
        EXPECT(gbc.pc(), 0x8165);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8164), 0x7);
        // 07 0019
        gbc.setState(0x5c1c, 0x9764, 0xd7d0, 0x5fba, 0x1201, 0x6043, 0x0, 0x0);
        gbc.writeMem(0x5c1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9764);
        EXPECT(gbc.pc(), 0x5c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 001A
        gbc.setState(0x5a26, 0xd03, 0x6e40, 0xebba, 0xb3d0, 0xd799, 0x0, 0x0);
        gbc.writeMem(0x5a26, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd03);
        EXPECT(gbc.pc(), 0x5a27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 001B
        gbc.setState(0x60c1, 0xf44e, 0x4bb0, 0xba33, 0x37f5, 0x1f90, 0x0, 0x1);
        gbc.writeMem(0x60c1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xf44e);
        EXPECT(gbc.pc(), 0x60c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 001C
        gbc.setState(0x8b3f, 0xa61c, 0xeaa0, 0xcf03, 0xb047, 0xe670, 0x1, 0x0);
        gbc.writeMem(0x8b3f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xa61c);
        EXPECT(gbc.pc(), 0x8b40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b3f), 0x7);
        // 07 001D
        gbc.setState(0x9495, 0x711b, 0xd30, 0xb858, 0x83c6, 0x520f, 0x1, 0x0);
        gbc.writeMem(0x9495, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x711b);
        EXPECT(gbc.pc(), 0x9496);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9495), 0x7);
        // 07 001E
        gbc.setState(0x3bb0, 0x2927, 0x8f10, 0xecb0, 0xb2bd, 0xdbd6, 0x1, 0x0);
        gbc.writeMem(0x3bb0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x2927);
        EXPECT(gbc.pc(), 0x3bb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 001F
        gbc.setState(0x1726, 0x300d, 0x3ae0, 0xe190, 0xf2b1, 0x6a65, 0x0, 0x1);
        gbc.writeMem(0x1726, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x300d);
        EXPECT(gbc.pc(), 0x1727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0020
        gbc.setState(0x94df, 0xf719, 0x6530, 0x8edb, 0x93f8, 0x5096, 0x0, 0x1);
        gbc.writeMem(0x94df, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf719);
        EXPECT(gbc.pc(), 0x94e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94df), 0x7);
        // 07 0021
        gbc.setState(0xd615, 0x72eb, 0x6a30, 0x620d, 0x2d20, 0x55f3, 0x0, 0x1);
        gbc.writeMem(0xd615, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x72eb);
        EXPECT(gbc.pc(), 0xd616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd615), 0x7);
        // 07 0022
        gbc.setState(0x5e87, 0x68a7, 0xc1e0, 0x9ae8, 0x9809, 0x2d76, 0x1, 0x0);
        gbc.writeMem(0x5e87, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x68a7);
        EXPECT(gbc.pc(), 0x5e88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0023
        gbc.setState(0xee5b, 0x34d0, 0x3b90, 0x1c10, 0xf64f, 0x35a3, 0x0, 0x1);
        gbc.writeMem(0xee5b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x34d0);
        EXPECT(gbc.pc(), 0xee5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5b), 0x7);
        // 07 0024
        gbc.setState(0x4c82, 0xdde8, 0x3040, 0x4eb7, 0x6abc, 0xe618, 0x0, 0x0);
        gbc.writeMem(0x4c82, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xdde8);
        EXPECT(gbc.pc(), 0x4c83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0025
        gbc.setState(0x264c, 0x8f6b, 0x4160, 0x2971, 0x9c7c, 0x2707, 0x0, 0x1);
        gbc.writeMem(0x264c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8f6b);
        EXPECT(gbc.pc(), 0x264d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0026
        gbc.setState(0x6d74, 0xc72a, 0x80, 0x42ab, 0xa8d4, 0x7aa0, 0x1, 0x1);
        gbc.writeMem(0x6d74, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc72a);
        EXPECT(gbc.pc(), 0x6d75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0027
        gbc.setState(0x9f00, 0xc1b3, 0x85d0, 0x813f, 0xb8c1, 0x7645, 0x1, 0x0);
        gbc.writeMem(0x9f00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc1b3);
        EXPECT(gbc.pc(), 0x9f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f00), 0x7);
        // 07 0028
        gbc.setState(0x2431, 0x2b8c, 0xb050, 0xfbd, 0x6aa4, 0x2d2b, 0x0, 0x1);
        gbc.writeMem(0x2431, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x2b8c);
        EXPECT(gbc.pc(), 0x2432);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0029
        gbc.setState(0x2e37, 0xceab, 0xf950, 0xb0f6, 0x1029, 0x88ef, 0x1, 0x1);
        gbc.writeMem(0x2e37, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xceab);
        EXPECT(gbc.pc(), 0x2e38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 002A
        gbc.setState(0x1085, 0x58c8, 0x4630, 0x1563, 0xd75c, 0x5aee, 0x0, 0x0);
        gbc.writeMem(0x1085, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x58c8);
        EXPECT(gbc.pc(), 0x1086);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 002B
        gbc.setState(0x2aad, 0x6b62, 0xa90, 0x48d3, 0xb43, 0xa7d8, 0x0, 0x1);
        gbc.writeMem(0x2aad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6b62);
        EXPECT(gbc.pc(), 0x2aae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 002C
        gbc.setState(0xdf92, 0xd6d, 0x1a90, 0x307b, 0x7580, 0xf0d7, 0x1, 0x0);
        gbc.writeMem(0xdf92, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd6d);
        EXPECT(gbc.pc(), 0xdf93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf92), 0x7);
        // 07 002D
        gbc.setState(0xeb8e, 0x9a8c, 0xb590, 0x3a2c, 0x2364, 0x610b, 0x1, 0x0);
        gbc.writeMem(0xeb8e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9a8c);
        EXPECT(gbc.pc(), 0xeb8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb8e), 0x7);
        // 07 002E
        gbc.setState(0xd044, 0x1d36, 0xc1e0, 0x7c87, 0xc05b, 0x4b77, 0x0, 0x1);
        gbc.writeMem(0xd044, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1d36);
        EXPECT(gbc.pc(), 0xd045);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd044), 0x7);
        // 07 002F
        gbc.setState(0xd3a6, 0x5f72, 0x1330, 0x5756, 0xb68d, 0x66c7, 0x0, 0x0);
        gbc.writeMem(0xd3a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x5f72);
        EXPECT(gbc.pc(), 0xd3a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3a6), 0x7);
        // 07 0030
        gbc.setState(0x7ebd, 0x9680, 0x4d60, 0x84c0, 0xb0a1, 0x4903, 0x1, 0x1);
        gbc.writeMem(0x7ebd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9680);
        EXPECT(gbc.pc(), 0x7ebe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0031
        gbc.setState(0xd2e8, 0x42a3, 0x7a00, 0xe6b3, 0xa190, 0xce5e, 0x0, 0x1);
        gbc.writeMem(0xd2e8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x42a3);
        EXPECT(gbc.pc(), 0xd2e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e8), 0x7);
        // 07 0032
        gbc.setState(0x6bc, 0xdecf, 0xb330, 0xa6f2, 0x2337, 0xaf0d, 0x0, 0x0);
        gbc.writeMem(0x6bc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdecf);
        EXPECT(gbc.pc(), 0x6bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0033
        gbc.setState(0x6700, 0xad1d, 0x3ea0, 0x50d3, 0x5d85, 0x9745, 0x1, 0x1);
        gbc.writeMem(0x6700, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xad1d);
        EXPECT(gbc.pc(), 0x6701);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0034
        gbc.setState(0x919e, 0xbe6c, 0x55b0, 0x798d, 0xf987, 0x8ad4, 0x0, 0x0);
        gbc.writeMem(0x919e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xbe6c);
        EXPECT(gbc.pc(), 0x919f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919e), 0x7);
        // 07 0035
        gbc.setState(0xb3fa, 0xa68a, 0x7a90, 0x8a1b, 0x4b89, 0x36bb, 0x1, 0x0);
        gbc.writeMem(0xb3fa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa68a);
        EXPECT(gbc.pc(), 0xb3fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3fa), 0x7);
        // 07 0036
        gbc.setState(0x6c77, 0xb5dc, 0x9bf0, 0x24cf, 0x86c4, 0x2ce8, 0x0, 0x0);
        gbc.writeMem(0x6c77, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb5dc);
        EXPECT(gbc.pc(), 0x6c78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0038
        gbc.setState(0x4ec5, 0x8387, 0xe4c0, 0xa6d2, 0x8b15, 0xdbde, 0x0, 0x1);
        gbc.writeMem(0x4ec5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8387);
        EXPECT(gbc.pc(), 0x4ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0039
        gbc.setState(0x5cae, 0x6f03, 0xf460, 0xc8b6, 0x719e, 0xf7bf, 0x0, 0x1);
        gbc.writeMem(0x5cae, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6f03);
        EXPECT(gbc.pc(), 0x5caf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 003A
        gbc.setState(0x925c, 0x4dcf, 0xdcd0, 0xc788, 0xa076, 0x87ac, 0x0, 0x1);
        gbc.writeMem(0x925c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4dcf);
        EXPECT(gbc.pc(), 0x925d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x925c), 0x7);
        // 07 003B
        gbc.setState(0x5173, 0x43a3, 0xbc60, 0x68b0, 0xe9b2, 0xb766, 0x0, 0x0);
        gbc.writeMem(0x5173, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x43a3);
        EXPECT(gbc.pc(), 0x5174);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 003C
        gbc.setState(0x182, 0x35b4, 0x8760, 0xf642, 0xc785, 0xa989, 0x1, 0x1);
        gbc.writeMem(0x182, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x35b4);
        EXPECT(gbc.pc(), 0x183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 003D
        gbc.setState(0xd771, 0xebcc, 0xd380, 0x53b4, 0x97b4, 0xd81d, 0x1, 0x0);
        gbc.writeMem(0xd771, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xebcc);
        EXPECT(gbc.pc(), 0xd772);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd771), 0x7);
        // 07 003E
        gbc.setState(0x90d3, 0x95ff, 0x35e0, 0x735e, 0xae15, 0xa5cd, 0x1, 0x1);
        gbc.writeMem(0x90d3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x95ff);
        EXPECT(gbc.pc(), 0x90d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d3), 0x7);
        // 07 003F
        gbc.setState(0x7d2c, 0x8676, 0x5980, 0x342, 0x93c2, 0x6d52, 0x0, 0x1);
        gbc.writeMem(0x7d2c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x8676);
        EXPECT(gbc.pc(), 0x7d2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0040
        gbc.setState(0xccde, 0xa14c, 0x3a0, 0x15b2, 0xe6cd, 0xbb05, 0x1, 0x0);
        gbc.writeMem(0xccde, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xa14c);
        EXPECT(gbc.pc(), 0xccdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccde), 0x7);
        // 07 0041
        gbc.setState(0x4fa4, 0xf593, 0xc800, 0xcdf9, 0x1f52, 0x8d68, 0x0, 0x0);
        gbc.writeMem(0x4fa4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf593);
        EXPECT(gbc.pc(), 0x4fa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0042
        gbc.setState(0x102d, 0x3205, 0x50f0, 0x499f, 0x156f, 0x2a34, 0x1, 0x0);
        gbc.writeMem(0x102d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3205);
        EXPECT(gbc.pc(), 0x102e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0043
        gbc.setState(0xd8f0, 0x91d2, 0xda60, 0x97ea, 0x607a, 0x4965, 0x1, 0x0);
        gbc.writeMem(0xd8f0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x91d2);
        EXPECT(gbc.pc(), 0xd8f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8f0), 0x7);
        // 07 0044
        gbc.setState(0xaa3d, 0x1cd6, 0x7fe0, 0xd579, 0x5305, 0x3448, 0x1, 0x1);
        gbc.writeMem(0xaa3d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1cd6);
        EXPECT(gbc.pc(), 0xaa3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa3d), 0x7);
        // 07 0045
        gbc.setState(0x939f, 0xe501, 0x70d0, 0x97df, 0xa64a, 0x91b8, 0x0, 0x1);
        gbc.writeMem(0x939f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe501);
        EXPECT(gbc.pc(), 0x93a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x939f), 0x7);
        // 07 0046
        gbc.setState(0x3174, 0x3249, 0x8840, 0x297b, 0x6cda, 0xee38, 0x1, 0x1);
        gbc.writeMem(0x3174, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x3249);
        EXPECT(gbc.pc(), 0x3175);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0047
        gbc.setState(0x109f, 0x8fe8, 0x9fb0, 0x95b4, 0xe41c, 0xa7dc, 0x1, 0x1);
        gbc.writeMem(0x109f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8fe8);
        EXPECT(gbc.pc(), 0x10a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0048
        gbc.setState(0xa4a, 0x6afb, 0x6a10, 0x1993, 0xa532, 0x7767, 0x0, 0x0);
        gbc.writeMem(0xa4a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6afb);
        EXPECT(gbc.pc(), 0xa4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0049
        gbc.setState(0xc8a5, 0xa85e, 0x68d0, 0x7658, 0xa60f, 0x840, 0x0, 0x0);
        gbc.writeMem(0xc8a5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa85e);
        EXPECT(gbc.pc(), 0xc8a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a5), 0x7);
        // 07 004A
        gbc.setState(0xb096, 0x28a2, 0x45a0, 0x9527, 0xa90e, 0x3a5b, 0x0, 0x0);
        gbc.writeMem(0xb096, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x28a2);
        EXPECT(gbc.pc(), 0xb097);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb096), 0x7);
        // 07 004B
        gbc.setState(0x3f06, 0x90bf, 0x200, 0x9a7c, 0x78d8, 0xeb4a, 0x1, 0x1);
        gbc.writeMem(0x3f06, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x90bf);
        EXPECT(gbc.pc(), 0x3f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 004C
        gbc.setState(0x875, 0xe53c, 0x6770, 0xfba1, 0xa19b, 0x1aa2, 0x1, 0x0);
        gbc.writeMem(0x875, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe53c);
        EXPECT(gbc.pc(), 0x876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 004D
        gbc.setState(0xc4e9, 0x5327, 0xc640, 0xa0cb, 0xfbd4, 0xdc72, 0x1, 0x0);
        gbc.writeMem(0xc4e9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5327);
        EXPECT(gbc.pc(), 0xc4ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4e9), 0x7);
        // 07 004F
        gbc.setState(0x8091, 0xbd8d, 0xb290, 0x4ed9, 0x950f, 0xafba, 0x0, 0x1);
        gbc.writeMem(0x8091, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbd8d);
        EXPECT(gbc.pc(), 0x8092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8091), 0x7);
        // 07 0050
        gbc.setState(0xbc46, 0x54db, 0xd6d0, 0x85a8, 0x8078, 0x95da, 0x1, 0x1);
        gbc.writeMem(0xbc46, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x54db);
        EXPECT(gbc.pc(), 0xbc47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc46), 0x7);
        // 07 0051
        gbc.setState(0xa078, 0x4d36, 0xb200, 0xeefb, 0x9296, 0x339b, 0x0, 0x1);
        gbc.writeMem(0xa078, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4d36);
        EXPECT(gbc.pc(), 0xa079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa078), 0x7);
        // 07 0052
        gbc.setState(0xa25d, 0xd224, 0xf9a0, 0xbda9, 0x1ecd, 0x7b15, 0x1, 0x1);
        gbc.writeMem(0xa25d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xd224);
        EXPECT(gbc.pc(), 0xa25e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa25d), 0x7);
        // 07 0053
        gbc.setState(0xbd80, 0x4051, 0xac00, 0x8fa7, 0x8d97, 0xdd64, 0x0, 0x0);
        gbc.writeMem(0xbd80, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4051);
        EXPECT(gbc.pc(), 0xbd81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd80), 0x7);
        // 07 0054
        gbc.setState(0x4e78, 0xac34, 0x41a0, 0xd9d4, 0xfb11, 0x6d92, 0x1, 0x0);
        gbc.writeMem(0x4e78, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xac34);
        EXPECT(gbc.pc(), 0x4e79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0055
        gbc.setState(0x25de, 0x8888, 0x24d0, 0xcdd1, 0x78e6, 0x8da2, 0x1, 0x1);
        gbc.writeMem(0x25de, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8888);
        EXPECT(gbc.pc(), 0x25df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0056
        gbc.setState(0xe417, 0x3c30, 0x1010, 0x709b, 0xcd84, 0xd54e, 0x1, 0x0);
        gbc.writeMem(0xe417, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3c30);
        EXPECT(gbc.pc(), 0xe418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe417), 0x7);
        // 07 0057
        gbc.setState(0x1708, 0x8d59, 0xf4e0, 0xec43, 0x1452, 0xe699, 0x1, 0x1);
        gbc.writeMem(0x1708, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8d59);
        EXPECT(gbc.pc(), 0x1709);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0058
        gbc.setState(0x1fe4, 0xf837, 0x67a0, 0x1f91, 0x8bdb, 0x9c14, 0x0, 0x1);
        gbc.writeMem(0x1fe4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf837);
        EXPECT(gbc.pc(), 0x1fe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 005A
        gbc.setState(0x8e8f, 0x49e4, 0x4310, 0xe37c, 0x2ba5, 0xcf6b, 0x0, 0x1);
        gbc.writeMem(0x8e8f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x49e4);
        EXPECT(gbc.pc(), 0x8e90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e8f), 0x7);
        // 07 005B
        gbc.setState(0x9e65, 0x1f41, 0xaa0, 0xb6ab, 0x5dde, 0xd827, 0x0, 0x1);
        gbc.writeMem(0x9e65, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x1f41);
        EXPECT(gbc.pc(), 0x9e66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e65), 0x7);
        // 07 005C
        gbc.setState(0xb892, 0xccae, 0x9af0, 0xb005, 0x9b97, 0xd2d1, 0x1, 0x0);
        gbc.writeMem(0xb892, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xccae);
        EXPECT(gbc.pc(), 0xb893);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb892), 0x7);
        // 07 005D
        gbc.setState(0xab59, 0xffdd, 0x6810, 0xb0c1, 0x1080, 0xa3cc, 0x0, 0x0);
        gbc.writeMem(0xab59, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xffdd);
        EXPECT(gbc.pc(), 0xab5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab59), 0x7);
        // 07 005E
        gbc.setState(0xcd59, 0xd2c, 0xe520, 0x95b2, 0xe7ae, 0xa3d9, 0x0, 0x0);
        gbc.writeMem(0xcd59, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xd2c);
        EXPECT(gbc.pc(), 0xcd5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd59), 0x7);
        // 07 005F
        gbc.setState(0x2aed, 0x942, 0x96a0, 0xfe53, 0x19d3, 0xe976, 0x0, 0x0);
        gbc.writeMem(0x2aed, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x942);
        EXPECT(gbc.pc(), 0x2aee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0060
        gbc.setState(0xeffc, 0xa4a, 0x41c0, 0x122d, 0x7a81, 0x5b6a, 0x1, 0x1);
        gbc.writeMem(0xeffc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa4a);
        EXPECT(gbc.pc(), 0xeffd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeffc), 0x7);
        // 07 0061
        gbc.setState(0xd8b, 0x296b, 0x13a0, 0x9973, 0xb4d7, 0x2e94, 0x1, 0x1);
        gbc.writeMem(0xd8b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x296b);
        EXPECT(gbc.pc(), 0xd8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0062
        gbc.setState(0x6356, 0xb7c2, 0x68d0, 0xd88b, 0x1199, 0xf777, 0x0, 0x0);
        gbc.writeMem(0x6356, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb7c2);
        EXPECT(gbc.pc(), 0x6357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0063
        gbc.setState(0x1614, 0x8f81, 0x89c0, 0x44d7, 0x97b6, 0xd510, 0x0, 0x0);
        gbc.writeMem(0x1614, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x8f81);
        EXPECT(gbc.pc(), 0x1615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0064
        gbc.setState(0xd006, 0xffd2, 0xfe0, 0xc09b, 0xbda0, 0x4431, 0x1, 0x1);
        gbc.writeMem(0xd006, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xffd2);
        EXPECT(gbc.pc(), 0xd007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd006), 0x7);
        // 07 0065
        gbc.setState(0xd843, 0x97fa, 0x3690, 0x5e74, 0xd570, 0x29f1, 0x0, 0x0);
        gbc.writeMem(0xd843, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x97fa);
        EXPECT(gbc.pc(), 0xd844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd843), 0x7);
        // 07 0066
        gbc.setState(0x6b51, 0xb9d7, 0x86f0, 0xd256, 0xb3a0, 0x9280, 0x0, 0x0);
        gbc.writeMem(0x6b51, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb9d7);
        EXPECT(gbc.pc(), 0x6b52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0067
        gbc.setState(0x9df0, 0x5b92, 0x4070, 0xdc26, 0xc6d, 0x363f, 0x0, 0x1);
        gbc.writeMem(0x9df0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5b92);
        EXPECT(gbc.pc(), 0x9df1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df0), 0x7);
        // 07 0068
        gbc.setState(0xc592, 0xb70a, 0x96f0, 0xad78, 0x461e, 0x828f, 0x1, 0x1);
        gbc.writeMem(0xc592, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb70a);
        EXPECT(gbc.pc(), 0xc593);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc592), 0x7);
        // 07 0069
        gbc.setState(0xd27, 0x27ef, 0x60b0, 0x47b2, 0xac1f, 0x4f7a, 0x0, 0x1);
        gbc.writeMem(0xd27, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x27ef);
        EXPECT(gbc.pc(), 0xd28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 006A
        gbc.setState(0x21a8, 0xbfde, 0xf510, 0xefe3, 0x188, 0xf4a6, 0x0, 0x1);
        gbc.writeMem(0x21a8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbfde);
        EXPECT(gbc.pc(), 0x21a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 006B
        gbc.setState(0xa85f, 0x641e, 0x2570, 0x81d9, 0xcec3, 0x8437, 0x0, 0x0);
        gbc.writeMem(0xa85f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x641e);
        EXPECT(gbc.pc(), 0xa860);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85f), 0x7);
        // 07 006C
        gbc.setState(0x7160, 0x2088, 0x8110, 0x1dcb, 0xfeac, 0x81b, 0x0, 0x0);
        gbc.writeMem(0x7160, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x2088);
        EXPECT(gbc.pc(), 0x7161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 006D
        gbc.setState(0x4e59, 0xe80f, 0x6930, 0xecb0, 0x8458, 0xcd8d, 0x1, 0x1);
        gbc.writeMem(0x4e59, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe80f);
        EXPECT(gbc.pc(), 0x4e5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 006E
        gbc.setState(0x75f0, 0xf07e, 0x5470, 0xe60e, 0x194c, 0x933f, 0x1, 0x1);
        gbc.writeMem(0x75f0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xf07e);
        EXPECT(gbc.pc(), 0x75f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 006F
        gbc.setState(0xcb88, 0xe9c0, 0x6cd0, 0xcc1c, 0x2118, 0x5e38, 0x0, 0x0);
        gbc.writeMem(0xcb88, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xe9c0);
        EXPECT(gbc.pc(), 0xcb89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb88), 0x7);
        // 07 0070
        gbc.setState(0xd756, 0x2bfc, 0x2ff0, 0xb702, 0x5150, 0x15a8, 0x0, 0x1);
        gbc.writeMem(0xd756, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2bfc);
        EXPECT(gbc.pc(), 0xd757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd756), 0x7);
        // 07 0071
        gbc.setState(0x8e5f, 0xaa75, 0x95e0, 0xfd8c, 0xa17f, 0x6a02, 0x0, 0x1);
        gbc.writeMem(0x8e5f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xaa75);
        EXPECT(gbc.pc(), 0x8e60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5f), 0x7);
        // 07 0072
        gbc.setState(0x2f03, 0x5582, 0x2730, 0x1f2d, 0x7d5, 0xd852, 0x0, 0x1);
        gbc.writeMem(0x2f03, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x5582);
        EXPECT(gbc.pc(), 0x2f04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0073
        gbc.setState(0xccf5, 0x91e4, 0x9980, 0xea54, 0xeab2, 0xd1d5, 0x1, 0x0);
        gbc.writeMem(0xccf5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x91e4);
        EXPECT(gbc.pc(), 0xccf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccf5), 0x7);
        // 07 0074
        gbc.setState(0x6df4, 0xd3e, 0x94c0, 0xcaa6, 0xeb26, 0x32e4, 0x1, 0x1);
        gbc.writeMem(0x6df4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd3e);
        EXPECT(gbc.pc(), 0x6df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0075
        gbc.setState(0x7d00, 0x4118, 0x9f80, 0xbcf0, 0x583c, 0x3f70, 0x1, 0x0);
        gbc.writeMem(0x7d00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4118);
        EXPECT(gbc.pc(), 0x7d01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0076
        gbc.setState(0x3ad6, 0x1dd1, 0xf700, 0x1e08, 0x36f4, 0xe343, 0x1, 0x1);
        gbc.writeMem(0x3ad6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1dd1);
        EXPECT(gbc.pc(), 0x3ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0077
        gbc.setState(0x9edb, 0xcb12, 0xec30, 0xae7c, 0xae7a, 0xf9c, 0x0, 0x1);
        gbc.writeMem(0x9edb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xcb12);
        EXPECT(gbc.pc(), 0x9edc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9edb), 0x7);
        // 07 0078
        gbc.setState(0x360, 0x6a4b, 0x9920, 0xc0b5, 0x56c5, 0x7433, 0x1, 0x0);
        gbc.writeMem(0x360, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6a4b);
        EXPECT(gbc.pc(), 0x361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0079
        gbc.setState(0x7dad, 0x8f8b, 0xeb30, 0xe7fb, 0x3c47, 0xe698, 0x0, 0x0);
        gbc.writeMem(0x7dad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x8f8b);
        EXPECT(gbc.pc(), 0x7dae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 007A
        gbc.setState(0x3679, 0xfa13, 0x4b80, 0x2f40, 0x7c01, 0x96ca, 0x1, 0x1);
        gbc.writeMem(0x3679, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfa13);
        EXPECT(gbc.pc(), 0x367a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 007B
        gbc.setState(0xb0e3, 0x9882, 0xdb60, 0x698d, 0xc154, 0x79bd, 0x1, 0x0);
        gbc.writeMem(0xb0e3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9882);
        EXPECT(gbc.pc(), 0xb0e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0e3), 0x7);
        // 07 007C
        gbc.setState(0xc6b5, 0x86a5, 0x2f70, 0x6333, 0xbf18, 0xf20c, 0x0, 0x0);
        gbc.writeMem(0xc6b5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x86a5);
        EXPECT(gbc.pc(), 0xc6b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6b5), 0x7);
        // 07 007D
        gbc.setState(0xd56, 0x46d5, 0x5780, 0x9189, 0xfa6e, 0xf550, 0x1, 0x1);
        gbc.writeMem(0xd56, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x46d5);
        EXPECT(gbc.pc(), 0xd57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 007E
        gbc.setState(0x7706, 0x82bc, 0x1c30, 0x2203, 0xdc8, 0x1ba9, 0x0, 0x1);
        gbc.writeMem(0x7706, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x82bc);
        EXPECT(gbc.pc(), 0x7707);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 007F
        gbc.setState(0xa6e9, 0xc7a3, 0xd3c0, 0x2923, 0x5aea, 0x89f6, 0x0, 0x0);
        gbc.writeMem(0xa6e9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc7a3);
        EXPECT(gbc.pc(), 0xa6ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6e9), 0x7);
        // 07 0080
        gbc.setState(0xa7f, 0x9213, 0xffc0, 0x45fa, 0xe356, 0x58bd, 0x0, 0x1);
        gbc.writeMem(0xa7f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9213);
        EXPECT(gbc.pc(), 0xa80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0081
        gbc.setState(0x2440, 0xcfb2, 0x5dc0, 0xcaf3, 0x63b0, 0xaa29, 0x0, 0x0);
        gbc.writeMem(0x2440, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xcfb2);
        EXPECT(gbc.pc(), 0x2441);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0082
        gbc.setState(0x8f2a, 0x6767, 0xe090, 0xf829, 0x75f5, 0x6a, 0x0, 0x0);
        gbc.writeMem(0x8f2a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6767);
        EXPECT(gbc.pc(), 0x8f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f2a), 0x7);
        // 07 0083
        gbc.setState(0xbd04, 0x3c3, 0x9670, 0x9b2b, 0x5fea, 0xfa7c, 0x0, 0x1);
        gbc.writeMem(0xbd04, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x3c3);
        EXPECT(gbc.pc(), 0xbd05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd04), 0x7);
        // 07 0084
        gbc.setState(0x9981, 0xc456, 0x7e30, 0x7b48, 0xea16, 0xf78a, 0x1, 0x1);
        gbc.writeMem(0x9981, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc456);
        EXPECT(gbc.pc(), 0x9982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9981), 0x7);
        // 07 0085
        gbc.setState(0x43ff, 0xbc4d, 0x3e80, 0x2a5, 0x924, 0xa7d3, 0x1, 0x0);
        gbc.writeMem(0x43ff, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbc4d);
        EXPECT(gbc.pc(), 0x4400);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0086
        gbc.setState(0x9c58, 0x6699, 0x2ad0, 0x97a3, 0x59f, 0x63c5, 0x0, 0x1);
        gbc.writeMem(0x9c58, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6699);
        EXPECT(gbc.pc(), 0x9c59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c58), 0x7);
        // 07 0087
        gbc.setState(0xd394, 0xc9f9, 0xae00, 0x322f, 0xe0bf, 0xe9c6, 0x0, 0x1);
        gbc.writeMem(0xd394, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc9f9);
        EXPECT(gbc.pc(), 0xd395);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd394), 0x7);
        // 07 0088
        gbc.setState(0xf81, 0x5752, 0x8190, 0xea67, 0x252b, 0x89d5, 0x0, 0x1);
        gbc.writeMem(0xf81, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5752);
        EXPECT(gbc.pc(), 0xf82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0089
        gbc.setState(0x754c, 0xc683, 0x1bb0, 0xd4c0, 0xeb8b, 0x9347, 0x0, 0x0);
        gbc.writeMem(0x754c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xc683);
        EXPECT(gbc.pc(), 0x754d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 008A
        gbc.setState(0x4901, 0x62ad, 0xf510, 0x9eec, 0xe914, 0xbe5, 0x0, 0x0);
        gbc.writeMem(0x4901, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x62ad);
        EXPECT(gbc.pc(), 0x4902);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 008B
        gbc.setState(0x46c6, 0x4c1, 0x43b0, 0xa73a, 0x130e, 0x805b, 0x0, 0x1);
        gbc.writeMem(0x46c6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x4c1);
        EXPECT(gbc.pc(), 0x46c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 008C
        gbc.setState(0xbab8, 0x4ad6, 0xd470, 0xb9dd, 0xb7a2, 0x553b, 0x0, 0x0);
        gbc.writeMem(0xbab8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4ad6);
        EXPECT(gbc.pc(), 0xbab9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab8), 0x7);
        // 07 008D
        gbc.setState(0xb399, 0xce54, 0xdb70, 0xd116, 0x99b1, 0xf2a8, 0x0, 0x1);
        gbc.writeMem(0xb399, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xce54);
        EXPECT(gbc.pc(), 0xb39a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb399), 0x7);
        // 07 008E
        gbc.setState(0x28e, 0x2ea4, 0x37c0, 0x7945, 0x5d28, 0xe5f0, 0x1, 0x0);
        gbc.writeMem(0x28e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2ea4);
        EXPECT(gbc.pc(), 0x28f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 008F
        gbc.setState(0x9756, 0x45b6, 0x2e00, 0xce8, 0x14a6, 0x9d4b, 0x0, 0x1);
        gbc.writeMem(0x9756, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x45b6);
        EXPECT(gbc.pc(), 0x9757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9756), 0x7);
        // 07 0091
        gbc.setState(0x2eea, 0xd53d, 0x68b0, 0x22dc, 0x2b97, 0x1320, 0x1, 0x1);
        gbc.writeMem(0x2eea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd53d);
        EXPECT(gbc.pc(), 0x2eeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0092
        gbc.setState(0x8f0e, 0x3aa2, 0x58b0, 0xf5af, 0x2e8c, 0xc0b8, 0x0, 0x1);
        gbc.writeMem(0x8f0e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x3aa2);
        EXPECT(gbc.pc(), 0x8f0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f0e), 0x7);
        // 07 0093
        gbc.setState(0xb103, 0xd5be, 0xd190, 0xb886, 0xe548, 0xe678, 0x0, 0x0);
        gbc.writeMem(0xb103, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd5be);
        EXPECT(gbc.pc(), 0xb104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb103), 0x7);
        // 07 0094
        gbc.setState(0x8c9b, 0x1c1e, 0x67a0, 0xa2f9, 0x27ea, 0x2243, 0x1, 0x1);
        gbc.writeMem(0x8c9b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1c1e);
        EXPECT(gbc.pc(), 0x8c9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c9b), 0x7);
        // 07 0095
        gbc.setState(0xdb9b, 0xa0fb, 0xbdf0, 0xa47b, 0x273f, 0x8d, 0x0, 0x1);
        gbc.writeMem(0xdb9b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa0fb);
        EXPECT(gbc.pc(), 0xdb9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb9b), 0x7);
        // 07 0096
        gbc.setState(0x98c1, 0x123d, 0xef70, 0xb8e8, 0xf025, 0x304c, 0x1, 0x1);
        gbc.writeMem(0x98c1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x123d);
        EXPECT(gbc.pc(), 0x98c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98c1), 0x7);
        // 07 0098
        gbc.setState(0x9f7, 0xb1f9, 0xe5f0, 0x7817, 0x34b7, 0xf557, 0x1, 0x0);
        gbc.writeMem(0x9f7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb1f9);
        EXPECT(gbc.pc(), 0x9f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0099
        gbc.setState(0x8a29, 0xa703, 0x38b0, 0x3fda, 0xc3c6, 0x2280, 0x1, 0x0);
        gbc.writeMem(0x8a29, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa703);
        EXPECT(gbc.pc(), 0x8a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a29), 0x7);
        // 07 009A
        gbc.setState(0xbd73, 0xbd96, 0x1ba0, 0xf544, 0xb1f0, 0x1ccd, 0x1, 0x0);
        gbc.writeMem(0xbd73, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xbd96);
        EXPECT(gbc.pc(), 0xbd74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd73), 0x7);
        // 07 009C
        gbc.setState(0x1197, 0x7318, 0x7d20, 0x6c8f, 0xe498, 0xc0f, 0x0, 0x1);
        gbc.writeMem(0x1197, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7318);
        EXPECT(gbc.pc(), 0x1198);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 009D
        gbc.setState(0x213e, 0xa45, 0x5ed0, 0xca42, 0x5564, 0xc5c9, 0x1, 0x1);
        gbc.writeMem(0x213e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xa45);
        EXPECT(gbc.pc(), 0x213f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 009E
        gbc.setState(0xb00f, 0xdf46, 0x1750, 0x5d4d, 0x6b54, 0x2e75, 0x0, 0x0);
        gbc.writeMem(0xb00f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xdf46);
        EXPECT(gbc.pc(), 0xb010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb00f), 0x7);
        // 07 009F
        gbc.setState(0xc006, 0xd7f, 0xf9a0, 0x5872, 0xee06, 0xcb05, 0x1, 0x0);
        gbc.writeMem(0xc006, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd7f);
        EXPECT(gbc.pc(), 0xc007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc006), 0x7);
        // 07 00A0
        gbc.setState(0x5426, 0xbc6f, 0xb3e0, 0xa643, 0x3bff, 0x7512, 0x0, 0x1);
        gbc.writeMem(0x5426, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xbc6f);
        EXPECT(gbc.pc(), 0x5427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00A1
        gbc.setState(0xec13, 0x2bd6, 0x1870, 0x45f2, 0x4aa2, 0x4965, 0x0, 0x1);
        gbc.writeMem(0xec13, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2bd6);
        EXPECT(gbc.pc(), 0xec14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec13), 0x7);
        // 07 00A2
        gbc.setState(0xcd85, 0xb31, 0xa7e0, 0xb694, 0x34bb, 0x2f0d, 0x1, 0x0);
        gbc.writeMem(0xcd85, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xb31);
        EXPECT(gbc.pc(), 0xcd86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd85), 0x7);
        // 07 00A3
        gbc.setState(0xb4cb, 0x82ca, 0x8ad0, 0x9593, 0x11b4, 0x19b0, 0x0, 0x1);
        gbc.writeMem(0xb4cb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x82ca);
        EXPECT(gbc.pc(), 0xb4cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4cb), 0x7);
        // 07 00A4
        gbc.setState(0xd59, 0x19a8, 0x77a0, 0xf57f, 0x6b73, 0xa2fa, 0x1, 0x1);
        gbc.writeMem(0xd59, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x19a8);
        EXPECT(gbc.pc(), 0xd5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00A5
        gbc.setState(0xa3d4, 0x25f2, 0xb980, 0xb731, 0x350e, 0xc213, 0x0, 0x0);
        gbc.writeMem(0xa3d4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x25f2);
        EXPECT(gbc.pc(), 0xa3d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3d4), 0x7);
        // 07 00A8
        gbc.setState(0x87c6, 0xfb19, 0x2730, 0x891, 0x4928, 0xd22d, 0x1, 0x0);
        gbc.writeMem(0x87c6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xfb19);
        EXPECT(gbc.pc(), 0x87c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87c6), 0x7);
        // 07 00A9
        gbc.setState(0x6a6d, 0x1feb, 0xf930, 0x53fd, 0xf4b5, 0x8322, 0x0, 0x1);
        gbc.writeMem(0x6a6d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1feb);
        EXPECT(gbc.pc(), 0x6a6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00AA
        gbc.setState(0x5986, 0x5cb1, 0x87f0, 0xe120, 0x2fe4, 0x7fac, 0x0, 0x0);
        gbc.writeMem(0x5986, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5cb1);
        EXPECT(gbc.pc(), 0x5987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00AB
        gbc.setState(0xb8d1, 0x22e5, 0x620, 0x5426, 0x7bdf, 0x797d, 0x1, 0x0);
        gbc.writeMem(0xb8d1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x22e5);
        EXPECT(gbc.pc(), 0xb8d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8d1), 0x7);
        // 07 00AD
        gbc.setState(0xaba3, 0x211d, 0xd970, 0xc957, 0xaace, 0x4535, 0x1, 0x0);
        gbc.writeMem(0xaba3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x211d);
        EXPECT(gbc.pc(), 0xaba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaba3), 0x7);
        // 07 00AE
        gbc.setState(0x5db3, 0xf4d7, 0x3eb0, 0xa138, 0x8047, 0x8ead, 0x0, 0x1);
        gbc.writeMem(0x5db3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf4d7);
        EXPECT(gbc.pc(), 0x5db4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00AF
        gbc.setState(0x86e, 0x50ee, 0x8bc0, 0x9818, 0x9c7d, 0x7fb5, 0x0, 0x1);
        gbc.writeMem(0x86e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x50ee);
        EXPECT(gbc.pc(), 0x86f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00B0
        gbc.setState(0x378, 0xea9e, 0x2ef0, 0x7ec7, 0x96f9, 0x14ef, 0x0, 0x1);
        gbc.writeMem(0x378, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xea9e);
        EXPECT(gbc.pc(), 0x379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00B1
        gbc.setState(0x609f, 0xadd1, 0xcd50, 0xf842, 0x5821, 0xbed3, 0x1, 0x0);
        gbc.writeMem(0x609f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xadd1);
        EXPECT(gbc.pc(), 0x60a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00B2
        gbc.setState(0xd743, 0xabc3, 0x2740, 0x181b, 0x4026, 0xb155, 0x1, 0x1);
        gbc.writeMem(0xd743, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xabc3);
        EXPECT(gbc.pc(), 0xd744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd743), 0x7);
        // 07 00B3
        gbc.setState(0x65e1, 0x9fed, 0xd090, 0x9eba, 0xdcb8, 0xc3df, 0x0, 0x0);
        gbc.writeMem(0x65e1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9fed);
        EXPECT(gbc.pc(), 0x65e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00B4
        gbc.setState(0x3667, 0x8ee3, 0x13a0, 0xdb34, 0xea5a, 0x4fc1, 0x0, 0x0);
        gbc.writeMem(0x3667, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x8ee3);
        EXPECT(gbc.pc(), 0x3668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00B5
        gbc.setState(0x61f7, 0xe1b3, 0x9060, 0xa3dc, 0x87ba, 0xf2db, 0x1, 0x1);
        gbc.writeMem(0x61f7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xe1b3);
        EXPECT(gbc.pc(), 0x61f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00B7
        gbc.setState(0x1a8e, 0x1562, 0x6340, 0x129e, 0x9674, 0x919, 0x0, 0x0);
        gbc.writeMem(0x1a8e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1562);
        EXPECT(gbc.pc(), 0x1a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00B8
        gbc.setState(0x29d4, 0xb343, 0xa650, 0x30ce, 0xe1f3, 0xdd60, 0x0, 0x1);
        gbc.writeMem(0x29d4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xb343);
        EXPECT(gbc.pc(), 0x29d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00B9
        gbc.setState(0x4483, 0x838d, 0x75f0, 0xa5c, 0x16b4, 0x9cba, 0x1, 0x0);
        gbc.writeMem(0x4483, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x838d);
        EXPECT(gbc.pc(), 0x4484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00BA
        gbc.setState(0xbbf2, 0x891e, 0xf530, 0xfcc3, 0x8a85, 0xd24, 0x1, 0x1);
        gbc.writeMem(0xbbf2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x891e);
        EXPECT(gbc.pc(), 0xbbf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbf2), 0x7);
        // 07 00BC
        gbc.setState(0xa9b1, 0x1d11, 0xdcb0, 0x3fe7, 0xf587, 0xf367, 0x1, 0x0);
        gbc.writeMem(0xa9b1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x1d11);
        EXPECT(gbc.pc(), 0xa9b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b1), 0x7);
        // 07 00BE
        gbc.setState(0xc0d7, 0x28a, 0xfe50, 0xa83d, 0x818d, 0x36b7, 0x0, 0x1);
        gbc.writeMem(0xc0d7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x28a);
        EXPECT(gbc.pc(), 0xc0d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0d7), 0x7);
        // 07 00BF
        gbc.setState(0x8f4, 0x25fd, 0x8330, 0xdcce, 0x89e, 0xaacd, 0x1, 0x0);
        gbc.writeMem(0x8f4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x25fd);
        EXPECT(gbc.pc(), 0x8f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00C0
        gbc.setState(0xad58, 0x3e00, 0x4e40, 0xd4a0, 0x18d8, 0x1feb, 0x0, 0x0);
        gbc.writeMem(0xad58, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3e00);
        EXPECT(gbc.pc(), 0xad59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad58), 0x7);
        // 07 00C1
        gbc.setState(0x8a4f, 0x197c, 0xef80, 0xee12, 0x6fd0, 0x99b6, 0x1, 0x0);
        gbc.writeMem(0x8a4f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x197c);
        EXPECT(gbc.pc(), 0x8a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a4f), 0x7);
        // 07 00C2
        gbc.setState(0xcca, 0xc541, 0x47b0, 0xaaef, 0x3633, 0x43b, 0x1, 0x1);
        gbc.writeMem(0xcca, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc541);
        EXPECT(gbc.pc(), 0xccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00C3
        gbc.setState(0x68c8, 0x84b5, 0xa5c0, 0x8e1a, 0x115, 0x8348, 0x1, 0x0);
        gbc.writeMem(0x68c8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x84b5);
        EXPECT(gbc.pc(), 0x68c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00C4
        gbc.setState(0x9f9f, 0x68bf, 0xd680, 0xfee7, 0xd7fe, 0x3e28, 0x1, 0x0);
        gbc.writeMem(0x9f9f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x68bf);
        EXPECT(gbc.pc(), 0x9fa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f9f), 0x7);
        // 07 00C5
        gbc.setState(0x5b53, 0xacab, 0xcea0, 0xa01f, 0x6721, 0x14, 0x1, 0x1);
        gbc.writeMem(0x5b53, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xacab);
        EXPECT(gbc.pc(), 0x5b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00C6
        gbc.setState(0x40b3, 0xc859, 0xa620, 0x5836, 0xbb93, 0xcd68, 0x0, 0x1);
        gbc.writeMem(0x40b3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc859);
        EXPECT(gbc.pc(), 0x40b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00C7
        gbc.setState(0x95a6, 0xca95, 0xcc10, 0xe520, 0x8650, 0xf4bb, 0x1, 0x1);
        gbc.writeMem(0x95a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xca95);
        EXPECT(gbc.pc(), 0x95a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95a6), 0x7);
        // 07 00C8
        gbc.setState(0xd6eb, 0xce65, 0x7330, 0x42fc, 0x177b, 0xa891, 0x1, 0x1);
        gbc.writeMem(0xd6eb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xce65);
        EXPECT(gbc.pc(), 0xd6ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6eb), 0x7);
        // 07 00C9
        gbc.setState(0x9548, 0x1fae, 0x28c0, 0x828b, 0x902e, 0x9577, 0x0, 0x0);
        gbc.writeMem(0x9548, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1fae);
        EXPECT(gbc.pc(), 0x9549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9548), 0x7);
        // 07 00CA
        gbc.setState(0x915f, 0x86b1, 0xe320, 0xf2b2, 0xe882, 0x3d6c, 0x0, 0x0);
        gbc.writeMem(0x915f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x86b1);
        EXPECT(gbc.pc(), 0x9160);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915f), 0x7);
        // 07 00CB
        gbc.setState(0x6231, 0xafde, 0x4df0, 0x86b6, 0xed40, 0x940a, 0x1, 0x0);
        gbc.writeMem(0x6231, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xafde);
        EXPECT(gbc.pc(), 0x6232);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00CC
        gbc.setState(0xb8ec, 0x24a7, 0xd740, 0xb015, 0x8faa, 0xa94e, 0x1, 0x0);
        gbc.writeMem(0xb8ec, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x24a7);
        EXPECT(gbc.pc(), 0xb8ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8ec), 0x7);
        // 07 00CD
        gbc.setState(0xa867, 0xaf9e, 0xba40, 0xacb, 0x7901, 0xcaf9, 0x1, 0x0);
        gbc.writeMem(0xa867, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xaf9e);
        EXPECT(gbc.pc(), 0xa868);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa867), 0x7);
        // 07 00CE
        gbc.setState(0xd524, 0x355d, 0x13d0, 0x46f2, 0x7df4, 0x36ce, 0x1, 0x1);
        gbc.writeMem(0xd524, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x355d);
        EXPECT(gbc.pc(), 0xd525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd524), 0x7);
        // 07 00CF
        gbc.setState(0x976, 0xfe25, 0x97f0, 0x6686, 0x938e, 0xe42f, 0x1, 0x0);
        gbc.writeMem(0x976, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xfe25);
        EXPECT(gbc.pc(), 0x977);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00D0
        gbc.setState(0x8454, 0x1d58, 0x7010, 0x5a66, 0x5902, 0xc253, 0x0, 0x0);
        gbc.writeMem(0x8454, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1d58);
        EXPECT(gbc.pc(), 0x8455);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8454), 0x7);
        // 07 00D1
        gbc.setState(0xb745, 0xf547, 0x8e30, 0xfaaa, 0x2be2, 0x85f3, 0x0, 0x0);
        gbc.writeMem(0xb745, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf547);
        EXPECT(gbc.pc(), 0xb746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb745), 0x7);
        // 07 00D2
        gbc.setState(0xba63, 0x4206, 0x7100, 0xc953, 0x672, 0xe294, 0x1, 0x1);
        gbc.writeMem(0xba63, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x4206);
        EXPECT(gbc.pc(), 0xba64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba63), 0x7);
        // 07 00D3
        gbc.setState(0xc19f, 0xd184, 0x900, 0xd9c6, 0xc42d, 0xee7b, 0x1, 0x1);
        gbc.writeMem(0xc19f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xd184);
        EXPECT(gbc.pc(), 0xc1a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc19f), 0x7);
        // 07 00D4
        gbc.setState(0x2eb3, 0x60e3, 0xcf50, 0x5c2c, 0xde03, 0x38d9, 0x0, 0x0);
        gbc.writeMem(0x2eb3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x60e3);
        EXPECT(gbc.pc(), 0x2eb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00D6
        gbc.setState(0x7bf9, 0x53ee, 0x25d0, 0xb5bf, 0xb0ed, 0x24ee, 0x1, 0x1);
        gbc.writeMem(0x7bf9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x53ee);
        EXPECT(gbc.pc(), 0x7bfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00D7
        gbc.setState(0x4ea6, 0x99ec, 0x9800, 0xba15, 0x37f9, 0xc7b2, 0x0, 0x1);
        gbc.writeMem(0x4ea6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x99ec);
        EXPECT(gbc.pc(), 0x4ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00D8
        gbc.setState(0xa222, 0x8942, 0xdc80, 0x992f, 0xbab0, 0x6276, 0x0, 0x0);
        gbc.writeMem(0xa222, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x8942);
        EXPECT(gbc.pc(), 0xa223);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa222), 0x7);
        // 07 00D9
        gbc.setState(0xe356, 0xc1d4, 0x1d50, 0xd62b, 0xaa70, 0x37c6, 0x0, 0x0);
        gbc.writeMem(0xe356, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc1d4);
        EXPECT(gbc.pc(), 0xe357);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe356), 0x7);
        // 07 00DA
        gbc.setState(0x6269, 0x4771, 0xcf40, 0x548e, 0x6cda, 0x6c, 0x1, 0x1);
        gbc.writeMem(0x6269, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x4771);
        EXPECT(gbc.pc(), 0x626a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00DB
        gbc.setState(0x9973, 0x6052, 0xd2c0, 0xf, 0x3042, 0x19ff, 0x0, 0x0);
        gbc.writeMem(0x9973, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x6052);
        EXPECT(gbc.pc(), 0x9974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9973), 0x7);
        // 07 00DC
        gbc.setState(0xcb10, 0xdc9d, 0x1440, 0xd9e5, 0xd99f, 0x11e2, 0x0, 0x1);
        gbc.writeMem(0xcb10, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xdc9d);
        EXPECT(gbc.pc(), 0xcb11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb10), 0x7);
        // 07 00DD
        gbc.setState(0x7735, 0xf93b, 0xbd0, 0xaa7, 0x432b, 0xb1cd, 0x1, 0x0);
        gbc.writeMem(0x7735, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf93b);
        EXPECT(gbc.pc(), 0x7736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00DE
        gbc.setState(0x5e9b, 0xc75f, 0xd0e0, 0xc825, 0xc8c9, 0x787d, 0x1, 0x1);
        gbc.writeMem(0x5e9b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc75f);
        EXPECT(gbc.pc(), 0x5e9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00DF
        gbc.setState(0x5ce2, 0x5847, 0x88d0, 0x63f2, 0xe046, 0x493f, 0x0, 0x1);
        gbc.writeMem(0x5ce2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5847);
        EXPECT(gbc.pc(), 0x5ce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00E0
        gbc.setState(0xcbe5, 0x7191, 0xde50, 0xc0f7, 0xf25f, 0xa39d, 0x0, 0x0);
        gbc.writeMem(0xcbe5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7191);
        EXPECT(gbc.pc(), 0xcbe6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe5), 0x7);
        // 07 00E1
        gbc.setState(0x3f53, 0x1ade, 0xb850, 0x482f, 0xc49e, 0x7d11, 0x1, 0x1);
        gbc.writeMem(0x3f53, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1ade);
        EXPECT(gbc.pc(), 0x3f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00E2
        gbc.setState(0x9d83, 0xa3ee, 0x8740, 0x532b, 0x7250, 0x14fa, 0x0, 0x0);
        gbc.writeMem(0x9d83, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa3ee);
        EXPECT(gbc.pc(), 0x9d84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d83), 0x7);
        // 07 00E3
        gbc.setState(0xed5c, 0xdfa0, 0xb5c0, 0x8424, 0xa566, 0x3764, 0x1, 0x1);
        gbc.writeMem(0xed5c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xdfa0);
        EXPECT(gbc.pc(), 0xed5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed5c), 0x7);
        // 07 00E4
        gbc.setState(0x2e92, 0x555, 0x37a0, 0x47dc, 0x3832, 0x828b, 0x1, 0x0);
        gbc.writeMem(0x2e92, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x555);
        EXPECT(gbc.pc(), 0x2e93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00E5
        gbc.setState(0x9906, 0x8384, 0x75f0, 0x4677, 0x8aaf, 0xec8f, 0x0, 0x1);
        gbc.writeMem(0x9906, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8384);
        EXPECT(gbc.pc(), 0x9907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9906), 0x7);
        // 07 00E6
        gbc.setState(0x617a, 0x9cac, 0xdec0, 0xd971, 0x37bd, 0x2934, 0x1, 0x1);
        gbc.writeMem(0x617a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9cac);
        EXPECT(gbc.pc(), 0x617b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00E7
        gbc.setState(0x3709, 0xf060, 0xf140, 0x761c, 0x6c22, 0x5601, 0x1, 0x1);
        gbc.writeMem(0x3709, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf060);
        EXPECT(gbc.pc(), 0x370a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00E8
        gbc.setState(0x87fc, 0xf3dd, 0x210, 0x6806, 0x940, 0xb7e5, 0x0, 0x1);
        gbc.writeMem(0x87fc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xf3dd);
        EXPECT(gbc.pc(), 0x87fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87fc), 0x7);
        // 07 00E9
        gbc.setState(0xc5e9, 0xdcc7, 0x6c90, 0x4b66, 0xc24, 0xa387, 0x0, 0x1);
        gbc.writeMem(0xc5e9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xdcc7);
        EXPECT(gbc.pc(), 0xc5ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5e9), 0x7);
        // 07 00EB
        gbc.setState(0x66ef, 0xfb6e, 0x36b0, 0x7c35, 0x51d8, 0xb2a, 0x1, 0x0);
        gbc.writeMem(0x66ef, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xfb6e);
        EXPECT(gbc.pc(), 0x66f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00EC
        gbc.setState(0x22cd, 0x1223, 0xdce0, 0xd51d, 0x829, 0xbe3e, 0x0, 0x1);
        gbc.writeMem(0x22cd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1223);
        EXPECT(gbc.pc(), 0x22ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00ED
        gbc.setState(0x50b3, 0x2071, 0xfd40, 0x8062, 0xdc94, 0xb57f, 0x0, 0x1);
        gbc.writeMem(0x50b3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2071);
        EXPECT(gbc.pc(), 0x50b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00EE
        gbc.setState(0xd4f9, 0xa92f, 0x6c70, 0x1c87, 0xeca2, 0xbb85, 0x1, 0x0);
        gbc.writeMem(0xd4f9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xa92f);
        EXPECT(gbc.pc(), 0xd4fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4f9), 0x7);
        // 07 00EF
        gbc.setState(0x43da, 0x2d79, 0x4450, 0x5dbe, 0xc6e6, 0xc38, 0x0, 0x0);
        gbc.writeMem(0x43da, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2d79);
        EXPECT(gbc.pc(), 0x43db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00F0
        gbc.setState(0x964e, 0x4fa4, 0x9270, 0x686, 0x33ac, 0xa07f, 0x0, 0x1);
        gbc.writeMem(0x964e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4fa4);
        EXPECT(gbc.pc(), 0x964f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x964e), 0x7);
        // 07 00F1
        gbc.setState(0x45f9, 0x54d, 0xfca0, 0x116a, 0xaa89, 0x3bff, 0x0, 0x1);
        gbc.writeMem(0x45f9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x54d);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00F2
        gbc.setState(0x146e, 0x32d0, 0x6c30, 0xaff4, 0x219a, 0x6ccf, 0x0, 0x1);
        gbc.writeMem(0x146e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x32d0);
        EXPECT(gbc.pc(), 0x146f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00F3
        gbc.setState(0x4f72, 0xd90c, 0xd3d0, 0xb64d, 0x2463, 0x756f, 0x0, 0x1);
        gbc.writeMem(0x4f72, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd90c);
        EXPECT(gbc.pc(), 0x4f73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 00F4
        gbc.setState(0x58a6, 0x3d9d, 0x1f50, 0x7198, 0x6f1d, 0xb452, 0x0, 0x1);
        gbc.writeMem(0x58a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3d9d);
        EXPECT(gbc.pc(), 0x58a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00F5
        gbc.setState(0xd595, 0x84ba, 0x9870, 0xe4ad, 0x5803, 0x9abc, 0x0, 0x0);
        gbc.writeMem(0xd595, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x84ba);
        EXPECT(gbc.pc(), 0xd596);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd595), 0x7);
        // 07 00F6
        gbc.setState(0xbb73, 0x238, 0x7b60, 0x3af8, 0xdfc7, 0x3e8a, 0x1, 0x0);
        gbc.writeMem(0xbb73, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x238);
        EXPECT(gbc.pc(), 0xbb74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb73), 0x7);
        // 07 00F7
        gbc.setState(0x279c, 0x7ddc, 0xcb0, 0xcf73, 0x7745, 0xe6c9, 0x0, 0x1);
        gbc.writeMem(0x279c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x7ddc);
        EXPECT(gbc.pc(), 0x279d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 00F8
        gbc.setState(0xd91a, 0x5fc0, 0x6960, 0x46d7, 0x7a31, 0xd980, 0x0, 0x1);
        gbc.writeMem(0xd91a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5fc0);
        EXPECT(gbc.pc(), 0xd91b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd91a), 0x7);
        // 07 00F9
        gbc.setState(0xd91a, 0x23f5, 0x7680, 0x7292, 0xb3cc, 0xf304, 0x0, 0x1);
        gbc.writeMem(0xd91a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x23f5);
        EXPECT(gbc.pc(), 0xd91b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd91a), 0x7);
        // 07 00FA
        gbc.setState(0xc759, 0x9d10, 0x2d20, 0x9e4, 0xfa1d, 0xa753, 0x0, 0x0);
        gbc.writeMem(0xc759, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9d10);
        EXPECT(gbc.pc(), 0xc75a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc759), 0x7);
        // 07 00FC
        gbc.setState(0xd800, 0xc639, 0x9870, 0xbcaa, 0xf309, 0x9b03, 0x0, 0x0);
        gbc.writeMem(0xd800, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xc639);
        EXPECT(gbc.pc(), 0xd801);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd800), 0x7);
        // 07 00FD
        gbc.setState(0xc2ed, 0x595d, 0x18e0, 0x22b2, 0xa067, 0x4922, 0x1, 0x0);
        gbc.writeMem(0xc2ed, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x595d);
        EXPECT(gbc.pc(), 0xc2ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2ed), 0x7);
        // 07 00FE
        gbc.setState(0xd773, 0x3deb, 0x3400, 0xf728, 0xd40, 0xaf2e, 0x0, 0x0);
        gbc.writeMem(0xd773, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x3deb);
        EXPECT(gbc.pc(), 0xd774);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd773), 0x7);
        // 07 00FF
        gbc.setState(0xb5e, 0x8410, 0x1a40, 0x94b4, 0xf0b4, 0xda5, 0x1, 0x0);
        gbc.writeMem(0xb5e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8410);
        EXPECT(gbc.pc(), 0xb5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0101
        gbc.setState(0x9934, 0xb4cb, 0xc350, 0x8aab, 0xf14f, 0xc064, 0x1, 0x1);
        gbc.writeMem(0x9934, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb4cb);
        EXPECT(gbc.pc(), 0x9935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9934), 0x7);
        // 07 0103
        gbc.setState(0x958d, 0xad37, 0xfc50, 0x7cf8, 0x102a, 0xc7f6, 0x1, 0x0);
        gbc.writeMem(0x958d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xad37);
        EXPECT(gbc.pc(), 0x958e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x958d), 0x7);
        // 07 0104
        gbc.setState(0x80a3, 0x41cb, 0x3e60, 0x1e44, 0xc1af, 0xbb65, 0x0, 0x1);
        gbc.writeMem(0x80a3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x41cb);
        EXPECT(gbc.pc(), 0x80a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80a3), 0x7);
        // 07 0105
        gbc.setState(0x9ea9, 0xfa05, 0x96f0, 0xbc67, 0x4626, 0x3f17, 0x1, 0x0);
        gbc.writeMem(0x9ea9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xfa05);
        EXPECT(gbc.pc(), 0x9eaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ea9), 0x7);
        // 07 0106
        gbc.setState(0xa6f3, 0x4fa0, 0xf5b0, 0x3f92, 0x4424, 0x5a53, 0x1, 0x1);
        gbc.writeMem(0xa6f3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4fa0);
        EXPECT(gbc.pc(), 0xa6f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f3), 0x7);
        // 07 0107
        gbc.setState(0x5cec, 0xb4ce, 0x5db0, 0xfe35, 0xc090, 0xb0dc, 0x1, 0x0);
        gbc.writeMem(0x5cec, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xb4ce);
        EXPECT(gbc.pc(), 0x5ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0108
        gbc.setState(0x9fa3, 0xc5c9, 0xa1e0, 0xe37f, 0x6353, 0xd9ec, 0x0, 0x0);
        gbc.writeMem(0x9fa3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xc5c9);
        EXPECT(gbc.pc(), 0x9fa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fa3), 0x7);
        // 07 0109
        gbc.setState(0xa1eb, 0x4fe1, 0xfa0, 0x496, 0xdb95, 0x2f9c, 0x0, 0x0);
        gbc.writeMem(0xa1eb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4fe1);
        EXPECT(gbc.pc(), 0xa1ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1eb), 0x7);
        // 07 010A
        gbc.setState(0xa1bc, 0xc889, 0xc230, 0xd3c5, 0xc775, 0x1cd7, 0x1, 0x0);
        gbc.writeMem(0xa1bc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xc889);
        EXPECT(gbc.pc(), 0xa1bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1bc), 0x7);
        // 07 010C
        gbc.setState(0xdc85, 0xff0e, 0x2b50, 0x931f, 0xbd54, 0x8971, 0x1, 0x1);
        gbc.writeMem(0xdc85, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xff0e);
        EXPECT(gbc.pc(), 0xdc86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc85), 0x7);
        // 07 010D
        gbc.setState(0xb406, 0x3d10, 0x2380, 0xbab4, 0x22d0, 0xa1e3, 0x1, 0x0);
        gbc.writeMem(0xb406, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x3d10);
        EXPECT(gbc.pc(), 0xb407);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb406), 0x7);
        // 07 010E
        gbc.setState(0x8fea, 0xee29, 0x4620, 0x804b, 0xe22a, 0x2250, 0x0, 0x1);
        gbc.writeMem(0x8fea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xee29);
        EXPECT(gbc.pc(), 0x8feb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fea), 0x7);
        // 07 010F
        gbc.setState(0x3801, 0x4a54, 0x7d50, 0x9d51, 0x9cab, 0xdc9a, 0x0, 0x0);
        gbc.writeMem(0x3801, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4a54);
        EXPECT(gbc.pc(), 0x3802);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0110
        gbc.setState(0x580c, 0x6390, 0x7050, 0x6b82, 0xeccc, 0xf0de, 0x1, 0x0);
        gbc.writeMem(0x580c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6390);
        EXPECT(gbc.pc(), 0x580d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0111
        gbc.setState(0x3df8, 0xa972, 0xd600, 0xa69f, 0xa37b, 0xe806, 0x0, 0x0);
        gbc.writeMem(0x3df8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa972);
        EXPECT(gbc.pc(), 0x3df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0112
        gbc.setState(0x1221, 0xfee7, 0x260, 0x6b67, 0x3431, 0xc518, 0x1, 0x0);
        gbc.writeMem(0x1221, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xfee7);
        EXPECT(gbc.pc(), 0x1222);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0113
        gbc.setState(0x5f62, 0x5509, 0xfc90, 0x4ce, 0x9d06, 0xde69, 0x0, 0x1);
        gbc.writeMem(0x5f62, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5509);
        EXPECT(gbc.pc(), 0x5f63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0114
        gbc.setState(0x8c1f, 0x9ecf, 0xcb30, 0x21ce, 0x7119, 0xbb16, 0x0, 0x0);
        gbc.writeMem(0x8c1f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9ecf);
        EXPECT(gbc.pc(), 0x8c20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c1f), 0x7);
        // 07 0115
        gbc.setState(0x75fc, 0xf6c3, 0x5900, 0x5e61, 0x9589, 0x8537, 0x0, 0x0);
        gbc.writeMem(0x75fc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf6c3);
        EXPECT(gbc.pc(), 0x75fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0116
        gbc.setState(0x7e1d, 0x2420, 0xe3f0, 0xec93, 0x3c, 0x260, 0x1, 0x1);
        gbc.writeMem(0x7e1d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2420);
        EXPECT(gbc.pc(), 0x7e1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0117
        gbc.setState(0x82a3, 0x99b1, 0x3920, 0x3061, 0x6f46, 0x770, 0x1, 0x0);
        gbc.writeMem(0x82a3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x99b1);
        EXPECT(gbc.pc(), 0x82a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a3), 0x7);
        // 07 0118
        gbc.setState(0x3bd, 0x47fc, 0xe080, 0xc00a, 0x3cc0, 0xedea, 0x1, 0x0);
        gbc.writeMem(0x3bd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x47fc);
        EXPECT(gbc.pc(), 0x3be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0119
        gbc.setState(0x62b4, 0x7eb7, 0x6be0, 0x4826, 0x91aa, 0x133b, 0x1, 0x0);
        gbc.writeMem(0x62b4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7eb7);
        EXPECT(gbc.pc(), 0x62b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 011A
        gbc.setState(0xa226, 0xae44, 0x6af0, 0xb09e, 0x866c, 0x8513, 0x1, 0x1);
        gbc.writeMem(0xa226, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xae44);
        EXPECT(gbc.pc(), 0xa227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa226), 0x7);
        // 07 011B
        gbc.setState(0x4a9e, 0x18ba, 0xda00, 0x7c45, 0xec98, 0x1bd0, 0x0, 0x0);
        gbc.writeMem(0x4a9e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x18ba);
        EXPECT(gbc.pc(), 0x4a9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 011C
        gbc.setState(0x9d1a, 0xb1db, 0xe510, 0x1ccf, 0x7896, 0xebc2, 0x1, 0x1);
        gbc.writeMem(0x9d1a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb1db);
        EXPECT(gbc.pc(), 0x9d1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d1a), 0x7);
        // 07 011D
        gbc.setState(0x2193, 0x10a0, 0x5f70, 0x86bc, 0xb883, 0xd1cf, 0x0, 0x0);
        gbc.writeMem(0x2193, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x10a0);
        EXPECT(gbc.pc(), 0x2194);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 011E
        gbc.setState(0xc05d, 0xf5dc, 0xb9f0, 0x7f2f, 0xfa69, 0xf131, 0x1, 0x0);
        gbc.writeMem(0xc05d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf5dc);
        EXPECT(gbc.pc(), 0xc05e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc05d), 0x7);
        // 07 011F
        gbc.setState(0xa2e1, 0xb92b, 0x1000, 0x4ce4, 0x92c0, 0x63e1, 0x0, 0x0);
        gbc.writeMem(0xa2e1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb92b);
        EXPECT(gbc.pc(), 0xa2e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2e1), 0x7);
        // 07 0121
        gbc.setState(0xb440, 0x7173, 0xb350, 0x2c9d, 0xf5ef, 0x258, 0x1, 0x1);
        gbc.writeMem(0xb440, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7173);
        EXPECT(gbc.pc(), 0xb441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb440), 0x7);
        // 07 0122
        gbc.setState(0x6817, 0xfb8, 0x7610, 0xcebe, 0x373a, 0x4d03, 0x0, 0x1);
        gbc.writeMem(0x6817, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xfb8);
        EXPECT(gbc.pc(), 0x6818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0123
        gbc.setState(0x3c02, 0xa530, 0xd800, 0x280f, 0xcd6a, 0x7ceb, 0x0, 0x0);
        gbc.writeMem(0x3c02, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa530);
        EXPECT(gbc.pc(), 0x3c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0124
        gbc.setState(0x8df2, 0xed67, 0xd670, 0x5f5e, 0xa947, 0xa5b7, 0x1, 0x0);
        gbc.writeMem(0x8df2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xed67);
        EXPECT(gbc.pc(), 0x8df3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df2), 0x7);
        // 07 0125
        gbc.setState(0xcc2d, 0xee0c, 0x4140, 0x1b2c, 0x49d1, 0x685, 0x0, 0x0);
        gbc.writeMem(0xcc2d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xee0c);
        EXPECT(gbc.pc(), 0xcc2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc2d), 0x7);
        // 07 0126
        gbc.setState(0xb48f, 0x83cd, 0x1ef0, 0xf5f4, 0x445c, 0xb734, 0x1, 0x0);
        gbc.writeMem(0xb48f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x83cd);
        EXPECT(gbc.pc(), 0xb490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb48f), 0x7);
        // 07 0127
        gbc.setState(0x5707, 0xa928, 0x3080, 0xd70b, 0x3e14, 0xada2, 0x1, 0x0);
        gbc.writeMem(0x5707, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xa928);
        EXPECT(gbc.pc(), 0x5708);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0128
        gbc.setState(0x7931, 0x855c, 0xdb90, 0xc9b5, 0x759c, 0x315b, 0x1, 0x0);
        gbc.writeMem(0x7931, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x855c);
        EXPECT(gbc.pc(), 0x7932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0129
        gbc.setState(0x7e28, 0xa553, 0x8290, 0x335b, 0xa69f, 0xf5bf, 0x0, 0x1);
        gbc.writeMem(0x7e28, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa553);
        EXPECT(gbc.pc(), 0x7e29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 012A
        gbc.setState(0x42c9, 0xe945, 0x7710, 0x7438, 0x6a4b, 0x612f, 0x1, 0x1);
        gbc.writeMem(0x42c9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe945);
        EXPECT(gbc.pc(), 0x42ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 012B
        gbc.setState(0x56af, 0xc74b, 0xd390, 0x983, 0x56f0, 0x719c, 0x0, 0x1);
        gbc.writeMem(0x56af, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xc74b);
        EXPECT(gbc.pc(), 0x56b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 012C
        gbc.setState(0x1a85, 0x4f68, 0x5360, 0xa121, 0xaa37, 0xc776, 0x0, 0x1);
        gbc.writeMem(0x1a85, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4f68);
        EXPECT(gbc.pc(), 0x1a86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 012D
        gbc.setState(0x25e7, 0x119b, 0xb140, 0x8997, 0xf260, 0x9321, 0x1, 0x1);
        gbc.writeMem(0x25e7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x119b);
        EXPECT(gbc.pc(), 0x25e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 012F
        gbc.setState(0x1a8f, 0x3902, 0x20d0, 0xe8e5, 0x588b, 0xa27e, 0x0, 0x1);
        gbc.writeMem(0x1a8f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3902);
        EXPECT(gbc.pc(), 0x1a90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0130
        gbc.setState(0xb979, 0xcd77, 0x4080, 0x7835, 0xf8f2, 0xb436, 0x0, 0x1);
        gbc.writeMem(0xb979, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xcd77);
        EXPECT(gbc.pc(), 0xb97a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb979), 0x7);
        // 07 0131
        gbc.setState(0x6d56, 0xbdfe, 0xf6a0, 0xed30, 0xf67d, 0xb100, 0x0, 0x0);
        gbc.writeMem(0x6d56, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xbdfe);
        EXPECT(gbc.pc(), 0x6d57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0133
        gbc.setState(0x5a00, 0x12a5, 0x4d30, 0xb80e, 0xd429, 0x915d, 0x0, 0x1);
        gbc.writeMem(0x5a00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x12a5);
        EXPECT(gbc.pc(), 0x5a01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0134
        gbc.setState(0x93ca, 0xb68e, 0x43c0, 0xc6ea, 0x918d, 0x3704, 0x1, 0x1);
        gbc.writeMem(0x93ca, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xb68e);
        EXPECT(gbc.pc(), 0x93cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ca), 0x7);
        // 07 0135
        gbc.setState(0x4be3, 0x859e, 0x5d30, 0x13e3, 0x6ddf, 0x20ae, 0x0, 0x0);
        gbc.writeMem(0x4be3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x859e);
        EXPECT(gbc.pc(), 0x4be4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0136
        gbc.setState(0x1b39, 0x9ed7, 0x86f0, 0x2add, 0xb464, 0xb787, 0x1, 0x1);
        gbc.writeMem(0x1b39, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9ed7);
        EXPECT(gbc.pc(), 0x1b3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0137
        gbc.setState(0xb258, 0x7066, 0x5820, 0x1f7, 0x6817, 0xd8c2, 0x0, 0x1);
        gbc.writeMem(0xb258, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x7066);
        EXPECT(gbc.pc(), 0xb259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb258), 0x7);
        // 07 0138
        gbc.setState(0x8217, 0x9d8c, 0xba10, 0xde3e, 0xb7fb, 0x2e54, 0x0, 0x0);
        gbc.writeMem(0x8217, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9d8c);
        EXPECT(gbc.pc(), 0x8218);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8217), 0x7);
        // 07 013A
        gbc.setState(0xab1e, 0x6156, 0x4300, 0xb36, 0x677a, 0xda43, 0x0, 0x0);
        gbc.writeMem(0xab1e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6156);
        EXPECT(gbc.pc(), 0xab1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab1e), 0x7);
        // 07 013B
        gbc.setState(0xdeb3, 0xea98, 0xef50, 0xb892, 0xbfa3, 0xcde5, 0x0, 0x1);
        gbc.writeMem(0xdeb3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xea98);
        EXPECT(gbc.pc(), 0xdeb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb3), 0x7);
        // 07 013C
        gbc.setState(0xd336, 0xbede, 0x15a0, 0xe5d5, 0x20c4, 0xd6a, 0x0, 0x1);
        gbc.writeMem(0xd336, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xbede);
        EXPECT(gbc.pc(), 0xd337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd336), 0x7);
        // 07 013D
        gbc.setState(0xeb2, 0x7fa1, 0x5090, 0x3d0b, 0x735d, 0x634a, 0x1, 0x1);
        gbc.writeMem(0xeb2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7fa1);
        EXPECT(gbc.pc(), 0xeb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 013E
        gbc.setState(0xa0f0, 0x5280, 0xf090, 0xb44e, 0xbd54, 0x49e3, 0x1, 0x1);
        gbc.writeMem(0xa0f0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5280);
        EXPECT(gbc.pc(), 0xa0f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0f0), 0x7);
        // 07 013F
        gbc.setState(0xb286, 0x555d, 0x83e0, 0x1b5e, 0x8b10, 0x8948, 0x1, 0x1);
        gbc.writeMem(0xb286, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x555d);
        EXPECT(gbc.pc(), 0xb287);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb286), 0x7);
        // 07 0141
        gbc.setState(0x745, 0x33b0, 0x9cd0, 0x8190, 0x6924, 0xbedc, 0x1, 0x1);
        gbc.writeMem(0x745, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x33b0);
        EXPECT(gbc.pc(), 0x746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0142
        gbc.setState(0xa603, 0x1182, 0x4720, 0x7b08, 0xf482, 0x6c18, 0x1, 0x0);
        gbc.writeMem(0xa603, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1182);
        EXPECT(gbc.pc(), 0xa604);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa603), 0x7);
        // 07 0143
        gbc.setState(0x77e7, 0xd091, 0x5bc0, 0x6bf2, 0x7d20, 0x9d81, 0x0, 0x1);
        gbc.writeMem(0x77e7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd091);
        EXPECT(gbc.pc(), 0x77e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0144
        gbc.setState(0x9c78, 0xef91, 0x8760, 0x1088, 0x1656, 0x9c5f, 0x0, 0x0);
        gbc.writeMem(0x9c78, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xef91);
        EXPECT(gbc.pc(), 0x9c79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c78), 0x7);
        // 07 0145
        gbc.setState(0x5729, 0xfaeb, 0x1770, 0x1f20, 0xbb75, 0xb73c, 0x1, 0x0);
        gbc.writeMem(0x5729, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xfaeb);
        EXPECT(gbc.pc(), 0x572a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0146
        gbc.setState(0x467, 0x72dd, 0x830, 0x616c, 0xd73d, 0xa244, 0x0, 0x0);
        gbc.writeMem(0x467, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x72dd);
        EXPECT(gbc.pc(), 0x468);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0147
        gbc.setState(0x17f6, 0x2953, 0xc060, 0xf2d2, 0xa704, 0x5bd4, 0x1, 0x1);
        gbc.writeMem(0x17f6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2953);
        EXPECT(gbc.pc(), 0x17f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0148
        gbc.setState(0x9ecb, 0xe705, 0x5840, 0x977e, 0xcd1, 0x379c, 0x0, 0x0);
        gbc.writeMem(0x9ecb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe705);
        EXPECT(gbc.pc(), 0x9ecc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ecb), 0x7);
        // 07 0149
        gbc.setState(0x3449, 0xc064, 0xaad0, 0xaceb, 0x93c1, 0x87c6, 0x0, 0x0);
        gbc.writeMem(0x3449, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc064);
        EXPECT(gbc.pc(), 0x344a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 014A
        gbc.setState(0xc720, 0xfc52, 0x640, 0x6e75, 0x6eb6, 0xd40f, 0x0, 0x1);
        gbc.writeMem(0xc720, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfc52);
        EXPECT(gbc.pc(), 0xc721);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc720), 0x7);
        // 07 014B
        gbc.setState(0x5719, 0x64d5, 0x1a40, 0x2c2f, 0x659b, 0x59a4, 0x1, 0x0);
        gbc.writeMem(0x5719, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x64d5);
        EXPECT(gbc.pc(), 0x571a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 014C
        gbc.setState(0xa878, 0x93f0, 0x9b90, 0x8232, 0xd711, 0x27f6, 0x0, 0x0);
        gbc.writeMem(0xa878, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x93f0);
        EXPECT(gbc.pc(), 0xa879);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa878), 0x7);
        // 07 014D
        gbc.setState(0xa9fd, 0x87dc, 0x57f0, 0xb883, 0x6e87, 0x328d, 0x0, 0x1);
        gbc.writeMem(0xa9fd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x87dc);
        EXPECT(gbc.pc(), 0xa9fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fd), 0x7);
        // 07 014E
        gbc.setState(0x1478, 0x534b, 0x3190, 0x4118, 0xe215, 0xe985, 0x0, 0x0);
        gbc.writeMem(0x1478, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x534b);
        EXPECT(gbc.pc(), 0x1479);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 014F
        gbc.setState(0xd1b9, 0x84a9, 0x91b0, 0x5e95, 0xa502, 0x3ff, 0x0, 0x0);
        gbc.writeMem(0xd1b9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x84a9);
        EXPECT(gbc.pc(), 0xd1ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1b9), 0x7);
        // 07 0150
        gbc.setState(0x8647, 0x3b1e, 0x7a30, 0x9990, 0xbc59, 0x7a6c, 0x1, 0x0);
        gbc.writeMem(0x8647, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x3b1e);
        EXPECT(gbc.pc(), 0x8648);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8647), 0x7);
        // 07 0151
        gbc.setState(0x3d17, 0x887e, 0x99e0, 0x7af1, 0xe38, 0x26c7, 0x0, 0x0);
        gbc.writeMem(0x3d17, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x887e);
        EXPECT(gbc.pc(), 0x3d18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0152
        gbc.setState(0xc1e1, 0x10da, 0x6630, 0x14be, 0x53fa, 0xc34e, 0x0, 0x0);
        gbc.writeMem(0xc1e1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x10da);
        EXPECT(gbc.pc(), 0xc1e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e1), 0x7);
        // 07 0153
        gbc.setState(0x44a4, 0x8d76, 0xc180, 0xd0c0, 0xd6e5, 0x5e20, 0x1, 0x0);
        gbc.writeMem(0x44a4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8d76);
        EXPECT(gbc.pc(), 0x44a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0154
        gbc.setState(0xddd7, 0x505d, 0x730, 0xb7a5, 0x40b4, 0x7dfb, 0x0, 0x0);
        gbc.writeMem(0xddd7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x505d);
        EXPECT(gbc.pc(), 0xddd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd7), 0x7);
        // 07 0155
        gbc.setState(0xe412, 0xa330, 0xfe50, 0xb3e3, 0x416, 0x246f, 0x0, 0x1);
        gbc.writeMem(0xe412, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa330);
        EXPECT(gbc.pc(), 0xe413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe412), 0x7);
        // 07 0157
        gbc.setState(0x713c, 0xc3c0, 0xee60, 0x73eb, 0xa624, 0x7bea, 0x0, 0x0);
        gbc.writeMem(0x713c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xc3c0);
        EXPECT(gbc.pc(), 0x713d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0158
        gbc.setState(0x7e03, 0xbb5b, 0x2e60, 0xdf7a, 0x4312, 0x999d, 0x0, 0x0);
        gbc.writeMem(0x7e03, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xbb5b);
        EXPECT(gbc.pc(), 0x7e04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0159
        gbc.setState(0x7d8a, 0xf218, 0xd2f0, 0xe551, 0x7107, 0x1e1c, 0x1, 0x0);
        gbc.writeMem(0x7d8a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf218);
        EXPECT(gbc.pc(), 0x7d8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 015A
        gbc.setState(0x5d6a, 0x4cae, 0x4040, 0x3d80, 0x6b5c, 0xa08b, 0x1, 0x0);
        gbc.writeMem(0x5d6a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4cae);
        EXPECT(gbc.pc(), 0x5d6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 015B
        gbc.setState(0x440, 0xa986, 0x3a60, 0x2123, 0xaa2, 0x7060, 0x1, 0x1);
        gbc.writeMem(0x440, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xa986);
        EXPECT(gbc.pc(), 0x441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 015D
        gbc.setState(0x7276, 0xef1c, 0x2520, 0xdbfd, 0x5502, 0xf31e, 0x0, 0x1);
        gbc.writeMem(0x7276, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xef1c);
        EXPECT(gbc.pc(), 0x7277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 015E
        gbc.setState(0x2f2, 0x93dd, 0xf130, 0x7454, 0xc821, 0x816, 0x1, 0x0);
        gbc.writeMem(0x2f2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x93dd);
        EXPECT(gbc.pc(), 0x2f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 015F
        gbc.setState(0xaf1c, 0x2eb8, 0x1a30, 0x47c, 0x4af9, 0xfc5b, 0x0, 0x0);
        gbc.writeMem(0xaf1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2eb8);
        EXPECT(gbc.pc(), 0xaf1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf1c), 0x7);
        // 07 0160
        gbc.setState(0x43a4, 0xe906, 0x2270, 0xde10, 0x11e8, 0xebbd, 0x0, 0x0);
        gbc.writeMem(0x43a4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe906);
        EXPECT(gbc.pc(), 0x43a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0161
        gbc.setState(0x84ce, 0x3be4, 0xe720, 0x7d72, 0x5412, 0x275b, 0x0, 0x0);
        gbc.writeMem(0x84ce, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x3be4);
        EXPECT(gbc.pc(), 0x84cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84ce), 0x7);
        // 07 0162
        gbc.setState(0x8602, 0x9986, 0x80f0, 0x376d, 0x34fd, 0xa85c, 0x1, 0x0);
        gbc.writeMem(0x8602, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x9986);
        EXPECT(gbc.pc(), 0x8603);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8602), 0x7);
        // 07 0163
        gbc.setState(0x1403, 0xc2da, 0xf640, 0x57ef, 0x13ec, 0xfe91, 0x1, 0x0);
        gbc.writeMem(0x1403, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc2da);
        EXPECT(gbc.pc(), 0x1404);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0164
        gbc.setState(0xbf19, 0x6ca, 0x410, 0xc05e, 0x105c, 0x2ec3, 0x1, 0x1);
        gbc.writeMem(0xbf19, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6ca);
        EXPECT(gbc.pc(), 0xbf1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf19), 0x7);
        // 07 0165
        gbc.setState(0x3c18, 0x6848, 0xa9f0, 0x6fa3, 0xf975, 0xd517, 0x0, 0x0);
        gbc.writeMem(0x3c18, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6848);
        EXPECT(gbc.pc(), 0x3c19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0166
        gbc.setState(0xc405, 0xd455, 0xa800, 0x2188, 0x9c35, 0x3b8a, 0x1, 0x0);
        gbc.writeMem(0xc405, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xd455);
        EXPECT(gbc.pc(), 0xc406);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc405), 0x7);
        // 07 0167
        gbc.setState(0x8e48, 0x53d4, 0xfb40, 0x269, 0x3c4d, 0x3b6c, 0x1, 0x0);
        gbc.writeMem(0x8e48, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x53d4);
        EXPECT(gbc.pc(), 0x8e49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e48), 0x7);
        // 07 0168
        gbc.setState(0xcaf3, 0x8818, 0x7b90, 0x5ea3, 0xeae6, 0x4851, 0x0, 0x0);
        gbc.writeMem(0xcaf3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8818);
        EXPECT(gbc.pc(), 0xcaf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaf3), 0x7);
        // 07 0169
        gbc.setState(0xc31a, 0x2ff4, 0xcf70, 0xd152, 0x4502, 0x313d, 0x0, 0x0);
        gbc.writeMem(0xc31a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2ff4);
        EXPECT(gbc.pc(), 0xc31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc31a), 0x7);
        // 07 016A
        gbc.setState(0x12d3, 0x882, 0x1e00, 0x549a, 0x6ddc, 0xdbca, 0x1, 0x0);
        gbc.writeMem(0x12d3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x882);
        EXPECT(gbc.pc(), 0x12d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 016B
        gbc.setState(0x886d, 0xaaba, 0xbe40, 0x9174, 0x95e3, 0xb13d, 0x1, 0x0);
        gbc.writeMem(0x886d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xaaba);
        EXPECT(gbc.pc(), 0x886e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x886d), 0x7);
        // 07 016C
        gbc.setState(0x8855, 0x38a7, 0x5800, 0xcb28, 0x1b03, 0x5c45, 0x0, 0x0);
        gbc.writeMem(0x8855, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x38a7);
        EXPECT(gbc.pc(), 0x8856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8855), 0x7);
        // 07 016D
        gbc.setState(0xafea, 0xa663, 0x83d0, 0x4a41, 0xf270, 0xae81, 0x0, 0x0);
        gbc.writeMem(0xafea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xa663);
        EXPECT(gbc.pc(), 0xafeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafea), 0x7);
        // 07 016F
        gbc.setState(0xdc9c, 0xbbff, 0x3270, 0x32de, 0x456, 0xcb11, 0x1, 0x0);
        gbc.writeMem(0xdc9c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xbbff);
        EXPECT(gbc.pc(), 0xdc9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc9c), 0x7);
        // 07 0170
        gbc.setState(0x6b13, 0xccdd, 0xb2d0, 0x832d, 0x97f1, 0x1a85, 0x1, 0x0);
        gbc.writeMem(0x6b13, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xccdd);
        EXPECT(gbc.pc(), 0x6b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0171
        gbc.setState(0xba6b, 0xc891, 0xf4d0, 0xf824, 0x310f, 0x6430, 0x0, 0x0);
        gbc.writeMem(0xba6b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc891);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba6b), 0x7);
        // 07 0172
        gbc.setState(0x1377, 0x4357, 0x1410, 0x5812, 0x24ed, 0xf73c, 0x1, 0x0);
        gbc.writeMem(0x1377, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x4357);
        EXPECT(gbc.pc(), 0x1378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0173
        gbc.setState(0xd785, 0x1038, 0x8ab0, 0x47a3, 0x1b09, 0x274f, 0x0, 0x0);
        gbc.writeMem(0xd785, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1038);
        EXPECT(gbc.pc(), 0xd786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd785), 0x7);
        // 07 0174
        gbc.setState(0x87a3, 0x77b4, 0xa9d0, 0x24e6, 0xce0f, 0x9ad1, 0x0, 0x0);
        gbc.writeMem(0x87a3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x77b4);
        EXPECT(gbc.pc(), 0x87a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87a3), 0x7);
        // 07 0175
        gbc.setState(0x4dc6, 0xf4e7, 0x2e90, 0x7e43, 0x6174, 0xc946, 0x0, 0x0);
        gbc.writeMem(0x4dc6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf4e7);
        EXPECT(gbc.pc(), 0x4dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0176
        gbc.setState(0x5ba3, 0x6d2c, 0x31d0, 0xe447, 0x94e8, 0xa419, 0x1, 0x0);
        gbc.writeMem(0x5ba3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6d2c);
        EXPECT(gbc.pc(), 0x5ba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0177
        gbc.setState(0x8bde, 0xb194, 0xb4d0, 0x1d7e, 0x888a, 0x7559, 0x0, 0x0);
        gbc.writeMem(0x8bde, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb194);
        EXPECT(gbc.pc(), 0x8bdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bde), 0x7);
        // 07 0178
        gbc.setState(0x7df9, 0x55f, 0x7b0, 0xd8ce, 0xe78f, 0x79d5, 0x1, 0x1);
        gbc.writeMem(0x7df9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x55f);
        EXPECT(gbc.pc(), 0x7dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0179
        gbc.setState(0x9530, 0x127a, 0xd90, 0x36fd, 0x9cb6, 0x32cc, 0x0, 0x1);
        gbc.writeMem(0x9530, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x127a);
        EXPECT(gbc.pc(), 0x9531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9530), 0x7);
        // 07 017A
        gbc.setState(0x7cb2, 0x2098, 0x790, 0xdd4d, 0xad8b, 0xede, 0x1, 0x0);
        gbc.writeMem(0x7cb2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x2098);
        EXPECT(gbc.pc(), 0x7cb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 017B
        gbc.setState(0x203, 0xaae7, 0x5f0, 0x5cdf, 0x6d5a, 0xcd04, 0x1, 0x0);
        gbc.writeMem(0x203, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xaae7);
        EXPECT(gbc.pc(), 0x204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 017C
        gbc.setState(0xc238, 0x135f, 0x90d0, 0x8318, 0x3d20, 0x6f5, 0x1, 0x0);
        gbc.writeMem(0xc238, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x135f);
        EXPECT(gbc.pc(), 0xc239);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc238), 0x7);
        // 07 017D
        gbc.setState(0xd550, 0x3229, 0xec70, 0x611e, 0x93ce, 0xa2d1, 0x1, 0x1);
        gbc.writeMem(0xd550, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3229);
        EXPECT(gbc.pc(), 0xd551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd550), 0x7);
        // 07 017E
        gbc.setState(0x5621, 0x95, 0x7ee0, 0x4a71, 0xb8af, 0x753d, 0x0, 0x1);
        gbc.writeMem(0x5621, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x95);
        EXPECT(gbc.pc(), 0x5622);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 017F
        gbc.setState(0x371f, 0x6cc, 0x88d0, 0x1873, 0x4d4, 0x9c19, 0x1, 0x1);
        gbc.writeMem(0x371f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x6cc);
        EXPECT(gbc.pc(), 0x3720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0180
        gbc.setState(0xd73d, 0xa44c, 0x4ef0, 0x1ebc, 0xa38d, 0x6a25, 0x0, 0x1);
        gbc.writeMem(0xd73d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa44c);
        EXPECT(gbc.pc(), 0xd73e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd73d), 0x7);
        // 07 0181
        gbc.setState(0xbca8, 0x3b65, 0x4190, 0x90ca, 0xf3b6, 0xda3e, 0x1, 0x0);
        gbc.writeMem(0xbca8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x3b65);
        EXPECT(gbc.pc(), 0xbca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbca8), 0x7);
        // 07 0184
        gbc.setState(0x7fbe, 0x4b1d, 0x3940, 0x1176, 0xc906, 0x7b70, 0x0, 0x1);
        gbc.writeMem(0x7fbe, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x4b1d);
        EXPECT(gbc.pc(), 0x7fbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0185
        gbc.setState(0x9f4e, 0x1182, 0xec80, 0xfdc3, 0xfba1, 0x78cd, 0x1, 0x1);
        gbc.writeMem(0x9f4e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1182);
        EXPECT(gbc.pc(), 0x9f4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f4e), 0x7);
        // 07 0186
        gbc.setState(0xcc45, 0x3d96, 0x6f0, 0xac75, 0x2594, 0xf5b1, 0x0, 0x1);
        gbc.writeMem(0xcc45, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3d96);
        EXPECT(gbc.pc(), 0xcc46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc45), 0x7);
        // 07 0187
        gbc.setState(0x9662, 0x469b, 0xdfb0, 0xb88b, 0xa914, 0xb45d, 0x1, 0x0);
        gbc.writeMem(0x9662, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x469b);
        EXPECT(gbc.pc(), 0x9663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9662), 0x7);
        // 07 0188
        gbc.setState(0xca8a, 0xe56d, 0xc5c0, 0x5b19, 0xcb28, 0x397f, 0x0, 0x0);
        gbc.writeMem(0xca8a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe56d);
        EXPECT(gbc.pc(), 0xca8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca8a), 0x7);
        // 07 0189
        gbc.setState(0xc785, 0x17be, 0xab10, 0xd0d1, 0x3ce7, 0x8321, 0x1, 0x1);
        gbc.writeMem(0xc785, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x17be);
        EXPECT(gbc.pc(), 0xc786);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc785), 0x7);
        // 07 018A
        gbc.setState(0x2dca, 0xd735, 0xb390, 0x3882, 0x1ee8, 0x2f9e, 0x0, 0x0);
        gbc.writeMem(0x2dca, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd735);
        EXPECT(gbc.pc(), 0x2dcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 018B
        gbc.setState(0x4a74, 0x8b54, 0x8740, 0x19cd, 0x3cb0, 0x2e47, 0x1, 0x0);
        gbc.writeMem(0x4a74, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8b54);
        EXPECT(gbc.pc(), 0x4a75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 018C
        gbc.setState(0x6e12, 0xd21f, 0x7c50, 0x25e4, 0xc552, 0x81fb, 0x0, 0x0);
        gbc.writeMem(0x6e12, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xd21f);
        EXPECT(gbc.pc(), 0x6e13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 018D
        gbc.setState(0x4c0a, 0x1d8a, 0x3600, 0xe6ec, 0xe063, 0xa0b1, 0x0, 0x0);
        gbc.writeMem(0x4c0a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x1d8a);
        EXPECT(gbc.pc(), 0x4c0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 018E
        gbc.setState(0xea51, 0x3806, 0x7970, 0xd7df, 0xe1f3, 0x1376, 0x0, 0x1);
        gbc.writeMem(0xea51, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3806);
        EXPECT(gbc.pc(), 0xea52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea51), 0x7);
        // 07 018F
        gbc.setState(0x8eee, 0xe5f, 0xe5a0, 0xba3c, 0x2269, 0xabef, 0x0, 0x1);
        gbc.writeMem(0x8eee, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe5f);
        EXPECT(gbc.pc(), 0x8eef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eee), 0x7);
        // 07 0190
        gbc.setState(0xe208, 0xe565, 0xba20, 0xba81, 0x945, 0x598c, 0x1, 0x0);
        gbc.writeMem(0xe208, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xe565);
        EXPECT(gbc.pc(), 0xe209);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe208), 0x7);
        // 07 0191
        gbc.setState(0x9811, 0x5acb, 0x70a0, 0x9c1d, 0x74aa, 0xb837, 0x1, 0x0);
        gbc.writeMem(0x9811, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5acb);
        EXPECT(gbc.pc(), 0x9812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9811), 0x7);
        // 07 0192
        gbc.setState(0x1108, 0x9214, 0x46d0, 0xbadc, 0x9b32, 0x86d6, 0x0, 0x1);
        gbc.writeMem(0x1108, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9214);
        EXPECT(gbc.pc(), 0x1109);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0193
        gbc.setState(0xd710, 0x5d9a, 0x7940, 0x6f6f, 0xaa31, 0x1f4, 0x1, 0x0);
        gbc.writeMem(0xd710, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5d9a);
        EXPECT(gbc.pc(), 0xd711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd710), 0x7);
        // 07 0194
        gbc.setState(0x966d, 0xae39, 0xedd0, 0xc856, 0xbfa6, 0x9eb9, 0x0, 0x0);
        gbc.writeMem(0x966d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xae39);
        EXPECT(gbc.pc(), 0x966e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x966d), 0x7);
        // 07 0195
        gbc.setState(0x7fb4, 0x5136, 0x7cd0, 0x88d0, 0x1bb2, 0xe621, 0x0, 0x1);
        gbc.writeMem(0x7fb4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5136);
        EXPECT(gbc.pc(), 0x7fb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0196
        gbc.setState(0x7c8, 0x406c, 0xc100, 0x12cf, 0xb7dd, 0x1bd8, 0x0, 0x0);
        gbc.writeMem(0x7c8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x406c);
        EXPECT(gbc.pc(), 0x7c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0197
        gbc.setState(0x8e24, 0x8d35, 0x9830, 0xc1a9, 0xd289, 0x7973, 0x1, 0x1);
        gbc.writeMem(0x8e24, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8d35);
        EXPECT(gbc.pc(), 0x8e25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e24), 0x7);
        // 07 0199
        gbc.setState(0x3df0, 0x23ff, 0xb20, 0x3fcb, 0x42bf, 0xda32, 0x1, 0x0);
        gbc.writeMem(0x3df0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x23ff);
        EXPECT(gbc.pc(), 0x3df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 019A
        gbc.setState(0x13e8, 0x8df0, 0xe7e0, 0xeaf4, 0xe8a9, 0x4c21, 0x1, 0x1);
        gbc.writeMem(0x13e8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x8df0);
        EXPECT(gbc.pc(), 0x13e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 019B
        gbc.setState(0x35d1, 0xbc0e, 0x7450, 0xd7be, 0xb1dc, 0xc4a, 0x1, 0x0);
        gbc.writeMem(0x35d1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xbc0e);
        EXPECT(gbc.pc(), 0x35d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 019C
        gbc.setState(0xdfac, 0xdc37, 0x7ee0, 0x9a6f, 0x8541, 0x854, 0x1, 0x0);
        gbc.writeMem(0xdfac, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xdc37);
        EXPECT(gbc.pc(), 0xdfad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfac), 0x7);
        // 07 019D
        gbc.setState(0x899, 0x3b9c, 0x5620, 0x2323, 0x4c95, 0xf05e, 0x0, 0x0);
        gbc.writeMem(0x899, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x3b9c);
        EXPECT(gbc.pc(), 0x89a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 019E
        gbc.setState(0xaf40, 0xff6a, 0x44c0, 0x2ae8, 0x1c1a, 0x3074, 0x1, 0x0);
        gbc.writeMem(0xaf40, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xff6a);
        EXPECT(gbc.pc(), 0xaf41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf40), 0x7);
        // 07 019F
        gbc.setState(0xc871, 0x86e, 0xa010, 0xd4cb, 0xa1a8, 0xa50b, 0x0, 0x0);
        gbc.writeMem(0xc871, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x86e);
        EXPECT(gbc.pc(), 0xc872);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc871), 0x7);
        // 07 01A0
        gbc.setState(0x8ea, 0x1b58, 0xd1d0, 0x53bc, 0x74c0, 0x82ea, 0x0, 0x0);
        gbc.writeMem(0x8ea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1b58);
        EXPECT(gbc.pc(), 0x8eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01A1
        gbc.setState(0x29b5, 0x3153, 0x2360, 0xa53b, 0x3433, 0xec37, 0x0, 0x1);
        gbc.writeMem(0x29b5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x3153);
        EXPECT(gbc.pc(), 0x29b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01A2
        gbc.setState(0x9d2a, 0x3b1d, 0xd0c0, 0x1509, 0x3717, 0x2cef, 0x1, 0x1);
        gbc.writeMem(0x9d2a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3b1d);
        EXPECT(gbc.pc(), 0x9d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d2a), 0x7);
        // 07 01A3
        gbc.setState(0x9dad, 0x62d2, 0xac50, 0x43e3, 0xde80, 0x99e5, 0x1, 0x0);
        gbc.writeMem(0x9dad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x62d2);
        EXPECT(gbc.pc(), 0x9dae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dad), 0x7);
        // 07 01A4
        gbc.setState(0x8f6e, 0x8b3f, 0x4f70, 0xc552, 0x4d5c, 0x3c51, 0x0, 0x0);
        gbc.writeMem(0x8f6e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x8b3f);
        EXPECT(gbc.pc(), 0x8f6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6e), 0x7);
        // 07 01A5
        gbc.setState(0xace4, 0x621c, 0xa0, 0x31e, 0x6343, 0x57e3, 0x0, 0x0);
        gbc.writeMem(0xace4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x621c);
        EXPECT(gbc.pc(), 0xace5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xace4), 0x7);
        // 07 01A6
        gbc.setState(0xd7ff, 0xee36, 0xbae0, 0xdce6, 0x303a, 0xcfff, 0x1, 0x0);
        gbc.writeMem(0xd7ff, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xee36);
        EXPECT(gbc.pc(), 0xd800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ff), 0x7);
        // 07 01A7
        gbc.setState(0x9ea8, 0x76b, 0x66b0, 0x7ac5, 0xd54d, 0x990e, 0x1, 0x0);
        gbc.writeMem(0x9ea8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x76b);
        EXPECT(gbc.pc(), 0x9ea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ea8), 0x7);
        // 07 01AA
        gbc.setState(0xc40d, 0xf512, 0xe090, 0x5751, 0xf329, 0xa6ba, 0x0, 0x0);
        gbc.writeMem(0xc40d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xf512);
        EXPECT(gbc.pc(), 0xc40e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc40d), 0x7);
        // 07 01AB
        gbc.setState(0xcb57, 0xea81, 0x13b0, 0xa1b6, 0xaef1, 0xb12d, 0x1, 0x1);
        gbc.writeMem(0xcb57, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xea81);
        EXPECT(gbc.pc(), 0xcb58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb57), 0x7);
        // 07 01AC
        gbc.setState(0x2458, 0x29b9, 0xaa60, 0x9e12, 0xa302, 0x7038, 0x0, 0x1);
        gbc.writeMem(0x2458, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x29b9);
        EXPECT(gbc.pc(), 0x2459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01AD
        gbc.setState(0x163e, 0xad41, 0xde60, 0x864, 0x16e0, 0x2bd7, 0x0, 0x1);
        gbc.writeMem(0x163e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xad41);
        EXPECT(gbc.pc(), 0x163f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01AE
        gbc.setState(0x9ac0, 0x496, 0x2fc0, 0xdf68, 0x19f5, 0x8fbb, 0x0, 0x0);
        gbc.writeMem(0x9ac0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x496);
        EXPECT(gbc.pc(), 0x9ac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ac0), 0x7);
        // 07 01AF
        gbc.setState(0xc9b2, 0xbcc8, 0x4d60, 0xd354, 0x77c0, 0x7d54, 0x0, 0x1);
        gbc.writeMem(0xc9b2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xbcc8);
        EXPECT(gbc.pc(), 0xc9b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9b2), 0x7);
        // 07 01B0
        gbc.setState(0x9330, 0xba7c, 0x5a40, 0x11c1, 0xaa9c, 0xc9f4, 0x0, 0x1);
        gbc.writeMem(0x9330, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xba7c);
        EXPECT(gbc.pc(), 0x9331);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9330), 0x7);
        // 07 01B1
        gbc.setState(0x9743, 0x8e9c, 0x8ce0, 0x8238, 0x59b, 0x5c2d, 0x1, 0x0);
        gbc.writeMem(0x9743, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8e9c);
        EXPECT(gbc.pc(), 0x9744);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9743), 0x7);
        // 07 01B2
        gbc.setState(0x993a, 0xd76c, 0x4260, 0xa615, 0x9ffd, 0xaf2b, 0x1, 0x1);
        gbc.writeMem(0x993a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd76c);
        EXPECT(gbc.pc(), 0x993b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x993a), 0x7);
        // 07 01B3
        gbc.setState(0x317c, 0xf68d, 0x8860, 0x9bd9, 0x2597, 0xf517, 0x1, 0x1);
        gbc.writeMem(0x317c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf68d);
        EXPECT(gbc.pc(), 0x317d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01B4
        gbc.setState(0x87c7, 0x500d, 0xa8d0, 0x85ab, 0xa1cc, 0x438d, 0x0, 0x0);
        gbc.writeMem(0x87c7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x500d);
        EXPECT(gbc.pc(), 0x87c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c7), 0x7);
        // 07 01B5
        gbc.setState(0x26ec, 0xd2b9, 0xc20, 0x17d3, 0xe485, 0x6f9d, 0x0, 0x1);
        gbc.writeMem(0x26ec, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd2b9);
        EXPECT(gbc.pc(), 0x26ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01B6
        gbc.setState(0xbdb3, 0x8a06, 0xeaa0, 0x89e8, 0x1e0d, 0xabf3, 0x1, 0x0);
        gbc.writeMem(0xbdb3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x8a06);
        EXPECT(gbc.pc(), 0xbdb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdb3), 0x7);
        // 07 01B7
        gbc.setState(0x6c7b, 0xec1d, 0xe220, 0x2a5, 0x8ef1, 0x348a, 0x1, 0x1);
        gbc.writeMem(0x6c7b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xec1d);
        EXPECT(gbc.pc(), 0x6c7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01B8
        gbc.setState(0xdfe2, 0x51c5, 0xc450, 0x54a1, 0xd390, 0xea05, 0x1, 0x1);
        gbc.writeMem(0xdfe2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x51c5);
        EXPECT(gbc.pc(), 0xdfe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe2), 0x7);
        // 07 01B9
        gbc.setState(0x5399, 0x8908, 0x46e0, 0xad05, 0x6c8e, 0xfc47, 0x0, 0x0);
        gbc.writeMem(0x5399, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8908);
        EXPECT(gbc.pc(), 0x539a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01BB
        gbc.setState(0x1b67, 0x52a4, 0x1190, 0xe90a, 0x3943, 0x40d1, 0x1, 0x0);
        gbc.writeMem(0x1b67, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x52a4);
        EXPECT(gbc.pc(), 0x1b68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01BC
        gbc.setState(0xa538, 0x979d, 0xe740, 0xe782, 0x5315, 0x163b, 0x1, 0x0);
        gbc.writeMem(0xa538, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x979d);
        EXPECT(gbc.pc(), 0xa539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa538), 0x7);
        // 07 01BD
        gbc.setState(0x9936, 0xb207, 0xb000, 0x61b0, 0xd920, 0x5aaf, 0x1, 0x0);
        gbc.writeMem(0x9936, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xb207);
        EXPECT(gbc.pc(), 0x9937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9936), 0x7);
        // 07 01BE
        gbc.setState(0xc5b0, 0xbc, 0xd120, 0x4de1, 0x4249, 0xd4f2, 0x0, 0x1);
        gbc.writeMem(0xc5b0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbc);
        EXPECT(gbc.pc(), 0xc5b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5b0), 0x7);
        // 07 01BF
        gbc.setState(0xeaa5, 0xaf7, 0xea40, 0xdf33, 0xdb76, 0x6616, 0x0, 0x0);
        gbc.writeMem(0xeaa5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xaf7);
        EXPECT(gbc.pc(), 0xeaa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaa5), 0x7);
        // 07 01C0
        gbc.setState(0x3fdf, 0x36b, 0xe2a0, 0x32db, 0x5bf5, 0xe001, 0x1, 0x0);
        gbc.writeMem(0x3fdf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x36b);
        EXPECT(gbc.pc(), 0x3fe0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C1
        gbc.setState(0x14e2, 0x63ff, 0x8a30, 0xbb5e, 0xea9c, 0xdabd, 0x0, 0x0);
        gbc.writeMem(0x14e2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x63ff);
        EXPECT(gbc.pc(), 0x14e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C2
        gbc.setState(0x3a3c, 0x5f7, 0x9e00, 0x1d57, 0x909c, 0x97bf, 0x1, 0x0);
        gbc.writeMem(0x3a3c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5f7);
        EXPECT(gbc.pc(), 0x3a3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C3
        gbc.setState(0x5ba7, 0x8280, 0x89f0, 0x83fe, 0x60fc, 0x9256, 0x0, 0x0);
        gbc.writeMem(0x5ba7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8280);
        EXPECT(gbc.pc(), 0x5ba8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C4
        gbc.setState(0xd0e3, 0xa6bd, 0x6b00, 0xd61f, 0x329d, 0x99c, 0x1, 0x0);
        gbc.writeMem(0xd0e3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa6bd);
        EXPECT(gbc.pc(), 0xd0e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0e3), 0x7);
        // 07 01C5
        gbc.setState(0x57a9, 0x8ed5, 0x8750, 0x1718, 0x29f7, 0x4695, 0x0, 0x0);
        gbc.writeMem(0x57a9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8ed5);
        EXPECT(gbc.pc(), 0x57aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C6
        gbc.setState(0x9e29, 0x25b3, 0x8c90, 0x39c0, 0x81e2, 0x10f4, 0x1, 0x0);
        gbc.writeMem(0x9e29, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x25b3);
        EXPECT(gbc.pc(), 0x9e2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e29), 0x7);
        // 07 01C7
        gbc.setState(0xd4bc, 0xcdf5, 0x3ad0, 0xd0f4, 0xe7bf, 0x3c8e, 0x0, 0x0);
        gbc.writeMem(0xd4bc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xcdf5);
        EXPECT(gbc.pc(), 0xd4bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4bc), 0x7);
        // 07 01C8
        gbc.setState(0x6839, 0xf36f, 0xd400, 0xe47c, 0xe00b, 0x5fcd, 0x1, 0x1);
        gbc.writeMem(0x6839, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf36f);
        EXPECT(gbc.pc(), 0x683a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01C9
        gbc.setState(0xdf14, 0xf029, 0x7fa0, 0x72b9, 0x5e22, 0xd992, 0x1, 0x0);
        gbc.writeMem(0xdf14, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf029);
        EXPECT(gbc.pc(), 0xdf15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf14), 0x7);
        // 07 01CA
        gbc.setState(0x543e, 0x2823, 0xd120, 0x890e, 0xf2f0, 0x7307, 0x1, 0x1);
        gbc.writeMem(0x543e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2823);
        EXPECT(gbc.pc(), 0x543f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01CB
        gbc.setState(0xaaad, 0x40d5, 0x5000, 0x9fb1, 0xcf33, 0x2523, 0x1, 0x1);
        gbc.writeMem(0xaaad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x40d5);
        EXPECT(gbc.pc(), 0xaaae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaad), 0x7);
        // 07 01CC
        gbc.setState(0x898e, 0xd0f4, 0x33a0, 0x551b, 0x961c, 0x4e16, 0x1, 0x0);
        gbc.writeMem(0x898e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd0f4);
        EXPECT(gbc.pc(), 0x898f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x898e), 0x7);
        // 07 01CD
        gbc.setState(0x81a7, 0x5965, 0xa1e0, 0xdb7b, 0xe3a0, 0x1873, 0x0, 0x1);
        gbc.writeMem(0x81a7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5965);
        EXPECT(gbc.pc(), 0x81a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81a7), 0x7);
        // 07 01CE
        gbc.setState(0x971c, 0xb5a3, 0xc420, 0xc0ef, 0x69d2, 0x6626, 0x1, 0x0);
        gbc.writeMem(0x971c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb5a3);
        EXPECT(gbc.pc(), 0x971d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971c), 0x7);
        // 07 01CF
        gbc.setState(0xc8c2, 0xa7b1, 0xf650, 0xa370, 0x1d23, 0xaa23, 0x1, 0x1);
        gbc.writeMem(0xc8c2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xa7b1);
        EXPECT(gbc.pc(), 0xc8c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8c2), 0x7);
        // 07 01D0
        gbc.setState(0x9e71, 0x38a9, 0xe7d0, 0x8414, 0xbec1, 0xf0dd, 0x0, 0x0);
        gbc.writeMem(0x9e71, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x38a9);
        EXPECT(gbc.pc(), 0x9e72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e71), 0x7);
        // 07 01D1
        gbc.setState(0x1bae, 0xd2f5, 0xd0e0, 0x6e77, 0x8e47, 0xe92b, 0x0, 0x0);
        gbc.writeMem(0x1bae, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xd2f5);
        EXPECT(gbc.pc(), 0x1baf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01D2
        gbc.setState(0xa6f8, 0x5a85, 0xc850, 0x9916, 0xb5c9, 0xe149, 0x1, 0x1);
        gbc.writeMem(0xa6f8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5a85);
        EXPECT(gbc.pc(), 0xa6f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f8), 0x7);
        // 07 01D3
        gbc.setState(0xcbe3, 0x1163, 0x9bc0, 0x51c1, 0xa87a, 0x27ff, 0x0, 0x1);
        gbc.writeMem(0xcbe3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x1163);
        EXPECT(gbc.pc(), 0xcbe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe3), 0x7);
        // 07 01D5
        gbc.setState(0x3244, 0xff64, 0xb6f0, 0xf, 0x80f6, 0x44a8, 0x0, 0x1);
        gbc.writeMem(0x3244, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xff64);
        EXPECT(gbc.pc(), 0x3245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01D6
        gbc.setState(0x916a, 0x9447, 0xef20, 0x161f, 0x56c7, 0xf833, 0x0, 0x0);
        gbc.writeMem(0x916a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x9447);
        EXPECT(gbc.pc(), 0x916b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x916a), 0x7);
        // 07 01D7
        gbc.setState(0xc96, 0x2802, 0x2020, 0x3aa9, 0x49fe, 0xc09a, 0x1, 0x1);
        gbc.writeMem(0xc96, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x2802);
        EXPECT(gbc.pc(), 0xc97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01D8
        gbc.setState(0x362d, 0xdcc2, 0x66e0, 0x7c80, 0x93b6, 0x1d4b, 0x1, 0x0);
        gbc.writeMem(0x362d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdcc2);
        EXPECT(gbc.pc(), 0x362e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01D9
        gbc.setState(0x5136, 0xa435, 0xf280, 0xd55c, 0xfb12, 0x1744, 0x0, 0x1);
        gbc.writeMem(0x5136, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa435);
        EXPECT(gbc.pc(), 0x5137);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01DA
        gbc.setState(0x304, 0x557a, 0x3c60, 0xa95a, 0x8215, 0xea78, 0x1, 0x1);
        gbc.writeMem(0x304, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x557a);
        EXPECT(gbc.pc(), 0x305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01DB
        gbc.setState(0xae1c, 0x47ee, 0xcd60, 0x4b3d, 0x2d92, 0xcf69, 0x1, 0x1);
        gbc.writeMem(0xae1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x47ee);
        EXPECT(gbc.pc(), 0xae1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae1c), 0x7);
        // 07 01DC
        gbc.setState(0x77d3, 0x25b8, 0x3150, 0xdda1, 0x2082, 0x18c2, 0x1, 0x1);
        gbc.writeMem(0x77d3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x25b8);
        EXPECT(gbc.pc(), 0x77d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01DD
        gbc.setState(0x60c, 0x5a38, 0xff50, 0x4478, 0x80c, 0x8d58, 0x0, 0x1);
        gbc.writeMem(0x60c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x5a38);
        EXPECT(gbc.pc(), 0x60d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01DE
        gbc.setState(0x8382, 0x6b46, 0x5ec0, 0xd286, 0x60b7, 0xf71f, 0x1, 0x0);
        gbc.writeMem(0x8382, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6b46);
        EXPECT(gbc.pc(), 0x8383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8382), 0x7);
        // 07 01DF
        gbc.setState(0x48f1, 0x7baa, 0x2290, 0xfe64, 0xaae6, 0xb152, 0x0, 0x1);
        gbc.writeMem(0x48f1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x7baa);
        EXPECT(gbc.pc(), 0x48f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01E0
        gbc.setState(0xc07f, 0x98a, 0x5270, 0x3c52, 0x9fb9, 0x4634, 0x0, 0x0);
        gbc.writeMem(0xc07f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x98a);
        EXPECT(gbc.pc(), 0xc080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc07f), 0x7);
        // 07 01E1
        gbc.setState(0x8864, 0xf18a, 0xed50, 0x4ef3, 0xb9b5, 0x4fdc, 0x1, 0x0);
        gbc.writeMem(0x8864, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf18a);
        EXPECT(gbc.pc(), 0x8865);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8864), 0x7);
        // 07 01E2
        gbc.setState(0x4391, 0x7124, 0xba0, 0x5868, 0x7e12, 0x50a7, 0x0, 0x0);
        gbc.writeMem(0x4391, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7124);
        EXPECT(gbc.pc(), 0x4392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01E3
        gbc.setState(0x38ba, 0xc0f5, 0x4cb0, 0xbde0, 0xc225, 0xa32d, 0x0, 0x1);
        gbc.writeMem(0x38ba, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xc0f5);
        EXPECT(gbc.pc(), 0x38bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01E4
        gbc.setState(0x6899, 0x2eec, 0x8130, 0x666b, 0x25cb, 0xbbda, 0x1, 0x1);
        gbc.writeMem(0x6899, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2eec);
        EXPECT(gbc.pc(), 0x689a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01E5
        gbc.setState(0x5961, 0x26cc, 0x25d0, 0xd624, 0xe1fd, 0x1b0b, 0x1, 0x0);
        gbc.writeMem(0x5961, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x26cc);
        EXPECT(gbc.pc(), 0x5962);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01E6
        gbc.setState(0xc7d7, 0xca6d, 0x1f20, 0x13bc, 0x3497, 0xd985, 0x1, 0x1);
        gbc.writeMem(0xc7d7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xca6d);
        EXPECT(gbc.pc(), 0xc7d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d7), 0x7);
        // 07 01E7
        gbc.setState(0xb097, 0x652e, 0x9ad0, 0x51c8, 0x9ed, 0x6144, 0x0, 0x1);
        gbc.writeMem(0xb097, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x652e);
        EXPECT(gbc.pc(), 0xb098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb097), 0x7);
        // 07 01E8
        gbc.setState(0x5f5c, 0xe8, 0x2ac0, 0xd20e, 0x3bc, 0xc56c, 0x0, 0x0);
        gbc.writeMem(0x5f5c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe8);
        EXPECT(gbc.pc(), 0x5f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01E9
        gbc.setState(0x40f1, 0xe3ed, 0xe070, 0x9c0f, 0xf497, 0x60b9, 0x0, 0x1);
        gbc.writeMem(0x40f1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe3ed);
        EXPECT(gbc.pc(), 0x40f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 01EA
        gbc.setState(0xedd9, 0xf44, 0xc6e0, 0x61c8, 0x91ba, 0xc562, 0x0, 0x0);
        gbc.writeMem(0xedd9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf44);
        EXPECT(gbc.pc(), 0xedda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedd9), 0x7);
        // 07 01EB
        gbc.setState(0x5813, 0x6e66, 0x2180, 0xbb05, 0xd220, 0x7c5d, 0x0, 0x1);
        gbc.writeMem(0x5813, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6e66);
        EXPECT(gbc.pc(), 0x5814);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01ED
        gbc.setState(0x4d8b, 0x25cd, 0x4530, 0xfce8, 0xa6ba, 0x741, 0x1, 0x0);
        gbc.writeMem(0x4d8b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x25cd);
        EXPECT(gbc.pc(), 0x4d8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01EE
        gbc.setState(0xd119, 0xeb07, 0xaf30, 0x8281, 0x3ae7, 0xa5d8, 0x1, 0x0);
        gbc.writeMem(0xd119, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xeb07);
        EXPECT(gbc.pc(), 0xd11a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd119), 0x7);
        // 07 01F0
        gbc.setState(0xd7ba, 0x7d95, 0xc8b0, 0x244b, 0xa121, 0x9579, 0x0, 0x1);
        gbc.writeMem(0xd7ba, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7d95);
        EXPECT(gbc.pc(), 0xd7bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7ba), 0x7);
        // 07 01F1
        gbc.setState(0xb05a, 0xcc60, 0xd8f0, 0xa1e4, 0x1cba, 0xe82a, 0x0, 0x1);
        gbc.writeMem(0xb05a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xcc60);
        EXPECT(gbc.pc(), 0xb05b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05a), 0x7);
        // 07 01F2
        gbc.setState(0xea7b, 0x10c3, 0x3dc0, 0xf065, 0xa145, 0x75ff, 0x0, 0x1);
        gbc.writeMem(0xea7b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x10c3);
        EXPECT(gbc.pc(), 0xea7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea7b), 0x7);
        // 07 01F3
        gbc.setState(0x44b8, 0xe161, 0x4060, 0x6f27, 0x1864, 0xf1f8, 0x1, 0x0);
        gbc.writeMem(0x44b8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe161);
        EXPECT(gbc.pc(), 0x44b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01F4
        gbc.setState(0xe45f, 0x4e63, 0x2aa0, 0x81f7, 0x3422, 0xecce, 0x1, 0x1);
        gbc.writeMem(0xe45f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4e63);
        EXPECT(gbc.pc(), 0xe460);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45f), 0x7);
        // 07 01F5
        gbc.setState(0x5fd6, 0x27f6, 0x5930, 0xd202, 0x6c43, 0xb540, 0x0, 0x1);
        gbc.writeMem(0x5fd6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x27f6);
        EXPECT(gbc.pc(), 0x5fd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01F6
        gbc.setState(0xa8a, 0x1664, 0x5d90, 0x3847, 0x88f8, 0x4010, 0x0, 0x0);
        gbc.writeMem(0xa8a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1664);
        EXPECT(gbc.pc(), 0xa8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01F7
        gbc.setState(0x908b, 0x1641, 0x3d70, 0xe9da, 0x810, 0xd711, 0x0, 0x1);
        gbc.writeMem(0x908b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x1641);
        EXPECT(gbc.pc(), 0x908c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x908b), 0x7);
        // 07 01F8
        gbc.setState(0x3b8b, 0xd427, 0x43f0, 0xb4af, 0x80ea, 0x520e, 0x0, 0x0);
        gbc.writeMem(0x3b8b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xd427);
        EXPECT(gbc.pc(), 0x3b8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01F9
        gbc.setState(0xdb44, 0x9037, 0x8550, 0x9eb0, 0x97ab, 0x7c46, 0x1, 0x0);
        gbc.writeMem(0xdb44, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x9037);
        EXPECT(gbc.pc(), 0xdb45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb44), 0x7);
        // 07 01FA
        gbc.setState(0xa908, 0x9be6, 0x3f30, 0x8407, 0x64c7, 0x2f37, 0x0, 0x0);
        gbc.writeMem(0xa908, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9be6);
        EXPECT(gbc.pc(), 0xa909);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa908), 0x7);
        // 07 01FB
        gbc.setState(0x2b36, 0x6af9, 0x1460, 0xf0f9, 0x8b3a, 0x1aa2, 0x0, 0x0);
        gbc.writeMem(0x2b36, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6af9);
        EXPECT(gbc.pc(), 0x2b37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 01FC
        gbc.setState(0xd75d, 0xbce5, 0x14a0, 0x9c54, 0xa9b9, 0x3148, 0x1, 0x1);
        gbc.writeMem(0xd75d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xbce5);
        EXPECT(gbc.pc(), 0xd75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd75d), 0x7);
        // 07 01FD
        gbc.setState(0xbea8, 0xf650, 0x6f0, 0x753c, 0xea2c, 0x18b7, 0x1, 0x1);
        gbc.writeMem(0xbea8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xf650);
        EXPECT(gbc.pc(), 0xbea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbea8), 0x7);
        // 07 01FE
        gbc.setState(0xb2ad, 0xcee, 0xf1e0, 0x385a, 0x2de9, 0xb4ca, 0x0, 0x0);
        gbc.writeMem(0xb2ad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xcee);
        EXPECT(gbc.pc(), 0xb2ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2ad), 0x7);
        // 07 01FF
        gbc.setState(0xba15, 0x34d, 0xea70, 0x6ea8, 0x35ca, 0xf68c, 0x0, 0x1);
        gbc.writeMem(0xba15, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x34d);
        EXPECT(gbc.pc(), 0xba16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba15), 0x7);
        // 07 0200
        gbc.setState(0xef91, 0x9d26, 0xff40, 0x6448, 0x2b46, 0x5765, 0x0, 0x1);
        gbc.writeMem(0xef91, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9d26);
        EXPECT(gbc.pc(), 0xef92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef91), 0x7);
        // 07 0201
        gbc.setState(0x204, 0xc10e, 0x36d0, 0x1cbf, 0xe0d6, 0x5a29, 0x0, 0x1);
        gbc.writeMem(0x204, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc10e);
        EXPECT(gbc.pc(), 0x205);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0202
        gbc.setState(0xddae, 0xb4ab, 0x7020, 0x8be7, 0x8fbf, 0xf235, 0x0, 0x0);
        gbc.writeMem(0xddae, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb4ab);
        EXPECT(gbc.pc(), 0xddaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddae), 0x7);
        // 07 0203
        gbc.setState(0xd774, 0xb273, 0x3980, 0x8380, 0xc76a, 0x7ad8, 0x0, 0x1);
        gbc.writeMem(0xd774, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb273);
        EXPECT(gbc.pc(), 0xd775);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd774), 0x7);
        // 07 0204
        gbc.setState(0x4c76, 0x294c, 0x2760, 0x96ea, 0x694, 0x57dd, 0x0, 0x1);
        gbc.writeMem(0x4c76, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x294c);
        EXPECT(gbc.pc(), 0x4c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0205
        gbc.setState(0x524, 0x24ef, 0x95d0, 0x3b46, 0xc244, 0xf342, 0x0, 0x1);
        gbc.writeMem(0x524, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x24ef);
        EXPECT(gbc.pc(), 0x525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0206
        gbc.setState(0x2263, 0x5cad, 0x8a0, 0x865c, 0xc654, 0x14d2, 0x0, 0x0);
        gbc.writeMem(0x2263, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5cad);
        EXPECT(gbc.pc(), 0x2264);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0207
        gbc.setState(0x930b, 0xf295, 0xa9b0, 0xd1a6, 0xb90b, 0x1ef5, 0x0, 0x1);
        gbc.writeMem(0x930b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xf295);
        EXPECT(gbc.pc(), 0x930c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x930b), 0x7);
        // 07 0208
        gbc.setState(0xc986, 0xf7b3, 0x4020, 0x8032, 0x56d0, 0x1c8f, 0x1, 0x1);
        gbc.writeMem(0xc986, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf7b3);
        EXPECT(gbc.pc(), 0xc987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc986), 0x7);
        // 07 020A
        gbc.setState(0x46e4, 0xbb77, 0x16e0, 0xa365, 0x447, 0x1101, 0x1, 0x1);
        gbc.writeMem(0x46e4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xbb77);
        EXPECT(gbc.pc(), 0x46e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 020B
        gbc.setState(0xcc7e, 0xc056, 0x7eb0, 0x6c8c, 0xa16, 0x31d6, 0x0, 0x0);
        gbc.writeMem(0xcc7e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc056);
        EXPECT(gbc.pc(), 0xcc7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc7e), 0x7);
        // 07 020D
        gbc.setState(0x7050, 0xeb4d, 0xbc30, 0x17db, 0xd3fd, 0x3595, 0x0, 0x1);
        gbc.writeMem(0x7050, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xeb4d);
        EXPECT(gbc.pc(), 0x7051);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 020E
        gbc.setState(0x7b53, 0x9cd8, 0x3680, 0x3162, 0x7893, 0xb5bd, 0x1, 0x1);
        gbc.writeMem(0x7b53, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9cd8);
        EXPECT(gbc.pc(), 0x7b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 020F
        gbc.setState(0xc57, 0xe75e, 0xf3d0, 0x4c60, 0xe97, 0x5858, 0x0, 0x1);
        gbc.writeMem(0xc57, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe75e);
        EXPECT(gbc.pc(), 0xc58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0210
        gbc.setState(0xef3, 0x882c, 0x2630, 0x992e, 0x23c3, 0xe3ba, 0x1, 0x0);
        gbc.writeMem(0xef3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x882c);
        EXPECT(gbc.pc(), 0xef4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0211
        gbc.setState(0x3813, 0xb62c, 0x8a80, 0xddf8, 0x7ea7, 0x6180, 0x1, 0x1);
        gbc.writeMem(0x3813, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb62c);
        EXPECT(gbc.pc(), 0x3814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0212
        gbc.setState(0x4f26, 0x7117, 0x7f70, 0x13bc, 0x30f, 0x9891, 0x1, 0x1);
        gbc.writeMem(0x4f26, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7117);
        EXPECT(gbc.pc(), 0x4f27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0213
        gbc.setState(0xcba4, 0x3a66, 0xe120, 0x54f5, 0x4f56, 0xe53c, 0x1, 0x1);
        gbc.writeMem(0xcba4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3a66);
        EXPECT(gbc.pc(), 0xcba5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcba4), 0x7);
        // 07 0214
        gbc.setState(0x8e62, 0x7bf7, 0xffb0, 0xda96, 0xc0c7, 0x18a6, 0x1, 0x1);
        gbc.writeMem(0x8e62, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7bf7);
        EXPECT(gbc.pc(), 0x8e63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e62), 0x7);
        // 07 0215
        gbc.setState(0x5623, 0xe42e, 0x8e30, 0xa74e, 0xeeda, 0x2cc9, 0x1, 0x0);
        gbc.writeMem(0x5623, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xe42e);
        EXPECT(gbc.pc(), 0x5624);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0216
        gbc.setState(0x3abf, 0x2da8, 0x5400, 0x41cd, 0x41b0, 0xb66a, 0x0, 0x1);
        gbc.writeMem(0x3abf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2da8);
        EXPECT(gbc.pc(), 0x3ac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0217
        gbc.setState(0x557f, 0xb8ca, 0xd750, 0xbe7, 0x63ad, 0xfc16, 0x0, 0x1);
        gbc.writeMem(0x557f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb8ca);
        EXPECT(gbc.pc(), 0x5580);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0218
        gbc.setState(0xc8c2, 0x1095, 0xa200, 0xfdf6, 0x34fb, 0xbc6d, 0x0, 0x1);
        gbc.writeMem(0xc8c2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1095);
        EXPECT(gbc.pc(), 0xc8c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8c2), 0x7);
        // 07 0219
        gbc.setState(0x6a84, 0x504c, 0xe850, 0x4e75, 0x8b2f, 0x7e26, 0x0, 0x1);
        gbc.writeMem(0x6a84, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x504c);
        EXPECT(gbc.pc(), 0x6a85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 021A
        gbc.setState(0xaf99, 0x7ad5, 0x2130, 0xaaca, 0x7cee, 0xc145, 0x1, 0x1);
        gbc.writeMem(0xaf99, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7ad5);
        EXPECT(gbc.pc(), 0xaf9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf99), 0x7);
        // 07 021B
        gbc.setState(0x7a66, 0xf0a6, 0x4dd0, 0x5e94, 0xf67b, 0x53a0, 0x1, 0x0);
        gbc.writeMem(0x7a66, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf0a6);
        EXPECT(gbc.pc(), 0x7a67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 021C
        gbc.setState(0x557a, 0xfd04, 0x3990, 0xcdc1, 0x1ce, 0xf7fa, 0x1, 0x0);
        gbc.writeMem(0x557a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfd04);
        EXPECT(gbc.pc(), 0x557b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 021D
        gbc.setState(0x15d6, 0x69fc, 0x8d50, 0xb12f, 0x8d1c, 0x8249, 0x1, 0x0);
        gbc.writeMem(0x15d6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x69fc);
        EXPECT(gbc.pc(), 0x15d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 021E
        gbc.setState(0x96e3, 0x3108, 0x50c0, 0xef3f, 0xf91a, 0x6f82, 0x1, 0x1);
        gbc.writeMem(0x96e3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3108);
        EXPECT(gbc.pc(), 0x96e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96e3), 0x7);
        // 07 021F
        gbc.setState(0x4cbc, 0x1492, 0xdfd0, 0x8aee, 0xf127, 0xb373, 0x1, 0x0);
        gbc.writeMem(0x4cbc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x1492);
        EXPECT(gbc.pc(), 0x4cbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0220
        gbc.setState(0x8517, 0xecd7, 0xcc0, 0x59d6, 0xc969, 0x6a54, 0x1, 0x1);
        gbc.writeMem(0x8517, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xecd7);
        EXPECT(gbc.pc(), 0x8518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8517), 0x7);
        // 07 0221
        gbc.setState(0xac9, 0x261d, 0xbf0, 0xd1d, 0xb8c3, 0x70c8, 0x0, 0x0);
        gbc.writeMem(0xac9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x261d);
        EXPECT(gbc.pc(), 0xaca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0223
        gbc.setState(0xd93e, 0x8ee5, 0x83f0, 0x70ce, 0xfd5b, 0x418e, 0x0, 0x0);
        gbc.writeMem(0xd93e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8ee5);
        EXPECT(gbc.pc(), 0xd93f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd93e), 0x7);
        // 07 0224
        gbc.setState(0x5a49, 0xf644, 0xe2c0, 0xdb6b, 0xad2e, 0xfee0, 0x1, 0x1);
        gbc.writeMem(0x5a49, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xf644);
        EXPECT(gbc.pc(), 0x5a4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0225
        gbc.setState(0xa66d, 0xdbe7, 0x7570, 0x25f8, 0xf507, 0xedf1, 0x0, 0x1);
        gbc.writeMem(0xa66d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xdbe7);
        EXPECT(gbc.pc(), 0xa66e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa66d), 0x7);
        // 07 0226
        gbc.setState(0x3f2b, 0xf7c7, 0xae0, 0x9af3, 0xdc5d, 0xf214, 0x1, 0x0);
        gbc.writeMem(0x3f2b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf7c7);
        EXPECT(gbc.pc(), 0x3f2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0228
        gbc.setState(0xb978, 0xff97, 0xa830, 0xa0a9, 0xbb79, 0x82dc, 0x0, 0x1);
        gbc.writeMem(0xb978, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xff97);
        EXPECT(gbc.pc(), 0xb979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb978), 0x7);
        // 07 0229
        gbc.setState(0xbfb9, 0x70bc, 0x8f10, 0xca24, 0x366d, 0xd938, 0x0, 0x1);
        gbc.writeMem(0xbfb9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x70bc);
        EXPECT(gbc.pc(), 0xbfba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfb9), 0x7);
        // 07 022A
        gbc.setState(0xdbab, 0xfcdf, 0x5d60, 0xac4e, 0x442c, 0xce9d, 0x0, 0x1);
        gbc.writeMem(0xdbab, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xfcdf);
        EXPECT(gbc.pc(), 0xdbac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbab), 0x7);
        // 07 022B
        gbc.setState(0xd9f3, 0x61db, 0x9860, 0xaaed, 0xf1c0, 0x3188, 0x1, 0x1);
        gbc.writeMem(0xd9f3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x61db);
        EXPECT(gbc.pc(), 0xd9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f3), 0x7);
        // 07 022D
        gbc.setState(0xd0ac, 0x9f6c, 0xeb30, 0x9eb7, 0x4fdc, 0x8ae6, 0x1, 0x1);
        gbc.writeMem(0xd0ac, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x9f6c);
        EXPECT(gbc.pc(), 0xd0ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ac), 0x7);
        // 07 022E
        gbc.setState(0x9c8c, 0xdb4a, 0x7f80, 0x9d51, 0x68f, 0x8e9c, 0x1, 0x0);
        gbc.writeMem(0x9c8c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdb4a);
        EXPECT(gbc.pc(), 0x9c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c8c), 0x7);
        // 07 022F
        gbc.setState(0x1b0, 0x99c6, 0xd3e0, 0x5cca, 0xf521, 0x1425, 0x0, 0x1);
        gbc.writeMem(0x1b0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x99c6);
        EXPECT(gbc.pc(), 0x1b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0230
        gbc.setState(0x43d2, 0xc734, 0x59e0, 0xcf3c, 0xfde5, 0x814c, 0x0, 0x1);
        gbc.writeMem(0x43d2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc734);
        EXPECT(gbc.pc(), 0x43d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0231
        gbc.setState(0xa88e, 0x14df, 0x8d30, 0x89aa, 0x137a, 0x6671, 0x0, 0x1);
        gbc.writeMem(0xa88e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x14df);
        EXPECT(gbc.pc(), 0xa88f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa88e), 0x7);
        // 07 0232
        gbc.setState(0x5e7b, 0x19cb, 0xc2d0, 0xdd36, 0x83ef, 0x288d, 0x1, 0x0);
        gbc.writeMem(0x5e7b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x19cb);
        EXPECT(gbc.pc(), 0x5e7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0233
        gbc.setState(0x7e22, 0x530a, 0x1d40, 0xb253, 0xa216, 0xd4a0, 0x0, 0x0);
        gbc.writeMem(0x7e22, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x530a);
        EXPECT(gbc.pc(), 0x7e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0234
        gbc.setState(0xb51a, 0x5c62, 0xb7a0, 0x58e, 0x5c98, 0xc3d5, 0x0, 0x0);
        gbc.writeMem(0xb51a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5c62);
        EXPECT(gbc.pc(), 0xb51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb51a), 0x7);
        // 07 0235
        gbc.setState(0x365d, 0x79fc, 0xae20, 0x689d, 0x125f, 0x6b02, 0x1, 0x0);
        gbc.writeMem(0x365d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x79fc);
        EXPECT(gbc.pc(), 0x365e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0236
        gbc.setState(0xa309, 0x3984, 0x3350, 0xab83, 0x9008, 0x9ef8, 0x1, 0x1);
        gbc.writeMem(0xa309, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x3984);
        EXPECT(gbc.pc(), 0xa30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa309), 0x7);
        // 07 0237
        gbc.setState(0x4cc7, 0xa6a9, 0x17c0, 0x34ed, 0x3059, 0x19b, 0x1, 0x0);
        gbc.writeMem(0x4cc7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa6a9);
        EXPECT(gbc.pc(), 0x4cc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0238
        gbc.setState(0x4cb0, 0xc372, 0x47e0, 0xa312, 0x845c, 0xaada, 0x0, 0x1);
        gbc.writeMem(0x4cb0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc372);
        EXPECT(gbc.pc(), 0x4cb1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0239
        gbc.setState(0x4fd1, 0xaf46, 0x9760, 0xa399, 0xf525, 0xa6a1, 0x0, 0x0);
        gbc.writeMem(0x4fd1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xaf46);
        EXPECT(gbc.pc(), 0x4fd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 023A
        gbc.setState(0xa851, 0x7058, 0x8da0, 0xdc51, 0x7c9e, 0x7b27, 0x1, 0x1);
        gbc.writeMem(0xa851, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x7058);
        EXPECT(gbc.pc(), 0xa852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa851), 0x7);
        // 07 023B
        gbc.setState(0x11bc, 0x221b, 0xe230, 0xc9f6, 0xb20, 0xba0b, 0x0, 0x1);
        gbc.writeMem(0x11bc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x221b);
        EXPECT(gbc.pc(), 0x11bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 023C
        gbc.setState(0xcbb8, 0x88ed, 0x3180, 0x1d3d, 0x2cbb, 0xb66d, 0x1, 0x1);
        gbc.writeMem(0xcbb8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x88ed);
        EXPECT(gbc.pc(), 0xcbb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbb8), 0x7);
        // 07 023D
        gbc.setState(0x1db7, 0xcf0a, 0xab80, 0xe340, 0x10bf, 0xbf68, 0x0, 0x0);
        gbc.writeMem(0x1db7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xcf0a);
        EXPECT(gbc.pc(), 0x1db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 023E
        gbc.setState(0x344d, 0x8166, 0xf1d0, 0x4d1a, 0x3dba, 0x912d, 0x1, 0x0);
        gbc.writeMem(0x344d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x8166);
        EXPECT(gbc.pc(), 0x344e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 023F
        gbc.setState(0xe2b, 0xe16f, 0xec00, 0x3e21, 0x5472, 0xbaff, 0x0, 0x1);
        gbc.writeMem(0xe2b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe16f);
        EXPECT(gbc.pc(), 0xe2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0240
        gbc.setState(0x545a, 0xf6b2, 0x4000, 0xd884, 0xef8a, 0x13ae, 0x1, 0x0);
        gbc.writeMem(0x545a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf6b2);
        EXPECT(gbc.pc(), 0x545b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0241
        gbc.setState(0xec15, 0x9292, 0x3d80, 0xcecb, 0x3e2e, 0xf6f7, 0x1, 0x0);
        gbc.writeMem(0xec15, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9292);
        EXPECT(gbc.pc(), 0xec16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec15), 0x7);
        // 07 0242
        gbc.setState(0x1fc6, 0x44d6, 0xe500, 0xa156, 0x3728, 0xd85d, 0x1, 0x1);
        gbc.writeMem(0x1fc6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x44d6);
        EXPECT(gbc.pc(), 0x1fc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0243
        gbc.setState(0xf23, 0x88f4, 0xa50, 0x7e99, 0xec62, 0xc4d8, 0x0, 0x0);
        gbc.writeMem(0xf23, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x88f4);
        EXPECT(gbc.pc(), 0xf24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0244
        gbc.setState(0x971f, 0xbaae, 0x9be0, 0xacb9, 0x5139, 0x36f2, 0x1, 0x1);
        gbc.writeMem(0x971f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xbaae);
        EXPECT(gbc.pc(), 0x9720);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x971f), 0x7);
        // 07 0245
        gbc.setState(0x40a6, 0x2ee9, 0x7370, 0x4509, 0x2df1, 0xf212, 0x0, 0x0);
        gbc.writeMem(0x40a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2ee9);
        EXPECT(gbc.pc(), 0x40a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0246
        gbc.setState(0xb8c4, 0x56ce, 0x98c0, 0x877, 0x4660, 0x590e, 0x0, 0x0);
        gbc.writeMem(0xb8c4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x56ce);
        EXPECT(gbc.pc(), 0xb8c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8c4), 0x7);
        // 07 0247
        gbc.setState(0x67a, 0x5fd7, 0xc570, 0x2c04, 0x478c, 0xa014, 0x1, 0x0);
        gbc.writeMem(0x67a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5fd7);
        EXPECT(gbc.pc(), 0x67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0248
        gbc.setState(0x2530, 0xba9a, 0x57e0, 0xd028, 0xc665, 0xbd5a, 0x1, 0x0);
        gbc.writeMem(0x2530, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xba9a);
        EXPECT(gbc.pc(), 0x2531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0249
        gbc.setState(0x6b29, 0x9c5a, 0x5600, 0x914a, 0xaf35, 0x2f31, 0x0, 0x0);
        gbc.writeMem(0x6b29, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9c5a);
        EXPECT(gbc.pc(), 0x6b2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 024A
        gbc.setState(0xcfa, 0xa2ab, 0x7400, 0x5cf6, 0xf6c6, 0xc8b, 0x1, 0x1);
        gbc.writeMem(0xcfa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa2ab);
        EXPECT(gbc.pc(), 0xcfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 024B
        gbc.setState(0x6906, 0x16a2, 0x3cd0, 0xdbf8, 0xdb12, 0x3bf7, 0x0, 0x0);
        gbc.writeMem(0x6906, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x16a2);
        EXPECT(gbc.pc(), 0x6907);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 024C
        gbc.setState(0x4b02, 0x3b6f, 0x9860, 0xe724, 0x61ca, 0xd028, 0x1, 0x0);
        gbc.writeMem(0x4b02, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3b6f);
        EXPECT(gbc.pc(), 0x4b03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 024D
        gbc.setState(0xa993, 0x8986, 0x1610, 0x42c4, 0x349c, 0x55c6, 0x1, 0x1);
        gbc.writeMem(0xa993, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8986);
        EXPECT(gbc.pc(), 0xa994);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa993), 0x7);
        // 07 024E
        gbc.setState(0x1762, 0x3464, 0xe870, 0x1b58, 0x7d84, 0x7357, 0x1, 0x0);
        gbc.writeMem(0x1762, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x3464);
        EXPECT(gbc.pc(), 0x1763);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 024F
        gbc.setState(0xb924, 0x50fc, 0x75b0, 0x140, 0x1a72, 0x3269, 0x1, 0x1);
        gbc.writeMem(0xb924, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x50fc);
        EXPECT(gbc.pc(), 0xb925);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb924), 0x7);
        // 07 0250
        gbc.setState(0x4688, 0x2363, 0xd200, 0xc37a, 0x5b18, 0xe9c7, 0x0, 0x0);
        gbc.writeMem(0x4688, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x2363);
        EXPECT(gbc.pc(), 0x4689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0251
        gbc.setState(0xb1de, 0xa620, 0x7790, 0x5874, 0xc2b6, 0xb590, 0x1, 0x1);
        gbc.writeMem(0xb1de, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa620);
        EXPECT(gbc.pc(), 0xb1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1de), 0x7);
        // 07 0252
        gbc.setState(0xd216, 0x4d93, 0x1280, 0xba16, 0xc2a7, 0xa214, 0x1, 0x0);
        gbc.writeMem(0xd216, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x4d93);
        EXPECT(gbc.pc(), 0xd217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd216), 0x7);
        // 07 0253
        gbc.setState(0x13fe, 0xd75d, 0x7b50, 0xf56e, 0xb250, 0x34e, 0x1, 0x0);
        gbc.writeMem(0x13fe, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xd75d);
        EXPECT(gbc.pc(), 0x13ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0254
        gbc.setState(0x2b35, 0x2f60, 0x7800, 0x59a1, 0xf98a, 0xae2f, 0x1, 0x1);
        gbc.writeMem(0x2b35, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2f60);
        EXPECT(gbc.pc(), 0x2b36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0255
        gbc.setState(0xdab2, 0x9e30, 0xe190, 0x91ae, 0x962, 0x58f7, 0x1, 0x0);
        gbc.writeMem(0xdab2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9e30);
        EXPECT(gbc.pc(), 0xdab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdab2), 0x7);
        // 07 0256
        gbc.setState(0x4c67, 0xa833, 0xcad0, 0x627b, 0xabe9, 0x4477, 0x0, 0x0);
        gbc.writeMem(0x4c67, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa833);
        EXPECT(gbc.pc(), 0x4c68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0257
        gbc.setState(0x1d87, 0xda72, 0xa080, 0xbcb0, 0x5cb, 0x19dc, 0x0, 0x1);
        gbc.writeMem(0x1d87, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xda72);
        EXPECT(gbc.pc(), 0x1d88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0258
        gbc.setState(0x879d, 0x3393, 0xc2d0, 0x7cdc, 0x5407, 0x46bd, 0x1, 0x0);
        gbc.writeMem(0x879d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3393);
        EXPECT(gbc.pc(), 0x879e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x879d), 0x7);
        // 07 0259
        gbc.setState(0x2192, 0xc0d1, 0x57a0, 0xaf7a, 0x4847, 0x4eb, 0x1, 0x0);
        gbc.writeMem(0x2192, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xc0d1);
        EXPECT(gbc.pc(), 0x2193);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 025A
        gbc.setState(0x6e3f, 0x663e, 0xd3b0, 0x4ac4, 0xb01f, 0x5682, 0x1, 0x0);
        gbc.writeMem(0x6e3f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x663e);
        EXPECT(gbc.pc(), 0x6e40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 025B
        gbc.setState(0x6ae5, 0x7ebe, 0x26c0, 0x5acc, 0x8034, 0xad6f, 0x0, 0x0);
        gbc.writeMem(0x6ae5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7ebe);
        EXPECT(gbc.pc(), 0x6ae6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 025C
        gbc.setState(0x70fb, 0xb90d, 0xb6c0, 0x752b, 0xb06b, 0x2f3e, 0x0, 0x1);
        gbc.writeMem(0x70fb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xb90d);
        EXPECT(gbc.pc(), 0x70fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 025D
        gbc.setState(0x574e, 0x1dbc, 0x7bf0, 0xd3ff, 0x6859, 0xa33e, 0x0, 0x0);
        gbc.writeMem(0x574e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1dbc);
        EXPECT(gbc.pc(), 0x574f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 025E
        gbc.setState(0x8fbf, 0x53bc, 0xf750, 0x1524, 0x97f9, 0x45c3, 0x1, 0x0);
        gbc.writeMem(0x8fbf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x53bc);
        EXPECT(gbc.pc(), 0x8fc0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fbf), 0x7);
        // 07 025F
        gbc.setState(0x68b8, 0x6c3c, 0x7ea0, 0x2201, 0x1bb0, 0x2c9, 0x0, 0x1);
        gbc.writeMem(0x68b8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x6c3c);
        EXPECT(gbc.pc(), 0x68b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0260
        gbc.setState(0x9b7c, 0x130f, 0xecf0, 0x272c, 0xf30e, 0x9814, 0x1, 0x0);
        gbc.writeMem(0x9b7c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x130f);
        EXPECT(gbc.pc(), 0x9b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7c), 0x7);
        // 07 0261
        gbc.setState(0xe92b, 0x2a15, 0xf420, 0x1bff, 0x904c, 0xc053, 0x1, 0x1);
        gbc.writeMem(0xe92b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2a15);
        EXPECT(gbc.pc(), 0xe92c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe92b), 0x7);
        // 07 0262
        gbc.setState(0xc577, 0x7443, 0x39b0, 0xb5e9, 0xc693, 0xc7a7, 0x0, 0x1);
        gbc.writeMem(0xc577, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7443);
        EXPECT(gbc.pc(), 0xc578);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc577), 0x7);
        // 07 0263
        gbc.setState(0x3141, 0xfea5, 0xed10, 0xbf1d, 0xcae1, 0x4b1a, 0x1, 0x0);
        gbc.writeMem(0x3141, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfea5);
        EXPECT(gbc.pc(), 0x3142);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0265
        gbc.setState(0x65a0, 0x81fc, 0x280, 0x4883, 0xca52, 0x1d51, 0x0, 0x0);
        gbc.writeMem(0x65a0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x81fc);
        EXPECT(gbc.pc(), 0x65a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0266
        gbc.setState(0x609c, 0xd43d, 0x1130, 0x82ba, 0x4087, 0x998f, 0x1, 0x1);
        gbc.writeMem(0x609c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd43d);
        EXPECT(gbc.pc(), 0x609d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0267
        gbc.setState(0x5f18, 0x1838, 0x5f70, 0x1d7d, 0xff7c, 0x9753, 0x1, 0x0);
        gbc.writeMem(0x5f18, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x1838);
        EXPECT(gbc.pc(), 0x5f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0268
        gbc.setState(0x6e3a, 0xd1c, 0x5240, 0xaf35, 0x5a40, 0x180c, 0x1, 0x0);
        gbc.writeMem(0x6e3a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd1c);
        EXPECT(gbc.pc(), 0x6e3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0269
        gbc.setState(0x5a21, 0x4317, 0x9120, 0xf9a4, 0x895a, 0x3087, 0x0, 0x0);
        gbc.writeMem(0x5a21, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x4317);
        EXPECT(gbc.pc(), 0x5a22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 026A
        gbc.setState(0x5208, 0xace6, 0x9b20, 0xe222, 0x5d3d, 0xbc74, 0x0, 0x0);
        gbc.writeMem(0x5208, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xace6);
        EXPECT(gbc.pc(), 0x5209);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 026B
        gbc.setState(0x9909, 0x8f76, 0x8010, 0x8bd7, 0xc0f8, 0x1ac2, 0x1, 0x0);
        gbc.writeMem(0x9909, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8f76);
        EXPECT(gbc.pc(), 0x990a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9909), 0x7);
        // 07 026C
        gbc.setState(0xa9f3, 0xa318, 0xa520, 0x272f, 0x1db8, 0x97e, 0x1, 0x0);
        gbc.writeMem(0xa9f3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa318);
        EXPECT(gbc.pc(), 0xa9f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f3), 0x7);
        // 07 026D
        gbc.setState(0x983f, 0x3a8a, 0x2820, 0x2688, 0x51b8, 0xf90d, 0x0, 0x0);
        gbc.writeMem(0x983f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3a8a);
        EXPECT(gbc.pc(), 0x9840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x983f), 0x7);
        // 07 026E
        gbc.setState(0x1746, 0xe6cd, 0xe1d0, 0xa439, 0x9e7c, 0xa700, 0x0, 0x1);
        gbc.writeMem(0x1746, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe6cd);
        EXPECT(gbc.pc(), 0x1747);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 026F
        gbc.setState(0xbfcc, 0xcaef, 0xabd0, 0x9c29, 0x1c86, 0xda5c, 0x0, 0x0);
        gbc.writeMem(0xbfcc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xcaef);
        EXPECT(gbc.pc(), 0xbfcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfcc), 0x7);
        // 07 0270
        gbc.setState(0xc097, 0x7536, 0x6760, 0x8c50, 0xb37d, 0x4eca, 0x0, 0x1);
        gbc.writeMem(0xc097, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7536);
        EXPECT(gbc.pc(), 0xc098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc097), 0x7);
        // 07 0271
        gbc.setState(0xae24, 0x5b8f, 0x8440, 0x8a84, 0x41b9, 0xeea7, 0x0, 0x1);
        gbc.writeMem(0xae24, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x5b8f);
        EXPECT(gbc.pc(), 0xae25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae24), 0x7);
        // 07 0272
        gbc.setState(0xc04d, 0x6c67, 0x2530, 0xdebe, 0x5912, 0x9843, 0x1, 0x1);
        gbc.writeMem(0xc04d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x6c67);
        EXPECT(gbc.pc(), 0xc04e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc04d), 0x7);
        // 07 0273
        gbc.setState(0x9a39, 0x97ef, 0x50f0, 0x4b4, 0x1fef, 0x5a67, 0x1, 0x0);
        gbc.writeMem(0x9a39, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x97ef);
        EXPECT(gbc.pc(), 0x9a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a39), 0x7);
        // 07 0274
        gbc.setState(0x96a2, 0xcb2a, 0xaa20, 0xc768, 0x4ab3, 0x969b, 0x0, 0x1);
        gbc.writeMem(0x96a2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcb2a);
        EXPECT(gbc.pc(), 0x96a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96a2), 0x7);
        // 07 0275
        gbc.setState(0x18c6, 0xe540, 0x5bb0, 0x1a84, 0xb144, 0xf491, 0x0, 0x1);
        gbc.writeMem(0x18c6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xe540);
        EXPECT(gbc.pc(), 0x18c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0276
        gbc.setState(0xcf76, 0xce87, 0x8730, 0xf9b7, 0xe75, 0x945, 0x0, 0x0);
        gbc.writeMem(0xcf76, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xce87);
        EXPECT(gbc.pc(), 0xcf77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf76), 0x7);
        // 07 0278
        gbc.setState(0x8133, 0xfa4e, 0xe100, 0x164e, 0x315, 0xca2, 0x1, 0x1);
        gbc.writeMem(0x8133, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xfa4e);
        EXPECT(gbc.pc(), 0x8134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8133), 0x7);
        // 07 0279
        gbc.setState(0x5ae3, 0xb0e6, 0x8720, 0xb9b9, 0xcc1c, 0x4fbb, 0x0, 0x1);
        gbc.writeMem(0x5ae3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb0e6);
        EXPECT(gbc.pc(), 0x5ae4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027A
        gbc.setState(0x5040, 0x8bb, 0x8890, 0xe51a, 0xaf8e, 0x5914, 0x0, 0x0);
        gbc.writeMem(0x5040, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8bb);
        EXPECT(gbc.pc(), 0x5041);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027B
        gbc.setState(0x4e6f, 0xcac1, 0xd8e0, 0x5c5d, 0xb102, 0xf306, 0x0, 0x0);
        gbc.writeMem(0x4e6f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcac1);
        EXPECT(gbc.pc(), 0x4e70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027C
        gbc.setState(0x4703, 0x288e, 0xc4b0, 0x1ab, 0xd6b5, 0xb0, 0x1, 0x1);
        gbc.writeMem(0x4703, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x288e);
        EXPECT(gbc.pc(), 0x4704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027D
        gbc.setState(0x4468, 0x6445, 0xcbe0, 0xe0b2, 0x7e40, 0xecc2, 0x1, 0x0);
        gbc.writeMem(0x4468, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6445);
        EXPECT(gbc.pc(), 0x4469);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027E
        gbc.setState(0x798c, 0x9a8e, 0x91a0, 0x8416, 0xec8e, 0xd13b, 0x1, 0x1);
        gbc.writeMem(0x798c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x9a8e);
        EXPECT(gbc.pc(), 0x798d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 027F
        gbc.setState(0x912, 0xc4a0, 0xd500, 0x8b2, 0x368, 0xa5cf, 0x0, 0x1);
        gbc.writeMem(0x912, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xc4a0);
        EXPECT(gbc.pc(), 0x913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0280
        gbc.setState(0xaa5d, 0x4abe, 0xc770, 0x35bd, 0x5af6, 0xa0f5, 0x0, 0x1);
        gbc.writeMem(0xaa5d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4abe);
        EXPECT(gbc.pc(), 0xaa5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa5d), 0x7);
        // 07 0281
        gbc.setState(0xb77c, 0xce60, 0x3ed0, 0x526c, 0x872d, 0xdc60, 0x1, 0x0);
        gbc.writeMem(0xb77c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xce60);
        EXPECT(gbc.pc(), 0xb77d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb77c), 0x7);
        // 07 0282
        gbc.setState(0x61b4, 0x7e09, 0x7fa0, 0xc0a8, 0x3ab3, 0xd153, 0x1, 0x1);
        gbc.writeMem(0x61b4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7e09);
        EXPECT(gbc.pc(), 0x61b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0283
        gbc.setState(0x5dfa, 0xfa65, 0x630, 0x420d, 0x7c09, 0x8acd, 0x0, 0x1);
        gbc.writeMem(0x5dfa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xfa65);
        EXPECT(gbc.pc(), 0x5dfb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0284
        gbc.setState(0x565c, 0xa9d, 0xe60, 0x87e1, 0xcf1e, 0x8db7, 0x0, 0x0);
        gbc.writeMem(0x565c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa9d);
        EXPECT(gbc.pc(), 0x565d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0285
        gbc.setState(0x17ad, 0x7064, 0x22b0, 0x648c, 0x79e8, 0x762e, 0x0, 0x1);
        gbc.writeMem(0x17ad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7064);
        EXPECT(gbc.pc(), 0x17ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0287
        gbc.setState(0x3783, 0xa0b7, 0x57a0, 0xdde, 0xf4a9, 0x6117, 0x1, 0x0);
        gbc.writeMem(0x3783, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa0b7);
        EXPECT(gbc.pc(), 0x3784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0288
        gbc.setState(0x22f8, 0xf8b0, 0x20, 0xc49c, 0x9e5d, 0x847e, 0x1, 0x0);
        gbc.writeMem(0x22f8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf8b0);
        EXPECT(gbc.pc(), 0x22f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0289
        gbc.setState(0x2666, 0x87c0, 0x6e30, 0x754, 0x5e79, 0x4f91, 0x1, 0x1);
        gbc.writeMem(0x2666, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x87c0);
        EXPECT(gbc.pc(), 0x2667);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 028A
        gbc.setState(0x509c, 0x84b8, 0x370, 0x478c, 0x73c3, 0x95c, 0x0, 0x0);
        gbc.writeMem(0x509c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x84b8);
        EXPECT(gbc.pc(), 0x509d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 028B
        gbc.setState(0xda08, 0xe126, 0x15d0, 0x9e7a, 0x1194, 0x267d, 0x0, 0x1);
        gbc.writeMem(0xda08, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe126);
        EXPECT(gbc.pc(), 0xda09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda08), 0x7);
        // 07 028C
        gbc.setState(0x6b09, 0xd176, 0x2700, 0x245b, 0x1ace, 0x90c0, 0x0, 0x1);
        gbc.writeMem(0x6b09, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd176);
        EXPECT(gbc.pc(), 0x6b0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 028D
        gbc.setState(0x5f5b, 0xcbb0, 0x9f20, 0xd5e6, 0xda4a, 0xb2e5, 0x1, 0x0);
        gbc.writeMem(0x5f5b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xcbb0);
        EXPECT(gbc.pc(), 0x5f5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 028E
        gbc.setState(0x8a63, 0x5add, 0x8d60, 0x8bd3, 0xfa81, 0x7d24, 0x1, 0x0);
        gbc.writeMem(0x8a63, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5add);
        EXPECT(gbc.pc(), 0x8a64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a63), 0x7);
        // 07 028F
        gbc.setState(0x896, 0x1050, 0xded0, 0x4541, 0xea49, 0x749b, 0x1, 0x0);
        gbc.writeMem(0x896, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1050);
        EXPECT(gbc.pc(), 0x897);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0290
        gbc.setState(0xc35, 0x1771, 0xeef0, 0x29ae, 0x7547, 0xf761, 0x1, 0x0);
        gbc.writeMem(0xc35, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1771);
        EXPECT(gbc.pc(), 0xc36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0291
        gbc.setState(0x21ea, 0xbead, 0x43d0, 0xb09b, 0x3a5b, 0xb73f, 0x0, 0x0);
        gbc.writeMem(0x21ea, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbead);
        EXPECT(gbc.pc(), 0x21eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0292
        gbc.setState(0xe9cf, 0x2b0a, 0xe860, 0x78d4, 0x82c6, 0xa83, 0x0, 0x1);
        gbc.writeMem(0xe9cf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2b0a);
        EXPECT(gbc.pc(), 0xe9d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9cf), 0x7);
        // 07 0293
        gbc.setState(0xa185, 0x3f63, 0xc530, 0xaa22, 0x999c, 0xf0f9, 0x0, 0x1);
        gbc.writeMem(0xa185, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3f63);
        EXPECT(gbc.pc(), 0xa186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa185), 0x7);
        // 07 0294
        gbc.setState(0x5303, 0x40ab, 0xd0c0, 0xbec, 0x524d, 0x4bf1, 0x0, 0x1);
        gbc.writeMem(0x5303, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x40ab);
        EXPECT(gbc.pc(), 0x5304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0295
        gbc.setState(0x76e5, 0xa315, 0x42f0, 0xcfae, 0x406c, 0xdd0e, 0x1, 0x0);
        gbc.writeMem(0x76e5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa315);
        EXPECT(gbc.pc(), 0x76e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0296
        gbc.setState(0x8c21, 0x96bb, 0x46f0, 0x5a87, 0xf0b0, 0x3a3d, 0x0, 0x1);
        gbc.writeMem(0x8c21, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x96bb);
        EXPECT(gbc.pc(), 0x8c22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c21), 0x7);
        // 07 0297
        gbc.setState(0xb00, 0x675b, 0x1a60, 0xc466, 0x6318, 0xb26c, 0x0, 0x1);
        gbc.writeMem(0xb00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x675b);
        EXPECT(gbc.pc(), 0xb01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0298
        gbc.setState(0xd0ed, 0x7877, 0xd6c0, 0x7f18, 0xfd99, 0xcda3, 0x0, 0x0);
        gbc.writeMem(0xd0ed, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7877);
        EXPECT(gbc.pc(), 0xd0ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ed), 0x7);
        // 07 0299
        gbc.setState(0x2cfa, 0xcd01, 0xa80, 0x2626, 0xd3b4, 0xec4c, 0x1, 0x1);
        gbc.writeMem(0x2cfa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcd01);
        EXPECT(gbc.pc(), 0x2cfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 029A
        gbc.setState(0x5cfd, 0x6773, 0x80f0, 0xc001, 0x8c92, 0x537e, 0x0, 0x1);
        gbc.writeMem(0x5cfd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6773);
        EXPECT(gbc.pc(), 0x5cfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 029B
        gbc.setState(0x1518, 0x5f8f, 0xbb00, 0x5c57, 0x1143, 0x9063, 0x1, 0x0);
        gbc.writeMem(0x1518, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x5f8f);
        EXPECT(gbc.pc(), 0x1519);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 029C
        gbc.setState(0xe715, 0x8aeb, 0x7650, 0xc80f, 0xbfe5, 0x7ff5, 0x0, 0x0);
        gbc.writeMem(0xe715, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8aeb);
        EXPECT(gbc.pc(), 0xe716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe715), 0x7);
        // 07 029D
        gbc.setState(0x7907, 0x7a9c, 0xe840, 0x6c75, 0x4a1, 0x9ebc, 0x1, 0x1);
        gbc.writeMem(0x7907, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7a9c);
        EXPECT(gbc.pc(), 0x7908);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 029E
        gbc.setState(0x47d8, 0xabf8, 0x91a0, 0x4253, 0x4cb0, 0xb81e, 0x1, 0x1);
        gbc.writeMem(0x47d8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xabf8);
        EXPECT(gbc.pc(), 0x47d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 029F
        gbc.setState(0x73c, 0xe1ad, 0x64a0, 0x4388, 0x4ac5, 0x593f, 0x0, 0x0);
        gbc.writeMem(0x73c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe1ad);
        EXPECT(gbc.pc(), 0x73d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02A0
        gbc.setState(0xda43, 0xd388, 0xe860, 0x5e26, 0xcc90, 0x4722, 0x0, 0x1);
        gbc.writeMem(0xda43, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd388);
        EXPECT(gbc.pc(), 0xda44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda43), 0x7);
        // 07 02A1
        gbc.setState(0x6d1, 0x79f9, 0xef10, 0x25f4, 0xc1e4, 0x4155, 0x1, 0x1);
        gbc.writeMem(0x6d1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x79f9);
        EXPECT(gbc.pc(), 0x6d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02A2
        gbc.setState(0xbf68, 0xa19a, 0x8770, 0x6c95, 0xf6a8, 0x3ea1, 0x0, 0x0);
        gbc.writeMem(0xbf68, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa19a);
        EXPECT(gbc.pc(), 0xbf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf68), 0x7);
        // 07 02A3
        gbc.setState(0xb782, 0x8d1b, 0x75d0, 0x695d, 0x22a9, 0x5281, 0x0, 0x1);
        gbc.writeMem(0xb782, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x8d1b);
        EXPECT(gbc.pc(), 0xb783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb782), 0x7);
        // 07 02A4
        gbc.setState(0x2f73, 0x8075, 0xdaa0, 0xb222, 0x5a87, 0x77d3, 0x0, 0x0);
        gbc.writeMem(0x2f73, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x8075);
        EXPECT(gbc.pc(), 0x2f74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02A5
        gbc.setState(0xd26c, 0xb607, 0xdbf0, 0x6053, 0x1379, 0x4d51, 0x1, 0x1);
        gbc.writeMem(0xd26c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xb607);
        EXPECT(gbc.pc(), 0xd26d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd26c), 0x7);
        // 07 02A6
        gbc.setState(0x52ec, 0xa120, 0x7610, 0x36ef, 0xe64f, 0x5e6a, 0x0, 0x0);
        gbc.writeMem(0x52ec, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa120);
        EXPECT(gbc.pc(), 0x52ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02A7
        gbc.setState(0xae00, 0xa07, 0xdc90, 0x3000, 0x9ce2, 0x646c, 0x0, 0x1);
        gbc.writeMem(0xae00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa07);
        EXPECT(gbc.pc(), 0xae01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae00), 0x7);
        // 07 02A8
        gbc.setState(0x3f87, 0x7ed4, 0x48c0, 0x87e5, 0x134e, 0xa25f, 0x1, 0x0);
        gbc.writeMem(0x3f87, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7ed4);
        EXPECT(gbc.pc(), 0x3f88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02A9
        gbc.setState(0x625f, 0x8831, 0x60e0, 0x6a43, 0x3bbf, 0x720c, 0x1, 0x0);
        gbc.writeMem(0x625f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x8831);
        EXPECT(gbc.pc(), 0x6260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02AA
        gbc.setState(0x41e4, 0x46a0, 0x2de0, 0xc40b, 0xfaac, 0xe547, 0x0, 0x1);
        gbc.writeMem(0x41e4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x46a0);
        EXPECT(gbc.pc(), 0x41e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02AB
        gbc.setState(0x7e1c, 0x9e7a, 0xe270, 0xcc0c, 0xddb3, 0x970c, 0x1, 0x0);
        gbc.writeMem(0x7e1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x9e7a);
        EXPECT(gbc.pc(), 0x7e1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02AD
        gbc.setState(0xd9dd, 0x4919, 0x6910, 0x2d96, 0xd6c2, 0x6207, 0x0, 0x1);
        gbc.writeMem(0xd9dd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4919);
        EXPECT(gbc.pc(), 0xd9de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9dd), 0x7);
        // 07 02AE
        gbc.setState(0x25c3, 0xde9e, 0xdff0, 0x3ab5, 0x83b2, 0xe0fb, 0x0, 0x1);
        gbc.writeMem(0x25c3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xde9e);
        EXPECT(gbc.pc(), 0x25c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02AF
        gbc.setState(0x171a, 0xabee, 0xc340, 0xa0f7, 0xad1f, 0x77bf, 0x0, 0x0);
        gbc.writeMem(0x171a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xabee);
        EXPECT(gbc.pc(), 0x171b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02B0
        gbc.setState(0x297, 0x2c86, 0x29c0, 0xaa1c, 0xbc4a, 0x368a, 0x0, 0x1);
        gbc.writeMem(0x297, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x2c86);
        EXPECT(gbc.pc(), 0x298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02B1
        gbc.setState(0x6185, 0x29aa, 0xdc50, 0xe0b0, 0x7696, 0x8501, 0x1, 0x1);
        gbc.writeMem(0x6185, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x29aa);
        EXPECT(gbc.pc(), 0x6186);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02B2
        gbc.setState(0x55c, 0x3fd7, 0x2df0, 0x4b8e, 0x46f2, 0xeb06, 0x1, 0x0);
        gbc.writeMem(0x55c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3fd7);
        EXPECT(gbc.pc(), 0x55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02B3
        gbc.setState(0x10b8, 0x2f7e, 0xcf50, 0x34f3, 0x9e8d, 0xafb, 0x1, 0x0);
        gbc.writeMem(0x10b8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2f7e);
        EXPECT(gbc.pc(), 0x10b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02B4
        gbc.setState(0x39e3, 0x34e4, 0x5120, 0x2ab4, 0xa56d, 0x4e31, 0x0, 0x1);
        gbc.writeMem(0x39e3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x34e4);
        EXPECT(gbc.pc(), 0x39e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02B6
        gbc.setState(0x8d07, 0xa189, 0xe370, 0xa923, 0x5593, 0xb145, 0x1, 0x0);
        gbc.writeMem(0x8d07, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa189);
        EXPECT(gbc.pc(), 0x8d08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d07), 0x7);
        // 07 02B7
        gbc.setState(0xdcf1, 0x8d70, 0x2600, 0x64c8, 0x4e37, 0xba74, 0x0, 0x1);
        gbc.writeMem(0xdcf1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x8d70);
        EXPECT(gbc.pc(), 0xdcf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcf1), 0x7);
        // 07 02B8
        gbc.setState(0x4a92, 0x6ec3, 0x36b0, 0x6dee, 0xa079, 0xa501, 0x0, 0x1);
        gbc.writeMem(0x4a92, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6ec3);
        EXPECT(gbc.pc(), 0x4a93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02B9
        gbc.setState(0x527e, 0x6376, 0x7020, 0x23be, 0x1b87, 0x89e7, 0x0, 0x1);
        gbc.writeMem(0x527e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6376);
        EXPECT(gbc.pc(), 0x527f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02BA
        gbc.setState(0x3606, 0x3bd, 0x3080, 0x723c, 0x3fb0, 0x539a, 0x1, 0x1);
        gbc.writeMem(0x3606, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x3bd);
        EXPECT(gbc.pc(), 0x3607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02BB
        gbc.setState(0x87a0, 0xd7ab, 0x3050, 0x7bba, 0x6d6e, 0xd58f, 0x0, 0x0);
        gbc.writeMem(0x87a0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd7ab);
        EXPECT(gbc.pc(), 0x87a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a0), 0x7);
        // 07 02BC
        gbc.setState(0xd2a4, 0xa818, 0x11d0, 0xa216, 0x6384, 0x7747, 0x0, 0x1);
        gbc.writeMem(0xd2a4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa818);
        EXPECT(gbc.pc(), 0xd2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a4), 0x7);
        // 07 02BD
        gbc.setState(0xd81e, 0xe362, 0x18d0, 0xf73, 0xf33e, 0xd848, 0x0, 0x0);
        gbc.writeMem(0xd81e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xe362);
        EXPECT(gbc.pc(), 0xd81f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd81e), 0x7);
        // 07 02BE
        gbc.setState(0xb38e, 0xd085, 0xdfd0, 0x5ddc, 0x5006, 0x7418, 0x0, 0x0);
        gbc.writeMem(0xb38e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd085);
        EXPECT(gbc.pc(), 0xb38f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb38e), 0x7);
        // 07 02BF
        gbc.setState(0x94d3, 0x86ac, 0x6f70, 0x55d6, 0xa86a, 0xf8d9, 0x0, 0x1);
        gbc.writeMem(0x94d3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x86ac);
        EXPECT(gbc.pc(), 0x94d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d3), 0x7);
        // 07 02C0
        gbc.setState(0x8cab, 0x7c5d, 0x8800, 0x17fb, 0x448b, 0xbc31, 0x1, 0x0);
        gbc.writeMem(0x8cab, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7c5d);
        EXPECT(gbc.pc(), 0x8cac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cab), 0x7);
        // 07 02C1
        gbc.setState(0xb6e0, 0x75e7, 0x14f0, 0x638a, 0x71a1, 0x6e0, 0x1, 0x0);
        gbc.writeMem(0xb6e0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x75e7);
        EXPECT(gbc.pc(), 0xb6e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e0), 0x7);
        // 07 02C2
        gbc.setState(0x20d2, 0xd3a3, 0xe5c0, 0x95be, 0x3070, 0x3c6c, 0x0, 0x1);
        gbc.writeMem(0x20d2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd3a3);
        EXPECT(gbc.pc(), 0x20d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02C3
        gbc.setState(0xccf8, 0xda15, 0x9a80, 0xb280, 0x154b, 0xd082, 0x0, 0x0);
        gbc.writeMem(0xccf8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xda15);
        EXPECT(gbc.pc(), 0xccf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccf8), 0x7);
        // 07 02C4
        gbc.setState(0x141c, 0x2963, 0x4320, 0x1eae, 0xfbe1, 0x57ca, 0x1, 0x0);
        gbc.writeMem(0x141c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2963);
        EXPECT(gbc.pc(), 0x141d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02C6
        gbc.setState(0x9b98, 0x3f82, 0x4a30, 0x9103, 0xb242, 0xe364, 0x1, 0x0);
        gbc.writeMem(0x9b98, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3f82);
        EXPECT(gbc.pc(), 0x9b99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b98), 0x7);
        // 07 02C7
        gbc.setState(0xb5d4, 0x152b, 0x7eb0, 0xcafd, 0xba65, 0xae7f, 0x0, 0x0);
        gbc.writeMem(0xb5d4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x152b);
        EXPECT(gbc.pc(), 0xb5d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5d4), 0x7);
        // 07 02C8
        gbc.setState(0x3059, 0x28fb, 0xdb20, 0x8d41, 0x42e9, 0xe5c, 0x1, 0x0);
        gbc.writeMem(0x3059, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x28fb);
        EXPECT(gbc.pc(), 0x305a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02C9
        gbc.setState(0xa3e5, 0xda58, 0x1c20, 0xd4d7, 0xd75c, 0xa047, 0x0, 0x0);
        gbc.writeMem(0xa3e5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xda58);
        EXPECT(gbc.pc(), 0xa3e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3e5), 0x7);
        // 07 02CB
        gbc.setState(0x6ab7, 0xbf4e, 0xe930, 0xa59e, 0x5032, 0x2f40, 0x1, 0x1);
        gbc.writeMem(0x6ab7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbf4e);
        EXPECT(gbc.pc(), 0x6ab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02CC
        gbc.setState(0xc434, 0x4243, 0xe1f0, 0xe83a, 0xd039, 0x489d, 0x0, 0x1);
        gbc.writeMem(0xc434, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4243);
        EXPECT(gbc.pc(), 0xc435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc434), 0x7);
        // 07 02CD
        gbc.setState(0xbe85, 0x9d35, 0x8ba0, 0x22bd, 0x9e90, 0x4642, 0x0, 0x1);
        gbc.writeMem(0xbe85, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9d35);
        EXPECT(gbc.pc(), 0xbe86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe85), 0x7);
        // 07 02CE
        gbc.setState(0x3711, 0xb122, 0xde50, 0x3bd2, 0xb0de, 0xc752, 0x1, 0x0);
        gbc.writeMem(0x3711, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb122);
        EXPECT(gbc.pc(), 0x3712);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02CF
        gbc.setState(0x91df, 0x177b, 0xa690, 0x1ee5, 0x488, 0x6b95, 0x0, 0x0);
        gbc.writeMem(0x91df, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x177b);
        EXPECT(gbc.pc(), 0x91e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91df), 0x7);
        // 07 02D0
        gbc.setState(0x3e24, 0x3435, 0x9980, 0xbd32, 0x2e62, 0x40d9, 0x0, 0x1);
        gbc.writeMem(0x3e24, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3435);
        EXPECT(gbc.pc(), 0x3e25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02D1
        gbc.setState(0x360c, 0x6700, 0xda60, 0x5985, 0x889, 0xcbba, 0x0, 0x0);
        gbc.writeMem(0x360c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6700);
        EXPECT(gbc.pc(), 0x360d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02D2
        gbc.setState(0xad1b, 0xaee5, 0x5600, 0x4b3e, 0x86a9, 0x5e43, 0x0, 0x1);
        gbc.writeMem(0xad1b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xaee5);
        EXPECT(gbc.pc(), 0xad1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad1b), 0x7);
        // 07 02D3
        gbc.setState(0x9876, 0x6a64, 0xc7f0, 0xe5d0, 0xf442, 0x2dcb, 0x1, 0x0);
        gbc.writeMem(0x9876, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6a64);
        EXPECT(gbc.pc(), 0x9877);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9876), 0x7);
        // 07 02D4
        gbc.setState(0x1ae2, 0xa468, 0xf4a0, 0x7c67, 0xfcb6, 0x8e7a, 0x1, 0x0);
        gbc.writeMem(0x1ae2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa468);
        EXPECT(gbc.pc(), 0x1ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02D6
        gbc.setState(0xea66, 0x7470, 0x7500, 0x6b53, 0xc5, 0x1da7, 0x1, 0x1);
        gbc.writeMem(0xea66, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7470);
        EXPECT(gbc.pc(), 0xea67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea66), 0x7);
        // 07 02D7
        gbc.setState(0x2687, 0xb931, 0x3370, 0x8f1b, 0xdcf4, 0x59c1, 0x1, 0x1);
        gbc.writeMem(0x2687, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb931);
        EXPECT(gbc.pc(), 0x2688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02D8
        gbc.setState(0x4541, 0x3c33, 0x38d0, 0x30e2, 0xcfd9, 0xa0c3, 0x1, 0x1);
        gbc.writeMem(0x4541, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3c33);
        EXPECT(gbc.pc(), 0x4542);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02D9
        gbc.setState(0x4548, 0x974b, 0x8940, 0x824f, 0x5208, 0x5c38, 0x0, 0x1);
        gbc.writeMem(0x4548, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x974b);
        EXPECT(gbc.pc(), 0x4549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02DA
        gbc.setState(0xc371, 0xa37e, 0xa1f0, 0xc06f, 0x2eff, 0xc76a, 0x0, 0x1);
        gbc.writeMem(0xc371, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa37e);
        EXPECT(gbc.pc(), 0xc372);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc371), 0x7);
        // 07 02DB
        gbc.setState(0xa49d, 0x8bb0, 0xb1a0, 0x6c59, 0x9dbb, 0x87f7, 0x0, 0x1);
        gbc.writeMem(0xa49d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8bb0);
        EXPECT(gbc.pc(), 0xa49e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa49d), 0x7);
        // 07 02DC
        gbc.setState(0x6c2f, 0x8d9a, 0x15b0, 0xc818, 0x7ac5, 0x67dc, 0x0, 0x1);
        gbc.writeMem(0x6c2f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8d9a);
        EXPECT(gbc.pc(), 0x6c30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02DE
        gbc.setState(0x15a2, 0x860b, 0xf650, 0x6191, 0x678d, 0x9c28, 0x0, 0x1);
        gbc.writeMem(0x15a2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x860b);
        EXPECT(gbc.pc(), 0x15a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02DF
        gbc.setState(0x676d, 0xbf48, 0x3850, 0xae40, 0xd0f0, 0x5b81, 0x1, 0x1);
        gbc.writeMem(0x676d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbf48);
        EXPECT(gbc.pc(), 0x676e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02E2
        gbc.setState(0x57ad, 0xbcd5, 0xd7e0, 0x52be, 0x28b2, 0x9da0, 0x0, 0x1);
        gbc.writeMem(0x57ad, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xbcd5);
        EXPECT(gbc.pc(), 0x57ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02E3
        gbc.setState(0x762f, 0x16f1, 0xdc50, 0x73b0, 0xfac9, 0xe8d3, 0x1, 0x1);
        gbc.writeMem(0x762f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x16f1);
        EXPECT(gbc.pc(), 0x7630);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02E4
        gbc.setState(0xbdf1, 0x6896, 0xf0b0, 0x314, 0x3aed, 0x8a52, 0x1, 0x1);
        gbc.writeMem(0xbdf1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x6896);
        EXPECT(gbc.pc(), 0xbdf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf1), 0x7);
        // 07 02E5
        gbc.setState(0x6e57, 0x8c18, 0xcc50, 0x874e, 0x82aa, 0x28fd, 0x0, 0x0);
        gbc.writeMem(0x6e57, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8c18);
        EXPECT(gbc.pc(), 0x6e58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02E6
        gbc.setState(0x55e0, 0x8911, 0x1fa0, 0x39bd, 0xe251, 0x3233, 0x0, 0x0);
        gbc.writeMem(0x55e0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8911);
        EXPECT(gbc.pc(), 0x55e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02E7
        gbc.setState(0x20cb, 0x11ee, 0x7200, 0x2a31, 0x5879, 0xbd2f, 0x0, 0x1);
        gbc.writeMem(0x20cb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x11ee);
        EXPECT(gbc.pc(), 0x20cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02E8
        gbc.setState(0xc003, 0xadef, 0x54b0, 0x2171, 0x15fa, 0xf1df, 0x1, 0x0);
        gbc.writeMem(0xc003, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xadef);
        EXPECT(gbc.pc(), 0xc004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc003), 0x7);
        // 07 02E9
        gbc.setState(0x1687, 0x51c0, 0x9d90, 0x1c55, 0xbb6c, 0x3dc7, 0x0, 0x1);
        gbc.writeMem(0x1687, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x51c0);
        EXPECT(gbc.pc(), 0x1688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02EA
        gbc.setState(0xc798, 0xb97d, 0x5d90, 0x6b52, 0x1fa3, 0xdc63, 0x1, 0x1);
        gbc.writeMem(0xc798, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb97d);
        EXPECT(gbc.pc(), 0xc799);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc798), 0x7);
        // 07 02EB
        gbc.setState(0x6ba9, 0xa2e6, 0x6630, 0x8d69, 0x887b, 0xbcc3, 0x0, 0x0);
        gbc.writeMem(0x6ba9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa2e6);
        EXPECT(gbc.pc(), 0x6baa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02EC
        gbc.setState(0x1503, 0xa35c, 0xf4b0, 0xcf2c, 0xc2e9, 0xa516, 0x1, 0x0);
        gbc.writeMem(0x1503, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa35c);
        EXPECT(gbc.pc(), 0x1504);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02ED
        gbc.setState(0xb420, 0xeee6, 0x41c0, 0xa550, 0x501c, 0x729b, 0x0, 0x0);
        gbc.writeMem(0xb420, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xeee6);
        EXPECT(gbc.pc(), 0xb421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb420), 0x7);
        // 07 02EE
        gbc.setState(0x1d8, 0x5c75, 0x21e0, 0x8be6, 0x109f, 0xc7b8, 0x0, 0x0);
        gbc.writeMem(0x1d8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5c75);
        EXPECT(gbc.pc(), 0x1d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02EF
        gbc.setState(0xce67, 0x9c32, 0x80e0, 0x9ae9, 0x4a95, 0x6330, 0x0, 0x0);
        gbc.writeMem(0xce67, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x9c32);
        EXPECT(gbc.pc(), 0xce68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce67), 0x7);
        // 07 02F0
        gbc.setState(0x8be3, 0xdcd1, 0x4df0, 0x1ea4, 0xf9ce, 0x1ed0, 0x1, 0x1);
        gbc.writeMem(0x8be3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xdcd1);
        EXPECT(gbc.pc(), 0x8be4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be3), 0x7);
        // 07 02F1
        gbc.setState(0xaad4, 0xb223, 0xadc0, 0xa4d, 0xadb4, 0x46, 0x0, 0x0);
        gbc.writeMem(0xaad4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb223);
        EXPECT(gbc.pc(), 0xaad5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaad4), 0x7);
        // 07 02F2
        gbc.setState(0x333f, 0x9c8e, 0x72f0, 0x808d, 0x118e, 0x1efd, 0x0, 0x1);
        gbc.writeMem(0x333f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x9c8e);
        EXPECT(gbc.pc(), 0x3340);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02F3
        gbc.setState(0xcf8f, 0x5037, 0x5c00, 0x5070, 0xa270, 0x823b, 0x0, 0x1);
        gbc.writeMem(0xcf8f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x5037);
        EXPECT(gbc.pc(), 0xcf90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf8f), 0x7);
        // 07 02F4
        gbc.setState(0xa1a1, 0xff3d, 0x7180, 0xd5c5, 0x6a43, 0x6ac5, 0x1, 0x1);
        gbc.writeMem(0xa1a1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xff3d);
        EXPECT(gbc.pc(), 0xa1a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1a1), 0x7);
        // 07 02F5
        gbc.setState(0xd670, 0x225d, 0x8360, 0x39c6, 0x40e6, 0xf81d, 0x0, 0x1);
        gbc.writeMem(0xd670, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x225d);
        EXPECT(gbc.pc(), 0xd671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd670), 0x7);
        // 07 02F6
        gbc.setState(0x460c, 0x36b1, 0x7550, 0x295, 0xbf1b, 0x9332, 0x1, 0x0);
        gbc.writeMem(0x460c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x36b1);
        EXPECT(gbc.pc(), 0x460d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02F7
        gbc.setState(0x6d2f, 0x9439, 0x3140, 0x6397, 0x7b44, 0xe5ae, 0x1, 0x1);
        gbc.writeMem(0x6d2f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x9439);
        EXPECT(gbc.pc(), 0x6d30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02F9
        gbc.setState(0x25d4, 0x4303, 0xe200, 0x8f1, 0x3bfc, 0xa00f, 0x0, 0x0);
        gbc.writeMem(0x25d4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4303);
        EXPECT(gbc.pc(), 0x25d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02FA
        gbc.setState(0x1162, 0x4147, 0xc9e0, 0xe84d, 0x96c5, 0xd9de, 0x1, 0x1);
        gbc.writeMem(0x1162, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4147);
        EXPECT(gbc.pc(), 0x1163);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 02FB
        gbc.setState(0x7fa7, 0xb398, 0x52f0, 0x4866, 0xf14f, 0x7e42, 0x0, 0x1);
        gbc.writeMem(0x7fa7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xb398);
        EXPECT(gbc.pc(), 0x7fa8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02FC
        gbc.setState(0xb2eb, 0x5e31, 0x1d50, 0x852e, 0x8e93, 0xed2e, 0x0, 0x0);
        gbc.writeMem(0xb2eb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5e31);
        EXPECT(gbc.pc(), 0xb2ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2eb), 0x7);
        // 07 02FD
        gbc.setState(0xc617, 0x6a4d, 0x3c70, 0xcdfe, 0xf318, 0x381d, 0x0, 0x0);
        gbc.writeMem(0xc617, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x6a4d);
        EXPECT(gbc.pc(), 0xc618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc617), 0x7);
        // 07 02FE
        gbc.setState(0x7fd7, 0xba0d, 0x6a60, 0x31b, 0x2f73, 0xdbb8, 0x1, 0x0);
        gbc.writeMem(0x7fd7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xba0d);
        EXPECT(gbc.pc(), 0x7fd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 02FF
        gbc.setState(0xdc31, 0xc5a7, 0x8590, 0x8f11, 0xac2f, 0x117c, 0x1, 0x1);
        gbc.writeMem(0xdc31, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc5a7);
        EXPECT(gbc.pc(), 0xdc32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc31), 0x7);
        // 07 0300
        gbc.setState(0x98a, 0x74d3, 0x67c0, 0x91cd, 0x23ae, 0xa11, 0x1, 0x1);
        gbc.writeMem(0x98a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x74d3);
        EXPECT(gbc.pc(), 0x98b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0301
        gbc.setState(0xd69b, 0xfafa, 0x9410, 0x8a2c, 0xb688, 0x586b, 0x0, 0x1);
        gbc.writeMem(0xd69b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xfafa);
        EXPECT(gbc.pc(), 0xd69c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd69b), 0x7);
        // 07 0302
        gbc.setState(0x8370, 0x53b9, 0x7f70, 0xd294, 0xc98e, 0x7371, 0x1, 0x0);
        gbc.writeMem(0x8370, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x53b9);
        EXPECT(gbc.pc(), 0x8371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8370), 0x7);
        // 07 0304
        gbc.setState(0xb4e1, 0xb59e, 0xbf70, 0x646e, 0xcfa4, 0xda22, 0x1, 0x1);
        gbc.writeMem(0xb4e1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xb59e);
        EXPECT(gbc.pc(), 0xb4e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4e1), 0x7);
        // 07 0305
        gbc.setState(0x6e3c, 0x24d0, 0xb600, 0xb66f, 0xd0ad, 0x840f, 0x0, 0x1);
        gbc.writeMem(0x6e3c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x24d0);
        EXPECT(gbc.pc(), 0x6e3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0306
        gbc.setState(0xc14a, 0x2220, 0x9980, 0x998e, 0xa8fd, 0x123e, 0x0, 0x1);
        gbc.writeMem(0xc14a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2220);
        EXPECT(gbc.pc(), 0xc14b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc14a), 0x7);
        // 07 0307
        gbc.setState(0x6a83, 0x7136, 0x1bb0, 0x348a, 0x61ed, 0xd9f6, 0x0, 0x1);
        gbc.writeMem(0x6a83, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7136);
        EXPECT(gbc.pc(), 0x6a84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0308
        gbc.setState(0x21fa, 0x5bce, 0x9a30, 0x8b52, 0xa07c, 0xc968, 0x0, 0x0);
        gbc.writeMem(0x21fa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5bce);
        EXPECT(gbc.pc(), 0x21fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0309
        gbc.setState(0x181d, 0xf474, 0xc190, 0x5ed6, 0x8b35, 0xf8d6, 0x0, 0x0);
        gbc.writeMem(0x181d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf474);
        EXPECT(gbc.pc(), 0x181e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 030A
        gbc.setState(0x3d11, 0xf20c, 0x4020, 0xbab0, 0x2edb, 0x832f, 0x0, 0x1);
        gbc.writeMem(0x3d11, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf20c);
        EXPECT(gbc.pc(), 0x3d12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 030B
        gbc.setState(0x1bab, 0x9b02, 0xa3f0, 0x77e6, 0xf251, 0x9f1e, 0x1, 0x1);
        gbc.writeMem(0x1bab, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x9b02);
        EXPECT(gbc.pc(), 0x1bac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 030C
        gbc.setState(0x26f8, 0x4e74, 0x9870, 0xc319, 0x35c5, 0x9966, 0x1, 0x1);
        gbc.writeMem(0x26f8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4e74);
        EXPECT(gbc.pc(), 0x26f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 030D
        gbc.setState(0x4540, 0xf72c, 0x5110, 0x8ed1, 0x40c8, 0xe17a, 0x1, 0x1);
        gbc.writeMem(0x4540, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf72c);
        EXPECT(gbc.pc(), 0x4541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 030E
        gbc.setState(0x8642, 0xab4e, 0x74b0, 0x8d4, 0x38ba, 0xc58a, 0x1, 0x0);
        gbc.writeMem(0x8642, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xab4e);
        EXPECT(gbc.pc(), 0x8643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8642), 0x7);
        // 07 030F
        gbc.setState(0x3279, 0x7530, 0xa220, 0x30c9, 0x9fc9, 0x1b9f, 0x0, 0x1);
        gbc.writeMem(0x3279, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x7530);
        EXPECT(gbc.pc(), 0x327a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0310
        gbc.setState(0x3b88, 0x4506, 0x8180, 0x3054, 0x77cf, 0x8f1, 0x0, 0x0);
        gbc.writeMem(0x3b88, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x4506);
        EXPECT(gbc.pc(), 0x3b89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0311
        gbc.setState(0xa409, 0x9139, 0x45c0, 0x46ab, 0x274d, 0x4cb3, 0x0, 0x1);
        gbc.writeMem(0xa409, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9139);
        EXPECT(gbc.pc(), 0xa40a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa409), 0x7);
        // 07 0312
        gbc.setState(0x1198, 0x5e85, 0x6c60, 0x1ae, 0xbb46, 0x66e7, 0x1, 0x0);
        gbc.writeMem(0x1198, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5e85);
        EXPECT(gbc.pc(), 0x1199);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0313
        gbc.setState(0xd916, 0x587, 0x27d0, 0xf936, 0xe0dc, 0x5183, 0x0, 0x0);
        gbc.writeMem(0xd916, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x587);
        EXPECT(gbc.pc(), 0xd917);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd916), 0x7);
        // 07 0314
        gbc.setState(0x1884, 0x6b66, 0xa750, 0x595, 0xd6ab, 0xe57e, 0x1, 0x0);
        gbc.writeMem(0x1884, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6b66);
        EXPECT(gbc.pc(), 0x1885);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0315
        gbc.setState(0x8ba2, 0x7cf9, 0x8a10, 0x2f52, 0xaa7a, 0x9e59, 0x1, 0x1);
        gbc.writeMem(0x8ba2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x7cf9);
        EXPECT(gbc.pc(), 0x8ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ba2), 0x7);
        // 07 0316
        gbc.setState(0x3de3, 0xd8e3, 0x5220, 0x357c, 0x3690, 0x5edf, 0x0, 0x0);
        gbc.writeMem(0x3de3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd8e3);
        EXPECT(gbc.pc(), 0x3de4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0317
        gbc.setState(0xaba3, 0x4ebc, 0xefb0, 0xb2f2, 0x9923, 0xc3d5, 0x0, 0x0);
        gbc.writeMem(0xaba3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4ebc);
        EXPECT(gbc.pc(), 0xaba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaba3), 0x7);
        // 07 0318
        gbc.setState(0x4426, 0xc3ff, 0x9f20, 0x83fb, 0xc881, 0x8435, 0x0, 0x1);
        gbc.writeMem(0x4426, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc3ff);
        EXPECT(gbc.pc(), 0x4427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0319
        gbc.setState(0x6e3f, 0x7d26, 0xe9a0, 0xcc2, 0xa39c, 0xb4d7, 0x1, 0x0);
        gbc.writeMem(0x6e3f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x7d26);
        EXPECT(gbc.pc(), 0x6e40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 031B
        gbc.setState(0xa85b, 0x5e3, 0x5d30, 0x11da, 0x649, 0x2811, 0x1, 0x1);
        gbc.writeMem(0xa85b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5e3);
        EXPECT(gbc.pc(), 0xa85c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85b), 0x7);
        // 07 031C
        gbc.setState(0x1e82, 0xa8ee, 0x8cf0, 0xb4ac, 0xfdfa, 0xdad2, 0x0, 0x1);
        gbc.writeMem(0x1e82, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xa8ee);
        EXPECT(gbc.pc(), 0x1e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 031D
        gbc.setState(0x1d0a, 0x5f80, 0x4100, 0x8d4a, 0x6240, 0x2d94, 0x1, 0x0);
        gbc.writeMem(0x1d0a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5f80);
        EXPECT(gbc.pc(), 0x1d0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 031F
        gbc.setState(0xe608, 0x28c2, 0xe610, 0xb2df, 0x9b5e, 0xa95c, 0x1, 0x1);
        gbc.writeMem(0xe608, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x28c2);
        EXPECT(gbc.pc(), 0xe609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe608), 0x7);
        // 07 0320
        gbc.setState(0x3d3f, 0x10a, 0xbe30, 0x293c, 0xfd77, 0x7a98, 0x0, 0x0);
        gbc.writeMem(0x3d3f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x10a);
        EXPECT(gbc.pc(), 0x3d40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0321
        gbc.setState(0xb6de, 0x6535, 0xa750, 0xe698, 0x8b57, 0x700c, 0x1, 0x0);
        gbc.writeMem(0xb6de, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6535);
        EXPECT(gbc.pc(), 0xb6df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6de), 0x7);
        // 07 0322
        gbc.setState(0x4d0e, 0x770, 0x8f90, 0xf02b, 0x5b27, 0x8076, 0x0, 0x1);
        gbc.writeMem(0x4d0e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x770);
        EXPECT(gbc.pc(), 0x4d0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0324
        gbc.setState(0x24a4, 0xff02, 0xcfb0, 0x4b53, 0x8bc8, 0xa501, 0x0, 0x1);
        gbc.writeMem(0x24a4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xff02);
        EXPECT(gbc.pc(), 0x24a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0325
        gbc.setState(0x381f, 0xe5c1, 0xec00, 0x39a9, 0x8662, 0xdfcb, 0x0, 0x0);
        gbc.writeMem(0x381f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe5c1);
        EXPECT(gbc.pc(), 0x3820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0326
        gbc.setState(0xd54b, 0xa8e0, 0x4f40, 0xb5ce, 0x6146, 0x8fcc, 0x1, 0x1);
        gbc.writeMem(0xd54b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa8e0);
        EXPECT(gbc.pc(), 0xd54c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd54b), 0x7);
        // 07 0327
        gbc.setState(0xb83f, 0xd3ef, 0xbe50, 0xe861, 0x3fcf, 0xb861, 0x0, 0x1);
        gbc.writeMem(0xb83f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xd3ef);
        EXPECT(gbc.pc(), 0xb840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb83f), 0x7);
        // 07 0328
        gbc.setState(0xd616, 0x29, 0xfd10, 0xc91f, 0xaae5, 0x9179, 0x0, 0x0);
        gbc.writeMem(0xd616, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x29);
        EXPECT(gbc.pc(), 0xd617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd616), 0x7);
        // 07 0329
        gbc.setState(0x4a19, 0x74dd, 0xf0f0, 0x33c0, 0x3594, 0x566f, 0x0, 0x0);
        gbc.writeMem(0x4a19, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x74dd);
        EXPECT(gbc.pc(), 0x4a1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 032A
        gbc.setState(0xac89, 0x7f, 0xd8f0, 0xee8, 0x456c, 0xf5d5, 0x1, 0x0);
        gbc.writeMem(0xac89, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7f);
        EXPECT(gbc.pc(), 0xac8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac89), 0x7);
        // 07 032C
        gbc.setState(0x7f46, 0x49d2, 0x60b0, 0xb40e, 0xe536, 0x7209, 0x0, 0x1);
        gbc.writeMem(0x7f46, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x49d2);
        EXPECT(gbc.pc(), 0x7f47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 032D
        gbc.setState(0xeb02, 0x67a3, 0xd3f0, 0xb62c, 0x90d7, 0xef09, 0x0, 0x1);
        gbc.writeMem(0xeb02, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x67a3);
        EXPECT(gbc.pc(), 0xeb03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb02), 0x7);
        // 07 032E
        gbc.setState(0x73c3, 0xb00, 0x5850, 0x50bc, 0x522, 0x1fc, 0x1, 0x1);
        gbc.writeMem(0x73c3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb00);
        EXPECT(gbc.pc(), 0x73c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 032F
        gbc.setState(0x7121, 0x4274, 0x6bb0, 0x7ff9, 0x70e0, 0x9fbb, 0x1, 0x1);
        gbc.writeMem(0x7121, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4274);
        EXPECT(gbc.pc(), 0x7122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0331
        gbc.setState(0x2524, 0x481, 0x98b0, 0xfa2f, 0xcad5, 0x3567, 0x0, 0x0);
        gbc.writeMem(0x2524, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x481);
        EXPECT(gbc.pc(), 0x2525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0332
        gbc.setState(0x2a0a, 0x2a30, 0x9f70, 0xddc1, 0xabac, 0x1554, 0x0, 0x0);
        gbc.writeMem(0x2a0a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2a30);
        EXPECT(gbc.pc(), 0x2a0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0333
        gbc.setState(0xd66e, 0x8997, 0x33f0, 0xcda, 0x1c26, 0x42c6, 0x1, 0x1);
        gbc.writeMem(0xd66e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8997);
        EXPECT(gbc.pc(), 0xd66f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd66e), 0x7);
        // 07 0334
        gbc.setState(0x5ea8, 0xe9f, 0xd6d0, 0xda66, 0xda19, 0x1709, 0x1, 0x0);
        gbc.writeMem(0x5ea8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xe9f);
        EXPECT(gbc.pc(), 0x5ea9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0335
        gbc.setState(0x2f0, 0xf19f, 0xaea0, 0x75b0, 0x331f, 0xa877, 0x0, 0x1);
        gbc.writeMem(0x2f0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf19f);
        EXPECT(gbc.pc(), 0x2f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0336
        gbc.setState(0xbf69, 0xf31b, 0xed70, 0x5d32, 0x32ee, 0x7bd7, 0x1, 0x0);
        gbc.writeMem(0xbf69, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xf31b);
        EXPECT(gbc.pc(), 0xbf6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf69), 0x7);
        // 07 0337
        gbc.setState(0x6970, 0xc7cb, 0xef70, 0x11af, 0xa42a, 0x6222, 0x0, 0x1);
        gbc.writeMem(0x6970, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xc7cb);
        EXPECT(gbc.pc(), 0x6971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0338
        gbc.setState(0x46a6, 0xeaa5, 0x4bb0, 0xd487, 0x139c, 0x18aa, 0x0, 0x1);
        gbc.writeMem(0x46a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xeaa5);
        EXPECT(gbc.pc(), 0x46a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0339
        gbc.setState(0xdd71, 0x5182, 0x9c60, 0xdc3e, 0x1b68, 0x3e93, 0x0, 0x1);
        gbc.writeMem(0xdd71, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x5182);
        EXPECT(gbc.pc(), 0xdd72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd71), 0x7);
        // 07 033A
        gbc.setState(0x8a14, 0xc434, 0xb1b0, 0x7dd8, 0x9fa, 0xe971, 0x0, 0x1);
        gbc.writeMem(0x8a14, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc434);
        EXPECT(gbc.pc(), 0x8a15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a14), 0x7);
        // 07 033B
        gbc.setState(0xbc67, 0x80bb, 0xd060, 0x737d, 0x168c, 0x207b, 0x0, 0x1);
        gbc.writeMem(0xbc67, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x80bb);
        EXPECT(gbc.pc(), 0xbc68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc67), 0x7);
        // 07 033E
        gbc.setState(0x543c, 0xabe4, 0x6c60, 0x2a8a, 0x74ea, 0x6840, 0x0, 0x1);
        gbc.writeMem(0x543c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xabe4);
        EXPECT(gbc.pc(), 0x543d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 033F
        gbc.setState(0x3b13, 0x645, 0xc0c0, 0x6cb6, 0x62be, 0xb4fd, 0x1, 0x0);
        gbc.writeMem(0x3b13, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x645);
        EXPECT(gbc.pc(), 0x3b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0340
        gbc.setState(0xc5b6, 0x40e9, 0xebb0, 0x795d, 0xd553, 0xead5, 0x1, 0x1);
        gbc.writeMem(0xc5b6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x40e9);
        EXPECT(gbc.pc(), 0xc5b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5b6), 0x7);
        // 07 0342
        gbc.setState(0xed60, 0xff8b, 0x7f0, 0x3f13, 0x7b2e, 0x74e9, 0x1, 0x1);
        gbc.writeMem(0xed60, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xff8b);
        EXPECT(gbc.pc(), 0xed61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed60), 0x7);
        // 07 0343
        gbc.setState(0xd662, 0xd8a3, 0x9eb0, 0x8133, 0xa102, 0x4552, 0x0, 0x1);
        gbc.writeMem(0xd662, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd8a3);
        EXPECT(gbc.pc(), 0xd663);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd662), 0x7);
        // 07 0344
        gbc.setState(0x2d21, 0x194a, 0x4e50, 0x7b53, 0x9577, 0xf732, 0x0, 0x1);
        gbc.writeMem(0x2d21, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x194a);
        EXPECT(gbc.pc(), 0x2d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0345
        gbc.setState(0xd81a, 0x262e, 0xcfc0, 0x5595, 0x17ea, 0xb25a, 0x0, 0x0);
        gbc.writeMem(0xd81a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x262e);
        EXPECT(gbc.pc(), 0xd81b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd81a), 0x7);
        // 07 0346
        gbc.setState(0x593f, 0x2bc0, 0x9d50, 0x36b7, 0xf026, 0xbab6, 0x0, 0x0);
        gbc.writeMem(0x593f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2bc0);
        EXPECT(gbc.pc(), 0x5940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0347
        gbc.setState(0xea88, 0x70e4, 0x4350, 0xa113, 0xd3fc, 0x275a, 0x1, 0x0);
        gbc.writeMem(0xea88, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x70e4);
        EXPECT(gbc.pc(), 0xea89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea88), 0x7);
        // 07 0348
        gbc.setState(0x1f8, 0x5f7b, 0xb580, 0x28a6, 0x4784, 0xe4fc, 0x1, 0x1);
        gbc.writeMem(0x1f8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5f7b);
        EXPECT(gbc.pc(), 0x1f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0349
        gbc.setState(0x948d, 0x879a, 0xba10, 0x1a82, 0xceb5, 0xc3bf, 0x1, 0x0);
        gbc.writeMem(0x948d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x879a);
        EXPECT(gbc.pc(), 0x948e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x948d), 0x7);
        // 07 034A
        gbc.setState(0x8b4e, 0xda25, 0xa120, 0x1fb3, 0x4e09, 0xb42d, 0x1, 0x1);
        gbc.writeMem(0x8b4e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xda25);
        EXPECT(gbc.pc(), 0x8b4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b4e), 0x7);
        // 07 034B
        gbc.setState(0x8fa4, 0x9a2d, 0xcbe0, 0xcc56, 0x41e8, 0x47c5, 0x1, 0x1);
        gbc.writeMem(0x8fa4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9a2d);
        EXPECT(gbc.pc(), 0x8fa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa4), 0x7);
        // 07 034C
        gbc.setState(0x4085, 0xaa58, 0xb970, 0x99b2, 0x3d57, 0x3b3a, 0x0, 0x0);
        gbc.writeMem(0x4085, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xaa58);
        EXPECT(gbc.pc(), 0x4086);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 034D
        gbc.setState(0x6a62, 0xcdea, 0x2200, 0x4ec9, 0xc14, 0x3a33, 0x0, 0x0);
        gbc.writeMem(0x6a62, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xcdea);
        EXPECT(gbc.pc(), 0x6a63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 034E
        gbc.setState(0xe173, 0x4b08, 0x31c0, 0x22a8, 0xf08d, 0x703e, 0x0, 0x0);
        gbc.writeMem(0xe173, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4b08);
        EXPECT(gbc.pc(), 0xe174);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe173), 0x7);
        // 07 034F
        gbc.setState(0xb2ce, 0x111, 0x2e90, 0x2456, 0xd74a, 0x856e, 0x0, 0x1);
        gbc.writeMem(0xb2ce, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x111);
        EXPECT(gbc.pc(), 0xb2cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2ce), 0x7);
        // 07 0350
        gbc.setState(0xa7b9, 0x3008, 0x1970, 0xc659, 0x81a6, 0xc7a3, 0x0, 0x1);
        gbc.writeMem(0xa7b9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3008);
        EXPECT(gbc.pc(), 0xa7ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7b9), 0x7);
        // 07 0351
        gbc.setState(0x141c, 0xf14d, 0x3320, 0xe960, 0xcf6, 0x6ac9, 0x1, 0x1);
        gbc.writeMem(0x141c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xf14d);
        EXPECT(gbc.pc(), 0x141d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0352
        gbc.setState(0x8ee2, 0xa4db, 0x3190, 0xa9e3, 0x774, 0x8d91, 0x1, 0x0);
        gbc.writeMem(0x8ee2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xa4db);
        EXPECT(gbc.pc(), 0x8ee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee2), 0x7);
        // 07 0353
        gbc.setState(0xe2f6, 0xb13f, 0xe570, 0x53bf, 0x3c3a, 0x7d17, 0x1, 0x0);
        gbc.writeMem(0xe2f6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb13f);
        EXPECT(gbc.pc(), 0xe2f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2f6), 0x7);
        // 07 0354
        gbc.setState(0x322, 0x272f, 0x3f50, 0xcbce, 0xbf85, 0x3857, 0x0, 0x0);
        gbc.writeMem(0x322, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x272f);
        EXPECT(gbc.pc(), 0x323);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0355
        gbc.setState(0x100c, 0x8442, 0xdf60, 0xe147, 0x5f31, 0xf6e8, 0x1, 0x0);
        gbc.writeMem(0x100c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x8442);
        EXPECT(gbc.pc(), 0x100d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0356
        gbc.setState(0xd1b7, 0x90e7, 0xbc40, 0x4f5e, 0xf8fb, 0x9999, 0x0, 0x1);
        gbc.writeMem(0xd1b7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x90e7);
        EXPECT(gbc.pc(), 0xd1b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1b7), 0x7);
        // 07 0357
        gbc.setState(0x2297, 0x273e, 0x9f70, 0xa11a, 0x7db9, 0x14ba, 0x1, 0x0);
        gbc.writeMem(0x2297, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x273e);
        EXPECT(gbc.pc(), 0x2298);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0358
        gbc.setState(0x4597, 0xf3d4, 0x4e90, 0x32d5, 0x6db4, 0x7392, 0x1, 0x0);
        gbc.writeMem(0x4597, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf3d4);
        EXPECT(gbc.pc(), 0x4598);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 035A
        gbc.setState(0xb01a, 0x6bca, 0xc7a0, 0x7943, 0x655a, 0xae4, 0x1, 0x1);
        gbc.writeMem(0xb01a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x6bca);
        EXPECT(gbc.pc(), 0xb01b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb01a), 0x7);
        // 07 035B
        gbc.setState(0x62b6, 0x7cda, 0xdc60, 0xf59, 0xa497, 0x98a0, 0x0, 0x1);
        gbc.writeMem(0x62b6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7cda);
        EXPECT(gbc.pc(), 0x62b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 035C
        gbc.setState(0x159f, 0xb04, 0x7010, 0x9494, 0xc471, 0xf113, 0x1, 0x0);
        gbc.writeMem(0x159f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xb04);
        EXPECT(gbc.pc(), 0x15a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 035D
        gbc.setState(0x925b, 0x1328, 0xa620, 0x5d92, 0xd868, 0x2b8b, 0x0, 0x1);
        gbc.writeMem(0x925b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x1328);
        EXPECT(gbc.pc(), 0x925c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x925b), 0x7);
        // 07 035E
        gbc.setState(0xbe48, 0x57f1, 0x3ca0, 0x6be7, 0x9e71, 0x2d61, 0x1, 0x1);
        gbc.writeMem(0xbe48, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x57f1);
        EXPECT(gbc.pc(), 0xbe49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe48), 0x7);
        // 07 035F
        gbc.setState(0x1f1c, 0xf1bc, 0xa1f0, 0x630a, 0x78b0, 0x4109, 0x1, 0x0);
        gbc.writeMem(0x1f1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf1bc);
        EXPECT(gbc.pc(), 0x1f1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0360
        gbc.setState(0x93e6, 0xe4f5, 0xc260, 0x19df, 0x1048, 0x9470, 0x1, 0x1);
        gbc.writeMem(0x93e6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xe4f5);
        EXPECT(gbc.pc(), 0x93e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93e6), 0x7);
        // 07 0361
        gbc.setState(0xec00, 0xdec4, 0xbdc0, 0xc73e, 0xec3a, 0x4e8e, 0x0, 0x0);
        gbc.writeMem(0xec00, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xdec4);
        EXPECT(gbc.pc(), 0xec01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec00), 0x7);
        // 07 0362
        gbc.setState(0xe5a9, 0xb007, 0xbe60, 0x2bd0, 0xc3f6, 0x6767, 0x0, 0x0);
        gbc.writeMem(0xe5a9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb007);
        EXPECT(gbc.pc(), 0xe5aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5a9), 0x7);
        // 07 0363
        gbc.setState(0x6f14, 0x414e, 0x8bb0, 0xc3f1, 0x6204, 0x81d0, 0x0, 0x0);
        gbc.writeMem(0x6f14, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x414e);
        EXPECT(gbc.pc(), 0x6f15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0364
        gbc.setState(0x29ac, 0x9f0a, 0xa830, 0x481b, 0x3d9f, 0xbcef, 0x1, 0x0);
        gbc.writeMem(0x29ac, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x9f0a);
        EXPECT(gbc.pc(), 0x29ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0365
        gbc.setState(0x875f, 0xaa4, 0x8a90, 0xaf59, 0xe620, 0xf531, 0x1, 0x0);
        gbc.writeMem(0x875f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xaa4);
        EXPECT(gbc.pc(), 0x8760);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x875f), 0x7);
        // 07 0366
        gbc.setState(0xa4da, 0x23af, 0xadf0, 0x25, 0xb18c, 0xc628, 0x1, 0x1);
        gbc.writeMem(0xa4da, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x23af);
        EXPECT(gbc.pc(), 0xa4db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4da), 0x7);
        // 07 0367
        gbc.setState(0x36d7, 0xfd42, 0x6170, 0x503b, 0xe442, 0xa5f2, 0x0, 0x0);
        gbc.writeMem(0x36d7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xfd42);
        EXPECT(gbc.pc(), 0x36d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0368
        gbc.setState(0xd892, 0xdcfe, 0xa2d0, 0xae2c, 0x4667, 0x2e7c, 0x0, 0x0);
        gbc.writeMem(0xd892, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdcfe);
        EXPECT(gbc.pc(), 0xd893);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd892), 0x7);
        // 07 0369
        gbc.setState(0xbb80, 0x2769, 0xee80, 0x2237, 0xa0e2, 0x78f, 0x1, 0x0);
        gbc.writeMem(0xbb80, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2769);
        EXPECT(gbc.pc(), 0xbb81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb80), 0x7);
        // 07 036A
        gbc.setState(0x6135, 0x9b8c, 0xd090, 0x7989, 0x2457, 0x832b, 0x1, 0x0);
        gbc.writeMem(0x6135, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9b8c);
        EXPECT(gbc.pc(), 0x6136);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 036B
        gbc.setState(0x540e, 0x28c6, 0xe210, 0xb90f, 0xda3b, 0xd21b, 0x0, 0x1);
        gbc.writeMem(0x540e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x28c6);
        EXPECT(gbc.pc(), 0x540f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 036C
        gbc.setState(0x3eee, 0xbfc0, 0x2ed0, 0x69f2, 0x4471, 0x9ebb, 0x0, 0x1);
        gbc.writeMem(0x3eee, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xbfc0);
        EXPECT(gbc.pc(), 0x3eef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 036D
        gbc.setState(0x1f31, 0xba33, 0x5f50, 0xa57f, 0x83bb, 0x1f67, 0x0, 0x1);
        gbc.writeMem(0x1f31, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xba33);
        EXPECT(gbc.pc(), 0x1f32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 036E
        gbc.setState(0x3fbf, 0x1692, 0xae20, 0xe450, 0xa9a9, 0xa95b, 0x0, 0x1);
        gbc.writeMem(0x3fbf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x1692);
        EXPECT(gbc.pc(), 0x3fc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 036F
        gbc.setState(0xed6a, 0x7b2e, 0xf290, 0x2a37, 0x204b, 0x6a8, 0x1, 0x0);
        gbc.writeMem(0xed6a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7b2e);
        EXPECT(gbc.pc(), 0xed6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed6a), 0x7);
        // 07 0370
        gbc.setState(0x9229, 0x9568, 0x1710, 0xb77b, 0x831a, 0xdd10, 0x1, 0x1);
        gbc.writeMem(0x9229, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x9568);
        EXPECT(gbc.pc(), 0x922a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9229), 0x7);
        // 07 0371
        gbc.setState(0xb82a, 0x5699, 0x4960, 0xe584, 0x3d99, 0x615f, 0x1, 0x1);
        gbc.writeMem(0xb82a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x5699);
        EXPECT(gbc.pc(), 0xb82b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb82a), 0x7);
        // 07 0372
        gbc.setState(0xd89b, 0xe7d1, 0xed30, 0xe58a, 0x452c, 0xae2, 0x0, 0x0);
        gbc.writeMem(0xd89b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe7d1);
        EXPECT(gbc.pc(), 0xd89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd89b), 0x7);
        // 07 0373
        gbc.setState(0x46fa, 0x302d, 0xd1e0, 0x2eab, 0xa599, 0x279f, 0x1, 0x0);
        gbc.writeMem(0x46fa, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x302d);
        EXPECT(gbc.pc(), 0x46fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0374
        gbc.setState(0x97e3, 0xd3a1, 0xc0e0, 0xf0c5, 0x8989, 0x2be1, 0x1, 0x1);
        gbc.writeMem(0x97e3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xd3a1);
        EXPECT(gbc.pc(), 0x97e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e3), 0x7);
        // 07 0375
        gbc.setState(0xa0a1, 0x5036, 0x69f0, 0x88ca, 0xd895, 0xb39e, 0x1, 0x1);
        gbc.writeMem(0xa0a1, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5036);
        EXPECT(gbc.pc(), 0xa0a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a1), 0x7);
        // 07 0376
        gbc.setState(0x42c2, 0x1aa9, 0x7550, 0xd2ba, 0x42f1, 0xa36d, 0x0, 0x1);
        gbc.writeMem(0x42c2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1aa9);
        EXPECT(gbc.pc(), 0x42c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0377
        gbc.setState(0x7564, 0x86f0, 0xf5e0, 0x6b05, 0xa407, 0x17ff, 0x1, 0x0);
        gbc.writeMem(0x7564, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x86f0);
        EXPECT(gbc.pc(), 0x7565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0378
        gbc.setState(0xad24, 0x8a8b, 0xb040, 0x7d5, 0x4c78, 0xd3f0, 0x1, 0x0);
        gbc.writeMem(0xad24, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8a8b);
        EXPECT(gbc.pc(), 0xad25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad24), 0x7);
        // 07 0379
        gbc.setState(0xd3fd, 0x87ab, 0x8ce0, 0xd454, 0x371d, 0x4468, 0x0, 0x1);
        gbc.writeMem(0xd3fd, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x87ab);
        EXPECT(gbc.pc(), 0xd3fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3fd), 0x7);
        // 07 037A
        gbc.setState(0xde85, 0x6d1d, 0xf9d0, 0x680b, 0xec87, 0x18e7, 0x1, 0x1);
        gbc.writeMem(0xde85, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6d1d);
        EXPECT(gbc.pc(), 0xde86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde85), 0x7);
        // 07 037B
        gbc.setState(0x513f, 0x8a26, 0xcff0, 0xb194, 0xf1d2, 0x7f3c, 0x0, 0x0);
        gbc.writeMem(0x513f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8a26);
        EXPECT(gbc.pc(), 0x5140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 037C
        gbc.setState(0x66a6, 0x3f3e, 0x3150, 0xa71a, 0xd433, 0x6205, 0x0, 0x1);
        gbc.writeMem(0x66a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3f3e);
        EXPECT(gbc.pc(), 0x66a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 037D
        gbc.setState(0x4b43, 0xc49b, 0xe2d0, 0x3ba0, 0xd723, 0x2db3, 0x0, 0x1);
        gbc.writeMem(0x4b43, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc49b);
        EXPECT(gbc.pc(), 0x4b44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 037F
        gbc.setState(0xbad2, 0x6061, 0x2080, 0xbfb0, 0xda78, 0x3390, 0x1, 0x1);
        gbc.writeMem(0xbad2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x6061);
        EXPECT(gbc.pc(), 0xbad3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad2), 0x7);
        // 07 0380
        gbc.setState(0xa4c7, 0x9f30, 0xc980, 0x2c63, 0xbeac, 0x3aa0, 0x0, 0x1);
        gbc.writeMem(0xa4c7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x9f30);
        EXPECT(gbc.pc(), 0xa4c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4c7), 0x7);
        // 07 0381
        gbc.setState(0x360b, 0x3e3d, 0xc000, 0x554b, 0x8ab6, 0xdb81, 0x1, 0x0);
        gbc.writeMem(0x360b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3e3d);
        EXPECT(gbc.pc(), 0x360c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0382
        gbc.setState(0xfa3, 0x2b11, 0x1390, 0xbb45, 0xd3d5, 0x85b6, 0x0, 0x1);
        gbc.writeMem(0xfa3, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2b11);
        EXPECT(gbc.pc(), 0xfa4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0383
        gbc.setState(0xab5d, 0x6775, 0xc040, 0x843a, 0xd33d, 0x5884, 0x1, 0x0);
        gbc.writeMem(0xab5d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6775);
        EXPECT(gbc.pc(), 0xab5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab5d), 0x7);
        // 07 0384
        gbc.setState(0x5e4b, 0x7ed5, 0x1000, 0x3d, 0x9adb, 0x3eed, 0x0, 0x0);
        gbc.writeMem(0x5e4b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7ed5);
        EXPECT(gbc.pc(), 0x5e4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0385
        gbc.setState(0xe031, 0x5792, 0xc3b0, 0x6bdc, 0xda61, 0x5537, 0x0, 0x1);
        gbc.writeMem(0xe031, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5792);
        EXPECT(gbc.pc(), 0xe032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe031), 0x7);
        // 07 0387
        gbc.setState(0x8e97, 0xf3da, 0xcbb0, 0x20f9, 0xaee1, 0xbadf, 0x1, 0x0);
        gbc.writeMem(0x8e97, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf3da);
        EXPECT(gbc.pc(), 0x8e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e97), 0x7);
        // 07 0388
        gbc.setState(0x9568, 0xc9aa, 0x7030, 0xd9a4, 0x69c8, 0xb10b, 0x0, 0x0);
        gbc.writeMem(0x9568, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc9aa);
        EXPECT(gbc.pc(), 0x9569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9568), 0x7);
        // 07 0389
        gbc.setState(0x3390, 0xd2c7, 0xdc90, 0xaf61, 0x273a, 0x4e0c, 0x0, 0x1);
        gbc.writeMem(0x3390, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd2c7);
        EXPECT(gbc.pc(), 0x3391);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 038A
        gbc.setState(0x203, 0xe187, 0x6080, 0x5cce, 0xf9f9, 0xf594, 0x1, 0x1);
        gbc.writeMem(0x203, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe187);
        EXPECT(gbc.pc(), 0x204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 038B
        gbc.setState(0x9ecb, 0x2cda, 0xf270, 0x3868, 0x1d14, 0xb868, 0x1, 0x0);
        gbc.writeMem(0x9ecb, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2cda);
        EXPECT(gbc.pc(), 0x9ecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ecb), 0x7);
        // 07 038C
        gbc.setState(0xc3d0, 0x1bc6, 0x26a0, 0xc0cf, 0x8aec, 0xe5d2, 0x1, 0x1);
        gbc.writeMem(0xc3d0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1bc6);
        EXPECT(gbc.pc(), 0xc3d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3d0), 0x7);
        // 07 038D
        gbc.setState(0xc0a9, 0xd427, 0xd2a0, 0xae7e, 0x26aa, 0xccec, 0x1, 0x0);
        gbc.writeMem(0xc0a9, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd427);
        EXPECT(gbc.pc(), 0xc0aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a9), 0x7);
        // 07 038E
        gbc.setState(0xd2d6, 0x5e4e, 0x9040, 0x7418, 0x4703, 0xbc0a, 0x1, 0x1);
        gbc.writeMem(0xd2d6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x5e4e);
        EXPECT(gbc.pc(), 0xd2d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2d6), 0x7);
        // 07 038F
        gbc.setState(0x1797, 0x5d56, 0x8740, 0x79d4, 0xc923, 0x91c8, 0x0, 0x0);
        gbc.writeMem(0x1797, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x5d56);
        EXPECT(gbc.pc(), 0x1798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0390
        gbc.setState(0x772c, 0x9666, 0xd140, 0x9ec3, 0x92c8, 0x7370, 0x1, 0x1);
        gbc.writeMem(0x772c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9666);
        EXPECT(gbc.pc(), 0x772d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0391
        gbc.setState(0x3508, 0x3812, 0x9d20, 0x41fc, 0x9bf8, 0xef9d, 0x1, 0x1);
        gbc.writeMem(0x3508, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x3812);
        EXPECT(gbc.pc(), 0x3509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0392
        gbc.setState(0xacff, 0x8d29, 0xf530, 0x17d7, 0x2aa, 0x8f8b, 0x0, 0x0);
        gbc.writeMem(0xacff, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x8d29);
        EXPECT(gbc.pc(), 0xad00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacff), 0x7);
        // 07 0393
        gbc.setState(0xbc0, 0xe295, 0x730, 0x6b7c, 0x8536, 0x69d9, 0x1, 0x1);
        gbc.writeMem(0xbc0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe295);
        EXPECT(gbc.pc(), 0xbc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 0394
        gbc.setState(0x89d8, 0xd7de, 0xaa0, 0x1b80, 0xd9d9, 0x6e4a, 0x0, 0x1);
        gbc.writeMem(0x89d8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd7de);
        EXPECT(gbc.pc(), 0x89d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89d8), 0x7);
        // 07 0395
        gbc.setState(0x7411, 0xbc05, 0x88b0, 0xe274, 0xeabf, 0x273e, 0x0, 0x1);
        gbc.writeMem(0x7411, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbc05);
        EXPECT(gbc.pc(), 0x7412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0396
        gbc.setState(0x12c5, 0xc563, 0xd0a0, 0x334, 0x161f, 0xe846, 0x0, 0x1);
        gbc.writeMem(0x12c5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xc563);
        EXPECT(gbc.pc(), 0x12c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 0397
        gbc.setState(0xd613, 0x6493, 0xdaa0, 0xb9c, 0xad7b, 0xd046, 0x0, 0x1);
        gbc.writeMem(0xd613, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6493);
        EXPECT(gbc.pc(), 0xd614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd613), 0x7);
        // 07 0398
        gbc.setState(0xcd0f, 0xad43, 0x20, 0x857e, 0x3902, 0xdf45, 0x1, 0x1);
        gbc.writeMem(0xcd0f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xad43);
        EXPECT(gbc.pc(), 0xcd10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd0f), 0x7);
        // 07 039A
        gbc.setState(0x21e5, 0x826e, 0xd250, 0x3b7f, 0x74b6, 0xbb08, 0x0, 0x0);
        gbc.writeMem(0x21e5, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x826e);
        EXPECT(gbc.pc(), 0x21e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 039B
        gbc.setState(0x9300, 0x91b4, 0x4460, 0xa787, 0x1a0, 0x1e8e, 0x0, 0x0);
        gbc.writeMem(0x9300, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x91b4);
        EXPECT(gbc.pc(), 0x9301);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9300), 0x7);
        // 07 039C
        gbc.setState(0x5d7f, 0x487e, 0xb7c0, 0xaca6, 0x545c, 0x63f4, 0x0, 0x1);
        gbc.writeMem(0x5d7f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x487e);
        EXPECT(gbc.pc(), 0x5d80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 039D
        gbc.setState(0x2a5f, 0x6423, 0xd2c0, 0x89e, 0x1a3b, 0x281c, 0x0, 0x0);
        gbc.writeMem(0x2a5f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6423);
        EXPECT(gbc.pc(), 0x2a60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 039E
        gbc.setState(0xe723, 0x56b, 0x9f00, 0x5c32, 0xae97, 0xba31, 0x1, 0x0);
        gbc.writeMem(0xe723, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x56b);
        EXPECT(gbc.pc(), 0xe724);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe723), 0x7);
        // 07 039F
        gbc.setState(0x501b, 0xe071, 0xb020, 0x9299, 0xf251, 0x2dd5, 0x1, 0x1);
        gbc.writeMem(0x501b, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe071);
        EXPECT(gbc.pc(), 0x501c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03A0
        gbc.setState(0xc6ba, 0x402b, 0x9080, 0x8f6e, 0x1f52, 0x8545, 0x0, 0x0);
        gbc.writeMem(0xc6ba, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x402b);
        EXPECT(gbc.pc(), 0xc6bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6ba), 0x7);
        // 07 03A1
        gbc.setState(0x4e3a, 0x29f2, 0x4360, 0x5201, 0xb982, 0x566f, 0x0, 0x0);
        gbc.writeMem(0x4e3a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x29f2);
        EXPECT(gbc.pc(), 0x4e3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03A2
        gbc.setState(0x7101, 0x5b6b, 0xb080, 0x3553, 0xee69, 0xa085, 0x0, 0x0);
        gbc.writeMem(0x7101, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5b6b);
        EXPECT(gbc.pc(), 0x7102);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03A3
        gbc.setState(0x62a2, 0x5f00, 0xf200, 0x10a0, 0xad1d, 0xa802, 0x0, 0x0);
        gbc.writeMem(0x62a2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5f00);
        EXPECT(gbc.pc(), 0x62a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03A4
        gbc.setState(0xd546, 0x47ef, 0xdf20, 0xa32d, 0xd00e, 0xffff, 0x0, 0x1);
        gbc.writeMem(0xd546, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x47ef);
        EXPECT(gbc.pc(), 0xd547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd546), 0x7);
        // 07 03A5
        gbc.setState(0xa40d, 0x30c1, 0x8cf0, 0x22bc, 0x91c, 0xb670, 0x1, 0x0);
        gbc.writeMem(0xa40d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x30c1);
        EXPECT(gbc.pc(), 0xa40e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa40d), 0x7);
        // 07 03A6
        gbc.setState(0x89c, 0xb571, 0x8af0, 0x8264, 0x2e35, 0x8d28, 0x1, 0x0);
        gbc.writeMem(0x89c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb571);
        EXPECT(gbc.pc(), 0x89d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03A7
        gbc.setState(0x5942, 0x2871, 0x9b20, 0x2e10, 0xf2b0, 0xae12, 0x0, 0x1);
        gbc.writeMem(0x5942, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x2871);
        EXPECT(gbc.pc(), 0x5943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03A8
        gbc.setState(0x3d9c, 0xeac4, 0x2530, 0x79ee, 0x402f, 0xb11, 0x1, 0x0);
        gbc.writeMem(0x3d9c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xeac4);
        EXPECT(gbc.pc(), 0x3d9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03A9
        gbc.setState(0x440, 0x527e, 0xdd40, 0x1198, 0xebee, 0x167d, 0x1, 0x0);
        gbc.writeMem(0x440, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x527e);
        EXPECT(gbc.pc(), 0x441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03AA
        gbc.setState(0x4c02, 0xd80c, 0x6c70, 0xedbe, 0xfc62, 0x6016, 0x0, 0x0);
        gbc.writeMem(0x4c02, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd80c);
        EXPECT(gbc.pc(), 0x4c03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03AB
        gbc.setState(0x1c1c, 0x361f, 0x4f90, 0xcd57, 0x73ae, 0xc02d, 0x0, 0x1);
        gbc.writeMem(0x1c1c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x361f);
        EXPECT(gbc.pc(), 0x1c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03AC
        gbc.setState(0x610, 0x2fc0, 0xfd50, 0x7c60, 0xf2e4, 0x9ac5, 0x0, 0x1);
        gbc.writeMem(0x610, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2fc0);
        EXPECT(gbc.pc(), 0x611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03AD
        gbc.setState(0xe382, 0x4ef1, 0xac10, 0xc11d, 0xe7eb, 0x16ad, 0x1, 0x0);
        gbc.writeMem(0xe382, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x4ef1);
        EXPECT(gbc.pc(), 0xe383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe382), 0x7);
        // 07 03AF
        gbc.setState(0xe337, 0xe4aa, 0xb150, 0x525f, 0x1382, 0xaa3c, 0x0, 0x1);
        gbc.writeMem(0xe337, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe4aa);
        EXPECT(gbc.pc(), 0xe338);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe337), 0x7);
        // 07 03B0
        gbc.setState(0x8c0a, 0x4da9, 0x95b0, 0xc2d1, 0x1473, 0x99d9, 0x0, 0x1);
        gbc.writeMem(0x8c0a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4da9);
        EXPECT(gbc.pc(), 0x8c0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c0a), 0x7);
        // 07 03B1
        gbc.setState(0x5a02, 0xb4d0, 0x8f00, 0x66c0, 0x2822, 0xffcc, 0x1, 0x0);
        gbc.writeMem(0x5a02, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb4d0);
        EXPECT(gbc.pc(), 0x5a03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03B2
        gbc.setState(0x8a28, 0xc7a9, 0x8f30, 0x4e7c, 0x5320, 0xd578, 0x0, 0x0);
        gbc.writeMem(0x8a28, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc7a9);
        EXPECT(gbc.pc(), 0x8a29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a28), 0x7);
        // 07 03B3
        gbc.setState(0x2f18, 0xcf41, 0x55d0, 0x2b6, 0xe5a1, 0xcfd3, 0x0, 0x1);
        gbc.writeMem(0x2f18, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xcf41);
        EXPECT(gbc.pc(), 0x2f19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03B4
        gbc.setState(0x7e48, 0xe64b, 0x26b0, 0x80ab, 0x4b51, 0xd8ee, 0x1, 0x0);
        gbc.writeMem(0x7e48, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xe64b);
        EXPECT(gbc.pc(), 0x7e49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03B5
        gbc.setState(0xc939, 0x87c0, 0xbe80, 0x8047, 0xcca0, 0xe35, 0x0, 0x0);
        gbc.writeMem(0xc939, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x87c0);
        EXPECT(gbc.pc(), 0xc93a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc939), 0x7);
        // 07 03B6
        gbc.setState(0x7e10, 0xbfa2, 0xd9f0, 0xa015, 0xc058, 0x8304, 0x0, 0x0);
        gbc.writeMem(0x7e10, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xbfa2);
        EXPECT(gbc.pc(), 0x7e11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03B7
        gbc.setState(0x995c, 0x20d7, 0xac90, 0x2b33, 0xaf86, 0xbdfc, 0x1, 0x1);
        gbc.writeMem(0x995c, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x20d7);
        EXPECT(gbc.pc(), 0x995d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x995c), 0x7);
        // 07 03B8
        gbc.setState(0x27b7, 0x885a, 0xd3c0, 0xaea5, 0x974b, 0x9396, 0x0, 0x0);
        gbc.writeMem(0x27b7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x885a);
        EXPECT(gbc.pc(), 0x27b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03B9
        gbc.setState(0x915e, 0x6c0, 0xdac0, 0x6db8, 0x17a7, 0xa3a4, 0x0, 0x1);
        gbc.writeMem(0x915e, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6c0);
        EXPECT(gbc.pc(), 0x915f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915e), 0x7);
        // 07 03BA
        gbc.setState(0xa3d4, 0x3bc0, 0x4df0, 0xfd2f, 0x2060, 0xa0d0, 0x0, 0x1);
        gbc.writeMem(0xa3d4, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3bc0);
        EXPECT(gbc.pc(), 0xa3d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3d4), 0x7);
        // 07 03BB
        gbc.setState(0xcb7, 0xbfaa, 0xbb50, 0x9235, 0x4e1f, 0xe574, 0x0, 0x1);
        gbc.writeMem(0xcb7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xbfaa);
        EXPECT(gbc.pc(), 0xcb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03BC
        gbc.setState(0xd5fe, 0x9308, 0x5ae0, 0xe0dd, 0x554e, 0x24ce, 0x0, 0x0);
        gbc.writeMem(0xd5fe, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9308);
        EXPECT(gbc.pc(), 0xd5ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5fe), 0x7);
        // 07 03BD
        gbc.setState(0x4152, 0xe690, 0x8280, 0x10bd, 0xc423, 0xc96a, 0x0, 0x0);
        gbc.writeMem(0x4152, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe690);
        EXPECT(gbc.pc(), 0x4153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03BE
        gbc.setState(0xa4d6, 0x7921, 0x5b60, 0x2f9d, 0x85a1, 0x9a6d, 0x0, 0x1);
        gbc.writeMem(0xa4d6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7921);
        EXPECT(gbc.pc(), 0xa4d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4d6), 0x7);
        // 07 03BF
        gbc.setState(0x929a, 0xc799, 0x1780, 0x3350, 0xd228, 0x3d79, 0x0, 0x1);
        gbc.writeMem(0x929a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xc799);
        EXPECT(gbc.pc(), 0x929b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x929a), 0x7);
        // 07 03C0
        gbc.setState(0xc309, 0x674b, 0xff60, 0xdbc8, 0xdc13, 0xdbc6, 0x1, 0x0);
        gbc.writeMem(0xc309, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x674b);
        EXPECT(gbc.pc(), 0xc30a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc309), 0x7);
        // 07 03C1
        gbc.setState(0xa9a0, 0xe105, 0x8d00, 0x934d, 0xd4c3, 0xa7a, 0x0, 0x0);
        gbc.writeMem(0xa9a0, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe105);
        EXPECT(gbc.pc(), 0xa9a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a0), 0x7);
        // 07 03C2
        gbc.setState(0x7e2d, 0x1b71, 0xba20, 0xa593, 0x3270, 0xc66f, 0x1, 0x1);
        gbc.writeMem(0x7e2d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1b71);
        EXPECT(gbc.pc(), 0x7e2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03C3
        gbc.setState(0x7083, 0x1059, 0xea50, 0xc03, 0xd3b0, 0x823f, 0x0, 0x0);
        gbc.writeMem(0x7083, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1059);
        EXPECT(gbc.pc(), 0x7084);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03C4
        gbc.setState(0x4813, 0xade3, 0x1330, 0x6cea, 0x9e91, 0xec48, 0x1, 0x1);
        gbc.writeMem(0x4813, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xade3);
        EXPECT(gbc.pc(), 0x4814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03C5
        gbc.setState(0x8810, 0x3a60, 0xb7d0, 0x2810, 0x9dad, 0xf7af, 0x1, 0x0);
        gbc.writeMem(0x8810, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0x8811);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8810), 0x7);
        // 07 03C6
        gbc.setState(0x6cff, 0xa1b0, 0x2080, 0x7a93, 0x14a1, 0xfcaf, 0x1, 0x0);
        gbc.writeMem(0x6cff, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xa1b0);
        EXPECT(gbc.pc(), 0x6d00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03C7
        gbc.setState(0xcc61, 0x3149, 0xc70, 0x8449, 0x32c6, 0x397d, 0x0, 0x0);
        gbc.writeMem(0xcc61, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x3149);
        EXPECT(gbc.pc(), 0xcc62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc61), 0x7);
        // 07 03C8
        gbc.setState(0x5b5a, 0x6b42, 0xcde0, 0xa883, 0xbda2, 0x759f, 0x0, 0x1);
        gbc.writeMem(0x5b5a, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6b42);
        EXPECT(gbc.pc(), 0x5b5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03CA
        gbc.setState(0x7c62, 0x4765, 0x5040, 0xf324, 0x4dc1, 0x3005, 0x1, 0x0);
        gbc.writeMem(0x7c62, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x4765);
        EXPECT(gbc.pc(), 0x7c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03CB
        gbc.setState(0x952d, 0x33, 0xe9f0, 0x7b0e, 0x774a, 0x9e6f, 0x0, 0x1);
        gbc.writeMem(0x952d, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x33);
        EXPECT(gbc.pc(), 0x952e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x952d), 0x7);
        // 07 03CC
        gbc.setState(0xed58, 0x8c60, 0x5150, 0x33c9, 0xa01e, 0x5ac0, 0x0, 0x0);
        gbc.writeMem(0xed58, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8c60);
        EXPECT(gbc.pc(), 0xed59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed58), 0x7);
        // 07 03CD
        gbc.setState(0xbbf6, 0xaae2, 0x3550, 0x6b0c, 0x2380, 0xbed, 0x0, 0x1);
        gbc.writeMem(0xbbf6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xaae2);
        EXPECT(gbc.pc(), 0xbbf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbf6), 0x7);
        // 07 03CE
        gbc.setState(0xbef8, 0x501b, 0xc0e0, 0xdded, 0x6def, 0xe49c, 0x0, 0x0);
        gbc.writeMem(0xbef8, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x501b);
        EXPECT(gbc.pc(), 0xbef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef8), 0x7);
        // 07 03CF
        gbc.setState(0x1045, 0x52fc, 0x3550, 0xdac2, 0x998b, 0x4f3c, 0x0, 0x1);
        gbc.writeMem(0x1045, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x52fc);
        EXPECT(gbc.pc(), 0x1046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03D0
        gbc.setState(0xc3ba, 0x8155, 0xa730, 0xb1fe, 0xb7c5, 0x5492, 0x0, 0x0);
        gbc.writeMem(0xc3ba, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8155);
        EXPECT(gbc.pc(), 0xc3bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3ba), 0x7);
        // 07 03D2
        gbc.setState(0xef08, 0x7fe4, 0x3f40, 0xf4fd, 0x888b, 0xd968, 0x1, 0x1);
        gbc.writeMem(0xef08, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7fe4);
        EXPECT(gbc.pc(), 0xef09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef08), 0x7);
        // 07 03D3
        gbc.setState(0xd2a7, 0xefb8, 0xc060, 0xa549, 0xed95, 0xedb7, 0x1, 0x1);
        gbc.writeMem(0xd2a7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xefb8);
        EXPECT(gbc.pc(), 0xd2a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a7), 0x7);
        // 07 03D4
        gbc.setState(0x95a6, 0x2532, 0x340, 0xa863, 0x8e92, 0x74bb, 0x0, 0x0);
        gbc.writeMem(0x95a6, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2532);
        EXPECT(gbc.pc(), 0x95a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a6), 0x7);
        // 07 03D5
        gbc.setState(0xb885, 0x69b5, 0x4180, 0x881e, 0xe2ee, 0x64f7, 0x1, 0x1);
        gbc.writeMem(0xb885, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x69b5);
        EXPECT(gbc.pc(), 0xb886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb885), 0x7);
        // 07 03D6
        gbc.setState(0xb980, 0x9ed2, 0x5940, 0xbac9, 0x60b6, 0xb99f, 0x1, 0x1);
        gbc.writeMem(0xb980, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9ed2);
        EXPECT(gbc.pc(), 0xb981);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb980), 0x7);
        // 07 03D7
        gbc.setState(0x3737, 0xb8f9, 0x48f0, 0xe299, 0x863c, 0xcbdb, 0x1, 0x0);
        gbc.writeMem(0x3737, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xb8f9);
        EXPECT(gbc.pc(), 0x3738);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03D8
        gbc.setState(0xbd9f, 0xd95d, 0x8c00, 0xc463, 0xe41f, 0x203d, 0x0, 0x1);
        gbc.writeMem(0xbd9f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xd95d);
        EXPECT(gbc.pc(), 0xbda0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd9f), 0x7);
        // 07 03D9
        gbc.setState(0xef0f, 0x4925, 0xa0f0, 0x18bf, 0x404a, 0xb365, 0x1, 0x0);
        gbc.writeMem(0xef0f, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x4925);
        EXPECT(gbc.pc(), 0xef10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef0f), 0x7);
        // 07 03DA
        gbc.setState(0xe357, 0xf66d, 0x4da0, 0xf53, 0x2b6b, 0xc8b0, 0x0, 0x0);
        gbc.writeMem(0xe357, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf66d);
        EXPECT(gbc.pc(), 0xe358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe357), 0x7);
        // 07 03DD
        gbc.setState(0xc8a7, 0x5bb3, 0x6a00, 0x32c1, 0x2e47, 0xc975, 0x1, 0x1);
        gbc.writeMem(0xc8a7, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5bb3);
        EXPECT(gbc.pc(), 0xc8a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a7), 0x7);
        // 07 03DE
        gbc.setState(0xbee2, 0x1755, 0x2f60, 0xa89d, 0xaac7, 0xec19, 0x0, 0x0);
        gbc.writeMem(0xbee2, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x1755);
        EXPECT(gbc.pc(), 0xbee3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbee2), 0x7);
        // 07 03DF
        gbc.setState(0xe003, 0x45e7, 0x4d0, 0xaaed, 0xdcc5, 0x601e, 0x1, 0x0);
        gbc.writeMem(0xe003, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x45e7);
        EXPECT(gbc.pc(), 0xe004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe003), 0x7);
        // 07 03E1
        gbc.setState(0x3daf, 0x5e1e, 0x6690, 0xfc4d, 0x2ac7, 0x8ea8, 0x0, 0x0);
        gbc.writeMem(0x3daf, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x5e1e);
        EXPECT(gbc.pc(), 0x3db0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03E2
        gbc.setState(0x6792, 0xd164, 0x50e0, 0xbc93, 0x29f4, 0xa3de, 0x0, 0x1);
        gbc.writeMem(0x6792, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd164);
        EXPECT(gbc.pc(), 0x6793);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03E3
        gbc.setState(0x60bc, 0xb59f, 0x0, 0xc589, 0xa700, 0x3196, 0x0, 0x1);
        gbc.writeMem(0x60bc, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb59f);
        EXPECT(gbc.pc(), 0x60bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 07 03E4
        gbc.setState(0x2f66, 0x4fd1, 0x90e0, 0xde9, 0x958b, 0x8017, 0x0, 0x1);
        gbc.writeMem(0x2f66, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4fd1);
        EXPECT(gbc.pc(), 0x2f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 07 03E7
        gbc.setState(0x63ed, 0x871c, 0xbf30, 0xe754, 0x7f24, 0xfd58, 0x1, 0x1);
        gbc.writeMem(0x63ed, { 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x871c);
        EXPECT(gbc.pc(), 0x63ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
    }
}
#endif
